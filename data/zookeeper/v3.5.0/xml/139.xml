<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:46:53 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/ZOOKEEPER-139/ZOOKEEPER-139.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[ZOOKEEPER-139] Create Enums for WatcherEvent&apos;s KeeperState and EventType</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-139</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description></description>
                <environment></environment>
        <key id="12404142">ZOOKEEPER-139</key>
            <summary>Create Enums for WatcherEvent&apos;s KeeperState and EventType</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12397965">ZOOKEEPER-7</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jghoman">Jakob Homan</assignee>
                                    <reporter username="jghoman">Jakob Homan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Sep 2008 03:36:25 +0100</created>
                <updated>Sun, 26 Oct 2008 01:10:42 +0000</updated>
                            <resolved>Thu, 25 Sep 2008 23:25:48 +0100</resolved>
                                    <version>3.0.0</version>
                                    <fixVersion>3.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12630075" author="jghoman" created="Thu, 11 Sep 2008 03:50:58 +0100"  >&lt;p&gt;The named constants in the EventWatcher for KeeperState and EventType are particularly confusing.  I&apos;ve created enums for them, which simplifies and clarifies the client-side code quite a bit.  As usual, the rub is with Jute and enums.  Since there is no way to use enums in Jute, I changed the original generated WatcherEvent class to a wrapper for these values, which are wrapped and unwrapped right before/after transmission from server/client.  The actual new WatcherEvent class is used in all interactions in the code.  If at some point, a different serialization protocol is used that supports enums, the wrapper class can be disposed of.&lt;/p&gt;

&lt;p&gt;This patch:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Creates enums for KeeperState and EventType that were previously named constants in Watcher.java&lt;/li&gt;
	&lt;li&gt;Provides for conversion of these enums to/from integer values for sending over the wire&lt;/li&gt;
	&lt;li&gt;Creates a full-fledged WatcherEvent class.  The previous Jute-generated WatcherEvent class becomes a wrapper for the enums during transmission.&lt;/li&gt;
	&lt;li&gt;Changes all references to the old named constants to the shiny new enums.&lt;/li&gt;
	&lt;li&gt;Provides unit tests for everything new.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;While doing this, I had to resolve &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-18&quot; title=&quot;keeper state inconsistency&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-18&quot;&gt;&lt;del&gt;ZOOKEEPER-18&lt;/del&gt;&lt;/a&gt;.  Since it looked like a bug, I eliminated the KeeperStateChanged value as it doesn&apos;t appear anywhere else in the source code.  &lt;/p&gt;

&lt;p&gt;Let me know if this looks good.  If so I&apos;ll start on converting the permissions.&lt;/p&gt;</comment>
                            <comment id="12631205" author="mahadev" created="Tue, 16 Sep 2008 00:49:37 +0100"  >&lt;p&gt;can we provide a convinience method on watcherevent to get watchereventwrapper from it.... &lt;/p&gt;

&lt;p&gt;other than that the code looks good .... &lt;/p&gt;</comment>
                            <comment id="12631208" author="mahadev" created="Tue, 16 Sep 2008 00:50:12 +0100"  >&lt;p&gt;cancelling the patch to address the comments .... &lt;/p&gt;</comment>
                            <comment id="12631222" author="jghoman" created="Tue, 16 Sep 2008 02:12:00 +0100"  >&lt;p&gt;Implemented Mahadev&apos;s suggestion.  &lt;/p&gt;</comment>
                            <comment id="12631496" author="mahadev" created="Tue, 16 Sep 2008 19:31:03 +0100"  >&lt;p&gt;i forgot to mention that the changes to the jute file would require changes to the c code... can we just change the wrapper name class instead of chanhing the c code.... &lt;/p&gt;</comment>
                            <comment id="12631651" author="mahadev" created="Wed, 17 Sep 2008 06:06:34 +0100"  >&lt;p&gt;cancelling patch to address the above mentioned issue.&lt;/p&gt;</comment>
                            <comment id="12634336" author="jghoman" created="Thu, 25 Sep 2008 00:02:29 +0100"  >&lt;p&gt;Updated patch to not change the jute code.  The Jute type is still WatcherEvent.  The type used by users is called WatchedEvent (for lack of any better term).  Otherwise the same.  Updated to work with changes from &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-137&quot; title=&quot;client watcher objects can lose events&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-137&quot;&gt;&lt;del&gt;ZOOKEEPER-137&lt;/del&gt;&lt;/a&gt;.  &lt;/p&gt;</comment>
                            <comment id="12634659" author="mahadev" created="Thu, 25 Sep 2008 23:18:08 +0100"  >&lt;p&gt;+1... the patch looks good... &lt;/p&gt;</comment>
                            <comment id="12634662" author="phunt" created="Thu, 25 Sep 2008 23:21:31 +0100"  >&lt;p&gt;I reviewed the patch and ran tests. Looks good, I will commit.&lt;/p&gt;</comment>
                            <comment id="12634663" author="phunt" created="Thu, 25 Sep 2008 23:25:48 +0100"  >&lt;p&gt;Committed revision 699114.&lt;/p&gt;</comment>
                            <comment id="12634816" author="hudson" created="Fri, 26 Sep 2008 12:17:55 +0100"  >&lt;p&gt;Integrated in ZooKeeper-trunk #95 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/ZooKeeper-trunk/95/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/ZooKeeper-trunk/95/&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="12642735" author="phunt" created="Sun, 26 Oct 2008 01:10:42 +0000"  >&lt;p&gt;3.0.0 has been released, closing issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                            <outwardlinks description="incorporates">
                                        <issuelink>
            <issuekey id="12397977">ZOOKEEPER-18</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12405187">ZOOKEEPER-144</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12390885" name="ZOOKEEPER-139.patch" size="66430" author="jghoman" created="Thu, 25 Sep 2008 00:02:29 +0100"/>
                            <attachment id="12390155" name="ZOOKEEPER-139.patch" size="57859" author="jghoman" created="Tue, 16 Sep 2008 02:14:54 +0100"/>
                            <attachment id="12389897" name="ZOOKEEPER-139.patch" size="56956" author="jghoman" created="Thu, 11 Sep 2008 03:50:58 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 15 Sep 2008 23:49:37 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48028</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10342"><![CDATA[Incompatible change]]></customfieldvalue>
    <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxzyjj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33580</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>