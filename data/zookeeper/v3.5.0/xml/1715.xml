<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:43:54 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/ZOOKEEPER-1715/ZOOKEEPER-1715.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[ZOOKEEPER-1715] Upgrade netty version</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-1715</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;Upgrade netty version&lt;/p&gt;</description>
                <environment>&lt;p&gt;zookeeper 3.4.5 uses netty 3.2.2, which was released in August 2010.  The latest version of netty is 3.6.6 released May 2013.  Zookeeper should consider upgrading.&lt;/p&gt;</environment>
        <key id="12651846">ZOOKEEPER-1715</key>
            <summary>Upgrade netty version</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sbridges">Sean Bridges</assignee>
                                    <reporter username="sgbridges">Sean Bridges</reporter>
                        <labels>
                    </labels>
                <created>Sat, 8 Jun 2013 06:02:30 +0100</created>
                <updated>Thu, 13 Mar 2014 18:17:11 +0000</updated>
                            <resolved>Sat, 14 Dec 2013 08:38:41 +0000</resolved>
                                    <version>3.4.5</version>
                                    <fixVersion>3.4.6</fixVersion>
                    <fixVersion>3.5.0</fixVersion>
                                        <due></due>
                            <votes>2</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13678692" author="hadoopqa" created="Sat, 8 Jun 2013 07:06:59 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12586858/ZOOKEEPER-1715.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12586858/ZOOKEEPER-1715.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1490358.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1500//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1500//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1500//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1500//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1500//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1500//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13678715" author="fpj" created="Sat, 8 Jun 2013 10:28:15 +0100"  >&lt;p&gt;Hi Sean, It sounds like a good idea to upgrade. We need to determine why tests are not passing, though. In my machine, org.apache.zookeeper.test.NioNettySuiteHammerTest times out. It is possibly the same issue that jenkins is pointing out with the core tests failure.&lt;/p&gt;</comment>
                            <comment id="13678920" author="sgbridges" created="Sun, 9 Jun 2013 04:11:09 +0100"  >&lt;p&gt;Using git bisect, it looks like zookeeper works with netty &amp;lt;= 3.6.0.BETA1, but fails after 3.6.0.FINAL.  This seems to be the offending commit,&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/netty/netty/commit/95684d92eb717b0e1ddd5914c84fe6331b4cfe77&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/netty/netty/commit/95684d92eb717b0e1ddd5914c84fe6331b4cfe77&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13679271" author="sgbridges" created="Mon, 10 Jun 2013 04:02:16 +0100"  >&lt;p&gt;Doing some more debugging, the main test thread is blocked in NettyServerCnxnFactory#shutdown at the call to,&lt;/p&gt;

&lt;p&gt;bootstrap.releaseExternalResources();&lt;/p&gt;

&lt;p&gt;That call is blocked trying to shut down an executor with 1 thread blocked trying to acquire the lock on a NettyServerCnxn, with a stack trace like,&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Name: New I/O  worker #4
State: BLOCKED on org.apache.zookeeper.server.NettyServerCnxn@6827a180 owned by: CommitProcWorkThread-1
Total blocked: 2  Total waited: 0

Stack trace: 
org.apache.zookeeper.server.NettyServerCnxnFactory$CnxnChannelHandler.messageReceived(NettyServerCnxnFactory.java:141)
org.jboss.netty.channel.SimpleChannelHandler.handleUpstream(SimpleChannelHandler.java:88)
org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:558)
org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:553)
org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:268)
org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:255)
org.jboss.netty.channel.socket.nio.NioWorker.read(NioWorker.java:88)
org.jboss.netty.channel.socket.nio.AbstractNioWorker.processSelectedKeys(AbstractNioWorker.java:441)
org.jboss.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:328)
org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:36)
org.jboss.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:108)
org.jboss.netty.util.internal.DeadLockProofWorker$1.run(DeadLockProofWorker.java:42)
java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)
java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)
java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:722)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The lock is owned by another thread which is blocked trying to disableRcv with a stack trace as shown,&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Name: CommitProcWorkThread-1
State: WAITING on org.jboss.netty.channel.DefaultChannelFuture@405a6d04
Total blocked: 14  Total waited: 77

Stack trace: 
 at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(Native Method)
 at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.java:503)
 org.jboss.netty.channel.DefaultChannelFuture.awaitUninterruptibly(DefaultChannelFuture.java:258)
org.apache.zookeeper.server.NettyServerCnxn.disableRecv(NettyServerCnxn.java:810)
org.apache.zookeeper.server.NettyServerCnxn.receiveMessage(NettyServerCnxn.java:742)
org.apache.zookeeper.server.NettyServerCnxnFactory$CnxnChannelHandler.processMessage(NettyServerCnxnFactory.java:164)
org.apache.zookeeper.server.NettyServerCnxnFactory$CnxnChannelHandler.messageReceived(NettyServerCnxnFactory.java:141)
   - locked org.apache.zookeeper.server.NettyServerCnxn@6827a180
org.jboss.netty.channel.SimpleChannelHandler.handleUpstream(SimpleChannelHandler.java:88)
org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:558)
org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:553)
org.apache.zookeeper.server.NettyServerCnxn.enableRecv(NettyServerCnxn.java:207)
org.apache.zookeeper.server.NettyServerCnxn.sendResponse(NettyServerCnxn.java:190)
org.apache.zookeeper.server.FinalRequestProcessor.processRequest(FinalRequestProcessor.java:416)
org.apache.zookeeper.server.quorum.CommitProcessor$CommitWorkRequest.doWork(CommitProcessor.java:271)
org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:152)
java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)
java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)
java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:722)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The attached patch fixes the test by adding a non blocking version of disableRecv, but I am not sure that is a good approach.&lt;/p&gt;</comment>
                            <comment id="13679281" author="hadoopqa" created="Mon, 10 Jun 2013 04:42:12 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12587014/ZOOKEEPER-1715-2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12587014/ZOOKEEPER-1715-2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1490358.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1501//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1501//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1501//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1501//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1501//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1501//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13679974" author="fpj" created="Mon, 10 Jun 2013 23:10:09 +0100"  >&lt;p&gt;It is kind of odd that the thread trying to disableRcv remains blocked. Is there any exception or anything in the logs that indicate why it is blocked? I mentioned exceptions because I&apos;ve seen a couple of pages indicating that an exception could lead to that behavior.&lt;/p&gt;</comment>
                            <comment id="13699506" author="fpj" created="Wed, 3 Jul 2013 23:05:42 +0100"  >&lt;p&gt;I came across this jira from the Avro project: &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-1292&quot; title=&quot;NettyTransceiver: Client threads can block under certain connection failure scenarios&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AVRO-1292&quot;&gt;&lt;del&gt;AVRO-1292&lt;/del&gt;&lt;/a&gt;. They suggest the following:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-          channelFuture.awaitUninterruptibly(connectTimeoutMillis);
+            &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
+              channelFuture.await(connectTimeoutMillis);
+            } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (InterruptedException e) {
+              &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.currentThread().interrupt(); &lt;span class=&quot;code-comment&quot;&gt;// Reset interrupt flag
&lt;/span&gt;+              &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IOException(&lt;span class=&quot;code-quote&quot;&gt;&quot;Interrupted &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; connecting to &quot;&lt;/span&gt; + 
+                  remoteAddr);
+            }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Should we adopt the same approach?&lt;/p&gt;</comment>
                            <comment id="13699507" author="fpj" created="Wed, 3 Jul 2013 23:06:28 +0100"  >&lt;p&gt;Cancelling the patch until we converge on a fix.&lt;/p&gt;</comment>
                            <comment id="13700332" author="fpj" created="Thu, 4 Jul 2013 21:37:14 +0100"  >&lt;p&gt;Patch based on Sean&apos;s and the solution in the Avro jira. &lt;/p&gt;

&lt;p&gt;Different from the approach in the Avro patch, I&apos;m not transforming the interrupted exception into an io exception. disableRecv does not throw an exception in the interface declaration, and I couldn&apos;t see a good reason for changing the interface, so I just log the exception and move on. &lt;/p&gt;</comment>
                            <comment id="13700344" author="hadoopqa" created="Thu, 4 Jul 2013 22:12:03 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12590934/zookeeper-1715.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12590934/zookeeper-1715.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1498732.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1508//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1508//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1508//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1508//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1508//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1508//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13700497" author="fpj" created="Fri, 5 Jul 2013 08:22:57 +0100"  >&lt;p&gt;The test that failed is testTransactionLogCorruption, which I believe is due to &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1629&quot; title=&quot;testTransactionLogCorruption occasionally fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1629&quot;&gt;&lt;del&gt;ZOOKEEPER-1629&lt;/del&gt;&lt;/a&gt;, not this patch. I&apos;m also considering that the NioNettySuiteHammerTest is already capturing the problem, so I was not considering adding a test.&lt;/p&gt;</comment>
                            <comment id="13788769" author="hadoopqa" created="Tue, 8 Oct 2013 01:34:16 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12590934/zookeeper-1715.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12590934/zookeeper-1715.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1530110.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1647//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1647//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1647//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1647//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1647//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1647//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13788943" author="phunt" created="Tue, 8 Oct 2013 07:00:40 +0100"  >&lt;p&gt;Looks like &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1763&quot; title=&quot;Upgrade the netty version&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1763&quot;&gt;&lt;del&gt;ZOOKEEPER-1763&lt;/del&gt;&lt;/a&gt; is a dup of &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1715&quot; title=&quot;Upgrade netty version&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1715&quot;&gt;&lt;del&gt;ZOOKEEPER-1715&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13788957" author="hadoopqa" created="Tue, 8 Oct 2013 07:21:13 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12590934/zookeeper-1715.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12590934/zookeeper-1715.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1530158.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1653//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1653//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1653//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1653//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1653//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1653//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13793082" author="phunt" created="Fri, 11 Oct 2013 23:04:57 +0100"  >&lt;p&gt;Updated to upgrade to 3.7.0.Final&lt;/p&gt;</comment>
                            <comment id="13793083" author="phunt" created="Fri, 11 Oct 2013 23:05:16 +0100"  >&lt;p&gt;Committed to trunk. Thanks Sean!&lt;/p&gt;</comment>
                            <comment id="13793334" author="hudson" created="Sat, 12 Oct 2013 12:09:30 +0100"  >&lt;p&gt;SUCCESS: Integrated in ZooKeeper-trunk #2087 (See &lt;a href=&quot;https://builds.apache.org/job/ZooKeeper-trunk/2087/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/ZooKeeper-trunk/2087/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1715&quot; title=&quot;Upgrade netty version&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1715&quot;&gt;&lt;del&gt;ZOOKEEPER-1715&lt;/del&gt;&lt;/a&gt;. Upgrade netty version (Sean Bridges via phunt) (phunt: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1531444&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1531444&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/zookeeper/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/ivy.xml&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/java/main/org/apache/zookeeper/server/NettyServerCnxn.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13847807" author="michim" created="Fri, 13 Dec 2013 19:23:29 +0000"  >&lt;p&gt;I&apos;d like to backport this to 3.4.6.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1838&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/ZOOKEEPER-1838&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13848070" author="michim" created="Fri, 13 Dec 2013 23:45:09 +0000"  >&lt;p&gt;The timeout issue is fixed with this patch, but I got some failures:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Testcase: testDisconnectedAddAuth took 121.339 sec
        FAILED
waiting for server being up
junit.framework.AssertionFailedError: waiting for server being up
        at org.apache.zookeeper.test.ACLTest.testDisconnectedAddAuth(ACLTest.java:63)
        at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
Testcase: testSessionTimeout took 134.221 sec
        FAILED
waiting for server up
junit.framework.AssertionFailedError: waiting for server up
        at org.apache.zookeeper.test.SessionTest.setUp(SessionTest.java:80)
        at org.apache.zookeeper.test.SessionTest.testSessionTimeout(SessionTest.java:293)
        at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)

Testcase: testWatcherAutoResetWithLocal took 123.392 sec 
        FAILED
waiting for server up
junit.framework.AssertionFailedError: waiting for server up
        at org.apache.zookeeper.test.ClientBase.createNewServerInstance(ClientBase.java:338)
        at org.apache.zookeeper.test.ClientBase.startServer(ClientBase.java:415)
        at org.apache.zookeeper.test.WatcherTest.testWatcherAutoReset(WatcherTest.java:341)
        at org.apache.zookeeper.test.WatcherTest.testWatcherAutoResetWithLocal(WatcherTest.java:242)
        at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)

        FAILED
expected:&amp;lt;0&amp;gt; but was:&amp;lt;2&amp;gt;
junit.framework.AssertionFailedError: expected:&amp;lt;0&amp;gt; but was:&amp;lt;2&amp;gt;
        at org.apache.zookeeper.test.JMXEnv.ensureOnly(JMXEnv.java:138)
        at org.apache.zookeeper.test.ClientBase.stopServer(ClientBase.java:425)
        at org.apache.zookeeper.test.ClientBase.tearDown(ClientBase.java:455)

Testcase: testWatcherAutoResetDisabledWithGlobal took 3.16 sec
        FAILED
expected:&amp;lt;0&amp;gt; but was:&amp;lt;2&amp;gt;
junit.framework.AssertionFailedError: expected:&amp;lt;0&amp;gt; but was:&amp;lt;2&amp;gt;
        at org.apache.zookeeper.test.JMXEnv.ensureOnly(JMXEnv.java:138)
        at org.apache.zookeeper.test.ClientBase.stopServer(ClientBase.java:425)
        at org.apache.zookeeper.test.WatcherTest.testWatcherAutoReset(WatcherTest.java:278)
        at org.apache.zookeeper.test.WatcherTest.testWatcherAutoResetWithGlobal(WatcherTest.java:233)
        at org.apache.zookeeper.test.WatcherTest.testWatcherAutoResetDisabledWithGlobal(WatcherTest.java:249)
        at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:52)
        
        FAILED
expected:&amp;lt;0&amp;gt; but was:&amp;lt;2&amp;gt;
junit.framework.AssertionFailedError: expected:&amp;lt;0&amp;gt; but was:&amp;lt;2&amp;gt;
        at org.apache.zookeeper.test.JMXEnv.ensureOnly(JMXEnv.java:138)
        at org.apache.zookeeper.test.ClientBase.stopServer(ClientBase.java:425)
        at org.apache.zookeeper.test.ClientBase.tearDown(ClientBase.java:455)
        
Testcase: testWatcherAutoResetDisabledWithLocal took 120.027 sec
        FAILED
waiting for server up
junit.framework.AssertionFailedError: waiting for server up
        at org.apache.zookeeper.test.ClientBase.createNewServerInstance(ClientBase.java:338)
        at org.apache.zookeeper.test.ClientBase.startServer(ClientBase.java:415)
        at org.apache.zookeeper.test.ClientBase.setUp(ClientBase.java:408)
        at org.apache.zookeeper.test.WatcherTest.setUp(WatcherTest.java:74)

        FAILED
expected:&amp;lt;0&amp;gt; but was:&amp;lt;2&amp;gt;
junit.framework.AssertionFailedError: expected:&amp;lt;0&amp;gt; but was:&amp;lt;2&amp;gt;
        at org.apache.zookeeper.test.JMXEnv.ensureOnly(JMXEnv.java:138)
        at org.apache.zookeeper.test.ClientBase.stopServer(ClientBase.java:425)
        at org.apache.zookeeper.test.ClientBase.tearDown(ClientBase.java:455)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13848287" author="michim" created="Sat, 14 Dec 2013 08:38:41 +0000"  >&lt;p&gt;3.4: &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1550902&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1550902&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;We are keeping track of the test failures I mentioned in my previous comment in &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1837&quot; title=&quot;Fix JMXEnv checks (potential race conditions)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1837&quot;&gt;&lt;del&gt;ZOOKEEPER-1837&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13933776" author="fpj" created="Thu, 13 Mar 2014 18:17:10 +0000"  >&lt;p&gt;Closing issues after releasing 3.4.6.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12670040">ZOOKEEPER-1763</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12684458">ZOOKEEPER-1838</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12640293">ZOOKEEPER-1681</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12587014" name="ZOOKEEPER-1715-2.patch" size="2475" author="sgbridges" created="Mon, 10 Jun 2013 04:02:38 +0100"/>
                            <attachment id="12608090" name="ZOOKEEPER-1715-v3.patch" size="2483" author="phunt" created="Fri, 11 Oct 2013 23:04:57 +0100"/>
                            <attachment id="12586858" name="ZOOKEEPER-1715.patch" size="587" author="sgbridges" created="Sat, 8 Jun 2013 06:03:57 +0100"/>
                            <attachment id="12590934" name="zookeeper-1715.patch" size="2452" author="fpj" created="Thu, 4 Jul 2013 21:37:14 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 8 Jun 2013 06:06:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>332170</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzf59z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>332499</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>