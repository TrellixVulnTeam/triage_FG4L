<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:52:04 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/ZOOKEEPER-5/ZOOKEEPER-5.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[ZOOKEEPER-5] Upgrade Feature in Zookeeper server.</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-5</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;We need an upgrade feature in zookeeper where we can upgrade the old databases to a new one.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12397853">ZOOKEEPER-5</key>
            <summary>Upgrade Feature in Zookeeper server.</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mahadev">Mahadev konar</assignee>
                                    <reporter username="mahadev">Mahadev konar</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Jun 2008 00:43:48 +0100</created>
                <updated>Wed, 30 Mar 2011 20:28:06 +0100</updated>
                            <resolved>Fri, 17 Oct 2008 01:24:34 +0100</resolved>
                                                    <fixVersion>3.0.0</fixVersion>
                                    <component>server</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12639523" author="mahadev" created="Tue, 14 Oct 2008 19:25:51 +0100"  >&lt;p&gt;this is a preview patch... needs testing and some cleaning up. &lt;/p&gt;</comment>
                            <comment id="12639644" author="mahadev" created="Wed, 15 Oct 2008 00:33:02 +0100"  >&lt;p&gt;this is a patch that fixes a few bugs in the previous one.. &lt;/p&gt;


&lt;p&gt;the usage of running upgrade is &lt;br/&gt;
bin/zkserver.sh upgrade datadir snapshotdir&lt;/p&gt;

&lt;p&gt;if you are not using shell scripts then its &lt;/p&gt;

&lt;p&gt;java -cp log4j.jar:zookeepr.jar org.apache.zookeeper.server.upgrade.Upgrade dataDir snapshotDir.&lt;/p&gt;

&lt;p&gt;I am still in testing it but it would be great if someone could take a look at it .... &lt;/p&gt;

&lt;p&gt;The patch does this:&lt;/p&gt;

&lt;p&gt;1) takes the input datadir and snapshot dir&lt;br/&gt;
2) baks up the datadir in datadir/version-1 and snapshotdir in snapshotdir/version-1&lt;br/&gt;
3) creates directory datadir/version-2 and snapshotdir/version-2&lt;br/&gt;
4) reads the snapshots and txns from version-1 dir&lt;br/&gt;
5) creates an old datatree in memory&lt;br/&gt;
6) converts that old datatree to a new datatree&lt;br/&gt;
7) creates a new snapshot&lt;br/&gt;
8) done&lt;/p&gt;</comment>
                            <comment id="12639953" author="mahadev" created="Wed, 15 Oct 2008 21:28:48 +0100"  >&lt;p&gt;latest patch with bug fixes.&lt;/p&gt;</comment>
                            <comment id="12640281" author="breed" created="Thu, 16 Oct 2008 20:31:08 +0100"  >&lt;p&gt;-1 SnapshotUpgradeV1 should be UpgradeSnapshotV1 since it implements SnapshotUpgrade. createThisSnapshot should be renamed since it doesn&apos;t create a snapshot. loadOldDataTree maybe? PersistentStat is going to be changing, so convertDataNode will need to be able to take the old version. Finally, you need test cases.&lt;/p&gt;</comment>
                            <comment id="12640363" author="mahadev" created="Thu, 16 Oct 2008 23:36:10 +0100"  >&lt;p&gt;this patch includes tests and fixes issues pointed by ben... This patch requires binary files to be added to svn repo under src/java/test/data/upgrade/. I am uploading the files seperately from the patch.&lt;/p&gt;</comment>
                            <comment id="12640364" author="mahadev" created="Thu, 16 Oct 2008 23:38:39 +0100"  >&lt;p&gt;the four files log* and snapshot* should go into src/java/test/data/upgrade/&lt;/p&gt;
</comment>
                            <comment id="12640377" author="mahadev" created="Fri, 17 Oct 2008 00:45:54 +0100"  >&lt;p&gt;updated patch after removing a few unused methods.&lt;/p&gt;</comment>
                            <comment id="12640378" author="phunt" created="Fri, 17 Oct 2008 00:46:45 +0100"  >&lt;p&gt;In general I&apos;m +1 on this patch with the following changes:&lt;/p&gt;

&lt;p&gt;1) update Upgrade.main to catch any exception (throwable?) and log it before exiting. This will ensure we have the issue captured in the log.&lt;br/&gt;
2) log the creation of directories, coping of files... renaming, etc...&lt;br/&gt;
3) log the various stages of the &quot;runUpgrade&quot; method, ie aftereach step log success of step.&lt;/p&gt;

&lt;p&gt;I can&apos;t tell you how many times I&apos;ve run into cases where an upgrade fails and having this type if information (being able to determine with finer granularity what is happening for the customer) would be useful.&lt;/p&gt;

&lt;p&gt;I would also suggest that you change Upgrade.java to UpgradeMain.java to be consistent w/ the rest of the main utils in zk core.&lt;/p&gt;
</comment>
                            <comment id="12640381" author="mahadev" created="Fri, 17 Oct 2008 01:07:36 +0100"  >&lt;p&gt;updated the patc hwith pat&apos;s comments...&lt;/p&gt;</comment>
                            <comment id="12640386" author="phunt" created="Fri, 17 Oct 2008 01:24:34 +0100"  >&lt;p&gt;Committed revision 705421.&lt;br/&gt;
Committed revision 705424.&lt;/p&gt;</comment>
                            <comment id="12640495" author="hudson" created="Fri, 17 Oct 2008 11:53:38 +0100"  >&lt;p&gt;Integrated in ZooKeeper-trunk #116 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/ZooKeeper-trunk/116/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/ZooKeeper-trunk/116/&lt;/a&gt;)&lt;br/&gt;
    . Upgrade Feature in Zookeeper server.&lt;br/&gt;
. Upgrade Feature in Zookeeper server.&lt;/p&gt;</comment>
                            <comment id="12642666" author="phunt" created="Sun, 26 Oct 2008 01:10:37 +0000"  >&lt;p&gt;3.0.0 has been released, closing issues.&lt;/p&gt;</comment>
                            <comment id="13013605" author="jiraposter@reviews.apache.org" created="Wed, 30 Mar 2011 20:28:06 +0100"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/9/#review368&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/9/#review368&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;p&gt;hey&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Tony&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-03-29 14:38:16, admin wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/9/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/9/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-03-29 14:38:16)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for zookeeper.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;test review, please ignore&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug zookeeper-5.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/zookeeper-5&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/zookeeper-5&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/9/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/9/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Re-opening this test case for procmail/jira foo, zookeeper folks please ignore.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;admin&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12392318" name="ZOOKEEPER-5.patch" size="63886" author="mahadev" created="Fri, 17 Oct 2008 01:07:36 +0100"/>
                            <attachment id="12392317" name="ZOOKEEPER-5.patch" size="63211" author="mahadev" created="Fri, 17 Oct 2008 00:45:54 +0100"/>
                            <attachment id="12392310" name="ZOOKEEPER-5.patch" size="63216" author="mahadev" created="Thu, 16 Oct 2008 23:36:10 +0100"/>
                            <attachment id="12392198" name="ZOOKEEPER-5.patch" size="52991" author="mahadev" created="Wed, 15 Oct 2008 21:28:48 +0100"/>
                            <attachment id="12392147" name="ZOOKEEPER-5.patch" size="52638" author="mahadev" created="Wed, 15 Oct 2008 00:33:02 +0100"/>
                            <attachment id="12392117" name="ZOOKEEPER-5.patch" size="52471" author="mahadev" created="Tue, 14 Oct 2008 19:25:51 +0100"/>
                            <attachment id="12392312" name="log.100000001" size="2458624" author="mahadev" created="Thu, 16 Oct 2008 23:37:03 +0100"/>
                            <attachment id="12392311" name="log.100001bf0" size="1025024" author="mahadev" created="Thu, 16 Oct 2008 23:36:37 +0100"/>
                            <attachment id="12392314" name="snapshot.100000000" size="73" author="mahadev" created="Thu, 16 Oct 2008 23:37:49 +0100"/>
                            <attachment id="12392313" name="snapshot.100001bec" size="2567595" author="mahadev" created="Thu, 16 Oct 2008 23:37:33 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>10.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 16 Oct 2008 19:31:08 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48112</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxzyun:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33630</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>