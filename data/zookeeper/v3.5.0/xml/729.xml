<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:51:34 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/ZOOKEEPER-729/ZOOKEEPER-729.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[ZOOKEEPER-729] Recursively delete a znode  - zkCli.sh rmr /node</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-729</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;Recursively delete a given znode in zookeeper, from the command-line. &lt;/p&gt;

&lt;p&gt;New operation &quot;rmr&quot; added to zkclient. &lt;/p&gt;

&lt;p&gt;$ ./zkCli.sh rmr /node &lt;/p&gt;</description>
                <environment></environment>
        <key id="12460390">ZOOKEEPER-729</key>
            <summary>Recursively delete a znode  - zkCli.sh rmr /node</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kaykay.unique">Karthik K</assignee>
                                    <reporter username="kaykay.unique">Karthik K</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 Mar 2010 19:30:44 +0000</created>
                <updated>Wed, 28 Dec 2011 16:13:38 +0000</updated>
                            <resolved>Thu, 15 Apr 2010 08:26:48 +0100</resolved>
                                                    <fixVersion>3.4.0</fixVersion>
                                    <component>java client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12850318" author="kaykay.unique" created="Fri, 26 Mar 2010 19:34:22 +0000"  >&lt;p&gt;Retrieve the entire tree on the client side and then start deleting from the leaves to the root. &lt;/p&gt;

&lt;p&gt;assumptions: &lt;br/&gt;
  the service performing the updates to the root znode is brought down completely and the recursive delete completes then .&lt;/p&gt;

&lt;p&gt;No atomicity guaranteed. &lt;/p&gt;

&lt;p&gt;An efficient version would involve modifying the .jute and sending the path to the server and deleting on the same. But then, for now - this works. &lt;/p&gt;</comment>
                            <comment id="12850328" author="phunt" created="Fri, 26 Mar 2010 20:01:04 +0000"  >&lt;p&gt;Thanks Kay, since this is a new feature and not a fix I&apos;m marking for just 3.4.0&lt;/p&gt;

&lt;p&gt;It would be great if you could include this change in the c client as well. Would you mind updating&lt;br/&gt;
the patch for that as well?&lt;/p&gt;

&lt;p&gt;You added a new &quot;rmr&quot; command, rather could you just add a &quot;-r&quot; option to the delete command (see create for&lt;br/&gt;
similar command line options on a command)&lt;/p&gt;

&lt;p&gt;I see that you are using sync operations, did you consider using async? It would be much faster and would be a&lt;br/&gt;
great example for users.&lt;/p&gt;</comment>
                            <comment id="12850344" author="hadoopqa" created="Fri, 26 Mar 2010 20:50:19 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12439903/ZOOKEEPER-729.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12439903/ZOOKEEPER-729.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 925362.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no tests are needed for this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/39/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/39/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/39/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/39/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/39/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/39/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12850359" author="henryr" created="Fri, 26 Mar 2010 21:27:23 +0000"  >&lt;p&gt;Thanks for the patch, Kay!&lt;/p&gt;

&lt;p&gt;I have a couple of review comments:&lt;/p&gt;

&lt;p&gt;1. You should get rid of the System.out.println lines - use LOG if you want to save something. &lt;br/&gt;
2. It might be cleaner to use a LinkedList of nodes, always prepending to the front, then you can walk through it in order, but I don&apos;t mind which you do.&lt;br/&gt;
3. If delete fails due to a NoNode exception or similar, this operation aborts I think. I&apos;m not sure whether that&apos;s a good idea or not, but it should be documented in the comments. &lt;/p&gt;

&lt;p&gt;Something I wanted to flag up - this algorithm is not wait-free because if another process is continually adding child nodes in the right place, this will never finish. It is, however, obstruction-free. ISTR that ZooKeeper&apos;s wait-freedom was a significant feature in one of Flavio&apos;s presentations that I read. Are we ok relaxing this restriction for the client libraries for an unlikely edge case?&lt;/p&gt;

&lt;p&gt;(My vote is yes, we probably are, but this is not just an academic distinction - you can build systems predicated on wait-freedom that will fail if they are actually just obstruction-free). &lt;/p&gt;</comment>
                            <comment id="12850375" author="kaykay.unique" created="Fri, 26 Mar 2010 22:08:16 +0000"  >&lt;blockquote&gt;
&lt;p&gt;It would be great if you could include this change in the c client as well. Would you mind updating&lt;br/&gt;
the patch for that as well?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Would it be ok if we have a separate jira to track it. I can update the same, but the motivation for me was , when we reset a katta cluster , I wanted to have a single command to deal with resets.  For consistency purposes, I can have a look at the C client as well. &lt;/p&gt;


&lt;blockquote&gt;
&lt;p&gt;You added a new &quot;rmr&quot; command, rather could you just add a &quot;-r&quot; option to the delete command (see create for&lt;br/&gt;
similar command line options on a command)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;makes sense. that was an inspiration from hdfs, to avoid keystrokes, as you might have figured out already &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;I see that you are using sync operations, did you consider using async? It would be much faster and would be a&lt;br/&gt;
great example for users &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I wanted to delete the nodes in order, the leaves and then the root, and was not sure what effect async will have , in that, w.r.t race conditions. Also I was testing from the cmd line and wanted to be sure that when the command returns, every child node has indeed been deleted. &lt;/p&gt;

&lt;p&gt;Can you add some more hints ? &lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;1. You should get rid of the System.out.println lines - use LOG if you want to save something. &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Oops. Saw, System.err elsewhere in ZookeeperMain and confused that to be the standard with Zookeeper . &lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;3. If delete fails due to a NoNode exception or similar, this operation aborts I think. I&apos;m not sure whether that&apos;s a good idea or not, but it should be documented in the comments.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I guess, aborting is ok, so we know what is happening. May be - there could be another parameter to indicate if we are continuing / aborting. &lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Something I wanted to flag up - this algorithm is not wait-free because if another process is continually adding child nodes in the right place, this will never finish.&lt;/p&gt;&lt;/blockquote&gt; 

&lt;p&gt;This is true. As I had mentioned  in the assumptions - this is mostly to be used as a 1-step reset for apps, and the client apps are assumed to have been brought down completely. &lt;br/&gt;
May be- for now - indicating the information in the comments would do ? &lt;/p&gt;
</comment>
                            <comment id="12850385" author="phunt" created="Fri, 26 Mar 2010 22:29:51 +0000"  >&lt;blockquote&gt;&lt;p&gt;Would it be ok if we have a separate jira to track it.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;sure. link it to this one.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;that was an inspiration from hdfs&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;that&apos;s fine, I was just thinking to keep down the proliferation of cmds... (personally I would have modeled all the commands on unix fs commands...)&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;not sure what effect async will have&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;In ZK all operations are ordered. So if a single client session calls async delete(/foo/a/b) then async delete(/foo/a), then async delete(/foo) it will be deleted in that same order, guaranteed. You will get callbacks with success/fail of each operation, so you &lt;br/&gt;
would need to wait for those to be sure. sync is fine, just saying async is faster which might be important if the tree is large...&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;You should get rid of the System.out.println lines&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I think we want to use system out for user interaction, LOG is for debugging (at least that&apos;s what we&apos;re doing in that class today.)&lt;br/&gt;
Typically in unix you don&apos;t message to the console for expected&lt;/p&gt;

&lt;p&gt;phunt@valhalla:~$ touch foo&lt;br/&gt;
phunt@valhalla:~$ rm foo&lt;br/&gt;
phunt@valhalla:~$ &lt;/p&gt;

&lt;p&gt;just for error conditions. I&apos;d put those printlns for delete into the LOG (success/debug information) and println only if the&lt;br/&gt;
user&apos;s operation failed to do what was expected.&lt;/p&gt;
</comment>
                            <comment id="12850387" author="phunt" created="Fri, 26 Mar 2010 22:34:31 +0000"  >&lt;p&gt;Given Henry&apos;s comments sync might be better, albeit slower. You could stop right away if you failed to delete a znode.&lt;/p&gt;</comment>
                            <comment id="12850393" author="kaykay.unique" created="Fri, 26 Mar 2010 23:02:20 +0000"  >&lt;p&gt;LOG is in, replacing System.out/.err for Zookeeper. &lt;/p&gt;

&lt;p&gt;Comments added to delete functionality indicating the expected behavior in case one of the sub-node deletions fails with an exception. &lt;/p&gt;

&lt;p&gt;new public method deleteRecursive() added , ( async method ). &lt;/p&gt;


</comment>
                            <comment id="12850394" author="kaykay.unique" created="Fri, 26 Mar 2010 23:05:30 +0000"  >&lt;p&gt;With respect to the command line argument, out of curiosity , can we have something based on args4j or something similar to that for better flexibility of commands. &lt;/p&gt;

&lt;p&gt;Tried to fit &apos;delete -r&apos; in the picture, but already $2 is reserved for the number of watchers.  So, checking for $3 to be &apos;-r&apos; and making a decision , seems a little bit round-about since we will be ignoring $2 , for the number of watchers in the recursive delete scenario ( it is -1, ).  Hence left that part as before. &lt;/p&gt;

</comment>
                            <comment id="12850405" author="phunt" created="Fri, 26 Mar 2010 23:44:05 +0000"  >&lt;p&gt;Can you make it optional similar to jline? I suspect not... Is there some way to package it up such that the user&lt;br/&gt;
doesn&apos;t have to type lots of classpath jars? &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://args4j.dev.java.net/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://args4j.dev.java.net/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;the code is MIT license so that&apos;s ok, just an issue of carrying around extra baggage...&lt;/p&gt;
</comment>
                            <comment id="12850425" author="kaykay.unique" created="Sat, 27 Mar 2010 00:29:36 +0000"  >&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Is there some way to package it up such that the user doesn&apos;t have to type lots of classpath jars?&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;


&lt;p&gt;A quick look at the examples, says that it is very light-weight , with not much dependencies.  But because you have started publishing mvn artifacts with 3.3.0 , clients of zk should not be having a problem about the number, say.&lt;/p&gt;

&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;, just an issue of carrying around extra baggage.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;


&lt;p&gt;true. i brought this up, because for extending the command-line functionality and grouping options, it would make it simpler, without worrying about the position of the args and give a getopt-like feel . &lt;/p&gt;


</comment>
                            <comment id="12855243" author="kaykay.unique" created="Fri, 9 Apr 2010 02:31:42 +0100"  >&lt;p&gt;Can you help look into this before this gets out of sync with the trunk. Thanks. &lt;/p&gt;</comment>
                            <comment id="12855251" author="henryr" created="Fri, 9 Apr 2010 03:16:13 +0100"  >&lt;p&gt;Patch looks pretty good! A few nits:&lt;/p&gt;

&lt;p&gt;1. Your tab level seems to be set to two spaces, but the standard is to use four tabs per space&lt;br/&gt;
2. I would change the LOG levels to DEBUG instead of INFO.&lt;br/&gt;
3. Consider calling listSubTree listSubTreeBFS? I agree about making the strategy explicit, I feel this is the best way to do it. &lt;br/&gt;
4. You should be explicit in the listSubTree comment that this is &lt;b&gt;not&lt;/b&gt; an atomic snapshot and does not necessarily represent the state of the sub-tree as it ever was - particularly given that this is a public method. &lt;br/&gt;
5. Similarly, explicitly note in the comments that you are deleting all nodes regardless of their version. &lt;br/&gt;
6. Did you decide against including a -r option for delete? I&apos;m +1 on that idea rather than rmr, but don&apos;t feel that strongly. &lt;br/&gt;
7. I would remove the TODO comments - I&apos;m not a huge fan of them (anymore &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; ). There is no separator constant, the BFS thing should be taken care of by renaming and we must make a decision about dealing with the async requests - my take is just to do what you are doing and just run through the entire tree. &lt;/p&gt;

&lt;p&gt;Finally - we need a test for this! I know there&apos;s not a lot of coverage of ZooKeeper, which is not your fault - but I&apos;m intending to be fairly militant about tests &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Check out e.g. ACLRootTest for a structure to get a server up and running and a client to connect to it. A couple of tests which verify the behaviour of both variants would be great. Ideally, we&apos;d be able to test the behaviour when a create interleaves with a recursive delete, but that might still be hard to do without mocking up some of the code.&lt;/p&gt;

&lt;p&gt;I&apos;ll be happy to commit this once these are sorted out, thanks for your patience.&lt;/p&gt;</comment>
                            <comment id="12855252" author="phunt" created="Fri, 9 Apr 2010 03:29:19 +0100"  >&lt;p&gt;Sorry Kay, we&apos;re trying to catchup with some things after the release... No excuses though. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Thanks Henry for picking this up,&lt;br/&gt;
esp the focus on testing. We&apos;re always looking for ppl interested in eventually becoming committers, this requires some&lt;br/&gt;
significant contributions, esp with a focus on working with the community (doing great here) and focus on quality (testing).&lt;/p&gt;

&lt;p&gt;Take a look at this example of testing ZooKeeperMain code, you can probably base your own (maybe general&lt;br/&gt;
ZooKeeperMainTest) off this:&lt;/p&gt;

&lt;p&gt;src/java/test/org/apache/zookeeper/test/ZooKeeperQuotaTest.java&lt;/p&gt;</comment>
                            <comment id="12855254" author="kaykay.unique" created="Fri, 9 Apr 2010 03:38:32 +0100"  >&lt;p&gt;Thanks Henry / Patrick for the review. Tests is something that I was looking to add, but could not find a template to start with. Will look into that a bit more over the w/e. &lt;/p&gt;

&lt;p&gt;Henry:  as far as the command args goes, please see the couple of my comments above. I don&apos;t have a preference with rmr / -r , but I believe some light-weight library would help us a lot here and in the future to be more flexible. Will  take care of the rest in the next patch. &lt;/p&gt;</comment>
                            <comment id="12855304" author="kaykay.unique" created="Fri, 9 Apr 2010 08:18:42 +0100"  >&lt;p&gt;1 /2 . Fixed&lt;br/&gt;
3. Renamed the method with BFS suffix.  Strategy of tree crawling can come in a subsequent patch, I guess and would be out of scope for this one. &lt;br/&gt;
4.5. comments added. &lt;br/&gt;
6. Left as it is . &lt;br/&gt;
7. TODO-s should be out. &lt;/p&gt;

&lt;p&gt;ZooKeeperTest added with method - testDeleteRecursive() . &lt;/p&gt;

&lt;p&gt;callback for async of delete recursive needs to be more meaningful than what it is now.  &lt;/p&gt;</comment>
                            <comment id="12855851" author="phunt" created="Mon, 12 Apr 2010 07:02:58 +0100"  >&lt;p&gt;FYI Kay, you want to &quot;submit patch&quot; link once you have a good patch, in order for hudson qabot to get triggered and trigger the addl review workflow (committer)&lt;/p&gt;</comment>
                            <comment id="12856182" author="henryr" created="Mon, 12 Apr 2010 22:25:55 +0100"  >&lt;p&gt;+1, patch looks good to me - waiting for HudsonBot to give us its verdict.&lt;/p&gt;</comment>
                            <comment id="12856195" author="kaykay.unique" created="Mon, 12 Apr 2010 22:51:44 +0100"  >&lt;p&gt;Patrick -Thanks for helping flipping the status. I did try to do that a couple of times ago, but hudson does not seem to pick up after the first patch !&lt;/p&gt;</comment>
                            <comment id="12856199" author="phunt" created="Mon, 12 Apr 2010 23:03:20 +0100"  >&lt;p&gt;It&apos;s not you Kay, Hudson has been borked, Giri only just recently got it back.&lt;br/&gt;
sometimes it seems to forget pending, it&apos;s running now:&lt;br/&gt;
&lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/51/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/51/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12856222" author="kaykay.unique" created="Tue, 13 Apr 2010 00:34:13 +0100"  >&lt;p&gt;The build seems to have failed, although the tests seem to have passed. &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/51/testReport/org.apache.zookeeper/ZooKeeperTest/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/51/testReport/org.apache.zookeeper/ZooKeeperTest/&lt;/a&gt;   . &lt;/p&gt;

&lt;p&gt;Any idea why the build failed ? &lt;/p&gt;</comment>
                            <comment id="12856224" author="henryr" created="Tue, 13 Apr 2010 00:37:27 +0100"  >&lt;p&gt;I &lt;b&gt;think&lt;/b&gt; it&apos;s due to a documentation warning as there is a link target in one of the headers that doesn&apos;t exist.&lt;/p&gt;</comment>
                            <comment id="12856230" author="phunt" created="Tue, 13 Apr 2010 00:55:23 +0100"  >&lt;p&gt;     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     -1 javadoc.  The javadoc tool appears to have generated 1 warning messages.&lt;/p&gt;

&lt;p&gt;Also, there&apos;s all kinds of fallout because of the security breach from friday. afaict infra ops is still making changes.&lt;/p&gt;

&lt;p&gt;I&apos;ll ping Giri again (may be a known issue).&lt;/p&gt;

&lt;p&gt;but it seems that hudson is unable to update JIRA. so Something is still borked regardless.&lt;/p&gt;</comment>
                            <comment id="12856231" author="kaykay.unique" created="Tue, 13 Apr 2010 00:56:39 +0100"  >&lt;p&gt;Added javadoc to ZookeeperTest + license headers&lt;/p&gt;</comment>
                            <comment id="12856232" author="kaykay.unique" created="Tue, 13 Apr 2010 00:58:24 +0100"  >&lt;p&gt;release audit warnings mentions about - ZookeeperTest . &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/51/artifact/trunk/patchprocess/releaseAuditDiffWarnings.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/51/artifact/trunk/patchprocess/releaseAuditDiffWarnings.txt&lt;/a&gt; . &lt;/p&gt;

&lt;p&gt;New patch added - that hopefully addresses the issue. &lt;/p&gt;</comment>
                            <comment id="12856612" author="kaykay.unique" created="Tue, 13 Apr 2010 21:59:41 +0100"  >&lt;p&gt;fyi - build # 55 is green with the latest patch. &lt;/p&gt;
</comment>
                            <comment id="12857012" author="kaykay.unique" created="Wed, 14 Apr 2010 19:31:38 +0100"  >&lt;p&gt;so - good to go here ? &lt;/p&gt;</comment>
                            <comment id="12857015" author="henryr" created="Wed, 14 Apr 2010 19:35:42 +0100"  >&lt;p&gt;Hudson can&apos;t post messages to JIRA currently, but as Kay says the build looked good. So I&apos;m +1 on this patch, and will commit it later today unless anyone shouts at this breach of protocol &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12857020" author="phunt" created="Wed, 14 Apr 2010 19:50:28 +0100"  >&lt;p&gt;That&apos;s fine Henry, you might just run the findbugs and RAT directly to verify (it&apos;s in build.xml, looks ok to the naked eye though).&lt;/p&gt;

&lt;p&gt;Great job Kay, Thanks!&lt;/p&gt;</comment>
                            <comment id="12857213" author="henryr" created="Thu, 15 Apr 2010 08:26:48 +0100"  >&lt;p&gt;I just committed this (had to move the test file into java/, but otherwise committed as submitted) - thanks Kay!&lt;/p&gt;</comment>
                            <comment id="12857268" author="hudson" created="Thu, 15 Apr 2010 11:48:30 +0100"  >&lt;p&gt;Integrated in ZooKeeper-trunk #794 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/ZooKeeper-trunk/794/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/ZooKeeper-trunk/794/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-729&quot; title=&quot;Recursively delete a znode  - zkCli.sh rmr /node&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-729&quot;&gt;&lt;del&gt;ZOOKEEPER-729&lt;/del&gt;&lt;/a&gt;. Java client API to recursively delete a subtree. (Kay Kay via henry)&lt;/p&gt;</comment>
                            <comment id="12857289" author="kaykay.unique" created="Thu, 15 Apr 2010 13:11:16 +0100"  >&lt;p&gt;Thanks Henry for committing this / Patrick for helping review this. &lt;/p&gt;</comment>
                            <comment id="13176696" author="qwertymaniac" created="Wed, 28 Dec 2011 16:13:38 +0000"  >&lt;p&gt;With &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1326&quot; title=&quot;The CLI commands &amp;quot;delete&amp;quot; and &amp;quot;rmr&amp;quot; are confusing. Can we have &amp;quot;delete&amp;quot; + &amp;quot;deleteall&amp;quot; instead?&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1326&quot;&gt;&lt;del&gt;ZOOKEEPER-1326&lt;/del&gt;&lt;/a&gt;, this command was renamed into &apos;deleteall&apos; and the &apos;rmr&apos; was deprecated - in 3.5+.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12460400">ZOOKEEPER-730</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                                                <inwardlinks description="is superceded by">
                                        <issuelink>
            <issuekey id="12534677">ZOOKEEPER-1326</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12441636" name="ASF.LICENSE.NOT.GRANTED--ZOOKEEPER-729.patch" size="10226" author="kaykay.unique" created="Tue, 13 Apr 2010 19:38:11 +0100"/>
                            <attachment id="12441564" name="ASF.LICENSE.NOT.GRANTED--ZOOKEEPER-729.patch" size="10316" author="kaykay.unique" created="Tue, 13 Apr 2010 00:56:39 +0100"/>
                            <attachment id="12441277" name="ZOOKEEPER-729.patch" size="9436" author="kaykay.unique" created="Fri, 9 Apr 2010 08:18:42 +0100"/>
                            <attachment id="12439928" name="ZOOKEEPER-729.patch" size="5626" author="kaykay.unique" created="Fri, 26 Mar 2010 23:02:20 +0000"/>
                            <attachment id="12439903" name="ZOOKEEPER-729.patch" size="3162" author="kaykay.unique" created="Fri, 26 Mar 2010 19:34:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 26 Mar 2010 20:01:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>47632</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxzxfz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33402</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>