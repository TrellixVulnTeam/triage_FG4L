<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:49:23 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/ZOOKEEPER-1096/ZOOKEEPER-1096.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[ZOOKEEPER-1096] Leader communication should listen on specified IP, not wildcard address</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-1096</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;Server should specify the local address that is used for leader communication and leader election (and not use the default of listening on all interfaces).  This is similar to the clientPortAddress parameter that was added a year ago.  After reviewing the code, we can&apos;t think of a reason why only the port would be used with the wildcard interface, when servers are already connecting specifically to that interface anyway.&lt;/p&gt;

&lt;p&gt;I have submitted a patch, but it does not account for all leader election algorithms.&lt;/p&gt;

&lt;p&gt;Probably should have an option to toggle this, for backwards compatibility, although it seems like it would be a bug if this change broke things.&lt;/p&gt;

&lt;p&gt;There is some more information about making it an option here:&lt;br/&gt;
&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/hadoop-zookeeper-dev/201008.mbox/%3CAANLkTikkT97Djqt3CU=H2+7Gnj_4p28hgCXjh345HiyN@mail.gmail.com%3E&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mail-archives.apache.org/mod_mbox/hadoop-zookeeper-dev/201008.mbox/%3CAANLkTikkT97Djqt3CU=H2+7Gnj_4p28hgCXjh345HiyN@mail.gmail.com%3E&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12510484">ZOOKEEPER-1096</key>
            <summary>Leader communication should listen on specified IP, not wildcard address</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="abranzyck">Germ&#225;n Blanco</assignee>
                                    <reporter username="jaredc">Jared Cantwell</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Jun 2011 19:59:10 +0100</created>
                <updated>Thu, 13 Mar 2014 18:16:58 +0000</updated>
                            <resolved>Wed, 25 Sep 2013 23:14:03 +0100</resolved>
                                    <version>3.3.3</version>
                    <version>3.4.0</version>
                                    <fixVersion>3.4.6</fixVersion>
                    <fixVersion>3.5.0</fixVersion>
                                    <component>server</component>
                        <due></due>
                            <votes>4</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="13049971" author="hadoopqa" created="Wed, 15 Jun 2011 20:31:57 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12482702/ZOOKEEPER-1096.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12482702/ZOOKEEPER-1096.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1135515.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/317//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/317//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13049980" author="phunt" created="Wed, 15 Jun 2011 21:00:12 +0100"  >&lt;p&gt;with git use &quot;--no-prefix&quot; when creating the patch.&lt;/p&gt;</comment>
                            <comment id="13049982" author="phunt" created="Wed, 15 Jun 2011 21:01:51 +0100"  >&lt;blockquote&gt;&lt;p&gt;Probably should have an option to toggle this, for backwards compatibility, although it seems like it would be a bug if this change broke things.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I agree on both counts.&lt;/p&gt;</comment>
                            <comment id="13049985" author="jaredc" created="Wed, 15 Jun 2011 21:04:34 +0100"  >&lt;p&gt;Fixed some prefixes.&lt;/p&gt;</comment>
                            <comment id="13050006" author="hadoopqa" created="Wed, 15 Jun 2011 21:31:42 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12482704/ZOOKEEPER-1096.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12482704/ZOOKEEPER-1096.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1135515.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/318//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/318//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/318//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/318//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/318//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/318//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13050022" author="hadoopqa" created="Wed, 15 Jun 2011 21:55:00 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12482704/ZOOKEEPER-1096.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12482704/ZOOKEEPER-1096.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1135515.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/319//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/319//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/319//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/319//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/319//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/319//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13057222" author="hadoopqa" created="Wed, 29 Jun 2011 14:27:04 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12482704/ZOOKEEPER-1096.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12482704/ZOOKEEPER-1096.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1140017.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated 1 warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/355//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/355//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/355//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/355//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/355//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/355//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13096322" author="hadoopqa" created="Fri, 2 Sep 2011 22:32:02 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12482704/ZOOKEEPER-1096.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12482704/ZOOKEEPER-1096.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1164710.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/492//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/492//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/492//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/492//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/492//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/492//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13108063" author="thkoch" created="Mon, 19 Sep 2011 20:02:34 +0100"  >&lt;p&gt;Could you please upload the patch to &lt;a href=&quot;https://reviews.apache.org/r/new/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/new/&lt;/a&gt; for review?&lt;/p&gt;</comment>
                            <comment id="13137642" author="phunt" created="Thu, 27 Oct 2011 23:24:55 +0100"  >&lt;p&gt;This is a good idea to fix, it should be enabled by default, but have a safety-valve option (java system property would be fine) to turn it off in the unlikely event user has a problem. I&apos;d document it in the &quot;unsafe&quot; options section of the admin guide.&lt;/p&gt;

&lt;p&gt;Also, why not use getQuorumAddress.toString() rather than format it here?&lt;/p&gt;</comment>
                            <comment id="13752199" author="abranzyck" created="Wed, 28 Aug 2013 09:02:12 +0100"  >&lt;p&gt;Wouldn&apos;t it make sense to apply this also for the leader election port (at least for Fast Leader Election)?&lt;br/&gt;
And I also would like to have it in 3.4.6, if there is no problem.&lt;/p&gt;</comment>
                            <comment id="13753609" author="abranzyck" created="Thu, 29 Aug 2013 14:26:34 +0100"  >&lt;p&gt;I am going to prepare a patch updating also Fast Leader Election. Please let me know if there are is any reason to stop me. &lt;/p&gt;</comment>
                            <comment id="13753686" author="jaredc" created="Thu, 29 Aug 2013 15:56:07 +0100"  >&lt;p&gt;3.5.0 solves some of this issue by correctly binding to the full address in QuorumCxnManager.java.  Other places still bind to wildcard though, and that obviously doesn&apos;t apply to 3.4.6 I don&apos;t think.&lt;/p&gt;</comment>
                            <comment id="13753816" author="fpj" created="Thu, 29 Aug 2013 18:08:37 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jaredc&quot; class=&quot;user-hover&quot; rel=&quot;jaredc&quot;&gt;Jared Cantwell&lt;/a&gt;, I&apos;m not sure I get your comment. Are you saying that we don&apos;t need to consider this issue for 3.4.6?&lt;/p&gt;</comment>
                            <comment id="13753820" author="jaredc" created="Thu, 29 Aug 2013 18:11:39 +0100"  >&lt;p&gt;I am simply saying that QuorumCxnManager in 3.5.0 has this issue resolved.&lt;/p&gt;</comment>
                            <comment id="13753827" author="fpj" created="Thu, 29 Aug 2013 18:18:32 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jaredc&quot; class=&quot;user-hover&quot; rel=&quot;jaredc&quot;&gt;Jared Cantwell&lt;/a&gt;, do you remember by any chance the jira that fixed it?&lt;/p&gt;

&lt;p&gt;german, if it is fixed in QCM, then there is nothing else to fix for FLE, yes? We possibly need to port the QCM changes to 3.4.6, though. &lt;/p&gt;</comment>
                            <comment id="13753879" author="jaredc" created="Thu, 29 Aug 2013 18:59:19 +0100"  >&lt;p&gt;It was changed as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1411&quot; title=&quot;Consolidate membership management, distinguish between static and dynamic configuration parameters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1411&quot;&gt;&lt;del&gt;ZOOKEEPER-1411&lt;/del&gt;&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1328991&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1328991&lt;/a&gt; &lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc/zookeeper/trunk/src/java/main/org/apache/zookeeper/server/quorum/QuorumCnxManager.java?r1=1328991&amp;amp;r2=1328990&amp;amp;pathrev=1328991&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc/zookeeper/trunk/src/java/main/org/apache/zookeeper/server/quorum/QuorumCnxManager.java?r1=1328991&amp;amp;r2=1328990&amp;amp;pathrev=1328991&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13754516" author="abranzyck" created="Fri, 30 Aug 2013 10:09:50 +0100"  >&lt;p&gt;yes, right, the fact that it was corrected for leader election in 3.5.0 was also commented in the description of &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1711&quot; title=&quot;ZooKeeper server binds to all ip addresses for leader election and broadcast&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1711&quot;&gt;&lt;del&gt;ZOOKEEPER-1711&lt;/del&gt;&lt;/a&gt;. The previous patch for trunk didn&apos;t work any more, so I have updated it including also the java properties configuration proposed by Patrick Hunt.&lt;br/&gt;
I will also prepare the patch for branch 3.4, including the change in QuorumCnxManager.&lt;/p&gt;</comment>
                            <comment id="13754613" author="abranzyck" created="Fri, 30 Aug 2013 12:45:31 +0100"  >&lt;p&gt;Both patches are uploaded now.&lt;br/&gt;
Would it make sense to have the java properties configuration value for leader election in 3.5.0?&lt;/p&gt;</comment>
                            <comment id="13765843" author="fpj" created="Thu, 12 Sep 2013 21:02:50 +0100"  >&lt;p&gt;Thanks for the patch. Here are a few comments:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Please add documentation.&lt;/li&gt;
	&lt;li&gt;Why are we using system properties and not the config file to set this up?&lt;/li&gt;
	&lt;li&gt;Please with parenthesis with if/else blocks, even if there is a single statement currently.&lt;/li&gt;
	&lt;li&gt;I don&apos;t find it very elegant to catch an exception to determine that we need to return false. Also, I&apos;d rather not catch a generic exception, but instead catch the precise exception we are expecting in the case the property is not there.&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="13765846" author="fpj" created="Thu, 12 Sep 2013 21:03:53 +0100"  >&lt;p&gt;Also, I don&apos;t understand this question:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Would it make sense to have the java properties configuration value for leader election in 3.5.0?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Could you clarify, German, please?&lt;/p&gt;</comment>
                            <comment id="13766283" author="abranzyck" created="Fri, 13 Sep 2013 07:36:29 +0100"  >&lt;p&gt;Thanks a lot for your comments Flavio!&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;1. Please add documentation.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I will as soon as I learn how to do it. If you could please point me to e.g. a paragraph that tells me how to do it or a JIRA that includes documentation that will make things faster, otherwise I will look for it.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;2. Why are we using system properties and not the config file to set this up?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Because of my understanding of Patrick Hunt&apos;s comment above: &lt;a href=&quot;#comment-13137642&quot;&gt;comment-13137642&lt;/a&gt;. But I don&apos;t mind to change it to the config file if that is better.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;3. Please with parenthesis with if/else blocks, even if there is a single statement currently.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;OK&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;4. I don&apos;t find it very elegant to catch an exception to determine that we need to return false. Also, I&apos;d rather not catch a generic exception, but instead catch the precise exception we are expecting in the case the property is not there.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;That is just copied from getSnapCount and getGlobalOutstandingLimit already there in the same class. I don&apos;t mind changing it, but then I guess it would make sense to change it also in the other two methods, right?&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Would it make sense to have the java properties configuration value for leader election in 3.5.0?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;The feature of listening only on the configured IP address is present already for 3.5.0 in trunk, although only for the leader election port. However, in this case, there is no configuration option. That is, the server only listens on the IP that is in the configuration file and there is no way to set an option so that it listens on all IPs for that port which is what versions 3.4.5 and before used to do. Should there be a configuration option to &quot;listenOnAllIPs&quot; for 3.5.0 as the patch proposes for branch 3.4?&lt;/p&gt;</comment>
                            <comment id="13766474" author="abranzyck" created="Fri, 13 Sep 2013 14:33:06 +0100"  >&lt;p&gt;Ok, I know how to update the documentation now. By the way, the forrest task seems to be broken for Windows. I will ask in the developers mailing list.&lt;/p&gt;</comment>
                            <comment id="13766511" author="marshall" created="Fri, 13 Sep 2013 15:45:47 +0100"  >&lt;p&gt;+1 for using the config file to configure the ports and any behavior thereof as this matches the way we configure client ports and is a lot easier to use and deploy on a mass scale IMO than java properties.&lt;/p&gt;</comment>
                            <comment id="13769557" author="abranzyck" created="Tue, 17 Sep 2013 15:32:29 +0100"  >&lt;p&gt;New patch with: Brackets added. Doc updated. Configuration in configuration file. Configuration parameter also in trunk for FLE.&lt;br/&gt;
Please review.&lt;/p&gt;</comment>
                            <comment id="13769565" author="marshall" created="Tue, 17 Sep 2013 15:39:00 +0100"  >&lt;p&gt;This latest version looks really good. I especially like that it&apos;s configured via the configuration file. Nicely done.&lt;/p&gt;

&lt;p&gt;+1 from me.&lt;/p&gt;</comment>
                            <comment id="13769584" author="abranzyck" created="Tue, 17 Sep 2013 16:03:32 +0100"  >&lt;p&gt;Manual steps to verify the patch:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Documentation generated with two new parameters in &quot;Unsafe options&quot; list.&lt;/li&gt;
	&lt;li&gt;Server started with fleListenOnAllIPs set to true, the server listens on all IPs.&lt;/li&gt;
	&lt;li&gt;Server started with fleListenOnAllIPs not set or set to false, the server listens only on one IP.&lt;/li&gt;
	&lt;li&gt;Leader started with zabListenOnAllIPs set to true, it listens on all IPs.&lt;/li&gt;
	&lt;li&gt;Leader started with zabListenOnAllIPs not set or set to false, it listens only on one IP.&lt;br/&gt;
The log shows address &quot;0.0.0.0:XXXX&quot; when listening on all IPs and the specific IP address when it is listening just on one.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13770025" author="fpj" created="Tue, 17 Sep 2013 22:47:00 +0100"  >&lt;p&gt;I&apos;m sorry for coming up with another question, but I was wondering about the reason for having separate properties for fle and zab. Do you expect anyone to set the properties differently for fle and zab? I would say that it is ok to have a single property, but I&apos;d like to hear your opinion.&lt;/p&gt;</comment>
                            <comment id="13770029" author="marshall" created="Tue, 17 Sep 2013 22:51:03 +0100"  >&lt;p&gt;Flavio brings up a great point. It seems like most would want to change both fle and zab rather than one or the other separately. I like the idea of making this a single property.&lt;/p&gt;</comment>
                            <comment id="13770588" author="abranzyck" created="Wed, 18 Sep 2013 10:05:35 +0100"  >&lt;p&gt;The patches now have only one configuration parameter for both leader election and broadcast protocol.&lt;/p&gt;</comment>
                            <comment id="13770626" author="hadoopqa" created="Wed, 18 Sep 2013 10:59:39 +0100"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12603793/ZOOKEEPER-1096.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12603793/ZOOKEEPER-1096.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1524275.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1586//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1586//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1586//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1586//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1586//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1586//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13771701" author="fpj" created="Thu, 19 Sep 2013 09:47:18 +0100"  >&lt;p&gt;+1, thanks, Germ&#225;n.&lt;/p&gt;</comment>
                            <comment id="13778155" author="fpj" created="Wed, 25 Sep 2013 23:14:03 +0100"  >&lt;p&gt;Branch 3.4 Revision: 1526313&lt;br/&gt;
Trunk Revision: 1526317&lt;/p&gt;</comment>
                            <comment id="13778511" author="marshall" created="Thu, 26 Sep 2013 07:28:18 +0100"  >&lt;p&gt;Thanks Germ&#225;n and Flavio! Really nice job finishing this one up.&lt;/p&gt;</comment>
                            <comment id="13778662" author="hudson" created="Thu, 26 Sep 2013 12:06:31 +0100"  >&lt;p&gt;SUCCESS: Integrated in ZooKeeper-trunk #2068 (See &lt;a href=&quot;https://builds.apache.org/job/ZooKeeper-trunk/2068/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/ZooKeeper-trunk/2068/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1096&quot; title=&quot;Leader communication should listen on specified IP, not wildcard address&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1096&quot;&gt;&lt;del&gt;ZOOKEEPER-1096&lt;/del&gt;&lt;/a&gt;. Leader communication should listen on specified IP, not wildcard address (Jared Cantwell, German Blanco via fpj) (fpj: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1526317&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1526317&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/zookeeper/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/docs/src/documentation/content/xdocs/zookeeperAdmin.xml&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/java/main/org/apache/zookeeper/server/quorum/Leader.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/java/main/org/apache/zookeeper/server/quorum/QuorumCnxManager.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/java/main/org/apache/zookeeper/server/quorum/QuorumPeer.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/java/main/org/apache/zookeeper/server/quorum/QuorumPeerConfig.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/java/main/org/apache/zookeeper/server/quorum/QuorumPeerMain.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/java/test/org/apache/zookeeper/test/LENonTerminateTest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13933719" author="fpj" created="Thu, 13 Mar 2014 18:16:58 +0000"  >&lt;p&gt;Closing issues after releasing 3.4.6.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12650311">ZOOKEEPER-1711</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12603793" name="ZOOKEEPER-1096.patch" size="9798" author="abranzyck" created="Wed, 18 Sep 2013 10:05:35 +0100"/>
                            <attachment id="12603598" name="ZOOKEEPER-1096.patch" size="10990" author="abranzyck" created="Tue, 17 Sep 2013 15:32:29 +0100"/>
                            <attachment id="12600752" name="ZOOKEEPER-1096.patch" size="2422" author="abranzyck" created="Fri, 30 Aug 2013 10:10:34 +0100"/>
                            <attachment id="12482704" name="ZOOKEEPER-1096.patch" size="965" author="jaredc" created="Wed, 15 Jun 2011 21:04:34 +0100"/>
                            <attachment id="12482702" name="ZOOKEEPER-1096.patch" size="973" author="jaredc" created="Wed, 15 Jun 2011 20:29:34 +0100"/>
                            <attachment id="12603790" name="ZOOKEEPER-1096_branch3.4.patch" size="10210" author="abranzyck" created="Wed, 18 Sep 2013 09:39:49 +0100"/>
                            <attachment id="12603590" name="ZOOKEEPER-1096_branch3.4.patch" size="11402" author="abranzyck" created="Tue, 17 Sep 2013 14:18:58 +0100"/>
                            <attachment id="12600767" name="ZOOKEEPER-1096_branch3.4.patch" size="4370" author="abranzyck" created="Fri, 30 Aug 2013 12:43:03 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 15 Jun 2011 19:31:57 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy1evb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42060</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>