<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:50:12 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/ZOOKEEPER-1858/ZOOKEEPER-1858.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[ZOOKEEPER-1858] JMX checks - potential race conditions while stopping and starting server</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-1858</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;I&apos;ve noticed one potential case, where previously created zkclient session immediately reconnected and publishing those beans while starting back the zkserver and affecting zk#startup jmx checks.&lt;/p&gt;

&lt;p&gt;Say, before stopping the server, there is a zk client session 0x143576544c50000 exists. While starting back the server, there could be possibility of seeing the client sessions in jmx. Following is one such case. Please see below logs which has taken from build &lt;a href=&quot;https://builds.apache.org/job/ZooKeeper-trunk-WinVS2008_java/642/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/ZooKeeper-trunk-WinVS2008_java/642/&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    [junit] 2014-01-03 09:18:12,809 [myid:] - INFO  [main-SendThread(127.0.0.1:11222):ClientCnxn$SendThread@1228] - Session establishment complete on server 127.0.0.1/127.0.0.1:11222, sessionid = 0x143576544c50000, negotiated timeout = 30000
    [junit] 2014-01-03 09:18:12,809 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11222:ZooKeeperServer@617] - Established session 0x143576544c50000 with negotiated timeout 30000 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; client /127.0.0.1:55377&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; [junit] 2014-01-03 09:18:12,391 [myid:] - INFO  [main:JMXEnv@135] - ensureOnly:[]
    [junit] 2014-01-03 09:18:12,395 [myid:] - INFO  [main:ClientBase@438] - STARTING server
    [junit] 2014-01-03 09:18:12,395 [myid:] - INFO  [main:ClientBase@359] - CREATING server instance 127.0.0.1:11222
    [junit] 2014-01-03 09:18:12,395 [myid:] - INFO  [main:NIOServerCnxnFactory@94] - binding to port 0.0.0.0/0.0.0.0:11222
    [junit] 2014-01-03 09:18:12,395 [myid:] - INFO  [main:ClientBase@334] - STARTING server instance 127.0.0.1:11222

    [junit] 2014-01-03 09:18:19,030 [myid:] - INFO  [main:JMXEnv@142] - unexpected:org.apache.ZooKeeperService:name0=StandaloneServer_port-1,name1=Connections,name2=127.0.0.1,name3=0x143576544c50000
    [junit] 2014-01-03 09:18:19,030 [myid:] - INFO  [main:JMXEnv@142] - unexpected:org.apache.ZooKeeperService:name0=StandaloneServer_port-1
    [junit] 2014-01-03 09:18:19,030 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@62] - TEST METHOD FAILED testDefaultWatcherAutoResetWithChroot
    [junit] junit.framework.AssertionFailedError: expected:&amp;lt;0&amp;gt; but was:&amp;lt;2&amp;gt;
    [junit] 	at junit.framework.Assert.fail(Assert.java:47)
    [junit] 	at junit.framework.Assert.failNotEquals(Assert.java:283)
    [junit] 	at junit.framework.Assert.assertEquals(Assert.java:64)
    [junit] 	at junit.framework.Assert.assertEquals(Assert.java:195)
    [junit] 	at junit.framework.Assert.assertEquals(Assert.java:201)
    [junit] 	at org.apache.zookeeper.test.JMXEnv.ensureOnly(JMXEnv.java:144)
    [junit] 	at org.apache.zookeeper.test.ClientBase.startServer(ClientBase.java:443)
    [junit] 	at org.apache.zookeeper.test.DisconnectedWatcherTest.testDefaultWatcherAutoResetWithChroot(DisconnectedWatcherTest.java:123)
    [junit] 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12687226">ZOOKEEPER-1858</key>
            <summary>JMX checks - potential race conditions while stopping and starting server</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12683243">ZOOKEEPER-1833</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rakeshr">Rakesh R</assignee>
                                    <reporter username="rakeshr">Rakesh R</reporter>
                        <labels>
                            <label>test</label>
                    </labels>
                <created>Fri, 3 Jan 2014 18:55:27 +0000</created>
                <updated>Thu, 13 Mar 2014 18:16:53 +0000</updated>
                            <resolved>Sat, 25 Jan 2014 00:19:42 +0000</resolved>
                                                    <fixVersion>3.4.6</fixVersion>
                    <fixVersion>3.5.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13861789" author="rakeshr" created="Fri, 3 Jan 2014 19:06:02 +0000"  >&lt;p&gt;Attached patch, now while starting the server it will pass the optional beans and will be skipped. These optional beans will not be used for strong assertions.&lt;/p&gt;</comment>
                            <comment id="13861842" author="hadoopqa" created="Fri, 3 Jan 2014 19:43:52 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12621365/ZOOKEEPER-1858.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12621365/ZOOKEEPER-1858.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1554981.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 29 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1872//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1872//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1872//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1872//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1872//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1872//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13861931" author="angelines" created="Fri, 3 Jan 2014 21:44:17 +0000"  >&lt;p&gt;2014-01-02 23:53:22,474 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;o.a.c.e.o.NetworkOrchestrator&amp;#93;&lt;/span&gt; (Network-Scavenger-1:ctx-8cae1bef) Sending network shutdown to VirtualRouter&lt;br/&gt;
2014-01-02 23:53:22,478 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;c.c.n.r.VirtualNetworkApplianceManagerImpl&amp;#93;&lt;/span&gt; (Network-Scavenger-1:ctx-8cae1bef) Stopping router VM&lt;span class=&quot;error&quot;&gt;&amp;#91;DomainRouter|r-8-VM&amp;#93;&lt;/span&gt;&lt;br/&gt;
2014-01-02 23:53:22,479 WARN  &lt;span class=&quot;error&quot;&gt;&amp;#91;o.a.c.e.o.NetworkOrchestrator&amp;#93;&lt;/span&gt; (Network-Scavenger-1:ctx-8cae1bef) Unable to complete shutdown of the network elements due to element: VirtualRouter&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
        at com.cloud.vm.VirtualMachineManagerImpl.advanceStop(VirtualMachineManagerImpl.java:1268)&lt;br/&gt;
        at com.cloud.network.router.VirtualNetworkApplianceManagerImpl.stop(VirtualNetworkApplianceManagerImpl.java:2702)&lt;br/&gt;
        at com.cloud.network.router.VirtualNetworkApplianceManagerImpl.stop(VirtualNetworkApplianceManagerImpl.java:139)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:616)&lt;br/&gt;
        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)&lt;br/&gt;
        at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)&lt;br/&gt;
        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)&lt;br/&gt;
        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:91)&lt;br/&gt;
        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)&lt;br/&gt;
        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)&lt;br/&gt;
        at sun.proxy.$Proxy240.stop(Unknown Source)&lt;br/&gt;
        at com.cloud.network.element.VirtualRouterElement.shutdown(VirtualRouterElement.java:665)&lt;br/&gt;
        at org.apache.cloudstack.engine.orchestration.NetworkOrchestrator.shutdownNetworkElementsAndResources(NetworkOrchestrator.java:2052)&lt;br/&gt;
        at org.apache.cloudstack.engine.orchestration.NetworkOrchestrator.shutdownNetwork(NetworkOrchestrator.java:1965)&lt;br/&gt;
        at org.apache.cloudstack.engine.orchestration.NetworkOrchestrator$NetworkGarbageCollector.reallyRun(NetworkOrchestrator.java:2305)&lt;br/&gt;
        at org.apache.cloudstack.engine.orchestration.NetworkOrchestrator$NetworkGarbageCollector.runInContext(NetworkOrchestrator.java:2248)&lt;br/&gt;
        at org.apache.cloudstack.managed.context.ManagedContextRunnable$1.run(ManagedContextRunnable.java:49)&lt;br/&gt;
        at org.apache.cloudstack.managed.context.impl.DefaultManagedContext$1.call(DefaultManagedContext.java:56)&lt;br/&gt;
        at org.apache.cloudstack.managed.context.impl.DefaultManagedContext.callWithContext(DefaultManagedContext.java:103)&lt;br/&gt;
        at org.apache.cloudstack.managed.context.impl.DefaultManagedContext.runWithContext(DefaultManagedContext.java:53)&lt;br/&gt;
        at org.apache.cloudstack.managed.context.ManagedContextRunnable.run(ManagedContextRunnable.java:46)&lt;br/&gt;
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)&lt;br/&gt;
        at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:351)&lt;br/&gt;
        at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:178)&lt;br/&gt;
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:165)&lt;br/&gt;
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:267)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1146)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:679)&lt;br/&gt;
2014-01-02 23:53:22,488 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;o.a.c.e.o.NetworkOrchestrator&amp;#93;&lt;/span&gt; (Network-Scavenger-1:ctx-8cae1bef) Lock is released for network Ntwk&lt;span class=&quot;error&quot;&gt;&amp;#91;205|Guest|8&amp;#93;&lt;/span&gt; as a part of network shutdown&lt;br/&gt;
2014-01-02 23:53:23,112 WARN  &lt;span class=&quot;error&quot;&gt;&amp;#91;c.c.u.n.Link&amp;#93;&lt;/span&gt; (AgentManager-Selector:null) SSL: Fail to find the generated keystore. Loading fail-safe one to continue.&lt;br/&gt;
2014-01-02 23:53:27,528 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;c.c.s.StatsCollector&amp;#93;&lt;/span&gt; (StatsCollector-2:ctx-0a4e0b12) VmStatsCollector is running...&lt;br/&gt;
2014-01-02 23:53:27,550 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;c.c.a.m.DirectAgentAttache&amp;#93;&lt;/span&gt; (DirectAgent-406:ctx-d13f6f69) Seq 1-77595884: Executing request&lt;br/&gt;
2014-01-02 23:53:27,898 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;c.c.h.v.m.HostMO&amp;#93;&lt;/span&gt; (DirectAgent-406:ctx-d13f6f69 10.223.51.4) find VM i-2-12-VM on host&lt;/p&gt;


&lt;p&gt;2014-01-02 23:13:22,188 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;o.a.c.e.o.NetworkOrchestrator&amp;#93;&lt;/span&gt; (Network-Scavenger-1:ctx-fbd8a699) Sending network shutdown to VirtualRouter&lt;br/&gt;
2014-01-02 23:13:22,192 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;c.c.n.r.VirtualNetworkApplianceManagerImpl&amp;#93;&lt;/span&gt; (Network-Scavenger-1:ctx-fbd8a699) Stopping router VM&lt;span class=&quot;error&quot;&gt;&amp;#91;DomainRouter|r-8-VM&amp;#93;&lt;/span&gt;&lt;br/&gt;
2014-01-02 23:13:22,192 WARN  &lt;span class=&quot;error&quot;&gt;&amp;#91;o.a.c.e.o.NetworkOrchestrator&amp;#93;&lt;/span&gt; (Network-Scavenger-1:ctx-fbd8a699) Unable to complete shutdown of the network elements due to element: VirtualRouter&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
        at com.cloud.vm.VirtualMachineManagerImpl.advanceStop(VirtualMachineManagerImpl.java:1268)&lt;br/&gt;
        at com.cloud.network.router.VirtualNetworkApplianceManagerImpl.stop(VirtualNetworkApplianceManagerImpl.java:2702)&lt;br/&gt;
        at com.cloud.network.router.VirtualNetworkApplianceManagerImpl.stop(VirtualNetworkApplianceManagerImpl.java:139)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:616)&lt;br/&gt;
        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)&lt;br/&gt;
        at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)&lt;br/&gt;
        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)&lt;br/&gt;
        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:91)&lt;br/&gt;
        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)&lt;br/&gt;
        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)&lt;br/&gt;
        at sun.proxy.$Proxy240.stop(Unknown Source)&lt;br/&gt;
        at com.cloud.network.element.VirtualRouterElement.shutdown(VirtualRouterElement.java:665)&lt;br/&gt;
        at org.apache.cloudstack.engine.orchestration.NetworkOrchestrator.shutdownNetworkElementsAndResources(NetworkOrchestrator.java:2052)&lt;br/&gt;
        at org.apache.cloudstack.engine.orchestration.NetworkOrchestrator.shutdownNetwork(NetworkOrchestrator.java:1965)&lt;br/&gt;
        at org.apache.cloudstack.engine.orchestration.NetworkOrchestrator$NetworkGarbageCollector.reallyRun(NetworkOrchestrator.java:2305)&lt;br/&gt;
        at org.apache.cloudstack.engine.orchestration.NetworkOrchestrator$NetworkGarbageCollector.runInContext(NetworkOrchestrator.java:2248)&lt;br/&gt;
        at org.apache.cloudstack.managed.context.ManagedContextRunnable$1.run(ManagedContextRunnable.java:49)&lt;br/&gt;
        at org.apache.cloudstack.managed.context.impl.DefaultManagedContext$1.call(DefaultManagedContext.java:56)&lt;br/&gt;
        at org.apache.cloudstack.managed.context.impl.DefaultManagedContext.callWithContext(DefaultManagedContext.java:103)&lt;br/&gt;
        at org.apache.cloudstack.managed.context.impl.DefaultManagedContext.runWithContext(DefaultManagedContext.java:53)&lt;br/&gt;
        at org.apache.cloudstack.managed.context.ManagedContextRunnable.run(ManagedContextRunnable.java:46)&lt;br/&gt;
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)&lt;br/&gt;
        at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:351)&lt;br/&gt;
        at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:178)&lt;br/&gt;
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:165)&lt;br/&gt;
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:267)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1146)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:679)&lt;br/&gt;
2014-01-02 23:13:22,202 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;o.a.c.e.o.NetworkOrchestrator&amp;#93;&lt;/span&gt; (Network-Scavenger-1:ctx-fbd8a699) Lock is released for network Ntwk&lt;span class=&quot;error&quot;&gt;&amp;#91;205|Guest|8&amp;#93;&lt;/span&gt; as a part of network shutdown&lt;br/&gt;
2014-01-02 23:13:23,299 WARN  &lt;span class=&quot;error&quot;&gt;&amp;#91;c.c.u.n.Link&amp;#93;&lt;/span&gt; (AgentManager-Selector:null) SSL: Fail to find the generated keystore. Loading fail-safe one to continue.&lt;br/&gt;
2014-01-02 23:13:27,734 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;c.c.a.m.AgentManagerImpl&amp;#93;&lt;/span&gt; (AgentManager-Handler-4:null) SeqA 3-2432: Processing Seq 3-2432:  { Cmd , MgmtId: -1, via: 3, Ver: v1, Flags: 11, [{&quot;com.cloud.agent.api.ConsoleProxyLoadReportC&lt;br/&gt;
ommand&quot;:{&quot;_proxyVmId&quot;:1,&quot;_loadInfo&quot;:&quot;&lt;/p&gt;
{\n  \&quot;connections\&quot;: []\n}
&lt;p&gt;&quot;,&quot;wait&quot;:0}}] }&lt;/p&gt;



</comment>
                            <comment id="13862172" author="rakeshr" created="Sat, 4 Jan 2014 02:59:02 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=angelines&quot; class=&quot;user-hover&quot; rel=&quot;angelines&quot;&gt;angeline shen&lt;/a&gt;, I didn&apos;t understand the stacktrace. Kindly explain the background of the issue and it would be helpful.&lt;/p&gt;</comment>
                            <comment id="13867485" author="rakeshr" created="Fri, 10 Jan 2014 04:24:05 +0000"  >&lt;p&gt;I could see &lt;a href=&quot;https://issues.apache.org/jira/browse/CLOUDSTACK-5769&quot; title=&quot;[vmware] scheduled snapshot failed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CLOUDSTACK-5769&quot;&gt;&lt;del&gt;CLOUDSTACK-5769&lt;/del&gt;&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/CLOUDSTACK-5769?focusedCommentId=13861933&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13861933&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CLOUDSTACK-5769?focusedCommentId=13861933&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13861933&lt;/a&gt; has the same stacktrace. Also there is no response from @angeline shen about my queries. So I&apos;m strongly thinking, by mistake he might have added the stacktrace to this jira and IMHO we can ignore it.&lt;/p&gt;

&lt;p&gt;Hi All, I would like to know the feedback on the problem statement and the proposed fix. Thanks&lt;/p&gt;</comment>
                            <comment id="13867557" author="abranzyck" created="Fri, 10 Jan 2014 06:33:47 +0000"  >&lt;p&gt;This problem looks very similar to &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1837&quot; title=&quot;Fix JMXEnv checks (potential race conditions)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1837&quot;&gt;&lt;del&gt;ZOOKEEPER-1837&lt;/del&gt;&lt;/a&gt;, which was never committed to trunk. The patch in &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1837&quot; title=&quot;Fix JMXEnv checks (potential race conditions)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1837&quot;&gt;&lt;del&gt;ZOOKEEPER-1837&lt;/del&gt;&lt;/a&gt; should work for trunk. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fpj&quot; class=&quot;user-hover&quot; rel=&quot;fpj&quot;&gt;Flavio Junqueira&lt;/a&gt;, could you please check if it would make sense to apply that fix? Does that cover the issue?&lt;/p&gt;</comment>
                            <comment id="13867581" author="rakeshr" created="Fri, 10 Jan 2014 07:14:11 +0000"  >&lt;p&gt;Yeah German, its similar case only. I&apos;m seeing the issue &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1837&quot; title=&quot;Fix JMXEnv checks (potential race conditions)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1837&quot;&gt;&lt;del&gt;ZOOKEEPER-1837&lt;/del&gt;&lt;/a&gt; has fixed on 14/Dec/13 11:24.  Even after the fix I could see again the same case occured in 3.4 branch. Please see the build &lt;a href=&quot;https://builds.apache.org/job/ZooKeeper-3.4-WinVS2008_java/397/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/ZooKeeper-3.4-WinVS2008_java/397/&lt;/a&gt;&lt;br/&gt;
I think, good to avoid those client sessions when restarting the server, because timeout may not work well. What do you say?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    [junit] 2014-01-03 09:18:19,710 [myid:] - INFO  [main:FinalRequestProcessor@415] - shutdown of request processor complete
    [junit] 2014-01-03 09:18:19,711 [myid:] - INFO  [main:FourLetterWordMain@43] - connecting to 127.0.0.1 11222
    [junit] 2014-01-03 09:18:20,716 [myid:] - INFO  [main:JMXEnv@135] - ensureOnly:[]
    [junit] 2014-01-03 09:18:20,719 [myid:] - INFO  [main:ZKTestCase$1@65] - FAILED testDefaultWatcherAutoResetWithChroot
    [junit] junit.framework.AssertionFailedError: expected:&amp;lt;0&amp;gt; but was:&amp;lt;2&amp;gt;
    [junit] 	at junit.framework.Assert.fail(Assert.java:47)
    [junit] 	at junit.framework.Assert.failNotEquals(Assert.java:283)
    [junit] 	at junit.framework.Assert.assertEquals(Assert.java:64)
    [junit] 	at junit.framework.Assert.assertEquals(Assert.java:195)
    [junit] 	at junit.framework.Assert.assertEquals(Assert.java:201)
    [junit] 	at org.apache.zookeeper.test.JMXEnv.ensureOnly(JMXEnv.java:144)
    [junit] 	at org.apache.zookeeper.test.ClientBase.startServer(ClientBase.java:443)
    [junit] 	at org.apache.zookeeper.test.DisconnectedWatcherTest.testDefaultWatcherAutoResetWithChroot(DisconnectedWatcherTest.java:123)
    [junit] 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    [junit] 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    [junit] 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    [junit] 	at java.lang.reflect.Method.invoke(Method.java:601)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13867631" author="rakeshr" created="Fri, 10 Jan 2014 08:46:18 +0000"  >&lt;p&gt;Adding one more point. Here the failure cause is - due to the immediate zkclient reconnection and publishing of zkclient session beans, while starting back the stopped zkserver.&lt;/p&gt;</comment>
                            <comment id="13868691" author="abranzyck" created="Sat, 11 Jan 2014 07:03:11 +0000"  >&lt;p&gt;I think I understand now. I will put it in my own words.&lt;br/&gt;
The problem that you solve here is that there are test cases in which we have running zk clients while a server is stopped and started with ClientBase.stopServer and ClientBase.startServer. ClientBase.startServer has an assertion checking that there are no session beans in JMX, however, depending on timing, the running zk clients might be able to reconnect and create session beans before the check takes place. So we need to have those beans into account in the checking in order to avoid problems.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1837&quot; title=&quot;Fix JMXEnv checks (potential race conditions)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1837&quot;&gt;&lt;del&gt;ZOOKEEPER-1837&lt;/del&gt;&lt;/a&gt; does not solve the problem, since &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1837&quot; title=&quot;Fix JMXEnv checks (potential race conditions)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1837&quot;&gt;&lt;del&gt;ZOOKEEPER-1837&lt;/del&gt;&lt;/a&gt; just repeats this check a few times in order to avoid race conditions in which the JMX update may take longer, but this is actually happening because the correct status in JMX takes less time (with respect to the threads that checks) than what it seems to take in other environments.&lt;/p&gt;

&lt;p&gt;Please correct this interpretation if wrong. Otherwise, +1, it looks good to me.&lt;/p&gt;</comment>
                            <comment id="13868695" author="rakeshr" created="Sat, 11 Jan 2014 07:15:44 +0000"  >&lt;p&gt;Yeah German, exactly your thinking is correct&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13869098" author="fpj" created="Sun, 12 Jan 2014 17:52:23 +0000"  >&lt;p&gt;The assessment of the problem seems ok, but I have a couple of concerns about this patch:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;If ensureAll is there, it is likely that someone wanted to make sure we are not leaking JMX beans. Making some names optional defeats the purpose of the check. Here is a guess, though. Is there a way of checking the beans of sessions that do not exist? For a valid session, we ignore the check. A different approach would be to make sure that there are not such sessions. Is any of these possible?&lt;/li&gt;
	&lt;li&gt;Assuming that this direction is the best we can do, I don&apos;t like the changes to the method signatures. Adding optional names to ensureAll is odd because I&apos;d expect something that has all in the name to really check all.&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="13870466" author="rakeshr" created="Tue, 14 Jan 2014 07:06:24 +0000"  >&lt;p&gt;Hi Flavio, I agree with you, my previous logic was changing the semantics of ensureAll api.&lt;br/&gt;
Can you please look at the latest patch, where I tried to solve the problem in parent and child beans approach. Does this sound good to you?&lt;/p&gt;</comment>
                            <comment id="13870470" author="hadoopqa" created="Tue, 14 Jan 2014 07:11:43 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12622803/ZOOKEEPER-1858.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12622803/ZOOKEEPER-1858.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1557875.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 12 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1883//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1883//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13870487" author="rakeshr" created="Tue, 14 Jan 2014 07:43:33 +0000"  >&lt;p&gt;Ah. Previously attached patch is from branch3.4. Attaching new patch generated from trunk.&lt;/p&gt;</comment>
                            <comment id="13870512" author="hadoopqa" created="Tue, 14 Jan 2014 08:14:48 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12622810/ZOOKEEPER-1858.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12622810/ZOOKEEPER-1858.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1557875.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 12 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1884//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1884//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1884//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1884//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1884//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1884//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13872217" author="fpj" created="Wed, 15 Jan 2014 16:01:26 +0000"  >&lt;p&gt;It looks better now, thanks, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rakeshr&quot; class=&quot;user-hover&quot; rel=&quot;rakeshr&quot;&gt;Rakesh R&lt;/a&gt;. I&apos;m still a bit hesitant in checking in this patch as is. Tracing back the change, the JMX stuff apparently got in with &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-94&quot; title=&quot;JMX tests are needed to verify that the JMX MBeans work properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-94&quot;&gt;&lt;del&gt;ZOOKEEPER-94&lt;/del&gt;&lt;/a&gt;. I was wondering if &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=phunt&quot; class=&quot;user-hover&quot; rel=&quot;phunt&quot;&gt;Patrick Hunt&lt;/a&gt; can chime in to make sure that we are not breaking anything.&lt;/p&gt;</comment>
                            <comment id="13872444" author="phunt" created="Wed, 15 Jan 2014 19:10:49 +0000"  >&lt;p&gt;I see why this is necessary, the patch seems reasonable to me.&lt;/p&gt;

&lt;p&gt;One thing caught my eye in the patch&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;waits in a loop up to 5 seconds&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;why are we waiting 5 seconds?&lt;/p&gt;</comment>
                            <comment id="13872943" author="rakeshr" created="Thu, 16 Jan 2014 01:49:37 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fpj&quot; class=&quot;user-hover&quot; rel=&quot;fpj&quot;&gt;Flavio Junqueira&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=phunt&quot; class=&quot;user-hover&quot; rel=&quot;phunt&quot;&gt;Patrick Hunt&lt;/a&gt; for the reviews.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;why are we waiting 5 seconds?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Please see &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1837&quot; title=&quot;Fix JMXEnv checks (potential race conditions)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1837&quot;&gt;&lt;del&gt;ZOOKEEPER-1837&lt;/del&gt;&lt;/a&gt; issue. There is a pattern we had observed while analysing the windows jenkins failure, it may take few moments to see the published beans by the clients and the test cases are failing randomly due to this. So its giving some more grace period rather than failing immediately.&lt;/p&gt;</comment>
                            <comment id="13872953" author="phunt" created="Thu, 16 Jan 2014 01:55:06 +0000"  >&lt;p&gt;The reason I ask, 5 seconds is pretty short. What typically ends up happening is that it works fine for you, but on lesser powered (underprovisioned) test hardware it will fail. We end up with a flakey test. What I&apos;d suggest is either don&apos;t use a timeout, or, if you do need to use a timeout use something crazy large (60 sec?), typically including polling at a shorter interval. The key is that the test, in the typical case, should not be affected by the 60sec timeout (it should not take 60 sec longer for example) but if the h/w is slow we can handle that case and still give the test a chance to pass.&lt;/p&gt;</comment>
                            <comment id="13873262" author="rakeshr" created="Thu, 16 Jan 2014 10:56:15 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=phunt&quot; class=&quot;user-hover&quot; rel=&quot;phunt&quot;&gt;Patrick Hunt&lt;/a&gt;, attached patch by giving 60secs grace period. &lt;/p&gt;</comment>
                            <comment id="13873293" author="hadoopqa" created="Thu, 16 Jan 2014 11:34:46 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12623353/ZOOKEEPER-1858.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12623353/ZOOKEEPER-1858.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1557875.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 12 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1890//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1890//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1890//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1890//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1890//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1890//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13873505" author="fpj" created="Thu, 16 Jan 2014 15:42:23 +0000"  >&lt;p&gt;Thanks for checking this one out, @phunt. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rakeshr&quot; class=&quot;user-hover&quot; rel=&quot;rakeshr&quot;&gt;Rakesh R&lt;/a&gt;, will you generate a 3.4 patch?&lt;/p&gt;</comment>
                            <comment id="13873546" author="hadoopqa" created="Thu, 16 Jan 2014 16:11:28 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12623411/ZOOKEEPER-1858_br3_4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12623411/ZOOKEEPER-1858_br3_4.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1557875.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 12 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1891//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1891//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13873549" author="rakeshr" created="Thu, 16 Jan 2014 16:12:38 +0000"  >&lt;p&gt;Hi Flavio, attached 3.4 patch. Please have a look at it.&lt;/p&gt;

&lt;p&gt;As this is 3.4 patch, please ignore jenkins failure report (if any)&lt;/p&gt;</comment>
                            <comment id="13876355" author="fpj" created="Mon, 20 Jan 2014 11:21:50 +0000"  >&lt;p&gt;The 3.4 patch looks good, but the trunk patch conflicts. Could you fix it, please, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rakeshr&quot; class=&quot;user-hover&quot; rel=&quot;rakeshr&quot;&gt;Rakesh R&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="13876522" author="rakeshr" created="Mon, 20 Jan 2014 15:42:20 +0000"  >&lt;p&gt;Hi Flavio, I have rebased both trunk and branch3.4 patch.&lt;br/&gt;
In this I have added link to the JIRA also, please have a look at it.&lt;/p&gt;</comment>
                            <comment id="13876545" author="hadoopqa" created="Mon, 20 Jan 2014 16:14:58 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12623957/ZOOKEEPER-1858.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12623957/ZOOKEEPER-1858.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1558950.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 12 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1895//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1895//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1895//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1895//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1895//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1895//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13881553" author="fpj" created="Sat, 25 Jan 2014 00:19:42 +0000"  >&lt;p&gt;+1, thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rakeshr&quot; class=&quot;user-hover&quot; rel=&quot;rakeshr&quot;&gt;Rakesh R&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Trunk: Committed revision 1561236.&lt;br/&gt;
Branch 3.4: Committed revision 1561069&lt;/p&gt;</comment>
                            <comment id="13881812" author="hudson" created="Sat, 25 Jan 2014 11:09:53 +0000"  >&lt;p&gt;SUCCESS: Integrated in ZooKeeper-trunk #2195 (See &lt;a href=&quot;https://builds.apache.org/job/ZooKeeper-trunk/2195/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/ZooKeeper-trunk/2195/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1858&quot; title=&quot;JMX checks - potential race conditions while stopping and starting server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1858&quot;&gt;&lt;del&gt;ZOOKEEPER-1858&lt;/del&gt;&lt;/a&gt;. JMX checks - potential race conditions while stopping &lt;br/&gt;
  and starting server (Rakesh R via fpj) (fpj: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1561236&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1561236&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/zookeeper/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/java/test/org/apache/zookeeper/test/ClientBase.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/java/test/org/apache/zookeeper/test/FourLetterWordsQuorumTest.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/java/test/org/apache/zookeeper/test/FourLetterWordsTest.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/java/test/org/apache/zookeeper/test/JMXEnv.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13933693" author="fpj" created="Thu, 13 Mar 2014 18:16:53 +0000"  >&lt;p&gt;Closing issues after releasing 3.4.6.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12621364" name="ZOOKEEPER-1858-br3.4.patch" size="12064" author="rakeshr" created="Fri, 3 Jan 2014 19:01:30 +0000"/>
                            <attachment id="12623957" name="ZOOKEEPER-1858.patch" size="7721" author="rakeshr" created="Mon, 20 Jan 2014 15:39:07 +0000"/>
                            <attachment id="12623353" name="ZOOKEEPER-1858.patch" size="7484" author="rakeshr" created="Thu, 16 Jan 2014 10:54:36 +0000"/>
                            <attachment id="12622810" name="ZOOKEEPER-1858.patch" size="7177" author="rakeshr" created="Tue, 14 Jan 2014 07:40:13 +0000"/>
                            <attachment id="12622803" name="ZOOKEEPER-1858.patch" size="7548" author="rakeshr" created="Tue, 14 Jan 2014 07:01:17 +0000"/>
                            <attachment id="12621365" name="ZOOKEEPER-1858.patch" size="10799" author="rakeshr" created="Fri, 3 Jan 2014 19:01:47 +0000"/>
                            <attachment id="12623956" name="ZOOKEEPER-1858_br3_4.patch" size="7730" author="rakeshr" created="Mon, 20 Jan 2014 15:38:44 +0000"/>
                            <attachment id="12623411" name="ZOOKEEPER-1858_br3_4.patch" size="7642" author="rakeshr" created="Thu, 16 Jan 2014 16:09:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 3 Jan 2014 19:43:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>366221</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzkz67:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>366532</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>