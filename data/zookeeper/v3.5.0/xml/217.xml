<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:48:57 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/ZOOKEEPER-217/ZOOKEEPER-217.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[ZOOKEEPER-217] handle errors when parsing config file, throw illegalargumentexception rather than exit()</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-217</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;Discussing 209 with Ben today, we thought that it would be better to have the parse method of QuorumPeerConfig returning a boolean that indicates whether the configuration is good or not, and let the caller decide whether to exit or not. Currently we execute a System.exit() on QuorumPeerConfig.parse when we have a critical configuration error.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12407875">ZOOKEEPER-217</key>
            <summary>handle errors when parsing config file, throw illegalargumentexception rather than exit()</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mahadev">Mahadev konar</assignee>
                                    <reporter username="fpj">Flavio Junqueira</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Nov 2008 17:50:59 +0000</created>
                <updated>Thu, 2 May 2013 03:29:17 +0100</updated>
                            <resolved>Tue, 18 Nov 2008 17:24:55 +0000</resolved>
                                    <version>3.0.0</version>
                                    <fixVersion>3.0.1</fixVersion>
                    <fixVersion>3.1.0</fixVersion>
                                    <component>server</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12646693" author="fpj" created="Tue, 11 Nov 2008 22:17:40 +0000"  >&lt;p&gt;Instead of a boolean, we should throw an exception that propagates all the way back to main and exit there.&lt;/p&gt;</comment>
                            <comment id="12648382" author="mahadev" created="Mon, 17 Nov 2008 22:20:15 +0000"  >&lt;p&gt;this patch fixes the issue and throws Illegalarugmentexcpetion that is caught in main and then exit() is called. This patch also includes the fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-209&quot; title=&quot;nullpointerexception if election port is not specified.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-209&quot;&gt;&lt;del&gt;ZOOKEEPER-209&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="12648429" author="phunt" created="Tue, 18 Nov 2008 00:23:50 +0000"  >&lt;p&gt;I see a few issues that should be addressed:&lt;/p&gt;

&lt;p&gt;1) we should use LOG.fatal instead of LOG.error when about to exit (in main for example)&lt;/p&gt;

&lt;p&gt;2) the following exception does not indicate the config param in question &amp;#8211; it might be hard to track down what has to be changed in this case, in the other exceptions you indicate the particular field/variable/etc... that needs to be changed.&lt;/p&gt;

&lt;p&gt;+                throw new IllegalArgumentException(myIdString&lt;br/&gt;
+                        + &quot; is not a number&quot;);&lt;br/&gt;
             }&lt;/p&gt;

&lt;p&gt;3) why is parse changed to &quot;throws Exception&quot; rather than the more explicit &quot;throws IllegalArgumentException&quot;?&lt;/p&gt;

&lt;p&gt;4) specifying the usage in parse seems wrong to me:&lt;/p&gt;

&lt;p&gt;+        if (args.length != 1) &lt;/p&gt;
{
+            throw new IllegalArgumentException(&quot;USAGE: configFile&quot;);
+        }

&lt;p&gt;How do you know what the usage is going to be? That&apos;s up to the main routine. This will result in confusion for the user.&lt;/p&gt;

&lt;p&gt;+            throw new IllegalArgumentException(&quot;USAGE: ZooKeeperServer port dat&lt;/p&gt;

</comment>
                            <comment id="12648531" author="mahadev" created="Tue, 18 Nov 2008 08:58:21 +0000"  >&lt;p&gt;&amp;gt; we should use LOG.fatal instead of LOG.error when about to exit (in main for example)&lt;br/&gt;
done&lt;/p&gt;

&lt;p&gt;&amp;gt; the following exception does not indicate the config param in question - it might be hard to track down what has to be changed in this case, in the other exceptions you indicate the particular field/variable/etc... that needs to be changed.&lt;br/&gt;
done&lt;/p&gt;

&lt;p&gt;&amp;gt; why is parse changed to &quot;throws Exception&quot; rather than the more explicit &quot;throws IllegalArgumentException&quot;?&lt;br/&gt;
just because in quorumpeerconfig it tries to read the config file for the server id... and might throw an IOException. &lt;/p&gt;

&lt;p&gt;&amp;gt; specifying the usage in parse seems wrong to me:&lt;br/&gt;
done.. &lt;/p&gt;</comment>
                            <comment id="12648654" author="fpj" created="Tue, 18 Nov 2008 17:05:10 +0000"  >&lt;p&gt;+1 looks good, mahadev.&lt;/p&gt;</comment>
                            <comment id="12648659" author="mahadev" created="Tue, 18 Nov 2008 17:24:55 +0000"  >&lt;p&gt;committed this to trunk  revision 718658&lt;br/&gt;
and 3.0.0 branch revision 718659.&lt;/p&gt;</comment>
                            <comment id="12648744" author="phunt" created="Tue, 18 Nov 2008 20:40:05 +0000"  >&lt;p&gt;I updated the summary to be more descriptive of the issue &amp;#8211; this information is included in the release notes/changes files.&lt;/p&gt;</comment>
                            <comment id="12649319" author="hudson" created="Thu, 20 Nov 2008 10:50:40 +0000"  >&lt;p&gt;Integrated in ZooKeeper-trunk #149 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/ZooKeeper-trunk/149/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/ZooKeeper-trunk/149/&lt;/a&gt;)&lt;/p&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12407323">ZOOKEEPER-209</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12394149" name="ZOOKEEPER-217.patch" size="17068" author="mahadev" created="Tue, 18 Nov 2008 08:58:21 +0000"/>
                            <attachment id="12394107" name="ZOOKEEPER-217.patch" size="16786" author="mahadev" created="Mon, 17 Nov 2008 22:20:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 17 Nov 2008 22:20:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>47975</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxzydz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33555</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>