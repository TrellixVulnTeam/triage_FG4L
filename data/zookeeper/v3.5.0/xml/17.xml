<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:45:12 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/ZOOKEEPER-17/ZOOKEEPER-17.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[ZOOKEEPER-17] zookeeper_init doc needs clarification</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-17</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;Moved from SourceForge to Apache.&lt;br/&gt;
&lt;a href=&quot;http://sourceforge.net/tracker/index.php?func=detail&amp;amp;aid=1967467&amp;amp;group_id=209147&amp;amp;atid=1008544&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://sourceforge.net/tracker/index.php?func=detail&amp;amp;aid=1967467&amp;amp;group_id=209147&amp;amp;atid=1008544&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12397976">ZOOKEEPER-17</key>
            <summary>zookeeper_init doc needs clarification</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="phunt">Patrick Hunt</assignee>
                                    <reporter username="phunt">Patrick Hunt</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Jun 2008 22:18:37 +0100</created>
                <updated>Sun, 26 Oct 2008 01:10:37 +0000</updated>
                            <resolved>Fri, 10 Oct 2008 23:56:54 +0100</resolved>
                                                    <fixVersion>3.0.0</fixVersion>
                                    <component>c client</component>
                    <component>documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12635064" author="phunt" created="Sat, 27 Sep 2008 00:25:18 +0100"  >&lt;p&gt;updated the docs to reflect the sf issue detail - add comments for zkinit.&lt;/p&gt;</comment>
                            <comment id="12635964" author="austin" created="Wed, 1 Oct 2008 08:23:44 +0100"  >&lt;p&gt;The documentation states that if the client_id given to zookeeper_init is expired or invalid that a new session will be automatically generated, implying that it will proceed to the CONNECTED state.&lt;/p&gt;

&lt;p&gt;In the implementation an expired or invalid client_id leads to the unrecoverable SESSION_EXPIRED_STATE, which requires closing and reopening a new connection with no client_id specified to continue.&lt;/p&gt;

&lt;p&gt;Since the server has already assigned a replacement client_id it seems logical to follow the header documentation and proceed with the new value, which appears to be possible by removing the if-block that triggers the expired state in check_events (zookeeper.c).&lt;/p&gt;

&lt;p&gt;If the client application needs to know if the session was replaced, it can simply compare the client_id it provided with the client_id upon entering CONNECTED_STATE.&lt;/p&gt;

&lt;p&gt;What do you think?&lt;/p&gt;</comment>
                            <comment id="12636234" author="phunt" created="Thu, 2 Oct 2008 00:00:45 +0100"  >&lt;p&gt;Hrm. I&apos;ll withdraw the patch while I look into this further. Thanks for the feedback.&lt;/p&gt;</comment>
                            <comment id="12638122" author="breed" created="Wed, 8 Oct 2008 23:33:16 +0100"  >&lt;p&gt;The documentation is incorrect. An invalid or expired session id will result in a zookeeper_handle that is in the unrecoverable SESSION_EXPIRED_STATE. That comment documented old behavior.&lt;/p&gt;

&lt;p&gt;It turns out that processing correctly the situation where the session is expired and a new session is assigned can be tricky. We also wanted the behavior to be consistent with any other case in which an unrecoverable session event is delivered: the zhandle_t becomes invalid.&lt;/p&gt;

&lt;p&gt;We need to fix the doc to say that if the session id is expired or invalid the return zhandle_t will also be invalid.&lt;/p&gt;</comment>
                            <comment id="12638353" author="phunt" created="Thu, 9 Oct 2008 19:19:24 +0100"  >&lt;p&gt;I updated the patch based on ben&apos;s comments, no change to the semantics of the code, just documentation change.&lt;/p&gt;

&lt;p&gt;Does this sufficiently resolve the stated issue?&lt;/p&gt;</comment>
                            <comment id="12638668" author="breed" created="Fri, 10 Oct 2008 23:45:42 +0100"  >&lt;p&gt;+1 Looks great. I&apos;d commit it, but I&apos;m not setup to build the doc...&lt;/p&gt;</comment>
                            <comment id="12638671" author="phunt" created="Fri, 10 Oct 2008 23:56:54 +0100"  >&lt;p&gt;Committed revision 703595.&lt;/p&gt;</comment>
                            <comment id="12638738" author="hudson" created="Sat, 11 Oct 2008 11:51:14 +0100"  >&lt;p&gt;Integrated in ZooKeeper-trunk #110 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/ZooKeeper-trunk/110/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/ZooKeeper-trunk/110/&lt;/a&gt;)&lt;br/&gt;
    8 FLE Test&lt;br/&gt;
. zookeeper_init doc needs clarification&lt;/p&gt;</comment>
                            <comment id="12642672" author="phunt" created="Sun, 26 Oct 2008 01:10:37 +0000"  >&lt;p&gt;3.0.0 has been released, closing issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12391836" name="ZOOKEEPER-17.patch" size="2317" author="phunt" created="Thu, 9 Oct 2008 19:20:30 +0100"/>
                            <attachment id="12391072" name="ZOOKEEPER-17.patch" size="1995" author="phunt" created="Sat, 27 Sep 2008 00:25:18 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 1 Oct 2008 07:23:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48105</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxzwk7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33259</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>