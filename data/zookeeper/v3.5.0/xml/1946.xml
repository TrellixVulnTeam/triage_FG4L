<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:39:50 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/ZOOKEEPER-1946/ZOOKEEPER-1946.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[ZOOKEEPER-1946] Server logging should reflect dynamically reconfigured address</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-1946</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;The server&apos;s client address:port is part of the QuorumPeer&apos;s thread name and thus shown in logs. Thread name is not currently updated after dynamic reconfiguration of the address, resulting in confusing log entries.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12723563">ZOOKEEPER-1946</key>
            <summary>Server logging should reflect dynamically reconfigured address</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vuakko">Niko Vuokko</assignee>
                                    <reporter username="vuakko">Niko Vuokko</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Wed, 25 Jun 2014 06:34:03 +0100</created>
                <updated>Thu, 3 Jul 2014 12:23:09 +0100</updated>
                            <resolved>Thu, 3 Jul 2014 05:02:26 +0100</resolved>
                                    <version>3.5.0</version>
                                    <fixVersion>3.5.0</fixVersion>
                                    <component>server</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="14043073" author="rgs" created="Wed, 25 Jun 2014 06:52:29 +0100"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vuakko&quot; class=&quot;user-hover&quot; rel=&quot;vuakko&quot;&gt;Niko Vuokko&lt;/a&gt;, are you planning to propose a patch for this? If so I&apos;ll assign it to you (I am happy to help with reviews as well). &lt;/p&gt;</comment>
                            <comment id="14043115" author="vuakko" created="Wed, 25 Jun 2014 08:04:16 +0100"  >&lt;p&gt;Just wanted to still check if I could put this change to somewhere nicer&lt;/p&gt;</comment>
                            <comment id="14043121" author="hadoopqa" created="Wed, 25 Jun 2014 08:12:38 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12652349/ZOOKEEPER-1946.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12652349/ZOOKEEPER-1946.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1601516.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2146//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2146//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14043135" author="vuakko" created="Wed, 25 Jun 2014 08:24:47 +0100"  >&lt;p&gt;Manual test for minor fix:&lt;br/&gt;
1) Configure 3 servers (1,2,3) where two first agree on the configuration, but the configuration on server 3 differs on its own ports.&lt;br/&gt;
2) Start servers 1 and 2 and once quorum is achieved, start 3.&lt;br/&gt;
3) QuorumPeer log messages on server 3 first contain the differing port. After joining the quorum the messages switch to containing the port provided by server 1 and 2 quorum.&lt;/p&gt;</comment>
                            <comment id="14043136" author="vuakko" created="Wed, 25 Jun 2014 08:25:54 +0100"  >&lt;p&gt;Anyone know why it couldn&apos;t apply the patch?&lt;br/&gt;
It&apos;s created straight from git diff against trunk&lt;/p&gt;</comment>
                            <comment id="14043767" author="phunt" created="Wed, 25 Jun 2014 18:13:41 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vuakko&quot; class=&quot;user-hover&quot; rel=&quot;vuakko&quot;&gt;Niko Vuokko&lt;/a&gt; It&apos;s due to the &quot;a&quot; and &quot;b&quot; prefix that git puts onto it&apos;s patches by default. Run git diff with the --no-prefix option, see the example/details here: &lt;a href=&quot;https://cwiki.apache.org/confluence/display/ZOOKEEPER/HowToContribute&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/ZOOKEEPER/HowToContribute&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14043773" author="phunt" created="Wed, 25 Jun 2014 18:20:31 +0100"  >&lt;p&gt;Patch needs to be updated.&lt;/p&gt;</comment>
                            <comment id="14043914" author="rgs" created="Wed, 25 Jun 2014 19:54:49 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vuakko&quot; class=&quot;user-hover&quot; rel=&quot;vuakko&quot;&gt;Niko Vuokko&lt;/a&gt;: what &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=phunt&quot; class=&quot;user-hover&quot; rel=&quot;phunt&quot;&gt;Patrick Hunt&lt;/a&gt; said about using --no-prefix from git. Besides that, lgtm +1 - thanks!&lt;/p&gt;</comment>
                            <comment id="14043964" author="vuakko" created="Wed, 25 Jun 2014 20:50:13 +0100"  >&lt;p&gt;Fixed patch formatting&lt;/p&gt;</comment>
                            <comment id="14043974" author="shralex" created="Wed, 25 Jun 2014 20:59:03 +0100"  >&lt;p&gt;Hi Nikko,&lt;/p&gt;

&lt;p&gt;The patch looks good, thanks! my only suggestion is to modify testPortChange() in src/java/test/org/apache/zookeeper/test/ReconfigTest.java to check for the thread id before and after the reconfig.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Alex&lt;/p&gt;</comment>
                            <comment id="14044517" author="vuakko" created="Thu, 26 Jun 2014 10:43:22 +0100"  >&lt;p&gt;Test added. I don&apos;t think checking the thread name prior to reconfig is necessary since the other more relevant tests aren&apos;t that paranoid either.&lt;/p&gt;</comment>
                            <comment id="14045169" author="hadoopqa" created="Thu, 26 Jun 2014 22:02:36 +0100"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12652591/ZOOKEEPER-1946.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12652591/ZOOKEEPER-1946.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1605517.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2155//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2155//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2155//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2155//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2155//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/2155//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14045174" author="shralex" created="Thu, 26 Jun 2014 22:04:47 +0100"  >&lt;p&gt;+1. Thanks Niko!&lt;/p&gt;</comment>
                            <comment id="14051038" author="phunt" created="Thu, 3 Jul 2014 05:02:26 +0100"  >&lt;p&gt;Commtited to trunk. Thanks Niko!&lt;/p&gt;</comment>
                            <comment id="14051331" author="hudson" created="Thu, 3 Jul 2014 12:23:09 +0100"  >&lt;p&gt;SUCCESS: Integrated in ZooKeeper-trunk #2354 (See &lt;a href=&quot;https://builds.apache.org/job/ZooKeeper-trunk/2354/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/ZooKeeper-trunk/2354/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1946&quot; title=&quot;Server logging should reflect dynamically reconfigured address&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1946&quot;&gt;&lt;del&gt;ZOOKEEPER-1946&lt;/del&gt;&lt;/a&gt;. Server logging should reflect dynamically reconfigured address (Niko Vuokko via phunt and Alexander Shraer) (phunt: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1607525&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1607525&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/zookeeper/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/java/main/org/apache/zookeeper/server/quorum/QuorumPeer.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/java/test/org/apache/zookeeper/test/ReconfigTest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12652591" name="ZOOKEEPER-1946.patch" size="1998" author="vuakko" created="Thu, 26 Jun 2014 10:43:22 +0100"/>
                            <attachment id="12652490" name="ZOOKEEPER-1946.patch" size="1262" author="vuakko" created="Wed, 25 Jun 2014 20:50:13 +0100"/>
                            <attachment id="12652349" name="ZOOKEEPER-1946.patch" size="1270" author="vuakko" created="Wed, 25 Jun 2014 08:02:34 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 25 Jun 2014 05:52:29 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>401748</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzr09r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>401817</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>