<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:46:23 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/ZOOKEEPER-992/ZOOKEEPER-992.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[ZOOKEEPER-992] MT Native Version of Windows C Client </title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-992</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;This is an extention of the work in  &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-859&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/ZOOKEEPER-859&lt;/a&gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows 32&lt;/p&gt;</environment>
        <key id="12498916">ZOOKEEPER-992</key>
            <summary>MT Native Version of Windows C Client </summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dheerajagrawal">Dheeraj Agrawal</assignee>
                                    <reporter username="fournc">Camille Fournier</reporter>
                        <labels>
                    </labels>
                <created>Thu, 17 Feb 2011 16:29:24 +0000</created>
                <updated>Wed, 23 Nov 2011 19:22:00 +0000</updated>
                            <resolved>Tue, 19 Jul 2011 01:59:54 +0100</resolved>
                                                    <fixVersion>3.4.0</fixVersion>
                                    <component>c client</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="12995977" author="dheerajagrawal" created="Thu, 17 Feb 2011 18:53:27 +0000"  >&lt;p&gt;This patch has changes to make C bindings portable on windows. Its compiled using VisualStudio and the patch has the proj files.&lt;br/&gt;
It support both single and multithreaded versions.&lt;/p&gt;</comment>
                            <comment id="12996072" author="hadoopqa" created="Thu, 17 Feb 2011 21:03:55 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12471308/win32_patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12471308/win32_patch.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1069169.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    -1 release audit.  The applied patch generated 27 release audit warnings (more than the trunk&apos;s current 24 warnings).&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/136//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/136//testReport/&lt;/a&gt;&lt;br/&gt;
Release audit warnings: &lt;a href=&quot;https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/136//artifact/trunk/patchprocess/patchReleaseAuditProblems.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/136//artifact/trunk/patchprocess/patchReleaseAuditProblems.txt&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/136//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/136//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/136//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/136//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12996718" author="hadoopqa" created="Sat, 19 Feb 2011 07:51:13 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12471308/win32_patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12471308/win32_patch.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1072085.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    -1 release audit.  The applied patch generated 27 release audit warnings (more than the trunk&apos;s current 24 warnings).&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/141//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/141//testReport/&lt;/a&gt;&lt;br/&gt;
Release audit warnings: &lt;a href=&quot;https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/141//artifact/trunk/patchprocess/patchReleaseAuditProblems.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/141//artifact/trunk/patchprocess/patchReleaseAuditProblems.txt&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/141//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/141//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/141//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/141//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12999102" author="hadoopqa" created="Thu, 24 Feb 2011 22:53:23 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12471308/win32_patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12471308/win32_patch.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1072085.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    -1 release audit.  The applied patch generated 27 release audit warnings (more than the trunk&apos;s current 24 warnings).&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/160//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/160//testReport/&lt;/a&gt;&lt;br/&gt;
Release audit warnings: &lt;a href=&quot;https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/160//artifact/trunk/patchprocess/patchReleaseAuditProblems.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/160//artifact/trunk/patchprocess/patchReleaseAuditProblems.txt&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/160//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/160//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/160//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/160//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13000945" author="dheerajagrawal" created="Tue, 1 Mar 2011 16:33:02 +0000"  >&lt;p&gt;Main change in zookeeper.jute.c is around the use of gnu ternary operator (&lt;a href=&quot;http://en.wikipedia.org/wiki/Operator%3F:#C&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://en.wikipedia.org/wiki/Operator%3F:#C&lt;/a&gt;). The usage rc = rc ? : out-&amp;gt;end_record(out, tag); is not compatible in Windows so that changes in zookeeper.jute.c are around making them compatible.&lt;br/&gt;
rc = rc ? rc  : out-&amp;gt;end_record(out, tag);&lt;/p&gt;</comment>
                            <comment id="13000950" author="mahadev" created="Tue, 1 Mar 2011 16:43:18 +0000"  >&lt;p&gt;dheeraj, it would be great to include this. Since this changes the c code a lot, adding more tests and  getting folks to confirm that it works on RHEL5/RHEL6, Debian/ Ubuntu/ FreeBSD would be great.&lt;/p&gt;

&lt;p&gt;I can take up rhel 5 and rhel 6.&lt;/p&gt;</comment>
                            <comment id="13000961" author="dheerajagrawal" created="Tue, 1 Mar 2011 17:01:34 +0000"  >&lt;p&gt;I have run the existing test suite on RHEL3 and RHEL4&lt;/p&gt;</comment>
                            <comment id="13000965" author="mahadev" created="Tue, 1 Mar 2011 17:06:54 +0000"  >&lt;p&gt;nice! Can we add some tests with multiple zk servers and see on killing a single zk server we can reconnect to the other one? Or the watches are reset? Since this is a big change, getting some load testing with c clients on a set of 3 servers would be great as well. The unit tests arent really exhaustive. What do you think?&lt;/p&gt;</comment>
                            <comment id="13009477" author="michi009" created="Mon, 21 Mar 2011 23:57:31 +0000"  >&lt;p&gt;Hi Dheeraj,&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;The patch contains tab characters. Could you convert them to spaces?&lt;/li&gt;
	&lt;li&gt;It looks like modifying src/c/src/hashtable/hashtable_private.h is not necessary.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I ran unit test on 32-bit rhel and it passed. &lt;/p&gt;

&lt;p&gt;--Michi&lt;/p&gt;</comment>
                            <comment id="13014034" author="dheerajagrawal" created="Thu, 31 Mar 2011 16:51:46 +0100"  >&lt;p&gt;Hi Michi, I will update the patch with spaces instead of tabs. And yes, hashtable_private.h changes are not needed. &lt;/p&gt;</comment>
                            <comment id="13021772" author="michim" created="Tue, 19 Apr 2011 21:31:54 +0100"  >&lt;p&gt;Hi Dheeraj,&lt;/p&gt;

&lt;p&gt;How do I compile this on a Windows machine? Do I need Visual Studio?&lt;/p&gt;

&lt;p&gt;Thanks!&lt;br/&gt;
--Michi&lt;/p&gt;</comment>
                            <comment id="13021838" author="dheerajagrawal" created="Tue, 19 Apr 2011 23:49:50 +0100"  >&lt;p&gt;Attaching file without tabs&lt;/p&gt;</comment>
                            <comment id="13021840" author="dheerajagrawal" created="Tue, 19 Apr 2011 23:50:55 +0100"  >&lt;p&gt;Hi Michi, yes you can compile this with Visual Studio. The patch has zookeeper.vcproj project file&lt;/p&gt;</comment>
                            <comment id="13022411" author="hadoopqa" created="Thu, 21 Apr 2011 00:07:36 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12476795/win32_patch_notabs.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12476795/win32_patch_notabs.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1091841.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/227//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/227//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13030815" author="michim" created="Mon, 9 May 2011 18:07:36 +0100"  >&lt;p&gt;Hi Dheeraj, &lt;/p&gt;

&lt;p&gt;Sorry I haven&apos;t had a chance to test this patch. I finally got access to a Windows box, so I should be able to test it some time this week.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;br/&gt;
--Michi&lt;/p&gt;</comment>
                            <comment id="13033629" author="michim" created="Sun, 15 May 2011 03:20:08 +0100"  >&lt;p&gt;Hmm, I&apos;m having trouble compiling (sorry I&apos;m not familiar with Windows environment). I&apos;ll post the errors I&apos;m getting as an attachment. &lt;/p&gt;

&lt;p&gt;Thanks!&lt;br/&gt;
--Michi&lt;/p&gt;</comment>
                            <comment id="13034118" author="mahadev" created="Mon, 16 May 2011 18:24:51 +0100"  >&lt;p&gt;Cancelling patch for now. Dheeraj, would it be possible to update the README in src/c to add instructions on how to compile and use the library in the native windows platform? That would be really helpful with this patch.&lt;/p&gt;</comment>
                            <comment id="13034133" author="odysseus654" created="Mon, 16 May 2011 18:36:35 +0100"  >&lt;p&gt;Random comment from a passerby, I recently downloaded this patch (a lot easier than trying to do my own port), and while there were a fair number of additional changes that were required, I appear to have been able to compile this on VS2005.&lt;/p&gt;

&lt;p&gt;I know that this doesn&apos;t mean anything without a patch (and I suspect it would take a couple hours for me to do the necessary SVN checkouts and diff-minimization), but I would like to avoid seeing the overall bug here being cancelled.&lt;/p&gt;</comment>
                            <comment id="13034145" author="mahadev" created="Mon, 16 May 2011 18:44:48 +0100"  >&lt;p&gt;Erik,&lt;br/&gt;
 thanks for your input. A cancel on patch available just means that it needs to be revised a little more for committing to trunk. It does not mean that the changes are unacceptable. With a few changes like you suggested we should be able to commit this to 3.4.&lt;/p&gt;</comment>
                            <comment id="13034150" author="dheerajagrawal" created="Mon, 16 May 2011 18:54:04 +0100"  >&lt;p&gt;Mahadev, i will add details to README file on steps to get this compiled.&lt;br/&gt;
Erik, i would like to get a gist of what changes were required to get it working? Were there any bugs, or were they issues while compiling it? &lt;/p&gt;</comment>
                            <comment id="13034232" author="odysseus654" created="Mon, 16 May 2011 20:41:59 +0100"  >&lt;p&gt;There were a fair number of compiler issues, for instance &quot;inline&quot; is apparently not a keyword when compiling to C but &quot;__inline&quot; is.  I also ended up changing the datatype for filedescriptor from &quot;int&quot; to &quot;SOCKET&quot; as I wasn&apos;t convinced there wouldn&apos;t be problems down the road.&lt;/p&gt;

&lt;p&gt;I am getting coredumps when running the CLI without a port number (inappropriate use of uninitialized pthread_cond object) and do get a fair number of CancelledKeyException errors, but other than that I think I have a working program.&lt;/p&gt;

&lt;p&gt;I was going to see if I could check out the 3.3 source in SVN so that I could get a better idea of the changes I made.&lt;/p&gt;</comment>
                            <comment id="13034244" author="dheerajagrawal" created="Mon, 16 May 2011 20:54:29 +0100"  >&lt;p&gt;the core dump when you dont pass port number might be related to this issue i had raised: &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1029&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/ZOOKEEPER-1029&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="13034285" author="odysseus654" created="Mon, 16 May 2011 21:31:40 +0100"  >&lt;p&gt;Okay, I&apos;ve attached what I came up with, unlikely to be considered for inclusion as-is (I prob have an awful lot of tabs in the attachment for instance).  Prob more for Dheeraj to take a look at.&lt;/p&gt;

&lt;p&gt;Also, I couldn&apos;t figure out whether the 3.3.3 download I used was &quot;release-3.3.3&quot; or &quot;release-3.3.3-rc0&quot; so there may be some re-patching going on in here.&lt;/p&gt;</comment>
                            <comment id="13044997" author="dheerajagrawal" created="Mon, 6 Jun 2011 19:19:40 +0100"  >&lt;p&gt;Most of the compile error were due to wrong values in config.h. I have changed that. will upload the new patch&lt;/p&gt;</comment>
                            <comment id="13045594" author="dheerajagrawal" created="Tue, 7 Jun 2011 20:11:50 +0100"  >&lt;p&gt;Uploading the new patch. This time I have modified the jute generator code, to simplyfy the patch. (earlier patch included zookeeper.jute.h/c, this one doesnt)&lt;/p&gt;

&lt;p&gt;Steps to apply patch and build:&lt;br/&gt;
1) apply patch to zk trunk. patch -p0 &amp;lt; patchfile&lt;br/&gt;
2) There might be a conflict for zookeeper.h , manually change that file.&lt;br/&gt;
3) run ant compile_jute to generate the zookeeper_jute.h/c&lt;br/&gt;
4) Add ZOOKEEPER_HOME environment variable to your windows environment (My Computer-&amp;gt;Properties-&amp;gt;Advanced-&amp;gt;Environment Variables-&amp;gt;New) and point it to the directory where you have checked out the trunk. (C:\zookeeper-trunk)&lt;br/&gt;
5) Open zookeeper.sln file in src/c (this is visual studio 2008 solution file)&lt;br/&gt;
6) Right click on Cli project in the Solution Explorer, select Project Dependencies and make it depend on zookeeper project by checking zookeeper.&lt;br/&gt;
7) Click on Build-&amp;gt;Batch Build and check all the builds (cli - Debug/Release, zookeeper - Debug/Release) and hit Build&lt;/p&gt;

&lt;p&gt;To run the client:&lt;/p&gt;

&lt;p&gt;Right click on Cli project &lt;del&gt;&amp;gt; Properties&lt;/del&gt;&amp;gt; Debugging &lt;del&gt;&amp;gt; Command Arguments (enter the hostname:port for the zk server you want to connect to), save and then Debug&lt;/del&gt;&amp;gt;start Debugging.&lt;/p&gt;</comment>
                            <comment id="13045595" author="dheerajagrawal" created="Tue, 7 Jun 2011 20:14:04 +0100"  >&lt;p&gt;Erik/Michi, you want to give this one a try?&lt;/p&gt;</comment>
                            <comment id="13045597" author="hadoopqa" created="Tue, 7 Jun 2011 20:22:06 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12481735/ZOOKEEPER-992.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12481735/ZOOKEEPER-992.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1132489.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/306//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/306//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13045629" author="dheerajagrawal" created="Tue, 7 Jun 2011 22:15:38 +0100"  >&lt;p&gt;Uploaded the patch which doesnt need manual intervention to resolve conflict.&lt;/p&gt;</comment>
                            <comment id="13045632" author="hadoopqa" created="Tue, 7 Jun 2011 22:22:06 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12481743/ZOOKEEPER-992-final.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12481743/ZOOKEEPER-992-final.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1132489.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/307//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/307//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13046047" author="phunt" created="Wed, 8 Jun 2011 17:22:03 +0100"  >&lt;p&gt;Hi, there still seems to be one problem, canceling while the patch is updated:&lt;/p&gt;

&lt;p&gt;     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; patching file src/c/include/zookeeper.h&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; Hunk #3 FAILED at 400.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; 1 out of 3 hunks FAILED &amp;#8211; saving rejects to file src/c/include/zookeeper.h.rej&lt;/p&gt;</comment>
                            <comment id="13046729" author="dheerajagrawal" created="Thu, 9 Jun 2011 19:36:27 +0100"  >&lt;p&gt;updated the patch&lt;/p&gt;</comment>
                            <comment id="13046747" author="hadoopqa" created="Thu, 9 Jun 2011 20:02:01 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12481960/ZOOKEEPER_992_final.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12481960/ZOOKEEPER_992_final.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1132489.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/309//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/309//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/309//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/309//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/309//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/309//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13047378" author="phunt" created="Fri, 10 Jun 2011 20:08:31 +0100"  >&lt;p&gt;The compilation is now failing during c code compilation (unfortunately jenkins doesn&apos;t report this in testresults, you need to check the console):&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;
     [exec]      [exec] /bin/bash ./libtool --tag=CC   --mode=compile gcc -DHAVE_CONFIG_H -I. -I/grid/0/hudson/hudson-slave/workspace/PreCommit-ZOOKEEPER-Build/trunk/src/c  -I/grid/0/hudson/hudson-slave/workspace/PreCommit-ZOOKEEPER-Build/trunk/src/c/include -I/grid/0/hudson/hudson-slave/workspace/PreCommit-ZOOKEEPER-Build/trunk/src/c/tests -I/grid/0/hudson/hudson-slave/workspace/PreCommit-ZOOKEEPER-Build/trunk/src/c/generated  -Wall -Werror  -g -O2 -D_GNU_SOURCE -MT zookeeper.lo -MD -MP -MF .deps/zookeeper.Tpo -c -o zookeeper.lo `test -f &apos;src/zookeeper.c&apos; || echo &apos;/grid/0/hudson/hudson-slave/workspace/PreCommit-ZOOKEEPER-Build/trunk/src/c/&apos;`src/zookeeper.c
     [exec]      [exec] libtool: compile:  gcc -DHAVE_CONFIG_H -I. -I/grid/0/hudson/hudson-slave/workspace/PreCommit-ZOOKEEPER-Build/trunk/src/c -I/grid/0/hudson/hudson-slave/workspace/PreCommit-ZOOKEEPER-Build/trunk/src/c/include -I/grid/0/hudson/hudson-slave/workspace/PreCommit-ZOOKEEPER-Build/trunk/src/c/tests -I/grid/0/hudson/hudson-slave/workspace/PreCommit-ZOOKEEPER-Build/trunk/src/c/generated -Wall -Werror -g -O2 -D_GNU_SOURCE -MT zookeeper.lo -MD -MP -MF .deps/zookeeper.Tpo -c /grid/0/hudson/hudson-slave/workspace/PreCommit-ZOOKEEPER-Build/trunk/src/c/src/zookeeper.c  -fPIC -DPIC -o .libs/zookeeper.o
     [exec]      [exec] In file included from /grid/0/hudson/hudson-slave/workspace/PreCommit-ZOOKEEPER-Build/trunk/src/c/src/zookeeper.c:27:
     [exec]      [exec] /grid/0/hudson/hudson-slave/workspace/PreCommit-ZOOKEEPER-Build/trunk/src/c/include/zookeeper.h:407: error: expected declaration specifiers or &apos;...&apos; before &apos;SOCKET&apos;
     [exec]      [exec] /grid/0/hudson/hudson-slave/workspace/PreCommit-ZOOKEEPER-Build/trunk/src/c/src/zookeeper.c:1494: error: conflicting types for &apos;zookeeper_interest&apos;
     [exec]      [exec] /grid/0/hudson/hudson-slave/workspace/PreCommit-ZOOKEEPER-Build/trunk/src/c/include/zookeeper.h:407: error: previous declaration of &apos;zookeeper_interest&apos; was here
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13047379" author="dheerajagrawal" created="Fri, 10 Jun 2011 20:13:36 +0100"  >&lt;p&gt;are you sure this is the output from latest patch. this was the failure from  ZOOKEEPER_992_final.patch . After that i loaded  ZOOKEEPER_992_FINAL.patch which fixed this issue.&lt;/p&gt;</comment>
                            <comment id="13047380" author="dheerajagrawal" created="Fri, 10 Jun 2011 20:14:53 +0100"  >&lt;p&gt;i see it in the console. let me check whats going on. as i tested on linux and windows and it worked fine before uploading it.&lt;/p&gt;</comment>
                            <comment id="13047384" author="dheerajagrawal" created="Fri, 10 Jun 2011 20:23:02 +0100"  >&lt;p&gt;i had uploaded following patch after this error:&lt;br/&gt;
ZOOKEEPER_992_FINAL.patch 09/Jun/11 21:03&lt;br/&gt;
But i dont see QA run after that. The console output is from a old patch.&lt;/p&gt;</comment>
                            <comment id="13047436" author="phunt" created="Fri, 10 Jun 2011 21:41:17 +0100"  >&lt;p&gt;Ok, my fault, I just kicked off a new build here:&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/view/S-Z/view/ZooKeeper/job/PreCommit-ZOOKEEPER-Build/312/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/view/S-Z/view/ZooKeeper/job/PreCommit-ZOOKEEPER-Build/312/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13047437" author="phunt" created="Fri, 10 Jun 2011 21:42:21 +0100"  >&lt;p&gt;grr, here: &lt;a href=&quot;https://builds.apache.org/view/S-Z/view/ZooKeeper/job/PreCommit-ZOOKEEPER-Build/313/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/view/S-Z/view/ZooKeeper/job/PreCommit-ZOOKEEPER-Build/313/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13047438" author="phunt" created="Fri, 10 Jun 2011 21:44:01 +0100"  >&lt;p&gt;for future reference: we typically name all the patches the same, jira handles it correctly (you can see all the older versions and it typically highlights the newest). Regards.&lt;/p&gt;</comment>
                            <comment id="13047455" author="hadoopqa" created="Fri, 10 Jun 2011 22:06:00 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12481978/ZOOKEEPER_992_FINAL.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12481978/ZOOKEEPER_992_FINAL.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1132489.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/313//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/313//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/313//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/313//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/313//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/313//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13047483" author="dheerajagrawal" created="Fri, 10 Jun 2011 22:42:16 +0100"  >&lt;p&gt;Thanks Patrick, will keep that in mind..didnt know jira could handle that...&lt;/p&gt;</comment>
                            <comment id="13055000" author="michim" created="Sun, 26 Jun 2011 02:38:18 +0100"  >&lt;p&gt;Hi Dheeraj,&lt;/p&gt;

&lt;p&gt;Finally I was able to compile it on windows. The patch looks good, except there is a typo (STRUCT_INTIALIZER is missing an I).&lt;/p&gt;

&lt;p&gt;Thanks!&lt;br/&gt;
--Michi&lt;/p&gt;</comment>
                            <comment id="13055001" author="michim" created="Sun, 26 Jun 2011 02:39:38 +0100"  >&lt;p&gt;By the way, do we have a windows build box? It would be great if we can run build/unit tests on a windows box automatically.&lt;/p&gt;

&lt;p&gt;--Michi&lt;/p&gt;</comment>
                            <comment id="13056657" author="michi009" created="Tue, 28 Jun 2011 18:36:09 +0100"  >&lt;p&gt;Camille, could you also review this patch? &lt;/p&gt;

&lt;p&gt;Thanks!&lt;br/&gt;
--Michi&lt;/p&gt;</comment>
                            <comment id="13056658" author="fournc" created="Tue, 28 Jun 2011 18:38:00 +0100"  >&lt;p&gt;This has a +1 from me, we have reviewed it internally and are already using it.&lt;/p&gt;</comment>
                            <comment id="13056666" author="michi009" created="Tue, 28 Jun 2011 18:41:23 +0100"  >&lt;p&gt;Oh that&apos;s great to know. I&apos;ll check it in one the typo is fixed. &lt;/p&gt;

&lt;p&gt;Thanks!&lt;br/&gt;
--Michi&lt;/p&gt;</comment>
                            <comment id="13061051" author="mahadev" created="Thu, 7 Jul 2011 07:17:22 +0100"  >&lt;p&gt;Dheeraj/michi are we waiting on just a typo fix? I can do that if thats all we need to check this in? &lt;/p&gt;</comment>
                            <comment id="13061053" author="mahadev" created="Thu, 7 Jul 2011 07:18:48 +0100"  >&lt;p&gt;Reuploading Dheeraj&apos;s patch to trigger hudson.&lt;/p&gt;</comment>
                            <comment id="13061088" author="hadoopqa" created="Thu, 7 Jul 2011 08:24:36 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12485536/ZOOKEEPER-992-final.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12485536/ZOOKEEPER-992-final.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1142377.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/372//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/372//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13061101" author="mahadev" created="Thu, 7 Jul 2011 08:44:06 +0100"  >&lt;p&gt;Looks like the patch does not apply any more with multi update checkins.&lt;/p&gt;

&lt;p&gt;Dheeraj, would you be able to update (this will be the last time &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;) the patch? I will commit as soon as you re upload!&lt;/p&gt;</comment>
                            <comment id="13061309" author="fournc" created="Thu, 7 Jul 2011 14:48:33 +0100"  >&lt;p&gt;Dheeraj is out this week, so this will have to wait for his return next week, but please do wait for it. Thanks.&lt;/p&gt;</comment>
                            <comment id="13061744" author="odysseus654" created="Fri, 8 Jul 2011 04:40:47 +0100"  >&lt;p&gt;Breezing through again to take a look at this with my poor old VS2k5 machine, I was not able to compile the patch (likely just need a newer version of the generated files).  Issues that I did run into though:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;struct MultiHeader initializers (recently introduced) likely need to use STRUCT_INTIALIZER&lt;/li&gt;
	&lt;li&gt;I had to #define _WIN32_WINNT_WS03 and comment out an #include &amp;lt;SdkDdkVer.h&amp;gt; to get this to compile for me&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13061996" author="fournc" created="Fri, 8 Jul 2011 15:52:36 +0100"  >&lt;p&gt;Would love to have someone else help us with the last bits of this fix, if you have the time Erik.&lt;/p&gt;</comment>
                            <comment id="13062329" author="odysseus654" created="Sat, 9 Jul 2011 07:18:48 +0100"  >&lt;p&gt;At the risk of resetting the clock on review, yanking deserved credit from someone, and rather making a mess of things, have attached my submission.  Have not tested beyond running CLI and getting usage prompt&lt;/p&gt;</comment>
                            <comment id="13062330" author="odysseus654" created="Sat, 9 Jul 2011 07:22:50 +0100"  >&lt;p&gt;Another thing to point out in the patch I just uploaded, I did move calls to assert() below the point at which the variable they&apos;re asserting is dereferenced, which likely makes them useless.  The C compiler was complaining about declarations following a non-declaration, so the code wouldn&apos;t be accepted as-is.&lt;/p&gt;</comment>
                            <comment id="13062333" author="hadoopqa" created="Sat, 9 Jul 2011 07:44:46 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12485810/ZOOKEEPER-992-round8.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12485810/ZOOKEEPER-992-round8.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1144087.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    -1 release audit.  The applied patch generated 26 release audit warnings (more than the trunk&apos;s current 24 warnings).&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/387//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/387//testReport/&lt;/a&gt;&lt;br/&gt;
Release audit warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/387//artifact/trunk/patchprocess/patchReleaseAuditProblems.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/387//artifact/trunk/patchprocess/patchReleaseAuditProblems.txt&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/387//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/387//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/387//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/387//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13062588" author="fournc" created="Sat, 9 Jul 2011 18:26:16 +0100"  >&lt;p&gt;There&apos;s plenty of credit to go around for this one Erik, thanks for the help! Michi, can you take a look at the changes? I will also have Dheeraj check them out on Monday and make sure they work on our stack.&lt;/p&gt;</comment>
                            <comment id="13063532" author="dheerajagrawal" created="Mon, 11 Jul 2011 21:46:06 +0100"  >&lt;p&gt;Tested and reviewed the patch. looks good to me. Although it has vs2005 sln file, VS2008 easily converted it to the vs2008 sln format. so in a way its good to have vs2005 sln file. &lt;br/&gt;
Regarding asserts, we can declared int rc; assert(req); rc = Request_path_init(...);&lt;br/&gt;
This will maintain the sanity checks.&lt;/p&gt;

&lt;p&gt;After the patch is checked in, I can add notes to README (copied from above comments) on how to compile it on windows.&lt;br/&gt;
We may need to point out on the definition of NTDDI_VERSION &amp;lt;which users can change based on there usage&amp;gt; in the README.&lt;/p&gt;

&lt;p&gt;Also when the patch is committed, can you do dos2unix on following files to get rid of Ctrl-M characters&lt;br/&gt;
winconfig.h&lt;br/&gt;
winstdint.h&lt;br/&gt;
winport.c&lt;br/&gt;
winport.h&lt;/p&gt;
</comment>
                            <comment id="13064885" author="dheerajagrawal" created="Wed, 13 Jul 2011 22:41:01 +0100"  >&lt;p&gt;I have found a minor bug in this implementation and it shows up only during the retry logic of connecting to some other node in cluster and has to do with different return codes of send / recv between unix and windows. i will upload a new patch by tomorrow. &lt;/p&gt;</comment>
                            <comment id="13065569" author="odysseus654" created="Thu, 14 Jul 2011 23:20:57 +0100"  >&lt;p&gt;Not sure of the relevancy, but the project files included in the patch are not the ones I intend to use locally.  I will likely be building statically and the only option the project files provide is a dynamic (.dll) link.  Is this something that people are going to run into (and not be able to fix themselves) enough to support here?&lt;/p&gt;</comment>
                            <comment id="13066254" author="dheerajagrawal" created="Fri, 15 Jul 2011 23:14:12 +0100"  >&lt;p&gt;Fixed the typos, and the return code bugs. tested this on unix and windows.&lt;/p&gt;</comment>
                            <comment id="13066578" author="mahadev" created="Sun, 17 Jul 2011 04:01:13 +0100"  >&lt;p&gt;THanks Dheeraj, &lt;br/&gt;
  Erik, can you give this patch a try and post your comments? Ill check this in if you are ok with the patch.&lt;/p&gt;</comment>
                            <comment id="13067145" author="odysseus654" created="Mon, 18 Jul 2011 18:07:41 +0100"  >&lt;p&gt;If it gets uploaded, I&apos;m getting close to actually beginning development around this, maybe a C++ wrapper of some kind.&lt;/p&gt;</comment>
                            <comment id="13067195" author="fournc" created="Mon, 18 Jul 2011 19:18:34 +0100"  >&lt;p&gt;What&apos;s the status with this? We have tested it internally and it all looks good. Michi, are you still the committer for this?&lt;/p&gt;</comment>
                            <comment id="13067199" author="michim" created="Mon, 18 Jul 2011 19:23:31 +0100"  >&lt;p&gt;I think it&apos;s good to go. Erik/Mahadev, are you ok with me checking this in?&lt;/p&gt;</comment>
                            <comment id="13067242" author="odysseus654" created="Mon, 18 Jul 2011 20:48:24 +0100"  >&lt;p&gt;If you&apos;re talking about the patch dated July9 (which is the most recent patch I see), Dheeraj commented on July15 that he made some corrections and created a new patch that I&apos;m not seeing here.&lt;/p&gt;

&lt;p&gt;I have no objections to a patch dated July15 or later being checked in.&lt;/p&gt;</comment>
                            <comment id="13067254" author="dheerajagrawal" created="Mon, 18 Jul 2011 20:57:51 +0100"  >&lt;p&gt;Yes, the patch data July 15th is the latest one which includes some bug fixes. (specifically in send_buffer and recv_buffer methods and minor changes to pthread_self, pthread_equals implementation)&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-992&quot; title=&quot;MT Native Version of Windows C Client &quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-992&quot;&gt;&lt;del&gt;ZOOKEEPER-992&lt;/del&gt;&lt;/a&gt;.patch    15/Jul/11 22:14     82 kB     Dheeraj Agrawal&lt;/li&gt;
&lt;/ol&gt;

</comment>
                            <comment id="13067424" author="michim" created="Tue, 19 Jul 2011 01:59:54 +0100"  >&lt;p&gt;Committed to trunk.&lt;/p&gt;

&lt;p&gt;--Michi&lt;/p&gt;</comment>
                            <comment id="13067634" author="hudson" created="Tue, 19 Jul 2011 12:31:22 +0100"  >&lt;p&gt;Integrated in ZooKeeper-trunk #1248 (See &lt;a href=&quot;https://builds.apache.org/job/ZooKeeper-trunk/1248/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/ZooKeeper-trunk/1248/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-992&quot; title=&quot;MT Native Version of Windows C Client &quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-992&quot;&gt;&lt;del&gt;ZOOKEEPER-992&lt;/del&gt;&lt;/a&gt;. MT Native Version of Windows C Client (Dheeraj Agrawal via michim)&lt;/p&gt;

&lt;p&gt;michim : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1148116&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1148116&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/zookeeper/trunk/src/c/src/zk_adaptor.h&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/c/src/winport.c&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/c/src/cli.c&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/java/main/org/apache/jute/compiler/JRecord.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/c/src/winport.h&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/c/include/winconfig.h&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/c/zookeeper.sln&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/c/zookeeper.vcproj&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/c/src/mt_adaptor.c&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/c/src/zookeeper.c&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/c/src/zk_hashtable.c&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/c/include/winstdint.h&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/c/src/zk_log.c&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/c/include/zookeeper.h&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/c/src/recordio.c&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/c/src/load_gen.c&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/c/src/hashtable/hashtable.h&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/c/Cli.vcproj&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/c/include/recordio.h&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/c/src/hashtable/hashtable_itr.c&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13104137" author="3legscat" created="Wed, 14 Sep 2011 02:16:38 +0100"  >&lt;p&gt; i found a strange phenomenon when i test your zk trunk with a c program(build by  visual studio 2003). I run the zk service in a 3 machine cluster.First i build a node /zookeeper/zk_test01. Then i insert sequence node /zookeeper/zk_test01/node. zk service will fail when the sequence node number exceed 200000, at the same time zkcli lost connection with zk service.How does it happen, does zk have node number limit?&lt;/p&gt;</comment>
                            <comment id="13104147" author="mahadev" created="Wed, 14 Sep 2011 02:29:43 +0100"  >&lt;p&gt;Zhang,&lt;br/&gt;
 ZK has a limit on the amount of data that be transferred across the server and client (i.e 1MB). If you are creating direct children of single node and the data is more than 1MB, getChildren might fail. Also, please open a seperate jira to track this.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12485536" name="ZOOKEEPER-992-final.patch" size="87879" author="mahadev" created="Thu, 7 Jul 2011 07:18:48 +0100"/>
                            <attachment id="12481743" name="ZOOKEEPER-992-final.patch" size="87879" author="dheerajagrawal" created="Tue, 7 Jun 2011 22:15:38 +0100"/>
                            <attachment id="12485810" name="ZOOKEEPER-992-round8.patch" size="79086" author="odysseus654" created="Sat, 9 Jul 2011 07:18:48 +0100"/>
                            <attachment id="12486693" name="ZOOKEEPER-992.patch" size="84075" author="dheerajagrawal" created="Fri, 15 Jul 2011 23:14:12 +0100"/>
                            <attachment id="12481735" name="ZOOKEEPER-992.patch" size="88769" author="dheerajagrawal" created="Tue, 7 Jun 2011 20:12:47 +0100"/>
                            <attachment id="12481978" name="ZOOKEEPER_992_FINAL.patch" size="87756" author="dheerajagrawal" created="Thu, 9 Jun 2011 22:03:40 +0100"/>
                            <attachment id="12481960" name="ZOOKEEPER_992_final.patch" size="87756" author="dheerajagrawal" created="Thu, 9 Jun 2011 19:36:00 +0100"/>
                            <attachment id="12479240" name="errors.txt" size="49879" author="michim" created="Sun, 15 May 2011 03:19:57 +0100"/>
                            <attachment id="12479379" name="win32-odysseus-vc2k5.patch" size="77563" author="odysseus654" created="Mon, 16 May 2011 21:29:53 +0100"/>
                            <attachment id="12471308" name="win32_patch.txt" size="115142" author="dheerajagrawal" created="Thu, 17 Feb 2011 18:53:27 +0000"/>
                            <attachment id="12476795" name="win32_patch_notabs.txt" size="122501" author="dheerajagrawal" created="Tue, 19 Apr 2011 23:49:50 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 17 Feb 2011 18:53:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>47520</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxzx4v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33352</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>