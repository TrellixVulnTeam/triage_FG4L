<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:42:48 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/ZOOKEEPER-682/ZOOKEEPER-682.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[ZOOKEEPER-682] Event is not processed when the watcher is set to watch &quot;/&quot; if chrooted</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-682</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;After the event notification response from server is received, the client will convert the server path to the client path if chrooted by:&lt;/p&gt;

&lt;p&gt;event.setPath(serverPath.substring(chrootPath.length());&lt;/p&gt;

&lt;p&gt;If chrootPath and serverPath are the same, then the event&apos;s path will be set to a null string.&lt;/p&gt;

&lt;p&gt;But the key of the watcher&apos;s map is &quot;/&quot;, not a null string, so the watcher will not get notified at all.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12457414">ZOOKEEPER-682</key>
            <summary>Event is not processed when the watcher is set to watch &quot;/&quot; if chrooted</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lunastorm">Scott Wang</assignee>
                                    <reporter username="lunastorm">Scott Wang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Feb 2010 12:01:43 +0000</created>
                <updated>Fri, 26 Mar 2010 17:25:11 +0000</updated>
                            <resolved>Thu, 4 Mar 2010 01:29:04 +0000</resolved>
                                    <version>3.2.2</version>
                                    <fixVersion>3.3.0</fixVersion>
                                    <component>java client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12838315" author="lunastorm" created="Thu, 25 Feb 2010 12:03:50 +0000"  >&lt;p&gt;Proposed patch attached&lt;/p&gt;</comment>
                            <comment id="12838441" author="phunt" created="Thu, 25 Feb 2010 17:51:25 +0000"  >&lt;p&gt;Blocker for 3.3.0, we should ensure that the c client doesn&apos;t have similar issues.&lt;/p&gt;</comment>
                            <comment id="12838503" author="phunt" created="Thu, 25 Feb 2010 19:41:54 +0000"  >&lt;p&gt;We need to add a test for this case. We should add it to both the c and java.&lt;/p&gt;</comment>
                            <comment id="12839599" author="lunastorm" created="Mon, 1 Mar 2010 08:39:20 +0000"  >&lt;p&gt;Java test case related to this problem is added to the patch attached.&lt;/p&gt;

&lt;p&gt;The code provides the similar functionality in the c client is investigated:&lt;/p&gt;

&lt;p&gt;The sub_string function checks if server_path and chroot path are the same and returns &quot;/&quot; if they are the same, so it seems that this problem does not occur on the c client.&lt;/p&gt;

&lt;p&gt;However, I don&apos;t know how to add the test case of this problem to the test cases in c. Anyone can help?&lt;/p&gt;</comment>
                            <comment id="12839929" author="phunt" created="Tue, 2 Mar 2010 00:12:42 +0000"  >&lt;p&gt;Thanks Scott. I looked at the c tests and it looks to me like we are testing this case (reviewer please verify).&lt;/p&gt;

&lt;p&gt;Submitting, let&apos;s see how hudson does with this.&lt;/p&gt;</comment>
                            <comment id="12840011" author="hadoopqa" created="Tue, 2 Mar 2010 04:56:14 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12437463/ZOOKEEPER-682.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12437463/ZOOKEEPER-682.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 915956.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h8.grid.sp2.yahoo.net/124/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h8.grid.sp2.yahoo.net/124/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h8.grid.sp2.yahoo.net/124/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h8.grid.sp2.yahoo.net/124/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h8.grid.sp2.yahoo.net/124/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h8.grid.sp2.yahoo.net/124/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12840987" author="mahadev" created="Thu, 4 Mar 2010 01:23:25 +0000"  >&lt;p&gt;+1 the patch looks good. Pat you are right that the c api already takes care of it and also has a test included for it.&lt;/p&gt;
</comment>
                            <comment id="12840989" author="mahadev" created="Thu, 4 Mar 2010 01:29:04 +0000"  >&lt;p&gt;I just committed this. thanks scott!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12437463" name="ZOOKEEPER-682.patch" size="1874" author="lunastorm" created="Mon, 1 Mar 2010 08:39:20 +0000"/>
                            <attachment id="12436994" name="ZOOKEEPER-682.patch" size="830" author="lunastorm" created="Thu, 25 Feb 2010 12:03:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 25 Feb 2010 17:51:25 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>47654</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxzuif:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32927</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>