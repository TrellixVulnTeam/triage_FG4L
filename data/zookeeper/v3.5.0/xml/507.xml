<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:47:46 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/ZOOKEEPER-507/ZOOKEEPER-507.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[ZOOKEEPER-507] BookKeeper client re-write</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-507</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;Error handling is far from ideal currently in the BookKeeper client.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12433145">ZOOKEEPER-507</key>
            <summary>BookKeeper client re-write</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="utkarsh">Utkarsh Srivastava</assignee>
                                    <reporter username="fpj">Flavio Junqueira</reporter>
                        <labels>
                    </labels>
                <created>Sat, 15 Aug 2009 09:26:12 +0100</created>
                <updated>Fri, 26 Mar 2010 17:25:00 +0000</updated>
                            <resolved>Tue, 26 Jan 2010 23:20:53 +0000</resolved>
                                                    <fixVersion>3.3.0</fixVersion>
                                    <component>contrib-bookkeeper</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12768904" author="utkarsh" created="Thu, 22 Oct 2009 22:06:54 +0100"  >&lt;p&gt;A major rewrite of the bookkeeper client library&lt;/p&gt;</comment>
                            <comment id="12768918" author="utkarsh" created="Thu, 22 Oct 2009 22:25:31 +0100"  >&lt;p&gt;We&apos;ve been using this modified version of bookkeeper for some time with good results in terms of both stability and performance. &lt;/p&gt;

&lt;p&gt;This patch incorporates a couple of major changes, so its better reviewed as a whole, rather than as a diff. &lt;/p&gt;

&lt;p&gt;The two major changes are:&lt;/p&gt;

&lt;p&gt;i) Rewrite of the client library to deal with error cases, and generally iron out a lot of bugs.&lt;br/&gt;
ii) Enhancing the bookie server to deal with a large number of open ledgers by multiplexing them into a common number of files.&lt;/p&gt;

&lt;p&gt;An added dependency is netty, a jboss project for network i/o. Netty is under an Apache 2.0 license, and the jar can be grabbed from &lt;br/&gt;
&lt;a href=&quot;http://repository.jboss.com/maven2/org/jboss/netty/netty/3.1.2.GA/netty-3.1.2.GA.jar&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://repository.jboss.com/maven2/org/jboss/netty/netty/3.1.2.GA/netty-3.1.2.GA.jar&lt;/a&gt; &lt;/p&gt;</comment>
                            <comment id="12773639" author="fpj" created="Wed, 4 Nov 2009 21:03:34 +0000"  >&lt;p&gt;Sorry for the delay, I&apos;ll be reviewing this shortly.&lt;/p&gt;</comment>
                            <comment id="12774113" author="fpj" created="Thu, 5 Nov 2009 22:24:16 +0000"  >&lt;p&gt;One small comment at this point is that we have no lib folder under bookkeeper, and Pat tells me that putting under PROJECT_ROOT/src/java/lib is not ok. So, it doesn&apos;t compile without modifying build.xml. &lt;/p&gt;

&lt;p&gt;I see two options:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;We create a bookkeeper/src/java/lib folder and add the netty jar. In this case, we edit build.xml to set its classpath appropriately;&lt;/li&gt;
	&lt;li&gt;We make it use ivy and fetch from a repository.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Another point is that for the new bookie classes, I haven&apos;t seen javadocs or comments at all. I think it would be great to have some in there.&lt;/p&gt;
</comment>
                            <comment id="12774450" author="utkarsh" created="Fri, 6 Nov 2009 22:24:41 +0000"  >&lt;p&gt;Rewrite of bookkeeper client library&lt;/p&gt;</comment>
                            <comment id="12774451" author="utkarsh" created="Fri, 6 Nov 2009 22:26:18 +0000"  >&lt;p&gt;The new bookie classes are written by Ben. Ben, can you please add javadocs for those?&lt;/p&gt;</comment>
                            <comment id="12778650" author="hadoopqa" created="Mon, 16 Nov 2009 23:31:14 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12422953/ZOOKEEPER-507.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12422953/ZOOKEEPER-507.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 835618.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 36 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h8.grid.sp2.yahoo.net/65/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h8.grid.sp2.yahoo.net/65/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h8.grid.sp2.yahoo.net/65/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h8.grid.sp2.yahoo.net/65/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h8.grid.sp2.yahoo.net/65/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h8.grid.sp2.yahoo.net/65/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12779258" author="hadoopqa" created="Wed, 18 Nov 2009 02:01:35 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12422953/ZOOKEEPER-507.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12422953/ZOOKEEPER-507.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 881623.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 36 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h7.grid.sp2.yahoo.net/4/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h7.grid.sp2.yahoo.net/4/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h7.grid.sp2.yahoo.net/4/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h7.grid.sp2.yahoo.net/4/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h7.grid.sp2.yahoo.net/4/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h7.grid.sp2.yahoo.net/4/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12781779" author="mahadev" created="Tue, 24 Nov 2009 05:21:38 +0000"  >&lt;p&gt;ben,&lt;br/&gt;
  will you be adding javadocs to the classes?&lt;/p&gt;</comment>
                            <comment id="12781816" author="fpj" created="Tue, 24 Nov 2009 08:18:18 +0000"  >&lt;p&gt;We also need to split this patch into two. There are really two major issue being solved here: new client code and ledger aggregation support.&lt;/p&gt;</comment>
                            <comment id="12782047" author="breed" created="Tue, 24 Nov 2009 17:31:55 +0000"  >&lt;p&gt;waiting for ben to update the bookie doc&lt;/p&gt;</comment>
                            <comment id="12792524" author="fpj" created="Fri, 18 Dec 2009 16:42:52 +0000"  >&lt;p&gt;I have merged &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-486&quot; title=&quot;Improve bookie performance for large number of ledgers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-486&quot;&gt;&lt;del&gt;ZOOKEEPER-486&lt;/del&gt;&lt;/a&gt; back. It doesn&apos;t seem to make a lot of sense to separate these patches because they are not completely disjoint. Aside from having more folks reviewing this patch, we need to:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Improve documentation (&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-607&quot; title=&quot;improve bookkeeper overview&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-607&quot;&gt;&lt;del&gt;ZOOKEEPER-607&lt;/del&gt;&lt;/a&gt;);&lt;/li&gt;
	&lt;li&gt;Fetch netty jar through ivy (ZOOKEEPER-.633).&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12792531" author="fpj" created="Fri, 18 Dec 2009 16:57:01 +0000"  >&lt;p&gt;I had the wrong file name in the previous upload, I&apos;m just uploading the same file with its name corrected.&lt;/p&gt;</comment>
                            <comment id="12794817" author="fpj" created="Mon, 28 Dec 2009 14:40:29 +0000"  >&lt;p&gt;BookieFailureTest is failing intermittently after the last modifications. I&apos;m attaching the test output showing where it is hanging.&lt;/p&gt;</comment>
                            <comment id="12794832" author="fpj" created="Mon, 28 Dec 2009 16:35:07 +0000"  >&lt;p&gt;BookieFailureTest is failing consistently now, after I re-introduced the tests to check the failure of each bookie. These tests are redundant, but they should help to pinpoint problems that arise when the position of the bookie in the ensemble matters. A disadvantage of re-introducing the tests is that they increase the total time needed to run the tests.&lt;/p&gt;

&lt;p&gt;About the test failure, it seems that the test hangs when we error out add keys, but I&apos;m not completely sure. I need to look more deeply into the problem.&lt;/p&gt;

&lt;p&gt;I have also wrote and modified javadoc blocks for some of the client package classes. &lt;/p&gt;</comment>
                            <comment id="12795351" author="breed" created="Wed, 30 Dec 2009 16:58:24 +0000"  >&lt;p&gt;it turns out that the BookieFailureTest was failing due to a bug in netty. it appears to have been fixed at the end of september (see &lt;a href=&quot;http://viewvc.jboss.org/cgi-bin/viewvc.cgi/netty/trunk/src/main/java/org/jboss/netty/channel/socket/nio/NioWorker.java?view=log&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://viewvc.jboss.org/cgi-bin/viewvc.cgi/netty/trunk/src/main/java/org/jboss/netty/channel/socket/nio/NioWorker.java?view=log&lt;/a&gt;) . the fix is in 3.1.5. Running with netty 3.1.5 allows all the tests to pass.&lt;/p&gt;</comment>
                            <comment id="12801639" author="utkarsh" created="Mon, 18 Jan 2010 01:14:14 +0000"  >&lt;p&gt;Added documentation to user-facing classes. Made all the remaining non-user-facing classes package public.&lt;/p&gt;</comment>
                            <comment id="12801644" author="hadoopqa" created="Mon, 18 Jan 2010 01:35:58 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12430595/ZOOKEEPER-507.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12430595/ZOOKEEPER-507.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 899383.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 27 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h8.grid.sp2.yahoo.net/107/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h8.grid.sp2.yahoo.net/107/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h8.grid.sp2.yahoo.net/107/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h8.grid.sp2.yahoo.net/107/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h8.grid.sp2.yahoo.net/107/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h8.grid.sp2.yahoo.net/107/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12802222" author="fpj" created="Tue, 19 Jan 2010 12:19:33 +0000"  >&lt;p&gt;Utkarsh, This patch is broken. There is missing code, which you can actually see from the file size (compare to the previous patches). Could you upload a new complete patch?&lt;/p&gt;</comment>
                            <comment id="12802360" author="utkarsh" created="Tue, 19 Jan 2010 17:34:32 +0000"  >&lt;p&gt;Included all the new classes. Had forgot to svn add them earlier.&lt;/p&gt;</comment>
                            <comment id="12802379" author="hadoopqa" created="Tue, 19 Jan 2010 18:00:33 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12430774/ZOOKEEPER-507.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12430774/ZOOKEEPER-507.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 899383.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 33 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    -1 release audit.  The applied patch generated 211 release audit warnings (more than the trunk&apos;s current 207 warnings).&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h8.grid.sp2.yahoo.net/109/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h8.grid.sp2.yahoo.net/109/testReport/&lt;/a&gt;&lt;br/&gt;
Release audit warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h8.grid.sp2.yahoo.net/109/artifact/trunk/patchprocess/releaseAuditDiffWarnings.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h8.grid.sp2.yahoo.net/109/artifact/trunk/patchprocess/releaseAuditDiffWarnings.txt&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h8.grid.sp2.yahoo.net/109/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h8.grid.sp2.yahoo.net/109/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h8.grid.sp2.yahoo.net/109/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h8.grid.sp2.yahoo.net/109/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12802389" author="fpj" created="Tue, 19 Jan 2010 18:09:51 +0000"  >&lt;p&gt;The following two classes are missing the license headers:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;BaseTestCase.java&lt;/li&gt;
	&lt;li&gt;SyncCounter.java&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="12802404" author="utkarsh" created="Tue, 19 Jan 2010 18:32:20 +0000"  >&lt;p&gt;Fixed warnings, added 2 missing license headers&lt;/p&gt;</comment>
                            <comment id="12802432" author="hadoopqa" created="Tue, 19 Jan 2010 19:41:17 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12430779/ZOOKEEPER-507.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12430779/ZOOKEEPER-507.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 899383.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 33 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h8.grid.sp2.yahoo.net/110/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h8.grid.sp2.yahoo.net/110/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h8.grid.sp2.yahoo.net/110/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h8.grid.sp2.yahoo.net/110/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h8.grid.sp2.yahoo.net/110/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h8.grid.sp2.yahoo.net/110/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12803538" author="mahadev" created="Thu, 21 Jan 2010 23:33:22 +0000"  >&lt;p&gt;lets try and get this in 3.3.&lt;/p&gt;</comment>
                            <comment id="12803544" author="mahadev" created="Thu, 21 Jan 2010 23:47:10 +0000"  >&lt;p&gt;utkarsh and ben,&lt;br/&gt;
 can you folks please update the jira saying &lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;what changes have been made - the basic design change&lt;/li&gt;
	&lt;li&gt;what classes have been added and what is there purpose (better javadoc would help here)&lt;/li&gt;
	&lt;li&gt;what user facing changes have been made&lt;/li&gt;
	&lt;li&gt;are there forrest docs added for the user interface?&lt;/li&gt;
	&lt;li&gt;also i took a cursory look, it seems some (very few) of the classes do not have any javadoc or very minimal. It would be really helpful for future and current development if javadoc is added to these classes&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12803640" author="breed" created="Fri, 22 Jan 2010 08:49:40 +0000"  >&lt;p&gt;here are the main changes:&lt;/p&gt;

&lt;p&gt;1) changed to using netty for client requests&lt;br/&gt;
2) made recovery more reliable&lt;br/&gt;
3)  multiplexed writes to handle a large number of concurrent ledgers being written to&lt;/p&gt;

&lt;p&gt;the user facing changes are minimal. our javadoc efforts have been with respect to user facing classes. the internal code is still a bit influx, so some of the internal or simple classes we have not put a lot of effort into documenting since they haven&apos;t really finalized.&lt;/p&gt;

&lt;p&gt;our main goal right now is to get the patch in since it is very large and hard to manage at this point.&lt;/p&gt;</comment>
                            <comment id="12804203" author="breed" created="Sun, 24 Jan 2010 07:41:12 +0000"  >&lt;p&gt;two extremely small fixes to make the tests patch:&lt;/p&gt;

&lt;p&gt;1) The syncThread was not being killed in the shutdown() method of Bookie&lt;br/&gt;
2) We need to add pending ops before calling connect() in PerChannelBookieConnection because in linux with local host the connect will return immediately.&lt;/p&gt;

&lt;p&gt;we really need to commit this thing. the patch has become extremely unwieldy!&lt;/p&gt;</comment>
                            <comment id="12804298" author="utkarsh" created="Sun, 24 Jan 2010 20:56:46 +0000"  >&lt;p&gt;Ben, could you explain the change in PerChannelBookieClient.java. As far as I could tell, you exchanged the order of &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;initiating a connect, and&lt;/li&gt;
	&lt;li&gt;adding operation to pendingops&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;But since these are done under a lock, and the connect callback grabs the same lock, switching this order is immaterial. It shouldn&apos;t have fixed anything.&lt;/p&gt;</comment>
                            <comment id="12804569" author="breed" created="Mon, 25 Jan 2010 15:32:21 +0000"  >&lt;p&gt;yeah that is exactly what i thought, which is why it took me so long to fix. the problem is that the connect in the same thread. so if the connect succeeds right away, which happens with local host, the pendingops list gets processed. thus, you need to add to pendingops before calling connect.&lt;/p&gt;</comment>
                            <comment id="12804608" author="utkarsh" created="Mon, 25 Jan 2010 17:32:34 +0000"  >&lt;p&gt;Oh, you mean the connect callback gets called in the same thread? If so, yes I can see why that would not work. &lt;/p&gt;</comment>
                            <comment id="12805265" author="mahadev" created="Tue, 26 Jan 2010 23:06:02 +0000"  >&lt;p&gt;+1 ... ill go ahead and commit this. please make sure you add more java docs and forrest docs for bookkeeper. &lt;/p&gt;</comment>
                            <comment id="12805280" author="mahadev" created="Tue, 26 Jan 2010 23:20:52 +0000"  >&lt;p&gt;I just committed this. thanks utkarsh, ben and flavio.&lt;/p&gt;</comment>
                            <comment id="12805475" author="hudson" created="Wed, 27 Jan 2010 11:05:50 +0000"  >&lt;p&gt;Integrated in ZooKeeper-trunk #680 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/ZooKeeper-trunk/680/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/ZooKeeper-trunk/680/&lt;/a&gt;)&lt;br/&gt;
    . BookKeeper client re-write (Utkarsh and ben via mahadev)&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                            <outwardlinks description="incorporates">
                                        <issuelink>
            <issuekey id="12432610">ZOOKEEPER-505</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12432460">ZOOKEEPER-502</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12432463">ZOOKEEPER-503</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12432546">ZOOKEEPER-504</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12430128">ZOOKEEPER-461</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12446707">BOOKKEEPER-691</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12442232">ZOOKEEPER-607</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12429015" name="BookieFailureTest-log-507.rtf" size="82999" author="fpj" created="Mon, 28 Dec 2009 14:40:29 +0000"/>
                            <attachment id="12431238" name="ZOOKEEPER-507.patch" size="528271" author="breed" created="Sun, 24 Jan 2010 07:41:12 +0000"/>
                            <attachment id="12430779" name="ZOOKEEPER-507.patch" size="528081" author="utkarsh" created="Tue, 19 Jan 2010 18:32:20 +0000"/>
                            <attachment id="12429017" name="ZOOKEEPER-507.patch" size="523659" author="fpj" created="Mon, 28 Dec 2009 16:35:07 +0000"/>
                            <attachment id="12428452" name="ZOOKEEPER-507.patch" size="522485" author="fpj" created="Fri, 18 Dec 2009 16:57:01 +0000"/>
                            <attachment id="12422953" name="ZOOKEEPER-507.patch" size="532136" author="utkarsh" created="Thu, 22 Oct 2009 22:06:54 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 22 Oct 2009 21:06:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>47763</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxzxr3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33452</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>bookkeeper code rewrite with optimization on disk write scheduling and scheduling of ledger writes on the client side.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>