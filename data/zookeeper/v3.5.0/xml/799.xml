<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:43:58 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/ZOOKEEPER-799/ZOOKEEPER-799.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[ZOOKEEPER-799] Add tools and recipes for monitoring as a contrib</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-799</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;Tools and Recipes for Monitoring ZooKeeper using Cacti, Nagios or Ganglia. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12468199">ZOOKEEPER-799</key>
            <summary>Add tools and recipes for monitoring as a contrib</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="savu.andrei">Andrei Savu</assignee>
                                    <reporter username="savu.andrei">Andrei Savu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 29 Jun 2010 22:13:36 +0100</created>
                <updated>Mon, 17 Sep 2012 14:21:12 +0100</updated>
                            <resolved>Wed, 14 Jul 2010 07:41:01 +0100</resolved>
                                                    <fixVersion>3.4.0</fixVersion>
                                    <component>contrib</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12883716" author="savu.andrei" created="Tue, 29 Jun 2010 22:40:32 +0100"  >&lt;p&gt;I&apos;ve attached a patch and an archive containing all the files in the patch + some screenshots.  I&apos;m waiting for your feedback. &lt;/p&gt;</comment>
                            <comment id="12885321" author="massie" created="Mon, 5 Jul 2010 20:45:05 +0100"  >&lt;p&gt;Andrei-&lt;/p&gt;

&lt;p&gt;Nice work on this patch!  &lt;/p&gt;

&lt;p&gt;I&apos;ve just looked over your work re: ganglia since it&apos;s what I&apos;m familiar with.&lt;/p&gt;

&lt;p&gt;The &lt;tt&gt;GangliaHandler&lt;/tt&gt; in &lt;tt&gt;check_zookeeper.py&lt;/tt&gt; makes the assumption that all ZK variables are &lt;tt&gt;uint32&lt;/tt&gt;.  Looking at the list of exported variables it appears that assumption is safe but it&apos;s something to remember.  In the future, you may want to export heterogeneous metrics with strings and floats for example.  &lt;/p&gt;

&lt;p&gt;I think it might be possible to pass just the executable string &lt;tt&gt;&apos;gmetric&apos;&lt;/tt&gt; to subprocess.call instead of the full path &lt;tt&gt;&apos;/usr/bin/gmetric&apos;&lt;/tt&gt;.  This would allow for alternative locations of gmetric to be found using the &lt;tt&gt;PATH&lt;/tt&gt; environment variable.&lt;/p&gt;

&lt;p&gt;Your python module looks correct to me but I didn&apos;t test it.&lt;/p&gt;

&lt;p&gt;You might want to drop a short sentence into the &lt;tt&gt;README&lt;/tt&gt; that the python module only works with the 3.1.x versions of ganglia whereas the gmetric approach works for all versions.&lt;/p&gt;


</comment>
                            <comment id="12885331" author="savu.andrei" created="Mon, 5 Jul 2010 21:06:57 +0100"  >&lt;p&gt;Thanks for reviewing. I will check the data types again so that I&apos;m&lt;br/&gt;
sure I&apos;m not making any wrong assumptions and I&apos;m also going to let&lt;br/&gt;
the user specify  the path to &lt;tt&gt;gmetric&lt;/tt&gt; as cli parameter.&lt;/p&gt;

</comment>
                            <comment id="12886737" author="savu.andrei" created="Fri, 9 Jul 2010 16:12:36 +0100"  >
&lt;ul&gt;
	&lt;li&gt;fixed &lt;tt&gt;GangliaHandler&lt;/tt&gt; in &lt;tt&gt;check_zookeeper.py&lt;/tt&gt; to allow the user to specify the path to gmetric on the command line (default value: /usr/bin/gmetric)&lt;/li&gt;
	&lt;li&gt;it seems like it&apos;s safe to to use &lt;tt&gt;unit32&lt;/tt&gt;, at least for now&lt;/li&gt;
	&lt;li&gt;added notice for the Ganglia Python module - it only works with 3.1.x&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Matt thanks again for reviewing this patch. &lt;/p&gt;

&lt;p&gt;Travis I would really like to know what you think about this because as I remember, at Twitter, you are using Ganglia for monitoring ZooKeeper. &lt;/p&gt;

&lt;p&gt;What else should I do to get this patch committed? Add more source code comments? More details in the docs?&lt;/p&gt;</comment>
                            <comment id="12887024" author="savu.andrei" created="Sat, 10 Jul 2010 13:21:24 +0100"  >&lt;ul&gt;
	&lt;li&gt;removed two files: LICENCE and a copyright NOTICE&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I believe the patch is now ready to be committed. &lt;/p&gt;</comment>
                            <comment id="12887033" author="hadoopqa" created="Sat, 10 Jul 2010 14:56:25 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12449151/monitoring.tar.gz&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12449151/monitoring.tar.gz&lt;/a&gt;&lt;br/&gt;
  against trunk revision 962697.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no tests are needed for this patch.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/140/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/140/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12887411" author="phunt" created="Mon, 12 Jul 2010 17:38:26 +0100"  >&lt;p&gt;Andrei please fix the patch application issue and resubmit. thanks.&lt;/p&gt;</comment>
                            <comment id="12887847" author="hadoopqa" created="Tue, 13 Jul 2010 18:04:11 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12449351/monitoring.tar.gz&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12449351/monitoring.tar.gz&lt;/a&gt;&lt;br/&gt;
  against trunk revision 962697.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no tests are needed for this patch.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/141/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/141/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12887852" author="phunt" created="Tue, 13 Jul 2010 18:10:54 +0100"  >&lt;p&gt;I see, both files are necessary to build. I&apos;ll take a look at this asap (don&apos;t worry about hudson).&lt;/p&gt;</comment>
                            <comment id="12887870" author="savu.andrei" created="Tue, 13 Jul 2010 18:33:09 +0100"  >&lt;p&gt;Not really. The archive only contains some extra files (screenshots). I don&apos;t understand why Hudson keeps trying to apply it as patch even of it&apos;s not marked for inclusion. &lt;/p&gt;


&lt;p&gt;&lt;del&gt;original message&lt;/del&gt;&lt;br/&gt;
Subject: &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Commented: (&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-799&quot; title=&quot;Add tools and recipes for monitoring as a contrib&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-799&quot;&gt;&lt;del&gt;ZOOKEEPER-799&lt;/del&gt;&lt;/a&gt;) Add tools and recipes for monitoring as a contrib&lt;br/&gt;
From: &quot;Patrick Hunt (JIRA)&quot; &amp;lt;jira@apache.org&amp;gt;&lt;br/&gt;
Date: 13/07/2010 20:13&lt;/p&gt;


&lt;p&gt;    [ &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-799?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&amp;amp;focusedCommentId=12887852#action_12887852&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/ZOOKEEPER-799?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&amp;amp;focusedCommentId=12887852#action_12887852&lt;/a&gt; ] &lt;/p&gt;

&lt;p&gt;Patrick Hunt commented on &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-799&quot; title=&quot;Add tools and recipes for monitoring as a contrib&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-799&quot;&gt;&lt;del&gt;ZOOKEEPER-799&lt;/del&gt;&lt;/a&gt;:&lt;br/&gt;
----------------------------------------&lt;/p&gt;

&lt;p&gt;I see, both files are necessary to build. I&apos;ll take a look at this asap (don&apos;t worry about hudson).&lt;/p&gt;


&lt;p&gt;&amp;#8211; &lt;br/&gt;
This message is automatically generated by JIRA.&lt;br/&gt;
-&lt;br/&gt;
You can reply to this email to add a comment to the issue online.&lt;/p&gt;


</comment>
                            <comment id="12888220" author="phunt" created="Wed, 14 Jul 2010 07:26:46 +0100"  >&lt;p&gt;probably because monitoring.tar is currently the most recent attachment.&lt;/p&gt;</comment>
                            <comment id="12888222" author="phunt" created="Wed, 14 Jul 2010 07:41:00 +0100"  >&lt;p&gt;+1, great to see this patch go in!! thanks Andrei&lt;/p&gt;</comment>
                            <comment id="12888224" author="savu.andrei" created="Wed, 14 Jul 2010 07:44:56 +0100"  >&lt;p&gt;Awesome! Thanks for reviewing Patrick! &lt;/p&gt;</comment>
                            <comment id="12890525" author="hudson" created="Wed, 21 Jul 2010 02:43:31 +0100"  >&lt;p&gt;Integrated in ZooKeeper-trunk #881 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/ZooKeeper-trunk/881/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/ZooKeeper-trunk/881/&lt;/a&gt;)&lt;/p&gt;
</comment>
                            <comment id="13456995" author="elasticdarwin" created="Mon, 17 Sep 2012 14:21:12 +0100"  >&lt;p&gt;There is a bug in nagios module when using &apos;stat&apos; keyword&lt;br/&gt;
in _send_cmd method (check_zookeeper.py line 169)&lt;/p&gt;

&lt;p&gt;&amp;lt;         data = s.recv(2048)&lt;br/&gt;
&amp;#8212;&lt;br/&gt;
&amp;gt; 	data = &apos;&apos;&lt;br/&gt;
&amp;gt; 	while True:&lt;br/&gt;
&amp;gt; 		pack = s.recv(2048)&lt;br/&gt;
&amp;gt; 		if len(pack) is 0:&lt;br/&gt;
&amp;gt; 			break&lt;br/&gt;
&amp;gt; 		data += pack&lt;/p&gt;


&lt;p&gt;I&apos;m not very familiar with python, you may rewrite this for better reading / performance. &lt;/p&gt;

&lt;p&gt;Thank you for your plugin~&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                            <outwardlinks description="requires">
                                        <issuelink>
            <issuekey id="12462479">ZOOKEEPER-744</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is required by">
                                        <issuelink>
            <issuekey id="12458993">ZOOKEEPER-701</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12449150" name="ZOOKEEPER-799.patch" size="41243" author="savu.andrei" created="Sat, 10 Jul 2010 13:21:24 +0100"/>
                            <attachment id="12449351" name="monitoring.tar.gz" size="460350" author="savu.andrei" created="Tue, 13 Jul 2010 15:29:48 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 5 Jul 2010 19:45:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>47591</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxzxcn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33387</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tools and Recipes for Monitoring ZooKeeper using Cacti, Nagios or Ganglia. </customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>monitoring, cacti, nagios, ganglia, contrib</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>