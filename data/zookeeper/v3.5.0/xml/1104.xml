<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:48:18 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/ZOOKEEPER-1104/ZOOKEEPER-1104.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[ZOOKEEPER-1104] CLONE - In QuorumTest, use the same &quot;for ( .. try { break } catch { } )&quot; pattern in testFollowersStartAfterLeaders as in testSessionMove.</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-1104</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;Patrick Hunt writes: &lt;/p&gt;

&lt;p&gt;&quot;Such uses of sleep &lt;span class=&quot;error&quot;&gt;&amp;#91;used in testFollowersStartAfterLeader&amp;#93;&lt;/span&gt; are just asking for trouble. Take a look at the use&lt;br/&gt;
of sleep in testSessionMove in the same class for a better way to do&lt;br/&gt;
this. I had gone through all the tests a while back, replacing all the&lt;br/&gt;
&quot;sleep&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&quot; with something like this testSessionMove pattern (retry&lt;br/&gt;
with a max limit that&apos;s very long). During reviews we should look for&lt;br/&gt;
anti-patterns like this and address them before commit.&quot;&lt;/p&gt;

&lt;p&gt;So, modify testFollowersStartAfterLeaders to use the same retrying approach that testSessionMove uses.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12511270">ZOOKEEPER-1104</key>
            <summary>CLONE - In QuorumTest, use the same &quot;for ( .. try { break } catch { } )&quot; pattern in testFollowersStartAfterLeaders as in testSessionMove.</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ekoontz">Eugene Koontz</assignee>
                                    <reporter username="sreekanth.bat">sreekanth</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 Jun 2011 19:21:39 +0100</created>
                <updated>Wed, 23 Nov 2011 19:22:19 +0000</updated>
                            <resolved>Mon, 15 Aug 2011 01:54:46 +0100</resolved>
                                    <version>3.4.0</version>
                                    <fixVersion>3.4.0</fixVersion>
                                    <component>tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13068534" author="ekoontz" created="Wed, 20 Jul 2011 19:25:18 +0100"  >&lt;p&gt;Hi, an earlier version of the patch for this issue is now in trunk since:&lt;/p&gt;

&lt;p&gt;I am adding another, smaller patch that syncs trunk with the modifications of this patch (removing the unneeded &quot;boolean success&quot; variable).&lt;/p&gt;






</comment>
                            <comment id="13068537" author="ekoontz" created="Wed, 20 Jul 2011 19:28:20 +0100"  >&lt;p&gt;sorry should have read &quot;since June 21-June 22&quot;&lt;/p&gt;

&lt;p&gt;{{&lt;br/&gt;
commit 9619bd31d5b191fdb7d622d2bb84fac92ab1111c&lt;br/&gt;
Author: Patrick D. Hunt &amp;lt;phunt@apache.org&amp;gt;&lt;br/&gt;
Date:   Wed Jun 22 19:35:55 2011 +0000&lt;/p&gt;

&lt;p&gt;    Fixed a problem introduced by the first patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1103&quot; title=&quot;In QuorumTest, use the same &amp;quot;for ( .. try { break } catch { } )&amp;quot; pattern in testFollowersStartAfterLeaders as in testSessionMove.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1103&quot;&gt;&lt;del&gt;ZOOKEEPER-1103&lt;/del&gt;&lt;/a&gt; (phunt)&lt;/p&gt;

&lt;p&gt;    git-svn-id: &lt;a href=&quot;https://svn.apache.org/repos/asf/zookeeper/trunk@1138595&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/repos/asf/zookeeper/trunk@1138595&lt;/a&gt; 13f79535-47bb-0310-9956-ffa450edef68&lt;/p&gt;

&lt;p&gt;commit 77992edd8abc6ffd759d60266e55fd3b388b7d3a&lt;br/&gt;
Author: Patrick D. Hunt &amp;lt;phunt@apache.org&amp;gt;&lt;br/&gt;
Date:   Tue Jun 21 22:19:04 2011 +0000&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1103&quot; title=&quot;In QuorumTest, use the same &amp;quot;for ( .. try { break } catch { } )&amp;quot; pattern in testFollowersStartAfterLeaders as in testSessionMove.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1103&quot;&gt;&lt;del&gt;ZOOKEEPER-1103&lt;/del&gt;&lt;/a&gt;. In QuorumTest, use the same &quot;for ( .. try &lt;/p&gt;
{ break }
&lt;p&gt; catch { } )&quot; pattern in testFollowersStartAfterLeaders as in testSessionMove. (Eugene Koontz v&lt;/p&gt;

&lt;p&gt;    git-svn-id: &lt;a href=&quot;https://svn.apache.org/repos/asf/zookeeper/trunk@1138213&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/repos/asf/zookeeper/trunk@1138213&lt;/a&gt; 13f79535-47bb-0310-9956-ffa450edef68&lt;br/&gt;
}}&lt;/p&gt;</comment>
                            <comment id="13068563" author="hadoopqa" created="Wed, 20 Jul 2011 20:01:50 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12487200/ZOOKEEPER-1104.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12487200/ZOOKEEPER-1104.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1148553.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 4 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    -1 release audit.  The applied patch generated 26 release audit warnings (more than the trunk&apos;s current 24 warnings).&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/404//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/404//testReport/&lt;/a&gt;&lt;br/&gt;
Release audit warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/404//artifact/trunk/patchprocess/patchReleaseAuditProblems.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/404//artifact/trunk/patchprocess/patchReleaseAuditProblems.txt&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/404//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/404//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/404//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/404//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13082933" author="hadoopqa" created="Thu, 11 Aug 2011 06:33:23 +0100"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12487200/ZOOKEEPER-1104.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12487200/ZOOKEEPER-1104.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1152141.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 4 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/449//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/449//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/449//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/449//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/449//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/449//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13082963" author="mahadev" created="Thu, 11 Aug 2011 07:47:39 +0100"  >&lt;p&gt;Eugene,&lt;br/&gt;
 You have a couple of patches attached. 2 of them saying &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1103&quot; title=&quot;In QuorumTest, use the same &amp;quot;for ( .. try { break } catch { } )&amp;quot; pattern in testFollowersStartAfterLeaders as in testSessionMove.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1103&quot;&gt;&lt;del&gt;ZOOKEEPER-1103&lt;/del&gt;&lt;/a&gt;. Is &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1104&quot; title=&quot;CLONE - In QuorumTest, use the same &amp;quot;for ( .. try { break } catch { } )&amp;quot; pattern in testFollowersStartAfterLeaders as in testSessionMove.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1104&quot;&gt;&lt;del&gt;ZOOKEEPER-1104&lt;/del&gt;&lt;/a&gt; patch the one to consider for this jira?&lt;/p&gt;</comment>
                            <comment id="13083509" author="ekoontz" created="Thu, 11 Aug 2011 21:43:50 +0100"  >&lt;p&gt;Hi Mahadev, Please use the &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1104&quot; title=&quot;CLONE - In QuorumTest, use the same &amp;quot;for ( .. try { break } catch { } )&amp;quot; pattern in testFollowersStartAfterLeaders as in testSessionMove.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1104&quot;&gt;&lt;del&gt;ZOOKEEPER-1104&lt;/del&gt;&lt;/a&gt; one (&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1104&quot; title=&quot;CLONE - In QuorumTest, use the same &amp;quot;for ( .. try { break } catch { } )&amp;quot; pattern in testFollowersStartAfterLeaders as in testSessionMove.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1104&quot;&gt;&lt;del&gt;ZOOKEEPER-1104&lt;/del&gt;&lt;/a&gt;.patch)&lt;br/&gt;
-Eugene&lt;/p&gt;</comment>
                            <comment id="13084925" author="mahadev" created="Mon, 15 Aug 2011 01:51:20 +0100"  >&lt;p&gt;Eugene, I am assuming the patch is just for trunk. Let me know if it needs to go into 3.3 branch as well.&lt;/p&gt;</comment>
                            <comment id="13084927" author="mahadev" created="Mon, 15 Aug 2011 01:54:46 +0100"  >&lt;p&gt;I just pushed this to trunk only! Thanks Eugene, do let me know if this needs to go into 3.3 branch.&lt;/p&gt;</comment>
                            <comment id="13085025" author="hudson" created="Mon, 15 Aug 2011 11:55:24 +0100"  >&lt;p&gt;Integrated in ZooKeeper-trunk #1266 (See &lt;a href=&quot;https://builds.apache.org/job/ZooKeeper-trunk/1266/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/ZooKeeper-trunk/1266/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1104&quot; title=&quot;CLONE - In QuorumTest, use the same &amp;quot;for ( .. try { break } catch { } )&amp;quot; pattern in testFollowersStartAfterLeaders as in testSessionMove.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1104&quot;&gt;&lt;del&gt;ZOOKEEPER-1104&lt;/del&gt;&lt;/a&gt;. CLONE - In QuorumTest, use the same &quot;for ( .. try &lt;/p&gt;
{ break }
&lt;p&gt; catch { } )&quot; pattern in testFollowersStartAfterLeaders as in testSessionMove. (Eugene Koontz via mahadev)&lt;/p&gt;

&lt;p&gt;mahadev : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1157690&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1157690&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/zookeeper/trunk/src/java/test/org/apache/zookeeper/test/QuorumTest.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                            <outwardlinks description="is a clone of">
                                        <issuelink>
            <issuekey id="12511170">ZOOKEEPER-1103</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12483472" name="ASF.LICENSE.NOT.GRANTED--ZOOKEEPER-1103.patch" size="1274" author="sreekanth.bat" created="Wed, 22 Jun 2011 19:21:40 +0100"/>
                            <attachment id="12483473" name="ASF.LICENSE.NOT.GRANTED--ZOOKEEPER-1103_branch_3_3.patch" size="1234" author="sreekanth.bat" created="Wed, 22 Jun 2011 19:21:40 +0100"/>
                            <attachment id="12487200" name="ZOOKEEPER-1104.patch" size="1092" author="ekoontz" created="Wed, 20 Jul 2011 19:36:40 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 20 Jul 2011 18:25:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>47478</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxzx0f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33332</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Contains improvement to original patch (remove unneeded boolean variable).</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>