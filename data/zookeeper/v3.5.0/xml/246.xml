<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:44:13 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/ZOOKEEPER-246/ZOOKEEPER-246.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[ZOOKEEPER-246] review error code definition in both source and docs</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-246</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;A number of users have mentioned that our use of &quot;calculated&quot; values for error codes makes it very difficult to track error reports from the logs.  In both c/java we have:&lt;/p&gt;

&lt;p&gt;int ERROR = 100&lt;br/&gt;
int X_ERROR= ERROR + 1&lt;br/&gt;
int Y_ERROR= ERROR + 2&lt;br/&gt;
etc...&lt;/p&gt;

&lt;p&gt;which makes it difficult to grep/search for &quot;101&quot; and find these references. A number of users have mentioned that having non-calculated values (ie X_ERROR=101) would make it easier. &lt;/p&gt;

&lt;p&gt;I personally find calculated constants like this an anti-pattern.&lt;/p&gt;

&lt;p&gt;We should convert these values to non-calculated at a minimum, perhaps even redefine them as enums if possible.&lt;/p&gt;

&lt;p&gt;Also documentation, esp in the c code (the names btw c and java don&apos;t match btw) is lacking. We need to beef up docs in this area.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12410028">ZOOKEEPER-246</key>
            <summary>review error code definition in both source and docs</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="phunt">Patrick Hunt</assignee>
                                    <reporter username="phunt">Patrick Hunt</reporter>
                        <labels>
                    </labels>
                <created>Fri, 5 Dec 2008 00:16:48 +0000</created>
                <updated>Fri, 13 Feb 2009 21:18:50 +0000</updated>
                            <resolved>Mon, 22 Dec 2008 22:23:59 +0000</resolved>
                                    <version>3.0.0</version>
                    <version>3.0.1</version>
                                    <fixVersion>3.1.0</fixVersion>
                                    <component>c client</component>
                    <component>documentation</component>
                    <component>java client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12653654" author="phunt" created="Fri, 5 Dec 2008 06:22:37 +0000"  >&lt;p&gt;Take a look at this patch.&lt;/p&gt;

&lt;p&gt;Notes:&lt;br/&gt;
1) I updated forrest docs, javadoc and doxygen (c) doc&lt;br/&gt;
2) in c I updated the constants to be non-calculated enum values&lt;br/&gt;
this resulted in b/w compatible code, except for the extreme case where the type was specifically tested (changed from int to ZOO_ERROR type), which only was an issue with our CPPUNIT_ASSERT_EQUAL tests - zkfuse client compiled w/o issue. I think this is acceptable, we should release note but not consider this as b/w incompatible change.&lt;br/&gt;
3) in java I &lt;br/&gt;
a) deprecated all of the orig int constants (KeeperException.Code class), javadoc points to new constants&lt;br/&gt;
b) added new enum constants as non-calc values, names are the same except they are all caps&lt;br/&gt;
c) deprecated getCode() in KeeperException  and replaced with code(), return values changed from int to Code&lt;/p&gt;

&lt;p&gt;d) I did &lt;em&gt;not&lt;/em&gt; change the callbacks, we could do that, but it would be alot of work. ie deprecate the orig callbacks/methods which take these callbacks, and replace them with new versions.&lt;/p&gt;</comment>
                            <comment id="12656137" author="mahadev" created="Fri, 12 Dec 2008 19:54:38 +0000"  >&lt;p&gt;comments:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the static create method KeeperException.create(int) has been removed. We need to keep it for b/w compatibility.&lt;/li&gt;
	&lt;li&gt;also a little bit more doucmentation on APIERROR would help (both c and java) . you can say that all the api errors start from here, all the others are less than this (more explict than just range start). also, mention that this error is not thrown by the server but is just the range start.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12656138" author="mahadev" created="Fri, 12 Dec 2008 19:55:08 +0000"  >&lt;p&gt;cancelling the patch to address the comments.,&lt;/p&gt;</comment>
                            <comment id="12656175" author="phunt" created="Fri, 12 Dec 2008 22:04:08 +0000"  >&lt;p&gt;good catch on the dropped method, thought I had kept everything...&lt;br/&gt;
also updated the docs per the comment.&lt;/p&gt;</comment>
                            <comment id="12658695" author="mahadev" created="Mon, 22 Dec 2008 22:21:57 +0000"  >&lt;p&gt;update the patch. the older patch does not apply cleanly after I committed &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-255&quot; title=&quot;zoo_set() api does not return stat datastructure.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-255&quot;&gt;&lt;del&gt;ZOOKEEPER-255&lt;/del&gt;&lt;/a&gt;. rand the c and java tests. they pass.&lt;/p&gt;</comment>
                            <comment id="12658696" author="mahadev" created="Mon, 22 Dec 2008 22:23:59 +0000"  >&lt;p&gt;I just committed this. Thanks pat!&lt;/p&gt;</comment>
                            <comment id="12658820" author="hudson" created="Tue, 23 Dec 2008 10:54:14 +0000"  >&lt;p&gt;Integrated in ZooKeeper-trunk #181 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/ZooKeeper-trunk/181/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/ZooKeeper-trunk/181/&lt;/a&gt;)&lt;br/&gt;
    . updating the docs.&lt;br/&gt;
. review error code definition in both source and docs. (pat via mahadev)&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12414028">ZOOKEEPER-291</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12396636" name="ZOOKEEPER-246.patch" size="103720" author="mahadev" created="Mon, 22 Dec 2008 22:21:57 +0000"/>
                            <attachment id="12395974" name="ZOOKEEPER-246.patch" size="107106" author="phunt" created="Fri, 12 Dec 2008 22:04:08 +0000"/>
                            <attachment id="12395369" name="ZOOKEEPER-246.patch" size="106255" author="phunt" created="Fri, 5 Dec 2008 06:22:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 12 Dec 2008 19:54:38 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>47950</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10342"><![CDATA[Incompatible change]]></customfieldvalue>
    <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxzyb3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33542</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>