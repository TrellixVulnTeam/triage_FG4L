<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:40:52 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/ZOOKEEPER-1339/ZOOKEEPER-1339.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[ZOOKEEPER-1339] C clien doesn&apos;t build with --enable-debug</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-1339</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;When I&apos;m trying to build 3.4.1 c client with --enable-debug switch I&apos;m getting following error:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
make  all-am
make[1]: Entering directory `/home/jlekstan/zookeeper-3.4.1/src/c&apos;
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; /bin/bash ./libtool --tag=CC --mode=compile gcc -DHAVE_CONFIG_H -I. -I. -I.  -I./include -I./tests -I./generated  -Wall -Werror  -g -O0 -D_GNU_SOURCE -MT zookeeper.lo -MD -MP -MF &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/zookeeper.Tpo&quot;&lt;/span&gt; -c -o zookeeper.lo `test -f &apos;src/zookeeper.c&apos; || echo &apos;./&apos;`src/zookeeper.c; \
	then mv -f &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/zookeeper.Tpo&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/zookeeper.Plo&quot;&lt;/span&gt;; &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; rm -f &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/zookeeper.Tpo&quot;&lt;/span&gt;; exit 1; fi
mkdir .libs
 gcc -DHAVE_CONFIG_H -I. -I. -I. -I./include -I./tests -I./generated -Wall -Werror -g -O0 -D_GNU_SOURCE -MT zookeeper.lo -MD -MP -MF .deps/zookeeper.Tpo -c src/zookeeper.c  -fPIC -DPIC -o .libs/zookeeper.o
 gcc -DHAVE_CONFIG_H -I. -I. -I. -I./include -I./tests -I./generated -Wall -Werror -g -O0 -D_GNU_SOURCE -MT zookeeper.lo -MD -MP -MF .deps/zookeeper.Tpo -c src/zookeeper.c -o zookeeper.o &amp;gt;/dev/&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; 2&amp;gt;&amp;amp;1
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; /bin/bash ./libtool --tag=CC --mode=compile gcc -DHAVE_CONFIG_H -I. -I. -I.  -I./include -I./tests -I./generated  -Wall -Werror  -g -O0 -D_GNU_SOURCE -MT recordio.lo -MD -MP -MF &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/recordio.Tpo&quot;&lt;/span&gt; -c -o recordio.lo `test -f &apos;src/recordio.c&apos; || echo &apos;./&apos;`src/recordio.c; \
	then mv -f &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/recordio.Tpo&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/recordio.Plo&quot;&lt;/span&gt;; &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; rm -f &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/recordio.Tpo&quot;&lt;/span&gt;; exit 1; fi
 gcc -DHAVE_CONFIG_H -I. -I. -I. -I./include -I./tests -I./generated -Wall -Werror -g -O0 -D_GNU_SOURCE -MT recordio.lo -MD -MP -MF .deps/recordio.Tpo -c src/recordio.c  -fPIC -DPIC -o .libs/recordio.o
 gcc -DHAVE_CONFIG_H -I. -I. -I. -I./include -I./tests -I./generated -Wall -Werror -g -O0 -D_GNU_SOURCE -MT recordio.lo -MD -MP -MF .deps/recordio.Tpo -c src/recordio.c -o recordio.o &amp;gt;/dev/&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; 2&amp;gt;&amp;amp;1
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; /bin/bash ./libtool --tag=CC --mode=compile gcc -DHAVE_CONFIG_H -I. -I. -I.  -I./include -I./tests -I./generated  -Wall -Werror  -g -O0 -D_GNU_SOURCE -MT zookeeper.jute.lo -MD -MP -MF &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/zookeeper.jute.Tpo&quot;&lt;/span&gt; -c -o zookeeper.jute.lo `test -f &apos;generated/zookeeper.jute.c&apos; || echo &apos;./&apos;`generated/zookeeper.jute.c; \
	then mv -f &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/zookeeper.jute.Tpo&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/zookeeper.jute.Plo&quot;&lt;/span&gt;; &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; rm -f &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/zookeeper.jute.Tpo&quot;&lt;/span&gt;; exit 1; fi
 gcc -DHAVE_CONFIG_H -I. -I. -I. -I./include -I./tests -I./generated -Wall -Werror -g -O0 -D_GNU_SOURCE -MT zookeeper.jute.lo -MD -MP -MF .deps/zookeeper.jute.Tpo -c generated/zookeeper.jute.c  -fPIC -DPIC -o .libs/zookeeper.jute.o
 gcc -DHAVE_CONFIG_H -I. -I. -I. -I./include -I./tests -I./generated -Wall -Werror -g -O0 -D_GNU_SOURCE -MT zookeeper.jute.lo -MD -MP -MF .deps/zookeeper.jute.Tpo -c generated/zookeeper.jute.c -o zookeeper.jute.o &amp;gt;/dev/&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; 2&amp;gt;&amp;amp;1
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; /bin/bash ./libtool --tag=CC --mode=compile gcc -DHAVE_CONFIG_H -I. -I. -I.  -I./include -I./tests -I./generated  -Wall -Werror  -g -O0 -D_GNU_SOURCE -MT zk_log.lo -MD -MP -MF &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/zk_log.Tpo&quot;&lt;/span&gt; -c -o zk_log.lo `test -f &apos;src/zk_log.c&apos; || echo &apos;./&apos;`src/zk_log.c; \
	then mv -f &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/zk_log.Tpo&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/zk_log.Plo&quot;&lt;/span&gt;; &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; rm -f &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/zk_log.Tpo&quot;&lt;/span&gt;; exit 1; fi
 gcc -DHAVE_CONFIG_H -I. -I. -I. -I./include -I./tests -I./generated -Wall -Werror -g -O0 -D_GNU_SOURCE -MT zk_log.lo -MD -MP -MF .deps/zk_log.Tpo -c src/zk_log.c  -fPIC -DPIC -o .libs/zk_log.o
 gcc -DHAVE_CONFIG_H -I. -I. -I. -I./include -I./tests -I./generated -Wall -Werror -g -O0 -D_GNU_SOURCE -MT zk_log.lo -MD -MP -MF .deps/zk_log.Tpo -c src/zk_log.c -o zk_log.o &amp;gt;/dev/&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; 2&amp;gt;&amp;amp;1
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; /bin/bash ./libtool --tag=CC --mode=compile gcc -DHAVE_CONFIG_H -I. -I. -I.  -I./include -I./tests -I./generated  -Wall -Werror  -g -O0 -D_GNU_SOURCE -MT zk_hashtable.lo -MD -MP -MF &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/zk_hashtable.Tpo&quot;&lt;/span&gt; -c -o zk_hashtable.lo `test -f &apos;src/zk_hashtable.c&apos; || echo &apos;./&apos;`src/zk_hashtable.c; \
	then mv -f &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/zk_hashtable.Tpo&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/zk_hashtable.Plo&quot;&lt;/span&gt;; &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; rm -f &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/zk_hashtable.Tpo&quot;&lt;/span&gt;; exit 1; fi
 gcc -DHAVE_CONFIG_H -I. -I. -I. -I./include -I./tests -I./generated -Wall -Werror -g -O0 -D_GNU_SOURCE -MT zk_hashtable.lo -MD -MP -MF .deps/zk_hashtable.Tpo -c src/zk_hashtable.c  -fPIC -DPIC -o .libs/zk_hashtable.o
 gcc -DHAVE_CONFIG_H -I. -I. -I. -I./include -I./tests -I./generated -Wall -Werror -g -O0 -D_GNU_SOURCE -MT zk_hashtable.lo -MD -MP -MF .deps/zk_hashtable.Tpo -c src/zk_hashtable.c -o zk_hashtable.o &amp;gt;/dev/&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; 2&amp;gt;&amp;amp;1
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; /bin/bash ./libtool --tag=CC --mode=compile gcc -DHAVE_CONFIG_H -I. -I. -I.  -I./include -I./tests -I./generated  -Wall -Werror  -g -O0 -D_GNU_SOURCE -MT st_adaptor.lo -MD -MP -MF &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/st_adaptor.Tpo&quot;&lt;/span&gt; -c -o st_adaptor.lo `test -f &apos;src/st_adaptor.c&apos; || echo &apos;./&apos;`src/st_adaptor.c; \
	then mv -f &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/st_adaptor.Tpo&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/st_adaptor.Plo&quot;&lt;/span&gt;; &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; rm -f &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/st_adaptor.Tpo&quot;&lt;/span&gt;; exit 1; fi
 gcc -DHAVE_CONFIG_H -I. -I. -I. -I./include -I./tests -I./generated -Wall -Werror -g -O0 -D_GNU_SOURCE -MT st_adaptor.lo -MD -MP -MF .deps/st_adaptor.Tpo -c src/st_adaptor.c  -fPIC -DPIC -o .libs/st_adaptor.o
 gcc -DHAVE_CONFIG_H -I. -I. -I. -I./include -I./tests -I./generated -Wall -Werror -g -O0 -D_GNU_SOURCE -MT st_adaptor.lo -MD -MP -MF .deps/st_adaptor.Tpo -c src/st_adaptor.c -o st_adaptor.o &amp;gt;/dev/&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; 2&amp;gt;&amp;amp;1
/bin/bash ./libtool --tag=CC --mode=link gcc -Wall -Werror  -g -O0 -D_GNU_SOURCE   -o libzkst.la   zookeeper.lo recordio.lo zookeeper.jute.lo zk_log.lo zk_hashtable.lo st_adaptor.lo -lm 
ar cru .libs/libzkst.a .libs/zookeeper.o .libs/recordio.o .libs/zookeeper.jute.o .libs/zk_log.o .libs/zk_hashtable.o .libs/st_adaptor.o
ranlib .libs/libzkst.a
creating libzkst.la
(cd .libs &amp;amp;&amp;amp; rm -f libzkst.la &amp;amp;&amp;amp; ln -s ../libzkst.la libzkst.la)
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; /bin/bash ./libtool --tag=CC --mode=compile gcc -DHAVE_CONFIG_H -I. -I. -I.  -I./include -I./tests -I./generated  -Wall -Werror  -g -O0 -D_GNU_SOURCE -MT hashtable_itr.lo -MD -MP -MF &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/hashtable_itr.Tpo&quot;&lt;/span&gt; -c -o hashtable_itr.lo `test -f &apos;src/hashtable/hashtable_itr.c&apos; || echo &apos;./&apos;`src/hashtable/hashtable_itr.c; \
	then mv -f &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/hashtable_itr.Tpo&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/hashtable_itr.Plo&quot;&lt;/span&gt;; &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; rm -f &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/hashtable_itr.Tpo&quot;&lt;/span&gt;; exit 1; fi
 gcc -DHAVE_CONFIG_H -I. -I. -I. -I./include -I./tests -I./generated -Wall -Werror -g -O0 -D_GNU_SOURCE -MT hashtable_itr.lo -MD -MP -MF .deps/hashtable_itr.Tpo -c src/hashtable/hashtable_itr.c  -fPIC -DPIC -o .libs/hashtable_itr.o
 gcc -DHAVE_CONFIG_H -I. -I. -I. -I./include -I./tests -I./generated -Wall -Werror -g -O0 -D_GNU_SOURCE -MT hashtable_itr.lo -MD -MP -MF .deps/hashtable_itr.Tpo -c src/hashtable/hashtable_itr.c -o hashtable_itr.o &amp;gt;/dev/&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; 2&amp;gt;&amp;amp;1
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; /bin/bash ./libtool --tag=CC --mode=compile gcc -DHAVE_CONFIG_H -I. -I. -I.  -I./include -I./tests -I./generated  -Wall -Werror  -g -O0 -D_GNU_SOURCE -MT hashtable.lo -MD -MP -MF &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/hashtable.Tpo&quot;&lt;/span&gt; -c -o hashtable.lo `test -f &apos;src/hashtable/hashtable.c&apos; || echo &apos;./&apos;`src/hashtable/hashtable.c; \
	then mv -f &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/hashtable.Tpo&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/hashtable.Plo&quot;&lt;/span&gt;; &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; rm -f &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/hashtable.Tpo&quot;&lt;/span&gt;; exit 1; fi
 gcc -DHAVE_CONFIG_H -I. -I. -I. -I./include -I./tests -I./generated -Wall -Werror -g -O0 -D_GNU_SOURCE -MT hashtable.lo -MD -MP -MF .deps/hashtable.Tpo -c src/hashtable/hashtable.c  -fPIC -DPIC -o .libs/hashtable.o
 gcc -DHAVE_CONFIG_H -I. -I. -I. -I./include -I./tests -I./generated -Wall -Werror -g -O0 -D_GNU_SOURCE -MT hashtable.lo -MD -MP -MF .deps/hashtable.Tpo -c src/hashtable/hashtable.c -o hashtable.o &amp;gt;/dev/&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; 2&amp;gt;&amp;amp;1
/bin/bash ./libtool --tag=CC --mode=link gcc -Wall -Werror  -g -O0 -D_GNU_SOURCE   -o libhashtable.la   hashtable_itr.lo hashtable.lo  
ar cru .libs/libhashtable.a .libs/hashtable_itr.o .libs/hashtable.o
ranlib .libs/libhashtable.a
creating libhashtable.la
(cd .libs &amp;amp;&amp;amp; rm -f libhashtable.la &amp;amp;&amp;amp; ln -s ../libhashtable.la libhashtable.la)
/bin/bash ./libtool --tag=CC --mode=link gcc -Wall -Werror  -g -O0 -D_GNU_SOURCE   -o libzookeeper_st.la -rpath /usr/local/lib -no-undefined -version-info 2 -export-symbols-regex &apos;(zoo_|zookeeper_|zhandle|Z|format_log_message|log_message|logLevel|deallocate_|zerror|is_unrecoverable)&apos;  libzkst.la libhashtable.la 
generating symbol list &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; `libzookeeper_st.la&apos;
/usr/bin/nm -B   ./.libs/libzkst.a ./.libs/libhashtable.a | sed -n -e &apos;s/^.*[ 	]\([ABCDGIRSTW][ABCDGIRSTW]*\)[ 	][ 	]*\([_A-Za-z][_A-Za-z0-9]*\)$/\1 \2 \2/p&apos; | /bin/sed &apos;s/.* &lt;span class=&quot;code-comment&quot;&gt;//&apos; | sort | uniq &amp;gt; .libs/libzookeeper_st.exp
&lt;/span&gt;grep -E -e &lt;span class=&quot;code-quote&quot;&gt;&quot;(zoo_|zookeeper_|zhandle|Z|format_log_message|log_message|logLevel|deallocate_|zerror|is_unrecoverable)&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;.libs/libzookeeper_st.exp&quot;&lt;/span&gt; &amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;.libs/libzookeeper_st.expT&quot;&lt;/span&gt;
mv -f &lt;span class=&quot;code-quote&quot;&gt;&quot;.libs/libzookeeper_st.expT&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;.libs/libzookeeper_st.exp&quot;&lt;/span&gt;
echo &lt;span class=&quot;code-quote&quot;&gt;&quot;{ global:&quot;&lt;/span&gt; &amp;gt; .libs/libzookeeper_st.ver
 cat .libs/libzookeeper_st.exp | sed -e &lt;span class=&quot;code-quote&quot;&gt;&quot;s/\(.*\)/\1;/&quot;&lt;/span&gt; &amp;gt;&amp;gt; .libs/libzookeeper_st.ver
 echo &lt;span class=&quot;code-quote&quot;&gt;&quot;local: *; };&quot;&lt;/span&gt; &amp;gt;&amp;gt; .libs/libzookeeper_st.ver
 gcc -shared  -Wl,--whole-archive ./.libs/libzkst.a ./.libs/libhashtable.a -Wl,--no-whole-archive  -lm  -Wl,-soname -Wl,libzookeeper_st.so.2 -Wl,-version-script -Wl,.libs/libzookeeper_st.ver -o .libs/libzookeeper_st.so.2.0.0
(cd .libs &amp;amp;&amp;amp; rm -f libzookeeper_st.so.2 &amp;amp;&amp;amp; ln -s libzookeeper_st.so.2.0.0 libzookeeper_st.so.2)
(cd .libs &amp;amp;&amp;amp; rm -f libzookeeper_st.so &amp;amp;&amp;amp; ln -s libzookeeper_st.so.2.0.0 libzookeeper_st.so)
rm -fr .libs/libzookeeper_st.lax
mkdir .libs/libzookeeper_st.lax
rm -fr .libs/libzookeeper_st.lax/libzkst.a
mkdir .libs/libzookeeper_st.lax/libzkst.a
(cd .libs/libzookeeper_st.lax/libzkst.a &amp;amp;&amp;amp; ar x /home/jlekstan/zookeeper-3.4.1/src/c/./.libs/libzkst.a)
rm -fr .libs/libzookeeper_st.lax/libhashtable.a
mkdir .libs/libzookeeper_st.lax/libhashtable.a
(cd .libs/libzookeeper_st.lax/libhashtable.a &amp;amp;&amp;amp; ar x /home/jlekstan/zookeeper-3.4.1/src/c/./.libs/libhashtable.a)
ar cru .libs/libzookeeper_st.a   .libs/libzookeeper_st.lax/libzkst.a/zookeeper.o .libs/libzookeeper_st.lax/libzkst.a/st_adaptor.o .libs/libzookeeper_st.lax/libzkst.a/recordio.o .libs/libzookeeper_st.lax/libzkst.a/zk_hashtable.o .libs/libzookeeper_st.lax/libzkst.a/zk_log.o .libs/libzookeeper_st.lax/libzkst.a/zookeeper.jute.o  .libs/libzookeeper_st.lax/libhashtable.a/hashtable_itr.o .libs/libzookeeper_st.lax/libhashtable.a/hashtable.o 
ranlib .libs/libzookeeper_st.a
rm -fr .libs/libzookeeper_st.lax
creating libzookeeper_st.la
(cd .libs &amp;amp;&amp;amp; rm -f libzookeeper_st.la &amp;amp;&amp;amp; ln -s ../libzookeeper_st.la libzookeeper_st.la)
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; /bin/bash ./libtool --tag=CC --mode=compile gcc -DHAVE_CONFIG_H -I. -I. -I.  -I./include -I./tests -I./generated  -DTHREADED -g -O0 -D_GNU_SOURCE -MT libzkmt_la-zookeeper.lo -MD -MP -MF &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/libzkmt_la-zookeeper.Tpo&quot;&lt;/span&gt; -c -o libzkmt_la-zookeeper.lo `test -f &apos;src/zookeeper.c&apos; || echo &apos;./&apos;`src/zookeeper.c; \
	then mv -f &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/libzkmt_la-zookeeper.Tpo&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/libzkmt_la-zookeeper.Plo&quot;&lt;/span&gt;; &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; rm -f &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/libzkmt_la-zookeeper.Tpo&quot;&lt;/span&gt;; exit 1; fi
 gcc -DHAVE_CONFIG_H -I. -I. -I. -I./include -I./tests -I./generated -DTHREADED -g -O0 -D_GNU_SOURCE -MT libzkmt_la-zookeeper.lo -MD -MP -MF .deps/libzkmt_la-zookeeper.Tpo -c src/zookeeper.c  -fPIC -DPIC -o .libs/libzkmt_la-zookeeper.o
 gcc -DHAVE_CONFIG_H -I. -I. -I. -I./include -I./tests -I./generated -DTHREADED -g -O0 -D_GNU_SOURCE -MT libzkmt_la-zookeeper.lo -MD -MP -MF .deps/libzkmt_la-zookeeper.Tpo -c src/zookeeper.c -o libzkmt_la-zookeeper.o &amp;gt;/dev/&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; 2&amp;gt;&amp;amp;1
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; /bin/bash ./libtool --tag=CC --mode=compile gcc -DHAVE_CONFIG_H -I. -I. -I.  -I./include -I./tests -I./generated  -DTHREADED -g -O0 -D_GNU_SOURCE -MT libzkmt_la-recordio.lo -MD -MP -MF &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/libzkmt_la-recordio.Tpo&quot;&lt;/span&gt; -c -o libzkmt_la-recordio.lo `test -f &apos;src/recordio.c&apos; || echo &apos;./&apos;`src/recordio.c; \
	then mv -f &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/libzkmt_la-recordio.Tpo&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/libzkmt_la-recordio.Plo&quot;&lt;/span&gt;; &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; rm -f &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/libzkmt_la-recordio.Tpo&quot;&lt;/span&gt;; exit 1; fi
 gcc -DHAVE_CONFIG_H -I. -I. -I. -I./include -I./tests -I./generated -DTHREADED -g -O0 -D_GNU_SOURCE -MT libzkmt_la-recordio.lo -MD -MP -MF .deps/libzkmt_la-recordio.Tpo -c src/recordio.c  -fPIC -DPIC -o .libs/libzkmt_la-recordio.o
 gcc -DHAVE_CONFIG_H -I. -I. -I. -I./include -I./tests -I./generated -DTHREADED -g -O0 -D_GNU_SOURCE -MT libzkmt_la-recordio.lo -MD -MP -MF .deps/libzkmt_la-recordio.Tpo -c src/recordio.c -o libzkmt_la-recordio.o &amp;gt;/dev/&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; 2&amp;gt;&amp;amp;1
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; /bin/bash ./libtool --tag=CC --mode=compile gcc -DHAVE_CONFIG_H -I. -I. -I.  -I./include -I./tests -I./generated  -DTHREADED -g -O0 -D_GNU_SOURCE -MT libzkmt_la-zookeeper.jute.lo -MD -MP -MF &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/libzkmt_la-zookeeper.jute.Tpo&quot;&lt;/span&gt; -c -o libzkmt_la-zookeeper.jute.lo `test -f &apos;generated/zookeeper.jute.c&apos; || echo &apos;./&apos;`generated/zookeeper.jute.c; \
	then mv -f &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/libzkmt_la-zookeeper.jute.Tpo&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/libzkmt_la-zookeeper.jute.Plo&quot;&lt;/span&gt;; &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; rm -f &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/libzkmt_la-zookeeper.jute.Tpo&quot;&lt;/span&gt;; exit 1; fi
 gcc -DHAVE_CONFIG_H -I. -I. -I. -I./include -I./tests -I./generated -DTHREADED -g -O0 -D_GNU_SOURCE -MT libzkmt_la-zookeeper.jute.lo -MD -MP -MF .deps/libzkmt_la-zookeeper.jute.Tpo -c generated/zookeeper.jute.c  -fPIC -DPIC -o .libs/libzkmt_la-zookeeper.jute.o
 gcc -DHAVE_CONFIG_H -I. -I. -I. -I./include -I./tests -I./generated -DTHREADED -g -O0 -D_GNU_SOURCE -MT libzkmt_la-zookeeper.jute.lo -MD -MP -MF .deps/libzkmt_la-zookeeper.jute.Tpo -c generated/zookeeper.jute.c -o libzkmt_la-zookeeper.jute.o &amp;gt;/dev/&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; 2&amp;gt;&amp;amp;1
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; /bin/bash ./libtool --tag=CC --mode=compile gcc -DHAVE_CONFIG_H -I. -I. -I.  -I./include -I./tests -I./generated  -DTHREADED -g -O0 -D_GNU_SOURCE -MT libzkmt_la-zk_log.lo -MD -MP -MF &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/libzkmt_la-zk_log.Tpo&quot;&lt;/span&gt; -c -o libzkmt_la-zk_log.lo `test -f &apos;src/zk_log.c&apos; || echo &apos;./&apos;`src/zk_log.c; \
	then mv -f &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/libzkmt_la-zk_log.Tpo&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/libzkmt_la-zk_log.Plo&quot;&lt;/span&gt;; &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; rm -f &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/libzkmt_la-zk_log.Tpo&quot;&lt;/span&gt;; exit 1; fi
 gcc -DHAVE_CONFIG_H -I. -I. -I. -I./include -I./tests -I./generated -DTHREADED -g -O0 -D_GNU_SOURCE -MT libzkmt_la-zk_log.lo -MD -MP -MF .deps/libzkmt_la-zk_log.Tpo -c src/zk_log.c  -fPIC -DPIC -o .libs/libzkmt_la-zk_log.o
 gcc -DHAVE_CONFIG_H -I. -I. -I. -I./include -I./tests -I./generated -DTHREADED -g -O0 -D_GNU_SOURCE -MT libzkmt_la-zk_log.lo -MD -MP -MF .deps/libzkmt_la-zk_log.Tpo -c src/zk_log.c -o libzkmt_la-zk_log.o &amp;gt;/dev/&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; 2&amp;gt;&amp;amp;1
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; /bin/bash ./libtool --tag=CC --mode=compile gcc -DHAVE_CONFIG_H -I. -I. -I.  -I./include -I./tests -I./generated  -DTHREADED -g -O0 -D_GNU_SOURCE -MT libzkmt_la-zk_hashtable.lo -MD -MP -MF &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/libzkmt_la-zk_hashtable.Tpo&quot;&lt;/span&gt; -c -o libzkmt_la-zk_hashtable.lo `test -f &apos;src/zk_hashtable.c&apos; || echo &apos;./&apos;`src/zk_hashtable.c; \
	then mv -f &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/libzkmt_la-zk_hashtable.Tpo&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/libzkmt_la-zk_hashtable.Plo&quot;&lt;/span&gt;; &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; rm -f &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/libzkmt_la-zk_hashtable.Tpo&quot;&lt;/span&gt;; exit 1; fi
 gcc -DHAVE_CONFIG_H -I. -I. -I. -I./include -I./tests -I./generated -DTHREADED -g -O0 -D_GNU_SOURCE -MT libzkmt_la-zk_hashtable.lo -MD -MP -MF .deps/libzkmt_la-zk_hashtable.Tpo -c src/zk_hashtable.c  -fPIC -DPIC -o .libs/libzkmt_la-zk_hashtable.o
 gcc -DHAVE_CONFIG_H -I. -I. -I. -I./include -I./tests -I./generated -DTHREADED -g -O0 -D_GNU_SOURCE -MT libzkmt_la-zk_hashtable.lo -MD -MP -MF .deps/libzkmt_la-zk_hashtable.Tpo -c src/zk_hashtable.c -o libzkmt_la-zk_hashtable.o &amp;gt;/dev/&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; 2&amp;gt;&amp;amp;1
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; /bin/bash ./libtool --tag=CC --mode=compile gcc -DHAVE_CONFIG_H -I. -I. -I.  -I./include -I./tests -I./generated  -DTHREADED -g -O0 -D_GNU_SOURCE -MT libzkmt_la-mt_adaptor.lo -MD -MP -MF &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/libzkmt_la-mt_adaptor.Tpo&quot;&lt;/span&gt; -c -o libzkmt_la-mt_adaptor.lo `test -f &apos;src/mt_adaptor.c&apos; || echo &apos;./&apos;`src/mt_adaptor.c; \
	then mv -f &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/libzkmt_la-mt_adaptor.Tpo&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/libzkmt_la-mt_adaptor.Plo&quot;&lt;/span&gt;; &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; rm -f &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/libzkmt_la-mt_adaptor.Tpo&quot;&lt;/span&gt;; exit 1; fi
 gcc -DHAVE_CONFIG_H -I. -I. -I. -I./include -I./tests -I./generated -DTHREADED -g -O0 -D_GNU_SOURCE -MT libzkmt_la-mt_adaptor.lo -MD -MP -MF .deps/libzkmt_la-mt_adaptor.Tpo -c src/mt_adaptor.c  -fPIC -DPIC -o .libs/libzkmt_la-mt_adaptor.o
 gcc -DHAVE_CONFIG_H -I. -I. -I. -I./include -I./tests -I./generated -DTHREADED -g -O0 -D_GNU_SOURCE -MT libzkmt_la-mt_adaptor.lo -MD -MP -MF .deps/libzkmt_la-mt_adaptor.Tpo -c src/mt_adaptor.c -o libzkmt_la-mt_adaptor.o &amp;gt;/dev/&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; 2&amp;gt;&amp;amp;1
/bin/bash ./libtool --tag=CC --mode=link gcc -Wall -Werror  -g -O0 -D_GNU_SOURCE   -o libzkmt.la   libzkmt_la-zookeeper.lo libzkmt_la-recordio.lo libzkmt_la-zookeeper.jute.lo libzkmt_la-zk_log.lo libzkmt_la-zk_hashtable.lo libzkmt_la-mt_adaptor.lo -lm 
ar cru .libs/libzkmt.a .libs/libzkmt_la-zookeeper.o .libs/libzkmt_la-recordio.o .libs/libzkmt_la-zookeeper.jute.o .libs/libzkmt_la-zk_log.o .libs/libzkmt_la-zk_hashtable.o .libs/libzkmt_la-mt_adaptor.o
ranlib .libs/libzkmt.a
creating libzkmt.la
(cd .libs &amp;amp;&amp;amp; rm -f libzkmt.la &amp;amp;&amp;amp; ln -s ../libzkmt.la libzkmt.la)
/bin/bash ./libtool --tag=CC --mode=link gcc -Wall -Werror  -g -O0 -D_GNU_SOURCE   -o libzookeeper_mt.la -rpath /usr/local/lib -no-undefined -version-info 2 -export-symbols-regex &apos;(zoo_|zookeeper_|zhandle|Z|format_log_message|log_message|logLevel|deallocate_|zerror|is_unrecoverable)&apos;  libzkmt.la libhashtable.la -lpthread 
generating symbol list &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; `libzookeeper_mt.la&apos;
/usr/bin/nm -B   ./.libs/libzkmt.a ./.libs/libhashtable.a | sed -n -e &apos;s/^.*[ 	]\([ABCDGIRSTW][ABCDGIRSTW]*\)[ 	][ 	]*\([_A-Za-z][_A-Za-z0-9]*\)$/\1 \2 \2/p&apos; | /bin/sed &apos;s/.* &lt;span class=&quot;code-comment&quot;&gt;//&apos; | sort | uniq &amp;gt; .libs/libzookeeper_mt.exp
&lt;/span&gt;grep -E -e &lt;span class=&quot;code-quote&quot;&gt;&quot;(zoo_|zookeeper_|zhandle|Z|format_log_message|log_message|logLevel|deallocate_|zerror|is_unrecoverable)&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;.libs/libzookeeper_mt.exp&quot;&lt;/span&gt; &amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;.libs/libzookeeper_mt.expT&quot;&lt;/span&gt;
mv -f &lt;span class=&quot;code-quote&quot;&gt;&quot;.libs/libzookeeper_mt.expT&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;.libs/libzookeeper_mt.exp&quot;&lt;/span&gt;
echo &lt;span class=&quot;code-quote&quot;&gt;&quot;{ global:&quot;&lt;/span&gt; &amp;gt; .libs/libzookeeper_mt.ver
 cat .libs/libzookeeper_mt.exp | sed -e &lt;span class=&quot;code-quote&quot;&gt;&quot;s/\(.*\)/\1;/&quot;&lt;/span&gt; &amp;gt;&amp;gt; .libs/libzookeeper_mt.ver
 echo &lt;span class=&quot;code-quote&quot;&gt;&quot;local: *; };&quot;&lt;/span&gt; &amp;gt;&amp;gt; .libs/libzookeeper_mt.ver
 gcc -shared  -Wl,--whole-archive ./.libs/libzkmt.a ./.libs/libhashtable.a -Wl,--no-whole-archive  -lm -lpthread  -Wl,-soname -Wl,libzookeeper_mt.so.2 -Wl,-version-script -Wl,.libs/libzookeeper_mt.ver -o .libs/libzookeeper_mt.so.2.0.0
(cd .libs &amp;amp;&amp;amp; rm -f libzookeeper_mt.so.2 &amp;amp;&amp;amp; ln -s libzookeeper_mt.so.2.0.0 libzookeeper_mt.so.2)
(cd .libs &amp;amp;&amp;amp; rm -f libzookeeper_mt.so &amp;amp;&amp;amp; ln -s libzookeeper_mt.so.2.0.0 libzookeeper_mt.so)
rm -fr .libs/libzookeeper_mt.lax
mkdir .libs/libzookeeper_mt.lax
rm -fr .libs/libzookeeper_mt.lax/libzkmt.a
mkdir .libs/libzookeeper_mt.lax/libzkmt.a
(cd .libs/libzookeeper_mt.lax/libzkmt.a &amp;amp;&amp;amp; ar x /home/jlekstan/zookeeper-3.4.1/src/c/./.libs/libzkmt.a)
rm -fr .libs/libzookeeper_mt.lax/libhashtable.a
mkdir .libs/libzookeeper_mt.lax/libhashtable.a
(cd .libs/libzookeeper_mt.lax/libhashtable.a &amp;amp;&amp;amp; ar x /home/jlekstan/zookeeper-3.4.1/src/c/./.libs/libhashtable.a)
ar cru .libs/libzookeeper_mt.a   .libs/libzookeeper_mt.lax/libzkmt.a/libzkmt_la-zk_hashtable.o .libs/libzookeeper_mt.lax/libzkmt.a/libzkmt_la-zookeeper.o .libs/libzookeeper_mt.lax/libzkmt.a/libzkmt_la-zk_log.o .libs/libzookeeper_mt.lax/libzkmt.a/libzkmt_la-zookeeper.jute.o .libs/libzookeeper_mt.lax/libzkmt.a/libzkmt_la-recordio.o .libs/libzookeeper_mt.lax/libzkmt.a/libzkmt_la-mt_adaptor.o  .libs/libzookeeper_mt.lax/libhashtable.a/hashtable_itr.o .libs/libzookeeper_mt.lax/libhashtable.a/hashtable.o 
ranlib .libs/libzookeeper_mt.a
rm -fr .libs/libzookeeper_mt.lax
creating libzookeeper_mt.la
(cd .libs &amp;amp;&amp;amp; rm -f libzookeeper_mt.la &amp;amp;&amp;amp; ln -s ../libzookeeper_mt.la libzookeeper_mt.la)
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; gcc -DHAVE_CONFIG_H -I. -I. -I.  -I./include -I./tests -I./generated  -Wall -Werror  -g -O0 -D_GNU_SOURCE -MT cli.o -MD -MP -MF &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/cli.Tpo&quot;&lt;/span&gt; -c -o cli.o `test -f &apos;src/cli.c&apos; || echo &apos;./&apos;`src/cli.c; \
	then mv -f &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/cli.Tpo&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/cli.Po&quot;&lt;/span&gt;; &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; rm -f &lt;span class=&quot;code-quote&quot;&gt;&quot;.deps/cli.Tpo&quot;&lt;/span&gt;; exit 1; fi
/bin/bash ./libtool --tag=CC --mode=link gcc -Wall -Werror  -g -O0 -D_GNU_SOURCE   -o cli_st  cli.o libzookeeper_st.la 
gcc -Wall -Werror -g -O0 -D_GNU_SOURCE -o .libs/cli_st cli.o  ./.libs/libzookeeper_st.so -lm 
./.libs/libzookeeper_st.so: undefined reference to `hashtable_iterator_value&apos;
./.libs/libzookeeper_st.so: undefined reference to `hashtable_iterator_key&apos;
collect2: ld returned 1 exit status
make[1]: *** [cli_st] Error 1
make[1]: Leaving directory `/home/jlekstan/zookeeper-3.4.1/src/c&apos;
make: *** [all] Error 2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;Ubuntu 11.04&lt;/p&gt;</environment>
        <key id="12536141">ZOOKEEPER-1339</key>
            <summary>C clien doesn&apos;t build with --enable-debug</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="start2046">Eric Liang</assignee>
                                    <reporter username="kuebk">Jakub Lekstan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Dec 2011 10:00:55 +0000</created>
                <updated>Tue, 8 May 2012 19:04:59 +0100</updated>
                            <resolved>Tue, 8 May 2012 17:39:25 +0100</resolved>
                                    <version>3.4.1</version>
                                    <fixVersion>3.3.6</fixVersion>
                    <fixVersion>3.4.4</fixVersion>
                    <fixVersion>3.5.0</fixVersion>
                                    <component>c client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13180409" author="qwertymaniac" created="Thu, 5 Jan 2012 14:05:53 +0000"  >&lt;p&gt;Happens for me on trunk as well. Unfortunately am not sure what causes those bad references.&lt;/p&gt;</comment>
                            <comment id="13196914" author="kuebk" created="Tue, 31 Jan 2012 13:46:10 +0000"  >&lt;p&gt;Same happens on 3.4.2&lt;/p&gt;</comment>
                            <comment id="13241355" author="start2046" created="Thu, 29 Mar 2012 17:16:03 +0100"  >&lt;p&gt;Probably a incorrect inline usage, change the extern inline to static inline looks fix this, see the patch.&lt;/p&gt;</comment>
                            <comment id="13241356" author="start2046" created="Thu, 29 Mar 2012 17:16:04 +0100"  >&lt;p&gt;Probably a incorrect inline usage, change the extern inline to static inline looks fix this, see the patch.&lt;/p&gt;</comment>
                            <comment id="13241358" author="start2046" created="Thu, 29 Mar 2012 17:20:17 +0100"  >&lt;p&gt;From 62a9cb6951370bb70d8a1953f85a9667ceb84cff Mon Sep 17 00:00:00 2001&lt;br/&gt;
From: Eric Liang &amp;lt;eric.l.2046@gmail.com&amp;gt;&lt;br/&gt;
Date: Fri, 30 Mar 2012 00:09:36 +0800&lt;br/&gt;
Subject: &lt;span class=&quot;error&quot;&gt;&amp;#91;PATCH&amp;#93;&lt;/span&gt; fix undefined-reference in issue 1339&lt;/p&gt;

&lt;p&gt;&amp;#8212;&lt;br/&gt;
 src/c/src/hashtable/hashtable_itr.h |    4 ++--&lt;br/&gt;
 1 files changed, 2 insertions&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/add.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;, 2 deletions&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/forbidden.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;diff --git a/src/c/src/hashtable/hashtable_itr.h b/src/c/src/hashtable/hashtable_itr.h&lt;br/&gt;
index 234d3e3..30379c7 100644&lt;br/&gt;
&amp;#8212; a/src/c/src/hashtable/hashtable_itr.h&lt;br/&gt;
+++ b/src/c/src/hashtable/hashtable_itr.h&lt;br/&gt;
@@ -32,7 +32,7 @@ hashtable_iterator(struct hashtable *h);&lt;br/&gt;
 /* hashtable_iterator_key&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;- return the value of the (key,value) pair at the current position */&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;-extern inline void *&lt;br/&gt;
+static inline void *&lt;br/&gt;
 hashtable_iterator_key(struct hashtable_itr *i)&lt;br/&gt;
 {&lt;br/&gt;
     return i-&amp;gt;e-&amp;gt;k;&lt;br/&gt;
@@ -41,7 +41,7 @@ hashtable_iterator_key(struct hashtable_itr *i)&lt;br/&gt;
 /*****************************************************************************/&lt;br/&gt;
 /* value - return the value of the (key,value) pair at the current position */&lt;/p&gt;

&lt;p&gt;-extern inline void *&lt;br/&gt;
+static inline void *&lt;br/&gt;
 hashtable_iterator_value(struct hashtable_itr *i)&lt;br/&gt;
 {&lt;br/&gt;
     return i-&amp;gt;e-&amp;gt;v;&lt;br/&gt;
&amp;#8211; &lt;br/&gt;
1.7.0.4&lt;/p&gt;</comment>
                            <comment id="13241362" author="start2046" created="Thu, 29 Mar 2012 17:22:51 +0100"  >&lt;p&gt;Probably a incorrect inline usage, change the extern inline to static inline looks fix this, see the patch.&lt;/p&gt;</comment>
                            <comment id="13262247" author="hadoopqa" created="Thu, 26 Apr 2012 00:42:09 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12520450/0001-fix-undefined-reference-in-issue-1339.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12520450/0001-fix-undefined-reference-in-issue-1339.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1330043.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1051//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1051//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13262491" author="michim" created="Thu, 26 Apr 2012 10:22:52 +0100"  >&lt;p&gt;Hi Eric,&lt;/p&gt;

&lt;p&gt;Good catch! It looks like gcc doesn&apos;t inline when -O0 is given (which is the case with --enable-debug), and it doesn&apos;t compile extern inline functions by themselves. Using static inline is the right way to go.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://gcc.gnu.org/onlinedocs/gcc/Inline.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://gcc.gnu.org/onlinedocs/gcc/Inline.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The patch isn&apos;t applying because it includes some extra lines. Could you update the patch?&lt;/p&gt;

&lt;p&gt;Thanks!&lt;br/&gt;
--Michi&lt;/p&gt;</comment>
                            <comment id="13262666" author="start2046" created="Thu, 26 Apr 2012 16:26:31 +0100"  >&lt;p&gt;Hi Michi,&lt;/p&gt;

&lt;p&gt;Thanks for your reply. Would you mind to explain something about the &apos;extra lines&apos;? I just changed the two related lines and generated the patch by git command, no manual operations.&lt;/p&gt;

&lt;p&gt;Regards,&lt;br/&gt;
Eric&lt;/p&gt;</comment>
                            <comment id="13263089" author="michim" created="Thu, 26 Apr 2012 21:21:47 +0100"  >&lt;p&gt;Hi Eric,&lt;/p&gt;

&lt;p&gt;Sorry I meant extra slashes. You probably need to use --no-prefix option.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
git diff --no-prefix &amp;gt; my.patch
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To verify that the patch applies cleanly, go to the top directory in svn and run:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
patch -p0 &amp;lt; my.patch
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Thanks!&lt;br/&gt;
--Michi&lt;/p&gt;</comment>
                            <comment id="13263378" author="start2046" created="Fri, 27 Apr 2012 07:08:15 +0100"  >&lt;p&gt;strip additional slashes in previous patch&lt;/p&gt;</comment>
                            <comment id="13263380" author="start2046" created="Fri, 27 Apr 2012 07:10:54 +0100"  >&lt;p&gt;Hi Michi,&lt;/p&gt;

&lt;p&gt;A new version patch was submitted following your suggestions, please check it.&lt;/p&gt;

&lt;p&gt;Regards,&lt;br/&gt;
Eric&lt;/p&gt;</comment>
                            <comment id="13263402" author="michim" created="Fri, 27 Apr 2012 07:47:19 +0100"  >&lt;p&gt;Hi Eric,&lt;/p&gt;

&lt;p&gt;The patch looks good. I&apos;ll check this in.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;br/&gt;
--Michi&lt;/p&gt;</comment>
                            <comment id="13263473" author="kuebk" created="Fri, 27 Apr 2012 08:48:28 +0100"  >&lt;p&gt;Thank you guys.&lt;/p&gt;</comment>
                            <comment id="13263574" author="hudson" created="Fri, 27 Apr 2012 12:00:37 +0100"  >&lt;p&gt;Integrated in ZooKeeper-trunk #1539 (See &lt;a href=&quot;https://builds.apache.org/job/ZooKeeper-trunk/1539/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/ZooKeeper-trunk/1539/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1339&quot; title=&quot;C clien doesn&amp;#39;t build with --enable-debug&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1339&quot;&gt;&lt;del&gt;ZOOKEEPER-1339&lt;/del&gt;&lt;/a&gt;. C client doesn&apos;t build with --enable-debug (Eric Liang via michim) (Revision 1331246)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
michim : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1331246&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1331246&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/zookeeper/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/c/src/hashtable/hashtable_itr.h&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13270298" author="pwp" created="Tue, 8 May 2012 08:48:40 +0100"  >&lt;p&gt;If using static inline in hashtable_itr.h, we may want to delete same definition in hashtable_itr.c. Otherwise we got these errors&lt;br/&gt;
&amp;#8212;&lt;br/&gt;
src/c/src/hashtable/hashtable_itr.c:45: error: redefinition of &apos;hashtable_iterator_key&apos;&lt;br/&gt;
src/c/src/hashtable/hashtable_itr.h:36: note: previous definition of &apos;hashtable_iterator_key&apos; was here&lt;br/&gt;
src/c/src/hashtable/hashtable_itr.c:49: error: redefinition of &apos;hashtable_iterator_value&apos;&lt;br/&gt;
src/c/src/hashtable/hashtable_itr.h:45: note: previous definition of &apos;hashtable_iterator_value&apos; was here&lt;br/&gt;
&amp;#8212;&lt;/p&gt;</comment>
                            <comment id="13270578" author="michim" created="Tue, 8 May 2012 17:20:11 +0100"  >&lt;p&gt;Looks like changing extern inline to static inline introduced some other compilation error. &lt;/p&gt;

&lt;p&gt;--Michi&lt;/p&gt;</comment>
                            <comment id="13270590" author="michim" created="Tue, 8 May 2012 17:39:25 +0100"  >&lt;p&gt;... or not. &lt;/p&gt;

&lt;p&gt;--Michi&lt;/p&gt;</comment>
                            <comment id="13270620" author="pwp" created="Tue, 8 May 2012 18:14:20 +0100"  >&lt;p&gt;It works well. Forget my comment which mixed with local change.&lt;/p&gt;</comment>
                            <comment id="13270664" author="michim" created="Tue, 8 May 2012 19:04:59 +0100"  >&lt;p&gt;I&apos;m backporting this to 3.4 and 3.3 branches.&lt;/p&gt;

&lt;p&gt;--Michi&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12524817" name="0001-fix-undefined-reference-in-issue-1339.patch" size="1143" author="start2046" created="Fri, 27 Apr 2012 07:08:15 +0100"/>
                            <attachment id="12520450" name="0001-fix-undefined-reference-in-issue-1339.patch" size="1151" author="start2046" created="Thu, 29 Mar 2012 17:22:51 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 5 Jan 2012 14:05:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>221824</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxzsjr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32609</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>