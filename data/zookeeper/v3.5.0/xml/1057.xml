<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:42:12 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/ZOOKEEPER-1057/ZOOKEEPER-1057.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[ZOOKEEPER-1057] zookeeper c-client, connection to offline server fails to successfully fallback to second zk host</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-1057</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;Hello, I&apos;m a contributor for the node.js zookeeper module: &lt;a href=&quot;https://github.com/yfinkelstein/node-zookeeper&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/yfinkelstein/node-zookeeper&lt;/a&gt;&lt;br/&gt;
i&apos;m using zk 3.3.3 for the purposes of this issue, but i have validated it fails on 3.3.1 and 3.3.2&lt;/p&gt;

&lt;p&gt;i&apos;m having an issue when trying to connect when one of my zookeeper servers is offline.&lt;br/&gt;
if the first server attempted is online, all is good.&lt;/p&gt;

&lt;p&gt;if the offline server is attempted first, then the client is never able to connect to &lt;em&gt;any&lt;/em&gt; server.&lt;br/&gt;
inside zookeeper.c a connection loss (-4) is received, the socket is closed and buffers are cleaned up, it then attempts the next server in the list, creates a new socket (which gets the same fd as the previously closed socket) and connecting fails, and it continues to fail seemingly forever.&lt;br/&gt;
The nature of this &quot;fail&quot; is not that it gets -4 connection loss errors, but that zookeeper_interest doesn&apos;t find anything going on on the socket before the user provided timeout kicks things out. I don&apos;t want to have to wait 5 minutes, even if i could make myself.&lt;/p&gt;

&lt;p&gt;this is the message that follows the connection loss:&lt;br/&gt;
2011-04-27 23:18:28,355:13485:ZOO_ERROR@handle_socket_error_msg@1530: Socket &lt;span class=&quot;error&quot;&gt;&amp;#91;127.0.0.1:5020&amp;#93;&lt;/span&gt; zk retcode=-7, errno=60(Operation timed out): connection timed out (exceeded timeout by 3ms)&lt;br/&gt;
2011-04-27 23:18:28,355:13485:ZOO_ERROR@yield@213: yield:zookeeper_interest returned error: -7 - operation timeout&lt;/p&gt;

&lt;p&gt;While investigating, i decided to comment out close(zh-&amp;gt;fd) in handle_error (zookeeper.c#1153)&lt;br/&gt;
now everything works (obviously i&apos;m leaking an fd). Connection the the second host works immediately.&lt;br/&gt;
this is the behavior i&apos;m looking for, though i clearly don&apos;t want to leak the fd, so i&apos;m wondering why the fd re-use is causing this issue.&lt;br/&gt;
close() is not returning an error (i checked even though current code assumes success).&lt;/p&gt;

&lt;p&gt;i&apos;m on osx 10.6.7&lt;br/&gt;
i tried adding a setsockopt so_linger (though i didn&apos;t want that to be a solution), it didn&apos;t work.&lt;/p&gt;

&lt;p&gt;full debug traces are included in issue here: &lt;a href=&quot;https://github.com/yfinkelstein/node-zookeeper/issues/6&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/yfinkelstein/node-zookeeper/issues/6&lt;/a&gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;snowdutyrise-lm ~/-&amp;gt; uname -a&lt;br/&gt;
Darwin snowdutyrise-lm 9.8.0 Darwin Kernel Version 9.8.0: Wed Jul 15 16:55:01 PDT 2009; root:xnu-1228.15.4~1/RELEASE_I386 i386&lt;/p&gt;

&lt;p&gt;also observed on:&lt;br/&gt;
2.6.35-28-server 49-Ubuntu SMP Tue Mar 1 14:55:37 UTC 2011&lt;/p&gt;</environment>
        <key id="12506002">ZOOKEEPER-1057</key>
            <summary>zookeeper c-client, connection to offline server fails to successfully fallback to second zk host</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="michim">Michi Mutsuzaki</assignee>
                                    <reporter username="woody.anderson@gmail.com">Woody Anderson</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 May 2011 02:16:21 +0100</created>
                <updated>Thu, 13 Mar 2014 18:17:05 +0000</updated>
                            <resolved>Thu, 9 Jan 2014 21:04:23 +0000</resolved>
                                    <version>3.3.1</version>
                    <version>3.3.2</version>
                    <version>3.3.3</version>
                                    <fixVersion>3.4.6</fixVersion>
                    <fixVersion>3.5.0</fixVersion>
                                    <component>c client</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="13066512" author="mahadev" created="Sat, 16 Jul 2011 20:28:31 +0100"  >&lt;p&gt;Woody,&lt;br/&gt;
 Would you be uploading a patch for this?&lt;/p&gt;</comment>
                            <comment id="13071792" author="mahadev" created="Wed, 27 Jul 2011 16:15:15 +0100"  >&lt;p&gt;Not a blocker.&lt;/p&gt;</comment>
                            <comment id="13071926" author="mahadev" created="Wed, 27 Jul 2011 20:15:35 +0100"  >&lt;p&gt;Ben,&lt;br/&gt;
 Can you take a look at this? Do you think this should be a blocker for 3.4?&lt;/p&gt;</comment>
                            <comment id="13791706" author="phunt" created="Thu, 10 Oct 2013 18:27:20 +0100"  >&lt;p&gt;Is this still and issue? Sounds pretty serious.&lt;/p&gt;</comment>
                            <comment id="13804298" author="fpj" created="Thu, 24 Oct 2013 16:12:12 +0100"  >&lt;p&gt;It would be good indeed if someone could have a look at this. The description gives some pretty good hint of where the problem is, so it might not be too hard.&lt;/p&gt;</comment>
                            <comment id="13839031" author="fpj" created="Wed, 4 Dec 2013 16:02:55 +0000"  >&lt;p&gt;I&apos;m not sure what the description mean with reusing the file descriptor. We set zh-&amp;gt;fd to -1 after the close in handle_error and when we create a socket it should get a new fd, no?&lt;/p&gt;</comment>
                            <comment id="13839032" author="jrmanteiga" created="Wed, 4 Dec 2013 16:04:37 +0000"  >&lt;p&gt;On holidays. Back on December 17th.&lt;/p&gt;

&lt;p&gt;I will read mails from time to time.&lt;/p&gt;</comment>
                            <comment id="13844626" author="michim" created="Tue, 10 Dec 2013 20:26:47 +0000"  >&lt;p&gt;I&apos;ll take a look.&lt;/p&gt;</comment>
                            <comment id="13844736" author="michim" created="Tue, 10 Dec 2013 22:14:03 +0000"  >&lt;p&gt;This patch adds a test to validate that the c client gets connected to the second server in the list if the first server is down when zookeeper_init is called.&lt;/p&gt;</comment>
                            <comment id="13844777" author="hadoopqa" created="Tue, 10 Dec 2013 22:48:04 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12618115/ZOOKEEPER-1057.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12618115/ZOOKEEPER-1057.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1549960.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 11 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1819//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1819//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1819//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1819//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1819//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1819//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13844786" author="hadoopqa" created="Tue, 10 Dec 2013 22:54:57 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12618115/ZOOKEEPER-1057.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12618115/ZOOKEEPER-1057.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1549960.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 11 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1820//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1820//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1820//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1820//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1820//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1820//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13844790" author="fpj" created="Tue, 10 Dec 2013 22:57:38 +0000"  >&lt;p&gt;Core tests are failing...&lt;/p&gt;</comment>
                            <comment id="13844817" author="michim" created="Tue, 10 Dec 2013 23:33:33 +0000"  >&lt;p&gt;Trying again.&lt;/p&gt;</comment>
                            <comment id="13844852" author="hadoopqa" created="Wed, 11 Dec 2013 00:09:04 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12618139/ZOOKEEPER-1057.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12618139/ZOOKEEPER-1057.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1549960.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 8 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1823//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1823//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1823//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1823//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1823//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1823//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13844856" author="hadoopqa" created="Wed, 11 Dec 2013 00:14:36 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12618139/ZOOKEEPER-1057.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12618139/ZOOKEEPER-1057.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1549960.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 8 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1824//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1824//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1824//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1824//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1824//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1824//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13853793" author="abranzyck" created="Fri, 20 Dec 2013 08:47:46 +0000"  >&lt;p&gt;Do we know if this is a problem in the test case or it might be an error in the implementation?&lt;br/&gt;
Because if there is any chance that this is a bug, then I think this JIRA should be marked as a Blocker.&lt;/p&gt;</comment>
                            <comment id="13854388" author="michim" created="Fri, 20 Dec 2013 18:24:46 +0000"  >&lt;p&gt;This is a problem with the test case, and we still don&apos;t know if there is a bug in the c client. The test is failing because zoo_deterministic_conn_order() is broken with the dynamic reconfig change. I&apos;ll mark this as a blocker until we know for sure there is no bug in the client code.&lt;/p&gt;</comment>
                            <comment id="13854652" author="fpj" created="Fri, 20 Dec 2013 23:12:21 +0000"  >&lt;p&gt;If this is a change due to reconfig, do we really need to block 3.4.6?&lt;/p&gt;</comment>
                            <comment id="13854792" author="abranzyck" created="Sat, 21 Dec 2013 05:14:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1057&quot; title=&quot;zookeeper c-client, connection to offline server fails to successfully fallback to second zk host&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1057&quot;&gt;&lt;del&gt;ZOOKEEPER-1057&lt;/del&gt;&lt;/a&gt;-b3.4 is the port of Michi&apos;s test case to 3.4 branch. It fails for me.&lt;br/&gt;
It uses a standalone server, instead of TestQuorumServer, since I figured that we just need a server listening on one port to test this.&lt;/p&gt;</comment>
                            <comment id="13854795" author="abranzyck" created="Sat, 21 Dec 2013 05:36:25 +0000"  >&lt;p&gt;The trunk version of the b3.4 patch, for whatever it is worth.&lt;br/&gt;
I guess it will work just as Michi&apos;s patch.&lt;/p&gt;</comment>
                            <comment id="13854918" author="abranzyck" created="Sat, 21 Dec 2013 20:10:43 +0000"  >&lt;p&gt;The test is simpler and looks better if integrated into TestClient.cc.&lt;br/&gt;
The attached patch can be applied both to trunk and branch 3.4.&lt;br/&gt;
With this version, the test case passes for the single threaded version, but for the multithreaded version it hangs forever (or at least more than a few minutes).&lt;/p&gt;</comment>
                            <comment id="13854928" author="abranzyck" created="Sat, 21 Dec 2013 20:37:58 +0000"  >&lt;p&gt;The attached patch has a proposed test case that passes both in trunk and 3.4.&lt;br/&gt;
It was my mistake, one zookeeper_close too many in the last patch.&lt;/p&gt;</comment>
                            <comment id="13854932" author="abranzyck" created="Sat, 21 Dec 2013 20:50:28 +0000"  >&lt;p&gt;... and now with the deterministic connection order, to make sure it is not just luck that it was working.&lt;br/&gt;
I am very sorry for the spam, I think I need the holidays.&lt;/p&gt;</comment>
                            <comment id="13855011" author="hadoopqa" created="Sun, 22 Dec 2013 00:32:01 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12619990/ZOOKEEPER-1057.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12619990/ZOOKEEPER-1057.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1552946.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1856//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1856//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1856//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1856//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1856//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1856//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13857673" author="fpj" created="Fri, 27 Dec 2013 19:48:11 +0000"  >&lt;p&gt;+1, it is good for me. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=michim&quot; class=&quot;user-hover&quot; rel=&quot;michim&quot;&gt;Michi Mutsuzaki&lt;/a&gt;, could you give it a look, please?&lt;/p&gt;</comment>
                            <comment id="13867041" author="michim" created="Thu, 9 Jan 2014 20:58:30 +0000"  >&lt;p&gt;+1 The patch looks good to me, though I thought zoo_deterministic_conn_order was broken in trunk. I&apos;ll commit this patch and open a separate jira when I have a test case that shows zoo_deterministic_conn_order is broken.&lt;/p&gt;</comment>
                            <comment id="13867049" author="michim" created="Thu, 9 Jan 2014 21:04:23 +0000"  >&lt;p&gt;trunk: &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1556948&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1556948&lt;/a&gt;&lt;br/&gt;
3.4: &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1556949&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1556949&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13867711" author="hudson" created="Fri, 10 Jan 2014 11:05:59 +0000"  >&lt;p&gt;SUCCESS: Integrated in ZooKeeper-trunk #2181 (See &lt;a href=&quot;https://builds.apache.org/job/ZooKeeper-trunk/2181/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/ZooKeeper-trunk/2181/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1057&quot; title=&quot;zookeeper c-client, connection to offline server fails to successfully fallback to second zk host&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1057&quot;&gt;&lt;del&gt;ZOOKEEPER-1057&lt;/del&gt;&lt;/a&gt;. zookeeper c-client, connection to offline server fails to successfully fallback to second zk host (Germ&#225;n Blanco via michim) (michim: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1556948&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1556948&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/zookeeper/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/c/tests/TestClient.cc&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13933750" author="fpj" created="Thu, 13 Mar 2014 18:17:05 +0000"  >&lt;p&gt;Closing issues after releasing 3.4.6.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12619962" name="ZOOKEEPER-1057-b3.4.patch" size="4034" author="abranzyck" created="Sat, 21 Dec 2013 05:14:24 +0000"/>
                            <attachment id="12619990" name="ZOOKEEPER-1057.patch" size="1231" author="abranzyck" created="Sat, 21 Dec 2013 20:50:28 +0000"/>
                            <attachment id="12619988" name="ZOOKEEPER-1057.patch" size="1184" author="abranzyck" created="Sat, 21 Dec 2013 20:37:58 +0000"/>
                            <attachment id="12619987" name="ZOOKEEPER-1057.patch" size="1216" author="abranzyck" created="Sat, 21 Dec 2013 20:10:43 +0000"/>
                            <attachment id="12619963" name="ZOOKEEPER-1057.patch" size="3822" author="abranzyck" created="Sat, 21 Dec 2013 05:36:25 +0000"/>
                            <attachment id="12618139" name="ZOOKEEPER-1057.patch" size="3867" author="michim" created="Tue, 10 Dec 2013 23:33:33 +0000"/>
                            <attachment id="12618115" name="ZOOKEEPER-1057.patch" size="4575" author="michim" created="Tue, 10 Dec 2013 22:14:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 16 Jul 2011 19:28:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2441</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxzten:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32748</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>