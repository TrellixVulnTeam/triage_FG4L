<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:50:32 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/ZOOKEEPER-302/ZOOKEEPER-302.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[ZOOKEEPER-302] Quote values in JMX ObjectNames </title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-302</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;Some characters are not allowed in ObjectName values and need quoting, see &lt;a href=&quot;http://java.sun.com/javase/6/docs/api/javax/management/ObjectName.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://java.sun.com/javase/6/docs/api/javax/management/ObjectName.html&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;This came up with IPv6 addresses which contain a colon character.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12414211">ZOOKEEPER-302</key>
            <summary>Quote values in JMX ObjectNames </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="phunt">Patrick Hunt</assignee>
                                    <reporter username="tomwhite">Tom White</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Feb 2009 12:40:17 +0000</created>
                <updated>Tue, 23 Mar 2010 16:45:01 +0000</updated>
                            <resolved>Fri, 6 Feb 2009 21:21:47 +0000</resolved>
                                    <version>3.1.0</version>
                                    <fixVersion>3.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12671115" author="tomwhite" created="Fri, 6 Feb 2009 12:41:43 +0000"  >&lt;p&gt;Patch to quote relevant ObjectName values.&lt;/p&gt;</comment>
                            <comment id="12671260" author="phunt" created="Fri, 6 Feb 2009 19:24:21 +0000"  >&lt;p&gt;modified tom&apos;s patch a bit:&lt;/p&gt;

&lt;p&gt;1) only quote if the addr is an ipv6 addr&lt;br/&gt;
2) I don&apos;t think getclientport needs to be quoted (ie values) &amp;#8211; otw thinks like the time/date stamp would also fail (removed this from my patch)&lt;br/&gt;
3) removed the printstacktrace calls in mbeanregistry - replaced with proper error handling/logging.&lt;/p&gt;</comment>
                            <comment id="12671262" author="phunt" created="Fri, 6 Feb 2009 19:25:34 +0000"  >&lt;p&gt;oops - the latest patch is &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-302&quot; title=&quot;Quote values in JMX ObjectNames &quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-302&quot;&gt;&lt;del&gt;ZOOKEEPER-302&lt;/del&gt;&lt;/a&gt;.patch (all caps version) be sure to review that one not the orig (all lower)&lt;/p&gt;</comment>
                            <comment id="12671273" author="breed" created="Fri, 6 Feb 2009 19:46:20 +0000"  >&lt;p&gt;+1 looks good. i have one small suggestion: in the early part of the patch you log some problem when you catch an exception, would it be good to log the exception?&lt;/p&gt;</comment>
                            <comment id="12671278" author="phunt" created="Fri, 6 Feb 2009 19:52:06 +0000"  >&lt;p&gt;the extra log/rethrow is just there because sun messed up on malformedobjectnameexceptin - they don&apos;t include the name that was malformed, which makes debugging hard.&lt;/p&gt;

&lt;p&gt;So &amp;#8211; I log then rethrow, the calling code will actually log the exception and then handle in some way - this log is just for context when reviewing the log.&lt;/p&gt;

&lt;p&gt;I could have wrapped the exception with another, but I didn&apos;t want to do that for this patch... I think we really need to take a hard look at this mbeanregistry stuff anyway, it will probably go away in the end...&lt;/p&gt;</comment>
                            <comment id="12671281" author="mahadev" created="Fri, 6 Feb 2009 19:55:20 +0000"  >&lt;p&gt;+1  for the patch .... passes the tests... &lt;/p&gt;</comment>
                            <comment id="12671283" author="stuhood" created="Fri, 6 Feb 2009 19:58:14 +0000"  >&lt;p&gt;The patch looks alright to me.&lt;/p&gt;

&lt;p&gt;It passes our unit tests, but we start the server programmatically and we don&apos;t use JMX, so I don&apos;t know how much my vote counts.&lt;/p&gt;</comment>
                            <comment id="12671288" author="phunt" created="Fri, 6 Feb 2009 20:07:36 +0000"  >&lt;p&gt;thanks stu - just good to hear I didn&apos;t break anything. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12671295" author="tomwhite" created="Fri, 6 Feb 2009 20:17:33 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;The patch works for me.&lt;/p&gt;</comment>
                            <comment id="12671325" author="mahadev" created="Fri, 6 Feb 2009 21:21:47 +0000"  >&lt;p&gt;I just committed this. Thanks tom and pat.&lt;/p&gt;</comment>
                            <comment id="12671453" author="hudson" created="Sat, 7 Feb 2009 11:42:49 +0000"  >&lt;p&gt;Integrated in ZooKeeper-trunk #222 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/ZooKeeper-trunk/222/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/ZooKeeper-trunk/222/&lt;/a&gt;)&lt;br/&gt;
    . Quote values in JMX objectnames. (tom and pat via mahadev)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12399669" name="ZOOKEEPER-302.patch" size="15980" author="phunt" created="Fri, 6 Feb 2009 19:24:21 +0000"/>
                            <attachment id="12399648" name="zookeeper-302.patch" size="2338" author="tomwhite" created="Fri, 6 Feb 2009 12:41:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 6 Feb 2009 19:24:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>47912</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxzvu7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33142</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>ipv6</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>