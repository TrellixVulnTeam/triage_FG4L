<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:51:15 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/ZOOKEEPER-985/ZOOKEEPER-985.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[ZOOKEEPER-985] Test BookieRecoveryTest fails on trunk.</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-985</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;The unit test fails on trunk on my mac. I think this might be the same on other platforms as well. Ill attach the error logs.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Darwin moststock-lm 9.7.0 Darwin Kernel Version 9.7.0: Tue Mar 31 22:52:17 PDT 2009; root:xnu-1228.12.14~1/RELEASE_I386 i386 (mac).&lt;/p&gt;</environment>
        <key id="12498164">ZOOKEEPER-985</key>
            <summary>Test BookieRecoveryTest fails on trunk.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fpj">Flavio Junqueira</assignee>
                                    <reporter username="mahadev">Mahadev konar</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Feb 2011 19:24:51 +0000</created>
                <updated>Wed, 23 Nov 2011 19:22:26 +0000</updated>
                            <resolved>Fri, 18 Feb 2011 17:55:02 +0000</resolved>
                                                    <fixVersion>3.3.3</fixVersion>
                    <fixVersion>3.4.0</fixVersion>
                                    <component>contrib-bookkeeper</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12992679" author="mahadev" created="Wed, 9 Feb 2011 19:37:10 +0000"  >&lt;p&gt;logs for the tests.&lt;/p&gt;</comment>
                            <comment id="12992717" author="fpj" created="Wed, 9 Feb 2011 21:04:19 +0000"  >&lt;p&gt;Sounds like a race condition. Checking the logs, I found this:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2011-02-09 11:07:39,245 - INFO  - [main:BookieRecoveryTest@165] - New bookie on port 5003 has been created.
2011-02-09 11:07:39,248 - ERROR - [pool-6-thread-1:PerChannelBookieClient$1@129] - Could not connect to bookie: /10.73.146.106:5000
2011-02-09 11:07:39,248 - WARN  - [pool-6-thread-1:PendingAddOp@115] - Write did not succeed: 1, 10
2011-02-09 11:07:39,253 - ERROR - [pool-6-thread-1:LedgerHandle@423] - Could not get additional bookie to remake ensemble, closing ledger: 1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 

&lt;p&gt;We are starting a new bookie, but it sounds like we are not giving enough time for the bookie to start up to be incorporated into the ensemble.&lt;/p&gt;</comment>
                            <comment id="12996360" author="fpj" created="Fri, 18 Feb 2011 11:50:40 +0000"  >&lt;p&gt;I have added some short methods to allow the test to check if a new bookie is running. I haven&apos;t been able to reproduce it, but from my understanding from inspecting the logs, it looks like it should solve it. &lt;/p&gt;</comment>
                            <comment id="12996368" author="hadoopqa" created="Fri, 18 Feb 2011 12:13:09 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12471391/ZOOKEEPER-985.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12471391/ZOOKEEPER-985.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1069169.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/138//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/138//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/138//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/138//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/138//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://hudson.apache.org/hudson/job/PreCommit-ZOOKEEPER-Build/138//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12996396" author="fpj" created="Fri, 18 Feb 2011 13:13:01 +0000"  >&lt;p&gt;The failure is not related to this patch.&lt;/p&gt;</comment>
                            <comment id="12996476" author="breed" created="Fri, 18 Feb 2011 16:00:51 +0000"  >&lt;p&gt;looks good flavio. i think the running in Bookie should be volatile.&lt;/p&gt;</comment>
                            <comment id="12996499" author="fpj" created="Fri, 18 Feb 2011 16:34:12 +0000"  >&lt;p&gt;It applies to both trunk and 3.3.&lt;/p&gt;</comment>
                            <comment id="12996500" author="fpj" created="Fri, 18 Feb 2011 16:34:59 +0000"  >&lt;p&gt;... and almost forgot: thanks for reviewing it, Ben!&lt;/p&gt;</comment>
                            <comment id="12996512" author="breed" created="Fri, 18 Feb 2011 16:49:40 +0000"  >&lt;p&gt;+1 thanx flavio&lt;/p&gt;</comment>
                            <comment id="12996536" author="breed" created="Fri, 18 Feb 2011 17:55:02 +0000"  >&lt;p&gt;Committed revision 1072074. (3.3)&lt;br/&gt;
Committed revision 1072085. (trunk)&lt;/p&gt;</comment>
                            <comment id="12996927" author="hudson" created="Sat, 19 Feb 2011 23:07:37 +0000"  >&lt;p&gt;Integrated in ZooKeeper-trunk #1102 (See &lt;a href=&quot;https://hudson.apache.org/hudson/job/ZooKeeper-trunk/1102/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://hudson.apache.org/hudson/job/ZooKeeper-trunk/1102/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-985&quot; title=&quot;Test BookieRecoveryTest fails on trunk.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-985&quot;&gt;&lt;del&gt;ZOOKEEPER-985&lt;/del&gt;&lt;/a&gt;. Test BookieRecoveryTest fails on trunk. (fpj via breed)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12470713" name="TEST-org.apache.bookkeeper.test.BookieRecoveryTest.txt" size="244690" author="mahadev" created="Wed, 9 Feb 2011 19:37:10 +0000"/>
                            <attachment id="12471419" name="ZOOKEEPER-985.patch" size="4454" author="fpj" created="Fri, 18 Feb 2011 16:34:12 +0000"/>
                            <attachment id="12471391" name="ZOOKEEPER-985.patch" size="4437" author="fpj" created="Fri, 18 Feb 2011 11:50:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 9 Feb 2011 21:04:19 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>47521</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxztnb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32787</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>