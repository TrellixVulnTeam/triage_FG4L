<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:40:51 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/ZOOKEEPER-1236/ZOOKEEPER-1236.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[ZOOKEEPER-1236] Security uses proprietary Sun APIs</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-1236</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-7211&quot; title=&quot;Security uses proprietary Sun APIs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-7211&quot;&gt;&lt;del&gt;HADOOP-7211&lt;/del&gt;&lt;/a&gt; - Recent kerberos integration resulted in the same issue in ZK.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    [javac] /home/phunt/dev/zookeeper/src/java/main/org/apache/zookeeper/server/auth/KerberosName.java:88: warning: sun.security.krb5.KrbException is Sun proprietary API and may be removed in a future release
    [javac]     } catch (KrbException ke) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12527958">ZOOKEEPER-1236</key>
            <summary>Security uses proprietary Sun APIs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="adalbas">Adalberto Medeiros</assignee>
                                    <reporter username="phunt">Patrick Hunt</reporter>
                        <labels>
                    </labels>
                <created>Thu, 20 Oct 2011 17:05:02 +0100</created>
                <updated>Wed, 4 Jul 2012 19:25:38 +0100</updated>
                            <resolved>Sat, 30 Jun 2012 07:31:56 +0100</resolved>
                                    <version>3.4.0</version>
                    <version>3.4.3</version>
                                    <fixVersion>3.4.4</fixVersion>
                    <fixVersion>3.5.0</fixVersion>
                                    <component>server</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13131715" author="phunt" created="Thu, 20 Oct 2011 17:06:06 +0100"  >&lt;p&gt;Eugene - could you take a look at resolving this?&lt;/p&gt;</comment>
                            <comment id="13215854" author="ekoontz" created="Fri, 24 Feb 2012 19:48:47 +0000"  >&lt;p&gt;This issue was discussed in course of &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-938&quot; title=&quot;Support Kerberos authentication of clients.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-938&quot;&gt;&lt;del&gt;ZOOKEEPER-938&lt;/del&gt;&lt;/a&gt; also, beginning here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-938?focusedCommentId=13080545&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13080545&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/ZOOKEEPER-938?focusedCommentId=13080545&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13080545&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13215859" author="ekoontz" created="Fri, 24 Feb 2012 19:51:27 +0000"  >
&lt;blockquote&gt;
&lt;p&gt;Unfortunately I couldn&apos;t find support for obtaining the default Kerberos realm in &lt;br/&gt;
java.security or javax.security.&lt;/p&gt;

&lt;p&gt;(In fact, it seems that javax.security uses sun.security internally, for example: &lt;a href=&quot;http://www.java2s.com/Open-Source/Java-Document/6.0-JDK-Core/security/javax/security/auth/kerberos/KerberosPrincipal.java.htm&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.java2s.com/Open-Source/Java-Document/6.0-JDK-Core/security/javax/security/auth/kerberos/KerberosPrincipal.java.htm&lt;/a&gt;.&lt;br/&gt;
(see &quot;import sun.security.krb5.Asn1Exception;&quot; in the source code)).&lt;/p&gt;

&lt;p&gt;So I don&apos;t see any way around using the sun.* classes.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-938?focusedCommentId=13081866&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13081866&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/ZOOKEEPER-938?focusedCommentId=13081866&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13081866&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13215994" author="apurtell" created="Fri, 24 Feb 2012 22:16:33 +0000"  >&lt;p&gt;Hadoop core also throws the same warnings, from src/core/org/apache/hadoop/security/KerberosName.java, src/core/org/apache/hadoop/security/SecurityUtil.java, org/apache/hadoop/security/authentication/client/KerberosAuthenticator.java, and other places. You need a JRE fix or to avoid Kerberos entirely I think Patrick.&lt;/p&gt;</comment>
                            <comment id="13216146" author="phunt" created="Sat, 25 Feb 2012 00:07:25 +0000"  >&lt;p&gt;That&apos;s unfortunate. What about &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-6941&quot; title=&quot;Support non-SUN JREs in UserGroupInformation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-6941&quot;&gt;&lt;del&gt;HADOOP-6941&lt;/del&gt;&lt;/a&gt; ? That seemed to be on the road to resolving this for Hadoop. No?&lt;/p&gt;</comment>
                            <comment id="13216151" author="phunt" created="Sat, 25 Feb 2012 00:10:29 +0000"  >&lt;p&gt;Or does &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-6941&quot; title=&quot;Support non-SUN JREs in UserGroupInformation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-6941&quot;&gt;&lt;del&gt;HADOOP-6941&lt;/del&gt;&lt;/a&gt; only allow you to plug in other implementations? but not get rid of the warnings?&lt;/p&gt;

&lt;p&gt;Could we separate this code out into a separately releasable artifact? Something that could be reused by the many projects that are now integrating with kerberos? Then only one build would have the warnings. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13216212" author="ekoontz" created="Sat, 25 Feb 2012 01:17:43 +0000"  >&lt;p&gt;Thanks to Patrick Hunt for the mention of &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-6941&quot; title=&quot;Support non-SUN JREs in UserGroupInformation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-6941&quot;&gt;&lt;del&gt;HADOOP-6941&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13293615" author="adalbas" created="Tue, 12 Jun 2012 14:24:16 +0100"  >&lt;p&gt;Looking at &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-6941&quot; title=&quot;Support non-SUN JREs in UserGroupInformation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-6941&quot;&gt;&lt;del&gt;HADOOP-6941&lt;/del&gt;&lt;/a&gt; patch, they created a KerberosUtil.java class that uses reflect and chooses between IBM or Sun jvm. KerberosName.java in ZK is similar to the one in Hadoop. &lt;br/&gt;
Since there were no more comments lately, I&apos;m adding a patch to fix this issue based on hadoop common, built under zk branch-3.4 . Please, take a look.&lt;/p&gt;</comment>
                            <comment id="13293617" author="adalbas" created="Tue, 12 Jun 2012 14:31:01 +0100"  >&lt;p&gt;My bad, I used the Submit Patch button, instead of the Attach Files. Attaching the patch now.&lt;/p&gt;</comment>
                            <comment id="13293622" author="hadoopqa" created="Tue, 12 Jun 2012 14:46:23 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12531825/zookeeper-1236.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12531825/zookeeper-1236.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1337029.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1093//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1093//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13293682" author="ekoontz" created="Tue, 12 Jun 2012 16:08:22 +0100"  >&lt;p&gt;Hi Adalberto,&lt;/p&gt;

&lt;p&gt;Please add &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[diff]
    noprefix = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;to your $HOME/.gitconfig and re-create your patch so that the Hadoop QA process can use it.&lt;/p&gt;

&lt;p&gt;(I encountered the same problem back when I first started submitting JIRA patches)&lt;/p&gt;</comment>
                            <comment id="13294517" author="adalbas" created="Wed, 13 Jun 2012 16:18:02 +0100"  >&lt;p&gt;Fixed git prefix&lt;/p&gt;</comment>
                            <comment id="13294535" author="hadoopqa" created="Wed, 13 Jun 2012 16:48:41 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12531980/zookeeper-1236-v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12531980/zookeeper-1236-v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1337029.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1095//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1095//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1095//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1095//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1095//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1095//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13295127" author="adalbas" created="Thu, 14 Jun 2012 17:00:06 +0100"  >&lt;p&gt;-1 tests included. The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
Please justify why no new tests are needed for this patch.&lt;br/&gt;
Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;This was tested for both ibm jvm and sun jvm. I think the unit tests already created for testing the KerberosName.java are enough here. Is there anything else needed?&lt;/p&gt;</comment>
                            <comment id="13404410" author="phunt" created="Sat, 30 Jun 2012 07:31:56 +0100"  >&lt;p&gt;Thanks Adalberto!&lt;/p&gt;</comment>
                            <comment id="13404445" author="hudson" created="Sat, 30 Jun 2012 12:01:10 +0100"  >&lt;p&gt;Integrated in ZooKeeper-trunk #1600 (See &lt;a href=&quot;https://builds.apache.org/job/ZooKeeper-trunk/1600/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/ZooKeeper-trunk/1600/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1236&quot; title=&quot;Security uses proprietary Sun APIs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1236&quot;&gt;&lt;del&gt;ZOOKEEPER-1236&lt;/del&gt;&lt;/a&gt;. Security uses proprietary Sun APIs (Adalberto Medeiros via phunt) (Revision 1355651)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
phunt : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1355651&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1355651&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/zookeeper/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/java/main/org/apache/zookeeper/server/auth/KerberosName.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/java/main/org/apache/zookeeper/server/util/KerberosUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12473503">HADOOP-6941</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12480698">ZOOKEEPER-938</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12558607">ZOOKEEPER-1474</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12502633">HADOOP-7211</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12531980" name="zookeeper-1236-v2.patch" size="3569" author="adalbas" created="Wed, 13 Jun 2012 16:18:02 +0100"/>
                            <attachment id="12531825" name="zookeeper-1236.patch" size="3625" author="adalbas" created="Tue, 12 Jun 2012 14:31:01 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 24 Feb 2012 19:48:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>92372</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxzsu7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32656</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>