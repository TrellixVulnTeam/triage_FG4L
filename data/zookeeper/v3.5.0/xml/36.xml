<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:41:18 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/ZOOKEEPER-36/ZOOKEEPER-36.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[ZOOKEEPER-36] REST access to ZooKeeper</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-36</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;Moved from SourceForge to Apache.&lt;br/&gt;
&lt;a href=&quot;http://sourceforge.net/tracker/index.php?func=detail&amp;amp;aid=1961763&amp;amp;group_id=209147&amp;amp;atid=1008547&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://sourceforge.net/tracker/index.php?func=detail&amp;amp;aid=1961763&amp;amp;group_id=209147&amp;amp;atid=1008547&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12398001">ZOOKEEPER-36</key>
            <summary>REST access to ZooKeeper</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="phunt">Patrick Hunt</assignee>
                                    <reporter username="phunt">Patrick Hunt</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Jun 2008 23:39:28 +0100</created>
                <updated>Wed, 8 Jul 2009 21:23:55 +0100</updated>
                            <resolved>Fri, 8 May 2009 06:28:53 +0100</resolved>
                                                    <fixVersion>3.2.0</fixVersion>
                                    <component>contrib</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12681967" author="phunt" created="Sat, 14 Mar 2009 01:04:47 +0000"  >&lt;p&gt;initial attempt at rest support &amp;#8211; using jax-rs via jersey.&lt;/p&gt;

&lt;p&gt;untar the rest_2.tar.gz into the contrib directory&lt;br/&gt;
  there are a number of files that need to be added to lib so for this&lt;br/&gt;
  initial drop using tar/gz rather than patch.&lt;/p&gt;

&lt;p&gt;Currently readonly (get) via json is supported. See the readme for details and quickstart on trying it out.&lt;/p&gt;

&lt;p&gt;there&apos;s a python script in src that tests the currently supported features&lt;br/&gt;
  see the readme for quickstart including running this script&lt;/p&gt;

&lt;p&gt;----------- &lt;br/&gt;
jersey/grizzly are under CDDL&lt;/p&gt;

&lt;p&gt;I think I followed the rules outlined in Category B: Reciprocal Licenses&lt;br/&gt;
&lt;a href=&quot;http://www.apache.org/legal/3party.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.apache.org/legal/3party.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;specifically I only included binaries for CDDL licensed code (jersey/grizzly)&lt;br/&gt;
I also added NOTICE.txt specific to these libs&lt;br/&gt;
I also ran RAT and it seems happy.&lt;/p&gt;

&lt;p&gt;we should verify before committing to svn.&lt;/p&gt;</comment>
                            <comment id="12695669" author="cdarroch" created="Sat, 4 Apr 2009 05:19:38 +0100"  >&lt;p&gt;Another option might be the expand on the mod_shmap and mod_socache_zookeeper httpd modules I wrote a while back.  The latter maintains a ZooKeeper client connection for each httpd child process &amp;#8211; these are shared across all HTTP requests handled by the process, so (as with the code attached to this issue, I think) ephemeral nodes aren&apos;t supported, nor are ACLs, watches, etc.  The code is available under the Apache license at &lt;a href=&quot;http://people.apache.org/~chrisd/projects/shared_map/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://people.apache.org/~chrisd/projects/shared_map/&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The shared-map module can harness a variety of &quot;small object cache&quot; providers to various parts of the URL namespace and then perform GET/PUT/DELETE against them.  For the mod_socache_zookeeper provider these map to zoo_get(), zoo_set()/zoo_create(), and zoo_delete().  Nodes are created automatically when a PUT is made for a non-extant node.&lt;/p&gt;

&lt;p&gt;I need to refactor mod_socache_zookeeper and create a mod_zookeeper which deals with the business of starting/stopping ZooKeeper connections for each httpd child process, something like mod_dbd does for SQL DB connections.  That will allow other modules to then acquire the ZK connection and make zoo_*() requests directly; mod_socache_zookeeper and mod_slotmem_zookeeper (yet to be written) then just devolve into the business of mapping URLs to specific ZK calls.&lt;/p&gt;

&lt;p&gt;For a REST-style interface that supported things like ACLs, sequences, stat data, etc. one could write a separate module (mod_zookeeper_rest or whatever) which supports a more complex mapping than is available through just the socache or slotmem APIs.&lt;/p&gt;

&lt;p&gt;However the REST interface is implemented, it would be nice, I think, to use HEAD -&amp;gt; zoo_exists(), GET -&amp;gt; zoo_get(), PUT -&amp;gt; zoo_set()/zoo_create(), and DELETE -&amp;gt; zoo_delete().  There&apos;s such a natural mapping of HTTP methods to ZK methods that it would seem to call out for use, as opposed to using bags of CGI arguments to POST requests or what have you.&lt;/p&gt;</comment>
                            <comment id="12695670" author="cdarroch" created="Sat, 4 Apr 2009 05:21:59 +0100"  >&lt;p&gt;Sorry, just to throw in a couple of additional thoughts; using httpd modules means all you need is a conventional Apache httpd instance.  Requests look like (using the current minimalistic shmap/socache modules):&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;GET /node1/node2 HTTP/1.0

DELETE /node1/node2 HTTP/1.0

PUT /node1/node3 HTTP/1.0
Content-Length: 5

12345
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12699419" author="phunt" created="Wed, 15 Apr 2009 23:17:42 +0100"  >&lt;p&gt;Thanks for the input Chris. I think I&apos;m going to stick with Java though. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;At the same time it would be interesting to have what you&apos;ve done available in contrib. If you&apos;d&lt;br/&gt;
be willing to put together a patch for contrib we could include it. What types of use cases does &lt;br/&gt;
this mod_* address? Any example of use?&lt;/p&gt;</comment>
                            <comment id="12699460" author="phunt" created="Thu, 16 Apr 2009 01:28:38 +0100"  >&lt;p&gt;A spec detailing how to bind http to zk.&lt;/p&gt;</comment>
                            <comment id="12699514" author="cdarroch" created="Thu, 16 Apr 2009 05:09:14 +0100"  >&lt;p&gt;I took a quick look at the spec; nice!  I like that it follows the spirit of the HTTP spec in the way I envisioned.  A couple of minor thoughts:&lt;/p&gt;

&lt;p&gt;I think it would be nice to avoid POST entirely, if only because POST is so over-used that it no longer has any particular meaning except &quot;send stuff to server&quot;.  Suppose you used the trailing slash in the URI to distinguish meanings?  Having hacked on mod_dir at various points this occurs to me as a possibility.  For example:&lt;/p&gt;

&lt;p&gt;PUT /foo -&amp;gt; zoo_set(/foo)&lt;br/&gt;
PUT /foo/ -&amp;gt; zoo_create(/foo)&lt;/p&gt;

&lt;p&gt;The same would work to overload GET:&lt;/p&gt;

&lt;p&gt;GET /foo -&amp;gt; zoo_get(/foo)&lt;br/&gt;
GET /foo/ -&amp;gt; zoo_get_children(/foo)&lt;/p&gt;

&lt;p&gt;I especially like the GET cases because they correspond nicely to how URIs are mapped to files and directories.&lt;/p&gt;

&lt;p&gt;As for running code, I&apos;m working (slowly) on a mod_zookeeper and you&apos;ll be the first to know if I get it to a releasable state.  The basic purpose is similar to mod_dbd: provide connections that other modules can use however they choose.&lt;/p&gt;</comment>
                            <comment id="12699890" author="phunt" created="Thu, 16 Apr 2009 22:50:11 +0100"  >&lt;p&gt;Chris thanks for reviewing this. In particular I think it&apos;s important both for users as well as implementors (interop) to have a clear spec.&lt;/p&gt;

&lt;p&gt;/foo and /foo/ were considered, but imo this is pretty hacky and prone to error (both user and potentially intermediate actors like proxies...) Perhaps my search background showing through - url canonicalization often ignores the trailing slash.&lt;/p&gt;

&lt;p&gt;/foo and /foo/* were also considered, this is a bit better imo (you might also support things like /foo/*/bar, yikes! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; )&lt;/p&gt;

&lt;p&gt;EOD I think it makes more sense to be explicit. it&apos;s not as &quot;clean&quot; but it allows us to follow&lt;br/&gt;
the HTTP spec and it&apos;s more obvious what&apos;s going on when reading the client code that uses the REST service (even if you haven&apos;t read the spec &quot;view=children&quot; is going to be more obvious than trailing/non-trailing slash).&lt;/p&gt;

</comment>
                            <comment id="12700869" author="cdarroch" created="Mon, 20 Apr 2009 18:26:07 +0100"  >&lt;p&gt;Certainly the use of explicit CGI arguments will improve readability; no question about that.  I was mostly thinking in terms of HTTP and WebDAV (I see there&apos;s also a WebDAV-related issue, &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-37&quot; title=&quot;WebDAV access to ZooKeeper&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-37&quot;&gt;ZOOKEEPER-37&lt;/a&gt;) and things like WebDAV-to-JSR-170 connectors, with which I&apos;ve worked a little.&lt;/p&gt;

&lt;p&gt;If you&apos;re thinking about WebDAV at all, that implies node creation and updates with PUT, most likely.  (Arguably you might use MKCOL for node creation, I suppose.)  Content hierarchies like ZooKeeper&apos;s, where nodes are both &quot;files&quot; (i.e., contain data) and &quot;folders&quot; (i.e., have child nodes) fit somewhat imperfectly with the filesystem assumptions that underlie the PUT and MKCOL methods.  That&apos;s neither here nor there, I suppose.&lt;/p&gt;</comment>
                            <comment id="12701616" author="phunt" created="Wed, 22 Apr 2009 19:07:01 +0100"  >&lt;p&gt;Thanks for further input Chris, really appreciate you giving insight. I&apos;m not an expert at REST so &lt;br/&gt;
please feel free.&lt;/p&gt;

&lt;p&gt;WRT webdav - jersey has support for webdav being developed. I think it makes sense to have&lt;br/&gt;
webdav client support (it&apos;s in windows for example) at some point. I&apos;m focusing on rest initially in&lt;br/&gt;
order to cover as many dev environments (scripting in particular) and developer experience&lt;br/&gt;
as possible (devs more expr with rest than webdav typically)&lt;/p&gt;

&lt;p&gt;Also, I&apos;m not sure how well zk fits into webdav given that we store data on znodes that can&lt;br/&gt;
act as either directories or files. Perhaps we just need a &quot;phantom&quot; file that represents the data&lt;br/&gt;
associated with a non-leaf znode. &lt;/p&gt;

&lt;p&gt;I did think about MKCOL initially, actually I was thinking of using it even in this JIRA, but in the end&lt;br/&gt;
decided not to in order to stick within the confines of std REST.&lt;/p&gt;</comment>
                            <comment id="12702658" author="phunt" created="Sat, 25 Apr 2009 07:31:56 +0100"  >&lt;p&gt;New version of the spec and updated jersey implementation.&lt;/p&gt;

&lt;p&gt;As before unpack the archive in the src/contrib directory. README for quickstart&lt;/p&gt;</comment>
                            <comment id="12703364" author="phunt" created="Mon, 27 Apr 2009 21:53:39 +0100"  >&lt;p&gt;Updated version of spec and rest contrib.&lt;/p&gt;

&lt;p&gt;This version has full set of tests and is ready for review, then commit to svn.&lt;/p&gt;</comment>
                            <comment id="12703408" author="hadoopqa" created="Mon, 27 Apr 2009 22:51:34 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12406569/rest.tar.gz&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12406569/rest.tar.gz&lt;/a&gt;&lt;br/&gt;
  against trunk revision 769079.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no tests are needed for this patch.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-vesta.apache.org/51/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-vesta.apache.org/51/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12705107" author="phunt" created="Fri, 1 May 2009 21:27:58 +0100"  >&lt;p&gt;This latest update is small:&lt;/p&gt;

&lt;p&gt;1) updated the response structures with uris of referenced resources&lt;br/&gt;
this makes it easier for callers to access resources (don&apos;t need to cons up the&lt;br/&gt;
uri themselves) for example when processing children&lt;/p&gt;

&lt;p&gt;2) updated the python script to cleanup and use results of 1) (nice!)&lt;/p&gt;

&lt;p&gt;3) updated spec to detail the new response fields.&lt;/p&gt;</comment>
                            <comment id="12707146" author="mahadev" created="Thu, 7 May 2009 22:52:14 +0100"  >&lt;p&gt;this looks pretty good &lt;/p&gt;

&lt;p&gt;just two minor nits &lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;can you add licence header to SPEC.txt?&lt;/li&gt;
	&lt;li&gt;also some javadoc to ZookeeperService.java?&lt;/li&gt;
&lt;/ul&gt;

</comment>
                            <comment id="12707188" author="phunt" created="Fri, 8 May 2009 00:54:55 +0100"  >&lt;p&gt;Added license and javadoc, these are the only changes.&lt;/p&gt;</comment>
                            <comment id="12707240" author="mahadev" created="Fri, 8 May 2009 06:28:53 +0100"  >&lt;p&gt;I just committed this. great to have this. .thanks pat.&lt;/p&gt;</comment>
                            <comment id="12707393" author="hudson" created="Fri, 8 May 2009 17:02:12 +0100"  >&lt;p&gt;Integrated in ZooKeeper-trunk #303 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/ZooKeeper-trunk/303/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/ZooKeeper-trunk/303/&lt;/a&gt;)&lt;br/&gt;
    . REST access to ZooKeeper (phunt via mahadev)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12407588" name="SPEC.txt" size="11615" author="phunt" created="Fri, 8 May 2009 00:54:55 +0100"/>
                            <attachment id="12407035" name="SPEC.txt" size="10833" author="phunt" created="Fri, 1 May 2009 21:27:58 +0100"/>
                            <attachment id="12406568" name="SPEC.txt" size="10299" author="phunt" created="Mon, 27 Apr 2009 21:53:39 +0100"/>
                            <attachment id="12406424" name="SPEC.txt" size="10267" author="phunt" created="Sat, 25 Apr 2009 07:31:56 +0100"/>
                            <attachment id="12405597" name="SPEC.txt" size="10570" author="phunt" created="Thu, 16 Apr 2009 01:28:38 +0100"/>
                            <attachment id="12407589" name="rest.tar.gz" size="1783673" author="phunt" created="Fri, 8 May 2009 00:54:55 +0100"/>
                            <attachment id="12407036" name="rest.tar.gz" size="1781564" author="phunt" created="Fri, 1 May 2009 21:27:58 +0100"/>
                            <attachment id="12406569" name="rest.tar.gz" size="1781360" author="phunt" created="Mon, 27 Apr 2009 21:53:39 +0100"/>
                            <attachment id="12406425" name="rest.tar.gz" size="1779131" author="phunt" created="Sat, 25 Apr 2009 07:31:56 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 4 Apr 2009 04:19:38 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48096</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxuqv3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3171</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>rest access too zookeeper using jax-rs via jersey.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>