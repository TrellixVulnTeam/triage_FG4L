<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:51:22 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/ZOOKEEPER-121/ZOOKEEPER-121.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[ZOOKEEPER-121] SyncRequestProcessor is not closing log stream during shutdown</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-121</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;The SyncRequestProcessor is not closing log stream during shutdown. &lt;/p&gt;

&lt;p&gt;See FIXMEs with this ID in ClientBase.java &amp;#8211; I&apos;ve commented out the assertion for the time being (checking for logs being deleted), as part of this fix re-enable these asserts and also verify tests on a Windows system.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12402238">ZOOKEEPER-121</key>
            <summary>SyncRequestProcessor is not closing log stream during shutdown</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mahadev">Mahadev konar</assignee>
                                    <reporter username="phunt">Patrick Hunt</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Aug 2008 19:57:23 +0100</created>
                <updated>Fri, 24 Jun 2011 05:53:24 +0100</updated>
                            <resolved>Tue, 16 Mar 2010 22:39:59 +0000</resolved>
                                                    <fixVersion>3.3.0</fixVersion>
                                    <component>server</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12842954" author="mahadev" created="Tue, 9 Mar 2010 07:50:45 +0000"  >&lt;p&gt;this patch closes the streams on a shutdown of syncrequestprocessor.&lt;/p&gt;</comment>
                            <comment id="12842956" author="mahadev" created="Tue, 9 Mar 2010 07:58:28 +0000"  >&lt;p&gt;minor change, freeing snapshot resources as well.&lt;/p&gt;</comment>
                            <comment id="12844712" author="breed" created="Fri, 12 Mar 2010 22:02:28 +0000"  >&lt;p&gt;+1 looks good&lt;/p&gt;</comment>
                            <comment id="12844713" author="mahadev" created="Fri, 12 Mar 2010 22:03:09 +0000"  >&lt;p&gt;running hudson... &lt;/p&gt;</comment>
                            <comment id="12844721" author="hadoopqa" created="Fri, 12 Mar 2010 22:28:37 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12438266/ZOOKEEPER-121.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12438266/ZOOKEEPER-121.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 922433.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/18/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/18/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/18/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/18/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/18/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/18/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12844730" author="mahadev" created="Fri, 12 Mar 2010 22:36:33 +0000"  >&lt;p&gt;I just committed this.&lt;/p&gt;</comment>
                            <comment id="12844892" author="phunt" created="Sat, 13 Mar 2010 15:02:52 +0000"  >&lt;p&gt;looks to me like this change is causing the build to fail:&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 2010-03-13 02:09:18,679 - FATAL &lt;span class=&quot;error&quot;&gt;&amp;#91;SyncThread:1:SyncRequestProcessor@148&amp;#93;&lt;/span&gt; - Severe unrecoverable error, exiting&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; java.nio.channels.ClosedChannelException&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at sun.nio.ch.FileChannelImpl.ensureOpen(FileChannelImpl.java:91)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at sun.nio.ch.FileChannelImpl.position(FileChannelImpl.java:256)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.zookeeper.server.persistence.Util.padLogFile(Util.java:214)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.zookeeper.server.persistence.FileTxnLog.padFile(FileTxnLog.java:228)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.zookeeper.server.persistence.FileTxnLog.append(FileTxnLog.java:206)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.zookeeper.server.persistence.FileTxnSnapLog.append(FileTxnSnapLog.java:269)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.zookeeper.server.ZKDatabase.append(ZKDatabase.java:435)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.zookeeper.server.SyncRequestProcessor.run(SyncRequestProcessor.java:107)&lt;/p&gt;</comment>
                            <comment id="12844966" author="mahadev" created="Sat, 13 Mar 2010 21:04:31 +0000"  >&lt;p&gt;this patch should fix the issue.&lt;/p&gt;</comment>
                            <comment id="12844968" author="hadoopqa" created="Sat, 13 Mar 2010 21:25:08 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12438711/ZOOKEEPER-121.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12438711/ZOOKEEPER-121.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 922459.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no tests are needed for this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/21/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/21/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/21/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/21/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/21/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/21/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12844991" author="phunt" created="Sun, 14 Mar 2010 00:18:47 +0000"  >&lt;p&gt;I don&apos;t get this patch, more explanation is necessary. &lt;/p&gt;

&lt;p&gt;1) first, why are we calling append on a closed log? in what situations?&lt;/p&gt;

&lt;p&gt;2) more importantly, this patch seems to ignore the problem, in particular it results in append being called, append ignores (granted warn log) the operation and return immediately. How is this acceptable? ie we are asked to append and it seems we essentially drop the request and continue on (in syncrequestprocessor run method loop)&lt;/p&gt;</comment>
                            <comment id="12844993" author="breed" created="Sun, 14 Mar 2010 01:06:02 +0000"  >&lt;p&gt;i think i agree with pat. we need to figure why it is happening.&lt;/p&gt;

&lt;p&gt;looking more closely i believe the problem is in SyncRequestProcessor.shutdown.&lt;/p&gt;

&lt;p&gt;currently it is&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void shutdown() {
        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;{
            zks.getZKDatabase().close();
        } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IOException ie) {
            LOG.warn(&lt;span class=&quot;code-quote&quot;&gt;&quot;Error closing logs &quot;&lt;/span&gt;, ie);
        }
        queuedRequests.add(requestOfDeath);
        nextProcessor.shutdown();
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;i think we need to move up the requestOfDeath and wait for shutdown before closing:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void shutdown() {
        queuedRequests.add(requestOfDeath);
        &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.join();
        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;{
            zks.getZKDatabase().close();
        } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IOException ie) {
            LOG.warn(&lt;span class=&quot;code-quote&quot;&gt;&quot;Error closing logs &quot;&lt;/span&gt;, ie);
        }
        nextProcessor.shutdown();
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12844996" author="breed" created="Sun, 14 Mar 2010 01:16:00 +0000"  >&lt;p&gt;the patch that corresponds to my comment.&lt;/p&gt;</comment>
                            <comment id="12845006" author="mahadev" created="Sun, 14 Mar 2010 01:58:27 +0000"  >&lt;p&gt;agreed. good point folks.... that was a hurried up patch from my side. sorry abt that.... I should have been more careful!&lt;/p&gt;</comment>
                            <comment id="12845016" author="hadoopqa" created="Sun, 14 Mar 2010 03:05:40 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12438729/ZOOKEEPER-121.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12438729/ZOOKEEPER-121.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 922459.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no tests are needed for this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/22/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/22/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/22/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/22/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/22/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/22/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12845018" author="mahadev" created="Sun, 14 Mar 2010 03:58:57 +0000"  >&lt;p&gt;+1 the patch looks good.... &lt;/p&gt;</comment>
                            <comment id="12845019" author="mahadev" created="Sun, 14 Mar 2010 04:01:24 +0000"  >&lt;p&gt;I just committed this. thanks ben!&lt;/p&gt;</comment>
                            <comment id="12845028" author="phunt" created="Sun, 14 Mar 2010 05:47:12 +0000"  >&lt;p&gt;still seeing this fatal even after applying latest patch. plz name the patches _2 _3 etc... so they aren&apos;t superceeded by jira.&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 2010-03-14 05:38:06,999 - FATAL &lt;span class=&quot;error&quot;&gt;&amp;#91;SyncThread:3:SyncRequestProcessor@148&amp;#93;&lt;/span&gt; - Severe unrecoverable error, exiting&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; java.nio.channels.ClosedChannelException&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at sun.nio.ch.FileChannelImpl.ensureOpen(FileChannelImpl.java:91)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at sun.nio.ch.FileChannelImpl.position(FileChannelImpl.java:256)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.zookeeper.server.persistence.Util.padLogFile(Util.java:214)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.zookeeper.server.persistence.FileTxnLog.padFile(FileTxnLog.java:228)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.zookeeper.server.persistence.FileTxnLog.append(FileTxnLog.java:206)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.zookeeper.server.persistence.FileTxnSnapLog.append(FileTxnSnapLog.java:269)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.zookeeper.server.ZKDatabase.append(ZKDatabase.java:435)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.zookeeper.server.SyncRequestProcessor.run(SyncRequestProcessor.java:107) &lt;/p&gt;</comment>
                            <comment id="12845534" author="breed" created="Mon, 15 Mar 2010 21:23:56 +0000"  >&lt;p&gt;you should apply just one of the patches not both. it sounds like you applied both of them pat.&lt;/p&gt;</comment>
                            <comment id="12845536" author="mahadev" created="Mon, 15 Mar 2010 21:30:15 +0000"  >&lt;p&gt;ben,&lt;br/&gt;
only your patch was applied. Also, the output is from a trunk run after the patch was committed!&lt;/p&gt;</comment>
                            <comment id="12845545" author="phunt" created="Mon, 15 Mar 2010 21:42:46 +0000"  >&lt;p&gt;My comment was that mahadev should have named his patch ..._2.patch (vs the original patch that was applied before this issue was reopened, ie the fix for the original problem not the current blocker)&lt;/p&gt;</comment>
                            <comment id="12845596" author="hudson" created="Mon, 15 Mar 2010 23:20:33 +0000"  >&lt;p&gt;Integrated in ZooKeeper-trunk #738 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/ZooKeeper-trunk/738/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/ZooKeeper-trunk/738/&lt;/a&gt;)&lt;/p&gt;
</comment>
                            <comment id="12845626" author="phunt" created="Tue, 16 Mar 2010 00:41:09 +0000"  >&lt;p&gt;Still failing in some cases, most recent:&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 2010-03-16 00:39:13,346 - WARN  &lt;span class=&quot;error&quot;&gt;&amp;#91;QuorumPeer:/0:0:0:0:0:0:0:0:11657:Follower@116&amp;#93;&lt;/span&gt; - Got zxid 0x100000059 expected 0x1&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 2010-03-16 00:39:13,353 - INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;QuorumPeer:/0:0:0:0:0:0:0:0:11657:FileTxnSnapLog@208&amp;#93;&lt;/span&gt; - Snapshotting: 100000153&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 2010-03-16 00:39:13,354 - FATAL &lt;span class=&quot;error&quot;&gt;&amp;#91;SyncThread:4:SyncRequestProcessor@148&amp;#93;&lt;/span&gt; - Severe unrecoverable error, exiting&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; java.nio.channels.ClosedChannelException&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at sun.nio.ch.FileChannelImpl.ensureOpen(FileChannelImpl.java:91)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at sun.nio.ch.FileChannelImpl.position(FileChannelImpl.java:256)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.zookeeper.server.persistence.Util.padLogFile(Util.java:214)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.zookeeper.server.persistence.FileTxnLog.padFile(FileTxnLog.java:228)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.zookeeper.server.persistence.FileTxnLog.append(FileTxnLog.java:206)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.zookeeper.server.persistence.FileTxnSnapLog.append(FileTxnSnapLog.java:269)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.zookeeper.server.ZKDatabase.append(ZKDatabase.java:435)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.zookeeper.server.SyncRequestProcessor.run(SyncRequestProcessor.java:107)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 2010-03-16 00:39:13,355 - FATAL &lt;span class=&quot;error&quot;&gt;&amp;#91;SyncThread:3:SyncRequestProcessor@148&amp;#93;&lt;/span&gt; - Severe unrecoverable error, exiting&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; java.nio.channels.ClosedChannelException&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at sun.nio.ch.FileChannelImpl.ensureOpen(FileChannelImpl.java:91)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at sun.nio.ch.FileChannelImpl.position(FileChannelImpl.java:256)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.zookeeper.server.persistence.Util.padLogFile(Util.java:214)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.zookeeper.server.persistence.FileTxnLog.padFile(FileTxnLog.java:228)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.zookeeper.server.persistence.FileTxnLog.append(FileTxnLog.java:206)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.zookeeper.server.persistence.FileTxnSnapLog.append(FileTxnSnapLog.java:269)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.zookeeper.server.ZKDatabase.append(ZKDatabase.java:435)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.zookeeper.server.SyncRequestProcessor.run(SyncRequestProcessor.java:107)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 2010-03-16 00:39:13,357 - INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;QuorumPeer:/0:0:0:0:0:0:0:0:11658:FileTxnSnapLog@208&amp;#93;&lt;/span&gt; - Snapshotting: 100000153&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running org.apache.zookeeper.test.ZooKeeperQuotaTest&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 1, Failures: 0, Errors: 1, Time elapsed: 0 sec&lt;/p&gt;</comment>
                            <comment id="12845642" author="phunt" created="Tue, 16 Mar 2010 01:19:36 +0000"  >&lt;p&gt;not sure if this helps but anouther failure I see:&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 2010-03-16 01:12:16,548 - WARN  &lt;span class=&quot;error&quot;&gt;&amp;#91;SyncThread:4:SyncRequestProcessor@115&amp;#93;&lt;/span&gt; - Too busy to snap, skipping&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 2010-03-16 01:12:16,548 - WARN  &lt;span class=&quot;error&quot;&gt;&amp;#91;SyncThread:4:SyncRequestProcessor@115&amp;#93;&lt;/span&gt; - Too busy to snap, skipping&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 2010-03-16 01:12:16,548 - WARN  &lt;span class=&quot;error&quot;&gt;&amp;#91;SyncThread:4:SyncRequestProcessor@115&amp;#93;&lt;/span&gt; - Too busy to snap, skipping&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 2010-03-16 01:12:16,549 - INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;SyncThread:4:SyncRequestProcessor@151&amp;#93;&lt;/span&gt; - SyncRequestProcessor exited!&lt;/p&gt;

&lt;p&gt;then 12ms  later&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 2010-03-16 01:12:16,561 - FATAL &lt;span class=&quot;error&quot;&gt;&amp;#91;SyncThread:4:SyncRequestProcessor@148&amp;#93;&lt;/span&gt; - Severe unrecoverable error, exiting&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; java.nio.channels.ClosedChannelException&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at sun.nio.ch.FileChannelImpl.ensureOpen(FileChannelImpl.java:91)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at sun.nio.ch.FileChannelImpl.position(FileChannelImpl.java:256)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.zookeeper.server.persistence.Util.padLogFile(Util.java:214)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.zookeeper.server.persistence.FileTxnLog.padFile(FileTxnLog.java:228)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.zookeeper.server.persistence.FileTxnLog.append(FileTxnLog.java:206)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.zookeeper.server.persistence.FileTxnSnapLog.append(FileTxnSnapLog.java:269)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.zookeeper.server.ZKDatabase.append(ZKDatabase.java:435)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.zookeeper.server.SyncRequestProcessor.run(SyncRequestProcessor.java:107)&lt;/p&gt;</comment>
                            <comment id="12845651" author="mahadev" created="Tue, 16 Mar 2010 01:45:39 +0000"  >&lt;p&gt;I wasnt able to reproduce the bug on my machine. I am uploading the fix, which might be the reason for the crashes. We need to verify on these machines. Since I cannot reproduce, I have no way to verify this.&lt;/p&gt;</comment>
                            <comment id="12845653" author="mahadev" created="Tue, 16 Mar 2010 01:48:21 +0000"  >&lt;p&gt;hmm, doesnt look like this will fix the issue. &lt;/p&gt;</comment>
                            <comment id="12846078" author="mahadev" created="Tue, 16 Mar 2010 19:07:43 +0000"  >&lt;p&gt;this patch should fix the issue. We were closing zkdb in syncrequestprocessor but since it gets shared across zookeeper server instances, we should only be closing it in quorumpeer shutdown. I also added a synchronized in rollLog (htough its not necessary but we should have had it).&lt;/p&gt;</comment>
                            <comment id="12846091" author="hadoopqa" created="Tue, 16 Mar 2010 19:41:11 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12438950/ZOOKEEPER-121_3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12438950/ZOOKEEPER-121_3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 922759.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/24/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/24/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/24/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/24/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/24/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/24/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12846127" author="mahadev" created="Tue, 16 Mar 2010 21:12:30 +0000"  >&lt;p&gt;updated patch, fixing if factory is null in ClientBase and moving zkdb.shutdown to be called after factory.shutdown...&lt;/p&gt;</comment>
                            <comment id="12846136" author="hadoopqa" created="Tue, 16 Mar 2010 21:39:07 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12438964/ZOOKEEPER-121_3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12438964/ZOOKEEPER-121_3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 922759.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/26/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/26/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/26/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/26/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/26/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/26/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12846140" author="hudson" created="Tue, 16 Mar 2010 21:43:19 +0000"  >&lt;p&gt;Integrated in ZooKeeper-trunk #744 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/ZooKeeper-trunk/744/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/ZooKeeper-trunk/744/&lt;/a&gt;)&lt;br/&gt;
    . SyncRequestProcessor is not closing log stream during shutdown (3rd attempt)&lt;/p&gt;</comment>
                            <comment id="12846144" author="phunt" created="Tue, 16 Mar 2010 21:47:23 +0000"  >&lt;p&gt;Failed in my testing, this time in &lt;br/&gt;
org.apache.zookeeper.test.ZooKeeperQuotaTest.testCorruption&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 2010-03-16 21:33:52,868 - FATAL &lt;span class=&quot;error&quot;&gt;&amp;#91;SyncThread:1:SyncRequestProcessor@148&amp;#93;&lt;/span&gt; - Severe unrecoverable error, exiting&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; java.nio.channels.ClosedChannelException&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at sun.nio.ch.FileChannelImpl.ensureOpen(FileChannelImpl.java:91)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at sun.nio.ch.FileChannelImpl.position(FileChannelImpl.java:256)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.zookeeper.server.persistence.Util.padLogFile(Util.java:214)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.zookeeper.server.persistence.FileTxnLog.padFile(FileTxnLog.java:228)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.zookeeper.server.persistence.FileTxnLog.append(FileTxnLog.java:206)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.zookeeper.server.persistence.FileTxnSnapLog.append(FileTxnSnapLog.java:269)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.zookeeper.server.ZKDatabase.append(ZKDatabase.java:435)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.zookeeper.server.SyncRequestProcessor.run(SyncRequestProcessor.java:107)&lt;/p&gt;</comment>
                            <comment id="12846165" author="mahadev" created="Tue, 16 Mar 2010 22:07:28 +0000"  >&lt;p&gt;this makes sure, zkdb.close is called after quorumpeer shuts down sync processor.&lt;/p&gt;</comment>
                            <comment id="12846167" author="breed" created="Tue, 16 Mar 2010 22:08:48 +0000"  >&lt;p&gt;+1 good catch.&lt;/p&gt;</comment>
                            <comment id="12846181" author="hadoopqa" created="Tue, 16 Mar 2010 22:29:52 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12438976/ZOOKEEPER-121_4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12438976/ZOOKEEPER-121_4.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 923984.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 12 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/28/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/28/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/28/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/28/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/28/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h1.grid.sp2.yahoo.net/28/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12846185" author="breed" created="Tue, 16 Mar 2010 22:39:59 +0000"  >&lt;p&gt;Committed revision 924027.&lt;/p&gt;</comment>
                            <comment id="12846190" author="hudson" created="Tue, 16 Mar 2010 22:47:40 +0000"  >&lt;p&gt;Integrated in ZooKeeper-trunk #746 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/ZooKeeper-trunk/746/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/ZooKeeper-trunk/746/&lt;/a&gt;)&lt;br/&gt;
    . SyncRequestProcessor is not closing log stream during shutdown&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12511435">ZOOKEEPER-1109</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12438729" name="ZOOKEEPER-121.patch" size="856" author="breed" created="Sun, 14 Mar 2010 01:16:00 +0000"/>
                            <attachment id="12438711" name="ZOOKEEPER-121.patch" size="1161" author="mahadev" created="Sat, 13 Mar 2010 21:04:31 +0000"/>
                            <attachment id="12438266" name="ZOOKEEPER-121.patch" size="7642" author="mahadev" created="Tue, 9 Mar 2010 07:58:28 +0000"/>
                            <attachment id="12438264" name="ZOOKEEPER-121.patch" size="7616" author="mahadev" created="Tue, 9 Mar 2010 07:50:45 +0000"/>
                            <attachment id="12438964" name="ZOOKEEPER-121_3.patch" size="4300" author="mahadev" created="Tue, 16 Mar 2010 21:12:30 +0000"/>
                            <attachment id="12438950" name="ZOOKEEPER-121_3.patch" size="3822" author="mahadev" created="Tue, 16 Mar 2010 19:07:43 +0000"/>
                            <attachment id="12438893" name="ZOOKEEPER-121_3.patch" size="651" author="mahadev" created="Tue, 16 Mar 2010 01:45:39 +0000"/>
                            <attachment id="12438976" name="ZOOKEEPER-121_4.patch" size="3412" author="mahadev" created="Tue, 16 Mar 2010 22:07:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 9 Mar 2010 07:50:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48043</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxzwcn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33225</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>