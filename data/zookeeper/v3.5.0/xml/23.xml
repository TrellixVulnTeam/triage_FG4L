<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:47:23 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/ZOOKEEPER-23/ZOOKEEPER-23.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[ZOOKEEPER-23] Auto reset of watches on reconnect</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-23</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;Moved from SourceForge to Apache.&lt;br/&gt;
&lt;a href=&quot;http://sourceforge.net/tracker/index.php?func=detail&amp;amp;aid=1831413&amp;amp;group_id=209147&amp;amp;atid=1008547&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://sourceforge.net/tracker/index.php?func=detail&amp;amp;aid=1831413&amp;amp;group_id=209147&amp;amp;atid=1008547&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12397983">ZOOKEEPER-23</key>
            <summary>Auto reset of watches on reconnect</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="breed">Benjamin Reed</assignee>
                                    <reporter username="phunt">Patrick Hunt</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Jun 2008 22:29:10 +0100</created>
                <updated>Thu, 2 May 2013 03:29:16 +0100</updated>
                            <resolved>Wed, 22 Oct 2008 02:22:32 +0100</resolved>
                                                    <fixVersion>3.0.0</fixVersion>
                                    <component>c client</component>
                    <component>java client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12641212" author="breed" created="Tue, 21 Oct 2008 00:43:54 +0100"  >&lt;p&gt;This is the C client for the auto reset of watches. The patch contains the following:&lt;/p&gt;

&lt;p&gt;1) A system test that has tests for watches&lt;br/&gt;
2) Fixes to the watches so that we accurately trigger the watches that are active when we get the watch event (rather than watches that are active when the watch event is actually dispatched by the completion thread)&lt;br/&gt;
3) To handle exists watch properly, I added another exist hashtable for watches of non existent files&lt;br/&gt;
4) Code to use SetWatches to re-register watches when reconnecting&lt;/p&gt;</comment>
                            <comment id="12641282" author="breed" created="Tue, 21 Oct 2008 07:10:30 +0100"  >&lt;p&gt;In addition to the previous changes I&apos;ve updated the docs and fixed a TON of bugs. It turns out that the system test revealed some problems in the existing code. The biggest was a deadlock that can happen when a disconnect occurs.&lt;/p&gt;

&lt;p&gt;I have not yet got the tests running with single threaded mode. I wonder how many people actually use the single threaded library. I&apos;d love to remove it since it is hard to use, test, and maintain. Could we do the release 3.0 with just the multi-threaded library?&lt;/p&gt;</comment>
                            <comment id="12641288" author="breed" created="Tue, 21 Oct 2008 07:22:36 +0100"  >&lt;p&gt;Updated to clarify the watch delivery rules.&lt;/p&gt;</comment>
                            <comment id="12641306" author="breed" created="Tue, 21 Oct 2008 09:15:02 +0100"  >&lt;p&gt;Okay this patch has single threaded support as well.&lt;/p&gt;

&lt;p&gt;There are two tests in TestOperations unit test that fail quite often in both single threaded and multi threaded mode, but that class is very opaque and I can&apos;t tell if it is a bug in the unit test or if it is exposing a bug.&lt;/p&gt;</comment>
                            <comment id="12641684" author="breed" created="Wed, 22 Oct 2008 02:00:29 +0100"  >&lt;p&gt;Added LICENSE to zkServer.sh&lt;br/&gt;
Removed some unit tests that are not implemented correctly&lt;br/&gt;
Fixed the way we propogate the error in free_completions&lt;/p&gt;</comment>
                            <comment id="12641687" author="mahadev" created="Wed, 22 Oct 2008 02:13:13 +0100"  >&lt;p&gt;+1 for the patch .. &lt;/p&gt;</comment>
                            <comment id="12641688" author="phunt" created="Wed, 22 Oct 2008 02:18:53 +0100"  >&lt;p&gt;tests now pass on my 1core system (ubuntu)&lt;/p&gt;</comment>
                            <comment id="12641690" author="phunt" created="Wed, 22 Oct 2008 02:22:32 +0100"  >&lt;p&gt;Committed revision 706834.&lt;/p&gt;</comment>
                            <comment id="12641775" author="hudson" created="Wed, 22 Oct 2008 11:51:30 +0100"  >&lt;p&gt;Integrated in ZooKeeper-trunk #121 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/ZooKeeper-trunk/121/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/ZooKeeper-trunk/121/&lt;/a&gt;)&lt;br/&gt;
    . Auto reset of watches on reconnect&lt;/p&gt;</comment>
                            <comment id="12642676" author="phunt" created="Sun, 26 Oct 2008 01:10:37 +0000"  >&lt;p&gt;3.0.0 has been released, closing issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12405512">ZOOKEEPER-149</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12398726">ZOOKEEPER-50</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12403931">ZOOKEEPER-138</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12392621" name="ZOOKEEPER-23.patch" size="84351" author="breed" created="Wed, 22 Oct 2008 02:00:29 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 20 Oct 2008 23:43:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>18587</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxzyuf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33629</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>