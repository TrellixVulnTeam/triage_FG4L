<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:48:34 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/ZOOKEEPER-640/ZOOKEEPER-640.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[ZOOKEEPER-640] make build.xml more configurable to ease packaging for linux distros</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-640</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;I started packaging Zookeeper for Debian&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;. Thereby I had a problem excluding contrib/rest from the build without patching the upstream tarball. Could you please add some properties to your build.xml that allow me to (de)select contribs? In the example below I can easily override the properties:&lt;/p&gt;

&lt;p&gt;&amp;lt;project name=&quot;zookeepercontrib&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;  &amp;lt;property name=&quot;contribfilesetincludes&quot; value=&quot;*/build.xml&quot; /&amp;gt;&lt;br/&gt;
  &amp;lt;property name=&quot;contribfilesetexcludes&quot; value=&quot;&quot; /&amp;gt;&lt;/p&gt;

&lt;p&gt;  &amp;lt;fileset id=&quot;contribfileset&quot; &lt;br/&gt;
           dir=&quot;.&quot; &lt;br/&gt;
           includes=&quot;$&lt;/p&gt;
{contribfilesetincludes}
&lt;p&gt;&quot;&lt;br/&gt;
           excludes=&quot;$&lt;/p&gt;
{contribfilesetexcludes}
&lt;p&gt;&quot;&lt;br/&gt;
           /&amp;gt;&lt;/p&gt;

&lt;p&gt;  &amp;lt;target name=&quot;compile&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;subant target=&quot;jar&quot;&amp;gt;&lt;br/&gt;
     &amp;lt;fileset refid=&quot;contribfileset&quot; /&amp;gt;&lt;br/&gt;
    &amp;lt;/subant&amp;gt;&lt;br/&gt;
  &amp;lt;/target&amp;gt;&lt;/p&gt;

&lt;p&gt;Could you please also add a line to project.classpath:&lt;/p&gt;

&lt;p&gt;  &amp;lt;path id=&quot;project.classpath&quot;&amp;gt;&lt;br/&gt;
      &amp;lt;fileset dir=&quot;$&lt;/p&gt;
{additional.lib.dir}
&lt;p&gt;&quot; includes=&quot;*.jar&quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;For Debian I may not compile based on the jar files in lib but must use the jars already in Debian.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=561947&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=561947&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://git.debian.org/?p=pkg-java/zookeeper.git&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://git.debian.org/?p=pkg-java/zookeeper.git&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thank you!&lt;/p&gt;</description>
                <environment></environment>
        <key id="12445041">ZOOKEEPER-640</key>
            <summary>make build.xml more configurable to ease packaging for linux distros</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="phunt">Patrick Hunt</assignee>
                                    <reporter username="thkoch">Thomas Koch</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Jan 2010 14:16:30 +0000</created>
                <updated>Fri, 26 Mar 2010 17:25:09 +0000</updated>
                            <resolved>Thu, 4 Mar 2010 20:10:42 +0000</resolved>
                                    <version>3.2.1</version>
                    <version>3.2.2</version>
                                    <fixVersion>3.3.0</fixVersion>
                                    <component>build</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                    <timeoriginalestimate seconds="900">0.25h</timeoriginalestimate>
                            <timeestimate seconds="900">0.25h</timeestimate>
                                        <comments>
                            <comment id="12798121" author="phunt" created="Fri, 8 Jan 2010 18:28:05 +0000"  >&lt;p&gt;Great to see this being packaged for Debian! Shouldn&apos;t be a problem. A few questions though:&lt;/p&gt;

&lt;p&gt;1) contrib include/exclude seems fine to me, good idea&lt;/p&gt;

&lt;p&gt;2) for the &quot;additional.lib.dir&quot; :&lt;/p&gt;

&lt;p&gt;a) you want this changed in build.xml at the toplevel and also for the contribs, right? Same variable name&lt;br/&gt;
used in both ok?&lt;/p&gt;

&lt;p&gt;b) do you really want a dir or a path string instead, ie additional.lib.dir or additional.libs.path (where libs.path is a list of directories/jars)&lt;/p&gt;

&lt;p&gt;libs.path would give you more control (you would specify/order the jars explicitly vs just *.jar&quot;) This might be important&lt;br/&gt;
for example if you have multiple jars with same capability but diff version... it would require you to specify the&lt;br/&gt;
list of jars though.&lt;/p&gt;</comment>
                            <comment id="12798158" author="phunt" created="Fri, 8 Jan 2010 20:07:08 +0000"  >&lt;p&gt;Thomas, checkout this patch and let me know.&lt;/p&gt;

&lt;p&gt;It was a bit tricky with additional.libs since ant doesn&apos;t support conditionals, but I got around&lt;br/&gt;
it with a fairly clean hack. All you need to do is specify additional.lib.dir and turn off (set to &quot;&quot;) &lt;br/&gt;
the excludes for that same fileset.&lt;/p&gt;

&lt;p&gt;I tried various scenarios and it seemed ok for me. Give it a try, work for you? If so I&apos;ll &lt;br/&gt;
work on getting it committed to 3.3.0&lt;/p&gt;</comment>
                            <comment id="12800962" author="phunt" created="Fri, 15 Jan 2010 22:35:18 +0000"  >&lt;p&gt;Thomas, this good for you?&lt;/p&gt;</comment>
                            <comment id="12800982" author="hadoopqa" created="Fri, 15 Jan 2010 22:59:29 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12429777/ZOOKEEPER-640.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12429777/ZOOKEEPER-640.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 899383.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no tests are needed for this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h7.grid.sp2.yahoo.net/38/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h7.grid.sp2.yahoo.net/38/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h7.grid.sp2.yahoo.net/38/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h7.grid.sp2.yahoo.net/38/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h7.grid.sp2.yahoo.net/38/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h7.grid.sp2.yahoo.net/38/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12804872" author="mahadev" created="Tue, 26 Jan 2010 03:30:51 +0000"  >&lt;p&gt;thomas, can you review the changes? &lt;/p&gt;</comment>
                            <comment id="12805521" author="thkoch" created="Wed, 27 Jan 2010 14:52:49 +0000"  >&lt;p&gt;Sorry for not replying earlier. I&apos;ve finished packaging zookeeper now and reused only a part of your buildsystem. If everything works out, zookeeper should be in Debian unstable in a few days. I need to go on with hadoop now.&lt;br/&gt;
I&apos;m working on a document for java developers how they can help their downstream packagers:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://wiki.debian.org/Java/UpstreamHints&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.debian.org/Java/UpstreamHints&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Please be so kind to have a look there from time to time or even help me expanding it. You&apos;ll see, that I&apos;m still seeking for best practices on how to advise upstream developers to ease Debian with packaging.&lt;/p&gt;</comment>
                            <comment id="12805620" author="phunt" created="Wed, 27 Jan 2010 19:12:10 +0000"  >&lt;p&gt;@Thomas I subscribed to the page you listed so hopefully I&apos;ll be notified of any changes in future.&lt;/p&gt;

&lt;p&gt;the &quot;no network no download&quot; may be a problem. In 3.3.0 we&apos;ve upgraded to ivy (already used by&lt;br/&gt;
much of the rest of the hadoop projects) and as part of that change ivy will d/l any/all necessary&lt;br/&gt;
dependencies during the build. I guess we&apos;ll have to cross that bridge at some point.&lt;/p&gt;

&lt;p&gt;so you are ok with the changes listed in this patch then? It addressed your current concern/problems?&lt;/p&gt;</comment>
                            <comment id="12835974" author="phunt" created="Fri, 19 Feb 2010 21:51:57 +0000"  >&lt;p&gt;No update from Thomas - committer please review/commit this asap.&lt;/p&gt;</comment>
                            <comment id="12835998" author="thkoch" created="Fri, 19 Feb 2010 22:15:55 +0000"  >&lt;p&gt;Thanks for your afford. I&apos;m sorry, that I didn&apos;t answer earlier. In the end, I&apos;ve not used the build.xml at all but scripted the build in the debian/rules file. Please chancel this issue.&lt;/p&gt;</comment>
                            <comment id="12836011" author="phunt" created="Fri, 19 Feb 2010 22:32:25 +0000"  >&lt;p&gt;No worries. Seems like a fine idea anyway, commiter plz review/commit asap.&lt;/p&gt;</comment>
                            <comment id="12841485" author="mahadev" created="Thu, 4 Mar 2010 20:09:49 +0000"  >&lt;p&gt;+1 the patch looks good. It seems useful enough to be in the build...&lt;/p&gt;</comment>
                            <comment id="12841486" author="mahadev" created="Thu, 4 Mar 2010 20:10:42 +0000"  >&lt;p&gt;I just committed this. thanks Pat!&lt;/p&gt;</comment>
                            <comment id="12841813" author="hudson" created="Fri, 5 Mar 2010 10:48:50 +0000"  >&lt;p&gt;Integrated in ZooKeeper-trunk #715 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/ZooKeeper-trunk/715/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/ZooKeeper-trunk/715/&lt;/a&gt;)&lt;br/&gt;
    . make build.xml more configurable to ease packaging for linux distros (phunt via mahadev)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12429777" name="ZOOKEEPER-640.patch" size="6329" author="phunt" created="Fri, 8 Jan 2010 20:07:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 8 Jan 2010 18:28:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>47674</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxzxjj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33418</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>