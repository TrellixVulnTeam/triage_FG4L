<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:50:41 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/ZOOKEEPER-844/ZOOKEEPER-844.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[ZOOKEEPER-844] handle auth failure in java client</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-844</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;ClientCnxn.java currently has the following code:&lt;br/&gt;
  if (replyHdr.getXid() == -4) {&lt;br/&gt;
                // -2 is the xid for AuthPacket&lt;br/&gt;
                // TODO: process AuthPacket here&lt;br/&gt;
                if (LOG.isDebugEnabled()) &lt;/p&gt;
{
                    LOG.debug(&quot;Got auth sessionid:0x&quot;
                            + Long.toHexString(sessionId));
                }
&lt;p&gt;                return;&lt;br/&gt;
            }&lt;/p&gt;

&lt;p&gt;Auth failures appear to cause the server to disconnect but the client never gets a proper state change or notification that auth has failed, which makes handling this scenario very difficult as it causes the client to go into a loop of sending bad auth, getting disconnected, trying to reconnect, sending bad auth again, over and over. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12471434">ZOOKEEPER-844</key>
            <summary>handle auth failure in java client</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fournc">Camille Fournier</assignee>
                                    <reporter username="fournc">Camille Fournier</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Aug 2010 17:05:02 +0100</created>
                <updated>Wed, 23 Nov 2011 19:22:13 +0000</updated>
                            <resolved>Wed, 6 Oct 2010 17:19:27 +0100</resolved>
                                    <version>3.3.1</version>
                                    <fixVersion>3.3.2</fixVersion>
                    <fixVersion>3.4.0</fixVersion>
                                    <component>java client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12899933" author="fournc" created="Wed, 18 Aug 2010 18:56:21 +0100"  >&lt;p&gt;Patch to fix this bug, please review. I looked at the C client and I believe this is the same basic way auth failed is handled in that code. Thanks.&lt;/p&gt;</comment>
                            <comment id="12904825" author="gkesavan" created="Wed, 1 Sep 2010 00:23:48 +0100"  >&lt;p&gt;submitting to hudson &lt;/p&gt;</comment>
                            <comment id="12905651" author="fournc" created="Thu, 2 Sep 2010 20:40:06 +0100"  >&lt;p&gt;Patch for ZooKeeper 3.3.1 branch&lt;/p&gt;</comment>
                            <comment id="12905960" author="phunt" created="Fri, 3 Sep 2010 17:47:02 +0100"  >&lt;p&gt;This is really a bug, not an improvement.&lt;/p&gt;</comment>
                            <comment id="12909635" author="hadoopqa" created="Wed, 15 Sep 2010 08:21:00 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12453719/ZOOKEEPER332-844&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12453719/ZOOKEEPER332-844&lt;/a&gt;&lt;br/&gt;
  against trunk revision 997192.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h7.grid.sp2.yahoo.net/112/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h7.grid.sp2.yahoo.net/112/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12910264" author="phunt" created="Thu, 16 Sep 2010 19:57:30 +0100"  >&lt;p&gt;IIRC qabot will apply the most recent patch, it only knows about trunk though (no branches).&lt;/p&gt;

&lt;p&gt;The easiest way to address is to attach the patch for br33 first, then attach the patch for trunk. Pretty hacky but it works ok for me.&lt;/p&gt;

&lt;p&gt;The other option is to just attach both patches and state in a comment the problem, ask a committer to review it manually instead of waiting on qabot.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="12910271" author="fournc" created="Thu, 16 Sep 2010 20:05:29 +0100"  >&lt;p&gt;First the 3.3.2 patch...&lt;/p&gt;</comment>
                            <comment id="12910273" author="fournc" created="Thu, 16 Sep 2010 20:05:58 +0100"  >&lt;p&gt;patch to HEAD&lt;/p&gt;</comment>
                            <comment id="12918566" author="phunt" created="Wed, 6 Oct 2010 17:11:19 +0100"  >&lt;p&gt;+1 looks good to me. Thanks Camille!&lt;/p&gt;</comment>
                            <comment id="12918569" author="phunt" created="Wed, 6 Oct 2010 17:19:27 +0100"  >&lt;p&gt;Committed to trunk/3.3. Thanks Camille!&lt;/p&gt;</comment>
                            <comment id="12918879" author="hudson" created="Thu, 7 Oct 2010 11:50:49 +0100"  >&lt;p&gt;Integrated in ZooKeeper-trunk #959 (See &lt;a href=&quot;https://hudson.apache.org/hudson/job/ZooKeeper-trunk/959/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://hudson.apache.org/hudson/job/ZooKeeper-trunk/959/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-844&quot; title=&quot;handle auth failure in java client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-844&quot;&gt;&lt;del&gt;ZOOKEEPER-844&lt;/del&gt;&lt;/a&gt;. handle auth failure in java client&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12454794" name="ZOOKEEPER-844.patch" size="4470" author="fournc" created="Thu, 16 Sep 2010 20:05:58 +0100"/>
                            <attachment id="12454792" name="ZOOKEEPER332-844" size="5354" author="fournc" created="Thu, 16 Sep 2010 20:05:29 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 31 Aug 2010 23:23:48 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>47578</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxzu1b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32850</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>