<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:40:07 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/ZOOKEEPER-1493/ZOOKEEPER-1493.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[ZOOKEEPER-1493] C Client: zookeeper_process doesn&apos;t invoke completion callback if zookeeper_close has been called</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-1493</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;In &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-804&quot; title=&quot;c unit tests failing due to &amp;quot;assertion cptr failed&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-804&quot;&gt;&lt;del&gt;ZOOKEEPER-804&lt;/del&gt;&lt;/a&gt;, we added a check in zookeeper_process() to see if zookeeper_close() has been called. This was to avoid calling assert(cptr) on a NULL pointer, as dequeue_completion() returns NULL if the sent_requests queue has been cleared by free_completion() from zookeeper_close(). However, we should still call the completion if it is not NULL. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12595339">ZOOKEEPER-1493</key>
            <summary>C Client: zookeeper_process doesn&apos;t invoke completion callback if zookeeper_close has been called</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="michim">Michi Mutsuzaki</assignee>
                                    <reporter username="michim">Michi Mutsuzaki</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Jun 2012 21:47:58 +0100</created>
                <updated>Wed, 21 Nov 2012 10:12:57 +0000</updated>
                            <resolved>Sun, 29 Jul 2012 06:35:34 +0100</resolved>
                                    <version>3.4.3</version>
                    <version>3.3.5</version>
                                    <fixVersion>3.3.6</fixVersion>
                    <fixVersion>3.4.4</fixVersion>
                    <fixVersion>3.5.0</fixVersion>
                                    <component>c client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13404133" author="mahadev" created="Fri, 29 Jun 2012 20:08:33 +0100"  >&lt;p&gt;Again the patch looks good but we&apos;ll need a patch for branch 3.3 and 3.4.&lt;/p&gt;</comment>
                            <comment id="13404653" author="michim" created="Sun, 1 Jul 2012 00:40:55 +0100"  >&lt;p&gt;Hi Mahadev,&lt;/p&gt;

&lt;p&gt;Here are the patches for 3.3, 3.4, and trunk:&lt;/p&gt;

&lt;p&gt;branch-3.3: &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12534134/ZOOKEEPER-1493_3_3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12534134/ZOOKEEPER-1493_3_3.patch&lt;/a&gt;&lt;br/&gt;
branch-3.4: &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12534135/ZOOKEEPER-1493_3_4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12534135/ZOOKEEPER-1493_3_4.patch&lt;/a&gt;&lt;br/&gt;
trunk: &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12532779/ZOOKEEPER-1493.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12532779/ZOOKEEPER-1493.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I&apos;ll update patches for &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1494&quot; title=&quot;C client: socket leak after receive timeout in zookeeper_interest()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1494&quot;&gt;&lt;del&gt;ZOOKEEPER-1494&lt;/del&gt;&lt;/a&gt; once these patches are checked in.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;br/&gt;
--Michi&lt;/p&gt;</comment>
                            <comment id="13404658" author="hadoopqa" created="Sun, 1 Jul 2012 01:18:16 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12534135/ZOOKEEPER-1493_3_4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12534135/ZOOKEEPER-1493_3_4.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1355657.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1118//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1118//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1118//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1118//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1118//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1118//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13416634" author="phunt" created="Tue, 17 Jul 2012 22:39:47 +0100"  >&lt;p&gt;Michi would it be possible to test this change?&lt;/p&gt;</comment>
                            <comment id="13416645" author="michim" created="Tue, 17 Jul 2012 22:58:14 +0100"  >&lt;p&gt;It would be difficult to unit test this without refactoring the code. I did run manual tests to verify the patch fixed the issue, though. &lt;/p&gt;

&lt;p&gt;--Michi&lt;/p&gt;</comment>
                            <comment id="13417246" author="mahadev" created="Wed, 18 Jul 2012 17:57:15 +0100"  >&lt;p&gt;Sure. I looked at the patch it looks fine to me. +1 for committing.&lt;/p&gt;</comment>
                            <comment id="13424491" author="phunt" created="Sun, 29 Jul 2012 06:35:34 +0100"  >&lt;p&gt;Committed, thanks Michi!&lt;/p&gt;</comment>
                            <comment id="13424519" author="hudson" created="Sun, 29 Jul 2012 12:02:03 +0100"  >&lt;p&gt;Integrated in ZooKeeper-trunk #1628 (See &lt;a href=&quot;https://builds.apache.org/job/ZooKeeper-trunk/1628/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/ZooKeeper-trunk/1628/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1493&quot; title=&quot;C Client: zookeeper_process doesn&amp;#39;t invoke completion callback if zookeeper_close has been called&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1493&quot;&gt;&lt;del&gt;ZOOKEEPER-1493&lt;/del&gt;&lt;/a&gt;. C Client: zookeeper_process doesn&apos;t invoke completion callback if zookeeper_close has been called (Michi Mutsuzaki via phunt and mahadev) (Revision 1366784)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
phunt : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1366784&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1366784&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/zookeeper/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/c/src/zookeeper.c&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13501128" author="fanster.z" created="Tue, 20 Nov 2012 11:58:42 +0000"  >&lt;p&gt;this patch also solve a potential hang int zookeeper_close() &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13501129" author="fanster.z" created="Tue, 20 Nov 2012 11:59:40 +0000"  >&lt;p&gt;this patch also solve a potential hang int zookeeper_close() &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13501829" author="fanster.z" created="Wed, 21 Nov 2012 10:12:57 +0000"  >&lt;p&gt;a memory leak for missing free_buffer(bptr)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12532779" name="ZOOKEEPER-1493.patch" size="814" author="michim" created="Wed, 20 Jun 2012 22:56:43 +0100"/>
                            <attachment id="12534134" name="ZOOKEEPER-1493_3_3.patch" size="841" author="michim" created="Sun, 1 Jul 2012 00:37:50 +0100"/>
                            <attachment id="12534135" name="ZOOKEEPER-1493_3_4.patch" size="814" author="michim" created="Sun, 1 Jul 2012 00:37:50 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 29 Jun 2012 19:08:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>242208</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxwdzz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12755</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>