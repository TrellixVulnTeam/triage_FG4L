<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:49:24 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/ZOOKEEPER-1097/ZOOKEEPER-1097.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[ZOOKEEPER-1097] Quota is not correctly rehydrated on snapshot reload</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-1097</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;traverseNode in DataTree will never actually traverse the limit nodes properly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12510575">ZOOKEEPER-1097</key>
            <summary>Quota is not correctly rehydrated on snapshot reload</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fournc">Camille Fournier</assignee>
                                    <reporter username="fournc">Camille Fournier</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Jun 2011 15:07:44 +0100</created>
                <updated>Wed, 23 Nov 2011 19:22:06 +0000</updated>
                            <resolved>Mon, 27 Jun 2011 00:30:59 +0100</resolved>
                                    <version>3.3.3</version>
                    <version>3.4.0</version>
                                    <fixVersion>3.3.4</fixVersion>
                    <fixVersion>3.4.0</fixVersion>
                                    <component>server</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13050442" author="fournc" created="Thu, 16 Jun 2011 15:22:54 +0100"  >&lt;p&gt;Writing a test for this, hope to have the fix available by EOD&lt;/p&gt;</comment>
                            <comment id="13050690" author="hadoopqa" created="Thu, 16 Jun 2011 20:55:53 +0100"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12482839/ZOOKEEPER-1097.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12482839/ZOOKEEPER-1097.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1135515.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/322//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/322//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/322//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/322//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/322//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/322//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13050743" author="henryr" created="Thu, 16 Jun 2011 22:26:56 +0100"  >&lt;p&gt;Patch looks good to me, all I have are stylistic nits. Happy to commit after these are addressed.&lt;/p&gt;

&lt;p&gt;1. Trailing whitespace after:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;if (thisStats.getCount() &amp;lt; updatedStat.getCount()) {&lt;br/&gt;
+        if (thisStats.getCount() &amp;gt; -1 &amp;amp;&amp;amp; (thisStats.getCount() &amp;lt; updatedStat.getCount())) {        	  &lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;2. You&apos;ve reformatted one &apos;quota exceded&apos; log message, but not the other. Would be good to be consistent. &lt;/p&gt;

&lt;p&gt;3. Should isQuotaSet be a public API? If so, it should have Javadoc. Either way, it&apos;s confusing for a method called is* to not return a boolean. Consider renaming it to, dunno, getMaxPrefixWithQuota ?&lt;/p&gt;

&lt;p&gt;4. The &apos;return null&apos; else-clause of the if statement in isQuotaSet should be inside a { } pair, for consistency with the if clause. &lt;/p&gt;

&lt;p&gt;5. Just checking - the stop / start / stop / start  at the end of testQuota needs to have two rounds of restarts to be a correct test?&lt;/p&gt;

&lt;p&gt;6. Generally better to use assertEquals rather than assertTrue when you are comparing values, it can help debuggers give better information about the test failure and makes it easier to write correct tests. (I know this is an inherited issue with this test).&lt;/p&gt;</comment>
                            <comment id="13050844" author="fournc" created="Fri, 17 Jun 2011 02:41:30 +0100"  >&lt;p&gt;Will clean up small bits.&lt;/p&gt;

&lt;p&gt;Will rename isQuotaSet. It&apos;s really just exposed so this thing can be tested in some way. Do you still want javadoc?&lt;/p&gt;

&lt;p&gt;Yes, the start/stop/start/stop is necessary to get the load to be from snapshot, instead of txn log. Without that the test will pass with the bug still there.&lt;/p&gt;

&lt;p&gt;I think assertNotNull is best of all, if we&apos;re going to pick that particular nit. Or did you really want the actual value?&lt;/p&gt;
</comment>
                            <comment id="13050866" author="hadoopqa" created="Fri, 17 Jun 2011 03:24:35 +0100"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12482889/ZOOKEEPER-1097.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12482889/ZOOKEEPER-1097.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1136740.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/325//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/325//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/325//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/325//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/325//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/325//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13051428" author="henryr" created="Sat, 18 Jun 2011 02:07:47 +0100"  >&lt;p&gt;Thanks for updating the patch. Looks nearly good to go. &lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;You&apos;ve included a bunch of changes to eclipse project files. Can you remove them?&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Javadoc looks good, thanks. In general, if you&apos;re making a method public for testing only, it&apos;s worth commenting on that. Guava has a nice @VisibleForTesting annotation that makes that explicit, but we don&apos;t depend on that right now.  (It&apos;s weird that our tests are in different packages to the classes they test...)&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;FWIW, I really did mean assertEquals, for the lines where you have things like:&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Assert.assertTrue(&quot;count is set&quot;, qst.getCount() == 2);&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Also turns out the messages in those asserts are inverted - they get shown when the assertion fails, so you&apos;ll see &quot;Assertion failed: count is set&quot; which is the precise opposite of what&apos;s gone wrong &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;...aaaand while we&apos;re here, the indentation for the stopServer / startServer block seems to be tabs rather than spaces. Actually, there are a bunch of other places with tabs, I think. Would you mind changing them to be spaces consistently?&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Thanks for bearing with me. &lt;/p&gt;</comment>
                            <comment id="13051438" author="fournc" created="Sat, 18 Jun 2011 02:57:01 +0100"  >&lt;p&gt;The actual latest patch should have removed the eclipse project files. I suspect you looked at the one before that which I accidentally created.&lt;/p&gt;

&lt;p&gt;The assertTrue lines aren&apos;t part of my changes, except for a spelling correct. I just added the additional lines for actually verifying quota. Do you want me to rewrite the existing test to have assertEquals?&lt;/p&gt;

&lt;p&gt;If there are problems with whitespaces/tabs etc please feel free to fix them before committing, I really didn&apos;t intentionally do that and I have absolutely no opinions on formatting of anything at all. I make an effort to force my IDEs to put in spaces for tabs but sometimes I forget.&lt;/p&gt;</comment>
                            <comment id="13051465" author="henryr" created="Sat, 18 Jun 2011 08:01:22 +0100"  >&lt;p&gt;Updated patch, with tabs removed. Should be ready to go. &lt;/p&gt;</comment>
                            <comment id="13051466" author="henryr" created="Sat, 18 Jun 2011 08:04:47 +0100"  >&lt;p&gt;You&apos;re right, for whatever reason JIRA put your most recent patch second in the list of attached files. &lt;/p&gt;

&lt;p&gt;Tabs vs. spaces: thankfully, it&apos;s not a matter of opinion (because let&apos;s face it, what could be more boring...): we have a consistent choice as per &lt;a href=&quot;http://wiki.apache.org/hadoop/ZooKeeper/HowToContribute&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/hadoop/ZooKeeper/HowToContribute&lt;/a&gt;. I&apos;ve updated your patch with spaces for whitespace. &lt;/p&gt;

&lt;p&gt;We can ignore the inherited problems with those test lines, which are obviously just small nits, for now. Given that you were in the code, editing some of those lines, seemed like a good opportunity for cleanup. Next time!&lt;/p&gt;

&lt;p&gt;I&apos;ll commit this shortly. Thanks!&lt;/p&gt;</comment>
                            <comment id="13051551" author="hadoopqa" created="Sat, 18 Jun 2011 17:42:03 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12483029/1097.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12483029/1097.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1136740.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/330//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/330//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/330//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/330//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/330//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/330//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13051572" author="henryr" created="Sat, 18 Jun 2011 19:00:05 +0100"  >&lt;p&gt;Kicking Jenkins, test failure seems unrelated. &lt;/p&gt;</comment>
                            <comment id="13052710" author="hadoopqa" created="Tue, 21 Jun 2011 18:52:28 +0100"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12483029/1097.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12483029/1097.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1138100.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/335//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/335//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/335//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/335//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/335//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/335//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13052732" author="henryr" created="Tue, 21 Jun 2011 19:15:58 +0100"  >&lt;p&gt;Sigh... messed up the last patch. Hopefully get this done today. &lt;/p&gt;</comment>
                            <comment id="13052754" author="hadoopqa" created="Tue, 21 Jun 2011 19:39:58 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12483318/ZOOKEEPER-1097-whitespace.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12483318/ZOOKEEPER-1097-whitespace.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1138100.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/338//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/338//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13052763" author="fournc" created="Tue, 21 Jun 2011 19:54:15 +0100"  >&lt;p&gt;I can deal with this if you want, Henry. Just let me know.&lt;/p&gt;</comment>
                            <comment id="13052778" author="hadoopqa" created="Tue, 21 Jun 2011 20:31:29 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12483331/ZOOKEEPER-1097-whitespace.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12483331/ZOOKEEPER-1097-whitespace.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1138100.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/339//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/339//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/339//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/339//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/339//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/339//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13052817" author="henryr" created="Tue, 21 Jun 2011 21:45:03 +0100"  >&lt;p&gt;Camille - appreciate it, but I think I&apos;m nearly done messing up the patch &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; stupid git prefix... Curious about the test failures though.&lt;/p&gt;</comment>
                            <comment id="13052843" author="hadoopqa" created="Tue, 21 Jun 2011 22:18:47 +0100"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12483331/ZOOKEEPER-1097-whitespace.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12483331/ZOOKEEPER-1097-whitespace.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1138100.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/341//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/341//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/341//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/341//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/341//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/341//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13054821" author="henryr" created="Sat, 25 Jun 2011 07:33:13 +0100"  >&lt;p&gt;committed to trunk; having trouble committing to branch-3.3 because the updated test seems to use an API that&apos;s not present in 3.3. Camille, any chance you can put together a patch that works on 3.3? Would be nice to have for 3.4.0. Alternatively, if there&apos;s a commit that I can cherry-pick from trunk that this patch depends on, let me know. (Sorry for the delay committing; git svn decided to blow up on me). &lt;/p&gt;</comment>
                            <comment id="13054854" author="hudson" created="Sat, 25 Jun 2011 11:56:05 +0100"  >&lt;p&gt;Integrated in ZooKeeper-trunk #1224 (See &lt;a href=&quot;https://builds.apache.org/job/ZooKeeper-trunk/1224/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/ZooKeeper-trunk/1224/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1097&quot; title=&quot;Quota is not correctly rehydrated on snapshot reload&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1097&quot;&gt;&lt;del&gt;ZOOKEEPER-1097&lt;/del&gt;&lt;/a&gt;. Quota is not correctly rehydrated on snapshot reload (camille via henryr)&lt;/p&gt;

&lt;p&gt;henry : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1139494&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1139494&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/zookeeper/trunk/src/java/main/org/apache/zookeeper/server/DataTree.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/java/test/org/apache/zookeeper/test/ZooKeeperQuotaTest.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13054893" author="fournc" created="Sat, 25 Jun 2011 14:26:31 +0100"  >&lt;p&gt;I&apos;ll take a look.&lt;/p&gt;</comment>
                            <comment id="13054898" author="fournc" created="Sat, 25 Jun 2011 15:00:17 +0100"  >&lt;p&gt;3.3.3 patch&lt;/p&gt;</comment>
                            <comment id="13054899" author="fournc" created="Sat, 25 Jun 2011 15:02:54 +0100"  >&lt;p&gt;Didn&apos;t touch data tree, just update the test. Hopefully all the whitespace is still good, I think I&apos;ve rooted out all the places eclipse is putting tabs instead of spaces.&lt;/p&gt;</comment>
                            <comment id="13054905" author="hadoopqa" created="Sat, 25 Jun 2011 15:18:03 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12483817/ZOOKEEPER-1097-33.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12483817/ZOOKEEPER-1097-33.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1139494.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/352//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/352//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13055029" author="mahadev" created="Sun, 26 Jun 2011 07:41:32 +0100"  >&lt;p&gt;Henry/Camille,&lt;br/&gt;
  The patch still needs to be committed to 3.3 branch right? &lt;/p&gt;</comment>
                            <comment id="13055172" author="fournc" created="Sun, 26 Jun 2011 21:44:00 +0100"  >&lt;p&gt;Yes still waiting to be checked in to 3.3.&lt;/p&gt;</comment>
                            <comment id="13055234" author="henryr" created="Mon, 27 Jun 2011 00:30:52 +0100"  >&lt;p&gt;Just committed this to 3.3. Thanks Camille!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12483029" name="1097.patch" size="8580" author="henryr" created="Sat, 18 Jun 2011 08:01:22 +0100"/>
                            <attachment id="12482887" name="ZOOKEEPER-1097" size="12279" author="fournc" created="Fri, 17 Jun 2011 02:57:53 +0100"/>
                            <attachment id="12483817" name="ZOOKEEPER-1097-33.patch" size="7345" author="fournc" created="Sat, 25 Jun 2011 15:00:17 +0100"/>
                            <attachment id="12483331" name="ZOOKEEPER-1097-whitespace.patch" size="8938" author="henryr" created="Tue, 21 Jun 2011 20:08:46 +0100"/>
                            <attachment id="12483318" name="ZOOKEEPER-1097-whitespace.patch" size="8954" author="henryr" created="Tue, 21 Jun 2011 19:15:58 +0100"/>
                            <attachment id="12482889" name="ZOOKEEPER-1097.patch" size="8786" author="fournc" created="Fri, 17 Jun 2011 03:00:35 +0100"/>
                            <attachment id="12482839" name="ZOOKEEPER-1097.patch" size="8580" author="fournc" created="Thu, 16 Jun 2011 19:54:15 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 16 Jun 2011 19:55:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>47481</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxzt8v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32722</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>