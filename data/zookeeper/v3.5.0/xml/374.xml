<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:43:36 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/ZOOKEEPER-374/ZOOKEEPER-374.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[ZOOKEEPER-374] Uninitialized struct variable in C causes warning which is treated as an error</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-374</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;nitay-joffes-macbook-pro:c nitay$ pwd&lt;br/&gt;
/Users/nitay/code/zookeeper/src/c&lt;/p&gt;

&lt;p&gt;nitay-joffes-macbook-pro:c nitay$ make&lt;br/&gt;
make  all-am&lt;br/&gt;
/bin/sh ./libtool --tag=CC   --mode=compile gcc -DHAVE_CONFIG_H -I.  -I./include -I./tests -I./generated  -Wall -Werror  -g -O2 -MT zookeeper.lo -MD -MP -MF .deps/zookeeper.Tpo -c -o zookeeper.lo `test -f &apos;src/zookeeper.c&apos; || echo &apos;./&apos;`src/zookeeper.c&lt;br/&gt;
libtool: compile:  gcc -DHAVE_CONFIG_H -I. -I./include -I./tests -I./generated -Wall -Werror -g -O2 -MT zookeeper.lo -MD -MP -MF .deps/zookeeper.Tpo -c src/zookeeper.c  -fno-common -DPIC -o .libs/zookeeper.o&lt;br/&gt;
cc1: warnings being treated as errors&lt;br/&gt;
src/zookeeper.c: In function &apos;zoo_add_auth&apos;:&lt;br/&gt;
src/zookeeper.c:2378: warning: &apos;auth.buff&apos; may be used uninitialized in this function&lt;br/&gt;
src/zookeeper.c:2378: warning: &apos;auth.len&apos; may be used uninitialized in this function&lt;br/&gt;
make&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;: *** &lt;span class=&quot;error&quot;&gt;&amp;#91;zookeeper.lo&amp;#93;&lt;/span&gt; Error 1&lt;br/&gt;
make: *** &lt;span class=&quot;error&quot;&gt;&amp;#91;all&amp;#93;&lt;/span&gt; Error 2&lt;/p&gt;


&lt;p&gt;Need to set auth.buff and auth.len to zero.&lt;/p&gt;</description>
                <environment>&lt;p&gt;i686-apple-darwin9-gcc-4.0.1 (GCC) 4.0.1 (Apple Inc. build 5490)&lt;/p&gt;</environment>
        <key id="12422554">ZOOKEEPER-374</key>
            <summary>Uninitialized struct variable in C causes warning which is treated as an error</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.png">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="phunt">Patrick Hunt</assignee>
                                    <reporter username="nitay">Nitay Joffe</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Apr 2009 10:28:43 +0100</created>
                <updated>Wed, 8 Jul 2009 21:24:02 +0100</updated>
                            <resolved>Thu, 16 Apr 2009 21:28:46 +0100</resolved>
                                    <version>3.1.1</version>
                                    <fixVersion>3.2.0</fixVersion>
                                    <component>c client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12697844" author="mahadev" created="Fri, 10 Apr 2009 16:47:42 +0100"  >&lt;p&gt;what version of gcc is this? Anyways we should fix it in 3.2&lt;/p&gt;</comment>
                            <comment id="12698968" author="phunt" created="Tue, 14 Apr 2009 23:24:36 +0100"  >&lt;p&gt;Interesting, with gcc (Ubuntu 4.3.2-1ubuntu12) 4.3.2&lt;br/&gt;
this warning is not output by the compiler. Seems that the newer version&lt;br/&gt;
of the compiler is able to determine that auth is only accessed (written/read) when the following&lt;br/&gt;
condition is true:&lt;/p&gt;

&lt;p&gt;    if(cert!=NULL &amp;amp;&amp;amp; certLen!=0){&lt;/p&gt;

&lt;p&gt;as a result it doesn&apos;t complain in this instance on my system.&lt;/p&gt;

&lt;p&gt;I&apos;ll submit a patch for this to work on older gccs.&lt;/p&gt;</comment>
                            <comment id="12699066" author="phunt" created="Wed, 15 Apr 2009 06:38:41 +0100"  >&lt;p&gt;fixed warning and added tests to verify&lt;/p&gt;</comment>
                            <comment id="12699124" author="nitay" created="Wed, 15 Apr 2009 09:59:27 +0100"  >&lt;p&gt;+1. Works for me.&lt;/p&gt;</comment>
                            <comment id="12699580" author="hadoopqa" created="Thu, 16 Apr 2009 09:23:27 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12405500/ZOOKEEPER-374.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12405500/ZOOKEEPER-374.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 764673.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-vesta.apache.org/32/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-vesta.apache.org/32/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-vesta.apache.org/32/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-vesta.apache.org/32/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-vesta.apache.org/32/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-vesta.apache.org/32/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12699844" author="mahadev" created="Thu, 16 Apr 2009 21:26:48 +0100"  >&lt;p&gt;+1 for the patch.. the test fails on java test case LETest which the patch has ntohing to do with.&lt;/p&gt;</comment>
                            <comment id="12699846" author="mahadev" created="Thu, 16 Apr 2009 21:28:45 +0100"  >&lt;p&gt;I just committed this. thanks pat.&lt;/p&gt;</comment>
                            <comment id="12700157" author="hudson" created="Fri, 17 Apr 2009 13:41:10 +0100"  >&lt;p&gt;Integrated in ZooKeeper-trunk #283 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/ZooKeeper-trunk/283/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/ZooKeeper-trunk/283/&lt;/a&gt;)&lt;br/&gt;
    . Uninitialized struct variable in C causes warning which is treated as an error (phunt via mahadev)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12405500" name="ZOOKEEPER-374.patch" size="3314" author="phunt" created="Wed, 15 Apr 2009 06:38:41 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 10 Apr 2009 15:47:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>47864</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxzvn3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33110</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>