<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:48:55 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/ZOOKEEPER-33/ZOOKEEPER-33.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[ZOOKEEPER-33] Better ACL management</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-33</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;Moved from SourceForge to Apache.&lt;br/&gt;
&lt;a href=&quot;http://sourceforge.net/tracker/index.php?func=detail&amp;amp;aid=1945175&amp;amp;group_id=209147&amp;amp;atid=1008547&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://sourceforge.net/tracker/index.php?func=detail&amp;amp;aid=1945175&amp;amp;group_id=209147&amp;amp;atid=1008547&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12397998">ZOOKEEPER-33</key>
            <summary>Better ACL management</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mahadev">Mahadev konar</assignee>
                                    <reporter username="phunt">Patrick Hunt</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Jun 2008 23:34:27 +0100</created>
                <updated>Wed, 7 Sep 2011 15:49:25 +0100</updated>
                            <resolved>Tue, 14 Oct 2008 18:48:22 +0100</resolved>
                                                    <fixVersion>3.0.0</fixVersion>
                                    <component>server</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12637280" author="mahadev" created="Mon, 6 Oct 2008 23:24:34 +0100"  >&lt;p&gt;here is a patch for this issue. its a preliminray patch. I will be adding tests. &lt;/p&gt;

&lt;p&gt;The patch does the following:&lt;/p&gt;

&lt;p&gt;has a mapping from long to acls in the datatree &lt;br/&gt;
each datanode has a reference to acls. &lt;/p&gt;

&lt;p&gt;this only impacts the serialization and deserialization of acls on the datatree. &lt;/p&gt;</comment>
                            <comment id="12637686" author="mahadev" created="Tue, 7 Oct 2008 23:31:06 +0100"  >&lt;p&gt;this is a patch that includes the tests for this jira. The jira includes &lt;/p&gt;

&lt;p&gt;1) create a map from long to acl and acl to long in the datatree&lt;br/&gt;
2) serialize the maps to the snapshots&lt;br/&gt;
3) change the datanodes to now have a reference to the acl maps ( storing longs instead of the acls)&lt;br/&gt;
4) the tests check to see if the acl map works correctly &amp;#8211; storing only a single copy of equal acls and also tests to see if the acl map works after a server is shutdown adn then brought up back again...&lt;/p&gt;</comment>
                            <comment id="12638069" author="mahadev" created="Wed, 8 Oct 2008 21:40:08 +0100"  >&lt;p&gt;attaching a new patch. The last patch went stale with checking in of &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-8&quot; title=&quot;Stat enchaned to include num of children and size&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-8&quot;&gt;&lt;del&gt;ZOOKEEPER-8&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="12638666" author="breed" created="Fri, 10 Oct 2008 23:42:52 +0100"  >&lt;p&gt;-1 I like the patch, but there are just a couple of things that need fixing:&lt;/p&gt;

&lt;p&gt;1) The mapping should be between # and ArrayList&amp;lt;ACL&amp;gt; rather than # and ACL. I think it further simplifies things and will make serialization/deserialization go even faster. convertACLs should return a long for example.&lt;/p&gt;

&lt;p&gt;2) When you serialize the # to ACL map and the ACL to # map, you only need to serialize once. I would serialize the # to ACL map. When you deserialize you can rebuild the ACL to # map at the same time since they have the same information.&lt;/p&gt;</comment>
                            <comment id="12639176" author="mahadev" created="Mon, 13 Oct 2008 20:26:56 +0100"  >&lt;p&gt;this pathc addesses the issues pouinted out by ben..&lt;br/&gt;
ben can you take a look again?&lt;/p&gt;</comment>
                            <comment id="12639262" author="mahadev" created="Tue, 14 Oct 2008 01:53:06 +0100"  >&lt;p&gt;fixed a bug in the old patch &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;... the old patch overrides acls after deserializing the acls from the datatrree. I just reassigned the index number of acls maps to the deserialized maximum long from the map.&lt;/p&gt;</comment>
                            <comment id="12639277" author="mahadev" created="Tue, 14 Oct 2008 02:57:19 +0100"  >&lt;p&gt;just to make sure the patch uploaded at 5:53 pm is the latest one... the jira does not show it as the last patch... &lt;/p&gt;</comment>
                            <comment id="12639278" author="mahadev" created="Tue, 14 Oct 2008 02:59:36 +0100"  >&lt;p&gt;forgot to add the test... &lt;/p&gt;</comment>
                            <comment id="12639279" author="mahadev" created="Tue, 14 Oct 2008 03:00:09 +0100"  >&lt;p&gt;the patch uploaded at  06:59 PM is the latest now &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; ... &lt;/p&gt;</comment>
                            <comment id="12639284" author="breed" created="Tue, 14 Oct 2008 03:46:32 +0100"  >&lt;p&gt;-1 Sorry Mahadev, two small issues (one is super trivial &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;1) convertLongs should be called covertLong since there is only a single Long being converted&lt;br/&gt;
2) convertAcls should use a Map&amp;lt;List&amp;lt;ACL&amp;gt;, Long&amp;gt; to convert an ACL list to a long, otherwise that could become an expensive method when more than a few different ACLs are used. Note, that Map does not need to be serialized and can be deserialized with the Map&amp;lt;Long,List&amp;lt;ACL&amp;gt;&amp;gt;&lt;/p&gt;</comment>
                            <comment id="12639288" author="mahadev" created="Tue, 14 Oct 2008 04:50:08 +0100"  >&lt;p&gt;attaching the patch with ben&apos;s comments .... &lt;br/&gt;
1) fixed&lt;br/&gt;
2) fixed&lt;/p&gt;
</comment>
                            <comment id="12639425" author="breed" created="Tue, 14 Oct 2008 14:52:51 +0100"  >&lt;p&gt;+1 Great job! Thanx Mahadev. Please fix one tiny thing before you commit (you don&apos;t need to do another patch): the comment of aclIndex should be &quot;the number of acls that we have in the datatree&quot; rather than &quot;the max number of acls&quot;. Right? The latter sounds like an upper bound to the number of acls you can have. &lt;/p&gt;

&lt;p&gt;(I would have committed the patch, but you didn&apos;t submit it &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12639505" author="mahadev" created="Tue, 14 Oct 2008 18:45:58 +0100"  >&lt;p&gt;changed the comment... thanks for the review ben... &lt;/p&gt;</comment>
                            <comment id="12639507" author="mahadev" created="Tue, 14 Oct 2008 18:48:22 +0100"  >&lt;p&gt;I just committed this.&lt;/p&gt;</comment>
                            <comment id="12639802" author="hudson" created="Wed, 15 Oct 2008 11:53:32 +0100"  >&lt;p&gt;Integrated in ZooKeeper-trunk #114 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/ZooKeeper-trunk/114/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/ZooKeeper-trunk/114/&lt;/a&gt;)&lt;br/&gt;
    . Better ACL management (Mahadev Konar)&lt;/p&gt;</comment>
                            <comment id="12642680" author="phunt" created="Sun, 26 Oct 2008 01:10:37 +0000"  >&lt;p&gt;3.0.0 has been released, closing issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12521598">ZOOKEEPER-1173</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12392113" name="ZOOKEEPER-33.patch" size="22618" author="mahadev" created="Tue, 14 Oct 2008 18:45:58 +0100"/>
                            <attachment id="12392060" name="ZOOKEEPER-33.patch" size="22626" author="mahadev" created="Tue, 14 Oct 2008 04:50:08 +0100"/>
                            <attachment id="12392057" name="ZOOKEEPER-33.patch" size="22588" author="mahadev" created="Tue, 14 Oct 2008 02:59:36 +0100"/>
                            <attachment id="12392051" name="ZOOKEEPER-33.patch" size="16154" author="mahadev" created="Tue, 14 Oct 2008 01:53:06 +0100"/>
                            <attachment id="12392030" name="ZOOKEEPER-33.patch" size="16059" author="mahadev" created="Mon, 13 Oct 2008 20:26:56 +0100"/>
                            <attachment id="12391773" name="ZOOKEEPER-33.patch" size="23454" author="mahadev" created="Wed, 8 Oct 2008 21:40:08 +0100"/>
                            <attachment id="12391680" name="ZOOKEEPER-33.patch" size="23750" author="mahadev" created="Tue, 7 Oct 2008 23:31:06 +0100"/>
                            <attachment id="12391586" name="ZOOKEEPER-33.patch" size="15567" author="mahadev" created="Mon, 6 Oct 2008 23:24:34 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 6 Oct 2008 22:24:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48097</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10342"><![CDATA[Incompatible change]]></customfieldvalue>
    <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxzysv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33622</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>