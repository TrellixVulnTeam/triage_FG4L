<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:48:00 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/ZOOKEEPER-1355/ZOOKEEPER-1355.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[ZOOKEEPER-1355] Add zk.updateServerList(newServerList) </title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-1355</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;When the set of servers changes, we would like to update the server list stored by clients without restarting the clients.&lt;br/&gt;
Moreover, assuming that the number of clients per server is the same (in expectation) in the old configuration (as guaranteed by the current list shuffling for example), we would like to re-balance client connections across the new set of servers in a way that a) the number of clients per server is the same for all servers (in expectation) and b) there is no excessive/unnecessary client migration.&lt;/p&gt;

&lt;p&gt;It is simple to achieve (a) without (b) - just re-shuffle the new list of servers at every client. But this would create unnecessary migration, which we&apos;d like to avoid.&lt;/p&gt;

&lt;p&gt;We propose a simple probabilistic migration scheme that achieves (a) and (b) - each client locally decides whether and where to migrate when the list of servers changes. The attached document describes the scheme and shows an evaluation of it in Zookeeper. We also implemented re-balancing through a consistent-hashing scheme and show a comparison. We derived the probabilistic migration rules from a simple formula that we can also provide, if someone&apos;s interested in the proof.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12537824">ZOOKEEPER-1355</key>
            <summary>Add zk.updateServerList(newServerList) </summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="shralex">Alexander Shraer</assignee>
                                    <reporter username="shralex">Alexander Shraer</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 Jan 2012 22:16:15 +0000</created>
                <updated>Thu, 2 May 2013 03:30:58 +0100</updated>
                            <resolved>Sat, 17 Nov 2012 14:03:36 +0000</resolved>
                                                    <fixVersion>3.5.0</fixVersion>
                                    <component>c client</component>
                    <component>java client</component>
                        <due></due>
                            <votes>3</votes>
                                    <watches>12</watches>
                                                                <comments>
                            <comment id="13183542" author="hadoopqa" created="Tue, 10 Jan 2012 20:32:02 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12510089/ZOOOKEEPER-1355.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12510089/ZOOOKEEPER-1355.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1227927.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/895//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/895//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/895//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/895//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/895//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/895//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13183635" author="hadoopqa" created="Tue, 10 Jan 2012 22:12:08 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12510108/ZOOOKEEPER-1355-ver1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12510108/ZOOOKEEPER-1355-ver1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1227927.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/896//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/896//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/896//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/896//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/896//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/896//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13183722" author="hadoopqa" created="Tue, 10 Jan 2012 23:52:10 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12510121/ZOOOKEEPER-1355-test.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12510121/ZOOOKEEPER-1355-test.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1227927.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/897//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/897//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/897//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/897//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/897//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/897//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13183833" author="hadoopqa" created="Wed, 11 Jan 2012 03:26:17 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12510149/ZOOKEEPER-1355-ver2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12510149/ZOOKEEPER-1355-ver2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1227927.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/898//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/898//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/898//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/898//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/898//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/898//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13184245" author="breed" created="Wed, 11 Jan 2012 18:10:59 +0000"  >&lt;p&gt;this looks really good! i have a couple of requests and something to think about:&lt;/p&gt;

&lt;p&gt;1) you need to use spaces rather than tabs. you have a bunch of tabs in the patch. (there is a setting in eclipse to do tabs rather than spaces)&lt;br/&gt;
2) it would be nice in updateList to comment about the overall strategy for determining the return code&lt;br/&gt;
3) can you add a comment to &quot;(currentIndex &amp;gt;= serverAddresses.size())&quot; to say why &amp;gt;= is needed? i think i see it in the context of this patch, but later people might be tempted to change it back to ==&lt;/p&gt;

&lt;p&gt;something to think about: on the updateServerList method, perhaps rather than making the second parameter a boolean we can make it the InetSocketAddress of the currently connected server. what do you think? i don&apos;t feel strongly about it.&lt;/p&gt;</comment>
                            <comment id="13184350" author="shralex" created="Wed, 11 Jan 2012 20:22:13 +0000"  >&lt;p&gt;Thanks, Ben.&lt;/p&gt;

&lt;p&gt;I posted an updated patch that addresses all your comments. I don&apos;t remember why I changed the == to &amp;gt;=, seems unneeded as I set currentIndex to -1 with each update (perhaps this stuck from an earlier version of the code). Anyway I removed this change.&lt;/p&gt;</comment>
                            <comment id="13184375" author="hadoopqa" created="Wed, 11 Jan 2012 20:46:01 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12510231/ZOOKEEPER%3D1355-ver3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12510231/ZOOKEEPER%3D1355-ver3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1227927.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/899//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/899//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/899//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/899//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/899//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/899//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13187349" author="shralex" created="Tue, 17 Jan 2012 01:03:54 +0000"  >&lt;p&gt;some more details added to the design document. &lt;/p&gt;

&lt;p&gt;Would be great if more committers comment on this patch.&lt;/p&gt;

&lt;p&gt;thanks a lot,&lt;br/&gt;
alex&lt;/p&gt;</comment>
                            <comment id="13187353" author="hadoopqa" created="Tue, 17 Jan 2012 01:11:57 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12510782/loadbalancing-more-details.pdf&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12510782/loadbalancing-more-details.pdf&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1231809.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/908//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/908//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13189553" author="breed" created="Fri, 20 Jan 2012 00:59:35 +0000"  >&lt;p&gt;can you freshen the patch alex?&lt;/p&gt;</comment>
                            <comment id="13190205" author="breed" created="Sat, 21 Jan 2012 00:02:02 +0000"  >&lt;p&gt;ah duh, sorry alex, that was the pdf.&lt;/p&gt;

&lt;p&gt;ok, a couple more things:&lt;/p&gt;

&lt;p&gt;1) can you fix the indentation of watchmanager in zookeeper.java&lt;br/&gt;
2) nextInReconfig needs to be private and a function comment just to explain why &quot;InReconfig&quot; is different&lt;br/&gt;
3) updateServerList needs to be thread safe. with this call there are fields: serverList, reconfig, and indices that are being accessed by the connection thread and the thread calling updateServerList.&lt;/p&gt;</comment>
                            <comment id="13191712" author="shralex" created="Tue, 24 Jan 2012 01:05:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1355&quot; title=&quot;Add zk.updateServerList(newServerList) &quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1355&quot;&gt;&lt;del&gt;ZOOKEEPER-1355&lt;/del&gt;&lt;/a&gt;-ver4.patch addresses Ben&apos;s comments. The synchronization now allows multiple threads updating the server list and another single thread trying to connect (calling next) as before.&lt;/p&gt;</comment>
                            <comment id="13191802" author="hadoopqa" created="Tue, 24 Jan 2012 01:37:22 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12511608/ZOOKEEPER-1355-ver4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12511608/ZOOKEEPER-1355-ver4.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1234974.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 1 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/914//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/914//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/914//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/914//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/914//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/914//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13191826" author="hadoopqa" created="Tue, 24 Jan 2012 02:17:28 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12511612/ZOOKEEPER-1355-ver5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12511612/ZOOKEEPER-1355-ver5.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1234974.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/915//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/915//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/915//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/915//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/915//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/915//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13193561" author="breed" created="Thu, 26 Jan 2012 05:42:05 +0000"  >&lt;p&gt;+1 i think this is ready to commit. any objections?&lt;/p&gt;</comment>
                            <comment id="13193576" author="mahadev" created="Thu, 26 Jan 2012 05:59:30 +0000"  >&lt;p&gt;Ben,&lt;br/&gt;
 I was taking a look at it. Mind waiting till tomm? &lt;/p&gt;</comment>
                            <comment id="13193583" author="mahadev" created="Thu, 26 Jan 2012 06:15:25 +0000"  >&lt;p&gt;Ben/Alex,&lt;br/&gt;
 This adds 2 public api to zookeeper handle (java). Is this intended? What the intent of getCurrentHost? &lt;/p&gt;

&lt;p&gt;Also, I looked at the pdf (which scares me a little - hate looking at all the math symbols &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;). Can you please explain in layman terms what the process for the client to select the server to connect to? What if the server list is incorrect, what happens then? &lt;/p&gt;</comment>
                            <comment id="13193586" author="mahadev" created="Thu, 26 Jan 2012 06:17:43 +0000"  >&lt;p&gt;One more thing, what about the c client? Will we be seeing similar changes to c client? I&apos;d very much like to keep both of them in sync if possible. We are already a little different given the security patches.&lt;/p&gt;</comment>
                            <comment id="13193591" author="phunt" created="Thu, 26 Jan 2012 06:42:47 +0000"  >&lt;p&gt;Good points Mahadev.&lt;/p&gt;

&lt;p&gt;I don&apos;t see any documentation in the guides - we should provide some information there as well for users.&lt;/p&gt;

&lt;p&gt;updateServerList is missing javadoc&lt;/p&gt;

&lt;p&gt;also getCurrentHost (also missing javadoc) is pretty ambiguous name. In the past we haven&apos;t wanted to expose the remote server details to the client.&lt;/p&gt;

&lt;p&gt;how is getCurrentHost different from testableRemoteSocketAddress ?&lt;/p&gt;</comment>
                            <comment id="13193999" author="breed" created="Thu, 26 Jan 2012 17:20:41 +0000"  >&lt;p&gt;i&apos;ll let alex provide a better answer, but just to test my understanding:&lt;/p&gt;

&lt;p&gt;the scary math symbols boil down to a simple set of 4 rules for maintaining balanced load when the serverList changes. (the rules are at the end of the document) if you try to do something naive, like randomly disconnecting from the server you are connecting to, it will cause lots of reconnects and you still will end up with imbalanced load. it all boils down to four simple rules for determining when to disconnect from your current host. the math is just there so that it is clear that it wasn&apos;t pulled from thin air.&lt;/p&gt;

&lt;p&gt;as far as the public api. we have to add the updateServerList since that is the whole point of the bug. i have no strong feelings about getCurrentHost() in terms of the name or making it public. it is only different from testableRemoteSocketAddress in the sense that testableRemoteSocketAddress says that it should only be used for testing in the javadoc. alex should add javadoc to those two methods.&lt;/p&gt;

&lt;p&gt;i agree that we should also get a C client. alex are you willing to do that? can we do it in a separate jira?&lt;/p&gt;</comment>
                            <comment id="13194137" author="shralex" created="Thu, 26 Jan 2012 19:53:34 +0000"  >&lt;p&gt;Hi, thanks for the comments!! I removed getCurrentHost, added a JavaDoc for updateServerList, and a paragraph to the documentation.&lt;/p&gt;

&lt;p&gt;I can do the C client changes (although, after looking at the code, this scares me a bit &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; ) sometime next week or the following one. &lt;br/&gt;
I also prefer this to be in a separate Jira.&lt;/p&gt;

&lt;p&gt;To clarify the rules some more, let me give you a few examples (this also appears in different levels of details in the javadoc and documentation I added to the code). &lt;/p&gt;

&lt;p&gt;First, in case the current host to which the client is connected is not in the new list&lt;br/&gt;
updateServerList will always cause the connection to be dropped. Otherwise, the decision is based on whether the number of servers has increased or decreased and by how much.&lt;/p&gt;

&lt;p&gt;Suppose that the previous connection string contained 3 hosts and now the list contains these 3 hosts and 2 more hosts, 40% of clients connected to each of the 3 hosts will move to one of the new hosts in order to balance the load. The algorithm will cause the client &lt;br/&gt;
to drop its connection to the current host to which it is connected with probability 0.4 (= 1 - 3/5, rule 1) &lt;br/&gt;
and in this case cause the client to connect to one of the 2 new hosts, chosen at random. &lt;/p&gt;

&lt;p&gt;Another example - suppose we have 5 hosts and now update the list to remove 2 of the hosts, the clients&lt;br/&gt;
connected to the 3 remaining hosts will stay connected (rule 3), whereas all clients connected to the 2 removed hosts&lt;br/&gt;
will need to move to one of the 3 hosts, chosen at random. In this case, the formula in rule 4 simply gives 1 (3(5-3)/(3*2)) &lt;br/&gt;
since no new servers were added, so clients connected to the removed hosts have no choice but connecting to the 3 old servers.&lt;br/&gt;
These rules also take into account the case where servers are both added and removed at the same time, and that&apos;s why rule&lt;br/&gt;
4 doesn&apos;t always give probability 1.&lt;/p&gt;

&lt;p&gt;If the connection is dropped, the client moves to a special mode where he chooses a new server to connect to using the                         &lt;br/&gt;
probabilistic algorithm, and not jus round robin. In the first example, each client decides to disconnect from the current host with&lt;br/&gt;
probability 0.4 but once the decision is made, it will try to connect to a random NEW server and only if it cannot connect &lt;br/&gt;
to any of the new servers will it try to connect to the old ones. &lt;/p&gt;

&lt;p&gt;After finding a server, or trying all servers in the new list and failing to connect, the client moves back to the normal &lt;br/&gt;
mode of operation where it will pick an arbitrary server from the connectString and attempt to connect to it. &lt;/p&gt;</comment>
                            <comment id="13194165" author="hadoopqa" created="Thu, 26 Jan 2012 20:24:20 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12512026/ZOOKEEPER-1355-ver6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12512026/ZOOKEEPER-1355-ver6.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1234974.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated 8 warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/921//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/921//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/921//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/921//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/921//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/921//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13194171" author="shralex" created="Thu, 26 Jan 2012 20:32:32 +0000"  >&lt;p&gt;I believe that this hits &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1357&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/ZOOKEEPER-1357&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13194217" author="hadoopqa" created="Thu, 26 Jan 2012 21:57:33 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12512037/ZOOKEEPER-1355-ver7.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12512037/ZOOKEEPER-1355-ver7.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1234974.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/922//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/922//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/922//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/922//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/922//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/922//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13194223" author="shralex" created="Thu, 26 Jan 2012 22:08:11 +0000"  >&lt;p&gt;added a fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1357&quot; title=&quot;Zab1_0Test uses hard-wired port numbers. Specifically, it uses the same port for leader in two different tests. The second test periodically fails complaining that the port is still in use.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1357&quot;&gt;&lt;del&gt;ZOOKEEPER-1357&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13194230" author="hadoopqa" created="Thu, 26 Jan 2012 22:37:17 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12512043/ZOOKEEPER-1355-ver8.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12512043/ZOOKEEPER-1355-ver8.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1234974.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/923//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/923//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/923//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/923//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/923//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/923//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13194293" author="phunt" created="Thu, 26 Jan 2012 23:52:26 +0000"  >&lt;blockquote&gt;&lt;p&gt;I also prefer this &lt;span class=&quot;error&quot;&gt;&amp;#91;c client changes&amp;#93;&lt;/span&gt; to be in a separate Jira.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;separate jira is fine. but I&apos;d like to see both java and c committed at the same time.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;To clarify the rules some more ....&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I also see you updated the docs which is great. I couldn&apos;t tell - is all the salient detail in your comments (&quot;To clarify the rules some more ...&quot;) captured in the guide update? Great it&apos;s documented here, but in the guide is the more useful going fwd.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="13194298" author="shralex" created="Fri, 27 Jan 2012 00:01:03 +0000"  >&lt;p&gt;&amp;gt; I also see you updated the docs which is great. I couldn&apos;t tell - is all the salient &amp;gt; detail in your comments (&quot;To clarify the rules some more ...&quot;) captured in the guide &amp;gt; update? Great it&apos;s documented here, but in the guide is the more useful going fwd.&lt;/p&gt;

&lt;p&gt;Yes, however the pdf in this jira is really what someone would want to read to understand the algorithm. Can we put it somewhere and reference to it from the docs ?&lt;/p&gt;</comment>
                            <comment id="13194308" author="phunt" created="Fri, 27 Jan 2012 00:16:40 +0000"  >&lt;p&gt;I think having that as a link would be useful. You could attach it on the CWIKI and put a link to that. Given it&apos;s a pdf it&apos;s going to be hard to make modifications going fwd though. Not sure if that can be helped but if it&apos;s an attachment on the wiki we could at least capture notes/changes there.&lt;/p&gt;</comment>
                            <comment id="13194313" author="shralex" created="Fri, 27 Jan 2012 00:20:00 +0000"  >&lt;p&gt;ok. thanks!&lt;/p&gt;</comment>
                            <comment id="13202850" author="breed" created="Tue, 7 Feb 2012 21:59:13 +0000"  >&lt;p&gt;mahadev, pat any more concerns or is this ready to go?&lt;/p&gt;</comment>
                            <comment id="13217018" author="shralex" created="Mon, 27 Feb 2012 03:51:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1355&quot; title=&quot;Add zk.updateServerList(newServerList) &quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1355&quot;&gt;&lt;del&gt;ZOOKEEPER-1355&lt;/del&gt;&lt;/a&gt;-ver9 applies for zookeeper-3.4.3 and trunk and fixes issues raised on review-board &lt;a href=&quot;https://reviews.apache.org/r/3781&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3781&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13217027" author="hadoopqa" created="Mon, 27 Feb 2012 04:28:00 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12516134/ZOOKEEPER-1355-ver9.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12516134/ZOOKEEPER-1355-ver9.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1294000.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 javadoc.  The javadoc tool appears to have generated 8 warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/962//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/962//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/962//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/962//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/962//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/962//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13217031" author="shralex" created="Mon, 27 Feb 2012 04:51:17 +0000"  >&lt;p&gt;small javadoc fix. see comment for &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1355&quot; title=&quot;Add zk.updateServerList(newServerList) &quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1355&quot;&gt;&lt;del&gt;ZOOKEEPER-1355&lt;/del&gt;&lt;/a&gt;-ver9.patch&lt;/p&gt;</comment>
                            <comment id="13217048" author="hadoopqa" created="Mon, 27 Feb 2012 05:27:19 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12516137/ZOOKEEPER-1355-ver9-1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12516137/ZOOKEEPER-1355-ver9-1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1294000.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/963//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/963//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/963//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/963//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/963//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/963//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13227283" author="markrmiller@gmail.com" created="Mon, 12 Mar 2012 01:19:17 +0000"  >&lt;p&gt;Looks like this narrowly missed 3.5?&lt;/p&gt;</comment>
                            <comment id="13227309" author="marshall" created="Mon, 12 Mar 2012 04:06:57 +0000"  >&lt;p&gt;FYI, I&apos;ve written the C client code to support this feature.&lt;/p&gt;

&lt;p&gt;I&apos;ve also added a bunch of tests to verify the load balancing aspect of it works correctly. One unit test is currently causing me some issues. But I intent to upload an updated patch later this evening that will include all of Alex&apos;s original changes as well as the changes to the C client.&lt;/p&gt;</comment>
                            <comment id="13227613" author="marshall" created="Mon, 12 Mar 2012 15:35:42 +0000"  >&lt;p&gt;Uploading a newer version of the patch to include the changes to the C code to support this feature.&lt;/p&gt;</comment>
                            <comment id="13227616" author="marshall" created="Mon, 12 Mar 2012 15:37:32 +0000"  >&lt;p&gt;Uploading &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1355&quot; title=&quot;Add zk.updateServerList(newServerList) &quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1355&quot;&gt;&lt;del&gt;ZOOKEEPER-1355&lt;/del&gt;&lt;/a&gt;-ver10.patch.&lt;/p&gt;

&lt;p&gt;This includes all the code that was in &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1355&quot; title=&quot;Add zk.updateServerList(newServerList) &quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1355&quot;&gt;&lt;del&gt;ZOOKEEPER-1355&lt;/del&gt;&lt;/a&gt;-ver9-1.patch as well as all the C code to support this feature.&lt;/p&gt;</comment>
                            <comment id="13227618" author="marshall" created="Mon, 12 Mar 2012 15:38:05 +0000"  >&lt;p&gt;Uploading &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1355&quot; title=&quot;Add zk.updateServerList(newServerList) &quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1355&quot;&gt;&lt;del&gt;ZOOKEEPER-1355&lt;/del&gt;&lt;/a&gt;-ver10.patch.&lt;/p&gt;

&lt;p&gt;This includes all the code that was in &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1355&quot; title=&quot;Add zk.updateServerList(newServerList) &quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1355&quot;&gt;&lt;del&gt;ZOOKEEPER-1355&lt;/del&gt;&lt;/a&gt;-ver9-1.patch as well as all the C code to support this feature.&lt;/p&gt;</comment>
                            <comment id="13227640" author="hadoopqa" created="Mon, 12 Mar 2012 16:08:16 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12518035/ZOOKEEPER-1355-ver10.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12518035/ZOOKEEPER-1355-ver10.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1297740.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 31 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/987//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/987//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/987//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/987//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/987//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/987//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13227651" author="marshall" created="Mon, 12 Mar 2012 16:18:33 +0000"  >&lt;p&gt;Uploading a newer version with a few more minor fixes.&lt;/p&gt;</comment>
                            <comment id="13227657" author="marshall" created="Mon, 12 Mar 2012 16:23:22 +0000"  >&lt;p&gt;Newer version has a couple fixes:&lt;/p&gt;

&lt;p&gt;1. Force disconnect if server set reconfig causes the server we&apos;re connected to to no longer be in list.&lt;/p&gt;

&lt;p&gt;2. More intelligent timeout if we&apos;ve tried all the servers so we don&apos;t spin.&lt;/p&gt;</comment>
                            <comment id="13227666" author="marshall" created="Mon, 12 Mar 2012 16:34:38 +0000"  >&lt;p&gt;Bug fix in C code. Need to update_addrs before checking if *fd == -1 else won&apos;t seek new connection after being forcibly disconnected due to server reconfig.&lt;/p&gt;</comment>
                            <comment id="13227689" author="hadoopqa" created="Mon, 12 Mar 2012 17:05:38 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12518043/ZOOKEEPER-1355-ver10-2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12518043/ZOOKEEPER-1355-ver10-2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1297740.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 31 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/988//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/988//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/988//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/988//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/988//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/988//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13227700" author="marshall" created="Mon, 12 Mar 2012 17:16:33 +0000"  >&lt;p&gt;I see my latest change broke existing core C tests.&lt;/p&gt;

&lt;p&gt;I&apos;ll upload a new version.&lt;/p&gt;</comment>
                            <comment id="13227705" author="marshall" created="Mon, 12 Mar 2012 17:20:14 +0000"  >&lt;p&gt;last change broke the tests. Canceling patch state.&lt;/p&gt;</comment>
                            <comment id="13227712" author="marshall" created="Mon, 12 Mar 2012 17:27:42 +0000"  >&lt;p&gt;Disabling the forced disconnect on server reconfig as it&apos;s causing grief on first connect and causing other tests to fail.&lt;/p&gt;

&lt;p&gt;Need to handle first connect more intelligently but don&apos;t have time to get to this today. &lt;/p&gt;

&lt;p&gt;Uploading a fixed version so unit tests will pass.&lt;/p&gt;

&lt;p&gt;Will upload an improved version tomorrow that deals with first connection properly.&lt;/p&gt;</comment>
                            <comment id="13227714" author="marshall" created="Mon, 12 Mar 2012 17:30:01 +0000"  >&lt;p&gt;Fixing mismerge on the last patch.&lt;/p&gt;</comment>
                            <comment id="13227735" author="hadoopqa" created="Mon, 12 Mar 2012 18:18:19 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12518053/ZOOKEEPER-1355-ver10-4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12518053/ZOOKEEPER-1355-ver10-4.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1297740.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 31 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/989//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/989//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/989//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/989//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/989//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/989//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13228825" author="marshall" created="Wed, 14 Mar 2012 00:05:53 +0000"  >&lt;p&gt;Uploading a new version that fixes the C code to properly force a disconnect if the list of servers is modified and the host we were connected to is not in the list anymore.&lt;/p&gt;</comment>
                            <comment id="13228830" author="marshall" created="Wed, 14 Mar 2012 00:08:18 +0000"  >&lt;p&gt;Current C tests all pass except for a couple that wait for disconnected state. Didn&apos;t have time to sort these out today. Will try to get to that this evening or tomorrow, then I&apos;ll upload a new patch.&lt;/p&gt;

&lt;p&gt;Will also be adding some more rigorous tests now that I know more about how I can test this more thoroughly.&lt;/p&gt;</comment>
                            <comment id="13240028" author="marshall" created="Tue, 27 Mar 2012 23:55:15 +0100"  >&lt;p&gt;This version fixes the core unit tests that were failing. &lt;/p&gt;

&lt;p&gt;All tests pass locally for me now.&lt;/p&gt;</comment>
                            <comment id="13240054" author="hadoopqa" created="Wed, 28 Mar 2012 00:26:56 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12520208/ZOOKEEPER-1355-ver11.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12520208/ZOOKEEPER-1355-ver11.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1302736.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 34 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1016//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1016//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1016//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1016//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1016//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1016//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13240118" author="marshall" created="Wed, 28 Mar 2012 03:29:50 +0100"  >&lt;p&gt;Alex, looks like only one unit test failure &amp;#8211; on the Java unit test side. So it can&apos;t be related to the C changes I made.&lt;/p&gt;

&lt;p&gt;Can you take a look when you get time?&lt;/p&gt;

&lt;p&gt;Also, no one has reviewed my proposed C changes so would be good to start getting some eyes on it.&lt;/p&gt;

&lt;p&gt;Note I added a new addrvec (address vector) data structure to make it easier to manage and manipulate the 3 different list of addresses (current, joining, leaving).&lt;/p&gt;</comment>
                            <comment id="13240984" author="shralex" created="Thu, 29 Mar 2012 06:23:04 +0100"  >&lt;p&gt;Thanks Marshall! the failing test seems to be the one addressed in &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1433&quot; title=&quot;improve ZxidRolloverTest (test seems flakey)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1433&quot;&gt;&lt;del&gt;ZOOKEEPER-1433&lt;/del&gt;&lt;/a&gt;. &lt;/p&gt;</comment>
                            <comment id="13243016" author="marshall" created="Sat, 31 Mar 2012 06:03:07 +0100"  >&lt;p&gt;Minor bugfix in count_hosts in case an empty string is passed in.&lt;/p&gt;</comment>
                            <comment id="13243017" author="marshall" created="Sat, 31 Mar 2012 06:05:53 +0100"  >&lt;p&gt;Minor bug fix for count_hosts in case an empty string is passed in.&lt;/p&gt;</comment>
                            <comment id="13243029" author="hadoopqa" created="Sat, 31 Mar 2012 06:39:45 +0100"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12520766/ZOOKEEPER-1355-ver11-1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12520766/ZOOKEEPER-1355-ver11-1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1307644.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 34 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1025//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1025//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1025//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1025//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1025//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1025//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13243032" author="marshall" created="Sat, 31 Mar 2012 06:44:04 +0100"  >&lt;p&gt;I posted this latest patch on review board: &lt;a href=&quot;https://reviews.apache.org/r/4596/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/4596/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13243211" author="fpj" created="Sat, 31 Mar 2012 17:24:06 +0100"  >&lt;p&gt;I&apos;m reviewing this one.&lt;/p&gt;</comment>
                            <comment id="13246175" author="fpj" created="Wed, 4 Apr 2012 12:15:21 +0100"  >&lt;p&gt;There are currently two separate reviews on the review board for this jira, one by Alex and one by Marshall. It would be great if we could keep one review request and update it with new revisions. And, just so that the comments from review board are recorded in the jira, please make sure to update the bugs field with the jira number.&lt;/p&gt;

&lt;p&gt;I have also already reviewed the java part of this patch, but I don&apos;t see any of my previous comments reflected. &lt;/p&gt;

&lt;p&gt;Could you guys please fix all these? &lt;/p&gt;</comment>
                            <comment id="13246415" author="shralex" created="Wed, 4 Apr 2012 17:11:42 +0100"  >&lt;p&gt;Done. I updated the new patch in &lt;a href=&quot;https://reviews.apache.org/r/3781/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3781/&lt;/a&gt; and answered the previous comments &lt;/p&gt;</comment>
                            <comment id="13276281" author="marshall" created="Tue, 15 May 2012 23:19:59 +0100"  >&lt;p&gt;Updated C code only to fix some unsafe locking around the server list and to properly throttle reconnect logic when we&apos;ve tried all the servers in the server list unsuccessfully.&lt;/p&gt;</comment>
                            <comment id="13276284" author="hadoopqa" created="Tue, 15 May 2012 23:22:12 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12527533/ZOOKEEPER-1355-ver12.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12527533/ZOOKEEPER-1355-ver12.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1337029.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 34 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1073//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1073//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13276292" author="marshall" created="Tue, 15 May 2012 23:28:49 +0100"  >&lt;p&gt;Changes to trunk since this patch was originally built.&lt;/p&gt;</comment>
                            <comment id="13276295" author="hadoopqa" created="Tue, 15 May 2012 23:32:09 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12527535/ZOOKEEPER-1355-ver12-1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12527535/ZOOKEEPER-1355-ver12-1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1337029.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 34 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1074//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1074//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13276312" author="marshall" created="Tue, 15 May 2012 23:56:39 +0100"  >&lt;p&gt;This one should apply to tip of trunk cleanly.&lt;/p&gt;</comment>
                            <comment id="13276314" author="marshall" created="Tue, 15 May 2012 23:58:49 +0100"  >&lt;p&gt;This one should apply cleanly to tip of trunk.&lt;/p&gt;</comment>
                            <comment id="13276328" author="hadoopqa" created="Wed, 16 May 2012 00:25:49 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12527539/ZOOKEEPER-1355-ver12-2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12527539/ZOOKEEPER-1355-ver12-2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1337029.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 34 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1075//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1075//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1075//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1075//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1075//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1075//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13277233" author="marshall" created="Wed, 16 May 2012 23:56:38 +0100"  >&lt;p&gt;Updated to work correctly against tip of trunk. All unit tests should pass now.&lt;/p&gt;</comment>
                            <comment id="13277238" author="hadoopqa" created="Thu, 17 May 2012 00:02:11 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12527735/ZOOKEEPER-1355-ver12-4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12527735/ZOOKEEPER-1355-ver12-4.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1337029.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 34 new or modified tests.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1077//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1077//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13277270" author="marshall" created="Thu, 17 May 2012 00:53:40 +0100"  >&lt;p&gt;Bad patch last time, my apologies.&lt;/p&gt;

&lt;p&gt;Bumped the version on this one to 13 to avoid confusion.&lt;/p&gt;</comment>
                            <comment id="13277285" author="hadoopqa" created="Thu, 17 May 2012 01:30:17 +0100"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12527742/ZOOKEEPER-1355-ver13.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12527742/ZOOKEEPER-1355-ver13.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1337029.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 34 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1078//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1078//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1078//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1078//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1078//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1078//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13277532" author="ekoontz" created="Thu, 17 May 2012 04:43:54 +0100"  >&lt;p&gt;Typo in src/docs/src/documentation/content/xdocs/zookeeperProgrammers.xml: &quot;jus&quot; should be &quot;just&quot;.&lt;/p&gt;

&lt;p&gt;The documentation is good - perhaps it could make reference in the source code to where the client&apos;s server-selection logic is implemented (StaticHostProvider::updateServerList()).&lt;/p&gt;

&lt;p&gt;i.e. provide a link to the source such as &lt;a href=&quot;http://svn.apache.org/viewvc/zookeeper/trunk/src/java/main/org/apache/zookeeper/client/StaticHostProvider.java?view=markup&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc/zookeeper/trunk/src/java/main/org/apache/zookeeper/client/StaticHostProvider.java?view=markup&lt;/a&gt; or &lt;a href=&quot;https://github.com/apache/zookeeper/blob/trunk/src/java/main/org/apache/zookeeper/client/StaticHostProvider.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/zookeeper/blob/trunk/src/java/main/org/apache/zookeeper/client/StaticHostProvider.java&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The test cases seem to have a lot more cases than the documentation: would be nice to have the doc&apos;s examples correspond to the test cases.&lt;/p&gt;</comment>
                            <comment id="13293811" author="marshall" created="Tue, 12 Jun 2012 19:11:00 +0100"  >&lt;p&gt;This updated patch fixes 3 things in the C version only:&lt;/p&gt;

&lt;p&gt;(1) Fix memleak in update_addrs in the event that the addrvec hasn&apos;t changed from last time.&lt;/p&gt;

&lt;p&gt;(2) Fix unsafe error handling around realloc failure in addrvec.c.&lt;/p&gt;

&lt;p&gt;(3) Fix connection failure throttling that caused it to skip a host.&lt;/p&gt;</comment>
                            <comment id="13293843" author="hadoopqa" created="Tue, 12 Jun 2012 19:55:24 +0100"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12531858/ZOOKEEPER-1355-ver14.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12531858/ZOOKEEPER-1355-ver14.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1337029.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 34 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1094//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1094//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1094//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1094//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1094//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1094//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13473707" author="hadoopqa" created="Thu, 11 Oct 2012 00:53:13 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12548653/ZOOKEEPER-1355-10-Oct.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12548653/ZOOKEEPER-1355-10-Oct.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1391526.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 31 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    -1 javac.  The patch appears to cause tar ant target to fail.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1209//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1209//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1209//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1209//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1209//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1209//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13473817" author="hadoopqa" created="Thu, 11 Oct 2012 04:53:47 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12548688/ZOOKEEPER-1355-10-Oct.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12548688/ZOOKEEPER-1355-10-Oct.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1391526.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 28 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1210//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1210//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1210//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1210//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1210//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1210//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13475509" author="marshall" created="Sat, 13 Oct 2012 04:08:56 +0100"  >&lt;p&gt;This is an updated version of patch that applies cleanly to the latest tip of trunk.&lt;/p&gt;</comment>
                            <comment id="13475510" author="hadoopqa" created="Sat, 13 Oct 2012 04:13:04 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12548996/ZOOKEEPER-1355-12-Oct.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12548996/ZOOKEEPER-1355-12-Oct.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1391526.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 34 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    -1 javac.  The patch appears to cause tar ant target to fail.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1221//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1221//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1221//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1221//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1221//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1221//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13475541" author="marshall" created="Sat, 13 Oct 2012 06:48:02 +0100"  >&lt;p&gt;Had meant to remove the Zab Test part from this patch as Alex tells me that was already committed to trunk under another Jira.&lt;/p&gt;</comment>
                            <comment id="13475543" author="hadoopqa" created="Sat, 13 Oct 2012 07:20:08 +0100"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12549007/ZOOKEEPER-1355-13-Oct.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12549007/ZOOKEEPER-1355-13-Oct.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1391526.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 31 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1222//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1222//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1222//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1222//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1222//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1222//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13491537" author="marshall" created="Tue, 6 Nov 2012 15:38:29 +0000"  >&lt;p&gt;Addresses all the concerns Michi had with the C client over on review board &lt;a href=&quot;https://reviews.apache.org/r/3781/#review12460&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3781/#review12460&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13491569" author="hadoopqa" created="Tue, 6 Nov 2012 16:08:01 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12552299/ZOOKEEPER-1355-6-Nov.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12552299/ZOOKEEPER-1355-6-Nov.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1404288.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 31 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1250//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1250//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1250//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1250//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1250//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1250//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13491573" author="marshall" created="Tue, 6 Nov 2012 16:12:38 +0000"  >&lt;p&gt;Removal of srand48 seems to have broken one of the new reconfig tests. Adding it back in.&lt;/p&gt;</comment>
                            <comment id="13491608" author="hadoopqa" created="Tue, 6 Nov 2012 16:53:55 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12552304/ZOOKEEPER-1355-6-Nov-ver2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12552304/ZOOKEEPER-1355-6-Nov-ver2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1404288.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 31 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1251//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1251//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1251//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1251//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1251//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1251//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13491673" author="breed" created="Tue, 6 Nov 2012 18:16:47 +0000"  >&lt;p&gt;michi and flavio are you guys good with this? please express concern or +1 &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; if i don&apos;t hear anything by tomorrow, i&apos;ll assume the latter.&lt;/p&gt;</comment>
                            <comment id="13491679" author="michim" created="Tue, 6 Nov 2012 18:26:28 +0000"  >&lt;p&gt;+1 for the C client part. &lt;/p&gt;

&lt;p&gt;--Michi&lt;/p&gt;</comment>
                            <comment id="13491926" author="fpj" created="Tue, 6 Nov 2012 23:01:00 +0000"  >&lt;p&gt;Thanks Marshall and Alex for working on the patch. Is the latest patch on the review board? Until I check it on the review board it is -1 for me. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13491931" author="marshall" created="Tue, 6 Nov 2012 23:04:31 +0000"  >&lt;p&gt;Flavio, the newest patch is not on review board as I couldn&apos;t figure out how to update review board with the latest patch... :-&amp;lt;&lt;/p&gt;</comment>
                            <comment id="13491957" author="shralex" created="Tue, 6 Nov 2012 23:45:39 +0000"  >&lt;p&gt;Hi Flavio,&lt;/p&gt;

&lt;p&gt;I uploaded Marshall&apos;s latest patch to review board: &lt;a href=&quot;https://reviews.apache.org/r/3781/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3781/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alex&lt;/p&gt;</comment>
                            <comment id="13496887" author="marshall" created="Wed, 14 Nov 2012 06:00:08 +0000"  >&lt;p&gt;Updated patch that addresses all comments in review &lt;a href=&quot;https://reviews.apache.org/r/3781/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/3781/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13496900" author="hadoopqa" created="Wed, 14 Nov 2012 06:40:10 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12553459/ZOOKEEPER-1355-13-Nov.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12553459/ZOOKEEPER-1355-13-Nov.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1404288.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 31 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1260//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1260//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1260//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1260//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1260//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1260//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13496904" author="marshall" created="Wed, 14 Nov 2012 06:51:10 +0000"  >&lt;p&gt;Fix compile failure after refactor based on code review.&lt;/p&gt;</comment>
                            <comment id="13496920" author="hadoopqa" created="Wed, 14 Nov 2012 07:31:22 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12553464/ZOOKEEPER-1355-13-Nov-ver2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12553464/ZOOKEEPER-1355-13-Nov-ver2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1404288.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 31 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1261//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1261//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1261//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1261//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1261//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1261//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13497316" author="fpj" created="Wed, 14 Nov 2012 18:26:36 +0000"  >&lt;p&gt;+1, thanks guys for the work. Is anyone else interested in reviewing this patch? If so, please comment asap. I&apos;m fine with committing it myself before the end of the week or having someone else doing it, like Ben, since he pushed a lot for this patch.&lt;/p&gt;</comment>
                            <comment id="13497333" author="phunt" created="Wed, 14 Nov 2012 18:40:06 +0000"  >&lt;p&gt;Seems reasonable to me. (cursory look). As long as it doesn&apos;t effect backward compatibility I don&apos;t see an issue.&lt;/p&gt;</comment>
                            <comment id="13497349" author="shralex" created="Wed, 14 Nov 2012 19:03:41 +0000"  >&lt;p&gt;I think that it doesn&apos;t affect backward compatibility.  The code works as before unless updateServerList is actually invoked. When it does, it updates the list of servers with a new shuffled list and then uses new logic to choose the first server to connect to from this list. If it succeeds to connect or tried all servers and failed to connect, we return to the &quot;normal mode&quot; of just going round-robin over the new shuffled list. No configuration files are touched here and nothing on the server side changed.&lt;/p&gt;</comment>
                            <comment id="13499427" author="fpj" created="Sat, 17 Nov 2012 14:03:36 +0000"  >&lt;p&gt;Good job, guys. Committed revision 1410731.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12463601">ZOOKEEPER-762</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12424618">ZOOKEEPER-390</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12401266">ZOOKEEPER-107</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12640884">ZOOKEEPER-1683</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                            <outwardlinks description="supercedes">
                                        <issuelink>
            <issuekey id="12417097">ZOOKEEPER-338</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12635741">ZOOKEEPER-1660</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12548688" name="ZOOKEEPER-1355-10-Oct.patch" size="91068" author="shralex" created="Thu, 11 Oct 2012 03:16:27 +0100"/>
                            <attachment id="12548996" name="ZOOKEEPER-1355-12-Oct.patch" size="122619" author="marshall" created="Sat, 13 Oct 2012 04:08:56 +0100"/>
                            <attachment id="12553464" name="ZOOKEEPER-1355-13-Nov-ver2.patch" size="124219" author="marshall" created="Wed, 14 Nov 2012 06:51:10 +0000"/>
                            <attachment id="12553459" name="ZOOKEEPER-1355-13-Nov.patch" size="124219" author="marshall" created="Wed, 14 Nov 2012 06:00:08 +0000"/>
                            <attachment id="12549007" name="ZOOKEEPER-1355-13-Oct.patch" size="121972" author="marshall" created="Sat, 13 Oct 2012 06:48:02 +0100"/>
                            <attachment id="12552304" name="ZOOKEEPER-1355-6-Nov-ver2.patch" size="122914" author="marshall" created="Tue, 6 Nov 2012 16:12:38 +0000"/>
                            <attachment id="12552299" name="ZOOKEEPER-1355-6-Nov.patch" size="122814" author="marshall" created="Tue, 6 Nov 2012 15:38:29 +0000"/>
                            <attachment id="12518041" name="ZOOKEEPER-1355-ver10-1.patch" size="116759" author="marshall" created="Mon, 12 Mar 2012 16:23:22 +0000"/>
                            <attachment id="12518043" name="ZOOKEEPER-1355-ver10-2.patch" size="116848" author="marshall" created="Mon, 12 Mar 2012 16:34:38 +0000"/>
                            <attachment id="12518052" name="ZOOKEEPER-1355-ver10-3.patch" size="246602" author="marshall" created="Mon, 12 Mar 2012 17:27:42 +0000"/>
                            <attachment id="12518269" name="ZOOKEEPER-1355-ver10-4.patch" size="123720" author="marshall" created="Wed, 14 Mar 2012 00:05:52 +0000"/>
                            <attachment id="12518053" name="ZOOKEEPER-1355-ver10-4.patch" size="116529" author="marshall" created="Mon, 12 Mar 2012 17:30:01 +0000"/>
                            <attachment id="12518035" name="ZOOKEEPER-1355-ver10.patch" size="116072" author="marshall" created="Mon, 12 Mar 2012 15:37:32 +0000"/>
                            <attachment id="12520766" name="ZOOKEEPER-1355-ver11-1.patch" size="123742" author="marshall" created="Sat, 31 Mar 2012 06:05:52 +0100"/>
                            <attachment id="12520208" name="ZOOKEEPER-1355-ver11.patch" size="123720" author="marshall" created="Tue, 27 Mar 2012 23:55:15 +0100"/>
                            <attachment id="12527535" name="ZOOKEEPER-1355-ver12-1.patch" size="123381" author="marshall" created="Tue, 15 May 2012 23:28:49 +0100"/>
                            <attachment id="12527539" name="ZOOKEEPER-1355-ver12-2.patch" size="122829" author="marshall" created="Tue, 15 May 2012 23:58:49 +0100"/>
                            <attachment id="12527735" name="ZOOKEEPER-1355-ver12-4.patch" size="121856" author="marshall" created="Wed, 16 May 2012 23:56:38 +0100"/>
                            <attachment id="12527533" name="ZOOKEEPER-1355-ver12.patch" size="124181" author="marshall" created="Tue, 15 May 2012 23:19:59 +0100"/>
                            <attachment id="12527742" name="ZOOKEEPER-1355-ver13.patch" size="121712" author="marshall" created="Thu, 17 May 2012 00:53:40 +0100"/>
                            <attachment id="12531858" name="ZOOKEEPER-1355-ver14.patch" size="122222" author="marshall" created="Tue, 12 Jun 2012 19:11:00 +0100"/>
                            <attachment id="12510149" name="ZOOKEEPER-1355-ver2.patch" size="22405" author="shralex" created="Wed, 11 Jan 2012 02:57:48 +0000"/>
                            <attachment id="12511608" name="ZOOKEEPER-1355-ver4.patch" size="27963" author="shralex" created="Tue, 24 Jan 2012 01:05:24 +0000"/>
                            <attachment id="12511612" name="ZOOKEEPER-1355-ver5.patch" size="27782" author="shralex" created="Tue, 24 Jan 2012 01:43:12 +0000"/>
                            <attachment id="12512026" name="ZOOKEEPER-1355-ver6.patch" size="33266" author="shralex" created="Thu, 26 Jan 2012 19:53:34 +0000"/>
                            <attachment id="12512037" name="ZOOKEEPER-1355-ver7.patch" size="33260" author="shralex" created="Thu, 26 Jan 2012 21:21:14 +0000"/>
                            <attachment id="12512043" name="ZOOKEEPER-1355-ver8.patch" size="33847" author="shralex" created="Thu, 26 Jan 2012 22:08:11 +0000"/>
                            <attachment id="12516137" name="ZOOKEEPER-1355-ver9-1.patch" size="34890" author="shralex" created="Mon, 27 Feb 2012 04:51:17 +0000"/>
                            <attachment id="12516134" name="ZOOKEEPER-1355-ver9.patch" size="34892" author="shralex" created="Mon, 27 Feb 2012 03:51:10 +0000"/>
                            <attachment id="12510231" name="ZOOKEEPER=1355-ver3.patch" size="24759" author="shralex" created="Wed, 11 Jan 2012 20:19:19 +0000"/>
                            <attachment id="12510121" name="ZOOOKEEPER-1355-test.patch" size="24150" author="shralex" created="Tue, 10 Jan 2012 23:26:26 +0000"/>
                            <attachment id="12510108" name="ZOOOKEEPER-1355-ver1.patch" size="22165" author="shralex" created="Tue, 10 Jan 2012 21:50:33 +0000"/>
                            <attachment id="12510089" name="ZOOOKEEPER-1355.patch" size="22165" author="shralex" created="Tue, 10 Jan 2012 20:03:28 +0000"/>
                            <attachment id="12510782" name="loadbalancing-more-details.pdf" size="308615" author="shralex" created="Tue, 17 Jan 2012 01:03:53 +0000"/>
                            <attachment id="12509967" name="loadbalancing.pdf" size="294481" author="shralex" created="Mon, 9 Jan 2012 22:18:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 10 Jan 2012 20:32:02 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>223330</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxunbr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2598</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>