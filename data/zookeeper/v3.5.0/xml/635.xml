<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:47:53 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/ZOOKEEPER-635/ZOOKEEPER-635.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[ZOOKEEPER-635] Server supports listening on a specified network address</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-635</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;The issue in maililist is located:&lt;br/&gt;
&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/hadoop-zookeeper-user/200912.mbox/%3c4ac0d28c0912210242g58230a9ds1c55361561c70d61@mail.gmail.com%3e&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mail-archives.apache.org/mod_mbox/hadoop-zookeeper-user/200912.mbox/%3c4ac0d28c0912210242g58230a9ds1c55361561c70d61@mail.gmail.com%3e&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I have checked the server size code, seems no this option provided. This feature is useful when we have more than two network interfaces, one for Internet and others for intranet. We want to run ZooKeeper in our intranet and not be exposed  to outside world.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12443990">ZOOKEEPER-635</key>
            <summary>Server supports listening on a specified network address</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="phunt">Patrick Hunt</assignee>
                                    <reporter username="stvchu">Steve Chu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 22 Dec 2009 08:12:31 +0000</created>
                <updated>Sat, 23 Jul 2011 00:07:49 +0100</updated>
                            <resolved>Tue, 9 Mar 2010 05:14:46 +0000</resolved>
                                    <version>3.2.1</version>
                                    <fixVersion>3.3.0</fixVersion>
                                    <component>server</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                            <comments>
                            <comment id="12796839" author="phunt" created="Tue, 5 Jan 2010 20:46:34 +0000"  >&lt;p&gt;Would be great to include in 3.3.0, esp if someone is willing to create the patch? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12803399" author="phunt" created="Thu, 21 Jan 2010 18:17:05 +0000"  >&lt;p&gt;this patch adds new clientPortBindAddress and clientPortBindHostname options for the config file.&lt;br/&gt;
I updated the existing tests (port only) but I could not figure out a good (meaning reliable) way ot&lt;br/&gt;
testing address/hostname, something that would work on any system regardless of network&lt;br/&gt;
configuration (ip v4/6, hostname setup, resove.conf, etc...) If you have an idea go ahead and update,&lt;br/&gt;
otw probably good to go ( I did test manually both options as well a default)&lt;/p&gt;

&lt;p&gt;be sure to verify the doc changes as well (and commit the updated docs obv)&lt;/p&gt;</comment>
                            <comment id="12803410" author="hadoopqa" created="Thu, 21 Jan 2010 18:39:58 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12431049/ZOOKEEPER-635.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12431049/ZOOKEEPER-635.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 901510.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 33 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h7.grid.sp2.yahoo.net/46/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h7.grid.sp2.yahoo.net/46/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h7.grid.sp2.yahoo.net/46/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h7.grid.sp2.yahoo.net/46/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h7.grid.sp2.yahoo.net/46/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h7.grid.sp2.yahoo.net/46/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12803415" author="phunt" created="Thu, 21 Jan 2010 18:49:23 +0000"  >&lt;p&gt;Added a note to the docs that this is new in 3.3&lt;/p&gt;</comment>
                            <comment id="12803432" author="hadoopqa" created="Thu, 21 Jan 2010 19:14:09 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12431052/ZOOKEEPER-635.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12431052/ZOOKEEPER-635.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 901510.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 33 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h7.grid.sp2.yahoo.net/48/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h7.grid.sp2.yahoo.net/48/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h7.grid.sp2.yahoo.net/48/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h7.grid.sp2.yahoo.net/48/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h7.grid.sp2.yahoo.net/48/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h7.grid.sp2.yahoo.net/48/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12830695" author="breed" created="Sun, 7 Feb 2010 11:25:51 +0000"  >&lt;p&gt;do we really need both clientPortBindAddress and clientPortBindHostname? especially since they do the same thing...&lt;/p&gt;

&lt;p&gt;we need a test case for this. we should configure the server to bind to an interface address and attempt to connect to it using localhost.&lt;/p&gt;</comment>
                            <comment id="12831011" author="phunt" created="Mon, 8 Feb 2010 17:32:52 +0000"  >&lt;p&gt;I wrote the docs first, then during impl noticed that the two funnel down to the same code. I thought about it a bit&lt;br/&gt;
and convinced myself that having two variable made it more understandable to the user, so I didn&apos;t change it from&lt;br/&gt;
my original approach. I could go either way though. What would you call it if there&apos;s just one? clientPortBindAddress &lt;br/&gt;
and just spec in the docs that it&apos;s either ip addr or name?&lt;/p&gt;

&lt;p&gt;Re the testing I was concerned that I could not get reproduceable tests if I tried tying it to a particular interface. Do&lt;br/&gt;
you know (think of) a bulletproof approach? Something that will work in all cases, incl ipv6 (esp where the hosts&lt;br/&gt;
file might cause problems)&lt;/p&gt;</comment>
                            <comment id="12831162" author="breed" created="Mon, 8 Feb 2010 22:27:00 +0000"  >&lt;p&gt;i think clientPortBindAddress is good. it&apos;s kind of confusing to have two variables that do the same thing, especially since people are used to using ip addresses and hostnames interchangably.&lt;/p&gt;

&lt;p&gt;for the test i would use NetworkInterface.getInterfaces and use IP addresses.&lt;/p&gt;</comment>
                            <comment id="12832854" author="phunt" created="Fri, 12 Feb 2010 05:58:48 +0000"  >&lt;p&gt;this patch is the same as the last except:&lt;/p&gt;

&lt;p&gt;1) removed the clientportbindhostname and move to just using the bind address&lt;br/&gt;
2) added a new test (be sure to svn add it) that verifies binding to a specific address&lt;/p&gt;

&lt;p&gt;3) my machine has ipv6 addr for the lo, which the test uses. this was failing. I needed to fix the ZooKeeper client to allow ipv6 addresses (see &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-667&quot; title=&quot;java client doesn&amp;#39;t allow ipv6 numeric connect string&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-667&quot;&gt;&lt;del&gt;ZOOKEEPER-667&lt;/del&gt;&lt;/a&gt;). Currently the ipv6 connect string is specified as ipv6:port where we look for the last :# and use that as the port. this should work fine but it means that the user must always specify ipv6:port, whereas for ipv4 you can just specify the ipv4address and the port will default to 2181, see 667 for more details on this.&lt;/p&gt;</comment>
                            <comment id="12833131" author="breed" created="Fri, 12 Feb 2010 19:52:07 +0000"  >&lt;p&gt;+1 looks good&lt;/p&gt;</comment>
                            <comment id="12836084" author="hadoopqa" created="Sat, 20 Feb 2010 01:28:57 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12435665/ZOOKEEPER-635.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12435665/ZOOKEEPER-635.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 912052.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 44 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h8.grid.sp2.yahoo.net/119/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h8.grid.sp2.yahoo.net/119/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h8.grid.sp2.yahoo.net/119/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h8.grid.sp2.yahoo.net/119/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h8.grid.sp2.yahoo.net/119/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Zookeeper-Patch-h8.grid.sp2.yahoo.net/119/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12842914" author="breed" created="Tue, 9 Mar 2010 05:14:46 +0000"  >&lt;p&gt;thanx pat!&lt;/p&gt;</comment>
                            <comment id="13069667" author="ekoontz" created="Fri, 22 Jul 2011 19:27:45 +0100"  >&lt;p&gt;Works great for me. Thanks Patrick. One clarification for people wanting to use this. &lt;/p&gt;

&lt;p&gt;Perhaps the documentation could be made clearer on this.&lt;/p&gt;

&lt;p&gt;you must specify the port and the address separately like so:&lt;/p&gt;

&lt;p&gt;clientPortAddress=my.hostname.com&lt;br/&gt;
clientPort=2181&lt;/p&gt;

&lt;p&gt;(that is, you can&apos;t do &quot;clientPortAddress=my.hostname.com:2181&quot;)&lt;/p&gt;</comment>
                            <comment id="13069820" author="phunt" created="Fri, 22 Jul 2011 23:32:08 +0100"  >&lt;p&gt;@eugene - enter a doc jira for your suggestion as this issue is already closed.&lt;/p&gt;</comment>
                            <comment id="13069835" author="ekoontz" created="Sat, 23 Jul 2011 00:07:02 +0100"  >&lt;p&gt;Hi Patrick, added doc jira here: &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1135&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/ZOOKEEPER-1135&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                            <outwardlinks description="incorporates">
                                        <issuelink>
            <issuekey id="12456060">ZOOKEEPER-667</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12515137">ZOOKEEPER-1135</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12435665" name="ZOOKEEPER-635.patch" size="44705" author="phunt" created="Fri, 12 Feb 2010 05:58:48 +0000"/>
                            <attachment id="12431052" name="ZOOKEEPER-635.patch" size="32926" author="phunt" created="Thu, 21 Jan 2010 18:49:23 +0000"/>
                            <attachment id="12431049" name="ZOOKEEPER-635.patch" size="32804" author="phunt" created="Thu, 21 Jan 2010 18:17:05 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12515054">ZOOKEEPER-1133</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 5 Jan 2010 20:46:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>47678</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxzxk7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33421</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>server option address</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>