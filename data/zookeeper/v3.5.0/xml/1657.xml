<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:44:04 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/ZOOKEEPER-1657/ZOOKEEPER-1657.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[ZOOKEEPER-1657] Increased CPU usage by unnecessary SASL checks</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-1657</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;I did some profiling in one of our Java environments and found an interesting footprint in ZooKeeper. The SASL support seems to trigger a lot times on the client although it&apos;s not even in use.&lt;/p&gt;

&lt;p&gt;Is there a switch to disable SASL completely?&lt;/p&gt;

&lt;p&gt;The attached screenshot shows a 10-minute profiling session on one of our production Jetty servers. The Jetty server handles ~1k web requests per minute. The average response time per web request is a few milli seconds. The profiling was performed on a machine running for &amp;gt;24h. &lt;/p&gt;

&lt;p&gt;We noticed a significant CPU increase on our servers when deploying an update from ZooKeeper 3.3.2 to ZooKeeper 3.4.5. Thus, we started investigating. The screenshot shows that only 32% CPU time are spent in Jetty. In contrast, 65% are spend in ZooKeeper. &lt;/p&gt;

&lt;p&gt;A few notes/thoughts:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;tt&gt;ClientCnxn$SendThread.clientTunneledAuthenticationInProgress&lt;/tt&gt; seems to be the culprit&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;javax.security.auth.login.Configuration.getConfiguration&lt;/tt&gt; seems to be called very often?&lt;/li&gt;
	&lt;li&gt;There is quite a bit reflection involved in &lt;tt&gt;java.security.AccessController.doPrivileged&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;No security manager is active in the JVM: I tend to place an if-check in the code before calling &lt;tt&gt;AccessController.doPrivileged&lt;/tt&gt;. When no SM is installed, the runnable can be called directly which safes cycles.&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12634851">ZOOKEEPER-1657</key>
            <summary>Increased CPU usage by unnecessary SASL checks</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pkwarren">Philip K. Warren</assignee>
                                    <reporter username="gunnar">Gunnar Wagenknecht</reporter>
                        <labels>
                            <label>performance</label>
                    </labels>
                <created>Fri, 1 Mar 2013 16:44:47 +0000</created>
                <updated>Thu, 13 Mar 2014 18:16:57 +0000</updated>
                            <resolved>Wed, 18 Sep 2013 11:58:58 +0100</resolved>
                                    <version>3.4.5</version>
                                    <fixVersion>3.4.6</fixVersion>
                    <fixVersion>3.5.0</fixVersion>
                                    <component>java client</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="13590700" author="gunnar" created="Fri, 1 Mar 2013 16:46:55 +0000"  >&lt;p&gt;Note, the profiling was performed on a machine running for &amp;gt;24h. Thus, it&apos;s fair to say that the machine has been &quot;warmed&quot;, i.e. all classes and stuff should be loaded.&lt;/p&gt;</comment>
                            <comment id="13590792" author="ekoontz" created="Fri, 1 Mar 2013 18:19:03 +0000"  >&lt;p&gt;Client checks system property &lt;tt&gt;zookeeper.client.sasl&lt;/tt&gt; before creating SASL authentication object to reduce wasted time later in ClientCnxn$SendThread.clientTunneledAuthenticationInProgress().&lt;/p&gt;</comment>
                            <comment id="13590795" author="ekoontz" created="Fri, 1 Mar 2013 18:20:05 +0000"  >&lt;p&gt;Hi Gunnar,&lt;br/&gt;
Thanks for providing this profiling data. I wonder if this patch will improve your profiling results?&lt;br/&gt;
-Eugene&lt;/p&gt;</comment>
                            <comment id="13590834" author="gunnar" created="Fri, 1 Mar 2013 19:03:42 +0000"  >&lt;p&gt;Eugene, thanks! I&apos;ll try to create a custom build and gather some data.&lt;/p&gt;</comment>
                            <comment id="13590938" author="gunnar" created="Fri, 1 Mar 2013 21:05:45 +0000"  >&lt;p&gt;The patch does not seem to work:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;22:03:12.589 [ZooKeeper Gate Connect Thread-SendThread(127.0.0.1:2181)] DEBUG o.a.zookeeper.ClientCnxnSocketNIO - deferring non-priming packet: clientPath:null serverPath:null finished:false header:: 0,4  replyHeader:: 0,0,0  request:: &apos;/gyrex/nodes/all/98e14413-6157-440a-aa49-9c61c70099d9,F  response::  until SASL authentication completes.
22:03:17.899 [ZooKeeper Gate Connect Thread-SendThread(127.0.0.1:2181)] DEBUG o.a.zookeeper.ClientCnxnSocketNIO - deferring non-priming packet: clientPath:null serverPath:null finished:false header:: 0,4  replyHeader:: 0,0,0  request:: &apos;/gyrex/nodes/all/98e14413-6157-440a-aa49-9c61c70099d9,F  response::  until SASL authentication completes.
22:03:17.901 [ZooKeeper Gate Connect Thread-SendThread(127.0.0.1:2181)] DEBUG o.a.zookeeper.ClientCnxnSocketNIO - deferring non-priming packet: clientPath:null serverPath:null finished:false header:: 0,4  replyHeader:: 0,0,0  request:: &apos;/gyrex/nodes/all/98e14413-6157-440a-aa49-9c61c70099d9,F  response::  until SASL authentication completes.
22:03:17.902 [ZooKeeper Gate Connect Thread-SendThread(127.0.0.1:2181)] DEBUG o.a.zookeeper.ClientCnxnSocketNIO - deferring non-priming packet: clientPath:null serverPath:null finished:false header:: -2,11  replyHeader:: null request:: null response:: nulluntil SASL authentication completes.
22:03:27.902 [ZooKeeper Gate Connect Thread-SendThread(127.0.0.1:2181)] DEBUG o.a.zookeeper.ClientCnxnSocketNIO - deferring non-priming packet: clientPath:null serverPath:null finished:false header:: 0,4  replyHeader:: 0,0,0  request:: &apos;/gyrex/nodes/all/98e14413-6157-440a-aa49-9c61c70099d9,F  response::  until SASL authentication completes.
22:03:27.904 [ZooKeeper Gate Connect Thread-SendThread(127.0.0.1:2181)] DEBUG o.a.zookeeper.ClientCnxnSocketNIO - deferring non-priming packet: clientPath:null serverPath:null finished:false header:: -2,11  replyHeader:: null request:: null response:: nulluntil SASL authentication completes.
22:03:27.905 [ZooKeeper Gate Connect Thread-SendThread(127.0.0.1:2181)] DEBUG o.a.zookeeper.ClientCnxnSocketNIO - deferring non-priming packet: clientPath:null serverPath:null finished:false header:: 0,4  replyHeader:: 0,0,0  request:: &apos;/gyrex/nodes/all/98e14413-6157-440a-aa49-9c61c70099d9,F  response::  until SASL authentication completes.
22:03:27.907 [ZooKeeper Gate Connect Thread-SendThread(127.0.0.1:2181)] DEBUG o.a.zookeeper.ClientCnxnSocketNIO - deferring non-priming packet: clientPath:null serverPath:null finished:false header:: -2,11  replyHeader:: null request:: null response:: nulluntil SASL authentication completes.
22:03:27.908 [ZooKeeper Gate Connect Thread-SendThread(127.0.0.1:2181)] DEBUG o.a.zookeeper.ClientCnxnSocketNIO - deferring non-priming packet: clientPath:null serverPath:null finished:false header:: -2,11  replyHeader:: null request:: null response:: nulluntil SASL authentication completes.
22:03:28.059 [ZooKeeper Gate Connect Thread-SendThread(127.0.0.1:2181)] DEBUG o.a.zookeeper.ClientCnxnSocketNIO - deferring non-priming packet: clientPath:null serverPath:null finished:false header:: 0,4  replyHeader:: 0,0,0  request:: &apos;/gyrex/nodes/all/98e14413-6157-440a-aa49-9c61c70099d9,F  response::  until SASL authentication completes.
22:03:28.060 [ZooKeeper Gate Connect Thread-SendThread(127.0.0.1:2181)] DEBUG o.a.zookeeper.ClientCnxnSocketNIO - deferring non-priming packet: clientPath:null serverPath:null finished:false header:: -2,11  replyHeader:: null request:: null response:: nulluntil SASL authentication completes.
22:03:28.061 [ZooKeeper Gate Connect Thread-SendThread(127.0.0.1:2181)] DEBUG o.a.zookeeper.ClientCnxnSocketNIO - deferring non-priming packet: clientPath:null serverPath:null finished:false header:: -2,11  replyHeader:: null request:: null response:: nulluntil SASL authentication completes.
22:03:28.062 [ZooKeeper Gate Connect Thread-SendThread(127.0.0.1:2181)] INFO  org.apache.zookeeper.ClientCnxn - Client session timed out, have not heard from server in 20005ms for sessionid 0x13d27c3d5620000, closing socket connection and attempting reconnect
22:03:28.077 [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181] WARN  o.a.zookeeper.server.NIOServerCnxn - caught end of stream exception
org.apache.zookeeper.server.ServerCnxn$EndOfStreamException: Unable to read additional data from client sessionid 0x13d27c3d5620000, likely client has closed socket
	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:220)
	at org.apache.zookeeper.server.NIOServerCnxnFactory.run(NIOServerCnxnFactory.java:208) 
	at java.lang.Thread.run(Thread.java:662) [na:1.6.0_26]
22:03:28.079 [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181] INFO  o.a.zookeeper.server.NIOServerCnxn - Closed socket connection for client /127.0.0.1:51730 which had sessionid 0x13d27c3d5620000
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13590950" author="gunnar" created="Fri, 1 Mar 2013 21:20:28 +0000"  >&lt;p&gt;I got ZooKeeper running using the following additional changes:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;===================================================================
--- src/org/apache/zookeeper/ClientCnxn.java	(first patched version)
+++ src/org/apache/zookeeper/ClientCnxn.java	(working copy)
@@ -939,7 +939,7 @@
 
             setName(getName().replaceAll(&quot;\\(.*\\)&quot;,
                     &quot;(&quot; + addr.getHostName() + &quot;:&quot; + addr.getPort() + &quot;)&quot;));
-            if (System.getProperty(&quot;zookeeper.client.sasl&quot;,&quot;false&quot;) == &quot;true&quot;) {
+            if (System.getProperty(&quot;zookeeper.client.sasl&quot;,&quot;false&quot;).equals(&quot;true&quot;)) {
                 try {
                     zooKeeperSaslClient = new ZooKeeperSaslClient(&quot;zookeeper/&quot;+addr.getHostName());
                 } catch (LoginException e) {
@@ -1234,9 +1234,10 @@
             }
 
             // 2. SendThread has not created the authenticating object yet,
-            // therefore authentication is (at the earliest stage of being) in progress.
+            // therefore authentication is (at the earliest stage of being) in progress;
+            // but only if SASL is actually in use.
             if (zooKeeperSaslClient == null) {
-                return true;
+                return System.getProperty(&quot;zookeeper.client.sasl&quot;,&quot;false&quot;).equals(&quot;true&quot;);
             }
 
             // 3. authenticating object exists, so ask it for its progress.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13590959" author="ekoontz" created="Fri, 1 Mar 2013 21:33:54 +0000"  >&lt;p&gt;Add new zookeeper.sasl.client system property. True by default; set to &quot;false&quot; to disable SASL on client.&lt;/p&gt;</comment>
                            <comment id="13590967" author="ekoontz" created="Fri, 1 Mar 2013 21:44:26 +0000"  >&lt;p&gt;Incorporate Gunnar&apos;s fix : use &amp;lt;string&amp;gt;.equals(&amp;lt;string&amp;gt;), not &amp;lt;string&amp;gt;==&amp;lt;string&amp;gt;.&lt;/p&gt;</comment>
                            <comment id="13591194" author="hadoopqa" created="Sat, 2 Mar 2013 01:39:26 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12571652/ZOOKEEPER-1657.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12571652/ZOOKEEPER-1657.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1448007.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1413//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1413//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1413//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1413//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1413//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1413//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13592591" author="gunnar" created="Mon, 4 Mar 2013 20:16:32 +0000"  >&lt;p&gt;After deploying the fix on a separate node and profiling again (similar workload, similar conditions) I can confirm that ZooKeeper is no longer a hot-spot.&lt;/p&gt;</comment>
                            <comment id="13592595" author="hadoopqa" created="Mon, 4 Mar 2013 20:21:48 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12571944/zookeeper-hotspot-gone.png&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12571944/zookeeper-hotspot-gone.png&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1448007.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1421//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1421//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13592756" author="ekoontz" created="Mon, 4 Mar 2013 22:38:48 +0000"  >&lt;p&gt;Thanks for reporting back Gunnar! Good to hear that this patch fixes the hotspot. &lt;/p&gt;</comment>
                            <comment id="13592757" author="ekoontz" created="Mon, 4 Mar 2013 22:40:11 +0000"  >&lt;p&gt;Regarding: &quot;Please justify why no new tests are needed for this patch.&quot;&lt;/p&gt;

&lt;p&gt;This is an optimization that avoids some unnecessary code execution. No bugs are fixed and no new behavior is introduced that would require additional testing.&lt;/p&gt;</comment>
                            <comment id="13628951" author="abranzyck" created="Thu, 11 Apr 2013 15:06:34 +0100"  >&lt;p&gt;If I am not wrong, this patch also solves the problem of the continuous SecurityException loggging.&lt;/p&gt;</comment>
                            <comment id="13655000" author="hadoopqa" created="Sat, 11 May 2013 00:05:41 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12571944/zookeeper-hotspot-gone.png&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12571944/zookeeper-hotspot-gone.png&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1463329.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1477//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1477//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13739354" author="fpj" created="Wed, 14 Aug 2013 08:22:53 +0100"  >&lt;p&gt;The patch didn&apos;t apply cleanly to trunk, could you upload a new patch, please?&lt;/p&gt;</comment>
                            <comment id="13743016" author="pkwarren" created="Sat, 17 Aug 2013 21:08:14 +0100"  >&lt;p&gt;I have taken Eugene&apos;s patch and applied it to ZooKeeper trunk (hope this is ok). I moved the logic to check if the SASL client was enabled to a static method, and added a test to verify the behavior (that the SASL client is enabled by default).&lt;/p&gt;</comment>
                            <comment id="13753646" author="fpj" created="Thu, 29 Aug 2013 15:09:25 +0100"  >&lt;p&gt;Submitting patch to let it run through jenkins.&lt;/p&gt;</comment>
                            <comment id="13753670" author="hadoopqa" created="Thu, 29 Aug 2013 15:42:25 +0100"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12598620/ZOOKEEPER-1657.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12598620/ZOOKEEPER-1657.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1516126.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1547//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1547//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1547//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1547//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1547//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1547//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13756410" author="fpj" created="Tue, 3 Sep 2013 08:20:50 +0100"  >&lt;p&gt;I&apos;d like to propose a small change to the name of the test class. I think it looks nicer to get it clustered with the other SASL test classes. Feel free to disagree, though. I&apos;m uploading a patch with this change.&lt;/p&gt;</comment>
                            <comment id="13756435" author="hadoopqa" created="Tue, 3 Sep 2013 09:03:08 +0100"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12601126/ZOOKEEPER-1657.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12601126/ZOOKEEPER-1657.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1519515.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1554//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1554//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1554//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1554//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1554//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1554//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13758852" author="fpj" created="Thu, 5 Sep 2013 08:24:26 +0100"  >&lt;p&gt;Can I get a +1 here please?&lt;/p&gt;</comment>
                            <comment id="13761595" author="mahadev" created="Mon, 9 Sep 2013 04:01:00 +0100"  >&lt;p&gt;+1 for the patch. Looks good. Thanks Eugene/Flavio.&lt;/p&gt;</comment>
                            <comment id="13761601" author="rakeshr" created="Mon, 9 Sep 2013 05:08:35 +0100"  >&lt;p&gt;Sorry to pitch in late. Patch looks nice.&lt;/p&gt;

&lt;p&gt;Adding few observations about the patch:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;missing apache license headers in SaslClientTest.java&lt;/li&gt;
	&lt;li&gt;its good practise to give &apos;error message while asserting&apos; and would help in analysing failure logs.&lt;br/&gt;
For example:
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Assert.assertTrue(&lt;span class=&quot;code-quote&quot;&gt;&quot;Didn&apos;t enabled ZooKeeperSaslClient!&quot;&lt;/span&gt;, ZooKeeperSaslClient.isEnabled());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="13765817" author="fpj" created="Thu, 12 Sep 2013 20:45:56 +0100"  >&lt;p&gt;Added missing license header and messages to assert statements.&lt;/p&gt;</comment>
                            <comment id="13765862" author="hadoopqa" created="Thu, 12 Sep 2013 21:22:48 +0100"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12602860/ZOOKEEPER-1657.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12602860/ZOOKEEPER-1657.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1522079.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1574//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1574//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1574//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1574//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1574//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1574//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13768851" author="fpj" created="Mon, 16 Sep 2013 23:13:35 +0100"  >&lt;p&gt;Is this one ready to go? Can I get a +1, please?&lt;/p&gt;</comment>
                            <comment id="13770578" author="fpj" created="Wed, 18 Sep 2013 09:52:52 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rakeshr&quot; class=&quot;user-hover&quot; rel=&quot;rakeshr&quot;&gt;Rakesh R&lt;/a&gt;, Could you let me know if you have any other concern here, please? Otherwise, I&apos;m going to get this in, since I have a +1 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mahadev&quot; class=&quot;user-hover&quot; rel=&quot;mahadev&quot;&gt;Mahadev konar&lt;/a&gt; already.&lt;/p&gt;</comment>
                            <comment id="13770589" author="rakeshr" created="Wed, 18 Sep 2013 10:06:13 +0100"  >&lt;p&gt;I was out of station for few days. Sorry for the delay.&lt;/p&gt;

&lt;p&gt;In latest patch I could see the following, is it required?. Otw the patch is ready to go in.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Index: .project
===================================================================
--- .project	(revision 0)
+++ .project	(revision 0)
@@ -0,0 +1,11 @@
+&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;?&amp;gt;
+&amp;lt;projectDescription&amp;gt;
+	&amp;lt;name&amp;gt;zookeeper-1657-trunk&amp;lt;/name&amp;gt;
+	&amp;lt;comment&amp;gt;&amp;lt;/comment&amp;gt;
+	&amp;lt;projects&amp;gt;
+	&amp;lt;/projects&amp;gt;
+	&amp;lt;buildSpec&amp;gt;
+	&amp;lt;/buildSpec&amp;gt;
+	&amp;lt;natures&amp;gt;
+	&amp;lt;/natures&amp;gt;
+&amp;lt;/projectDescription&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13770594" author="fpj" created="Wed, 18 Sep 2013 10:18:04 +0100"  >&lt;p&gt;Thanks, I&apos;ll make sure not to add the .project file and upload the committed patch without it.&lt;/p&gt;</comment>
                            <comment id="13770596" author="rakeshr" created="Wed, 18 Sep 2013 10:23:02 +0100"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fpj&quot; class=&quot;user-hover&quot; rel=&quot;fpj&quot;&gt;Flavio Junqueira&lt;/a&gt; +1 from me, please go ahead&lt;/p&gt;</comment>
                            <comment id="13770603" author="fpj" created="Wed, 18 Sep 2013 10:32:25 +0100"  >&lt;p&gt;Just run through QA to make sure.&lt;/p&gt;</comment>
                            <comment id="13770634" author="hadoopqa" created="Wed, 18 Sep 2013 11:21:40 +0100"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12603798/ZOOKEEPER-1657.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12603798/ZOOKEEPER-1657.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1524275.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1587//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1587//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1587//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1587//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1587//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1587//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13770635" author="fpj" created="Wed, 18 Sep 2013 11:26:34 +0100"  >&lt;p&gt;b3.4: Committed revision 1524355.&lt;/p&gt;</comment>
                            <comment id="13770652" author="fpj" created="Wed, 18 Sep 2013 11:58:58 +0100"  >&lt;p&gt;Trunk: Committed revision 1524364.&lt;/p&gt;</comment>
                            <comment id="13771798" author="hudson" created="Thu, 19 Sep 2013 12:06:27 +0100"  >&lt;p&gt;SUCCESS: Integrated in ZooKeeper-trunk #2060 (See &lt;a href=&quot;https://builds.apache.org/job/ZooKeeper-trunk/2060/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/ZooKeeper-trunk/2060/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1657&quot; title=&quot;Increased CPU usage by unnecessary SASL checks&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1657&quot;&gt;&lt;del&gt;ZOOKEEPER-1657&lt;/del&gt;&lt;/a&gt;. Increased CPU usage by unnecessary SASL checks (Philip K. Warren via fpj) (fpj: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1524364&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1524364&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/zookeeper/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/java/main/org/apache/zookeeper/ClientCnxn.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/java/main/org/apache/zookeeper/client/ZooKeeperSaslClient.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/java/test/org/apache/zookeeper/test/SaslClientTest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13933717" author="fpj" created="Thu, 13 Mar 2014 18:16:57 +0000"  >&lt;p&gt;Closing issues after releasing 3.4.6.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310060">
                    <name>Container</name>
                                            <outwardlinks description="contains">
                                        <issuelink>
            <issuekey id="12599312">ZOOKEEPER-1512</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12627864">ZOOKEEPER-1623</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                            <outwardlinks description="supercedes">
                                        <issuelink>
            <issuekey id="12670448">ZOOKEEPER-1764</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12603798" name="ZOOKEEPER-1657.patch" size="7387" author="fpj" created="Wed, 18 Sep 2013 10:32:04 +0100"/>
                            <attachment id="12602860" name="ZOOKEEPER-1657.patch" size="7764" author="fpj" created="Thu, 12 Sep 2013 20:45:56 +0100"/>
                            <attachment id="12601126" name="ZOOKEEPER-1657.patch" size="6489" author="fpj" created="Tue, 3 Sep 2013 08:21:27 +0100"/>
                            <attachment id="12598620" name="ZOOKEEPER-1657.patch" size="6527" author="pkwarren" created="Sat, 17 Aug 2013 21:08:14 +0100"/>
                            <attachment id="12571652" name="ZOOKEEPER-1657.patch" size="4555" author="ekoontz" created="Fri, 1 Mar 2013 21:44:26 +0000"/>
                            <attachment id="12571651" name="ZOOKEEPER-1657.patch" size="4545" author="ekoontz" created="Fri, 1 Mar 2013 21:33:54 +0000"/>
                            <attachment id="12571625" name="ZOOKEEPER-1657.patch" size="2507" author="ekoontz" created="Fri, 1 Mar 2013 18:19:03 +0000"/>
                            <attachment id="12571944" name="zookeeper-hotspot-gone.png" size="23901" author="gunnar" created="Mon, 4 Mar 2013 20:16:32 +0000"/>
                            <attachment id="12571607" name="zookeeper-hotspot.png" size="91296" author="gunnar" created="Fri, 1 Mar 2013 16:45:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 1 Mar 2013 18:19:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315344</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzc9lr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315688</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>