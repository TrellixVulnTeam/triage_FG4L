<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:51:08 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/ZOOKEEPER-1597/ZOOKEEPER-1597.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[ZOOKEEPER-1597] Windows build failing</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-1597</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;Seems to be related to C client changes done for ZK-1355.&lt;br/&gt;
We&apos;re not sure why these build failures happen on Windows.&lt;/p&gt;

&lt;p&gt;###################################################################################&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;
		&lt;ol&gt;
			&lt;li&gt;
			&lt;ol&gt;
				&lt;li&gt;
				&lt;ol&gt;
					&lt;li&gt;
					&lt;ol&gt;
						&lt;li&gt;
						&lt;ol&gt;
							&lt;li&gt;
							&lt;ol&gt;
								&lt;li&gt;
								&lt;ol&gt;
									&lt;li&gt;
									&lt;ol&gt;
										&lt;li&gt;
										&lt;ol&gt;
											&lt;li&gt;
											&lt;ol&gt;
												&lt;li&gt;
												&lt;ol&gt;
													&lt;li&gt;
													&lt;ol&gt;
														&lt;li&gt;
														&lt;ol&gt;
															&lt;li&gt;
															&lt;ol&gt;
																&lt;li&gt;
																&lt;ol&gt;
																	&lt;li&gt;
																	&lt;ol&gt;
																		&lt;li&gt;
																		&lt;ol&gt;
																			&lt;li&gt;
																			&lt;ol&gt;
																				&lt;li&gt;
																				&lt;ol&gt;
																					&lt;li&gt;
																					&lt;ol&gt;
																						&lt;li&gt;
																						&lt;ol&gt;
																							&lt;li&gt;
																							&lt;ol&gt;
																								&lt;li&gt;
																								&lt;ol&gt;
																									&lt;li&gt;
																									&lt;ol&gt;
																										&lt;li&gt;LAST 60 LINES OF THE CONSOLE ###########################&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;...truncated 376 lines...&amp;#93;&lt;/span&gt;&lt;br/&gt;
  .\src\zookeeper.c(768): error C2224: left of &apos;.count&apos; must have struct/union type&lt;br/&gt;
  .\src\zookeeper.c(768): error C2065: &apos;i&apos; : undeclared identifier&lt;br/&gt;
  .\src\zookeeper.c(770): error C2065: &apos;resolved&apos; : undeclared identifier&lt;br/&gt;
  .\src\zookeeper.c(770): error C2224: left of &apos;.data&apos; must have struct/union type&lt;br/&gt;
  .\src\zookeeper.c(770): error C2065: &apos;i&apos; : undeclared identifier&lt;br/&gt;
  .\src\zookeeper.c(773): error C2065: &apos;rc&apos; : undeclared identifier&lt;br/&gt;
  .\src\zookeeper.c(774): error C2065: &apos;rc&apos; : undeclared identifier&lt;br/&gt;
  .\src\zookeeper.c(780): error C2065: &apos;rc&apos; : undeclared identifier&lt;br/&gt;
  .\src\zookeeper.c(781): error C2065: &apos;rc&apos; : undeclared identifier&lt;br/&gt;
  .\src\zookeeper.c(788): error C2143: syntax error : missing &apos;;&apos; before &apos;type&apos;&lt;br/&gt;
  .\src\zookeeper.c(789): error C2143: syntax error : missing &apos;;&apos; before &apos;type&apos;&lt;br/&gt;
  .\src\zookeeper.c(792): error C2065: &apos;num_old&apos; : undeclared identifier&lt;br/&gt;
  .\src\zookeeper.c(792): error C2065: &apos;num_new&apos; : undeclared identifier&lt;br/&gt;
  .\src\zookeeper.c(794): error C2065: &apos;found_current&apos; : undeclared identifier&lt;br/&gt;
  .\src\zookeeper.c(797): error C2065: &apos;num_old&apos; : undeclared identifier&lt;br/&gt;
  .\src\zookeeper.c(797): error C2065: &apos;num_new&apos; : undeclared identifier&lt;br/&gt;
  .\src\zookeeper.c(814): error C2065: &apos;found_current&apos; : undeclared identifier&lt;br/&gt;
  .\src\zookeeper.c(819): error C2065: &apos;num_old&apos; : undeclared identifier&lt;br/&gt;
  .\src\zookeeper.c(819): error C2065: &apos;num_old&apos; : undeclared identifier&lt;br/&gt;
  .\src\zookeeper.c(819): error C2065: &apos;num_new&apos; : undeclared identifier&lt;br/&gt;
  .\src\zookeeper.c(819): error C2065: &apos;num_old&apos; : undeclared identifier&lt;br/&gt;
  .\src\zookeeper.c(819): error C2065: &apos;num_new&apos; : undeclared identifier&lt;br/&gt;
  .\src\zookeeper.c(819): error C2065: &apos;num_old&apos; : undeclared identifier&lt;br/&gt;
  .\src\zookeeper.c(825): error C2065: &apos;resolved&apos; : undeclared identifier&lt;br/&gt;
  .\src\zookeeper.c(825): error C2440: &apos;=&apos; : cannot convert from &apos;int&apos; to &apos;addrvec_t&apos;&lt;br/&gt;
  .\src\zookeeper.c(843): error C2065: &apos;resolved&apos; : undeclared identifier&lt;br/&gt;
  .\src\zookeeper.c(843): error C2224: left of &apos;.data&apos; must have struct/union type&lt;br/&gt;
  .\src\zookeeper.c(845): error C2065: &apos;resolved&apos; : undeclared identifier&lt;br/&gt;
  .\src\zookeeper.c(848): error C2065: &apos;hosts&apos; : undeclared identifier&lt;br/&gt;
  .\src\zookeeper.c(849): error C2065: &apos;hosts&apos; : undeclared identifier&lt;br/&gt;
  .\src\zookeeper.c(850): error C2065: &apos;hosts&apos; : undeclared identifier&lt;br/&gt;
  .\src\zookeeper.c(853): error C2065: &apos;rc&apos; : undeclared identifier&lt;br/&gt;
  .\src\zookeeper.c(1177): error C2143: syntax error : missing &apos;;&apos; before &apos;const&apos;&lt;br/&gt;
  .\src\zookeeper.c(1179): error C2065: &apos;endpoint_info&apos; : undeclared identifier&lt;br/&gt;
  .\src\zookeeper.c(1883): error C2143: syntax error : missing &apos;;&apos; before &apos;type&apos;&lt;br/&gt;
  .\src\zookeeper.c(1884): error C2065: &apos;rc&apos; : undeclared identifier&lt;br/&gt;
  .\src\zookeeper.c(1885): error C2065: &apos;rc&apos; : undeclared identifier&lt;br/&gt;
  .\src\zookeeper.c(1916): error C2143: syntax error : missing &apos;;&apos; before &apos;type&apos;&lt;br/&gt;
  .\src\zookeeper.c(1920): error C2143: syntax error : missing &apos;;&apos; before &apos;type&apos;&lt;br/&gt;
  .\src\zookeeper.c(1927): error C2065: &apos;ssoresult&apos; : undeclared identifier&lt;br/&gt;
  .\src\zookeeper.c(1927): error C2065: &apos;enable_tcp_nodelay&apos; : undeclared identifier&lt;br/&gt;
  .\src\zookeeper.c(1927): error C2065: &apos;enable_tcp_nodelay&apos; : undeclared identifier&lt;br/&gt;
  .\src\zookeeper.c(1928): error C2065: &apos;ssoresult&apos; : undeclared identifier&lt;br/&gt;
  .\src\zookeeper.c(1944): error C2065: &apos;rc&apos; : undeclared identifier&lt;br/&gt;
  .\src\zookeeper.c(1949): error C2065: &apos;rc&apos; : undeclared identifier&lt;br/&gt;
  .\src\zookeeper.c(1962): error C2065: &apos;rc&apos; : undeclared identifier&lt;br/&gt;
  .\src\zookeeper.c(1963): error C2065: &apos;rc&apos; : undeclared identifier&lt;br/&gt;
  .\src\zookeeper.c(2004): error C2065: &apos;rc&apos; : undeclared identifier&lt;br/&gt;
  .\src\zookeeper.c(2004): fatal error C1003: error count exceeds 100; stopping compilation&lt;/li&gt;
																									&lt;/ol&gt;
																									&lt;/li&gt;
																								&lt;/ol&gt;
																								&lt;/li&gt;
																							&lt;/ol&gt;
																							&lt;/li&gt;
																						&lt;/ol&gt;
																						&lt;/li&gt;
																					&lt;/ol&gt;
																					&lt;/li&gt;
																				&lt;/ol&gt;
																				&lt;/li&gt;
																			&lt;/ol&gt;
																			&lt;/li&gt;
																		&lt;/ol&gt;
																		&lt;/li&gt;
																	&lt;/ol&gt;
																	&lt;/li&gt;
																&lt;/ol&gt;
																&lt;/li&gt;
															&lt;/ol&gt;
															&lt;/li&gt;
														&lt;/ol&gt;
														&lt;/li&gt;
													&lt;/ol&gt;
													&lt;/li&gt;
												&lt;/ol&gt;
												&lt;/li&gt;
											&lt;/ol&gt;
											&lt;/li&gt;
										&lt;/ol&gt;
										&lt;/li&gt;
									&lt;/ol&gt;
									&lt;/li&gt;
								&lt;/ol&gt;
								&lt;/li&gt;
							&lt;/ol&gt;
							&lt;/li&gt;
						&lt;/ol&gt;
						&lt;/li&gt;
					&lt;/ol&gt;
					&lt;/li&gt;
				&lt;/ol&gt;
				&lt;/li&gt;
			&lt;/ol&gt;
			&lt;/li&gt;
		&lt;/ol&gt;
		&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;    38 Warning(s)&lt;br/&gt;
    102 Error(s)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12618704">ZOOKEEPER-1597</key>
            <summary>Windows build failing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="michim">Michi Mutsuzaki</assignee>
                                    <reporter username="shralex">Alexander Shraer</reporter>
                        <labels>
                    </labels>
                <created>Tue, 4 Dec 2012 08:28:32 +0000</created>
                <updated>Thu, 13 Mar 2014 18:17:00 +0000</updated>
                            <resolved>Sun, 17 Nov 2013 11:42:59 +0000</resolved>
                                    <version>3.5.0</version>
                                    <fixVersion>3.4.6</fixVersion>
                    <fixVersion>3.5.0</fixVersion>
                                    <component>build</component>
                    <component>c client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13536645" author="michim" created="Thu, 20 Dec 2012 00:45:31 +0000"  >&lt;p&gt;I have access to windows build environment. Let me take care of this.&lt;/p&gt;</comment>
                            <comment id="13536652" author="michim" created="Thu, 20 Dec 2012 01:01:46 +0000"  >&lt;p&gt;... and let me know if anybody knows which header defines INET_ADDRSTRLEN in windows.&lt;/p&gt;</comment>
                            <comment id="13537180" author="marshall" created="Thu, 20 Dec 2012 17:28:32 +0000"  >&lt;p&gt;Thank you Michi, I have no access to a windows build environment so I&apos;ve not been able to look into this.  I can&apos;t answer your question about INET_ADDRSTRLEN either, sorry. Worst case do an equivalent of a grep on the windows include directory? Good luck...&lt;/p&gt;</comment>
                            <comment id="13537539" author="michim" created="Fri, 21 Dec 2012 00:17:54 +0000"  >&lt;p&gt;With this patch, the c client compiled on windows 7 / visual c++ 2010.&lt;/p&gt;</comment>
                            <comment id="13537541" author="shralex" created="Fri, 21 Dec 2012 00:22:07 +0000"  >&lt;p&gt;thanks Michi!&lt;/p&gt;</comment>
                            <comment id="13537587" author="hadoopqa" created="Fri, 21 Dec 2012 01:02:29 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12562010/ZOOKEEPER-1597.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12562010/ZOOKEEPER-1597.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1424336.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1316//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1316//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1316//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1316//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1316//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1316//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13537590" author="michim" created="Fri, 21 Dec 2012 01:07:10 +0000"  >&lt;p&gt;No new tests added because this patch just fixes compilation errors.&lt;/p&gt;</comment>
                            <comment id="13538590" author="phunt" created="Sat, 22 Dec 2012 00:44:17 +0000"  >&lt;p&gt;Committed to trunk. Thanks Michi!&lt;/p&gt;</comment>
                            <comment id="13538597" author="phunt" created="Sat, 22 Dec 2012 00:49:21 +0000"  >&lt;p&gt;Sorry, spoke too soon, seems to be a linker issue now. Michi?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/view/S-Z/view/ZooKeeper/job/ZooKeeper-trunk-WinVS2008/636/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/view/S-Z/view/ZooKeeper/job/ZooKeeper-trunk-WinVS2008/636/console&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&quot;f:\hudson\hudson-slave\workspace\ZooKeeper-trunk-WinVS2008\trunk\src\c\zookeeper.sln&quot; (default target) (1) -&amp;gt;
(zookeeper target) -&amp;gt; 
  zookeeper.obj : error LNK2019: unresolved external symbol _addrvec_free referenced in function _resolve_hosts
  zookeeper.obj : error LNK2019: unresolved external symbol _addrvec_shuffle referenced in function _resolve_hosts
  zookeeper.obj : error LNK2019: unresolved external symbol _addrvec_append_addrinfo referenced in function _resolve_hosts
  zookeeper.obj : error LNK2019: unresolved external symbol _addrvec_grow_default referenced in function _resolve_hosts
  zookeeper.obj : error LNK2019: unresolved external symbol _addrvec_alloc_capacity referenced in function _resolve_hosts
  zookeeper.obj : error LNK2019: unresolved external symbol _addrvec_init referenced in function _resolve_hosts
  zookeeper.obj : error LNK2019: unresolved external symbol _addrvec_append referenced in function _update_addrs
  zookeeper.obj : error LNK2019: unresolved external symbol _addrvec_contains referenced in function _update_addrs
  zookeeper.obj : error LNK2019: unresolved external symbol _addrvec_eq referenced in function _update_addrs
  zookeeper.obj : error LNK2019: unresolved external symbol _addrvec_next referenced in function _zoo_cycle_next_server
  zookeeper.obj : error LNK2019: unresolved external symbol _addrvec_hasnext referenced in function _get_next_server_in_reconfig
  zookeeper.obj : error LNK2019: unresolved external symbol _addrvec_atend referenced in function _handle_error
  Release\zookeeper.dll : fatal error LNK1120: 12 unresolved externals

    34 Warning(s)
    13 Error(s)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13538729" author="hudson" created="Sat, 22 Dec 2012 11:03:34 +0000"  >&lt;p&gt;Integrated in ZooKeeper-trunk #1780 (See &lt;a href=&quot;https://builds.apache.org/job/ZooKeeper-trunk/1780/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/ZooKeeper-trunk/1780/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1597&quot; title=&quot;Windows build failing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1597&quot;&gt;&lt;del&gt;ZOOKEEPER-1597&lt;/del&gt;&lt;/a&gt;. Windows build failing (michim via phunt) (Revision 1425215)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
phunt : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1425215&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1425215&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/zookeeper/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/c/src/addrvec.c&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/c/src/addrvec.h&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/c/src/winport.c&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/c/src/winport.h&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/c/src/zookeeper.c&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13540305" author="michim" created="Fri, 28 Dec 2012 04:52:08 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;The project file names changed from &lt;span class=&quot;error&quot;&gt;&amp;#91;Cli,zookeeper&amp;#93;&lt;/span&gt;.vcproj to &lt;span class=&quot;error&quot;&gt;&amp;#91;Cli,zookeeper&amp;#93;&lt;/span&gt;.vcxproj because of the format change in visual c++ 2010. The build is failing because I forgot to add these .vcxproj files to the patch.&lt;/li&gt;
	&lt;li&gt;If you apply the patch with &quot;patch -p0 &amp;lt; &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1597&quot; title=&quot;Windows build failing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1597&quot;&gt;&lt;del&gt;ZOOKEEPER-1597&lt;/del&gt;&lt;/a&gt;.patch&quot;, you also need to do &quot;svn rm --force Cli.vcproj zookeeper.vcproj&quot;. Alternatively, you can do &quot;svn patch &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1597&quot; title=&quot;Windows build failing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1597&quot;&gt;&lt;del&gt;ZOOKEEPER-1597&lt;/del&gt;&lt;/a&gt;.patch&quot; if you are running svn 1.7.&lt;/li&gt;
	&lt;li&gt;Some files contain tab characters, but I left them as is since these files are auto-generated by visual studio.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13540360" author="hadoopqa" created="Fri, 28 Dec 2012 06:30:45 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12562553/ZOOKEEPER-1597.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12562553/ZOOKEEPER-1597.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1425215.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    -1 release audit.  The applied patch generated 26 release audit warnings (more than the trunk&apos;s current 24 warnings).&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1317//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1317//testReport/&lt;/a&gt;&lt;br/&gt;
Release audit warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1317//artifact/trunk/patchprocess/patchReleaseAuditProblems.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1317//artifact/trunk/patchprocess/patchReleaseAuditProblems.txt&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1317//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1317//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1317//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1317//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13540720" author="michim" created="Sat, 29 Dec 2012 01:51:19 +0000"  >&lt;p&gt;The audit is complaining about Cli.vcxproj, zookeeper.vcxproj, and winstdint.h missing the apache license header. I think it makes sense to add the header to winstdint.h, but I&apos;m not sure if the *.vcxproj files need the header.&lt;/p&gt;</comment>
                            <comment id="13553142" author="michim" created="Mon, 14 Jan 2013 21:34:22 +0000"  >&lt;p&gt;This patch is ready for review.&lt;/p&gt;

&lt;p&gt;--Michi&lt;/p&gt;</comment>
                            <comment id="13562463" author="phunt" created="Fri, 25 Jan 2013 06:33:50 +0000"  >&lt;p&gt;Thanks Michi, committed to trunk.&lt;/p&gt;</comment>
                            <comment id="13562465" author="phunt" created="Fri, 25 Jan 2013 06:36:50 +0000"  >&lt;p&gt;Looks like there&apos;s a small issue, from apache jenkins:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Build started 1/25/2013 6:35:14 AM.
Project &quot;f:\hudson\hudson-slave\workspace\ZooKeeper-trunk-WinVS2008\trunk\src\c\zookeeper.sln&quot; on node 0 (default targets).
  Building solution configuration &quot;Release|Win32&quot;.
f:\hudson\hudson-slave\workspace\ZooKeeper-trunk-WinVS2008\trunk\src\c\zookeeper.vcxproj(3,14): error MSB4066: The attribute &quot;Label&quot; in element &amp;lt;ItemGroup&amp;gt; is unrecognized.
Done Building Project &quot;f:\hudson\hudson-slave\workspace\ZooKeeper-trunk-WinVS2008\trunk\src\c\zookeeper.sln&quot; (default targets) -- FAILED.

Build FAILED.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13562478" author="michim" created="Fri, 25 Jan 2013 07:05:53 +0000"  >&lt;p&gt;It looks like a compatibility issue between visual c++ 2008 and 2010. I&apos;ll regenerate the project file using 2008. Sorry about that.&lt;/p&gt;

&lt;p&gt;--Michi&lt;/p&gt;</comment>
                            <comment id="13581521" author="phunt" created="Tue, 19 Feb 2013 18:58:56 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=michim&quot; class=&quot;user-hover&quot; rel=&quot;michim&quot;&gt;Michi Mutsuzaki&lt;/a&gt;, any update on this? Can you regenerate the files and I&apos;ll give it a try?&lt;/p&gt;</comment>
                            <comment id="13581684" author="michim" created="Tue, 19 Feb 2013 22:20:02 +0000"  >&lt;p&gt;Sorry for the delay Pat. Here is the patch. I verified that the project builds with visual studio 2008.&lt;/p&gt;</comment>
                            <comment id="13581716" author="hadoopqa" created="Tue, 19 Feb 2013 22:49:11 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12570011/ZOOKEEPER-1597.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12570011/ZOOKEEPER-1597.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1447621.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1397//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1397//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1397//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1397//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1397//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1397//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13582098" author="hudson" created="Wed, 20 Feb 2013 11:02:13 +0000"  >&lt;p&gt;Integrated in ZooKeeper-trunk #1840 (See &lt;a href=&quot;https://builds.apache.org/job/ZooKeeper-trunk/1840/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/ZooKeeper-trunk/1840/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1597&quot; title=&quot;Windows build failing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1597&quot;&gt;&lt;del&gt;ZOOKEEPER-1597&lt;/del&gt;&lt;/a&gt;. Windows build failing (michim via phunt) part 3 (Revision 1447982)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
phunt : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1447982&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1447982&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/zookeeper/trunk/src/c/Cli.vcproj&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/c/Cli.vcxproj&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/c/zookeeper.sln&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/c/zookeeper.vcproj&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/c/zookeeper.vcxproj&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13582283" author="phunt" created="Wed, 20 Feb 2013 16:18:04 +0000"  >&lt;p&gt;The jenkins build is working again. thanks Michi.&lt;/p&gt;</comment>
                            <comment id="13747467" author="fpj" created="Thu, 22 Aug 2013 13:12:42 +0100"  >&lt;p&gt;hey michi, I was wondering if it makes sense to backport this patch for the 3.4 branch. I can&apos;t even open the solution with visual studio. what do you think?&lt;/p&gt;</comment>
                            <comment id="13747802" author="michim" created="Thu, 22 Aug 2013 20:34:17 +0100"  >&lt;p&gt;Yes let&apos;s do that. I&apos;ll generate a patch for the 3.4 branch.&lt;/p&gt;</comment>
                            <comment id="13778723" author="fpj" created="Thu, 26 Sep 2013 13:40:49 +0100"  >&lt;p&gt;hey michi, any progress here?&lt;/p&gt;</comment>
                            <comment id="13778993" author="michim" created="Thu, 26 Sep 2013 18:26:38 +0100"  >&lt;p&gt;... sorry I forgot about this. I&apos;ll take care of this soon.&lt;/p&gt;

&lt;p&gt;By the way, there are 2 windows builds for trunk (ZooKeeper-trunk-WinVS2008 and ZooKeeper-trunk-WinVS2008_java). ZooKeeper-trunk-WinVS2008 is passing but ZooKeeper-trunk-WinVS2008_java is failing.&lt;br/&gt;
For 3.4 branch there is only one windows build: ZooKeeper-3.4-WinVS2008_java. Does anybody know why there is no ZooKeeper-3.4-WinVS2008?&lt;/p&gt;</comment>
                            <comment id="13779404" author="michim" created="Thu, 26 Sep 2013 23:44:01 +0100"  >&lt;p&gt;I couldn&apos;t simply cherry-pick the patches from trunk since the 3.4 branch uses an older configuration format. I need to spend a bit more time on this.&lt;/p&gt;</comment>
                            <comment id="13780449" author="fpj" created="Fri, 27 Sep 2013 22:32:50 +0100"  >&lt;blockquote&gt;&lt;p&gt;ZooKeeper-trunk-WinVS2008 is passing but ZooKeeper-trunk-WinVS2008_java is failing.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;On my machine, it fails because recursiveDelete is not able to delete temporary txn log files. It looks like at least some tests fail for the same reason on ZooKeeper-trunk-WinVS2008_java. I don&apos;t know why we don&apos;t have a 3.4-WinVS2008 build.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I couldn&apos;t simply cherry-pick the patches from trunk since the 3.4 branch uses an older configuration format. I need to spend a bit more time on this.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="13788705" author="phunt" created="Tue, 8 Oct 2013 00:26:56 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=michim&quot; class=&quot;user-hover&quot; rel=&quot;michim&quot;&gt;Michi Mutsuzaki&lt;/a&gt; any update on this? I don&apos;t know why we don&apos;t have comparable builds for 3.4/trunk but we should set them up once the existing ones are running clean. Thanks!&lt;/p&gt;</comment>
                            <comment id="13788708" author="michim" created="Tue, 8 Oct 2013 00:30:52 +0100"  >&lt;p&gt;I haven&apos;t had time to fix this. I&apos;ll try to get this done this week.&lt;/p&gt;</comment>
                            <comment id="13794255" author="fpj" created="Mon, 14 Oct 2013 17:34:39 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=michim&quot; class=&quot;user-hover&quot; rel=&quot;michim&quot;&gt;Michi Mutsuzaki&lt;/a&gt;, do you think you can produce a patch for this soon? I think it would be really good to have this one in.&lt;/p&gt;</comment>
                            <comment id="13794410" author="michim" created="Mon, 14 Oct 2013 21:07:02 +0100"  >&lt;p&gt;Update the solution file format to visual studio 2008. Tested the patch locally by building the project using visual studio 2008.&lt;/p&gt;</comment>
                            <comment id="13794414" author="michim" created="Mon, 14 Oct 2013 21:11:02 +0100"  >&lt;p&gt;Current build failure looks a java test failure. This patch probably won&apos;t fix the build failure.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/job/ZooKeeper-3.4-WinVS2008_java/324/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/ZooKeeper-3.4-WinVS2008_java/324/console&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13794417" author="hadoopqa" created="Mon, 14 Oct 2013 21:13:08 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12608334/ZOOKEEPER-1597-3.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12608334/ZOOKEEPER-1597-3.4.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1531444.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1693//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1693//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13794421" author="michim" created="Mon, 14 Oct 2013 21:14:56 +0100"  >&lt;p&gt;How do I tell buildbot that this patch is for 3.4 branch?&lt;/p&gt;</comment>
                            <comment id="13794435" author="fpj" created="Mon, 14 Oct 2013 21:24:55 +0100"  >&lt;p&gt;I don&apos;t know of a way of doing it, it would be nice if we could, though.&lt;/p&gt;</comment>
                            <comment id="13794647" author="phunt" created="Tue, 15 Oct 2013 00:41:57 +0100"  >&lt;p&gt;Not supported. Just commit the change and we&apos;ll roll the dice. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13811039" author="fpj" created="Fri, 1 Nov 2013 04:43:04 +0000"  >&lt;p&gt;+1, thanks, Michi.&lt;/p&gt;</comment>
                            <comment id="13824804" author="fpj" created="Sun, 17 Nov 2013 11:42:59 +0000"  >&lt;p&gt;Thanks a lot, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=michim&quot; class=&quot;user-hover&quot; rel=&quot;michim&quot;&gt;Michi Mutsuzaki&lt;/a&gt;! Branch 3.4 Committed revision 1542710.&lt;/p&gt;</comment>
                            <comment id="13933730" author="fpj" created="Thu, 13 Mar 2014 18:17:00 +0000"  >&lt;p&gt;Closing issues after releasing 3.4.6.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12608334" name="ZOOKEEPER-1597-3.4.patch" size="41325" author="michim" created="Mon, 14 Oct 2013 21:07:02 +0100"/>
                            <attachment id="12570011" name="ZOOKEEPER-1597.patch" size="30542" author="michim" created="Tue, 19 Feb 2013 22:16:52 +0000"/>
                            <attachment id="12562553" name="ZOOKEEPER-1597.patch" size="33527" author="michim" created="Fri, 28 Dec 2012 04:39:35 +0000"/>
                            <attachment id="12562010" name="ZOOKEEPER-1597.patch" size="8058" author="michim" created="Fri, 21 Dec 2012 00:16:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 20 Dec 2012 00:45:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>295913</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyxxiv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>231939</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>