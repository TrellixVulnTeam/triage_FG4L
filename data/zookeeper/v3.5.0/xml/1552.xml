<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:49:41 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/ZOOKEEPER-1552/ZOOKEEPER-1552.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[ZOOKEEPER-1552] Enable sync request processor in Observer</title>
                <link>https://issues.apache.org/jira/browse/ZOOKEEPER-1552</link>
                <project id="12310801" key="ZOOKEEPER">ZooKeeper</project>
                    <description>&lt;p&gt;Observer doesn&apos;t forward its txns to SyncRequestProcessor. So it never persists the txns onto disk or periodically creates snapshots. This increases the start-up time since it will get the entire snapshot if the observer has be running for a long time. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12609709">ZOOKEEPER-1552</key>
            <summary>Enable sync request processor in Observer</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fpj">Flavio Junqueira</assignee>
                                    <reporter username="thawan">Thawan Kooburat</reporter>
                        <labels>
                    </labels>
                <created>Mon, 1 Oct 2012 02:28:04 +0100</created>
                <updated>Thu, 13 Mar 2014 18:17:06 +0000</updated>
                            <resolved>Mon, 30 Sep 2013 21:55:51 +0100</resolved>
                                    <version>3.4.3</version>
                                    <fixVersion>3.4.6</fixVersion>
                    <fixVersion>3.5.0</fixVersion>
                                    <component>quorum</component>
                    <component>server</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>10</watches>
                                                                <comments>
                            <comment id="13466608" author="thawan" created="Mon, 1 Oct 2012 02:35:05 +0100"  >&lt;p&gt;The feature is enabled by default. There is no unit test that covers this feature, since the unit test in &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1551&quot; title=&quot;Observers ignore txns that come after snapshot and UPTODATE &quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1551&quot;&gt;&lt;del&gt;ZOOKEEPER-1551&lt;/del&gt;&lt;/a&gt; will cover it. &lt;/p&gt;

&lt;p&gt;The patch is tested manually, and we used this feature in our production environment.&lt;/p&gt;</comment>
                            <comment id="13466614" author="hadoopqa" created="Mon, 1 Oct 2012 03:10:40 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12547188/ZOOKEEPER-1552.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12547188/ZOOKEEPER-1552.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1391526.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1199//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1199//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1199//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1199//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1199//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1199//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13471025" author="fpj" created="Sat, 6 Oct 2012 15:24:41 +0100"  >&lt;p&gt;One issue I have with this proposal is that the semantics of the transaction log change form follower to observer. Followers log proposals they accepted but that are not necessarily committed. With this patch, an observer logs committed proposals coming in the form of inform messages. &lt;/p&gt;

&lt;p&gt;Otherwise, I don&apos;t see any other problem with this patch.&lt;/p&gt;</comment>
                            <comment id="13471686" author="thawan" created="Mon, 8 Oct 2012 18:31:34 +0100"  >&lt;p&gt;Observer doesn&apos;t participant in the voting, so this should not affect the correctness of the operation. This patch is mainly for optimization for observer restart and reusing existing facility minimize the code changes. Let me know if you want me to modify the patch in anyway.  &lt;/p&gt;</comment>
                            <comment id="13471833" author="fpj" created="Mon, 8 Oct 2012 21:26:31 +0100"  >&lt;p&gt;No, I don&apos;t have any great suggestion for improvement. My concern is semantics, since it looks like we would be using the same mechanism with different meanings. What if we document it? &lt;/p&gt;</comment>
                            <comment id="13484677" author="thawan" created="Fri, 26 Oct 2012 04:52:00 +0100"  >&lt;p&gt;Updated patch with added comments for txnlog semantic change &lt;/p&gt;</comment>
                            <comment id="13484694" author="hadoopqa" created="Fri, 26 Oct 2012 05:28:33 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12550917/ZOOKEEPER-1552.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12550917/ZOOKEEPER-1552.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1391526.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1240//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1240//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1240//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1240//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1240//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1240//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13533292" author="phunt" created="Sun, 16 Dec 2012 07:39:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fpj&quot; class=&quot;user-hover&quot; rel=&quot;fpj&quot;&gt;Flavio Junqueira&lt;/a&gt; any additional comments here?&lt;/p&gt;</comment>
                            <comment id="13533676" author="mahadev" created="Mon, 17 Dec 2012 06:33:16 +0000"  >&lt;p&gt;Thawan,&lt;br/&gt;
 This is a good idea. As for the patch, I think we have too many system properties spread around in the source code. Its best if we can use the ZooKeeper config file for this. What do others think? Other than that, the patch looks good.&lt;/p&gt;</comment>
                            <comment id="13534181" author="thawan" created="Mon, 17 Dec 2012 19:14:12 +0000"  >&lt;p&gt;I thinks there is a benefit of putting system property with the code. Since most of the property affect only a specific component. &lt;/p&gt;

&lt;p&gt;I agree that this is not a user-friendly way of exposing the config. However, I think we need a better facility for managing zookeeper config since the current one require so many code changes for each new config parameter. Anyway, I can do a separate patch to expose config parameters. &lt;/p&gt;</comment>
                            <comment id="13591250" author="thawan" created="Sat, 2 Mar 2013 03:32:13 +0000"  >&lt;p&gt;I can change list this a bug instead of an improvement, so that it is eligible for 3.4 branch. When we use the observer, we expected that it will also write to txnlog but it actually don&apos;t. &lt;/p&gt;</comment>
                            <comment id="13591454" author="rgs" created="Sat, 2 Mar 2013 17:35:40 +0000"  >&lt;p&gt;Small nit: typo in patch (&quot;recieved as INFORM packet&quot;). &lt;/p&gt;</comment>
                            <comment id="13591501" author="thawan" created="Sat, 2 Mar 2013 20:21:04 +0000"  >&lt;p&gt;Rebase and fix type&lt;/p&gt;</comment>
                            <comment id="13591516" author="hadoopqa" created="Sat, 2 Mar 2013 20:59:26 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12571755/ZOOKEEPER-1552.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12571755/ZOOKEEPER-1552.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1448007.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1417//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1417//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1417//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1417//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1417//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1417//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13628877" author="fanster.z" created="Thu, 11 Apr 2013 13:24:54 +0100"  >&lt;p&gt;HI &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thawan&quot; class=&quot;user-hover&quot; rel=&quot;thawan&quot;&gt;Thawan Kooburat&lt;/a&gt;, we commit proposal to SyncRequestprocessor, but SyncRequestprocessor may not flush it immediately.&lt;br/&gt;
Does we really expect that, throuth it&apos;s not a big deal to lose some txns here.&lt;br/&gt;
If we should make sure of that, we can make a new processor as the next processor of SyncRequestprocessor to execute &quot;commitProcessor.commit(request)&quot;.&lt;br/&gt;
Or some comments are help to clarify.&lt;/p&gt;</comment>
                            <comment id="13628966" author="hadoopqa" created="Thu, 11 Apr 2013 15:25:40 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12571755/ZOOKEEPER-1552.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12571755/ZOOKEEPER-1552.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1463329.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1454//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1454//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1454//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1454//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1454//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1454//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13629747" author="thawan" created="Fri, 12 Apr 2013 04:47:53 +0100"  >&lt;p&gt;I think it is ok for the observer not to flush the txns to disk.  All of these txns are already committed by the participants.  In the observer, writing these txns to disk is just an optimization to make it synchronize quicker with the leader.&lt;/p&gt;</comment>
                            <comment id="13650431" author="thawan" created="Tue, 7 May 2013 03:52:12 +0100"  >&lt;p&gt;I would say that we can also classify this jira as a bug as well in order to put this into 3.4 branch. This is because many people assumed that the observer is already writing to txnlog. Currently, it only writes a snapshot to disk after the synchronization phase.&lt;/p&gt;</comment>
                            <comment id="13660188" author="fpj" created="Fri, 17 May 2013 01:18:41 +0100"  >&lt;p&gt;My take is that we do not have to be strict and classify this jira as a bug just so that we have it in the 3.4 branch. I see this patch as an improvement because the way the code currently is is correct, but perhaps not as efficient as you&apos;d like. &lt;/p&gt;

&lt;p&gt;I&apos;d like to have a last look at the patch, since I haven&apos;t looked at this issue in a while. In any case, this is the next patch to get in in the description you added to &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1551&quot; title=&quot;Observers ignore txns that come after snapshot and UPTODATE &quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1551&quot;&gt;&lt;del&gt;ZOOKEEPER-1551&lt;/del&gt;&lt;/a&gt;, right? &lt;/p&gt;</comment>
                            <comment id="13660226" author="thawan" created="Fri, 17 May 2013 02:03:43 +0100"  >&lt;p&gt;Yes, we should get this patch in.&lt;/p&gt;

&lt;p&gt;Not sure how this patch will affect reconfig functionality though, since Alex mentioned that it is possible to promote an observer to a participant (or the leader).  &lt;/p&gt;</comment>
                            <comment id="13661527" author="fpj" created="Sun, 19 May 2013 11:41:01 +0100"  >&lt;blockquote&gt;&lt;p&gt;Not sure how this patch will affect reconfig functionality though, since Alex mentioned that it is possible to promote an observer to a participant (or the leader). &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The problematic case is participant-&amp;gt;observer because the observer with this patch uses the txn log for committed txns. Consequently, if we convert a participant to observer and the observer reads the txn log assuming that those txns have been committed, then it might reach an inconsistent state. But, the new observer will synchronize with the leader anyway before it starts, truncating if needed, so it should be fine. We need to make sure that it happens this way, though.&lt;/p&gt;</comment>
                            <comment id="13755766" author="fournc" created="Sun, 1 Sep 2013 18:32:47 +0100"  >&lt;p&gt;Do we have any movement on this? Looks like it is a dependency for &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1551&quot; title=&quot;Observers ignore txns that come after snapshot and UPTODATE &quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1551&quot;&gt;&lt;del&gt;ZOOKEEPER-1551&lt;/del&gt;&lt;/a&gt;, which is listed as a blocker for 3.4.6, and it would be great to get this done so we can do a release.&lt;/p&gt;</comment>
                            <comment id="13755787" author="fpj" created="Sun, 1 Sep 2013 20:00:43 +0100"  >&lt;p&gt;Good catch, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fournc&quot; class=&quot;user-hover&quot; rel=&quot;fournc&quot;&gt;Camille Fournier&lt;/a&gt;, thanks for pointing it out. It was not marked for 3.4.6, I just marked it.&lt;/p&gt;</comment>
                            <comment id="13758868" author="fpj" created="Thu, 5 Sep 2013 08:57:37 +0100"  >&lt;p&gt;A couple of things about this patch:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;It doesn&apos;t apply cleanly to 3.4.&lt;/li&gt;
	&lt;li&gt;About the system property, I think we should add a description to the documentation. As said in this jira, we should have a jira to expose configuration parameters. Has this jira been created already?&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="13758878" author="abranzyck" created="Thu, 5 Sep 2013 09:03:16 +0100"  >&lt;p&gt;I have dared to do a bit of cleanup on the patch so that it runs against current 3.4 branch. I believe I have modified only spaces and blank lines.&lt;/p&gt;</comment>
                            <comment id="13767228" author="thawan" created="Sat, 14 Sep 2013 01:23:51 +0100"  >&lt;p&gt;Attach a trunk patch&lt;/p&gt;</comment>
                            <comment id="13767239" author="thawan" created="Sat, 14 Sep 2013 01:32:00 +0100"  >&lt;p&gt;Re-upload German&apos;s patch &lt;/p&gt;</comment>
                            <comment id="13767240" author="hadoopqa" created="Sat, 14 Sep 2013 01:35:55 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12603168/ZOOKEEPER-1552-3.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12603168/ZOOKEEPER-1552-3.4.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1522079.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1579//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1579//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13767251" author="hadoopqa" created="Sat, 14 Sep 2013 01:42:59 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12603168/ZOOKEEPER-1552-3.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12603168/ZOOKEEPER-1552-3.4.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1522079.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1580//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1580//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13767260" author="hadoopqa" created="Sat, 14 Sep 2013 01:52:04 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12603168/ZOOKEEPER-1552-3.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12603168/ZOOKEEPER-1552-3.4.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1522079.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    -1 patch.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1581//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1581//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13767286" author="thawan" created="Sat, 14 Sep 2013 02:27:50 +0100"  >&lt;p&gt;Not sure how to tell Hadoop QA to pickup a certain file to run.   Also upload a documentation patch&lt;/p&gt;</comment>
                            <comment id="13768591" author="thawan" created="Mon, 16 Sep 2013 19:37:17 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fpj&quot; class=&quot;user-hover&quot; rel=&quot;fpj&quot;&gt;Flavio Junqueira&lt;/a&gt; If this looks good to you, I can commit the patch (and the documentation patch &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1758&quot; title=&quot;Add documentation for zookeeper.observer.syncEnabled flag&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1758&quot;&gt;&lt;del&gt;ZOOKEEPER-1758&lt;/del&gt;&lt;/a&gt;), so I can continue to work on &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1551&quot; title=&quot;Observers ignore txns that come after snapshot and UPTODATE &quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1551&quot;&gt;&lt;del&gt;ZOOKEEPER-1551&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13768775" author="fpj" created="Mon, 16 Sep 2013 22:19:51 +0100"  >&lt;p&gt;QA picks the last file uploaded. I&apos;ll review it shortly.&lt;/p&gt;</comment>
                            <comment id="13768845" author="fpj" created="Mon, 16 Sep 2013 23:09:23 +0100"  >&lt;p&gt;One clarification question. In one of your comments, you talk about a separate patch to expose configuration through the configuration file. Is the plan to have that patch for 3.4.6 as well? I&apos;m asking because in another jira, the preference was for parameters set through the configuration file. I think it would be good to have this one through the configuration file as well, if it is not a big deal.&lt;/p&gt;

&lt;p&gt;There is a typo in the last comment of ObserverZooKeeperServer. &lt;/p&gt;</comment>
                            <comment id="13768988" author="thawan" created="Tue, 17 Sep 2013 01:05:35 +0100"  >&lt;p&gt;I haven&apos;t start working on it and has no plan to work on that in a near future. If we really need a config file, we can just modify the start up script to read a file and set up JVM property on start up. This is essentially what we do on our internal branch.  &lt;/p&gt;</comment>
                            <comment id="13769573" author="fpj" created="Tue, 17 Sep 2013 15:51:13 +0100"  >&lt;p&gt;Is it ok with you if I modify your patch to have this parameter set as part of configuration files? I was thinking of simply adding a parameter to QuorumPeerConfig.&lt;/p&gt;</comment>
                            <comment id="13770433" author="thawan" created="Wed, 18 Sep 2013 05:59:31 +0100"  >&lt;p&gt;No problem, please go ahead&lt;/p&gt;</comment>
                            <comment id="13770655" author="fpj" created="Wed, 18 Sep 2013 12:04:50 +0100"  >&lt;p&gt;Canceling patch to change configuration.&lt;/p&gt;</comment>
                            <comment id="13773577" author="fpj" created="Sat, 21 Sep 2013 00:16:29 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thawan&quot; class=&quot;user-hover&quot; rel=&quot;thawan&quot;&gt;Thawan Kooburat&lt;/a&gt;, could you please have a look at this 3.4 patch? Once we converge on it, I&apos;ll generate the trunk version.&lt;/p&gt;</comment>
                            <comment id="13773690" author="thawan" created="Sat, 21 Sep 2013 03:24:46 +0100"  >&lt;p&gt;Is it possible that we also keep the JVM flag? &lt;/p&gt;

&lt;p&gt;All of the patch from our internal branch have a coding convention of introducing a JVM flag into a file that it affect the functionality. I can debate why it has some merit but I do agree that configuration file is easier to use for user. If this coding convention is not accept by upstream, I will have to change our internal coding convention as well because all pending/future patch has this style. &lt;/p&gt;
</comment>
                            <comment id="13773830" author="fpj" created="Sat, 21 Sep 2013 15:51:30 +0100"  >&lt;p&gt;I must agree that adding configuration parameters is currently a pain, and it shouldn&apos;t be. At the same time, I&apos;ve been sensing a preference for configuration file parameters across different jiras, so my suggestion to use the config file facility. If no one else complains, it is fine with me to have it as you suggest, I&apos;m uploading a new patch. Have a look, please. &lt;/p&gt;</comment>
                            <comment id="13775737" author="fpj" created="Mon, 23 Sep 2013 23:42:06 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thawan&quot; class=&quot;user-hover&quot; rel=&quot;thawan&quot;&gt;Thawan Kooburat&lt;/a&gt;, could you please comment on the last patch for the 3.4 branch I have uploaded when you have a chance? If you can +1 it, even better. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Note that there are two patches I have uploaded on Sep. 21, it should be the one uploaded later in the day.&lt;/p&gt;</comment>
                            <comment id="13778175" author="thawan" created="Wed, 25 Sep 2013 23:25:55 +0100"  >&lt;p&gt;LTGM  +1&lt;/p&gt;</comment>
                            <comment id="13779288" author="fpj" created="Thu, 26 Sep 2013 22:48:36 +0100"  >&lt;p&gt;Thanks, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thawan&quot; class=&quot;user-hover&quot; rel=&quot;thawan&quot;&gt;Thawan Kooburat&lt;/a&gt;. Have a look at this trunk patch, please, so that we can get this one in.&lt;/p&gt;</comment>
                            <comment id="13779312" author="hadoopqa" created="Thu, 26 Sep 2013 23:22:53 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12605339/ZOOKEEPER-1552-trunk.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12605339/ZOOKEEPER-1552-trunk.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 1526454.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    -1 tests included.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1601//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1601//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1601//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1601//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1601//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-ZOOKEEPER-Build/1601//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13782168" author="thawan" created="Mon, 30 Sep 2013 21:09:41 +0100"  >&lt;p&gt;+1   Thanks a lot Flavio&lt;/p&gt;</comment>
                            <comment id="13782233" author="thawan" created="Mon, 30 Sep 2013 21:55:51 +0100"  >&lt;p&gt;Committed to 3.5.0 and 3.4.6&lt;/p&gt;</comment>
                            <comment id="13782820" author="hudson" created="Tue, 1 Oct 2013 12:11:23 +0100"  >&lt;p&gt;SUCCESS: Integrated in ZooKeeper-trunk #2075 (See &lt;a href=&quot;https://builds.apache.org/job/ZooKeeper-trunk/2075/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/ZooKeeper-trunk/2075/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-1552&quot; title=&quot;Enable sync request processor in Observer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-1552&quot;&gt;&lt;del&gt;ZOOKEEPER-1552&lt;/del&gt;&lt;/a&gt;. Enable sync request processor in Observer (thawan, fpj) (thawan: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1527760&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1527760&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/zookeeper/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/java/main/org/apache/zookeeper/server/SyncRequestProcessor.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/java/main/org/apache/zookeeper/server/quorum/ObserverZooKeeperServer.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/java/main/org/apache/zookeeper/server/quorum/QuorumPeer.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/java/main/org/apache/zookeeper/server/quorum/QuorumPeerConfig.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/trunk/src/java/main/org/apache/zookeeper/server/quorum/QuorumPeerMain.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13933751" author="fpj" created="Thu, 13 Mar 2014 18:17:06 +0000"  >&lt;p&gt;Closing issues after releasing 3.4.6.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310060">
                    <name>Container</name>
                                            <outwardlinks description="contains">
                                        <issuelink>
            <issuekey id="12553696">ZOOKEEPER-1462</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12609708">ZOOKEEPER-1551</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12668601">ZOOKEEPER-1758</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12603168" name="ZOOKEEPER-1552-3.4.patch" size="5708" author="thawan" created="Sat, 14 Sep 2013 01:32:00 +0100"/>
                            <attachment id="12604397" name="ZOOKEEPER-1552-b3.4.patch" size="8971" author="fpj" created="Sat, 21 Sep 2013 15:54:32 +0100"/>
                            <attachment id="12604340" name="ZOOKEEPER-1552-b3.4.patch" size="8564" author="fpj" created="Sat, 21 Sep 2013 00:16:29 +0100"/>
                            <attachment id="12605339" name="ZOOKEEPER-1552-trunk.patch" size="9186" author="fpj" created="Thu, 26 Sep 2013 22:48:36 +0100"/>
                            <attachment id="12603167" name="ZOOKEEPER-1552.patch" size="5709" author="thawan" created="Sat, 14 Sep 2013 01:23:51 +0100"/>
                            <attachment id="12601575" name="ZOOKEEPER-1552.patch" size="5708" author="abranzyck" created="Thu, 5 Sep 2013 09:03:16 +0100"/>
                            <attachment id="12571755" name="ZOOKEEPER-1552.patch" size="7916" author="thawan" created="Sat, 2 Mar 2013 20:21:04 +0000"/>
                            <attachment id="12550917" name="ZOOKEEPER-1552.patch" size="7916" author="thawan" created="Fri, 26 Oct 2012 04:52:00 +0100"/>
                            <attachment id="12547188" name="ZOOKEEPER-1552.patch" size="7679" author="thawan" created="Mon, 1 Oct 2012 02:35:05 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 1 Oct 2012 02:10:40 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>239578</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxulw7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2366</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>