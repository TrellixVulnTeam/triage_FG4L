<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:40:44 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/OPENJPA-967/OPENJPA-967.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[OPENJPA-967] JPA2 Query support for selction of KEY, VALUE, ENTRY of a Map value</title>
                <link>https://issues.apache.org/jira/browse/OPENJPA-967</link>
                <project id="12310351" key="OPENJPA">OpenJPA</project>
                    <description></description>
                <environment>This sub-task is to finishing up the selection of ENTRY, VALUE, ENTRY work started in &lt;a href=&quot;https://issues.apache.org/jira/browse/OPENJPA-879&quot; title=&quot;JPA2 Query support for general and qualified identification variable &quot; class=&quot;issue-link&quot; data-issue-key=&quot;OPENJPA-879&quot;&gt;&lt;strike&gt;OPENJPA-879&lt;/strike&gt;&lt;/a&gt; (iteration 4 sub-task).&lt;br/&gt;
This sub-task is to add additional support for map value with @MapKeyClass and/or @MapJoinColumn(s) annotations.</environment>
        <key id="12416396">OPENJPA-967</key>
            <summary>JPA2 Query support for selction of KEY, VALUE, ENTRY of a Map value</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12416215">OPENJPA-956</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fancy">Catalina Wei</assignee>
                                    <reporter username="fancy">Catalina Wei</reporter>
                        <labels>
                    </labels>
                <created>Sun, 8 Mar 2009 22:27:45 +0000</created>
                <updated>Tue, 9 Mar 2010 18:31:11 +0000</updated>
                            <resolved>Thu, 26 Mar 2009 22:58:51 +0000</resolved>
                                    <version>2.0.0-M2</version>
                                    <fixVersion>2.0.0-M2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12681426" author="fancy" created="Thu, 12 Mar 2009 18:18:29 +0000"  >&lt;p&gt;In evaluating support for KEY(e),&lt;br/&gt;
the following JPQL queries should be considiered not valid:&lt;/p&gt;

&lt;p&gt;    1. select e from Dept d join d.emps e where KEY(e) IS NULL&lt;/p&gt;

&lt;p&gt;        IS NULL predicate is for evaluating association fields.&lt;br/&gt;
        KEY(e) can be a basic type, an embeddable class, or an entity class; KEY(e) is not an association field.&lt;/p&gt;

&lt;p&gt;    2. select KEY(e) from Dept d join d.emps e ORDER BY KEY(e)&lt;/p&gt;

&lt;p&gt;        The JPA2 Spec says, order item should be a state_field_path_expression; KEY(e) is not a state_field_path_expression.&lt;/p&gt;

&lt;p&gt;        The following query is valid ; KEY(e).address.city is a state_field_path_expression:&lt;/p&gt;

&lt;p&gt;        select KEY(e) from Dept d join d.emps ORDER BY KEY(e).address.city&lt;/p&gt;

&lt;p&gt;  3. select COUNT(KEY(e)) from Dept d join d.emps e GROUP BY KEY(e)&lt;/p&gt;

&lt;p&gt;     a GROUP BY item requires an aggregate function in the selection list, but&lt;br/&gt;
          the KEY(e) is not allowed as an argument of COUNT function.&lt;/p&gt;

&lt;p&gt;       The following query should be valid since KEY(e).address.city is a state_field_path_expression; a valid argument to COUNT and a valid group by item:&lt;/p&gt;

&lt;p&gt;       select COUNT(KEY(e).address.city) from Dept d join d.emps e GROUP BY KEY(e).address.city &lt;/p&gt;</comment>
                            <comment id="12695660" author="fancy" created="Sat, 4 Apr 2009 02:36:03 +0100"  >&lt;p&gt;The initial implementation for embeddable Map Key materialized the embeddable&apos;s owning entity,&lt;br/&gt;
which from query result standpoint, is undesirable side effect.&lt;br/&gt;
The revision r761851 has reworked on the support for embeddable Map Key.&lt;br/&gt;
It is no longer materializing the owner entity of embeddable Map Keys.&lt;/p&gt;

&lt;p&gt;However, more rework is needed to move function performed in PCPath.selectEmbededMapKey() and loadEmbeddedMapKey() methods to relation&apos;s MapTableField strategies.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>161264</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyt4nj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>203934</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>