<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:41:01 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/OPENJPA-2030/OPENJPA-2030.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[OPENJPA-2030] Build auditing facility</title>
                <link>https://issues.apache.org/jira/browse/OPENJPA-2030</link>
                <project id="12310351" key="OPENJPA">OpenJPA</project>
                    <description>&lt;p&gt;Auditing or change tracking is an important function for transactional systems. &lt;br/&gt;
We have sufficient support to build a facility that will allow the user to mark an entity @Auditable and an AuditManager to capture the changes in a transaction for @Audiatble instance via existing callbacks. &lt;br/&gt;
Such an AuditManager should be configurable for the user to decide where the audit information being persisted (could be the same database, a separate database or something entirely different such as JMS queue or a file (or a printer, as someone had suggested). &lt;/p&gt;
</description>
                <environment></environment>
        <key id="12514086">OPENJPA-2030</key>
            <summary>Build auditing facility</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ppoddar@apache.org">Pinaki Poddar</assignee>
                                    <reporter username="ppoddar@apache.org">Pinaki Poddar</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Jul 2011 17:23:58 +0100</created>
                <updated>Thu, 28 Mar 2013 15:25:28 +0000</updated>
                            <resolved>Thu, 28 Mar 2013 15:25:28 +0000</resolved>
                                                                    <component>kernel</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13065533" author="kwsutter" created="Thu, 14 Jul 2011 22:06:37 +0100"  >&lt;p&gt;from Bengt Rodehav bengt@rodehav.com via openjpa.apache.org to dev&lt;/p&gt;

&lt;p&gt;Excellent idea!&lt;/p&gt;

&lt;p&gt;I think it&apos;s probably good to have the actual logging (serialization or what&lt;br/&gt;
not) pluggable since that&apos;s an area where people will have very different&lt;br/&gt;
requirements.&lt;/p&gt;

&lt;p&gt;/Bengt&lt;/p&gt;</comment>
                            <comment id="13065537" author="kwsutter" created="Thu, 14 Jul 2011 22:08:40 +0100"  >&lt;p&gt;For a much longer history on this request, please look at the openjpa users forum...&lt;br/&gt;
&lt;a href=&quot;http://openjpa.208410.n2.nabble.com/Audit-log-with-OpenJPA-tc6557932.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://openjpa.208410.n2.nabble.com/Audit-log-with-OpenJPA-tc6557932.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13071432" author="rodehav" created="Wed, 27 Jul 2011 00:30:52 +0100"  >&lt;p&gt;It seems like it is not possible to retrieve the values of the previous version of an entity. Only the values that have actually been updated can be retrieved - the rest are uninitialized. I attach a test case to prove my point.&lt;/p&gt;

&lt;p&gt;I&apos;ve used the SaveFieldManager in a @PreUpdate callback in an attempt to store a serialized version of the previous version of the entity whenever the entity is updated. I do not only want to store the changed values but the whole entity.&lt;/p&gt;

&lt;p&gt;This functionality must be available and also possible to achieve in a supported audit log.&lt;/p&gt;</comment>
                            <comment id="13071434" author="rodehav" created="Wed, 27 Jul 2011 00:32:56 +0100"  >&lt;p&gt;Attached AuditLogTest.zip which shows that only updated values are initialized when using the SaveFieldManager in a @PreUpdate callback.&lt;/p&gt;</comment>
                            <comment id="13088259" author="rodehav" created="Sat, 20 Aug 2011 21:18:14 +0100"  >&lt;p&gt;Just interested to find out whether you&apos;ve come to a decision as to what to support. I guess a first step is to provide the necessary plumbing to make it possible for a developer to implement audit logging. Long term I think something like Envers  would be good for OpenJPA.&lt;/p&gt;

&lt;p&gt;I would really like some basic support in the next version of OpenJPA since it&apos;s a mandatory feature for &quot;enterprisy&quot; applications.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12487916" name="AuditLogTest.zip" size="5989" author="rodehav" created="Wed, 27 Jul 2011 00:32:56 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 14 Jul 2011 21:06:37 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2296</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hz7p9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>289065</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>