<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:30:06 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/OPENJPA-2044/OPENJPA-2044.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[OPENJPA-2044] Invalid header in MetaModel classes generated by AnnotationProcessor</title>
                <link>https://issues.apache.org/jira/browse/OPENJPA-2044</link>
                <project id="12310351" key="OPENJPA">OpenJPA</project>
                    <description>&lt;p&gt;The documentation at &lt;a href=&quot;http://openjpa.apache.org/builds/latest/docs/manual/ch13s04.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://openjpa.apache.org/builds/latest/docs/manual/ch13s04.html&lt;/a&gt; talks about an option available in org.apache.openjpa.persistence.meta.AnnotationProcessor6:&lt;/p&gt;

&lt;p&gt;-Aopenjpa.header=&amp;lt;url&amp;gt; : A url whose content will appear as comment header to the generated file(s). &lt;/p&gt;

&lt;p&gt;This option does not work.&lt;/p&gt;

&lt;p&gt;If I give it a URL - either an http or a file URL - it doesn&apos;t put the contents from these URLs into the header of the generated files. It puts something like:&lt;/p&gt;

&lt;p&gt;sun.net.www. content.text.PlainTextInputStream@9ea09ea &lt;/p&gt;

&lt;p&gt;in the header instead.&lt;/p&gt;


&lt;p&gt;I suspect that the AnnotationProcessor is essentially doing:&lt;/p&gt;

&lt;p&gt;URL headerurl = new URL(&amp;lt;openjpa.header value&amp;gt;);&lt;br/&gt;
String newHeaderComment = headerurl.getContent().toString();&lt;/p&gt;

&lt;p&gt;The getContent() is returning an InputStream - as documented here in the absence of a content handler factory: &lt;a href=&quot;http://download.oracle.com/javase/6/docs/api/java/net/URLConnection.html#getContent(&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://download.oracle.com/javase/6/docs/api/java/net/URLConnection.html#getContent(&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;Then the toString() call just returns the string representation of the instance of the InputStream object. &lt;/p&gt;

&lt;p&gt;I think the AnnotationProcessor should read from the stream instead?&lt;/p&gt;</description>
                <environment>Any</environment>
        <key id="12520095">OPENJPA-2044</key>
            <summary>Invalid header in MetaModel classes generated by AnnotationProcessor</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.png">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwsutter">Kevin Sutter</assignee>
                                    <reporter username="dalelane">Dale Lane</reporter>
                        <labels>
                            <label>openjpa</label>
                    </labels>
                <created>Thu, 25 Aug 2011 12:30:52 +0100</created>
                <updated>Fri, 3 Feb 2012 16:21:49 +0000</updated>
                            <resolved>Thu, 2 Feb 2012 19:35:48 +0000</resolved>
                                    <version>2.0.1</version>
                    <version>2.1.1</version>
                    <version>2.2.0</version>
                                    <fixVersion>2.2.0</fixVersion>
                                    <component>criteria</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <timeoriginalestimate seconds="1800">0.5h</timeoriginalestimate>
                            <timeestimate seconds="1800">0.5h</timeestimate>
                                        <comments>
                            <comment id="13126011" author="kwsutter" created="Wed, 12 Oct 2011 19:16:06 +0100"  >&lt;p&gt;Dale was right on with his comments.  The openjpa.header property on the AnnotationProcessor was not being processed correctly.  I am in the process of correcting this.&lt;/p&gt;</comment>
                            <comment id="13126563" author="ppoddar@apache.org" created="Thu, 13 Oct 2011 14:26:21 +0100"  >&lt;p&gt;If you are fixing this, please put the fix of reading the content of an URL into openjpa-lib/...../Files.java&lt;/p&gt;</comment>
                            <comment id="13126581" author="kwsutter" created="Thu, 13 Oct 2011 14:45:24 +0100"  >&lt;p&gt;I already committed the changes to trunk.  Since the original URL processing code was localized to AnnotationProcessor6, I followed the same pattern.  Moving this type of simple change to Files seemed like overkill.  And, since the actual processing of the stream into Comment format is pretty unique to the SourceCode file, I really didn&apos;t see a need to generalize it for Files.&lt;/p&gt;</comment>
                            <comment id="13128882" author="dalelane" created="Mon, 17 Oct 2011 14:48:43 +0100"  >&lt;p&gt;Tried the fix from a nightly snapshot - it fixed the problem for us. The MetaModel classes are now being generated correctly. Many thanks.&lt;/p&gt;</comment>
                            <comment id="13199140" author="kwsutter" created="Thu, 2 Feb 2012 19:35:48 +0000"  >&lt;p&gt;Resolved in trunk (2.2.0-SNAPSHOT).&lt;/p&gt;</comment>
                            <comment id="13199818" author="allee8285" created="Fri, 3 Feb 2012 16:21:49 +0000"  >&lt;p&gt;Close issue in-preparation for 2.2.0 release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 12 Oct 2011 18:16:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2282</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hz7pkn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>289113</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>