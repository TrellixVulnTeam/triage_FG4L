<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:44:54 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/OPENJPA-732/OPENJPA-732.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[OPENJPA-732] Updates to entities via Lifecycle callback methods </title>
                <link>https://issues.apache.org/jira/browse/OPENJPA-732</link>
                <project id="12310351" key="OPENJPA">OpenJPA</project>
                    <description>&lt;p&gt;&lt;a href=&quot;http://n2.nabble.com/Updates-to-entities-via-Lifecycle-callback-methods-td1110631.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://n2.nabble.com/Updates-to-entities-via-Lifecycle-callback-methods-td1110631.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;In a nutshell, if we are to allow the updating of the entities passed into the Lifecycle callback methods, then we have a couple of problems (given the scenario of updating the entity passed into the @PreUpdate method):&lt;/p&gt;

&lt;p&gt;o  The designated @Version field is getting updated more often than desired causing the transaction to rollback.&lt;br/&gt;
o  The @PostUpdate method is getting invoked more than once.&lt;/p&gt;

&lt;p&gt;I will post a testcase shortly.  If and when we decide to fix this, this simple testcase will need to be expanded to include the updating of entities in other scenarios as well.&lt;/p&gt;

&lt;p&gt;I am also getting verification from the JPA Expert Group as to whether these entities are supposed to be updatable or not.  As one of the dev postings indicated, our OpenJPA documentation indicates that they are updatable.  But, the JPA spec itself is not clear on this capability.  Other vendors, such as Hibernate, allow for this.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12405004">OPENJPA-732</key>
            <summary>Updates to entities via Lifecycle callback methods </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="allee8285">Albert Lee</assignee>
                                    <reporter username="kwsutter">Kevin Sutter</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Sep 2008 20:51:21 +0100</created>
                <updated>Fri, 2 Oct 2009 19:31:36 +0100</updated>
                            <resolved>Wed, 29 Oct 2008 19:06:12 +0000</resolved>
                                    <version>1.2.1</version>
                    <version>1.3.0</version>
                                    <fixVersion>1.2.2</fixVersion>
                    <fixVersion>2.0.0-M2</fixVersion>
                                    <component>kernel</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                            <comments>
                            <comment id="12633872" author="kwsutter" created="Tue, 23 Sep 2008 21:10:34 +0100"  >&lt;p&gt;Testcase for this JIRA Issue.&lt;/p&gt;</comment>
                            <comment id="12636496" author="allee8285" created="Thu, 2 Oct 2008 23:51:36 +0100"  >&lt;p&gt;Reopen issue due to test regression.&lt;/p&gt;</comment>
                            <comment id="12729301" author="mikedd" created="Thu, 9 Jul 2009 16:43:26 +0100"  >&lt;p&gt;Re-attaching patches provided by B.J. Reed for issue &lt;a href=&quot;https://issues.apache.org/jira/browse/OPENJPA-327&quot; title=&quot;EntityListener that modify property value of a entity, causes invalid state exception&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OPENJPA-327&quot;&gt;&lt;del&gt;OPENJPA-327&lt;/del&gt;&lt;/a&gt;. As it turns out the same fix resolves both issues and I&apos;d like to use a single JIRA issue for tracking.&lt;/p&gt;</comment>
                            <comment id="12729396" author="bjreed" created="Thu, 9 Jul 2009 20:49:38 +0100"  >&lt;p&gt;Patches broke some other test cases...changing HashSet to LinkedHashSet (like current trunk version of BrokerImpl) fixes these&lt;/p&gt;</comment>
                            <comment id="12761661" author="drwoods" created="Fri, 2 Oct 2009 19:31:36 +0100"  >&lt;p&gt;was fixed in 1.2.2 and trunk, not 1.3.0&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                            <outwardlinks description="is a clone of">
                                        <issuelink>
            <issuekey id="12376633">OPENJPA-327</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                            <outwardlinks description="incorporates">
                                        <issuelink>
            <issuekey id="12376633">OPENJPA-327</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12425708">OPENJPA-1092</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12413052" name="OPENJPA-732-1.0.patch" size="22371" author="bjreed" created="Thu, 9 Jul 2009 20:49:38 +0100"/>
                            <attachment id="12413053" name="OPENJPA-732-1.2.patch" size="22370" author="bjreed" created="Thu, 9 Jul 2009 20:49:38 +0100"/>
                            <attachment id="12390781" name="openjpa-732-test.zip" size="6027" author="kwsutter" created="Tue, 23 Sep 2008 21:10:34 +0100"/>
                    </attachments>
                <subtasks>
                            <subtask id="12407378">OPENJPA-754</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 2 Oct 2008 22:51:36 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>161041</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hystuv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>202185</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>