<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:39:10 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/OPENJPA-2378/OPENJPA-2378.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[OPENJPA-2378] TestHandlerStrategy.testIssue_OPENJPA2328 failed with Oracle</title>
                <link>https://issues.apache.org/jira/browse/OPENJPA-2378</link>
                <project id="12310351" key="OPENJPA">OpenJPA</project>
                    <description>&lt;p&gt;TestHandlerStrategy was introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/OPENJPA-2328&quot; title=&quot;NPE caused by one too many calls on the iterator inside the library.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OPENJPA-2328&quot;&gt;&lt;del&gt;OPENJPA-2328&lt;/del&gt;&lt;/a&gt;. This passed in Derby but failed when run against Oracle and yielded the following error.&lt;/p&gt;

&lt;p&gt;     73   &amp;lt;testcase time=&quot;0.443&quot; classname=&quot;org.apache.openjpa.persistence.jdbc.strategy.TestHandlerStrategy&quot; name=&quot;testIssue_OPENJPA2328&quot;&amp;gt;&lt;br/&gt;
     74     &amp;lt;error message=&quot;The transaction has been rolled back.  See the nested exceptions for details on the errors that occurred.&quot; type=&quot;&amp;lt;openjpa-2.3.0-SNAPSHOT-r422266&quot;&amp;gt;&amp;lt;openjpa-2.3.0-SN        APSHOT-r422266:1447955 fatal store error&amp;gt; org.apache.openjpa.persistence.RollbackException: The transaction has been rolled back.  See the nested exceptions for details on the errors tha        t occurred.&lt;br/&gt;
     75 FailedObject: org.apache.openjpa.persistence.jdbc.strategy.MappedEntity@3b5ad1da&lt;br/&gt;
     76   at org.apache.openjpa.persistence.EntityManagerImpl.commit(EntityManagerImpl.java:594)&lt;br/&gt;
     77   at org.apache.openjpa.persistence.jdbc.strategy.TestHandlerStrategy.testIssue_OPENJPA2328(TestHandlerStrategy.java:46)&lt;br/&gt;
     78   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
 ....&lt;br/&gt;
    108 Caused by: &amp;lt;openjpa-2.3.0-SNAPSHOT-r422266:1447955 fatal general error&amp;gt; org.apache.openjpa.persistence.PersistenceException: The transaction has been rolled back.  See the nested exce        ptions for details on the errors that occurred.&lt;br/&gt;
    109 FailedObject: org.apache.openjpa.persistence.jdbc.strategy.MappedEntity@3b5ad1da&lt;br/&gt;
    110   at org.apache.openjpa.kernel.BrokerImpl.newFlushException(BrokerImpl.java:2341)&lt;br/&gt;
    111   at org.apache.openjpa.kernel.BrokerImpl.flush(BrokerImpl.java:2178)&lt;br/&gt;
    112   at org.apache.openjpa.kernel.BrokerImpl.flushSafe(BrokerImpl.java:2076)&lt;br/&gt;
    113   at org.apache.openjpa.kernel.BrokerImpl.beforeCompletion(BrokerImpl.java:1994)&lt;br/&gt;
    114   at org.apache.openjpa.kernel.LocalManagedRuntime.commit(LocalManagedRuntime.java:81)&lt;br/&gt;
    115   at org.apache.openjpa.kernel.BrokerImpl.commit(BrokerImpl.java:1518)&lt;br/&gt;
    116   at org.apache.openjpa.kernel.DelegatingBroker.commit(DelegatingBroker.java:933)&lt;br/&gt;
    117   at org.apache.openjpa.persistence.EntityManagerImpl.commit(EntityManagerImpl.java:570)&lt;br/&gt;
    118   ... 31 more&lt;br/&gt;
    119 Caused by: &amp;lt;openjpa-2.3.0-SNAPSHOT-r422266:1447955 fatal store error&amp;gt; org.apache.openjpa.persistence.EntityExistsException: ORA-01400: cannot insert NULL into (&amp;quot;SCOTT&amp;quot;.&amp;amp;quot        ;MAPPEDENTITY&amp;quot;.&amp;quot;ID&amp;quot;)&lt;br/&gt;
    120  &lt;/p&gt;
{prepstmnt 1311769641 INSERT INTO MappedEntity (value) VALUES (?)} &lt;span class=&quot;error&quot;&gt;&amp;#91;code=1400, state=23000&amp;#93;&lt;/span&gt;&lt;br/&gt;
    121 FailedObject: org.apache.openjpa.persistence.jdbc.strategy.MappedEntity@3b5ad1da&lt;br/&gt;
    122   at org.apache.openjpa.jdbc.sql.DBDictionary.narrow(DBDictionary.java:4935)&lt;br/&gt;
    123   at org.apache.openjpa.jdbc.sql.DBDictionary.newStoreException(DBDictionary.java:4910)&lt;br/&gt;
    124   at org.apache.openjpa.jdbc.sql.SQLExceptions.getStore(SQLExceptions.java:136)&lt;br/&gt;
    125   at org.apache.openjpa.jdbc.sql.SQLExceptions.getStore(SQLExceptions.java:78)&lt;br/&gt;
    126   at org.apache.openjpa.jdbc.kernel.PreparedStatementManagerImpl.flushAndUpdate(PreparedStatementManagerImpl.java:144)&lt;br/&gt;
    127   at org.apache.openjpa.jdbc.kernel.BatchingPreparedStatementManagerImpl.flushAndUpdate(BatchingPreparedStatementManagerImpl.java:79)&lt;br/&gt;
    128   at org.apache.openjpa.jdbc.kernel.PreparedStatementManagerImpl.flushInternal(PreparedStatementManagerImpl.java:100)&lt;br/&gt;
    129   at org.apache.openjpa.jdbc.kernel.PreparedStatementManagerImpl.flush(PreparedStatementManagerImpl.java:88)&lt;br/&gt;
    130   at org.apache.openjpa.jdbc.kernel.ConstraintUpdateManager.flush(ConstraintUpdateManager.java:550)&lt;br/&gt;
    131   at org.apache.openjpa.jdbc.kernel.ConstraintUpdateManager.flush(ConstraintUpdateManager.java:106)&lt;br/&gt;
    132   at org.apache.openjpa.jdbc.kernel.BatchingConstraintUpdateManager.flush(BatchingConstraintUpdateManager.java:59)&lt;br/&gt;
    133   at org.apache.openjpa.jdbc.kernel.AbstractUpdateManager.flush(AbstractUpdateManager.java:105)&lt;br/&gt;
    134   at org.apache.openjpa.jdbc.kernel.AbstractUpdateManager.flush(AbstractUpdateManager.java:78)&lt;br/&gt;
    135   at org.apache.openjpa.jdbc.kernel.JDBCStoreManager.flush(JDBCStoreManager.java:732)&lt;br/&gt;
    136   at org.apache.openjpa.kernel.DelegatingStoreManager.flush(DelegatingStoreManager.java:131)&lt;br/&gt;
    137   ... 38 more&lt;br/&gt;
    138 Caused by: org.apache.openjpa.lib.jdbc.ReportingSQLException: ORA-01400: cannot insert NULL into (&amp;quot;SCOTT&amp;quot;.&amp;quot;MAPPEDENTITY&amp;quot;.&amp;quot;ID&amp;quot;)&lt;br/&gt;
    139  {prepstmnt 1311769641 INSERT INTO MappedEntity (value) VALUES (?)}
&lt;p&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;code=1400, state=23000&amp;#93;&lt;/span&gt;&lt;br/&gt;
    140   at org.apache.openjpa.lib.jdbc.LoggingConnectionDecorator.wrap(LoggingConnectionDecorator.java:219)&lt;br/&gt;
    141   at org.apache.openjpa.lib.jdbc.LoggingConnectionDecorator.wrap(LoggingConnectionDecorator.java:195)&lt;br/&gt;
    142   at org.apache.openjpa.lib.jdbc.LoggingConnectionDecorator.access$1000(LoggingConnectionDecorator.java:59)&lt;br/&gt;
    143   at org.apache.openjpa.lib.jdbc.LoggingConnectionDecorator$LoggingConnection$LoggingPreparedStatement.executeUpdate(LoggingConnectionDecorator.java:1134)&lt;br/&gt;
    144   at org.apache.openjpa.lib.jdbc.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:275)&lt;br/&gt;
    145   at org.apache.openjpa.lib.jdbc.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:275)&lt;br/&gt;
    146   at org.apache.openjpa.jdbc.kernel.PreparedStatementManagerImpl.executeUpdate(PreparedStatementManagerImpl.java:268)&lt;br/&gt;
    147   at org.apache.openjpa.jdbc.kernel.PreparedStatementManagerImpl.flushAndUpdate(PreparedStatementManagerImpl.java:119)&lt;br/&gt;
    148   ... 48 more&lt;/p&gt;</description>
                <environment></environment>
        <key id="12646130">OPENJPA-2378</key>
            <summary>TestHandlerStrategy.testIssue_OPENJPA2328 failed with Oracle</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="allee8285">Albert Lee</assignee>
                                    <reporter username="allee8285">Albert Lee</reporter>
                        <labels>
                    </labels>
                <created>Sun, 5 May 2013 17:45:16 +0100</created>
                <updated>Mon, 5 Aug 2013 20:23:24 +0100</updated>
                            <resolved>Mon, 5 Aug 2013 20:22:38 +0100</resolved>
                                    <version>2.3.0</version>
                                    <fixVersion>2.3.0</fixVersion>
                                    <component>jpa</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13729630" author="dlau" created="Mon, 5 Aug 2013 17:39:37 +0100"  >&lt;p&gt;Attached is the patch for this problem. Oracle does not support auto assign and therefore, I added if statement to check for this support in testHandlerStratety to exclude oracle. &lt;/p&gt;</comment>
                            <comment id="13729843" author="jira-bot" created="Mon, 5 Aug 2013 20:15:53 +0100"  >&lt;p&gt;Commit 1510667 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=allee8285&quot; class=&quot;user-hover&quot; rel=&quot;allee8285&quot;&gt;Albert Lee&lt;/a&gt; in branch &apos;openjpa/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1510667&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1510667&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/OPENJPA-2378&quot; title=&quot;TestHandlerStrategy.testIssue_OPENJPA2328 failed with Oracle&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OPENJPA-2378&quot;&gt;&lt;del&gt;OPENJPA-2378&lt;/del&gt;&lt;/a&gt; - Fix test case to run test only if supportsAutoAssign is enabled. Contributed by Di Lau&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12596146" name="OPENJPA-2378.patch" size="1190" author="dlau" created="Mon, 5 Aug 2013 17:39:37 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 5 Aug 2013 16:39:37 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>326488</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hze6cn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>326833</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>