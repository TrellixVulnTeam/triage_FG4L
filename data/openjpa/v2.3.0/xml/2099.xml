<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:35:53 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/OPENJPA-2099/OPENJPA-2099.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[OPENJPA-2099] Reuse relationship selection </title>
                <link>https://issues.apache.org/jira/browse/OPENJPA-2099</link>
                <project id="12310351" key="OPENJPA">OpenJPA</project>
                    <description>&lt;p&gt;Related entities are often loaded via a separate select operation when an unloaded field is accessed. The select operation for a relationship field structurally (i.e. which tables it joins to or what columns it selects) is invariant at instance level. Only thing that changes across entity instances is the foreign/primary key identifier values used in joining. The major computation cost is paid to analyze to build the select structure by analyzing the mapping metadata of class/field involved. As noted, this computation is invariant for each instance access except the primary/foreign key values involved. &lt;br/&gt;
However, the core infrastructure for this frequent operation (because it is carried out whenever a relationship field is loaded for every instance) is not designed for reuse. The select gets constructed every time, the class/field mapping metadata gets analyzed every time, before the select is executed on the database. &lt;br/&gt;
What is required to avoid this repeated and unnecessary cost is to reuse a select instance computed for every relationship field only once but binding different parameters on every execution.      &lt;br/&gt;
The task is non-trivial because of the select abstraction (a highly complex and critical data structure) is not designed with such parameter rebinding in mind. &lt;br/&gt;
This issue attempts to remedy that limitation. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12536305">OPENJPA-2099</key>
            <summary>Reuse relationship selection </summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="4" iconUrl="https://issues.apache.org/jira/images/icons/statuses/reopened.png" description="This issue was once resolved, but the resolution was deemed incorrect. From here issues are either marked assigned or resolved.">Reopened</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="ppoddar@apache.org">Pinaki Poddar</assignee>
                                    <reporter username="ppoddar@apache.org">Pinaki Poddar</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 Dec 2011 18:50:22 +0000</created>
                <updated>Mon, 13 Feb 2012 21:31:22 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                    <timeoriginalestimate seconds="3628800">1,008h</timeoriginalestimate>
                            <timeestimate seconds="3628800">1,008h</timeestimate>
                                        <comments>
                            <comment id="13175853" author="allee8285" created="Sun, 25 Dec 2011 21:27:55 +0000"  >&lt;p&gt;Since SQLBuffer.getColumns() is a public method, it can NOT be removed because there are OpenJPA derived provider has a dependency on this method. This caused build failure after this change is committed.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Compilation failure&lt;br/&gt;
C:\Users\leealber\tc\WASX\workspace\wsjpa.trunk\wsjpa-pdq-runtime\src\main\java\com\ibm\ws\persistence\pdq\meta\PDQParameterHandler.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;54,23&amp;#93;&lt;/span&gt; cannot find symbol&lt;br/&gt;
symbol  : method getColumns()&lt;br/&gt;
location: class org.apache.openjpa.jdbc.sql.SQLBuffer&lt;/p&gt;</comment>
                            <comment id="13193114" author="kwsutter" created="Wed, 25 Jan 2012 16:37:31 +0000"  >&lt;p&gt;OpenJPA-407 was the original implementation of caching the generated SQL.  OpenJPA-703 was a re-write that solved several of the issues with the initial implementation.  This current issue (OpenJPA-2099) is re-adding the caching of internally generated SQL due to lazy collection loading.&lt;/p&gt;</comment>
                            <comment id="13202479" author="allee8285" created="Tue, 7 Feb 2012 15:44:11 +0000"  >&lt;p&gt;Pinaki confirmed that this issue has been resolved.&lt;/p&gt;</comment>
                            <comment id="13202482" author="ppoddar@apache.org" created="Tue, 7 Feb 2012 15:46:18 +0000"  >&lt;p&gt;The changes of &lt;a href=&quot;https://issues.apache.org/jira/browse/OPENJPA-2111&quot; title=&quot;Optimize column based ResultSet lookup whereever feasible&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OPENJPA-2111&quot;&gt;OPENJPA-2111&lt;/a&gt; are included in &lt;a href=&quot;https://issues.apache.org/jira/browse/OPENJPA-2099&quot; title=&quot;Reuse relationship selection &quot; class=&quot;issue-link&quot; data-issue-key=&quot;OPENJPA-2099&quot;&gt;OPENJPA-2099&lt;/a&gt; commits.&lt;/p&gt;</comment>
                            <comment id="13202485" author="allee8285" created="Tue, 7 Feb 2012 15:51:16 +0000"  >&lt;p&gt;This issue is still do not contain a complete solution, This will remain open and target to 2.3.0.&lt;/p&gt;</comment>
                            <comment id="13202504" author="ppoddar@apache.org" created="Tue, 7 Feb 2012 16:17:15 +0000"  >&lt;p&gt;&amp;gt; This issue is still do not contain a complete solution,&lt;br/&gt;
What is the basis of this statement? &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                            <outwardlinks description="incorporates">
                                        <issuelink>
            <issuekey id="12538717">OPENJPA-2111</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12537245">OPENJPA-2104</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12541678">OPENJPA-2121</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12538717">OPENJPA-2111</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12380622">OPENJPA-407</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12403004">OPENJPA-703</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 25 Dec 2011 21:27:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>221988</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyy5af:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>233198</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>