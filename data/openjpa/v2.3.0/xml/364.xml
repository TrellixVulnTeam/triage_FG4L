<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:32:15 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/OPENJPA-364/OPENJPA-364.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[OPENJPA-364] maven build order is incorrect</title>
                <link>https://issues.apache.org/jira/browse/OPENJPA-364</link>
                <project id="12310351" key="OPENJPA">OpenJPA</project>
                    <description>&lt;p&gt;From the dev mailing list. (&lt;a href=&quot;http://www.nabble.com/order-of-build-modules-isn%27t-quite-right-tf4416976.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.nabble.com/order-of-build-modules-isn%27t-quite-right-tf4416976.html&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;In short, we are building the aggregate jar before we have built the 1.5 modules.  Details follow...  BTW, this only seems to apply to the trunk (1.1.0 snapshot).  &lt;/p&gt;

&lt;p&gt;============================================================&lt;/p&gt;

&lt;p&gt;&amp;gt; Yes, that sounds about right.  This just recently started to happen...&lt;/p&gt;

&lt;p&gt;Maybe if we create two profiles, one for 1.4 only and one for 5.0, and&lt;br/&gt;
just enable the appropriate one of them? This would increase&lt;br/&gt;
repetition (we could address that with XML entities, of course), but&lt;br/&gt;
might get things to run right.&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Hide quoted text -&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;-Patrick&lt;/p&gt;

&lt;p&gt;On 9/10/07, Kevin Sutter &amp;lt;kwsutter@gmail.com&amp;gt; wrote:&lt;br/&gt;
&amp;gt; On 9/10/07, Patrick Linskey &amp;lt;plinskey@gmail.com&amp;gt; wrote:&lt;br/&gt;
&amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; So, I&apos;m not sure what has to change in our pom.xml files to allow one to&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; build, package, and install our aggregrate jar on the first try.  Any&lt;br/&gt;
&amp;gt; &amp;gt; maven&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; experts that can help with this?&lt;br/&gt;
&amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; Sadly, Marc probably knows the most, and he&apos;s on top of Mt Kilimanjaro&lt;br/&gt;
&amp;gt; &amp;gt; or thereabouts right now.&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; Yep, and my resident build expert (Mike) is on vacation this week as well..&lt;br/&gt;
&amp;gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; Might this have started happening with the recent move from how the&lt;br/&gt;
&amp;gt; &amp;gt; dependencies are set up, for the purposes of keeping our mvn&lt;br/&gt;
&amp;gt; &amp;gt; dependencies clean?&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; Yes, that sounds about right.  This just recently started to happen...&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; Kevin&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; -Patrick&lt;br/&gt;
&amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; On 9/10/07, Kevin Sutter &amp;lt;kwsutter@gmail.com&amp;gt; wrote:&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; Hi,&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; I&apos;m the first to admit that I&apos;m not a maven build expert, so I&apos;m not&lt;br/&gt;
&amp;gt; &amp;gt; exactly&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; sure what needs to be changed.  But, here&apos;s the problem...&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; If I only want to build the artifacts and install them into my maven&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; repository, I issue the following maven command.  (BTW, this only&lt;br/&gt;
&amp;gt; &amp;gt; happens on&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; a truly clean environment.  Either just pull the contents from svn or do&lt;br/&gt;
&amp;gt; &amp;gt; a&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; separate &quot;mvn clean&quot; first like I demonstrate below.)&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; mvn clean&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; mvn install&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; But, when I do this, I get the following build report.  Although&lt;br/&gt;
&amp;gt; &amp;gt; everything&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; builds okay, look at the order of the modules getting built.  We are&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; building the aggregrate jar and distribution jars before we build kernel&lt;br/&gt;
&amp;gt; &amp;gt; 1.5,&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; jpa, and jpa jdbc.  Thus, the aggregrate jar that we build does not have&lt;br/&gt;
&amp;gt; &amp;gt; all&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; of the required contents (because I have a clean environment to start&lt;br/&gt;
&amp;gt; &amp;gt; with).&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; ------------------------------------------------------------------------&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Reactor Summary:&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; ------------------------------------------------------------------------&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; OpenJPA ............................................... SUCCESS [&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; 1.328s]&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; OpenJPA Utilities ..................................... SUCCESS [&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; 12.265s]&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; OpenJPA Kernel ........................................ SUCCESS [&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; 17.703s]&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; OpenJPA JDBC .......................................... SUCCESS [&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; 10.063s]&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; OpenJPA XML Store ..................................... SUCCESS [&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; 0.969s]&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; OpenJPA Aggregate Jar ................................. SUCCESS [&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; 17.218s]&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; OpenJPA Distribution .................................. SUCCESS [&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; 19.860s]&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; OpenJPA Integration Tests ............................. SUCCESS [&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; 0.015s]&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; OpenJPA Examples Integration Tests .................... SUCCESS [&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; 0.016s]&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; OpenJPA JPA TCK Integration Tests ..................... SUCCESS [&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; 0.016s]&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; OpenJPA Kernel 1.5 .................................... SUCCESS [&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; 0.718s]&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; OpenJPA JPA ........................................... SUCCESS [&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; 4.719s]&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; OpenJPA JDBC 1.5 ...................................... SUCCESS [&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; 0.625s]&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; OpenJPA JPA JDBC ...................................... SUCCESS [&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; 17.437s]&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; OpenJPA Persistence Examples .......................... SUCCESS [&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; 0.547s]&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; ------------------------------------------------------------------------&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; ------------------------------------------------------------------------&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; I looked at our pom.xml at our root level of trunk and I see the&lt;br/&gt;
&amp;gt; &amp;gt; following&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;lt;module&amp;gt; listing, which maps to the order of the build above:&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;     &amp;lt;modules&amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;         &amp;lt;module&amp;gt;openjpa-lib&amp;lt;/module&amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;         &amp;lt;module&amp;gt;openjpa-kernel&amp;lt;/module&amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;         &amp;lt;module&amp;gt;openjpa-jdbc&amp;lt;/module&amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;         &amp;lt;module&amp;gt;openjpa-xmlstore&amp;lt;/module&amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;         &amp;lt;module&amp;gt;openjpa-all&amp;lt;/module&amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;         &amp;lt;module&amp;gt;openjpa-project&amp;lt;/module&amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;         &amp;lt;module&amp;gt;openjpa-integration&amp;lt;/module&amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;     &amp;lt;/modules&amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; The rest of our modules are listed under the jdk1.5 profile and don&apos;t&lt;br/&gt;
&amp;gt; &amp;gt; get&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; built until after these 1.4 modules are built.  If I re-run the exact&lt;br/&gt;
&amp;gt; &amp;gt; same&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; invocation (without starting from scratch with the &quot;mvn clean&quot;), then&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; everything works since the 1.5 modules are all built and pulled into the&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; aggregrate jar.&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; So, I&apos;m not sure what has to change in our pom.xml files to allow one to&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; build, package, and install our aggregrate jar on the first try.  Any&lt;br/&gt;
&amp;gt; &amp;gt; maven&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; experts that can help with this?&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; Thanks,&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; Kevin&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;#8211;&lt;br/&gt;
&amp;gt; &amp;gt; Patrick Linskey&lt;br/&gt;
&amp;gt; &amp;gt; 202 669 5907&lt;br/&gt;
&amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt;&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12377993">OPENJPA-364</key>
            <summary>maven build order is incorrect</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kwsutter">Kevin Sutter</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Sep 2007 19:57:37 +0100</created>
                <updated>Tue, 9 Mar 2010 18:32:39 +0000</updated>
                            <resolved>Mon, 28 Apr 2008 14:23:47 +0100</resolved>
                                    <version>1.1.0</version>
                                    <fixVersion>1.1.0</fixVersion>
                                    <component>build / infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12526564" author="fancy" created="Tue, 11 Sep 2007 20:23:23 +0100"  >&lt;p&gt;my mvn knowledge is limited, but this patch seems to solve the build problem.&lt;/p&gt;</comment>
                            <comment id="12526613" author="clr" created="Tue, 11 Sep 2007 22:36:30 +0100"  >&lt;p&gt;IIRC, the reason we recently changed the build was to avoid having the aggregate jar declare dependencies at runtime on the other jars, which leads to the situation where a user downloads the aggregate jar which then causes all of the other jars to be downloaded and added to the path as well. &lt;/p&gt;

&lt;p&gt;So, can you verify that if you have a simple project that has a dependency on the aggregate jar, the only jar downloaded is the aggregate jar?&lt;/p&gt;</comment>
                            <comment id="12526831" author="kwsutter" created="Wed, 12 Sep 2007 17:00:50 +0100"  >&lt;p&gt;Catalina&apos;s suggested patch fixes the build order, but it basically re-instates the problem that was resolved by &lt;a href=&quot;https://issues.apache.org/jira/browse/OPENJPA-345&quot; title=&quot;&amp;quot;openjpa&amp;quot; maven module has unnecessary dependencies on other openjpa modules&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OPENJPA-345&quot;&gt;OPENJPA-345&lt;/a&gt;.  Actually, if you look at the patches for these two Issues, they cancel each other out.  So, we have more work to do...&lt;/p&gt;

&lt;p&gt;Kevin&lt;/p&gt;</comment>
                            <comment id="12526904" author="kwsutter" created="Wed, 12 Sep 2007 21:36:47 +0100"  >&lt;p&gt;Question:  Why do we even have the &quot;jdk1.5&quot; profile in the trunk&apos;s pom file?  I think at one time, we were attempting to use this to force the compilation of some modules with jdk1.5 and others with jdk1.4.  But, now that each of the individual module&apos;s pom files have the jdk level configured, I don&apos;t see where we need the jdk1.5 profile any longer.&lt;/p&gt;

&lt;p&gt;As a test, I removed the jdk 1.5 profile and moved those modules to the top-level module list in the trunk&apos;s pom file.  Like Catalina&apos;s previous patch, things are working better now, but is this the &quot;right solution&quot;?&lt;/p&gt;

&lt;p&gt;I&apos;ve attached the patch in case anybody wants to check it out.&lt;/p&gt;

&lt;p&gt;Kevin&lt;/p&gt;</comment>
                            <comment id="12527940" author="djencks" created="Mon, 17 Sep 2007 05:22:33 +0100"  >&lt;p&gt;I&apos;m not sure what the previous patch that modifies the root pom is supposed to do but I can&apos;t see why it would affect this issue.  I think what you want is to use maven scopes.  The attached patch uses scope &quot;provided&quot; for all the dependencies which basically makes them non-transitive.  In addition to not wanting to have dependencies on openjpa &quot;mini-jars&quot; I really doubt you want dependencies on the geronimo spec implementation jars.  I don&apos;t know about serp.... in my patch I left it out also.&lt;/p&gt;</comment>
                            <comment id="12528388" author="mikedd" created="Tue, 18 Sep 2007 15:16:31 +0100"  >&lt;p&gt;Thanks for the patch David!&lt;/p&gt;

&lt;p&gt;David&apos;s approach worked for me so I&apos;ve gone ahead and committed it with one change. I didn&apos;t change the scope of serp to be provided. I think it makes sense for serp to be included since OpenJPA won&apos;t run without it. &lt;/p&gt;

&lt;p&gt;I&apos;m a bit ambivalent regarding the geronimo specs. Its likely that users will have their own copy of these dependencies and they might prefer to pick up the version that matches their deploy environment. For JEE  this would be the app server&apos;s j2ee.jar. For JSE users will have to download a particular version. &lt;/p&gt;

&lt;p&gt;I&apos;m leaving the JIRA open so we can discuss whether users should be expected to provide j2ee.jar (or the individual spec jars). &lt;/p&gt;</comment>
                            <comment id="12528430" author="kwsutter" created="Tue, 18 Sep 2007 17:25:54 +0100"  >&lt;p&gt;This one doesn&apos;t apply to the 1.0.x stream...&lt;/p&gt;</comment>
                            <comment id="12528439" author="clr" created="Tue, 18 Sep 2007 17:55:09 +0100"  >&lt;p&gt;When we remove the spec jars from explicit dependency, we expose the user to class not found exceptions unless the user&apos;s pom.xml references them. &lt;/p&gt;

&lt;p&gt;In an app server environment, this is absolutely not an issue, but in Java SE don&apos;t we need the user&apos;s pom to depend on them?&lt;/p&gt;
</comment>
                            <comment id="12528572" author="mikedd" created="Tue, 18 Sep 2007 22:26:56 +0100"  >&lt;p&gt;In a JSE environment they will need the spec jars, or a copy of j2ee.jar from an app server. &lt;/p&gt;

&lt;p&gt;The main reason I didn&apos;t include the spec jars as &quot;normal&quot; dependencies is that they&apos;re rather tough to remove. If another maven project depends on OpenJPA we would always add the Geronimo spec jars to the classpath. If for some reason that project didn&apos;t want the Geronimo implementation they&apos;d have to manipulate maven so that a different version is loaded first. Theoretically this is as simple as listing the other dependency first, but that might depend on the maven dependency resolver. If the user wants to use the Geronimo spec jars then they don&apos;t have to do anything. &lt;/p&gt;

&lt;p&gt;The way it currently works the user has to provide their own version of the spec jars (or j2ee.jar). They can add whichever dependency(ies) they want into pom.xml and won&apos;t have to worry about the order on the classpath. The only reason I can think of for doing this is if you&apos;re running the app in JSE to test it prior to deploying on an app server and you want to use the same version of the spec jars that are part of the app server. This is probably a corner case, but I can be persuaded otherwise. &lt;/p&gt;

&lt;p&gt;All that being said I&apos;d prefer to include the spec jars as &quot;normal&quot; dependencies. I think that the Geronimo implementation is TCK compliant and there shouldn&apos;t be any difference between vendors in the spec jars. Unless there are other reasons to leave them out I&apos;ll go ahead and put them back in. &lt;/p&gt;</comment>
                            <comment id="12528891" author="clr" created="Wed, 19 Sep 2007 21:51:31 +0100"  >&lt;p&gt;&amp;gt; The main reason I didn&apos;t include the spec jars as &quot;normal&quot; dependencies is that they&apos;re rather tough to remove. &lt;br/&gt;
&amp;gt; ...&lt;br/&gt;
&amp;gt; The way it currently works the user has to provide their own version of the spec jars (or j2ee.jar). They can add whichever dependency(ies) they want into pom.xml and won&apos;t have to worry about the order on the classpath. &lt;/p&gt;

&lt;p&gt;Anyway, the pom.xml isn&apos;t used for deployment in a server, so this is &lt;b&gt;just&lt;/b&gt; for Java SE environments.&lt;/p&gt;

&lt;p&gt;1. The user does have a choice of where to get the API definitions (from Geronimo spec jars or javaee jar or persistence jar). &lt;/p&gt;

&lt;p&gt;2. OpenJPA doesn&apos;t have a hard dependency on any of them (all OpenJPA cares about is that the definitions of the APIs are the same, which in this case they are). &lt;/p&gt;

&lt;p&gt;3. Maven will put into the classpath whatever the user&apos;s pom.xml says to.&lt;/p&gt;

&lt;p&gt;Therefore, I&apos;d prefer to provide some good sample pom.xml dependencies but not to explicitly depend on Geronimo jars. I looked at our distributed pom.xml and they&apos;re pretty obscure. We should probably include the spec dependencies in the docs and see about adding some pom.xml examples that are really simple.&lt;/p&gt;</comment>
                            <comment id="12592686" author="pcl" created="Sun, 27 Apr 2008 23:20:01 +0100"  >&lt;p&gt;This is probably a non-issue now that we&apos;ve gotten rid of the multiple-java-version support.&lt;/p&gt;</comment>
                            <comment id="12592804" author="kwsutter" created="Mon, 28 Apr 2008 14:23:47 +0100"  >&lt;p&gt;I agree.  This Issue can go away.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12377170">OPENJPA-345</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12365973" name="OPENJPA-364-3.patch" size="5358" author="djencks" created="Mon, 17 Sep 2007 05:22:33 +0100"/>
                            <attachment id="12365671" name="OPENJPA-364.patch" size="1264" author="kwsutter" created="Wed, 12 Sep 2007 21:36:47 +0100"/>
                            <attachment id="12365585" name="OPENJPA-364.patch" size="4283" author="fancy" created="Tue, 11 Sep 2007 20:23:23 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 11 Sep 2007 19:23:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>160687</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyt5uf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>204127</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>