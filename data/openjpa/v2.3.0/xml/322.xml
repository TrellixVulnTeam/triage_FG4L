<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:44:20 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/OPENJPA-322/OPENJPA-322.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[OPENJPA-322] Timezone on the Calendar object lost in proxying</title>
                <link>https://issues.apache.org/jira/browse/OPENJPA-322</link>
                <project id="12310351" key="OPENJPA">OpenJPA</project>
                    <description>&lt;p&gt;For the Calendar type when the proxy is created the Timezone information is lost.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12376281">OPENJPA-322</key>
            <summary>Timezone on the Calendar object lost in proxying</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="ssegu">Srinivasa</assignee>
                                    <reporter username="ssegu">Srinivasa</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 Aug 2007 23:14:06 +0100</created>
                <updated>Mon, 25 Jan 2010 18:53:55 +0000</updated>
                            <resolved>Thu, 31 Jan 2008 19:12:57 +0000</resolved>
                                    <version>1.0.0</version>
                                    <fixVersion>1.0.0</fixVersion>
                    <fixVersion>1.0.2</fixVersion>
                    <fixVersion>1.1.0</fixVersion>
                                    <component>kernel</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12536384" author="mprudhom" created="Sat, 20 Oct 2007 01:47:44 +0100"  >&lt;p&gt;I&apos;m backing out this change, since it caused a regression in a test elsewhere.&lt;/p&gt;

&lt;p&gt;The current documented behavior is that a Calendar field will always have set the TimeZone that the field was initialized with. For example, if you have a class that defines:&lt;/p&gt;

&lt;p&gt;Calendar myCalendar = Calendar.getInstance(TimeZone.getTimeZone(&quot;Europe/Budapest&quot;));&lt;/p&gt;

&lt;p&gt;and then you later set the field to a different TimeZone, e.g.:&lt;/p&gt;

&lt;p&gt;myCalendar = Calendar.getInstance(TimeZone.getTimeZone(&quot;America/New_York&quot;));&lt;/p&gt;

&lt;p&gt;when the instance is persisted and then retrieved, the TimeZone will revert to &quot;Europe/Budapest&quot;. Note that this is the only way to maintain consistent behavior so long as we don&apos;t actually persist TimeZone data (which we don&apos;t). &lt;/p&gt;

&lt;p&gt;Also, see section 2.1.1 of the EJB 3.0 Java Persistence API spec, which says: &apos;Note that an instance of Calendar must be fully initialized for the type that it is mapped to&apos;. That suggests that they expect the TimeZone information in the initialized Calendar to be the one that is used over time.&lt;/p&gt;

&lt;p&gt;Please close this issue if you agree with the reversion; otherwise, please put in a comment about why you think the current behavior is incorrect.&lt;/p&gt;</comment>
                            <comment id="12564132" author="pcl" created="Wed, 30 Jan 2008 19:13:09 +0000"  >&lt;p&gt;Could you guys work out what the right behavior is for &lt;a href=&quot;https://issues.apache.org/jira/browse/OPENJPA-322?&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/OPENJPA-322?&lt;/a&gt; I&apos;d like to do a 1.0.2 release, and I noticed that this issue is still open, and that Marc&apos;s revert was not made in the 1.0.x branch.&lt;/p&gt;</comment>
                            <comment id="12564458" author="clr" created="Thu, 31 Jan 2008 18:58:07 +0000"  >&lt;p&gt;The JPA specification is a bit terse on the requirements, but does say that an @Temporal annotation is required for a persistent field or property of type Calendar, and that &apos;Note that an instance of Calendar must be fully initialized for the type that it is mapped to&apos;. There are only three database types that the field can be mapped to: &lt;br/&gt;
public enum TemporalType &lt;/p&gt;
{ 
DATE, //java.sql.Date 
TIME, //java.sql.Time 
TIMESTAMP //java.sql.Timestamp 
}
&lt;p&gt; &lt;/p&gt;

&lt;p&gt;None of these database types have any storage mechanism for the time zone of the Calendar, and therefore there is no way to construct a Calendar with the time zone of the original Calendar.&lt;/p&gt;

&lt;p&gt;Until the specification is changed to allow for storage of the time zone using proprietary database APIs, the only thing I think we can do is to instantiate a Calendar using the default time zone of the caller at the time the field is fetched from the database.&lt;/p&gt;</comment>
                            <comment id="12564460" author="ssegu" created="Thu, 31 Jan 2008 19:12:57 +0000"  >&lt;p&gt;Discussed the same with Marc yesterday, closing the issue.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12446357">OPENJPA-1480</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 20 Oct 2007 00:47:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>160647</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hz7k87:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>288247</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>