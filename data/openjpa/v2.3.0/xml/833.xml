<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:36:05 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/OPENJPA-833/OPENJPA-833.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[OPENJPA-833] An improved test case for XML column mapping</title>
                <link>https://issues.apache.org/jira/browse/OPENJPA-833</link>
                <project id="12310351" key="OPENJPA">OpenJPA</project>
                    <description>&lt;p&gt;1. The current version of TestXMLCustomerOrder does not use assert methods&lt;br/&gt;
  requiring programmer to watch the results on the screen. It also fails to&lt;br/&gt;
  correctly determine whether some dictionaries support XML column.&lt;/p&gt;

&lt;p&gt;2. The patched version does roughly the same tests but uses asserts methods&lt;br/&gt;
  like other JUnit tests.&lt;/p&gt;

&lt;p&gt;3. In order to correctly determine XML support, an EnitityManager is created&lt;br/&gt;
  so that the DBDictionary executes its connectedConfiguration method. Let me&lt;br/&gt;
  know if there is a better method for doing this.&lt;/p&gt;

&lt;p&gt;4. I know the original idea with the current version was to catch the generated&lt;br/&gt;
  SQL and compare it with one saved in a file. It was not done, only the SQL&lt;br/&gt;
  is logged to a file and there are three files in the repository with&lt;br/&gt;
  database specific SQL. I abandoned this approach as I find comparing SQL&lt;br/&gt;
  strings too vulnerable to subtle changes in other areas of OpenJPA (e.g&lt;br/&gt;
  column ordering, alias names). On the other hand I found the generated SQL&lt;br/&gt;
  files very helpful to get familiar with how the XML support is done. So, I&lt;br/&gt;
  removed the SQL logging but the patch contains a file with some queries&lt;br/&gt;
  executed against PostgreSQL. Let me know if this removing of SQL logging or&lt;br/&gt;
  adding new file is not desired.&lt;/p&gt;

&lt;p&gt;5. I have found out that filling a List property in entity does not work. I&lt;br/&gt;
  have annotated the respective test with @AllowFailure. I will file a&lt;br/&gt;
  separate issue for this.&lt;/p&gt;

&lt;p&gt;6. As in the current version, there are three queries that are expected to&lt;br/&gt;
  fail.&lt;/p&gt;

&lt;p&gt;7. Since running the test requires an JAXB implementation (not only the JAXB&lt;br/&gt;
  API), I have added Sun&apos;s JAXB implementation to openjpa-jdbc/pom.xml&lt;br/&gt;
  with runtime scope and also to the main pom.xml to specify the version.&lt;br/&gt;
  I chose 2.0.5 as I found it the newset from the 2.0 line.&lt;/p&gt;

&lt;p&gt;8. Since XML column mapping requires a newer PostgreSQL JDBC driver I have&lt;br/&gt;
  upgraded the version in openjpa-jdbc/pom.xml and&lt;br/&gt;
  openjpa-persistence-jdbc/pom.xml.&lt;/p&gt;

&lt;p&gt;9. I welcome comments and suggestions.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12411002">OPENJPA-833</key>
            <summary>An improved test case for XML column mapping</summary>
                <type id="6" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/requirement.png">Test</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="milosz">Milosz Tylenda</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Dec 2008 20:55:58 +0000</created>
                <updated>Tue, 9 Mar 2010 18:31:05 +0000</updated>
                            <resolved>Tue, 23 Dec 2008 23:33:55 +0000</resolved>
                                    <version>1.3.0</version>
                    <version>2.0.0-M2</version>
                                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>2.0.0-M2</fixVersion>
                                    <component>sql</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12657898" author="milosz" created="Thu, 18 Dec 2008 20:58:20 +0000"  >&lt;p&gt;Attached a plain source of the test also.&lt;/p&gt;</comment>
                            <comment id="12658377" author="milosz" created="Sun, 21 Dec 2008 11:37:25 +0000"  >&lt;p&gt;It appears that &quot;svn diff&quot; doesn&apos;t include new files - attached a new file which should go together with the patch.&lt;/p&gt;</comment>
                            <comment id="12658990" author="fancy" created="Tue, 23 Dec 2008 23:06:08 +0000"  >&lt;p&gt;Milosz,&lt;br/&gt;
It is greatly appreciated that you improved the xmlmapping testcase and fix-up the jaxb dependencies.&lt;br/&gt;
I will commit your patch.&lt;/p&gt;

&lt;p&gt;Please do file a separate issue for @AllowFailure testcase.&lt;br/&gt;
It seems to me a JAXB unmarshal() bug.&lt;/p&gt;

&lt;p&gt;Thanks. &lt;/p&gt;</comment>
                            <comment id="12659313" author="milosz" created="Sat, 27 Dec 2008 08:21:24 +0000"  >&lt;p&gt;Catalina,&lt;/p&gt;

&lt;p&gt;The issue for @AllowFailure is &lt;a href=&quot;https://issues.apache.org/jira/browse/OPENJPA-834&quot; title=&quot;State field mapped to XML column has incorrect value when loaded from database&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OPENJPA-834&quot;&gt;&lt;del&gt;OPENJPA-834&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12369528">OPENJPA-240</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12404260">OPENJPA-723</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12411004">OPENJPA-834</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12396424" name="OPENJPA-833.patch" size="24156" author="milosz" created="Thu, 18 Dec 2008 20:56:55 +0000"/>
                            <attachment id="12396425" name="TestXMLCustomerOrder.java" size="13573" author="milosz" created="Thu, 18 Dec 2008 20:58:20 +0000"/>
                            <attachment id="12396560" name="TestXMLCustomerOrder.postgres" size="1719" author="milosz" created="Sun, 21 Dec 2008 11:37:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 23 Dec 2008 23:06:08 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>161137</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hz7m27:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>288544</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>