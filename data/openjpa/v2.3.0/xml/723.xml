<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:44:42 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/OPENJPA-723/OPENJPA-723.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[OPENJPA-723] Feature request for PostgreSQL XML Column Mapping</title>
                <link>https://issues.apache.org/jira/browse/OPENJPA-723</link>
                <project id="12310351" key="OPENJPA">OpenJPA</project>
                    <description>&lt;p&gt;PostgreSQL 8.3 has an xml data type it would be great if this was supported in the same manner as DB2, Oracle and SQLServer for XML Column Mapping.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12404260">OPENJPA-723</key>
            <summary>Feature request for PostgreSQL XML Column Mapping</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="milosz">Milosz Tylenda</assignee>
                                    <reporter username="giannidoe">Gianni Bruno</reporter>
                        <labels>
                    </labels>
                <created>Fri, 12 Sep 2008 17:23:21 +0100</created>
                <updated>Tue, 9 Mar 2010 18:31:02 +0000</updated>
                            <resolved>Thu, 9 Apr 2009 20:15:58 +0100</resolved>
                                                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>2.0.0-M2</fixVersion>
                                    <component>sql</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12657895" author="milosz" created="Thu, 18 Dec 2008 20:49:26 +0000"  >&lt;p&gt;1. The attached patch provides XML column support for PostgreSQL. All changes&lt;br/&gt;
  are in the PostgresDictionary class.&lt;/p&gt;

&lt;p&gt;2. Required PostgreSQL version: 8.3 or later, with XML support compiled-in.&lt;/p&gt;

&lt;p&gt;3. Required JDBC driver version: 8.3-603 (2008-01-31) or later.&lt;/p&gt;

&lt;p&gt;4. xpath PostgreSQL function and cast are used to do XML comparisons.&lt;br/&gt;
  Sample queries generated by the patched code:&lt;/p&gt;

&lt;p&gt;SELECT t0.oid, t1.oid FROM TORDER t0 CROSS JOIN TORDER t1 WHERE (CAST((xpath(&apos;/&lt;b&gt;/City/text()&apos;,t0.shipAddress))&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; AS VARCHAR) = CAST((xpath(&apos;/&lt;/b&gt;/City/text()&apos;,t1.shipAddress))&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; AS VARCHAR)) ORDER BY t0.oid ASC&lt;br/&gt;
SELECT t0.oid, t0.version, t0.amount, t0.CUSTOMER_COUNTRYCODE, t0.CUSTOMER_ID, t0.delivered, t0.shipAddress FROM TORDER t0 CROSS JOIN TCUSTOMER t1 WHERE (CAST((xpath(&apos;/*/City/text()&apos;,t0.shipAddress))&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; AS VARCHAR) = t1.city)&lt;/p&gt;

&lt;p&gt;5. connectedConfiguration method is used to determine whether XML column is&lt;br/&gt;
  supported in the database.&lt;/p&gt;

&lt;p&gt;6. setClobString and setNull methods have been overridden/modified as PostgreSQL&lt;br/&gt;
  requires special care here when dealing with XML column.&lt;/p&gt;

&lt;p&gt;7. I removed the line&lt;/p&gt;

&lt;p&gt;varcharTypeName = &quot;VARCHAR&lt;/p&gt;
{0}&quot;;&lt;br/&gt;
&lt;br/&gt;
Now varcharTypeName defaults to &quot;VARCHAR&quot;. The reason is it was causing&lt;br/&gt;
incorrect SQL when using appendCast method. I could not figure out why&lt;br/&gt;
was varcharTypeName set to &quot;VARCHAR{0}
&lt;p&gt;&quot; instead of just &quot;VARCHAR&quot;. Does&lt;br/&gt;
anybody have a clue? The change did not affect the persistence-jdbc test suite&lt;br/&gt;
when run on PostgreSQL. Let me know if this change is not desired.&lt;/p&gt;

&lt;p&gt;8. I will provide an improved test case for XML column mapping shortly.&lt;/p&gt;

&lt;p&gt;9. If the patch is going to be accepted, I will provide an update for the&lt;br/&gt;
  manual too.&lt;/p&gt;

&lt;p&gt;10. I welcome comments and suggestions.&lt;/p&gt;</comment>
                            <comment id="12697611" author="milosz" created="Thu, 9 Apr 2009 20:15:57 +0100"  >&lt;p&gt;The patch applied to trunk and 1.3.x branch. Made also an update for the manual.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12369528">OPENJPA-240</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12411002">OPENJPA-833</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12396423" name="OPENJPA-723.patch" size="5652" author="milosz" created="Thu, 18 Dec 2008 20:49:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 18 Dec 2008 20:49:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>96967</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyswy7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>202686</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>