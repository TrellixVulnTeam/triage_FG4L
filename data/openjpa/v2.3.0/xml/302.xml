<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:41:52 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/OPENJPA-302/OPENJPA-302.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[OPENJPA-302] PCEnhancer needs target classes on classpath</title>
                <link>https://issues.apache.org/jira/browse/OPENJPA-302</link>
                <project id="12310351" key="OPENJPA">OpenJPA</project>
                    <description>&lt;p&gt;The documentation (sections 3.5.2.1, 3.12.1.2) doesn&apos;t make it clear that the classes to be enhanced need to be on the class path of the PCEnhancer application or Ant task. In an Eclipse environment, I battled for some hours to get the enhancer to work.&lt;/p&gt;

&lt;p&gt;In my setup, the following appears to be true:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;The application needs a classpath consisting of the OpenJPA libraries as well as the java compilation destination directory for the compiled entity classes. Here&apos;s how I ran the program (as an application) under Ant:&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;	&amp;lt;target name=&quot;enhance2&quot;&amp;gt;&lt;br/&gt;
		&amp;lt;java classpathref=&quot;JPA_PATH&quot; classpath=&quot;build/classes&quot; classname=&quot;org.apache.openjpa.enhance.PCEnhancer&quot;&amp;gt;&lt;br/&gt;
			&amp;lt;arg line=&quot;-d build/classes -p build/classes/META-INF/persistence.xml build/classes/com/smotricz/testjpa/Exit.class&quot;/&amp;gt;&lt;br/&gt;
		&amp;lt;/java&amp;gt;&lt;br/&gt;
	&amp;lt;/target&amp;gt;&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;As an Ant task, the taskdef needs the OpenJPA libraries on its classpath, but it does no good to include the compiled classes destination path there. Rather, the openjpa task will accept a nested classpath element, and this classpath must contain both the OpenJPA libraries and the compiled entity classes path. Here&apos;s my Ant target for this:&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;	&amp;lt;target name=&quot;enhance&quot;&amp;gt;&lt;br/&gt;
		&amp;lt;taskdef name=&quot;openjpac&quot; classname=&quot;org.apache.openjpa.ant.PCEnhancerTask&quot; classpathref=&quot;JPA_PATH&quot;/&amp;gt;&lt;br/&gt;
		&amp;lt;path id=&quot;ENH_PATH&quot;&amp;gt;&lt;br/&gt;
			&amp;lt;path refid=&quot;JPA_PATH&quot;/&amp;gt;&lt;br/&gt;
			&amp;lt;path refid=&quot;CLASSES_PATH&quot;/&amp;gt;&lt;br/&gt;
		&amp;lt;/path&amp;gt;&lt;br/&gt;
		&amp;lt;openjpac directory=&quot;build/classes&quot;&amp;gt;&lt;br/&gt;
			&amp;lt;config propertiesFile=&quot;build/classes/META-INF/persistence.xml&quot;/&amp;gt;&lt;br/&gt;
			&amp;lt;fileset dir=&quot;build/classes&quot;&amp;gt;&lt;br/&gt;
    			    &amp;lt;include name=&quot;*&lt;b&gt;/&lt;/b&gt;.class&quot;/&amp;gt;&lt;br/&gt;
    		            &amp;lt;exclude name=&quot;**/TestJPA.class&quot;/&amp;gt;&lt;br/&gt;
			&amp;lt;/fileset&amp;gt;&lt;br/&gt;
			&amp;lt;classpath refid=&quot;ENH_PATH&quot;/&amp;gt;&lt;br/&gt;
		&amp;lt;/openjpac&amp;gt;&lt;br/&gt;
	&amp;lt;/target&amp;gt;&lt;/p&gt;

&lt;p&gt;Hopefully augmenting the doc with some of this information will save other users some pain.&lt;/p&gt;</description>
                <environment>Eclipse</environment>
        <key id="12374982">OPENJPA-302</key>
            <summary>PCEnhancer needs target classes on classpath</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jtnowosatka">Jacob Nowosatka</assignee>
                                    <reporter username="smotricz">Carl Smotricz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 30 Jul 2007 19:06:17 +0100</created>
                <updated>Thu, 2 Feb 2012 16:22:38 +0000</updated>
                            <resolved>Mon, 28 Nov 2011 22:25:03 +0000</resolved>
                                    <version>0.9.7</version>
                                    <fixVersion>2.2.0</fixVersion>
                                    <component>docs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13158794" author="jtnowosatka" created="Mon, 28 Nov 2011 21:26:44 +0000"  >&lt;p&gt;The patch updates sections 3.5.2.1 and 3.12.1.2 to clarify that the target classes, openjpa jars, and the persistence.xml need to added to the classpath when running the PCEnhancer. The example in section 3.12.1.2 has also been updated to show how these files can be added to the classpath in the ant task.&lt;/p&gt;</comment>
                            <comment id="13158862" author="curtisr7" created="Mon, 28 Nov 2011 22:24:52 +0000"  >&lt;p&gt;Committed revision 1207658 to trunk. Thanks for the patch Jacob!&lt;/p&gt;</comment>
                            <comment id="13198912" author="allee8285" created="Thu, 2 Feb 2012 16:22:38 +0000"  >&lt;p&gt;Close issue in preparation for 2.2.0 release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12505396" name="OPENJPA-302.patch" size="3634" author="jtnowosatka" created="Mon, 28 Nov 2011 21:26:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 28 Nov 2011 21:26:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>160628</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hz7kan:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>288258</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>