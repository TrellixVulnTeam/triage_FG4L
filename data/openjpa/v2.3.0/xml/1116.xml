<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:45:24 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/OPENJPA-1116/OPENJPA-1116.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[OPENJPA-1116] Annotation Strategy not working</title>
                <link>https://issues.apache.org/jira/browse/OPENJPA-1116</link>
                <project id="12310351" key="OPENJPA">OpenJPA</project>
                    <description>&lt;p&gt;I had 2 entities, Person and Address where person had id, age, name and address_id and person had id and city.&lt;br/&gt;
I tried to apply the Strategy on Address so that  upon execution of JPQL query &quot;Select p from Person p&quot; the SQL query fired should make Inner Join rather than the default Left Outer Join.&lt;br/&gt;
I created a Strategy class InnerJoinStrategy that makes sure this happens  by overriding the selectEagerJoin() method and gave @Strategy(value = &quot;somepackage.InnerJoinStrategy&quot; ) in Person class before getAddress() method.&lt;br/&gt;
But unexpectedly, it was still making the LeftOuterJoin rather than the desired InnerJoin. Upon debugging I found that my strategy was never being called. I debugged further and found that in AnnotationPersistenceMappingParser class in parseMemberMappingAnnotations() method, for the case STRAT( which belongs to the Strategy annotation) the strategy value was being set in ValueMappingInfo, while from RuntimeStrategyInstaller it was being fetched from FieldMappingInfo. I changed the code to set it in FieldMappingInfo and everything worked fine. &lt;/p&gt;
</description>
                <environment>Windows XP,  openjpa-2.0.0 source code</environment>
        <key id="12427028">OPENJPA-1116</key>
            <summary>Annotation Strategy not working</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ppoddar@apache.org">Pinaki Poddar</assignee>
                                    <reporter username="ashishpaliwal">Ashish Paliwal</reporter>
                        <labels>
                    </labels>
                <created>Wed, 3 Jun 2009 14:38:56 +0100</created>
                <updated>Tue, 9 Mar 2010 18:31:16 +0000</updated>
                            <resolved>Wed, 23 Sep 2009 20:25:27 +0100</resolved>
                                    <version>1.3.0</version>
                    <version>2.0.0-M2</version>
                                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>2.0.0-M3</fixVersion>
                                    <component>jdbc</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12715924" author="ashishpaliwal" created="Wed, 3 Jun 2009 14:49:25 +0100"  >&lt;p&gt;The test case along with my InnerJoinStrategy and persistent entities person and Address.&lt;br/&gt;
2 Patches:&lt;br/&gt;
First for the dummy test case which I created to check the @strategy annotation, &lt;br/&gt;
Second for the suggested change in AnnotationPersistenceMappingParser class.&lt;/p&gt;</comment>
                            <comment id="12758846" author="drwoods" created="Wed, 23 Sep 2009 20:25:27 +0100"  >&lt;p&gt;Code fixed in trunk in r808703 by Pinaki.&lt;br/&gt;
Testcases added to trunk in r818212 and r818215.&lt;br/&gt;
Code and testcases merged into 1.3.0 in r818217.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12409767" name="OPENJPA-1116-2.0.0(2).patch" size="785" author="ashishpaliwal" created="Wed, 3 Jun 2009 14:49:25 +0100"/>
                            <attachment id="12409766" name="OPENJPA-1116-2.0.0.patch" size="7445" author="ashishpaliwal" created="Wed, 3 Jun 2009 14:49:25 +0100"/>
                            <attachment id="12409765" name="testStrategyAnnotation.jar" size="3071" author="ashishpaliwal" created="Wed, 3 Jun 2009 14:49:25 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 23 Sep 2009 19:25:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38611</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyt5fz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>204062</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>