<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:38:35 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/OPENJPA-1051/OPENJPA-1051.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[OPENJPA-1051] [patch] Mappingtool doesn&apos;t check name conflicts if MappingDefaultsImpl is called with multiple columns.</title>
                <link>https://issues.apache.org/jira/browse/OPENJPA-1051</link>
                <project id="12310351" key="OPENJPA">OpenJPA</project>
                    <description>&lt;p&gt; In  OpenJPA implementation, it looks that MappingDefaultsImpl.populateColumns can accept multiple columns &lt;br/&gt;
 because it has Column[] signature.&lt;br/&gt;
 If column name is longer than DBDictionary restriction (it&apos;s very short in some databases. &lt;br/&gt;
 For example, oracle max name length is 32), names are truncated. &lt;/p&gt;

&lt;p&gt; Because name conflict is detected based on actual Table info,given Column[] data does not get checked. &lt;br/&gt;
 So, if given Column[] have very long name and truncated name of these Column[] is conflicted, &lt;br/&gt;
 it could not be detected.&lt;/p&gt;</description>
                <environment>OpenJPA Trunk.</environment>
        <key id="12424056">OPENJPA-1051</key>
            <summary>[patch] Mappingtool doesn&apos;t check name conflicts if MappingDefaultsImpl is called with multiple columns.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dezzio">David Ezzio</assignee>
                                    <reporter username="rpalache">Ravi P Palacherla</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Apr 2009 17:13:17 +0100</created>
                <updated>Fri, 13 Nov 2009 17:50:10 +0000</updated>
                            <resolved>Wed, 13 May 2009 23:57:54 +0100</resolved>
                                    <version>1.0.0</version>
                    <version>2.0.0-M2</version>
                                    <fixVersion>1.1.1</fixVersion>
                    <fixVersion>2.0.0-M2</fixVersion>
                                    <component>jdbc</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12703715" author="rpalache" created="Tue, 28 Apr 2009 17:43:10 +0100"  >&lt;p&gt;I added temporary name set to detect such name conflicts to Table  and NameSet classes. &lt;br/&gt;
Then, MappingDefaultsImpl uses this mechanism. &lt;br/&gt;
 name collision is detected in NameSet class and resolved truncated name is added on MappingDefaultsImpl.  After resolving all names, temporary name cache is removed on &lt;br/&gt;
 MappingDefaultsImpl.&lt;/p&gt;

&lt;p&gt; The fix can be verified by new unittest class TestMappingDefaultsImpl.java.&lt;/p&gt;

&lt;p&gt; Testing Done:&lt;br/&gt;
 OpenJPA head&lt;/p&gt;</comment>
                            <comment id="12705590" author="rpalache" created="Mon, 4 May 2009 14:28:38 +0100"  >&lt;p&gt;Can someone please commit the patch.&lt;/p&gt;</comment>
                            <comment id="12709198" author="dezzio" created="Wed, 13 May 2009 23:57:54 +0100"  >&lt;p&gt;Applied Ravi&apos;s patch.  Revision 774580.&lt;/p&gt;</comment>
                            <comment id="12740752" author="dezzio" created="Fri, 7 Aug 2009 22:31:23 +0100"  >&lt;p&gt;From trunk, merged fix to 1.1.x branch at rev 802208&lt;/p&gt;</comment>
                            <comment id="12756107" author="ppoddar@apache.org" created="Wed, 16 Sep 2009 18:04:52 +0100"  >&lt;p&gt;A more parsimonious solution (perhaps) would be to simply add the valid name to NameSet.addName(...),&lt;br/&gt;
after the name is validated by DBDictionary.makeNameValid() which also ensures uniqueness against the name set, &lt;/p&gt;

&lt;p&gt;The issue of naming is getting trickier with several aspects&lt;br/&gt;
  a) The logic/protocol of naming of database elements (Table/Column/Schema/Sequence) is somewhat well-spread at different parts&lt;br/&gt;
  b) few assumptions are implicit (like full name of a table is a concatenation of schema.table &amp;#8211; but MySQL, for example, will not like that) &lt;br/&gt;
  c) other &apos;container&apos; things often cache these elements by their names but these names may get shortened/modified because of database length restrictions/keyword clash &lt;br/&gt;
&amp;#8211; all these make naming a complex issue. One can see when methods like MappingDefaults.correctName() appears &amp;#8211; as if we know we have done mistakes &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;  d) the proverbial straw on the camel&apos;s back is the new JPA 2.0 requirement of these names be optionally quoted/delimited with default/platform specific quote characters.&lt;/p&gt;

&lt;p&gt;In light of all the above, having a NameSet._subNames and adding/resetting it everywhere may add to the complexities.&lt;/p&gt;

&lt;p&gt;Comments/Thoughts?&lt;/p&gt;</comment>
                            <comment id="12777166" author="rpalache" created="Thu, 12 Nov 2009 20:29:23 +0000"  >&lt;p&gt;Hi Pinaki,&lt;/p&gt;

&lt;p&gt;Thanks for your suggestions.&lt;br/&gt;
After reviewing your comments, I agree that the current solution is a bit complex and will try to work on the solution you suggested.&lt;/p&gt;

&lt;p&gt;Regards,&lt;br/&gt;
Ravi.&lt;/p&gt;</comment>
                            <comment id="12777583" author="rpalache" created="Fri, 13 Nov 2009 17:50:10 +0000"  >&lt;p&gt;Attached is the simplified fix suggested by Pinaki.&lt;br/&gt;
Thanks for the suggestion.&lt;/p&gt;

&lt;p&gt;Ravi.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12424876" name="OPENJPA-1051_Simple_Trunk.patch" size="5191" author="rpalache" created="Fri, 13 Nov 2009 17:50:10 +0000"/>
                            <attachment id="12406660" name="OPENJPA-1051_Trunk.patch" size="7612" author="rpalache" created="Tue, 28 Apr 2009 17:43:10 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 13 May 2009 22:57:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>161344</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hysspr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>202000</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>