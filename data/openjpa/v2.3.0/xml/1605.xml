<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:32:50 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/OPENJPA-1605/OPENJPA-1605.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[OPENJPA-1605] ReverseMappingTool (SchemaGenerator) bug</title>
                <link>https://issues.apache.org/jira/browse/OPENJPA-1605</link>
                <project id="12310351" key="OPENJPA">OpenJPA</project>
                    <description>&lt;p&gt;org.apache.openjpa.jdbc.schema.SchemaGenerator.java&lt;br/&gt;
=============================================&lt;br/&gt;
...&lt;br/&gt;
...&lt;br/&gt;
public void generateTables(DBIdentifier schemaName, DBIdentifier tableName,&lt;br/&gt;
        Connection conn, DatabaseMetaData meta) {&lt;br/&gt;
   ...&lt;br/&gt;
 Table table;&lt;br/&gt;
 DBIdentifier tableSchema = DBIdentifier.NULL;&lt;br/&gt;
 for (int i = 0; cols != null &amp;amp;&amp;amp; i &amp;lt; cols.length; i++) {&lt;br/&gt;
        if (DBIdentifier.isNull(tableName) || tableName.equals(&quot;%&quot;)) &lt;/p&gt;
{ &amp;lt;---  bug code line
                tableName = cols[i].getTableIdentifier(); &amp;lt;---  bug code line
        }
&lt;p&gt;...&lt;br/&gt;
...&lt;br/&gt;
 }&lt;br/&gt;
}&lt;/p&gt;


&lt;p&gt;if parameter  tableName is null, than tableName is always been set the first column table Identifier &lt;br/&gt;
  --&amp;gt; &quot;cols&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;.getTableIdentifier() &quot;&lt;br/&gt;
this cause only generate first table class file with wrong columns.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12460829">OPENJPA-1605</key>
            <summary>ReverseMappingTool (SchemaGenerator) bug</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="techhusky">Jeremy Bauer</assignee>
                                    <reporter username="leo.tu">Leo Tu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 31 Mar 2010 16:51:46 +0100</created>
                <updated>Thu, 22 Apr 2010 21:30:13 +0100</updated>
                            <resolved>Thu, 15 Apr 2010 20:47:35 +0100</resolved>
                                    <version>2.0.0-beta3</version>
                                    <fixVersion>2.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12853538" author="curtisr7" created="Mon, 5 Apr 2010 22:03:06 +0100"  >&lt;p&gt;If possible, please post a unit test exhibiting the bug that you&apos;ve pointed out.&lt;/p&gt;</comment>
                            <comment id="12853978" author="leo.tu" created="Tue, 6 Apr 2010 14:52:45 +0100"  >&lt;p&gt;Hi Rick Curtis, bellow is my unit test:&lt;/p&gt;


&lt;p&gt;(1) Create Table for Testing:&lt;br/&gt;
==============================================&lt;br/&gt;
CREATE DATABASE `abc`;&lt;/p&gt;

&lt;p&gt;DROP TABLE IF EXISTS `abc`.`mycompany`;&lt;br/&gt;
CREATE TABLE  `abc`.`mycompany` (&lt;br/&gt;
  `COMPANY_ID` varchar(20) NOT NULL,&lt;br/&gt;
  `ENGNAME` varchar(100) default NULL,&lt;br/&gt;
  `COUNTRY` varchar(5) default NULL,&lt;br/&gt;
  `CITY` varchar(20) default NULL,&lt;br/&gt;
  `ZIP` varchar(10) default NULL,&lt;br/&gt;
  `PHONE` varchar(40) default NULL,&lt;br/&gt;
  PRIMARY KEY  (`COMPANY_ID`)&lt;br/&gt;
) ENGINE=InnoDB DEFAULT CHARSET=utf8;&lt;/p&gt;

&lt;p&gt;DROP TABLE IF EXISTS `abc`.`mycompany_emp`;&lt;br/&gt;
CREATE TABLE  `abc`.`mycompany_emp` (&lt;br/&gt;
  `COMPANY_ID` varchar(20) NOT NULL,&lt;br/&gt;
  `EMPNAME` varchar(50) NOT NULL default &apos;&apos;,&lt;br/&gt;
  `ROLE` varchar(30) default NULL,&lt;br/&gt;
  `EMAIL` varchar(100) default NULL,&lt;br/&gt;
  `ERP_ID` varchar(10) default NULL,&lt;br/&gt;
  PRIMARY KEY  (`COMPANY_ID`,`EMPNAME`),&lt;br/&gt;
  CONSTRAINT `COMPANY_EMP_FK1` FOREIGN KEY (`COMPANY_ID`) REFERENCES `mycompany` (`COMPANY_ID`)&lt;br/&gt;
) ENGINE=InnoDB DEFAULT CHARSET=utf8;&lt;/p&gt;

&lt;p&gt;DROP TABLE IF EXISTS `abc`.`myrole`;&lt;br/&gt;
CREATE TABLE  `abc`.`myrole` (&lt;br/&gt;
  `ROLE_ID` varchar(30) NOT NULL,&lt;br/&gt;
  `USER_ID` varchar(30) NOT NULL default &apos;&apos;,&lt;br/&gt;
  `IS_ENABLE` varchar(1) default NULL,&lt;br/&gt;
  `LOCATION` varchar(30) default NULL,&lt;br/&gt;
  PRIMARY KEY  (`ROLE_ID`,`USER_ID`)&lt;br/&gt;
) ENGINE=InnoDB DEFAULT CHARSET=utf8;&lt;/p&gt;



&lt;p&gt;(2) ANT build.xml for Testing:&lt;br/&gt;
==============================================&lt;br/&gt;
&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;br/&gt;
&amp;lt;project name=&quot;test&quot; default=&quot;reverse-schema-test&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;	&amp;lt;property name=&quot;jdbc.driver&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&amp;gt;&lt;br/&gt;
	&amp;lt;property name=&quot;jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3306/abc&quot; /&amp;gt;&lt;br/&gt;
	&amp;lt;property name=&quot;jdbc.username&quot; value=&quot;test&quot; /&amp;gt;&lt;br/&gt;
	&amp;lt;property name=&quot;jdbc.password&quot; value=&quot;test123&quot; /&amp;gt;&lt;br/&gt;
	&amp;lt;property name=&quot;jdbc.package&quot; value=&quot;db.model.test&quot; /&amp;gt;&lt;/p&gt;

&lt;p&gt;	&amp;lt;property name=&quot;project.path&quot; value=&quot;$&lt;/p&gt;
{basedir}&quot; /&amp;gt;&lt;br/&gt;
	&amp;lt;property name=&quot;webapp.path&quot; location=&quot;${project.path}/WebContent&quot; /&amp;gt;&lt;br/&gt;
	&amp;lt;property name=&quot;java.classes.output.path&quot; location=&quot;${webapp.path}/WEB-INF/classes&quot; /&amp;gt;&lt;br/&gt;
	&amp;lt;property name=&quot;java.code.src_auto_gen_test&quot; value=&quot;${project.path}/src_auto_gen_test&quot; /&amp;gt;&lt;br/&gt;
&lt;br/&gt;
	&amp;lt;!-- echo --&amp;gt;&lt;br/&gt;
	&amp;lt;echo&amp;gt;ant.version=&lt;span class=&quot;error&quot;&gt;&amp;#91;${ant.version}&amp;#93;&lt;/span&gt;&amp;lt;/echo&amp;gt;&lt;br/&gt;
	&amp;lt;echo&amp;gt;ant.java.version=&lt;span class=&quot;error&quot;&gt;&amp;#91;${ant.java.version}&amp;#93;&lt;/span&gt;&amp;lt;/echo&amp;gt;&lt;br/&gt;
	&amp;lt;echo&amp;gt;java.home=&lt;span class=&quot;error&quot;&gt;&amp;#91;${java.home}&amp;#93;&lt;/span&gt;&amp;lt;/echo&amp;gt;&lt;br/&gt;
	&amp;lt;!--&lt;br/&gt;
	&amp;lt;echo&amp;gt;basedir=[${basedir}
&lt;p&gt;]&amp;lt;/echo&amp;gt;&lt;br/&gt;
	&amp;lt;echo&amp;gt;project.path=[$&lt;/p&gt;
{project.path}]&amp;lt;/echo&amp;gt;&lt;br/&gt;
	&amp;lt;echo&amp;gt;webapp.path=&lt;span class=&quot;error&quot;&gt;&amp;#91;${webapp.path}&amp;#93;&lt;/span&gt;&amp;lt;/echo&amp;gt;&lt;br/&gt;
	&amp;lt;echo&amp;gt;java.classes.output.path=[${java.classes.output.path}]&amp;lt;/echo&amp;gt;&lt;br/&gt;
	--&amp;gt;&lt;br/&gt;
&lt;br/&gt;
	&amp;lt;!-- classpath --&amp;gt;&lt;br/&gt;
	&amp;lt;path id=&quot;default.classpath&quot;&amp;gt;&lt;br/&gt;
&lt;br/&gt;
		&amp;lt;!-- for openjpa-1.2.2 --&amp;gt;		&lt;br/&gt;
		&amp;lt;!--&lt;br/&gt;
		&amp;lt;fileset dir=&quot;D:/download/apache-java/OpenJPA/apache-openjpa-1.2.2-binary/apache-openjpa-1.2.2&quot;&amp;gt;&lt;br/&gt;
			&amp;lt;include name=&quot;openjpa-1.2.2.jar&quot; /&amp;gt;&lt;br/&gt;
			&amp;lt;include name=&quot;lib/*.jar&quot; /&amp;gt;&lt;br/&gt;
		&amp;lt;/fileset&amp;gt;&lt;br/&gt;
		--&amp;gt;&lt;br/&gt;
&lt;br/&gt;
		&amp;lt;!-- for openjpa-2.0.0-beta3 --&amp;gt;		&lt;br/&gt;
		&amp;lt;fileset dir=&quot;D:/download/apache-java/OpenJPA/apache-openjpa-2.0.0-beta3-binary/apache-openjpa-2.0.0-beta3&quot;&amp;gt;&lt;br/&gt;
			&amp;lt;include name=&quot;openjpa-2.0.0-beta3.jar&quot; /&amp;gt;&lt;br/&gt;
			&amp;lt;include name=&quot;lib/*.jar&quot; /&amp;gt;&lt;br/&gt;
		&amp;lt;/fileset&amp;gt;		&lt;br/&gt;
&lt;br/&gt;
		&amp;lt;!-- for jdbc --&amp;gt;&lt;br/&gt;
		&amp;lt;fileset dir=&quot;D:/download/MS-SQL/mysql-connector-java-5.1.12&quot;&amp;gt;&lt;br/&gt;
			&amp;lt;include name=&quot;mysql-connector-java-5.1.12-bin.jar&quot; /&amp;gt;&lt;br/&gt;
		&amp;lt;/fileset&amp;gt;&lt;br/&gt;
&lt;br/&gt;
		&amp;lt;pathelement location=&quot;${java.classes.output.path}&quot; /&amp;gt;&lt;br/&gt;
	&amp;lt;/path&amp;gt;&lt;br/&gt;
&lt;br/&gt;
	&amp;lt;taskdef name=&quot;reversemappingtool&quot; classname=&quot;org.apache.openjpa.jdbc.ant.ReverseMappingToolTask&quot;&amp;gt;&lt;br/&gt;
		&amp;lt;classpath refid=&quot;default.classpath&quot; /&amp;gt;&lt;br/&gt;
	&amp;lt;/taskdef&amp;gt;&lt;br/&gt;
&lt;br/&gt;
	&amp;lt;target name=&quot;reverse-schema-test&quot; depends=&quot;&quot; description=&quot;Generate java files from the database schema&quot;&amp;gt;&lt;br/&gt;
		&amp;lt;delete dir=&quot;${java.code.src_auto_gen_test}&quot; /&amp;gt;&lt;br/&gt;
		&amp;lt;mkdir dir=&quot;${java.code.src_auto_gen_test}&quot; /&amp;gt;&lt;br/&gt;
		&amp;lt;delete file=&quot;${project.path}
&lt;p&gt;/orm.xml&quot; /&amp;gt;&lt;/p&gt;

&lt;p&gt;		&amp;lt;reversemappingtool inverseRelations=&quot;true&quot; package=&quot;$&lt;/p&gt;
{jdbc.package}
&lt;p&gt;&quot; directory=&quot;$&lt;/p&gt;
{java.code.src_auto_gen_test}
&lt;p&gt;&quot; innerIdentityClasses=&quot;true&quot; useBuiltinIdentityClass=&quot;false&quot; identityClassSuffix=&quot;Pk&quot; nullableAsObject=&quot;true&quot; generateAnnotations=&quot;true&quot; useSchemaName=&quot;false&quot; detachable=&quot;true&quot; useGenericCollections=&quot;true&quot;&amp;gt;&lt;br/&gt;
			&amp;lt;config connectiondrivername=&quot;$&lt;/p&gt;
{jdbc.driver}
&lt;p&gt;&quot; connectionurl=&quot;$&lt;/p&gt;
{jdbc.url}
&lt;p&gt;&quot; connectionusername=&quot;$&lt;/p&gt;
{jdbc.username}
&lt;p&gt;&quot; connectionpassword=&quot;$&lt;/p&gt;
{jdbc.password}
&lt;p&gt;&quot; /&amp;gt;&lt;br/&gt;
			&amp;lt;codeformat tabSpaces=&quot;4&quot; spaceBeforeParen=&quot;false&quot; braceOnSameLine=&quot;true&quot; /&amp;gt;&lt;br/&gt;
		&amp;lt;/reversemappingtool&amp;gt;&lt;br/&gt;
	&amp;lt;/target&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;/project&amp;gt;&lt;/p&gt;



&lt;p&gt;(3) ANT build log message for version: &quot;openjpa-1.2.2&quot;  &lt;br/&gt;
(&amp;lt;path id=&quot;default.classpath&quot;&amp;gt;&lt;br/&gt;
   ... &lt;br/&gt;
  &amp;lt;include name=&quot;openjpa-1.2.2.jar&quot; /&amp;gt;&lt;br/&gt;
   ... &lt;br/&gt;
&amp;lt;/path&amp;gt;)&lt;/p&gt;

&lt;p&gt;==============================================&lt;br/&gt;
Buildfile: D:\developer\workspace-soho\magic-web\build_test.xml&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; ant.version=&lt;span class=&quot;error&quot;&gt;&amp;#91;Apache Ant version 1.7.1 compiled on June 27 2008&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; ant.java.version=&lt;span class=&quot;error&quot;&gt;&amp;#91;1.6&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; java.home=&lt;span class=&quot;error&quot;&gt;&amp;#91;C:\Program Files\Java\jre6&amp;#93;&lt;/span&gt;&lt;br/&gt;
reverse-schema-test:&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;mkdir&amp;#93;&lt;/span&gt; Created dir: D:\developer\workspace-soho\magic-web\src_auto_gen_test&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;delete&amp;#93;&lt;/span&gt; Deleting: D:\developer\workspace-soho\magic-web\orm.xml&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;reversemappingtool&amp;#93;&lt;/span&gt; 62  server-pu  INFO   &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.Tool - The reverse mapping tool will run on the database.  The tool is gathering schema information; this process may take some time.  Enable the org.apache.openjpa.jdbc.Schema logging category to see messages about schema data.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;reversemappingtool&amp;#93;&lt;/span&gt; 125  server-pu  INFO   &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.jdbc.JDBC - Using dictionary class &quot;org.apache.openjpa.jdbc.sql.MySQLDictionary&quot;.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;reversemappingtool&amp;#93;&lt;/span&gt; 984  server-pu  INFO   &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.Tool - ReverseMappingTool : generating classes.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;reversemappingtool&amp;#93;&lt;/span&gt; 1328  server-pu  INFO   &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.Tool - Generating annotations.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;reversemappingtool&amp;#93;&lt;/span&gt; 1359  server-pu  INFO   &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.MetaData - Writing class &quot;db.model.test.Mycompany&quot;.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;reversemappingtool&amp;#93;&lt;/span&gt; 1375  server-pu  INFO   &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.MetaData - Writing class &quot;db.model.test.MycompanyEmp&quot;.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;reversemappingtool&amp;#93;&lt;/span&gt; 1375  server-pu  INFO   &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.MetaData - Writing class &quot;db.model.test.Myrole&quot;.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;reversemappingtool&amp;#93;&lt;/span&gt; 1390  server-pu  INFO   &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.Tool - Writing generated class source code.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;reversemappingtool&amp;#93;&lt;/span&gt; 1390  server-pu  INFO   &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.MetaData - Writing java code for generated type &quot;db.model.test.Mycompany&quot;.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;reversemappingtool&amp;#93;&lt;/span&gt; 1406  server-pu  INFO   &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.Enhance - Generating an application id for type &quot;class db.model.test.Mycompany&quot;.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;reversemappingtool&amp;#93;&lt;/span&gt; 1453  server-pu  INFO   &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.MetaData - Writing java code for generated type &quot;db.model.test.MycompanyEmp&quot;.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;reversemappingtool&amp;#93;&lt;/span&gt; 1453  server-pu  INFO   &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.Enhance - Generating an application id for type &quot;class db.model.test.MycompanyEmp&quot;.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;reversemappingtool&amp;#93;&lt;/span&gt; 1453  server-pu  INFO   &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.MetaData - Writing java code for generated type &quot;db.model.test.Myrole&quot;.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;reversemappingtool&amp;#93;&lt;/span&gt; 1453  server-pu  INFO   &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.Enhance - Generating an application id for type &quot;class db.model.test.Myrole&quot;.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;reversemappingtool&amp;#93;&lt;/span&gt; 1468  server-pu  INFO   &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.Tool - Writing generated metadata.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;reversemappingtool&amp;#93;&lt;/span&gt; 1500  server-pu  INFO   &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.MetaData - Writing to file &quot;orm.xml&quot;.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;reversemappingtool&amp;#93;&lt;/span&gt; 1515  server-pu  INFO   &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.MetaData - Writing class &quot;db.model.test.Mycompany&quot;.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;reversemappingtool&amp;#93;&lt;/span&gt; 1531  server-pu  INFO   &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.MetaData - Writing class &quot;db.model.test.MycompanyEmp&quot;.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;reversemappingtool&amp;#93;&lt;/span&gt; 1531  server-pu  INFO   &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.MetaData - Writing class &quot;db.model.test.Myrole&quot;.&lt;br/&gt;
BUILD SUCCESSFUL&lt;br/&gt;
Total time: 2 seconds&lt;/p&gt;



&lt;p&gt;(4) ANT build log message for version: &quot;openjpa-2.0.0-beta3&quot; &lt;br/&gt;
(&amp;lt;path id=&quot;default.classpath&quot;&amp;gt;&lt;br/&gt;
   ... &lt;br/&gt;
  &amp;lt;include name=&quot;openjpa-2.0.0-beta3.jar&quot; /&amp;gt;&lt;br/&gt;
   ... &lt;br/&gt;
&amp;lt;/path&amp;gt;)&lt;br/&gt;
==============================================&lt;br/&gt;
Buildfile: D:\developer\workspace-soho\magic-web\build_test.xml&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; ant.version=&lt;span class=&quot;error&quot;&gt;&amp;#91;Apache Ant version 1.7.1 compiled on June 27 2008&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; ant.java.version=&lt;span class=&quot;error&quot;&gt;&amp;#91;1.6&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; java.home=&lt;span class=&quot;error&quot;&gt;&amp;#91;C:\Program Files\Java\jre6&amp;#93;&lt;/span&gt;&lt;br/&gt;
reverse-schema-test:&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;mkdir&amp;#93;&lt;/span&gt; Created dir: D:\developer\workspace-soho\magic-web\src_auto_gen_test&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;delete&amp;#93;&lt;/span&gt; Deleting: D:\developer\workspace-soho\magic-web\orm.xml&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;reversemappingtool&amp;#93;&lt;/span&gt; 93  server-pu  INFO   &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.Tool - The reverse mapping tool will run on the database.  The tool is gathering schema information; this process may take some time.  Enable the org.apache.openjpa.jdbc.Schema logging category to see messages about schema data.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;reversemappingtool&amp;#93;&lt;/span&gt; 406  server-pu  INFO   &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.jdbc.JDBC - Using dictionary class &quot;org.apache.openjpa.jdbc.sql.MySQLDictionary&quot;.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;reversemappingtool&amp;#93;&lt;/span&gt; 1343  server-pu  INFO   &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.Tool - ReverseMappingTool : generating classes.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;reversemappingtool&amp;#93;&lt;/span&gt; 1640  server-pu  INFO   &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.Tool - Generating annotations.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;reversemappingtool&amp;#93;&lt;/span&gt; 1656  server-pu  INFO   &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.MetaData - Writing class &quot;db.model.test.Mycompany&quot;.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;reversemappingtool&amp;#93;&lt;/span&gt; 1687  server-pu  INFO   &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.Tool - Writing generated class source code.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;reversemappingtool&amp;#93;&lt;/span&gt; 1687  server-pu  INFO   &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.MetaData - Writing java code for generated type &quot;db.model.test.Mycompany&quot;.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;reversemappingtool&amp;#93;&lt;/span&gt; 1718  server-pu  INFO   &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.Enhance - Generating an application id for type &quot;class db.model.test.Mycompany&quot;.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;reversemappingtool&amp;#93;&lt;/span&gt; 1765  server-pu  INFO   &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.Tool - Writing generated metadata.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;reversemappingtool&amp;#93;&lt;/span&gt; 1796  server-pu  INFO   &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.MetaData - Writing to file &quot;orm.xml&quot;.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;reversemappingtool&amp;#93;&lt;/span&gt; 1828  server-pu  INFO   &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.MetaData - Writing class &quot;db.model.test.Mycompany&quot;.&lt;br/&gt;
BUILD SUCCESSFUL&lt;br/&gt;
Total time: 3 seconds&lt;/p&gt;



&lt;p&gt;(5) /META-INF/persistence.xml&lt;br/&gt;
==============================================&lt;br/&gt;
&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&amp;gt;&lt;br/&gt;
&amp;lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;br/&gt;
	xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence&lt;br/&gt;
        &lt;a href=&quot;http://java.sun.com/xml/ns/persistence/persistence_1_0.xsd&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://java.sun.com/xml/ns/persistence/persistence_1_0.xsd&lt;/a&gt;&quot;&lt;br/&gt;
	version=&quot;1.0&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;	&amp;lt;persistence-unit name=&quot;server-pu&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&amp;gt;&lt;br/&gt;
		&amp;lt;provider&amp;gt;org.apache.openjpa.persistence.PersistenceProviderImpl&amp;lt;/provider&amp;gt;&lt;br/&gt;
		&amp;lt;properties&amp;gt;&lt;br/&gt;
			&amp;lt;property name=&quot;openjpa.jdbc.DBDictionary&quot; value=&quot;storeCharsAsNumbers=false&quot; /&amp;gt;&lt;br/&gt;
			&amp;lt;property name=&quot;openjpa.jdbc.SynchronizeMappings&quot; value=&quot;false&quot; /&amp;gt;&lt;br/&gt;
			&amp;lt;property name=&quot;openjpa.Log&quot; value=&quot;SQL=TRACE&quot;&amp;gt;&amp;lt;/property&amp;gt;&lt;br/&gt;
			&amp;lt;property name=&quot;openjpa.ConnectionFactoryProperties&quot; value=&quot;PrettyPrint=true,PrettyPrintLineLength=72&quot;&amp;gt;&amp;lt;/property&amp;gt;&lt;br/&gt;
  	   &amp;lt;/properties&amp;gt;&lt;/p&gt;

&lt;p&gt;	&amp;lt;/persistence-unit&amp;gt;&lt;br/&gt;
&amp;lt;/persistence&amp;gt;&lt;/p&gt;


&lt;p&gt;**********************************************&lt;br/&gt;
(6) Result&lt;br/&gt;
==&amp;gt;  version: &quot;openjpa-1.2.2&quot;  is correct,  generate three java class files.&lt;br/&gt;
i.e, &quot;Mycompany &quot;&lt;/p&gt;

&lt;p&gt;@Entity&lt;br/&gt;
@Table(name=&quot;mycompany&quot;)&lt;br/&gt;
@IdClass(db.model.test.Mycompany.Pk.class)&lt;br/&gt;
public class Mycompany {&lt;br/&gt;
    @Basic&lt;br/&gt;
    @Column(length=20)&lt;br/&gt;
    private String city;&lt;/p&gt;

&lt;p&gt;    @Id&lt;br/&gt;
    @Column(name=&quot;COMPANY_ID&quot;, length=20)&lt;br/&gt;
    private String companyId;&lt;/p&gt;

&lt;p&gt;    @Basic&lt;br/&gt;
    @Column(length=5)&lt;br/&gt;
    private String country;&lt;/p&gt;

&lt;p&gt;    @Basic&lt;br/&gt;
    @Column(length=100)&lt;br/&gt;
    private String engname;&lt;/p&gt;

&lt;p&gt;    @OneToMany(targetEntity=db.model.test.MycompanyEmp.class, mappedBy=&quot;mycompany&quot;, cascade=CascadeType.MERGE)&lt;br/&gt;
    private Set&amp;lt;MycompanyEmp&amp;gt; mycompanyEmps = new HashSet&amp;lt;MycompanyEmp&amp;gt;();&lt;/p&gt;

&lt;p&gt;    @Basic&lt;br/&gt;
    @Column(length=40)&lt;br/&gt;
    private String phone;&lt;/p&gt;

&lt;p&gt;    @Basic&lt;br/&gt;
    @Column(length=10)&lt;br/&gt;
    private String zip;&lt;/p&gt;


&lt;p&gt;    public Mycompany() {&lt;br/&gt;
    }&lt;br/&gt;
...&lt;br/&gt;
}&lt;/p&gt;


&lt;p&gt;==&amp;gt;  version: &quot;openjpa-2.0.0-beta3&quot;  is incorrect, generate only one file:&lt;br/&gt;
i.e, &quot;Mycompany &quot; with wrong columns&lt;/p&gt;

&lt;p&gt;/**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Auto-generated by:&lt;/li&gt;
	&lt;li&gt;org.apache.openjpa.jdbc.meta.ReverseMappingTool$AnnotatedCodeGenerator&lt;br/&gt;
 */&lt;br/&gt;
@Entity&lt;br/&gt;
@Table(name=&quot;mycompany&quot;)&lt;br/&gt;
@IdClass(db.model.test.Mycompany.Pk.class)&lt;br/&gt;
public class Mycompany {&lt;br/&gt;
    @Basic&lt;br/&gt;
    @Column(length=20)&lt;br/&gt;
    private String city;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    @Id&lt;br/&gt;
    @Column(name=&quot;COMPANY_ID&quot;, length=20)&lt;br/&gt;
    private String companyId;&lt;/p&gt;

&lt;p&gt;    @Basic&lt;br/&gt;
    @Column(length=5)&lt;br/&gt;
    private String country;&lt;/p&gt;

&lt;p&gt;    @Basic&lt;br/&gt;
    @Column(length=100)&lt;br/&gt;
    private String email;&lt;/p&gt;

&lt;p&gt;    @Basic&lt;br/&gt;
    @Column(nullable=false, length=50)&lt;br/&gt;
    private String empname;&lt;/p&gt;

&lt;p&gt;    @Basic&lt;br/&gt;
    @Column(length=100)&lt;br/&gt;
    private String engname;&lt;/p&gt;

&lt;p&gt;    @Basic&lt;br/&gt;
    @Column(name=&quot;ERP_ID&quot;, length=10)&lt;br/&gt;
    private String erpId;&lt;/p&gt;

&lt;p&gt;    @Basic&lt;br/&gt;
    @Column(name=&quot;IS_ENABLE&quot;, length=1)&lt;br/&gt;
    private String isEnable;&lt;/p&gt;

&lt;p&gt;    @Basic&lt;br/&gt;
    @Column(length=30)&lt;br/&gt;
    private String location;&lt;/p&gt;

&lt;p&gt;    @Basic&lt;br/&gt;
    @Column(length=40)&lt;br/&gt;
    private String phone;&lt;/p&gt;

&lt;p&gt;    @Basic&lt;br/&gt;
    @Column(length=30)&lt;br/&gt;
    private String role;&lt;/p&gt;

&lt;p&gt;    @Basic&lt;br/&gt;
    @Column(name=&quot;ROLE_ID&quot;, nullable=false, length=30)&lt;br/&gt;
    private String roleId;&lt;/p&gt;

&lt;p&gt;    @Basic&lt;br/&gt;
    @Column(name=&quot;USER_ID&quot;, nullable=false, length=30)&lt;br/&gt;
    private String userId;&lt;/p&gt;

&lt;p&gt;    @Basic&lt;br/&gt;
    @Column(length=10)&lt;br/&gt;
    private String zip;&lt;/p&gt;


&lt;p&gt;    public Mycompany() {&lt;br/&gt;
    }&lt;br/&gt;
...&lt;br/&gt;
}&lt;/p&gt;</comment>
                            <comment id="12857510" author="techhusky" created="Thu, 15 Apr 2010 20:47:35 +0100"  >&lt;p&gt;Fixed in 2.0.x branch and trunk.  Leo - Thanks for reporting this problem and for the test case.  This problem was breaking one of the reverse mapping example, so it can be verified by running that example.&lt;/p&gt;</comment>
                            <comment id="12857542" author="drwoods" created="Thu, 15 Apr 2010 22:23:03 +0100"  >&lt;p&gt;Only need Fix Version of 2.0.0&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                                                <inwardlinks description="is required by">
                                        <issuelink>
            <issuekey id="12425610">OPENJPA-1091</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 5 Apr 2010 21:03:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>161867</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hysyf3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>202924</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>