<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:34:26 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/OPENJPA-430/OPENJPA-430.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[OPENJPA-430] Automatically remove hungarian notation from column names.</title>
                <link>https://issues.apache.org/jira/browse/OPENJPA-430</link>
                <project id="12310351" key="OPENJPA">OpenJPA</project>
                    <description>&lt;p&gt;Add a flag to switch on/off automatic truncation of hungarian fields when automatically generating column names.&lt;/p&gt;

&lt;p&gt;Fields such as mFoobar and strBarFoo would become columns named* foobar and barfoo respectivly.&lt;/p&gt;

&lt;p&gt;*Current naming DBDictionary rules would still apply.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12381747">OPENJPA-430</key>
            <summary>Automatically remove hungarian notation from column names.</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="benshort">Ben Short</reporter>
                        <labels>
                    </labels>
                <created>Fri, 2 Nov 2007 22:50:10 +0000</created>
                <updated>Tue, 9 Mar 2010 18:32:41 +0000</updated>
                            <resolved>Wed, 23 Jan 2008 19:36:39 +0000</resolved>
                                    <version>1.1.0</version>
                                    <fixVersion>1.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12539739" author="benshort" created="Fri, 2 Nov 2007 22:56:34 +0000"  >&lt;p&gt;A patch that adds this feature.&lt;/p&gt;

&lt;p&gt;Switch on using property removeHungarianNotation=true&lt;/p&gt;
</comment>
                            <comment id="12540455" author="kwsutter" created="Tue, 6 Nov 2007 15:19:06 +0000"  >&lt;p&gt;Documentation updates as well?  This is especially important when adding new properties.  Thanks!&lt;/p&gt;</comment>
                            <comment id="12540458" author="benshort" created="Tue, 6 Nov 2007 15:35:25 +0000"  >&lt;p&gt;Can the current patch be removed and I&apos;ll replace with one that updates the documentation?&lt;/p&gt;</comment>
                            <comment id="12540474" author="pcl" created="Tue, 6 Nov 2007 16:33:15 +0000"  >&lt;p&gt;I already submitted the old patch; just update your environment and add docs (in the openjpa-project dir) and add the new diff.&lt;/p&gt;

&lt;p&gt;Thanks for the work on this feature, btw.&lt;/p&gt;</comment>
                            <comment id="12540895" author="benshort" created="Wed, 7 Nov 2007 21:04:21 +0000"  >&lt;p&gt;Patch that provides documentation for this feature.&lt;/p&gt;</comment>
                            <comment id="12561791" author="pcl" created="Wed, 23 Jan 2008 19:36:39 +0000"  >&lt;p&gt;FTR, this was addressed in r592319 originally. That svn commit did not get associated for some reason.&lt;/p&gt;</comment>
                            <comment id="12579961" author="allee8285" created="Tue, 18 Mar 2008 18:01:17 +0000"  >&lt;p&gt;This feature intended to remove/truncate fields using the Hungarian notations to the form as described in the original append. However the following changes seems to do more than just transforming a field, i.e. &quot; name = dict.getValidColumnName(name, local);&quot;&lt;/p&gt;

&lt;p&gt;&amp;#8212; openjpa/trunk/openjpa-persistence-jdbc/src/main/java/org/apache/openjpa/persistence/jdbc/PersistenceMappingDefaults.java	2007/11/06 07:33:44	592318&lt;br/&gt;
+++ openjpa/trunk/openjpa-persistence-jdbc/src/main/java/org/apache/openjpa/persistence/jdbc/PersistenceMappingDefaults.java	2007/11/06 07:36:55	592319&lt;br/&gt;
@@ -181,6 +181,12 @@&lt;br/&gt;
         if (target instanceof Column) &lt;/p&gt;
{
             if (elem)
                 name = vm.getFieldMapping().getName();
+
+            if (isRemoveHungarianNotation())
+                name = removeHungarianNotation(name);
+
+            name = dict.getValidColumnName(name, local);
+
             col.setName(name + &quot;_&quot; + ((Column) target).getName());
         }
&lt;p&gt;     }&lt;/p&gt;

&lt;p&gt;This change has some undesired consequence that broke some previous application.  Specifically, if the field is a keyword (e.g. identity), a digit is appended to the name so a foreign key column is changed from, e.g.   identity_id to identity0_id.  If an application already has a table defined and no automatic synchronize mapping is specified, the application will fail. This name augmentation is not warranted because even though identity is a keyword but the combined foreign key column identity_id is NOT a keyword.&lt;/p&gt;

&lt;p&gt;My question is what is the intended purpose of this name transformation and how does it play into the &quot;remove Hungarian Notation&quot; feature? &lt;/p&gt;

&lt;p&gt;As Patrick mentioned in his  last note, some function in Kodo test also failed.  Can this name transformation be removed ?&lt;/p&gt;

&lt;p&gt;Albert Lee.&lt;/p&gt;</comment>
                            <comment id="12580111" author="ppoddar@apache.org" created="Tue, 18 Mar 2008 21:44:26 +0000"  >&lt;p&gt;This feature should be removed because&lt;/p&gt;

&lt;p&gt;A) MappingDefaults is inappropriate place for introduction of a rather specific naming semantics. An extended user-defined (or pre-packaged) plug-in should do it. &lt;br/&gt;
B) It broke my code several times &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Especially when Column names matched database reserved words. &lt;/p&gt;


</comment>
                    </comments>
                    <attachments>
                            <attachment id="12369140" name="OPENJPA-430-DOCS.patch" size="2600" author="benshort" created="Wed, 7 Nov 2007 21:04:21 +0000"/>
                            <attachment id="12368900" name="OPENJPA-430.patch" size="9261" author="benshort" created="Fri, 2 Nov 2007 22:56:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 6 Nov 2007 15:19:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>160752</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hz7kiv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>288295</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>