<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:30:48 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/OPENJPA-1570/OPENJPA-1570.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[OPENJPA-1570] Exception using @Strategy in @MappedSuperclass or @Embeddable classes</title>
                <link>https://issues.apache.org/jira/browse/OPENJPA-1570</link>
                <project id="12310351" key="OPENJPA">OpenJPA</project>
                    <description>&lt;p&gt;An exception occurs if you add the @Strategy annotation on a field of an @Embeddable or @MappedSuperclass (not part of an @ElementCollection).&lt;br/&gt;
The  patch &lt;a href=&quot;https://issues.apache.org/jira/browse/OPENJPA-1556&quot; title=&quot;Exception thrown on first use of @Strategy in @Embeddable classes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OPENJPA-1556&quot;&gt;&lt;del&gt;OPENJPA-1556&lt;/del&gt;&lt;/a&gt;.patch does not fix the problem.&lt;/p&gt;

&lt;p&gt;&amp;lt;openjpa-2.0.0-beta2-rexportiert fatal user error&amp;gt; org.apache.openjpa.persistence.ArgumentException: Attempt to map &quot;jpa.test.domain.TestEntityBase.testEnumSimple&quot; failed: the owning entity is not mapped.&lt;/p&gt;

&lt;p&gt;To be more concrete. I try to change the default enum handling using an own EnumValueHandler. The Handler is working if you add&lt;br/&gt;
the @Strategy to the @Entity. Adding @Strategy on a field in a @MappedSuperclass leads to the above exception.&lt;/p&gt;

&lt;p&gt;@javax.persistence.Entity&lt;br/&gt;
@javax.persistence.Table(name = &quot;TESTENTITY&quot;)&lt;br/&gt;
public class TestEntity extends TestEntityBase &lt;/p&gt;
{
...
}

&lt;p&gt;@MappedSuperclass&lt;br/&gt;
public abstract class TestEntityBase &lt;/p&gt;
{
    @Column(name = &quot;TESTENUMSIMPLE&quot;)
    @Enumerated(javax.persistence.EnumType.STRING)
    @Strategy(&quot;jpa.test.domain.EnumStrategy&quot;)
    private TestEnumSimple testEnumSimple;
...
}

&lt;p&gt;You get the same Exception if you add the @Strategy to a @Embeddable and I also tried a own simple StringValueHandler with the same result.&lt;/p&gt;</description>
                <environment>Ubuntu 9.10, Maven 2.2.1, Spring 3.0.1</environment>
        <key id="12459020">OPENJPA-1570</key>
            <summary>Exception using @Strategy in @MappedSuperclass or @Embeddable classes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="faywang">Fay Wang</assignee>
                                    <reporter username="oringel">Oliver Ringel</reporter>
                        <labels>
                    </labels>
                <created>Sat, 13 Mar 2010 14:12:21 +0000</created>
                <updated>Tue, 23 Mar 2010 18:33:58 +0000</updated>
                            <resolved>Tue, 16 Mar 2010 20:18:49 +0000</resolved>
                                    <version>2.0.0-beta2</version>
                                    <fixVersion>2.0.0-beta3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12844919" author="faywang" created="Sat, 13 Mar 2010 17:03:40 +0000"  >&lt;p&gt;Could you provide a reproducible test case for @Strategy on @Embeddable?&lt;/p&gt;</comment>
                            <comment id="12844934" author="oringel" created="Sat, 13 Mar 2010 18:26:57 +0000"  >&lt;p&gt;OK. I attached the test case. I used the issue 1556 test case and made the necessary changes to get it work. &lt;/p&gt;

&lt;p&gt;It seems that @Strategy is working now for @Embeddable classes. I didn&apos;t checked that after I installed the patch.&lt;br/&gt;
My priority lies on @MappedSuperclasses, where you will still get the mentioned exception.&lt;/p&gt;

&lt;p&gt;The test case includes an example for @MappedSuperclasses and @Embeddable.&lt;/p&gt;</comment>
                            <comment id="12844989" author="faywang" created="Sat, 13 Mar 2010 23:52:33 +0000"  >&lt;p&gt;Hi Charles,&lt;br/&gt;
   I just checked in the fix. Could you test to see if it works now?&lt;/p&gt;</comment>
                            <comment id="12845279" author="oringel" created="Mon, 15 Mar 2010 11:37:15 +0000"  >&lt;p&gt;I not sure if you mean me with Charles, but I switched to the latest snapshot release from the apache snapshot repository and &lt;br/&gt;
tested the attached test case and my project with the snapshot. Also I tested @Strategy with some combinations of @MappedSuperclass and &lt;br/&gt;
@Embeddable.&lt;/p&gt;

&lt;p&gt;@Strategy is working as expected now. Thanks very much for the quick help.&lt;/p&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12458565">OPENJPA-1556</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12459180">OPENJPA-1574</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12438696" name="openjpa1570.tar" size="6607" author="oringel" created="Sat, 13 Mar 2010 18:26:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 13 Mar 2010 17:03:40 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>161833</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyt6en:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>204218</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>