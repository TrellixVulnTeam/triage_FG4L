<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:44:06 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/OPENJPA-1260/OPENJPA-1260.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[OPENJPA-1260] Wrong sequence is generated for custom native sequence generator from getIdGenerator.</title>
                <link>https://issues.apache.org/jira/browse/OPENJPA-1260</link>
                <project id="12310351" key="OPENJPA">OpenJPA</project>
                    <description></description>
                <environment></environment>
        <key id="12433797">OPENJPA-1260</key>
            <summary>Wrong sequence is generated for custom native sequence generator from getIdGenerator.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mikedd">Michael Dick</assignee>
                                    <reporter username="rpalache">Ravi P Palacherla</reporter>
                        <labels>
                    </labels>
                <created>Sun, 23 Aug 2009 13:25:28 +0100</created>
                <updated>Tue, 9 Mar 2010 18:31:21 +0000</updated>
                            <resolved>Fri, 11 Sep 2009 16:07:08 +0100</resolved>
                                    <version>1.3.0</version>
                    <version>2.0.0</version>
                                    <fixVersion>1.1.1</fixVersion>
                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>2.0.0-M3</fixVersion>
                                    <component>sql</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12746596" author="rpalache" created="Sun, 23 Aug 2009 13:46:50 +0100"  >&lt;p&gt;OpenJPAEntityManager.getIdGenerator.next() fails to generate correct sequence number when class uses native sequence geneartor.&lt;/p&gt;

&lt;p&gt;The cause of the issue is OpenJPAEntityManager.getIdGenerator.next() goes against the default sequence openjpa_sequence rather than the defined sequence.&lt;br/&gt;
So the SQL on openjpaentitymanager.getIdGenerator.next() is &lt;br/&gt;
SELECT SEQUENCE_VALUE FROM OPENJPA_SEQUENCE_TABLE WHERE ID = ? FOR UPDATE&lt;br/&gt;
even though a native sequence generator is defined.&lt;/p&gt;

&lt;p&gt;@Id&lt;br/&gt;
    @GeneratedValue(strategy=GenerationType.SEQUENCE, &lt;br/&gt;
        generator=&quot;entityE2_seq_gen_name&quot;)&lt;br/&gt;
    @SequenceGenerator(name=&quot;entityE2_seq_gen_name&quot;, &lt;br/&gt;
                       sequenceName=&quot;entityE2_seq_gen&quot;)&lt;br/&gt;
    private int id;&lt;/p&gt;</comment>
                            <comment id="12746597" author="rpalache" created="Sun, 23 Aug 2009 13:50:46 +0100"  >&lt;p&gt;Testcase &amp;amp; Fix.&lt;/p&gt;</comment>
                            <comment id="12746900" author="mikedd" created="Mon, 24 Aug 2009 15:45:50 +0100"  >&lt;p&gt;Hi Ravi,&lt;/p&gt;

&lt;p&gt;The patch looks good but I&apos;d recommend moving the testcase to a different package, org.apache.openjpa.persistence.jdbc.sequence or just org.apache.openjpa.persistence.sequence. The testcase isn&apos;t using delimited identifiers so it&apos;d be a bit misleading to put it in that package. &lt;/p&gt;

&lt;p&gt;Otherwise the patch looks great. &lt;/p&gt;</comment>
                            <comment id="12746972" author="rpalache" created="Mon, 24 Aug 2009 18:43:21 +0100"  >&lt;p&gt;Uploaded patch with new package and class name.&lt;/p&gt;</comment>
                            <comment id="12754166" author="drwoods" created="Fri, 11 Sep 2009 16:06:56 +0100"  >&lt;p&gt;Modified patch committed to trunk by Kevin Sutter in r813597 and back ported to 1.3.0 by Donald Woods in r813868.&lt;/p&gt;</comment>
                            <comment id="12754167" author="drwoods" created="Fri, 11 Sep 2009 16:07:08 +0100"  >&lt;p&gt;Mike, please reopen if you want to apply this to 1.2.x or 1.0.x.&lt;/p&gt;</comment>
                            <comment id="12790235" author="dezzio" created="Mon, 14 Dec 2009 16:57:09 +0000"  >&lt;p&gt;Applied Ravi&apos;s 1.1.x patch at revision 890402&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12417522" name="OPENJPA-1260-trunk.patch" size="6988" author="rpalache" created="Mon, 24 Aug 2009 21:46:17 +0100"/>
                            <attachment id="12417398" name="OPENJPA-1260-trunk.patch" size="7433" author="rpalache" created="Sun, 23 Aug 2009 13:50:46 +0100"/>
                            <attachment id="12427136" name="openJPA-1260_1.1.x.patch" size="8785" author="rpalache" created="Mon, 7 Dec 2009 05:12:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 24 Aug 2009 14:45:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37809</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hz7ncn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>288753</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>