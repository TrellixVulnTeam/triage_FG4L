<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:46:12 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/OPENJPA-42/OPENJPA-42.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[OPENJPA-42] Simple orm.xml file causes exception (NPE)</title>
                <link>https://issues.apache.org/jira/browse/OPENJPA-42</link>
                <project id="12310351" key="OPENJPA">OpenJPA</project>
                    <description>&lt;p&gt;This simple orm.xml file causes a NPE - &lt;/p&gt;

&lt;p&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;entity-mappings xmlns=&quot;http://java.sun.com/xml/ns/persistence/orm&quot;&lt;br/&gt;
    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;br/&gt;
    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence/orm &lt;a href=&quot;http://java.sun.com/xml/ns/persistence/orm_1_0.xsd&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://java.sun.com/xml/ns/persistence/orm_1_0.xsd&lt;/a&gt;&quot;&lt;br/&gt;
    version=&quot;1.0&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;  &amp;lt;package&amp;gt;springdeveloper.domain&amp;lt;/package&amp;gt;&lt;/p&gt;

&lt;p&gt;  &amp;lt;entity class=&quot;Client&quot; metadata-complete=&quot;false&quot; access=&quot;FIELD&quot;&amp;gt;&amp;lt;/entity&amp;gt;&lt;br/&gt;
  &amp;lt;entity class=&quot;Manager&quot; metadata-complete=&quot;false&quot; access=&quot;FIELD&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;attribute-override name=&quot;description&quot;&amp;gt;&lt;br/&gt;
      &amp;lt;column name=&quot;DESCR&quot; length=&quot;2000&quot;/&amp;gt;&lt;br/&gt;
    &amp;lt;/attribute-override&amp;gt;&lt;br/&gt;
  &amp;lt;/entity&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;/entity-mappings&amp;gt;&lt;/p&gt;

&lt;p&gt;I have attached a test case - plainJpa.zip&lt;/p&gt;

&lt;p&gt;Same code runs fine with the RI.&lt;/p&gt;

&lt;p&gt;This is the output from my run:&lt;/p&gt;

&lt;p&gt;/System/Library/Frameworks/JavaVM.framework/Versions/1.5/Home/bin/java -Dfile.encoding=MacRoman -classpath /System/Library/Frameworks/JavaVM.framework/Versions/1.5.0/Home/lib/deploy.jar:/System/Library/Frameworks/JavaVM.framework/Versions/1.5.0/Classes/dt.jar:/System/Library/Frameworks/JavaVM.framework/Versions/1.5.0/Classes/jce.jar:/System/Library/Frameworks/JavaVM.framework/Versions/1.5.0/Home/lib/plugin.jar:/System/Library/Frameworks/JavaVM.framework/Versions/1.5.0/Home/lib/sa-jdi.jar:/System/Library/Frameworks/JavaVM.framework/Versions/1.5.0/Classes/charsets.jar:/System/Library/Frameworks/JavaVM.framework/Versions/1.5.0/Classes/classes.jar:/System/Library/Frameworks/JavaVM.framework/Versions/1.5.0/Classes/jconsole.jar:/System/Library/Frameworks/JavaVM.framework/Versions/1.5.0/Classes/jsse.jar:/System/Library/Frameworks/JavaVM.framework/Versions/1.5.0/Classes/laf.jar:/System/Library/Frameworks/JavaVM.framework/Versions/1.5.0/Classes/ui.jar:/System/Library/Frameworks/JavaVM.framework/Versions/1.5.0/Home/lib/ext/apple_provider.jar:/System/Library/Frameworks/JavaVM.framework/Versions/1.5.0/Home/lib/ext/dnsns.jar:/System/Library/Frameworks/JavaVM.framework/Versions/1.5.0/Home/lib/ext/localedata.jar:/System/Library/Frameworks/JavaVM.framework/Versions/1.5.0/Home/lib/ext/sunjce_provider.jar:/System/Library/Frameworks/JavaVM.framework/Versions/1.5.0/Home/lib/ext/sunpkcs11.jar:/Users/trisberg/Projects/plainJpa/classes:/Users/trisberg/Projects/plainJpa/lib/openjpa-jdbc-0.9.0-incubating-SNAPSHOT.jar:/Users/trisberg/Projects/plainJpa/lib/openjpa-persistence-0.9.0-incubating-SNAPSHOT.jar:/Users/trisberg/Projects/plainJpa/lib/openjpa-lib-0.9.0-incubating-SNAPSHOT.jar:/Users/trisberg/Projects/plainJpa/lib/openjpa-kernel-5-0.9.0-incubating-SNAPSHOT.jar:/Users/trisberg/Projects/plainJpa/lib/commons-collections-3.2.jar:/Users/trisberg/Projects/plainJpa/lib/geronimo-jta_1.0.1B_spec-1.0.1.jar:/Users/trisberg/Projects/plainJpa/lib/geronimo-j2ee-connector_1.5_spec-1.0.1.jar:/Users/trisberg/Projects/plainJpa/lib/commons-pool-1.3.jar:/Users/trisberg/Projects/plainJpa/lib/serp-1.11.0.jar:/Users/trisberg/Projects/plainJpa/lib/hsqldb.jar:/Users/trisberg/Projects/plainJpa/lib/persistence-api-1.0.jar:/Users/trisberg/Projects/plainJpa/lib/commons-logging-1.0.4.jar:/Users/trisberg/Projects/plainJpa/lib/commons-dbcp-1.2.1.jar:/Users/trisberg/Projects/plainJpa/lib/openjpa-persistence-jdbc-0.9.0-incubating-SNAPSHOT.jar:/Users/trisberg/Projects/plainJpa/lib/commons-lang-2.1.jar:/Users/trisberg/Projects/plainJpa/lib/openjpa-kernel-0.9.0-incubating-SNAPSHOT.jar:/Users/trisberg/Projects/plainJpa/lib/openjpa-jdbc-5-0.9.0-incubating-SNAPSHOT.jar springdeveloper.TestApp&lt;br/&gt;
OPenJPAVersion:&lt;br/&gt;
OpenJPA 0.9.0-incubating-SNAPSHOT&lt;br/&gt;
version id: 0.9.0-incubating-SNAPSHOT-r0&lt;br/&gt;
revision: 0&lt;/p&gt;

&lt;p&gt;os.name: Mac OS X&lt;br/&gt;
os.version: 10.4.7&lt;br/&gt;
os.arch: ppc&lt;/p&gt;

&lt;p&gt;java.version: 1.5.0_06&lt;br/&gt;
java.vendor: Apple Computer, Inc.&lt;/p&gt;

&lt;p&gt;java.class.path:&lt;br/&gt;
	/System/Library/Frameworks/JavaVM.framework/Versions/1.5.0/Home/lib/deploy.jar&lt;br/&gt;
	/System/Library/Frameworks/JavaVM.framework/Versions/1.5.0/Classes/dt.jar&lt;br/&gt;
	/System/Library/Frameworks/JavaVM.framework/Versions/1.5.0/Classes/jce.jar&lt;br/&gt;
	/System/Library/Frameworks/JavaVM.framework/Versions/1.5.0/Home/lib/plugin.jar&lt;br/&gt;
	/System/Library/Frameworks/JavaVM.framework/Versions/1.5.0/Home/lib/sa-jdi.jar&lt;br/&gt;
	/System/Library/Frameworks/JavaVM.framework/Versions/1.5.0/Classes/charsets.jar&lt;br/&gt;
	/System/Library/Frameworks/JavaVM.framework/Versions/1.5.0/Classes/classes.jar&lt;br/&gt;
	/System/Library/Frameworks/JavaVM.framework/Versions/1.5.0/Classes/jconsole.jar&lt;br/&gt;
	/System/Library/Frameworks/JavaVM.framework/Versions/1.5.0/Classes/jsse.jar&lt;br/&gt;
	/System/Library/Frameworks/JavaVM.framework/Versions/1.5.0/Classes/laf.jar&lt;br/&gt;
	/System/Library/Frameworks/JavaVM.framework/Versions/1.5.0/Classes/ui.jar&lt;br/&gt;
	/System/Library/Frameworks/JavaVM.framework/Versions/1.5.0/Home/lib/ext/apple_provider.jar&lt;br/&gt;
	/System/Library/Frameworks/JavaVM.framework/Versions/1.5.0/Home/lib/ext/dnsns.jar&lt;br/&gt;
	/System/Library/Frameworks/JavaVM.framework/Versions/1.5.0/Home/lib/ext/localedata.jar&lt;br/&gt;
	/System/Library/Frameworks/JavaVM.framework/Versions/1.5.0/Home/lib/ext/sunjce_provider.jar&lt;br/&gt;
	/System/Library/Frameworks/JavaVM.framework/Versions/1.5.0/Home/lib/ext/sunpkcs11.jar&lt;br/&gt;
	/Users/trisberg/Projects/plainJpa/classes&lt;br/&gt;
	/Users/trisberg/Projects/plainJpa/lib/openjpa-jdbc-0.9.0-incubating-SNAPSHOT.jar&lt;br/&gt;
	/Users/trisberg/Projects/plainJpa/lib/openjpa-persistence-0.9.0-incubating-SNAPSHOT.jar&lt;br/&gt;
	/Users/trisberg/Projects/plainJpa/lib/openjpa-lib-0.9.0-incubating-SNAPSHOT.jar&lt;br/&gt;
	/Users/trisberg/Projects/plainJpa/lib/openjpa-kernel-5-0.9.0-incubating-SNAPSHOT.jar&lt;br/&gt;
	/Users/trisberg/Projects/plainJpa/lib/commons-collections-3.2.jar&lt;br/&gt;
	/Users/trisberg/Projects/plainJpa/lib/geronimo-jta_1.0.1B_spec-1.0.1.jar&lt;br/&gt;
	/Users/trisberg/Projects/plainJpa/lib/geronimo-j2ee-connector_1.5_spec-1.0.1.jar&lt;br/&gt;
	/Users/trisberg/Projects/plainJpa/lib/commons-pool-1.3.jar&lt;br/&gt;
	/Users/trisberg/Projects/plainJpa/lib/serp-1.11.0.jar&lt;br/&gt;
	/Users/trisberg/Projects/plainJpa/lib/hsqldb.jar&lt;br/&gt;
	/Users/trisberg/Projects/plainJpa/lib/persistence-api-1.0.jar&lt;br/&gt;
	/Users/trisberg/Projects/plainJpa/lib/commons-logging-1.0.4.jar&lt;br/&gt;
	/Users/trisberg/Projects/plainJpa/lib/commons-dbcp-1.2.1.jar&lt;br/&gt;
	/Users/trisberg/Projects/plainJpa/lib/openjpa-persistence-jdbc-0.9.0-incubating-SNAPSHOT.jar&lt;br/&gt;
	/Users/trisberg/Projects/plainJpa/lib/commons-lang-2.1.jar&lt;br/&gt;
	/Users/trisberg/Projects/plainJpa/lib/openjpa-kernel-0.9.0-incubating-SNAPSHOT.jar&lt;br/&gt;
	/Users/trisberg/Projects/plainJpa/lib/openjpa-jdbc-5-0.9.0-incubating-SNAPSHOT.jar&lt;br/&gt;
	/System/Library/Frameworks/JavaVM.framework/Versions/1.5.0/Classes/.compatibility/14compatibility.jar&lt;/p&gt;

&lt;p&gt;user.dir: /Users/trisberg/Projects/plainJpa&lt;/p&gt;

&lt;p&gt;TestApp!&lt;br/&gt;
119  INFO   &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.Runtime - Starting OpenJPA 0.9.0-incubating-SNAPSHOT&lt;br/&gt;
Exception in thread &quot;main&quot; &amp;lt;0|false|0.9.0-incubating-SNAPSHOT&amp;gt; org.apache.openjpa.persistence.PersistenceException: null&lt;br/&gt;
	at org.apache.openjpa.kernel.AbstractBrokerFactory.newBroker(AbstractBrokerFactory.java:183)&lt;br/&gt;
	at org.apache.openjpa.kernel.DelegatingBrokerFactory.newBroker(DelegatingBrokerFactory.java:139)&lt;br/&gt;
	at org.apache.openjpa.persistence.EntityManagerFactoryImpl.createEntityManager(EntityManagerFactoryImpl.java:171)&lt;br/&gt;
	at org.apache.openjpa.persistence.EntityManagerFactoryImpl.createEntityManager(EntityManagerFactoryImpl.java:124)&lt;br/&gt;
	at org.apache.openjpa.persistence.EntityManagerFactoryImpl.createEntityManager(EntityManagerFactoryImpl.java:50)&lt;br/&gt;
	at springdeveloper.TestApp.run(TestApp.java:53)&lt;br/&gt;
	at springdeveloper.TestApp.main(TestApp.java:27)&lt;br/&gt;
Caused by: java.lang.NullPointerException&lt;br/&gt;
	at org.apache.openjpa.meta.ClassMetaData.getSuperclassField(ClassMetaData.java:820)&lt;br/&gt;
	at org.apache.openjpa.meta.ClassMetaData.resolveDefinedSuperclassFields(ClassMetaData.java:1115)&lt;br/&gt;
	at org.apache.openjpa.meta.ClassMetaData.defineSuperclassFields(ClassMetaData.java:1091)&lt;br/&gt;
	at org.apache.openjpa.jdbc.meta.MappingRepository.prepareMapping(MappingRepository.java:314)&lt;br/&gt;
	at org.apache.openjpa.meta.MetaDataRepository.loadMapping(MetaDataRepository.java:605)&lt;br/&gt;
	at org.apache.openjpa.meta.MetaDataRepository.resolve(MetaDataRepository.java:505)&lt;br/&gt;
	at org.apache.openjpa.meta.MetaDataRepository.getMetaData(MetaDataRepository.java:300)&lt;br/&gt;
	at org.apache.openjpa.jdbc.meta.MappingRepository.getMapping(MappingRepository.java:279)&lt;br/&gt;
	at org.apache.openjpa.jdbc.meta.MappingTool.getMapping(MappingTool.java:660)&lt;br/&gt;
	at org.apache.openjpa.jdbc.meta.MappingTool.buildSchema(MappingTool.java:731)&lt;br/&gt;
	at org.apache.openjpa.jdbc.meta.MappingTool.run(MappingTool.java:630)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.JDBCBrokerFactory.synchronizeMappings(JDBCBrokerFactory.java:160)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.JDBCBrokerFactory.newBrokerImpl(JDBCBrokerFactory.java:126)&lt;br/&gt;
	at org.apache.openjpa.kernel.AbstractBrokerFactory.newBroker(AbstractBrokerFactory.java:164)&lt;br/&gt;
	... 6 more&lt;/p&gt;

&lt;p&gt;Process finished with exit code 1&lt;/p&gt;
</description>
                <environment>Mac OS X&lt;br/&gt;
Java 5 SE&lt;br/&gt;
Resource Local&lt;br/&gt;
&lt;br/&gt;
OpenJPA build from SVN  rev. 441247</environment>
        <key id="12349437">OPENJPA-42</key>
            <summary>Simple orm.xml file causes exception (NPE)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mprudhom">Marc Prud&apos;hommeaux</assignee>
                                    <reporter username="trisberg">Thomas Risberg</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Sep 2006 23:26:45 +0100</created>
                <updated>Tue, 9 Mar 2010 18:35:36 +0000</updated>
                            <resolved>Mon, 11 Sep 2006 00:22:50 +0100</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12433745" author="mprudhom" created="Mon, 11 Sep 2006 00:22:50 +0100"  >&lt;p&gt;The error message is a bad one (which I&apos;ve committed a fix for), but the cause of it is that the orm.xml file is in error: as I mentioned in &lt;a href=&quot;https://issues.apache.org/jira/browse/OPENJPA-40&quot; title=&quot;Testing OpenJPA and Spring integration fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OPENJPA-40&quot;&gt;&lt;del&gt;OPENJPA-40&lt;/del&gt;&lt;/a&gt;, the attribute-override element is, AFAIK, only meant to be used to redfine a field declared in a superclass entity. Since Manager doesn&apos;t actually have any Entity superclass, OpenJPA&apos;s assumption was causing an NPE. A better error message will now be thrown.&lt;/p&gt;</comment>
                            <comment id="12433877" author="trisberg" created="Mon, 11 Sep 2006 16:15:36 +0100"  >&lt;p&gt;You are right about the &amp;lt;attribute-override&amp;gt; - got to read the spec more carefully &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I have been testing the recent MVN version 442043.  I can run without an orm.xml file included but as soon as I include some additional mappings in an orm.xml file I get errors.&lt;/p&gt;

&lt;p&gt;Here is some recent output:&lt;/p&gt;

&lt;p&gt;This is the command I use to execute:&lt;/p&gt;

&lt;p&gt;java -javaagent:./lib/openjpa-kernel-5-0.9.0-incubating-SNAPSHOT.jar -Dfile.encoding=MacRoman -classpath ./classes:./lib/openjpa-jdbc-0.9.0-incubating-SNAPSHOT.jar:./lib/openjpa-persistence-0.9.0-incubating-SNAPSHOT.jar:./lib/openjpa-lib-0.9.0-incubating-SNAPSHOT.jar:./lib/openjpa-kernel-5-0.9.0-incubating-SNAPSHOT.jar:./lib/commons-collections-3.2.jar:./lib/geronimo-jta_1.0.1B_spec-1.0.1.jar:./lib/geronimo-j2ee-connector_1.5_spec-1.0.1.jar:./lib/commons-pool-1.3.jar:./lib/serp-1.11.0.jar:./lib/hsqldb.jar:./lib/persistence-api-1.0.jar:./lib/commons-logging-1.0.4.jar:./lib/commons-dbcp-1.2.1.jar:./lib/openjpa-persistence-jdbc-0.9.0-incubating-SNAPSHOT.jar:./lib/commons-lang-2.1.jar:./lib/openjpa-kernel-0.9.0-incubating-SNAPSHOT.jar:./lib/openjpa-jdbc-5-0.9.0-incubating-SNAPSHOT.jar springdeveloper.TestApp&lt;/p&gt;


&lt;p&gt;persistence.xml:&lt;br/&gt;
================&lt;br/&gt;
&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;br/&gt;
&amp;lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;br/&gt;
             xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence &lt;a href=&quot;http://java.sun.com/xml/ns/persistence/persistence_1_0.xsd&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://java.sun.com/xml/ns/persistence/persistence_1_0.xsd&lt;/a&gt;&quot; version=&quot;1.0&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;persistence-unit name=&quot;main&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;      &amp;lt;provider&amp;gt;org.apache.openjpa.persistence.PersistenceProviderImpl&amp;lt;/provider&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;/persistence-unit&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;/persistence&amp;gt;&lt;/p&gt;

&lt;p&gt;orm.xml:&lt;br/&gt;
========&lt;br/&gt;
&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;entity-mappings xmlns=&quot;http://java.sun.com/xml/ns/persistence/orm&quot;&lt;br/&gt;
    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;br/&gt;
    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence/orm &lt;a href=&quot;http://java.sun.com/xml/ns/persistence/orm_1_0.xsd&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://java.sun.com/xml/ns/persistence/orm_1_0.xsd&lt;/a&gt;&quot;&lt;br/&gt;
    version=&quot;1.0&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;  &amp;lt;package&amp;gt;springdeveloper.domain&amp;lt;/package&amp;gt;&lt;/p&gt;

&lt;p&gt;  &amp;lt;entity class=&quot;Client&quot; metadata-complete=&quot;false&quot; access=&quot;FIELD&quot;&amp;gt;&lt;br/&gt;
  &amp;lt;/entity&amp;gt;&lt;br/&gt;
  &amp;lt;entity class=&quot;Manager&quot; metadata-complete=&quot;false&quot; access=&quot;FIELD&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;attributes&amp;gt;&lt;br/&gt;
      &amp;lt;basic name=&quot;description&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;column name=&quot;DESCR&quot;/&amp;gt;&lt;br/&gt;
      &amp;lt;/basic&amp;gt;&lt;br/&gt;
    &amp;lt;/attributes&amp;gt;&lt;br/&gt;
  &amp;lt;/entity&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;/entity-mappings&amp;gt;&lt;/p&gt;

&lt;p&gt;run:&lt;br/&gt;
====&lt;br/&gt;
739  INFO   &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.MetaData - Found 2 classes with metadata in 17 milliseconds.&lt;br/&gt;
TestApp!&lt;br/&gt;
364  INFO   &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.Runtime - Starting OpenJPA 0.9.0-incubating-SNAPSHOT&lt;br/&gt;
2353  INFO   &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.MetaData - Parsing resource &quot;file:/Users/trisberg/Projects/plainJpa/classes/META-INF/orm.xml&quot;.&lt;br/&gt;
2787  INFO   &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.MetaData - Parsing class &quot;springdeveloper.domain.Client&quot;.&lt;br/&gt;
2874  WARN   &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.Enhance - An exception was thrown while attempting to perform class file transformation on &quot;springdeveloper/domain/Manager&quot;:&lt;br/&gt;
java.lang.ClassCircularityError: springdeveloper/domain/Manager&lt;br/&gt;
        at java.lang.Class.getDeclaredFields0(Native Method)&lt;br/&gt;
        at java.lang.Class.privateGetDeclaredFields(Class.java:2232)&lt;br/&gt;
        at java.lang.Class.getDeclaredFields(Class.java:1715)&lt;br/&gt;
        at org.apache.openjpa.meta.AbstractMetaDataDefaults.populateFromReflection(AbstractMetaDataDefaults.java:176)&lt;br/&gt;
        at org.apache.openjpa.meta.AbstractMetaDataDefaults.populate(AbstractMetaDataDefaults.java:128)&lt;br/&gt;
        at org.apache.openjpa.persistence.PersistenceMetaDataDefaults.populate(PersistenceMetaDataDefaults.java:182)&lt;br/&gt;
        at org.apache.openjpa.meta.MetaDataRepository.addMetaData(MetaDataRepository.java:736)&lt;br/&gt;
        at org.apache.openjpa.persistence.XMLPersistenceMetaDataParser.startClass(XMLPersistenceMetaDataParser.java:720)&lt;br/&gt;
        at org.apache.openjpa.lib.meta.CFMetaDataParser.startElement(CFMetaDataParser.java:101)&lt;br/&gt;
        at org.apache.openjpa.lib.meta.XMLMetaDataParser.startElement(XMLMetaDataParser.java:427)&lt;br/&gt;
        at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(AbstractSAXParser.java:533)&lt;br/&gt;
        at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.startElement(XMLSchemaValidator.java:708)&lt;br/&gt;
        at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(XMLNSDocumentScannerImpl.java:330)&lt;br/&gt;
        at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(XMLDocumentFragmentScannerImpl.java:1693)&lt;br/&gt;
        at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:368)&lt;br/&gt;
        at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:834)&lt;br/&gt;
        at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:764)&lt;br/&gt;
        at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:148)&lt;br/&gt;
        at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1242)&lt;br/&gt;
        at javax.xml.parsers.SAXParser.parse(SAXParser.java:375)&lt;br/&gt;
        at org.apache.openjpa.lib.meta.XMLMetaDataParser.parseNewResource(XMLMetaDataParser.java:371)&lt;br/&gt;
        at org.apache.openjpa.lib.meta.XMLMetaDataParser.parse(XMLMetaDataParser.java:312)&lt;br/&gt;
        at org.apache.openjpa.lib.meta.XMLMetaDataParser.parse(XMLMetaDataParser.java:289)&lt;br/&gt;
        at org.apache.openjpa.lib.meta.XMLMetaDataParser.parse(XMLMetaDataParser.java:263)&lt;br/&gt;
        at org.apache.openjpa.persistence.PersistenceMetaDataFactory.parseXML(PersistenceMetaDataFactory.java:237)&lt;br/&gt;
        at org.apache.openjpa.persistence.PersistenceMetaDataFactory.load(PersistenceMetaDataFactory.java:188)&lt;br/&gt;
        at org.apache.openjpa.meta.MetaDataRepository.getMetaDataInternal(MetaDataRepository.java:432)&lt;br/&gt;
        at org.apache.openjpa.meta.MetaDataRepository.getMetaData(MetaDataRepository.java:287)&lt;br/&gt;
        at org.apache.openjpa.enhance.PCEnhancer.&amp;lt;init&amp;gt;(PCEnhancer.java:164)&lt;br/&gt;
        at org.apache.openjpa.enhance.PCClassFileTransformer.transform(PCClassFileTransformer.java:115)&lt;br/&gt;
        at sun.instrument.TransformerManager.transform(TransformerManager.java:122)&lt;br/&gt;
        at sun.instrument.InstrumentationImpl.transform(InstrumentationImpl.java:155)&lt;br/&gt;
        at java.lang.ClassLoader.defineClass1(Native Method)&lt;br/&gt;
        at java.lang.ClassLoader.defineClass(ClassLoader.java:620)&lt;br/&gt;
        at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:124)&lt;br/&gt;
        at java.net.URLClassLoader.defineClass(URLClassLoader.java:260)&lt;br/&gt;
        at java.net.URLClassLoader.access$100(URLClassLoader.java:56)&lt;br/&gt;
        at java.net.URLClassLoader$1.run(URLClassLoader.java:195)&lt;br/&gt;
        at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
        at java.net.URLClassLoader.findClass(URLClassLoader.java:188)&lt;br/&gt;
        at java.lang.ClassLoader.loadClass(ClassLoader.java:306)&lt;br/&gt;
        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:268)&lt;br/&gt;
        at java.lang.ClassLoader.loadClass(ClassLoader.java:251)&lt;br/&gt;
        at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:319)&lt;br/&gt;
        at java.lang.Class.forName0(Native Method)&lt;br/&gt;
        at java.lang.Class.forName(Class.java:242)&lt;br/&gt;
        at org.apache.openjpa.meta.MetaDataRepository.classForName(MetaDataRepository.java:1156)&lt;br/&gt;
        at org.apache.openjpa.meta.MetaDataRepository.loadPersistentTypes(MetaDataRepository.java:1144)&lt;br/&gt;
        at org.apache.openjpa.jdbc.kernel.JDBCBrokerFactory.synchronizeMappings(JDBCBrokerFactory.java:144)&lt;br/&gt;
        at org.apache.openjpa.jdbc.kernel.JDBCBrokerFactory.newBrokerImpl(JDBCBrokerFactory.java:126)&lt;br/&gt;
        at org.apache.openjpa.kernel.AbstractBrokerFactory.newBroker(AbstractBrokerFactory.java:164)&lt;br/&gt;
        at org.apache.openjpa.kernel.DelegatingBrokerFactory.newBroker(DelegatingBrokerFactory.java:139)&lt;br/&gt;
        at org.apache.openjpa.persistence.EntityManagerFactoryImpl.createEntityManager(EntityManagerFactoryImpl.java:171)&lt;br/&gt;
        at org.apache.openjpa.persistence.EntityManagerFactoryImpl.createEntityManager(EntityManagerFactoryImpl.java:124)&lt;br/&gt;
        at org.apache.openjpa.persistence.EntityManagerFactoryImpl.createEntityManager(EntityManagerFactoryImpl.java:50)&lt;br/&gt;
        at springdeveloper.TestApp.run(TestApp.java:48)&lt;br/&gt;
        at springdeveloper.TestApp.main(TestApp.java:22)&lt;br/&gt;
3663  TRACE  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.jdbc.SQL - &amp;lt;t 2202705, conn 10336536&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;0 ms&amp;#93;&lt;/span&gt; executing prepstmnt 9136910 SELECT SEQUENCE_SCHEMA, SEQUENCE_NAME FROM INFORMATION_SCHEMA.SYSTEM_SEQUENCES&lt;br/&gt;
3784  TRACE  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.jdbc.SQL - &amp;lt;t 2202705, conn 2205493&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;5 ms&amp;#93;&lt;/span&gt; executing stmnt 4450231 CREATE TABLE Client (id BIGINT NOT NULL, description VARCHAR(255), version INTEGER, manager_id BIGINT, PRIMARY KEY (id))&lt;br/&gt;
3788  TRACE  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.jdbc.SQL - &amp;lt;t 2202705, conn 6550654&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;1 ms&amp;#93;&lt;/span&gt; executing stmnt 9974682 CREATE TABLE Manager (id BIGINT NOT NULL, DESCR VARCHAR(255), PRIMARY KEY (id))&lt;br/&gt;
3799  TRACE  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.jdbc.SQL - &amp;lt;t 2202705, conn 4102499&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;7 ms&amp;#93;&lt;/span&gt; executing stmnt 14712126 CREATE INDEX I_CLIENT_MANAGER ON Client (manager_id)&lt;br/&gt;
EM Open? true&lt;br/&gt;
Exception in thread &quot;main&quot; &amp;lt;4|true|0.9.0-incubating-SNAPSHOT&amp;gt; org.apache.openjpa.persistence.ArgumentException: Could not locate metadata for the class using alias &quot;Manager&quot;. Registered alias mappings: &quot;&lt;/p&gt;
{Manager=null}
&lt;p&gt;&quot;&lt;br/&gt;
        at org.apache.openjpa.meta.MetaDataRepository.getMetaData(MetaDataRepository.java:361)&lt;br/&gt;
        at org.apache.openjpa.kernel.jpql.JPQLExpressionBuilder.getClassMetaData(JPQLExpressionBuilder.java:166)&lt;br/&gt;
        at org.apache.openjpa.kernel.jpql.JPQLExpressionBuilder.resolveClassMetaData(JPQLExpressionBuilder.java:144)&lt;br/&gt;
        at org.apache.openjpa.kernel.jpql.JPQLExpressionBuilder.getCandidateMetaData(JPQLExpressionBuilder.java:213)&lt;br/&gt;
        at org.apache.openjpa.kernel.jpql.JPQLExpressionBuilder.getCandidateMetaData(JPQLExpressionBuilder.java:183)&lt;br/&gt;
        at org.apache.openjpa.kernel.jpql.JPQLExpressionBuilder.getCandidateType(JPQLExpressionBuilder.java:176)&lt;br/&gt;
        at org.apache.openjpa.kernel.jpql.JPQLExpressionBuilder.access$500(JPQLExpressionBuilder.java:63)&lt;br/&gt;
        at org.apache.openjpa.kernel.jpql.JPQLExpressionBuilder$ParsedJPQL.populate(JPQLExpressionBuilder.java:1666)&lt;br/&gt;
        at org.apache.openjpa.kernel.jpql.JPQLParser.populate(JPQLParser.java:52)&lt;br/&gt;
        at org.apache.openjpa.kernel.ExpressionStoreQuery.populateFromCompilation(ExpressionStoreQuery.java:145)&lt;br/&gt;
        at org.apache.openjpa.kernel.QueryImpl.newCompilation(QueryImpl.java:599)&lt;br/&gt;
        at org.apache.openjpa.kernel.QueryImpl.compileForCompilation(QueryImpl.java:581)&lt;br/&gt;
        at org.apache.openjpa.kernel.QueryImpl.compileForExecutor(QueryImpl.java:608)&lt;br/&gt;
        at org.apache.openjpa.kernel.QueryImpl.getOperation(QueryImpl.java:1421)&lt;br/&gt;
        at org.apache.openjpa.kernel.DelegatingQuery.getOperation(DelegatingQuery.java:120)&lt;br/&gt;
        at org.apache.openjpa.persistence.QueryImpl.execute(QueryImpl.java:205)&lt;br/&gt;
        at org.apache.openjpa.persistence.QueryImpl.getResultList(QueryImpl.java:254)&lt;br/&gt;
        at springdeveloper.MyTest.runQuery(MyTest.java:13)&lt;br/&gt;
        at springdeveloper.TestApp.run(TestApp.java:53)&lt;br/&gt;
        at springdeveloper.TestApp.main(TestApp.java:22)&lt;br/&gt;
samoa:~/Projects/plainJpa trisberg$ &lt;/p&gt;</comment>
                            <comment id="12434017" author="mprudhom" created="Tue, 12 Sep 2006 00:30:04 +0100"  >&lt;p&gt;Hmm ... the ClassCircularityError should have been resolved by my fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/OPENJPA-40&quot; title=&quot;Testing OpenJPA and Spring integration fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OPENJPA-40&quot;&gt;&lt;del&gt;OPENJPA-40&lt;/del&gt;&lt;/a&gt;. Can you make sure you re-built and deployed the built jars to your Spring installation? Just to be sure, you may want to update to the latest svn revision (442386).&lt;/p&gt;

&lt;p&gt;If it still fails, can you attach a new test case (just like the one for &lt;a href=&quot;https://issues.apache.org/jira/browse/OPENJPA-40&quot; title=&quot;Testing OpenJPA and Spring integration fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OPENJPA-40&quot;&gt;&lt;del&gt;OPENJPA-40&lt;/del&gt;&lt;/a&gt;) and I&apos;ll try to reproduce?&lt;/p&gt;</comment>
                            <comment id="12434036" author="trisberg" created="Tue, 12 Sep 2006 03:19:31 +0100"  >&lt;p&gt;Marc,&lt;/p&gt;

&lt;p&gt;I saw your fix for the circular reference and I don&apos;t see the error message right now after checking out the latest (now at rev. 442412). I&apos;m getting an error building, but the jars seem to be created anyway.  This is the last part of the build messages:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jar:jar&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Building jar: /Users/trisberg/Projects/OpenJPA/openjpa-all/target/openjpa-all-0.9.0-incubating-SNAPSHOT.jar&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ----------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Building OpenJPA Distribution&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;    task-segment: &lt;span class=&quot;error&quot;&gt;&amp;#91;clean, package&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ----------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; BUILD ERROR&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &apos;attached&apos; was specified in an execution, but not found in the plugin&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; For more information, run Maven with the -e switch&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Total time: 2 minutes 5 seconds&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Finished at: Mon Sep 11 21:57:00 EDT 2006&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Final Memory: 16M/59M&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Anyway, I still get an exception executing my test - see attached zip file.  Is this related to &lt;a href=&quot;https://issues.apache.org/jira/browse/OPENJPA-44&quot; title=&quot;metadata-complete element in orm.xml is ignored&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OPENJPA-44&quot;&gt;&lt;del&gt;OPENJPA-44&lt;/del&gt;&lt;/a&gt; since I do use the &quot;metadata-complete&quot; attribute? &lt;/p&gt;

&lt;p&gt;Exception in thread &quot;main&quot; &amp;lt;4|true|0.9.0-incubating-SNAPSHOT&amp;gt; org.apache.openjpa.persistence.ArgumentException: Could not locate metadata for the class using alias &quot;Manager&quot;. Registered alias mappings: &quot;&lt;/p&gt;
{Manager=null}
&lt;p&gt;&quot;&lt;br/&gt;
        at org.apache.openjpa.meta.MetaDataRepository.getMetaData(MetaDataRepository.java:362)&lt;br/&gt;
        at org.apache.openjpa.kernel.jpql.JPQLExpressionBuilder.getClassMetaData(JPQLExpressionBuilder.java:166)&lt;br/&gt;
        at org.apache.openjpa.kernel.jpql.JPQLExpressionBuilder.resolveClassMetaData(JPQLExpressionBuilder.java:144)&lt;br/&gt;
        at org.apache.openjpa.kernel.jpql.JPQLExpressionBuilder.getCandidateMetaData(JPQLExpressionBuilder.java:213)&lt;br/&gt;
        at org.apache.openjpa.kernel.jpql.JPQLExpressionBuilder.getCandidateMetaData(JPQLExpressionBuilder.java:183)&lt;br/&gt;
        at org.apache.openjpa.kernel.jpql.JPQLExpressionBuilder.getCandidateType(JPQLExpressionBuilder.java:176)&lt;br/&gt;
        at org.apache.openjpa.kernel.jpql.JPQLExpressionBuilder.access$500(JPQLExpressionBuilder.java:63)&lt;br/&gt;
        at org.apache.openjpa.kernel.jpql.JPQLExpressionBuilder$ParsedJPQL.populate(JPQLExpressionBuilder.java:1666)&lt;br/&gt;
        at org.apache.openjpa.kernel.jpql.JPQLParser.populate(JPQLParser.java:52)&lt;br/&gt;
        at org.apache.openjpa.kernel.ExpressionStoreQuery.populateFromCompilation(ExpressionStoreQuery.java:145)&lt;br/&gt;
        at org.apache.openjpa.kernel.QueryImpl.newCompilation(QueryImpl.java:599)&lt;br/&gt;
        at org.apache.openjpa.kernel.QueryImpl.compileForCompilation(QueryImpl.java:581)&lt;br/&gt;
        at org.apache.openjpa.kernel.QueryImpl.compileForExecutor(QueryImpl.java:608)&lt;br/&gt;
        at org.apache.openjpa.kernel.QueryImpl.getOperation(QueryImpl.java:1421)&lt;br/&gt;
        at org.apache.openjpa.kernel.DelegatingQuery.getOperation(DelegatingQuery.java:120)&lt;br/&gt;
        at org.apache.openjpa.persistence.QueryImpl.execute(QueryImpl.java:205)&lt;br/&gt;
        at org.apache.openjpa.persistence.QueryImpl.getResultList(QueryImpl.java:254)&lt;br/&gt;
        at springdeveloper.MyTest.runQuery(MyTest.java:13)&lt;br/&gt;
        at springdeveloper.TestApp.run(TestApp.java:53)&lt;br/&gt;
        at springdeveloper.TestApp.main(TestApp.java:22)&lt;/p&gt;</comment>
                            <comment id="12434042" author="mprudhom" created="Tue, 12 Sep 2006 03:48:45 +0100"  >&lt;p&gt;I&apos;m surprised by the build error ... I haven&apos;t seen it before. However, I agree that it sounds like the jars are being built OK.&lt;/p&gt;

&lt;p&gt;As for the &quot;Could not locate metadata for the class..&quot; error, that means that OpenJPA didn&apos;t load the class for some reason. If you change your query to query the full class name (e.g., change &quot;select x from Manager x&quot; to &quot;select x from org.mypackage.Manager x&quot;), do you get the same error? A better error message might result.&lt;/p&gt;

&lt;p&gt;Also, if you want to attach the new test case, I can take a look.&lt;/p&gt;</comment>
                            <comment id="12434047" author="trisberg" created="Tue, 12 Sep 2006 04:03:13 +0100"  >&lt;p&gt;Marc,&lt;/p&gt;

&lt;p&gt;I did attach a test case - &lt;a href=&quot;https://issues.apache.org/jira/browse/OPENJPA-32&quot; title=&quot;Unnecessary dependencies in poms&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OPENJPA-32&quot;&gt;&lt;del&gt;OPENJPA-32&lt;/del&gt;&lt;/a&gt;.zip&lt;/p&gt;

&lt;p&gt;This is the output and mapping files - fully qualified name did not work either.&lt;/p&gt;

&lt;p&gt;persistence.xml:&lt;br/&gt;
================&lt;br/&gt;
&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;br/&gt;
&amp;lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;br/&gt;
             xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence &lt;a href=&quot;http://java.sun.com/xml/ns/persistence/persistence_1_0.xsd&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://java.sun.com/xml/ns/persistence/persistence_1_0.xsd&lt;/a&gt;&quot; version=&quot;1.0&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;persistence-unit name=&quot;main&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;      &amp;lt;provider&amp;gt;org.apache.openjpa.persistence.PersistenceProviderImpl&amp;lt;/provider&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;/persistence-unit&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;/persistence&amp;gt;&lt;/p&gt;

&lt;p&gt;orm.xml:&lt;br/&gt;
========&lt;br/&gt;
&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;entity-mappings xmlns=&quot;http://java.sun.com/xml/ns/persistence/orm&quot;&lt;br/&gt;
    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;br/&gt;
    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence/orm &lt;a href=&quot;http://java.sun.com/xml/ns/persistence/orm_1_0.xsd&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://java.sun.com/xml/ns/persistence/orm_1_0.xsd&lt;/a&gt;&quot;&lt;br/&gt;
    version=&quot;1.0&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;  &amp;lt;package&amp;gt;springdeveloper.domain&amp;lt;/package&amp;gt;&lt;/p&gt;

&lt;p&gt;  &amp;lt;entity class=&quot;Client&quot; metadata-complete=&quot;false&quot; access=&quot;FIELD&quot;&amp;gt;&amp;lt;/entity&amp;gt;&lt;br/&gt;
  &amp;lt;entity class=&quot;Manager&quot; metadata-complete=&quot;false&quot; access=&quot;FIELD&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;attributes&amp;gt;&lt;br/&gt;
      &amp;lt;basic name=&quot;description&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;column name=&quot;DESCR&quot; length=&quot;2000&quot;/&amp;gt;&lt;br/&gt;
      &amp;lt;/basic&amp;gt;&lt;br/&gt;
    &amp;lt;/attributes&amp;gt;&lt;br/&gt;
  &amp;lt;/entity&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;/entity-mappings&amp;gt;&lt;/p&gt;

&lt;p&gt;run:&lt;br/&gt;
====&lt;br/&gt;
TestApp!&lt;br/&gt;
172  INFO   &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.Runtime - Starting OpenJPA 0.9.0-incubating-SNAPSHOT&lt;br/&gt;
5019  TRACE  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.jdbc.SQL - &amp;lt;t 14360544, conn 635451&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;1 ms&amp;#93;&lt;/span&gt; executing prepstmnt 514941 SELECT SEQUENCE_SCHEMA, SEQUENCE_NAME FROM INFORMATION_SCHEMA.SYSTEM_SEQUENCES&lt;br/&gt;
5186  TRACE  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.jdbc.SQL - &amp;lt;t 14360544, conn 5597932&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;17 ms&amp;#93;&lt;/span&gt; executing stmnt 2898188 CREATE TABLE Client (id BIGINT NOT NULL, description VARCHAR(255), version INTEGER, manager_id BIGINT, PRIMARY KEY (id))&lt;br/&gt;
5190  TRACE  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.jdbc.SQL - &amp;lt;t 14360544, conn 4491208&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;1 ms&amp;#93;&lt;/span&gt; executing stmnt 7717566 CREATE TABLE Manager (id BIGINT NOT NULL, DESCR VARCHAR(2000), PRIMARY KEY (id))&lt;br/&gt;
5204  TRACE  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.jdbc.SQL - &amp;lt;t 14360544, conn 9035974&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;11 ms&amp;#93;&lt;/span&gt; executing stmnt 7059006 CREATE INDEX I_CLIENT_MANAGER ON Client (manager_id)EM Open? true&lt;br/&gt;
Exception in thread &quot;main&quot; &amp;lt;4|true|0.9.0-incubating-SNAPSHOT&amp;gt; org.apache.openjpa.persistence.ArgumentException: The type &quot;class springdeveloper.domain.Manager&quot; has not been enhanced.&lt;br/&gt;
        at org.apache.openjpa.meta.ClassMetaData.resolveMeta(ClassMetaData.java:1544)&lt;br/&gt;
        at org.apache.openjpa.meta.ClassMetaData.resolve(ClassMetaData.java:1518)&lt;br/&gt;
        at org.apache.openjpa.meta.MetaDataRepository.processBuffer(MetaDataRepository.java:660)&lt;br/&gt;
        at org.apache.openjpa.meta.MetaDataRepository.resolveMeta(MetaDataRepository.java:567)&lt;br/&gt;
        at org.apache.openjpa.meta.MetaDataRepository.resolve(MetaDataRepository.java:500)&lt;br/&gt;
        at org.apache.openjpa.meta.MetaDataRepository.getMetaData(MetaDataRepository.java:301)&lt;br/&gt;
        at org.apache.openjpa.kernel.jpql.JPQLExpressionBuilder.getClassMetaData(JPQLExpressionBuilder.java:164)&lt;br/&gt;
        at org.apache.openjpa.kernel.jpql.JPQLExpressionBuilder.resolveClassMetaData(JPQLExpressionBuilder.java:133)&lt;br/&gt;
        at org.apache.openjpa.kernel.jpql.JPQLExpressionBuilder.getCandidateMetaData(JPQLExpressionBuilder.java:213)&lt;br/&gt;
        at org.apache.openjpa.kernel.jpql.JPQLExpressionBuilder.getCandidateMetaData(JPQLExpressionBuilder.java:183)&lt;br/&gt;
        at org.apache.openjpa.kernel.jpql.JPQLExpressionBuilder.getCandidateType(JPQLExpressionBuilder.java:176)&lt;br/&gt;
        at org.apache.openjpa.kernel.jpql.JPQLExpressionBuilder.access$500(JPQLExpressionBuilder.java:63)&lt;br/&gt;
        at org.apache.openjpa.kernel.jpql.JPQLExpressionBuilder$ParsedJPQL.populate(JPQLExpressionBuilder.java:1666)&lt;br/&gt;
        at org.apache.openjpa.kernel.jpql.JPQLParser.populate(JPQLParser.java:52)&lt;br/&gt;
        at org.apache.openjpa.kernel.ExpressionStoreQuery.populateFromCompilation(ExpressionStoreQuery.java:145)&lt;br/&gt;
        at org.apache.openjpa.kernel.QueryImpl.newCompilation(QueryImpl.java:599)&lt;br/&gt;
        at org.apache.openjpa.kernel.QueryImpl.compileForCompilation(QueryImpl.java:581)&lt;br/&gt;
        at org.apache.openjpa.kernel.QueryImpl.compileForExecutor(QueryImpl.java:608)&lt;br/&gt;
        at org.apache.openjpa.kernel.QueryImpl.getOperation(QueryImpl.java:1421)&lt;br/&gt;
        at org.apache.openjpa.kernel.DelegatingQuery.getOperation(DelegatingQuery.java:120)&lt;br/&gt;
        at org.apache.openjpa.persistence.QueryImpl.execute(QueryImpl.java:205)&lt;br/&gt;
        at org.apache.openjpa.persistence.QueryImpl.getResultList(QueryImpl.java:254)&lt;br/&gt;
        at springdeveloper.MyTest.runQuery(MyTest.java:13)&lt;br/&gt;
        at springdeveloper.TestApp.run(TestApp.java:53)&lt;br/&gt;
        at springdeveloper.TestApp.main(TestApp.java:22)&lt;/p&gt;</comment>
                            <comment id="12439589" author="mprudhom" created="Tue, 3 Oct 2006 18:54:52 +0100"  >&lt;p&gt;We&apos;ve committed a number of fixes to the class loading framework when using the class transformer, which appears to make this work.&lt;/p&gt;

&lt;p&gt;Note, though, there are some errors in your orm.xml: you didn&apos;t declare the &amp;lt;mapped-superclass class=&quot;Person&quot;/&amp;gt;, and you put overridden attributes in the &amp;lt;attributes&amp;gt; section, rather than the &amp;lt;attribute-override&amp;gt; section (which the spec mandates). I&apos;ll attach the corrected orm.xml to this report.&lt;/p&gt;</comment>
                            <comment id="12439591" author="mprudhom" created="Tue, 3 Oct 2006 18:55:33 +0100"  >&lt;p&gt;Corrected orm.xml file.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12340421" name="ASF.LICENSE.NOT.GRANTED--plainJpa.zip" size="4744" author="trisberg" created="Thu, 7 Sep 2006 23:26:46 +0100"/>
                            <attachment id="12340616" name="OPENJPA-42.zip" size="4079498" author="trisberg" created="Tue, 12 Sep 2006 03:19:31 +0100"/>
                            <attachment id="12342200" name="orm.xml" size="4179" author="mprudhom" created="Tue, 3 Oct 2006 18:55:33 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 10 Sep 2006 23:22:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>160379</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hysvl3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>202465</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>