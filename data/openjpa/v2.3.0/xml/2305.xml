<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:31:10 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/OPENJPA-2305/OPENJPA-2305.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[OPENJPA-2305] Canonical MetaModel class generation should not use inhertence</title>
                <link>https://issues.apache.org/jira/browse/OPENJPA-2305</link>
                <project id="12310351" key="OPENJPA">OpenJPA</project>
                    <description>&lt;p&gt;The generated source code for canonical metamodel classes mirrored the same inheritance hierarchy of the domain classes. This strategy exposed an error that resulted in wrong target SQL query under the following domain model &lt;br/&gt;
a) A @MappedSuperClass M defined a primary key field x&lt;br/&gt;
b) The primary key field x is an @EmbeddedId E&lt;br/&gt;
c) An @Entity class D derived from M and navigated to the fields of E via x&lt;/p&gt;

&lt;p&gt;The solution is to generate canonical class D_.java as a flattened structure instead of inheriting from M_.java (as is done currently). &lt;/p&gt;</description>
                <environment></environment>
        <key id="12623425">OPENJPA-2305</key>
            <summary>Canonical MetaModel class generation should not use inhertence</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="ppoddar@apache.org">Pinaki Poddar</assignee>
                                    <reporter username="ppoddar@apache.org">Pinaki Poddar</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Dec 2012 18:20:21 +0000</created>
                <updated>Fri, 21 Jun 2013 21:13:03 +0100</updated>
                            <resolved>Thu, 28 Mar 2013 15:24:17 +0000</resolved>
                                    <version>2.2.1.1</version>
                                    <fixVersion>2.2.1.1</fixVersion>
                    <fixVersion>2.3.0</fixVersion>
                                    <component>criteria</component>
                        <due>Fri, 14 Dec 2012 00:00:00 +0000</due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13589956" author="jira-bot" created="Thu, 28 Feb 2013 21:46:55 +0000"  >&lt;p&gt;Commit 1451369 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ppoddar%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;ppoddar@apache.org&quot;&gt;Pinaki Poddar&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1451369&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1451369&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/OPENJPA-2305&quot; title=&quot;Canonical MetaModel class generation should not use inhertence&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OPENJPA-2305&quot;&gt;&lt;del&gt;OPENJPA-2305&lt;/del&gt;&lt;/a&gt;: Restore the inheritance hierarchy of the generated canonical metamodel to that of the domain model due to spec compliance, but flatten the attributes so that an inherited attribute uses generic parameter of owning class type instead of the declared supertype&lt;/p&gt;</comment>
                            <comment id="13590911" author="ppoddar@apache.org" created="Fri, 1 Mar 2013 20:36:46 +0000"  >&lt;p&gt;As per spec, the inheritance hierarchy of the generated metamodel class must mirror that of the domain classes. However we need exact class as the generic parameter of the declared meta-fields. So the solution is as follows&lt;/p&gt;

&lt;p&gt;@Entity public class Base &lt;/p&gt;
{ private int x;}
&lt;p&gt;@Entity public class Derived extends Base {}&lt;/p&gt;

&lt;p&gt;public class Base_ &lt;/p&gt;
{public static volatile SingularAttribute&amp;lt;Base,Integer&amp;gt; x;}
&lt;p&gt;public class derived_ extends Base_ &lt;/p&gt;
{public static volatile SingularAttribute&amp;lt;Derived,Integer&amp;gt; x;}
&lt;p&gt; // rewrite the base variable with owning class as generic parameter&lt;/p&gt;
</comment>
                            <comment id="13602500" author="jira-bot" created="Thu, 14 Mar 2013 17:59:35 +0000"  >&lt;p&gt;Commit 1456574 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ppoddar%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;ppoddar@apache.org&quot;&gt;Pinaki Poddar&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1456574&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1456574&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/OPENJPA-2305&quot; title=&quot;Canonical MetaModel class generation should not use inhertence&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OPENJPA-2305&quot;&gt;&lt;del&gt;OPENJPA-2305&lt;/del&gt;&lt;/a&gt;: Revert to previous style of generated metamodel as flattening inherited variables violate the spec&lt;/p&gt;</comment>
                            <comment id="13602586" author="jira-bot" created="Thu, 14 Mar 2013 19:06:33 +0000"  >&lt;p&gt;Commit 1456614 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ppoddar%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;ppoddar@apache.org&quot;&gt;Pinaki Poddar&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1456614&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1456614&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/OPENJPA-2305&quot; title=&quot;Canonical MetaModel class generation should not use inhertence&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OPENJPA-2305&quot;&gt;&lt;del&gt;OPENJPA-2305&lt;/del&gt;&lt;/a&gt;: Downcast the attribute, if necessary, while navigating a path&lt;/p&gt;</comment>
                            <comment id="13634561" author="jira-bot" created="Wed, 17 Apr 2013 23:55:21 +0100"  >&lt;p&gt;Commit 1469090 from hthomann&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1469090&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1469090&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/OPENJPA-2305&quot; title=&quot;Canonical MetaModel class generation should not use inhertence&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OPENJPA-2305&quot;&gt;&lt;del&gt;OPENJPA-2305&lt;/del&gt;&lt;/a&gt;: Canonical MetaModel class generation should not use inhertence - applied Pinaki&apos;s trunk changes to 2.1.x.&lt;/p&gt;</comment>
                            <comment id="13635296" author="jira-bot" created="Thu, 18 Apr 2013 17:21:00 +0100"  >&lt;p&gt;Commit 1469408 from hthomann&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1469408&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1469408&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/OPENJPA-2305&quot; title=&quot;Canonical MetaModel class generation should not use inhertence&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OPENJPA-2305&quot;&gt;&lt;del&gt;OPENJPA-2305&lt;/del&gt;&lt;/a&gt;: Canonical MetaModel class generation should not use inhertence - applied Pinaki&apos;s trunk changes to 2.2.1.x.&lt;/p&gt;</comment>
                            <comment id="13643480" author="jira-bot" created="Sat, 27 Apr 2013 03:44:00 +0100"  >&lt;p&gt;Commit 1476467 from hthomann&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1476467&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1476467&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/OPENJPA-2305&quot; title=&quot;Canonical MetaModel class generation should not use inhertence&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OPENJPA-2305&quot;&gt;&lt;del&gt;OPENJPA-2305&lt;/del&gt;&lt;/a&gt;: Canonical MetaModel class generation should not use inhertence - back-ported to 2.2.x Pinaki Poddar&apos;s commit to trunk.&lt;/p&gt;</comment>
                            <comment id="13690676" author="jira-bot" created="Fri, 21 Jun 2013 21:12:59 +0100"  >&lt;p&gt;Commit 1495578 from allee8285@apache.org&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1495578&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1495578&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/OPENJPA-2305&quot; title=&quot;Canonical MetaModel class generation should not use inhertence&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OPENJPA-2305&quot;&gt;&lt;del&gt;OPENJPA-2305&lt;/del&gt;&lt;/a&gt; Revert AnnotationProcess6 @SupportSourceVersion removal. This will be resolved under JIRA 2300.&lt;/p&gt;</comment>
                            <comment id="13690677" author="jira-bot" created="Fri, 21 Jun 2013 21:13:01 +0100"  >&lt;p&gt;Commit 1495579 from allee8285@apache.org&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1495579&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1495579&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/OPENJPA-2305&quot; title=&quot;Canonical MetaModel class generation should not use inhertence&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OPENJPA-2305&quot;&gt;&lt;del&gt;OPENJPA-2305&lt;/del&gt;&lt;/a&gt; Revert AnnotationProcess6 @SupportSourceVersion removal. This will be resolved under JIRA 2300.&lt;/p&gt;</comment>
                            <comment id="13690678" author="jira-bot" created="Fri, 21 Jun 2013 21:13:03 +0100"  >&lt;p&gt;Commit 1495580 from allee8285@apache.org&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1495580&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1495580&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/OPENJPA-2305&quot; title=&quot;Canonical MetaModel class generation should not use inhertence&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OPENJPA-2305&quot;&gt;&lt;del&gt;OPENJPA-2305&lt;/del&gt;&lt;/a&gt; Revert AnnotationProcess6 @SupportSourceVersion removal. This will be resolved under JIRA 2300.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12633817">OPENJPA-2339</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 28 Feb 2013 21:46:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>297124</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyyg3z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>234952</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>