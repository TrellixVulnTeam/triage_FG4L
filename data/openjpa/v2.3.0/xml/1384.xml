<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:32:07 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/OPENJPA-1384/OPENJPA-1384.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[OPENJPA-1384] ClassNotFoundException for custom DBDictionary used by EJB</title>
                <link>https://issues.apache.org/jira/browse/OPENJPA-1384</link>
                <project id="12310351" key="OPENJPA">OpenJPA</project>
                    <description>&lt;p&gt;Trying to use EJB3 and Servlets, I have a custom DBDictionary that I would like to use.  If I use the default DBDictionary, everything works fine.&lt;/p&gt;

&lt;p&gt;When OpenJPA tries to load the custom DBDictionary, I get a ClassNotFound Exception&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;11/2/09 14:04:54:077 EST&amp;#93;&lt;/span&gt; 00000030 BusinessExcep E   CNTR0020E: EJB    &lt;br/&gt;
threw an unexpected (non-declared) exception during invocation of method &quot;preLoadCache&quot; on bean &lt;br/&gt;
&quot;BeanId(STA_Test#STA_Service-EJB_Test.jar#AllowableValueEjb, null)&quot;.    Exception data:  com.siemens.soarian.se.soa.exception.SoarianUnknownException: Exception &lt;br/&gt;
ID: ErrorNamespace:se.sta.unknownRuntimeInRSF DisplayErrorCode:SRN00001 ErrorMessage:Exception caught at RSF in method:  &lt;br/&gt;
............        &lt;br/&gt;
Caused by: &amp;lt;openjpa-1.2.1-SNAPSHOT+&lt;a href=&quot;https://issues.apache.org/jira/browse/OPENJPA-679&quot; title=&quot;java.lang.ArrayIndexOutOfBoundsException may occur when a relation field is annotated as a primary key and a foreign key&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OPENJPA-679&quot;&gt;&lt;del&gt;OPENJPA-679&lt;/del&gt;&lt;/a&gt;-Final-r422266:746282     &lt;br/&gt;
fatal user error&amp;gt; org.apache.openjpa.persistence.ArgumentException:     &lt;br/&gt;
com.siemens.soarian.se.persist.extensions.SoarianSQLServerJPADBDictionary                                                                       &lt;br/&gt;
 at org.apache.openjpa.jdbc.sql.DBDictionaryFactory.newDBDictionary(DBDictionaryFactory.java:128)                                                   &lt;br/&gt;
 at org.apache.openjpa.jdbc.sql.DBDictionaryFactory.newDBDictionary(DBDictionaryFactory.java:66)                                                    &lt;br/&gt;
 at  org.apache.openjpa.jdbc.conf.JDBCConfigurationImpl.getDBDictionaryInstance(JDBCConfigurationImpl.java:538)                                      &lt;br/&gt;
at   org.apache.openjpa.jdbc.meta.MappingRepository.endConfiguration(MappingRepository.java:1265)                                                    &lt;br/&gt;
 at   org.apache.openjpa.lib.conf.Configurations.configureInstance(Configurations.java:505)                                                           &lt;br/&gt;
 at  org.apache.openjpa.lib.conf.Configurations.configureInstance(Configurations.java:430)                                                           &lt;br/&gt;
 at  org.apache.openjpa.lib.conf.PluginValue.instantiate(PluginValue.java:103&lt;br/&gt;
at org.apache.openjpa.conf.MetaDataRepositoryValue.instantiate(MetaDataRepositoryValue.java:68)                                                    &lt;br/&gt;
 at    org.apache.openjpa.lib.conf.ObjectValue.instantiate(ObjectValue.java:83)&lt;br/&gt;
 at   org.apache.openjpa.conf.OpenJPAConfigurationImpl.newMetaDataRepositoryInstance(OpenJPAConfigurationImpl.java:863)                               &lt;br/&gt;
 at  org.apache.openjpa.conf.OpenJPAConfigurationImpl.getMetaDataRepositoryInstance(OpenJPAConfigurationImpl.java:854)                               &lt;br/&gt;
 at org.apache.openjpa.kernel.AbstractBrokerFactory.makeReadOnly(AbstractBrokerFactory.java:638)                                                    &lt;br/&gt;
 at    org.apache.openjpa.kernel.AbstractBrokerFactory.newBroker(AbstractBrokerFactory.java:183)                                                       &lt;br/&gt;
 at  org.apache.openjpa.kernel.DelegatingBrokerFactory.newBroker(DelegatingBrokerFactory.java:142)                                                   &lt;br/&gt;
 at  org.apache.openjpa.persistence.EntityManagerFactoryImpl.createEntityMana(EntityManagerFactoryImpl.java:192)                                     &lt;br/&gt;
 at com.ibm.ws.persistence.EntityManagerFactoryImpl.createEntityManager(EntityManagerFactoryImpl.java:63)                                           &lt;br/&gt;
 at  com.ibm.ws.persistence.EntityManagerFactoryImpl.createEntityManager(EntityManagerFactoryImpl.java:27)                                           &lt;br/&gt;
 at    com.ibm.ws.jpa.management.JPAEMPool.getEntityManager(JPAEMPool.java:126)&lt;br/&gt;
at com.ibm.ws.jpa.management.JPATxEntityManager.getEMInvocationInfo(JPATxEntityManager.java:226)                                                   &lt;br/&gt;
 at  com.ibm.ws.jpa.management.JPAEntityManager.getDelegate(JPAEntityManager.java:367)                                                               &lt;br/&gt;
 at   org.apache.openjpa.persistence.OpenJPAPersistence.cast(OpenJPAPersistence.java:63)                                                              &lt;br/&gt;
 at  com.siemens.soarian.se.soa.server.EMFHelper.verifyConnectionMeetsStandards(EMFHelper.java:167)                                                  &lt;br/&gt;
 at  com.siemens.soarian.se.soa.server.EMFHelper.getContainerEntityManager(EMFHelper.java:229)                                                       &lt;br/&gt;
 at   com.siemens.soarian.se.soa.server.EMFHelper.getEntityManager(EMFHelper.java:109)                                                                &lt;br/&gt;
at com.siemens.soarian.se.av.dao.AdaptabilityDAO.setupEM(AdaptabilityDAO.java:92)                                                                  &lt;br/&gt;
 at com.siemens.soarian.se.av.dao.AdaptabilityDAO.&amp;lt;init&amp;gt;(AdaptabilityDAO.java:84)                                                                   &lt;br/&gt;
 at com.siemens.soarian.se.av.applicationtask.AllowableValueCacheAT.&amp;lt;init&amp;gt;(AllowableValueCacheAT.java:37)                                           &lt;br/&gt;
at  com.siemens.soarian.se.av.applicationservice.AllowableValueAS.clearCache(AllowableValueAS.java:84)                                              &lt;br/&gt;
 at com.siemens.soarian.se.av.ejb.AllowableValueServiceBean$3.execute(AllowableValueServiceBean.java:277)                                           &lt;br/&gt;
 at com.siemens.soarian.se.soa.server.RSFAction.go(RSFAction.java:92)   &lt;br/&gt;
 ... 42 more                                                            &lt;br/&gt;
Caused by: java.lang.ClassNotFoundException:                            &lt;br/&gt;
com.siemens.soarian.se.persist.extensions.SoarianSQLServerJPADBDictionary                                                                       &lt;br/&gt;
 at java.lang.Class.forNameImpl(Native Method)                          &lt;br/&gt;
 at java.lang.Class.forName(Class.java:169)                             &lt;br/&gt;
 at  org.apache.openjpa.jdbc.sql.DBDictionaryFactory.newDBDictionary(DBDictionaryFactory.java:119)                                                   &lt;br/&gt;
 ... 71 more                                                            &lt;br/&gt;
...                                                                     &lt;br/&gt;
...                                                                     &lt;br/&gt;
The root cause is what I am looking at here:                            &lt;br/&gt;
.                                                                       &lt;br/&gt;
.                                                                       &lt;br/&gt;
Caused by: java.lang.ClassNotFoundException:                            &lt;br/&gt;
com.siemens.soarian.se.persist.extensions.SoarianSQLServerJPADBDictionar&lt;br/&gt;
y                                                                       &lt;br/&gt;
 at java.lang.Class.forNameImpl(Native Method)                          &lt;br/&gt;
 at java.lang.Class.forName(Class.java:169)                             &lt;br/&gt;
 at                                                                     &lt;br/&gt;
org.apache.openjpa.jdbc.sql.DBDictionaryFactory.newDBDictionary(DBDictio&lt;br/&gt;
naryFactory.java:119)                                                   &lt;br/&gt;
 ... 71 more                                                            &lt;/p&gt;</description>
                <environment>EJB3 Web environment</environment>
        <key id="12440529">OPENJPA-1384</key>
            <summary>ClassNotFoundException for custom DBDictionary used by EJB</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bjreed">B.J. Reed</assignee>
                                    <reporter username="bjreed">B.J. Reed</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Nov 2009 18:43:45 +0000</created>
                <updated>Tue, 9 Mar 2010 18:31:24 +0000</updated>
                            <resolved>Fri, 8 Jan 2010 00:07:30 +0000</resolved>
                                    <version>1.2.1</version>
                                    <fixVersion>1.2.2</fixVersion>
                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>2.0.0-beta</fixVersion>
                                    <component>jdbc</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12777114" author="bjreed" created="Thu, 12 Nov 2009 18:48:12 +0000"  >&lt;p&gt;In the DBDictionaryFactory.newDBDictionary method, OpenJPA tries to load the DBDictionary.  Adding another catch to the code so that if a ClassNotFoundException is caught by the original attempt, then OpenJPA should try to load the class with the current thread&apos;s class loader.&lt;/p&gt;</comment>
                            <comment id="12797074" author="struberg" created="Wed, 6 Jan 2010 11:26:55 +0000"  >&lt;p&gt;it seems like this patch got applied (at least in 2.0.0 trunk)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12424745" name="OPENJPA-1384.patch" size="1388" author="bjreed" created="Thu, 12 Nov 2009 18:48:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 6 Jan 2010 11:26:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>161651</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyt4a7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>203874</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>