<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:44:40 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/OPENJPA-2065/OPENJPA-2065.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[OPENJPA-2065] JPA 2.0 Spec. Violation? EntityManager#createNamedQuery(String, Class) bombs with non-entity Class parameter</title>
                <link>https://issues.apache.org/jira/browse/OPENJPA-2065</link>
                <project id="12310351" key="OPENJPA">OpenJPA</project>
                    <description>&lt;p&gt;Suppose we have an interface, A.&lt;/p&gt;

&lt;p&gt;Suppose we have a JPA-compliant entity class, B, that implements A.&lt;/p&gt;

&lt;p&gt;This construction will fail at runtime:&lt;/p&gt;

&lt;p&gt;final TypedQuery&amp;lt;A&amp;gt; q = em.createNamedQuery(&quot;someNamedQuery&quot;, A.class);&lt;/p&gt;

&lt;p&gt;Hibernate and EclipseLink both accept this construction.&lt;/p&gt;

&lt;p&gt;I don&apos;t see anywhere in the JPA specification that the class parameter must denote an entity type.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12528728">OPENJPA-2065</key>
            <summary>JPA 2.0 Spec. Violation? EntityManager#createNamedQuery(String, Class) bombs with non-entity Class parameter</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="curtisr7">Rick Curtis</assignee>
                                    <reporter username="ljnelson">Laird Nelson</reporter>
                        <labels>
                            <label>specification</label>
                    </labels>
                <created>Tue, 25 Oct 2011 19:01:35 +0100</created>
                <updated>Thu, 2 Feb 2012 17:15:01 +0000</updated>
                            <resolved>Sat, 5 Nov 2011 16:53:45 +0000</resolved>
                                    <version>2.1.0</version>
                    <version>2.1.1</version>
                    <version>2.2.0</version>
                                    <fixVersion>2.2.0</fixVersion>
                                    <component>jpa</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13136242" author="kwsutter" created="Wed, 26 Oct 2011 20:17:50 +0100"  >&lt;p&gt;Laird,&lt;br/&gt;
This does look to be a valid request, but I don&apos;t think it&apos;s a spec compliance issue.  According to section 2.11.3, non-entity classes (interfaces) can not be passed as arguments to EM and Query methods:&lt;/p&gt;

&lt;p&gt;&quot;Non-entity classes cannot be passed as arguments to methods of the EntityManager or Query&lt;br/&gt;
interfaces&lt;span class=&quot;error&quot;&gt;&amp;#91;24&amp;#93;&lt;/span&gt; and cannot bear mapping information.&quot;&lt;/p&gt;

&lt;p&gt;An easy work around for now is to not utilize the TypedQuery support and cast the results instead.  Not great, but it&apos;s workable until a better solution is developed.&lt;/p&gt;

&lt;p&gt;BTW, having both EclipseLink and Hibernate support this does add to the weight of resolving this JIRA...  &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Kevin&lt;/p&gt;</comment>
                            <comment id="13136258" author="ljnelson" created="Wed, 26 Oct 2011 20:32:13 +0100"  >&lt;p&gt;That would imply among other things that this too is illegal:&lt;/p&gt;

&lt;p&gt;final TypedQuery&amp;lt;Long&amp;gt; q = em.createNamedQuery(&quot;someQueryThatReturnsAnAggregateOrCOUNTResult&quot;, Long.class);&lt;/p&gt;

&lt;p&gt;And this:&lt;/p&gt;

&lt;p&gt;final TypedQuery&amp;lt;Object[]&amp;gt; q = em.createNamedQuery(&quot;someQueryThatReturnsAnObjectArrayBecauseOfStuffInTheSelectClause&quot;, Object[].class);&lt;/p&gt;

&lt;p&gt;Is that really the case?  Section 2.11 has very narrow scope.  2.11.3 would seem to have been conceived of within the bounds of that scope, not within the bounds of the entire specification.  Nevertheless, there it is.  That is really unfortunate.  I&apos;ll ask the sleepy users@jpa-spec.java.net list, where I appear to be the only poster, what they think.&lt;/p&gt;</comment>
                            <comment id="13136282" author="kwsutter" created="Wed, 26 Oct 2011 20:50:25 +0100"  >&lt;p&gt;Fair enough, Laird.  &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;  I didn&apos;t say it wasn&apos;t a valid request.  I was just looking for a &quot;get out of jail free&quot; card for the spec violation statement...  Thanks again for bringing this to our attention.&lt;/p&gt;</comment>
                            <comment id="13136293" author="ljnelson" created="Wed, 26 Oct 2011 21:02:48 +0100"  >&lt;p&gt;Sure; not trying to be difficult.  Thanks for the quick response, and the pointers to 2.11.3.  I&apos;m guessing that this section (2.11.3) was created before there was a TypedQuery-returning method on EntityManager, and that the spec. authors would probably modify it if it were brought to their attention.&lt;/p&gt;</comment>
                            <comment id="13144736" author="curtisr7" created="Sat, 5 Nov 2011 16:13:04 +0000"  >&lt;p&gt;Updating fix/affects  version.&lt;/p&gt;</comment>
                            <comment id="13144748" author="curtisr7" created="Sat, 5 Nov 2011 16:53:46 +0000"  >&lt;p&gt;Pinaki committed a code fix, and I committed a unit test. Marking issue as resolved.&lt;/p&gt;</comment>
                            <comment id="13198988" author="allee8285" created="Thu, 2 Feb 2012 17:15:01 +0000"  >&lt;p&gt;Close issue in preparation for 2.2.0 release.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12530781">OPENJPA-2071</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 26 Oct 2011 19:17:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214588</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hz7pgf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>289094</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>