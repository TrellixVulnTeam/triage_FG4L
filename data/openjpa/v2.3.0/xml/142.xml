<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:34:35 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/OPENJPA-142/OPENJPA-142.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[OPENJPA-142] Entity name is ignored when specified in the orm.xml file</title>
                <link>https://issues.apache.org/jira/browse/OPENJPA-142</link>
                <project id="12310351" key="OPENJPA">OpenJPA</project>
                    <description>&lt;p&gt;The XMLPersistenceMetaDataParser ignores the &quot;name&quot; attriburte of an &quot;entity&quot; element, and instead always uses the default alias. For example, with the following declaration in the orm.xml file:&lt;/p&gt;

&lt;p&gt;   &amp;lt;entity name=&quot;Foo&quot; class=&quot;mypackage.Bar&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;the entity will be aliased to &quot;Bar&quot;, rather than to &quot;Foo&quot;.&lt;/p&gt;

&lt;p&gt;Original report by Dain Sundstrom on the open-jpa-dev mailing list:&lt;/p&gt;

&lt;p&gt;I&apos;m using 0.9.6 and it appears the OpenJPA is ignoring the entity name when processing queries.  In stead it seems to always choose the class name for the schema name of the bean.  For example, I have the following bean declared in my entity mappings:&lt;/p&gt;

&lt;p&gt;    &amp;lt;entity name=&quot;BasicCmp2Bean&quot; class=&quot;org.apache.openejb.test.entity.cmp.BasicCmp2Bean_BasicCmp2Bean&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;description&amp;gt;BasicCmp2Bean&amp;lt;/description&amp;gt;&lt;br/&gt;
        &amp;lt;attributes&amp;gt;&lt;br/&gt;
            &amp;lt;id name=&quot;id&quot;/&amp;gt;&lt;br/&gt;
            &amp;lt;basic name=&quot;firstName&quot;/&amp;gt;&lt;br/&gt;
            &amp;lt;basic name=&quot;lastName&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;/attributes&amp;gt;&lt;br/&gt;
    &amp;lt;/entity&amp;gt;&lt;/p&gt;


&lt;p&gt;The following query does not work:&lt;/p&gt;

&lt;p&gt;        SELECT o FROM BasicCmp2Bean o WHERE o.lastName = ?1&lt;/p&gt;

&lt;p&gt;But this one does:&lt;/p&gt;

&lt;p&gt;        SELECT o FROM BasicCmp2Bean_BasicCmp2Bean o WHERE o.lastName = ?1&lt;/p&gt;

&lt;p&gt;When the query fails, I get this message (reformatted a bit with ** added to important entries):&lt;/p&gt;

&lt;p&gt;ERROR - The bean instances business method encountered a system exception: Could not locate metadata for the class using alias &quot;BasicCmp2Bean&quot;. Registered alias mappings: &quot;&lt;/p&gt;
{
AllowedOperationsCmp2Bean_AOBasicCmp2Bean=
  [class org.apache.openejb.test.entity.cmp.AllowedOperationsCmp2Bean_AOBasicCmp2Bean],
AllowedOperationsCmpBean=
  [class org.apache.openejb.test.entity.cmp.AllowedOperationsCmpBean],
ContextLookupCmpBean=
  [class org.apache.openejb.test.entity.cmp.ContextLookupCmpBean],
Employee=
  [class org.apache.openejb.test.entity.cmp2.Employee],
ManyOwningSideBean_ManyOwningSideBean=
  [class org.apache.openejb.test.entity.cmr.cmrmapping.ManyOwningSideBean_ManyOwningSideBean],
**BasicCmp2Bean_BasicCmp2Bean=
  [class org.apache.openejb.test.entity.cmp.BasicCmp2Bean_BasicCmp2Bean],
EncCmpBean=
  [class org.apache.openejb.test.entity.cmp.EncCmpBean],
BBean_OneToOneB=
  [class org.apache.openejb.test.entity.cmr.onetoone.BBean_OneToOneB],
OneOwningSideBean_OneOwningSideBean=
  [class org.apache.openejb.test.entity.cmr.cmrmapping.OneOwningSideBean_OneOwningSideBean],
ABean_OneToOneA=
  [class org.apache.openejb.test.entity.cmr.onetoone.ABean_OneToOneA],
**BasicCmp2Bean=null,
RmiIiopCmpBean=
  [class org.apache.openejb.test.entity.cmp.RmiIiopCmpBean],
ABean_OneToManyA=
  [class org.apache.openejb.test.entity.cmr.onetomany.ABean_OneToManyA],
OneInverseSideBean_OneInverseSideBean=
  [class org.apache.openejb.test.entity.cmr.cmrmapping.OneInverseSideBean_OneInverseSideBean],
BBean_OneToManyB=
  [class org.apache.openejb.test.entity.cmr.onetomany.BBean_OneToManyB],
RmiIiopCmp2Bean_Cmp2_RMI_IIOP_Bean=
  [class org.apache.openejb.test.entity.cmp.RmiIiopCmp2Bean_Cmp2_RMI_IIOP_Bean],
EncCmp2Bean_EncCmp2Bean=
  [class org.apache.openejb.test.entity.cmp.EncCmp2Bean_EncCmp2Bean],
BasicCmpBean=
  [class org.apache.openejb.test.entity.cmp.BasicCmpBean]}
&lt;p&gt;&quot;&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12362662">OPENJPA-142</key>
            <summary>Entity name is ignored when specified in the orm.xml file</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mprudhom">Marc Prud&apos;hommeaux</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Feb 2007 07:58:54 +0000</created>
                <updated>Tue, 9 Mar 2010 18:32:30 +0000</updated>
                            <resolved>Sat, 10 Mar 2007 11:15:38 +0000</resolved>
                                    <version>0.9.0</version>
                    <version>0.9.6</version>
                                    <fixVersion>0.9.7</fixVersion>
                                    <component>jpa</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12472557" author="mprudhom" created="Tue, 13 Feb 2007 08:01:09 +0000"  >&lt;p&gt;This can be worked around by adding the annotation to the class (e.g., @Entity(name=&quot;Foo&quot;) ).&lt;/p&gt;</comment>
                            <comment id="12472844" author="dain" created="Tue, 13 Feb 2007 19:34:42 +0000"  >&lt;p&gt;I think I found a related bug to this.  When you have a mapped-superclass and an entity with the same class name (but not the same package).  The query compiler seems to get confused and throws the exception following this message.&lt;/p&gt;

&lt;p&gt;You should be able to reproduce this by putting your sub class in a different package but with the same class name, and executing any query.  I&apos;m not sure if this problem goes away by annotating the entity as you described above.&lt;/p&gt;

&lt;p&gt;-dain&lt;/p&gt;


&lt;p&gt;3276  TRACE  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.jdbc.JDBC - &amp;lt;t 5323819, conn 2614990&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;0 ms&amp;#93;&lt;/span&gt; close&lt;br/&gt;
ERROR - Executing query SELECT o FROM BasicCmpBean o WHERE o.lastName = ?1&lt;br/&gt;
11:30:06,372 ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;OpenEJB&amp;#93;&lt;/span&gt; Executing query SELECT o FROM BasicCmpBean o WHERE o.lastName = ?1&lt;br/&gt;
3561  TRACE  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.Query - Executing query: &lt;span class=&quot;error&quot;&gt;&amp;#91;SELECT o FROM BasicCmpBean o WHERE o.lastName = ?1&amp;#93;&lt;/span&gt; with parameters: &lt;/p&gt;
{1=Blevins}
&lt;p&gt;ERROR - The bean instances business method encountered a system exception:0&lt;br/&gt;
&amp;lt;4|false|0.9.6-incubating&amp;gt; org.apache.openjpa.persistence.ArgumentException: 0&lt;br/&gt;
	at org.apache.openjpa.kernel.QueryImpl.execute(QueryImpl.java:798)&lt;br/&gt;
	at org.apache.openjpa.kernel.QueryImpl.execute(QueryImpl.java:759)&lt;br/&gt;
	at org.apache.openjpa.kernel.DelegatingQuery.execute(DelegatingQuery.java:528)&lt;br/&gt;
	at org.apache.openjpa.persistence.QueryImpl.execute(QueryImpl.java:210)&lt;br/&gt;
	at org.apache.openjpa.persistence.QueryImpl.getResultList(QueryImpl.java:251)&lt;br/&gt;
	at org.apache.openejb.core.cmp.jpa.JpaCmpEngine.queryBeans(JpaCmpEngine.java:192)&lt;br/&gt;
	at org.apache.openejb.core.cmp.CmpContainer.findEJBObject(CmpContainer.java:640)&lt;br/&gt;
	at org.apache.openejb.core.cmp.CmpContainer.invoke(CmpContainer.java:245)&lt;br/&gt;
	at org.apache.openejb.core.entity.EntityEjbHomeHandler.findX(EntityEjbHomeHandler.java:56)&lt;br/&gt;
	at org.apache.openejb.core.ivm.EjbHomeProxyHandler._invoke(EjbHomeProxyHandler.java:122)&lt;br/&gt;
	at org.apache.openejb.core.ivm.BaseEjbProxyHandler.invoke(BaseEjbProxyHandler.java:186)&lt;br/&gt;
	at org.apache.openejb.util.proxy.Jdk13InvocationHandler.invoke(Jdk13InvocationHandler.java:49)&lt;br/&gt;
	at $Proxy35.findByLastName(Unknown Source)&lt;br/&gt;
	at org.apache.openejb.test.entity.cmp.CmpHomeIntfcTests.test03_findByLastName(CmpHomeIntfcTests.java:77)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:585)&lt;br/&gt;
	at org.apache.openejb.test.NumberedTestCase.runTestMethod(NumberedTestCase.java:135)&lt;br/&gt;
	at org.apache.openejb.test.NumberedTestCase$1.protect(NumberedTestCase.java:120)&lt;br/&gt;
	at junit.framework.TestResult.runProtected(TestResult.java:128)&lt;br/&gt;
	at org.apache.openejb.test.NumberedTestCase.run(NumberedTestCase.java:123)&lt;br/&gt;
	at org.apache.openejb.test.NumberedTestCase.run(NumberedTestCase.java:102)&lt;br/&gt;
	at org.apache.openejb.test.TestSuite.run(TestSuite.java:46)&lt;br/&gt;
	at org.apache.openejb.test.TestSuite.run(TestSuite.java:46)&lt;br/&gt;
	at junit.textui.TestRunner.doRun(TestRunner.java:115)&lt;br/&gt;
	at com.intellij.rt.execution.junit2.IdeaJUnitAgent.doRun(IdeaJUnitAgent.java:58)&lt;br/&gt;
	at junit.textui.TestRunner.start(TestRunner.java:179)&lt;br/&gt;
	at com.intellij.rt.execution.junit.TextTestRunner2.startRunnerWithArgs(TextTestRunner2.java:23)&lt;br/&gt;
	at com.intellij.rt.execution.junit2.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:98)&lt;br/&gt;
	at com.intellij.rt.execution.junit2.JUnitStarter.main(JUnitStarter.java:32)&lt;br/&gt;
Caused by: java.lang.ArrayIndexOutOfBoundsException: 0&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.exps.PCPath.appendTo(PCPath.java:633)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.exps.EqualExpression.appendTo(EqualExpression.java:68)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.exps.CompareEqualExpression.appendTo(CompareEqualExpression.java:95)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.exps.SelectConstructor.buildWhere(SelectConstructor.java:235)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.exps.SelectConstructor.evaluate(SelectConstructor.java:76)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.JDBCStoreQuery.createWhereSelects(JDBCStoreQuery.java:323)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.JDBCStoreQuery.executeQuery(JDBCStoreQuery.java:165)&lt;br/&gt;
	at org.apache.openjpa.kernel.ExpressionStoreQuery$DataStoreExecutor.executeQuery(ExpressionStoreQuery.java:672)&lt;br/&gt;
	at org.apache.openjpa.kernel.QueryImpl.execute(QueryImpl.java:977)&lt;br/&gt;
	at org.apache.openjpa.kernel.QueryImpl.execute(QueryImpl.java:789)&lt;br/&gt;
	... 30 more&lt;br/&gt;
11:30:06,664 ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;OpenEJB&amp;#93;&lt;/span&gt; The bean instances business method encountered a system exception:0&lt;br/&gt;
&amp;lt;4|false|0.9.6-incubating&amp;gt; org.apache.openjpa.persistence.ArgumentException: 0&lt;br/&gt;
	at org.apache.openjpa.kernel.QueryImpl.execute(QueryImpl.java:798)&lt;br/&gt;
	at org.apache.openjpa.kernel.QueryImpl.execute(QueryImpl.java:759)&lt;br/&gt;
	at org.apache.openjpa.kernel.DelegatingQuery.execute(DelegatingQuery.java:528)&lt;br/&gt;
	at org.apache.openjpa.persistence.QueryImpl.execute(QueryImpl.java:210)&lt;br/&gt;
	at org.apache.openjpa.persistence.QueryImpl.getResultList(QueryImpl.java:251)&lt;br/&gt;
	at org.apache.openejb.core.cmp.jpa.JpaCmpEngine.queryBeans(JpaCmpEngine.java:192)&lt;br/&gt;
	at org.apache.openejb.core.cmp.CmpContainer.findEJBObject(CmpContainer.java:640)&lt;br/&gt;
	at org.apache.openejb.core.cmp.CmpContainer.invoke(CmpContainer.java:245)&lt;br/&gt;
	at org.apache.openejb.core.entity.EntityEjbHomeHandler.findX(EntityEjbHomeHandler.java:56)&lt;br/&gt;
	at org.apache.openejb.core.ivm.EjbHomeProxyHandler._invoke(EjbHomeProxyHandler.java:122)&lt;br/&gt;
	at org.apache.openejb.core.ivm.BaseEjbProxyHandler.invoke(BaseEjbProxyHandler.java:186)&lt;br/&gt;
	at org.apache.openejb.util.proxy.Jdk13InvocationHandler.invoke(Jdk13InvocationHandler.java:49)&lt;br/&gt;
	at $Proxy35.findByLastName(Unknown Source)&lt;br/&gt;
	at org.apache.openejb.test.entity.cmp.CmpHomeIntfcTests.test03_findByLastName(CmpHomeIntfcTests.java:77)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:585)&lt;br/&gt;
	at org.apache.openejb.test.NumberedTestCase.runTestMethod(NumberedTestCase.java:135)&lt;br/&gt;
	at org.apache.openejb.test.NumberedTestCase$1.protect(NumberedTestCase.java:120)&lt;br/&gt;
	at junit.framework.TestResult.runProtected(TestResult.java:128)&lt;br/&gt;
	at org.apache.openejb.test.NumberedTestCase.run(NumberedTestCase.java:123)&lt;br/&gt;
	at org.apache.openejb.test.NumberedTestCase.run(NumberedTestCase.java:102)&lt;br/&gt;
	at org.apache.openejb.test.TestSuite.run(TestSuite.java:46)&lt;br/&gt;
	at org.apache.openejb.test.TestSuite.run(TestSuite.java:46)&lt;br/&gt;
	at junit.textui.TestRunner.doRun(TestRunner.java:115)&lt;br/&gt;
	at com.intellij.rt.execution.junit2.IdeaJUnitAgent.doRun(IdeaJUnitAgent.java:58)&lt;br/&gt;
	at junit.textui.TestRunner.start(TestRunner.java:179)&lt;br/&gt;
	at com.intellij.rt.execution.junit.TextTestRunner2.startRunnerWithArgs(TextTestRunner2.java:23)&lt;br/&gt;
	at com.intellij.rt.execution.junit2.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:98)&lt;br/&gt;
	at com.intellij.rt.execution.junit2.JUnitStarter.main(JUnitStarter.java:32)&lt;br/&gt;
Caused by: java.lang.ArrayIndexOutOfBoundsException: 0&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.exps.PCPath.appendTo(PCPath.java:633)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.exps.EqualExpression.appendTo(EqualExpression.java:68)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.exps.CompareEqualExpression.appendTo(CompareEqualExpression.java:95)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.exps.SelectConstructor.buildWhere(SelectConstructor.java:235)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.exps.SelectConstructor.evaluate(SelectConstructor.java:76)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.JDBCStoreQuery.createWhereSelects(JDBCStoreQuery.java:323)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.JDBCStoreQuery.executeQuery(JDBCStoreQuery.java:165)&lt;br/&gt;
	at org.apache.openjpa.kernel.ExpressionStoreQuery$DataStoreExecutor.executeQuery(ExpressionStoreQuery.java:672)&lt;br/&gt;
	at org.apache.openjpa.kernel.QueryImpl.execute(QueryImpl.java:977)&lt;br/&gt;
	at org.apache.openjpa.kernel.QueryImpl.execute(QueryImpl.java:789)&lt;br/&gt;
	... 30 more&lt;br/&gt;
org.apache.openejb.InvalidateReferenceException: java.rmi.RemoteException: The bean encountered a non-application exception.; nested exception is: &lt;br/&gt;
	&amp;lt;4|false|0.9.6-incubating&amp;gt; org.apache.openjpa.persistence.ArgumentException: 0: The bean encountered a non-application exception.; nested exception is: &lt;br/&gt;
	&amp;lt;4|false|0.9.6-incubating&amp;gt; org.apache.openjpa.persistence.ArgumentException: 0&lt;br/&gt;
	at org.apache.openejb.core.transaction.TransactionPolicy.throwExceptionToServer(TransactionPolicy.java:208)&lt;br/&gt;
	at org.apache.openejb.core.transaction.TxRequired.handleSystemException(TxRequired.java:83)&lt;br/&gt;
	at org.apache.openejb.core.cmp.CmpContainer.findEJBObject(CmpContainer.java:682)&lt;br/&gt;
	at org.apache.openejb.core.cmp.CmpContainer.invoke(CmpContainer.java:245)&lt;br/&gt;
	at org.apache.openejb.core.entity.EntityEjbHomeHandler.findX(EntityEjbHomeHandler.java:56)&lt;br/&gt;
	at org.apache.openejb.core.ivm.EjbHomeProxyHandler._invoke(EjbHomeProxyHandler.java:122)&lt;br/&gt;
	at org.apache.openejb.core.ivm.BaseEjbProxyHandler.invoke(BaseEjbProxyHandler.java:186)&lt;br/&gt;
	at org.apache.openejb.util.proxy.Jdk13InvocationHandler.invoke(Jdk13InvocationHandler.java:49)&lt;br/&gt;
	at $Proxy35.findByLastName(Unknown Source)&lt;br/&gt;
	at org.apache.openejb.test.entity.cmp.CmpHomeIntfcTests.test03_findByLastName(CmpHomeIntfcTests.java:77)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:585)&lt;br/&gt;
	at org.apache.openejb.test.NumberedTestCase.runTestMethod(NumberedTestCase.java:135)&lt;br/&gt;
	at org.apache.openejb.test.NumberedTestCase$1.protect(NumberedTestCase.java:120)&lt;br/&gt;
	at junit.framework.TestResult.runProtected(TestResult.java:128)&lt;br/&gt;
	at org.apache.openejb.test.NumberedTestCase.run(NumberedTestCase.java:123)&lt;br/&gt;
	at org.apache.openejb.test.NumberedTestCase.run(NumberedTestCase.java:102)&lt;br/&gt;
	at org.apache.openejb.test.TestSuite.run(TestSuite.java:46)&lt;br/&gt;
	at org.apache.openejb.test.TestSuite.run(TestSuite.java:46)&lt;br/&gt;
	at junit.textui.TestRunner.doRun(TestRunner.java:115)&lt;br/&gt;
	at com.intellij.rt.execution.junit2.IdeaJUnitAgent.doRun(IdeaJUnitAgent.java:58)&lt;br/&gt;
	at junit.textui.TestRunner.start(TestRunner.java:179)&lt;br/&gt;
	at com.intellij.rt.execution.junit.TextTestRunner2.startRunnerWithArgs(TextTestRunner2.java:23)&lt;br/&gt;
	at com.intellij.rt.execution.junit2.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:98)&lt;br/&gt;
	at com.intellij.rt.execution.junit2.JUnitStarter.main(JUnitStarter.java:32)&lt;br/&gt;
Caused by: java.rmi.RemoteException: The bean encountered a non-application exception.; nested exception is: &lt;br/&gt;
	&amp;lt;4|false|0.9.6-incubating&amp;gt; org.apache.openjpa.persistence.ArgumentException: 0&lt;br/&gt;
	at org.apache.openejb.core.transaction.TransactionPolicy.throwExceptionToServer(TransactionPolicy.java:206)&lt;br/&gt;
	... 26 more&lt;br/&gt;
Caused by: &amp;lt;4|false|0.9.6-incubating&amp;gt; org.apache.openjpa.persistence.ArgumentException: 0&lt;br/&gt;
	at org.apache.openjpa.kernel.QueryImpl.execute(QueryImpl.java:798)&lt;br/&gt;
	at org.apache.openjpa.kernel.QueryImpl.execute(QueryImpl.java:759)&lt;br/&gt;
	at org.apache.openjpa.kernel.DelegatingQuery.execute(DelegatingQuery.java:528)&lt;br/&gt;
	at org.apache.openjpa.persistence.QueryImpl.execute(QueryImpl.java:210)&lt;br/&gt;
	at org.apache.openjpa.persistence.QueryImpl.getResultList(QueryImpl.java:251)&lt;br/&gt;
	at org.apache.openejb.core.cmp.jpa.JpaCmpEngine.queryBeans(JpaCmpEngine.java:192)&lt;br/&gt;
	at org.apache.openejb.core.cmp.CmpContainer.findEJBObject(CmpContainer.java:640)&lt;br/&gt;
	... 24 more&lt;br/&gt;
Caused by: java.lang.ArrayIndexOutOfBoundsException: 0&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.exps.PCPath.appendTo(PCPath.java:633)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.exps.EqualExpression.appendTo(EqualExpression.java:68)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.exps.CompareEqualExpression.appendTo(CompareEqualExpression.java:95)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.exps.SelectConstructor.buildWhere(SelectConstructor.java:235)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.exps.SelectConstructor.evaluate(SelectConstructor.java:76)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.JDBCStoreQuery.createWhereSelects(JDBCStoreQuery.java:323)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.JDBCStoreQuery.executeQuery(JDBCStoreQuery.java:165)&lt;br/&gt;
	at org.apache.openjpa.kernel.ExpressionStoreQuery$DataStoreExecutor.executeQuery(ExpressionStoreQuery.java:672)&lt;br/&gt;
	at org.apache.openjpa.kernel.QueryImpl.execute(QueryImpl.java:977)&lt;br/&gt;
	at org.apache.openjpa.kernel.QueryImpl.execute(QueryImpl.java:789)&lt;br/&gt;
	... 30 more&lt;/p&gt;</comment>
                            <comment id="12475310" author="ephemeris" created="Fri, 23 Feb 2007 10:50:02 +0000"  >&lt;p&gt;I have a similar problem with a really veru simple test that works as expected with TopLink (RI) and Hibernate implementations.&lt;br/&gt;
I&apos;ve tried to add the &quot;name&quot; attribute to the entities annotations, or disable the orm.xml use, but this work-around doesn&apos;t seem to work in my case.&lt;br/&gt;
I&apos;ve tested it with the release 0.9.6 and snapshot 0.9.7, and i have the same result...&lt;br/&gt;
Does anyone have more ideas ?&lt;br/&gt;
NB : I attach my project, just in case...&lt;/p&gt;</comment>
                            <comment id="12475312" author="ephemeris" created="Fri, 23 Feb 2007 10:53:24 +0000"  >&lt;p&gt;A simple project with the same error :&lt;/p&gt;

&lt;p&gt;30  my-persistence-unit-for-open-jpa  INFO   &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.Runtime - Starting OpenJPA 0.9.7-incubating-SNAPSHOT&lt;br/&gt;
140  my-persistence-unit-for-open-jpa  INFO   &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.jdbc.JDBC - Using dictionary class &quot;org.apache.openjpa.jdbc.sql.DerbyDictionary&quot;.&lt;br/&gt;
270  my-persistence-unit-for-open-jpa  INFO   &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.MetaData - Found 3 classes with metadata in 10 milliseconds.&lt;br/&gt;
Exception in thread &quot;main&quot; &amp;lt;4|true|0.9.7-incubating-SNAPSHOT&amp;gt; org.apache.openjpa.persistence.ArgumentException: Could not locate metadata for the class using alias &quot;Person&quot;. Registered alias mappings: &quot;&lt;/p&gt;
{Person=null}
&lt;p&gt;&quot;&lt;br/&gt;
	at org.apache.openjpa.meta.MetaDataRepository.getMetaData(MetaDataRepository.java:345)&lt;br/&gt;
	at org.apache.openjpa.kernel.jpql.JPQLExpressionBuilder.getClassMetaData(JPQLExpressionBuilder.java:164)&lt;br/&gt;
	at org.apache.openjpa.kernel.jpql.JPQLExpressionBuilder.resolveClassMetaData(JPQLExpressionBuilder.java:142)&lt;br/&gt;
	at org.apache.openjpa.kernel.jpql.JPQLExpressionBuilder.getCandidateMetaData(JPQLExpressionBuilder.java:211)&lt;br/&gt;
	at org.apache.openjpa.kernel.jpql.JPQLExpressionBuilder.getCandidateMetaData(JPQLExpressionBuilder.java:181)&lt;br/&gt;
	at org.apache.openjpa.kernel.jpql.JPQLExpressionBuilder.getCandidateType(JPQLExpressionBuilder.java:174)&lt;br/&gt;
	at org.apache.openjpa.kernel.jpql.JPQLExpressionBuilder.access$500(JPQLExpressionBuilder.java:61)&lt;br/&gt;
	at org.apache.openjpa.kernel.jpql.JPQLExpressionBuilder$ParsedJPQL.populate(JPQLExpressionBuilder.java:1668)&lt;br/&gt;
	at org.apache.openjpa.kernel.jpql.JPQLParser.populate(JPQLParser.java:52)&lt;br/&gt;
	at org.apache.openjpa.kernel.ExpressionStoreQuery.populateFromCompilation(ExpressionStoreQuery.java:145)&lt;br/&gt;
	at org.apache.openjpa.kernel.QueryImpl.newCompilation(QueryImpl.java:644)&lt;br/&gt;
	at org.apache.openjpa.kernel.QueryImpl.compilationFromCache(QueryImpl.java:625)&lt;br/&gt;
	at org.apache.openjpa.kernel.QueryImpl.compileForCompilation(QueryImpl.java:591)&lt;br/&gt;
	at org.apache.openjpa.kernel.QueryImpl.compileForExecutor(QueryImpl.java:653)&lt;br/&gt;
	at org.apache.openjpa.kernel.QueryImpl.getOperation(QueryImpl.java:1475)&lt;br/&gt;
	at org.apache.openjpa.kernel.DelegatingQuery.getOperation(DelegatingQuery.java:120)&lt;br/&gt;
	at org.apache.openjpa.persistence.QueryImpl.execute(QueryImpl.java:214)&lt;br/&gt;
	at org.apache.openjpa.persistence.QueryImpl.getResultList(QueryImpl.java:264)&lt;br/&gt;
	at my.jpa.one.Test.test(Test.java:34)&lt;br/&gt;
	at my.jpa.one.MainForOpenJPA.main(MainForOpenJPA.java:7)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12351880" name="Tests-JPA-1.zip" size="20620" author="ephemeris" created="Fri, 23 Feb 2007 10:53:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 13 Feb 2007 19:34:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>160476</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hysvzb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>202529</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>