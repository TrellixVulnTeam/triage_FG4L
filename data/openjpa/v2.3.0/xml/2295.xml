<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:45:27 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/OPENJPA-2295/OPENJPA-2295.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[OPENJPA-2295] speed up query metadata lookup</title>
                <link>https://issues.apache.org/jira/browse/OPENJPA-2295</link>
                <project id="12310351" key="OPENJPA">OpenJPA</project>
                    <description>&lt;p&gt;I noticed right now the queryKey is used as the map key for metadataRepository._queries, but when it goes to look up, it always uses query name. The query metadata lookup would be faster if we switch to query name as the key.&lt;/p&gt;

&lt;p&gt;I double checked the JPA Spec and OPENJPA menu, it seems only support the named query creation using query name, which means the query name should be unique in one EntityManager. It doesn&apos;t matter in which entity the query is defined. So using name as the map look up key should be good enough.&lt;/p&gt;

&lt;p&gt;when there are two queries with the same name defined in the different entities, it will only keep the query metadata for the first loaded named query and ignore the rest plus log a warning message like this:&lt;br/&gt;
 WARN   &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.MetaData - Ignoring duplicate query &quot;X&quot; in &quot;class org.apache.openjpa.A&quot;. A query with the same name been already declared in &quot;class org.apache.openjpa.B&quot;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12615351">OPENJPA-2295</key>
            <summary>speed up query metadata lookup</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="helenxu">Helen Xu</assignee>
                                    <reporter username="helenxu">Helen Xu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 8 Nov 2012 17:11:06 +0000</created>
                <updated>Tue, 25 Nov 2014 20:38:39 +0000</updated>
                            <resolved>Tue, 25 Nov 2014 20:38:38 +0000</resolved>
                                    <version>2.2.0</version>
                    <version>2.3.0</version>
                                    <fixVersion>2.2.2</fixVersion>
                    <fixVersion>2.2.1.1</fixVersion>
                    <fixVersion>2.3.0</fixVersion>
                                    <component>performance</component>
                    <component>query</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13559996" author="helenxu" created="Tue, 22 Jan 2013 20:45:07 +0000"  >&lt;p&gt;reopen the issue to restore the old method so that it is backward compatible.&lt;/p&gt;</comment>
                            <comment id="13560803" author="helenxu" created="Wed, 23 Jan 2013 16:25:02 +0000"  >&lt;p&gt;the old method was added to 2.2.x and trunk&lt;/p&gt;</comment>
                            <comment id="14225170" author="jira-bot" created="Tue, 25 Nov 2014 20:36:21 +0000"  >&lt;p&gt;Commit 1641687 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jpaheath&quot; class=&quot;user-hover&quot; rel=&quot;jpaheath&quot;&gt;Heath Thomann&lt;/a&gt; in branch &apos;openjpa/branches/2.2.1.x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1641687&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1641687&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/OPENJPA-2295&quot; title=&quot;speed up query metadata lookup&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OPENJPA-2295&quot;&gt;&lt;del&gt;OPENJPA-2295&lt;/del&gt;&lt;/a&gt;: speed up query metadata lookup - back ported to 2.2.1.x Helen&apos;s 2.2.x/trunk changes.&lt;/p&gt;</comment>
                            <comment id="14225171" author="jpaheath" created="Tue, 25 Nov 2014 20:38:09 +0000"  >&lt;p&gt;Fixing in 2.2.1.x.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12552675" name="OPENJPA-2295.patch" size="5723" author="helenxu" created="Thu, 8 Nov 2012 17:23:11 +0000"/>
                            <attachment id="12566009" name="OPENJPA-2295a.patch" size="567" author="helenxu" created="Tue, 22 Jan 2013 20:45:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 25 Nov 2014 20:36:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>255986</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyanx3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>96186</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>