<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:40:31 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/OPENJPA-442/OPENJPA-442.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[OPENJPA-442] JIRA-407 introduced backward compatibility problem in QueryImpl</title>
                <link>https://issues.apache.org/jira/browse/OPENJPA-442</link>
                <project id="12310351" key="OPENJPA">OpenJPA</project>
                    <description>&lt;p&gt;In the openjpa-407 patch, it changed the constructor to pass an extra parameter RuntimeExceptionTransaltor,&lt;/p&gt;

&lt;p&gt;   public QueryImpl(EntityManagerImpl em, RuntimeExceptionTranslator ret,&lt;br/&gt;
        org.apache.openjpa.kernel.Query query) &lt;/p&gt;
{
        _em = em;
        _query = new DelegatingQuery(query, ret);
    }

&lt;p&gt;However, it did not keep the orginial constructor so the extension  of this QueryImpl from other vendor resulted in compiler error. We need to keep the backward compatibilty issue in mind when we change the public interface. &lt;br/&gt;
The solution will be  to add the original constructor back and route it to the new constructor:&lt;/p&gt;

&lt;p&gt;   public QueryImpl(EntityManagerImpl em, RuntimeExceptionTranslator ret,&lt;br/&gt;
        org.apache.openjpa.kernel.Query query) &lt;/p&gt;
{
        _em = em;
        if (ret == null)
            ret = PersistenceExceptions.getRollbackTranslator(em);
        _query = new DelegatingQuery(query, ret);
    }

&lt;p&gt;    /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Constructor; supply factory and delegate.&lt;br/&gt;
     */&lt;br/&gt;
    public QueryImpl(EntityManagerImpl em, org.apache.openjpa.kernel.Query query) 
{        
        this(em, null, query);
    }&lt;/li&gt;
&lt;/ul&gt;

</description>
                <environment></environment>
        <key id="12382539">OPENJPA-442</key>
            <summary>JIRA-407 introduced backward compatibility problem in QueryImpl</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mikedd">Michael Dick</assignee>
                                    <reporter username="tckan1">Teresa Kan</reporter>
                        <labels>
                    </labels>
                <created>Wed, 14 Nov 2007 18:54:23 +0000</created>
                <updated>Sun, 20 Apr 2008 20:08:13 +0100</updated>
                            <resolved>Sun, 20 Apr 2008 20:08:13 +0100</resolved>
                                    <version>1.1.0</version>
                    <version>1.2.0</version>
                                    <fixVersion>1.2.0</fixVersion>
                                    <component>query</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12542545" author="tckan1" created="Wed, 14 Nov 2007 18:56:08 +0000"  >&lt;p&gt;attach the patch.&lt;/p&gt;</comment>
                            <comment id="12542921" author="pcl" created="Fri, 16 Nov 2007 01:06:37 +0000"  >&lt;p&gt;So I guess it depends what we consider to be a &quot;public interface&quot;. To date, we&apos;ve defined that as just being things that are marked as @published. Significantly increasing this footprint will make OpenJPA much more brittle to refactorings.&lt;/p&gt;

&lt;p&gt;We might want to think about a relatively high-speed deprecation route for things like this. This could help facilitate integration testing etc. while still allowing things to change as we perform useful refactorings by providing overlap in internal SPI compatibility.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12369542" name="OPENJPA-442.patch" size="1029" author="tckan1" created="Wed, 14 Nov 2007 18:56:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 16 Nov 2007 01:06:37 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>160764</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hysz8f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>203056</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>