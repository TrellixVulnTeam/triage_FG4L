<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:45:40 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/OPENJPA-113/OPENJPA-113.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[OPENJPA-113] when you specify columm table=&quot;empbean&quot;  in the xml file entity id or basic type when empbean is the default table name, the mapping tool generates extra foreign key field (eg.EmpBean_empid) in the table produced.</title>
                <link>https://issues.apache.org/jira/browse/OPENJPA-113</link>
                <project id="12310351" key="OPENJPA">OpenJPA</project>
                    <description>&lt;p&gt;when you specify columm table=&quot;empbean&quot;  in the xml file entity id or basic type when empbean is the default table name, the mapping tool generates extra foreign key field (eg.EmpBean_empid) in the table produced. This causes a SQL0203 (A reference to column name is ambiguous) on empid when you try to persist this entity.&lt;/p&gt;


&lt;p&gt;    &amp;lt;entity name=&quot;EmpBean&quot; class=&quot;EmpBean&quot; access=&quot;FIELD&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;attributes&amp;gt;&lt;br/&gt;
            &amp;lt;id name=&quot;empid&quot;&amp;gt;&lt;br/&gt;
               &amp;lt;column name=&quot;empid&quot; nullable=&quot;false&quot; column-definition=&quot;integer&quot; /&amp;gt;&lt;br/&gt;
            &amp;lt;/id&amp;gt;&lt;br/&gt;
            &amp;lt;basic name=&quot;name&quot; fetch=&quot;EAGER&quot;&amp;gt;&lt;br/&gt;
                &amp;lt;column length=&quot;40&quot;/&amp;gt;&lt;br/&gt;
            &amp;lt;/basic&amp;gt;&lt;/p&gt;

&lt;p&gt;            &amp;lt;basic name=&quot;salary&quot; fetch=&quot;EAGER&quot; &amp;gt;&lt;br/&gt;
                &amp;lt;column name=&quot;salary&quot; table=&quot;empbean&quot;/&amp;gt;&lt;br/&gt;
            &amp;lt;/basic&amp;gt;&lt;/p&gt;

&lt;p&gt;            &amp;lt;basic name=&quot;bonus&quot; fetch=&quot;EAGER&quot;&amp;gt;&lt;br/&gt;
            &amp;lt;/basic&amp;gt;&lt;br/&gt;
             &amp;lt;basic name=&quot;isManager&quot; fetch=&quot;EAGER&quot;&amp;gt;&lt;br/&gt;
             &amp;lt;/basic&amp;gt;&lt;br/&gt;
             &amp;lt;basic name=&quot;execLevel&quot; fetch=&quot;EAGER&quot;&amp;gt;&lt;br/&gt;
             &amp;lt;/basic&amp;gt;&lt;br/&gt;
            &amp;lt;basic name=&quot;hireDate&quot; fetch=&quot;EAGER&quot;&amp;gt;&lt;br/&gt;
             &amp;lt;/basic&amp;gt;&lt;br/&gt;
            &amp;lt;basic name=&quot;hireTime&quot; fetch=&quot;EAGER&quot;&amp;gt;&lt;br/&gt;
             &amp;lt;/basic&amp;gt;&lt;br/&gt;
            &amp;lt;basic name=&quot;hireTimestamp&quot; fetch=&quot;EAGER&quot;&amp;gt;&lt;br/&gt;
             &amp;lt;/basic&amp;gt;&lt;/p&gt;

&lt;p&gt;           &amp;lt;many-to-one name=&quot;dept&quot; target-entity=&quot;com.ibm.ws.query.entities.xml.DeptBean&quot; fetch=&quot;EAGER&quot;&amp;gt;&lt;br/&gt;
           &amp;lt;/many-to-one&amp;gt;&lt;/p&gt;

&lt;p&gt;           &amp;lt;one-to-many name=&quot;manages&quot; target-entity=&quot;DeptBean&quot; fetch=&quot;LAZY&quot; mapped-by=&quot;mgr&quot;&amp;gt;&lt;br/&gt;
                &amp;lt;cascade&amp;gt;&amp;lt;cascade-remove/&amp;gt;&amp;lt;/cascade&amp;gt;&lt;br/&gt;
            &amp;lt;/one-to-many&amp;gt;&lt;/p&gt;

&lt;p&gt;           &amp;lt;one-to-one name=&quot;home&quot; target-entity=&quot;AddressBean&quot; fetch=&quot;EAGER&quot;&amp;gt;&lt;br/&gt;
           &amp;lt;/one-to-one&amp;gt;&lt;/p&gt;

&lt;p&gt;            &amp;lt;one-to-one name=&quot;work&quot; target-entity=&quot;AddressBean&quot; fetch=&quot;EAGER&quot;&amp;gt;&lt;br/&gt;
           &amp;lt;/one-to-one&amp;gt;&lt;/p&gt;

&lt;p&gt;            &amp;lt;many-to-many name=&quot;tasks&quot; target-entity=&quot;TaskBean&quot; fetch=&quot;LAZY&quot; mapped-by=&quot;emps&quot;&amp;gt;&lt;br/&gt;
            &amp;lt;/many-to-many&amp;gt;&lt;/p&gt;

&lt;p&gt;        &amp;lt;/attributes&amp;gt;        &lt;br/&gt;
    &amp;lt;/entity&amp;gt;&lt;/p&gt;


&lt;p&gt;4787  mdd  TRACE  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.jdbc.SQL - &amp;lt;t 1094861122, conn 1274432502&amp;gt; executing stmnt 1129857880 CREATE TABLE EmpBean (empid INTEGER NOT NULL, bonus DOUBLE, execLevel INTEGER, hireDate DATE, hireTime TIME, hireTimestamp TIMESTAMP, isManager SMALLINT, name VARCHAR(40), EmpBean_empid INTEGER, salary DOUBLE, dept_deptno INTEGER, home_street VARCHAR(40), work_street VARCHAR(40), PRIMARY KEY (empid))&lt;/p&gt;</description>
                <environment>windows xp, openjpa_097_incubating</environment>
        <key id="12361229">OPENJPA-113</key>
            <summary>when you specify columm table=&quot;empbean&quot;  in the xml file entity id or basic type when empbean is the default table name, the mapping tool generates extra foreign key field (eg.EmpBean_empid) in the table produced.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mikedd">Michael Dick</assignee>
                                    <reporter username="ghongell">George Hongell</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Jan 2007 02:04:02 +0000</created>
                <updated>Tue, 9 Mar 2010 18:32:30 +0000</updated>
                            <resolved>Wed, 24 Oct 2007 19:10:19 +0100</resolved>
                                                    <fixVersion>1.0.1</fixVersion>
                    <fixVersion>1.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12478779" author="kwsutter" created="Wed, 7 Mar 2007 14:41:40 +0000"  >&lt;p&gt;FYI, we have also encountered this problem with annotations.  If you re-specify the table designation in the @Column&lt;br/&gt;
annotation, OpenJPA thinks there&apos;s another field named &quot;&amp;lt;class&amp;gt;&amp;lt;id&amp;gt;&quot;.  This only seems to be a problem with @Id fields that also have an @Column annotation:&lt;/p&gt;

&lt;p&gt;@Entity&lt;br/&gt;
@Table(name=&quot;ITEM&quot;)&lt;br/&gt;
public class ItemJPA {&lt;/p&gt;

&lt;p&gt;	public int itemId;&lt;br/&gt;
	public String itemName;&lt;br/&gt;
	public java.math.BigDecimal itemPrice;&lt;br/&gt;
	public String itemData;&lt;/p&gt;

&lt;p&gt;	@Id&lt;br/&gt;
	@Column(name=&quot;I_ID&quot;, table=&quot;ITEM&quot;)&lt;br/&gt;
	@GeneratedValue(strategy=GenerationType.AUTO)&lt;br/&gt;
	public int getItemId() &lt;/p&gt;
{
		return itemId;
	}
&lt;p&gt;   :&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;In this case, OpenJPA created another attribute named ItemJPA_I_ID, and of course, the SQL statements generated were&lt;br/&gt;
not correct:&lt;/p&gt;

&lt;p&gt;prepstmnt 1986688618 UPDATE ITEM SET I_PRICE = ? WHERE I_ID = ? AND ItemJPA_I_ID = ? &lt;span class=&quot;error&quot;&gt;&amp;#91;params=(BigDecimal) 500, (int) 1, (int) 1&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;An easy workaround is to just remove this redundant specification in the @Column annotation.&lt;/p&gt;

&lt;p&gt;Kevin&lt;/p&gt;

</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 7 Mar 2007 14:41:40 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>160450</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hz7juf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>288185</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>