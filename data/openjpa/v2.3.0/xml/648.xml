<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:43:18 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/OPENJPA-648/OPENJPA-648.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[OPENJPA-648] Table generator uses incorrect schema name</title>
                <link>https://issues.apache.org/jira/browse/OPENJPA-648</link>
                <project id="12310351" key="OPENJPA">OpenJPA</project>
                    <description>&lt;p&gt;If a schema name is provided on an entity-level Table annotation and a different schema name is used within a field-level TableGenerator, the mapping tool uses the the schema name provided in the field-level annotation to create the table, but the runtime generates SQL using the schema of the entity-level table annotation.  The result is an exception when the runtime attempts to query the table.&lt;/p&gt;

&lt;p&gt;&amp;#8212; For example:&lt;/p&gt;

&lt;p&gt;@Entity(name=&quot;SENTITY&quot;)&lt;br/&gt;
@Table(name=&quot;SENTITY&quot;, schema=&quot;TBLSCHEMA&quot;)&lt;br/&gt;
public class SingleEntity {&lt;br/&gt;
    @Id&lt;br/&gt;
    @TableGenerator(name = &quot;SID_Gen&quot;, table = &quot;ID_Gen&quot;, schema=&quot;TGSCHEMA&quot;,&lt;br/&gt;
            pkColumnName = &quot;GEN_NAME&quot;, valueColumnName = &quot;GEN_VAL&quot;,&lt;br/&gt;
            pkColumnValue = &quot;ID2&quot;, initialValue = 20, allocationSize = 10)&lt;br/&gt;
    @GeneratedValue(strategy = GenerationType.TABLE, generator = &quot;SID_Gen&quot;)     &lt;br/&gt;
    private int id;    &lt;/p&gt;

&lt;p&gt;....&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;&amp;#8212; Results in this SQL/exception:&lt;/p&gt;

&lt;p&gt;Caused by: org.apache.openjpa.lib.jdbc.ReportingSQLException: Table/View &apos;TBLSCHEMA.ID_GEN&apos; does not exist. &lt;/p&gt;
{SELECT GEN_VAL FROM TBLSCHEMA.ID_Gen WHERE GEN_NAME = ? FOR UPDATE WITH RR}
&lt;p&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;code=20000, state=42X05&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;The mapping tool creates the id generator table using the correct schema (TGSCHEMA).  &lt;/p&gt;

&lt;p&gt;This issue is being opened as a subtask under &lt;a href=&quot;https://issues.apache.org/jira/browse/OPENJPA-493&quot; title=&quot;openjpa.jdbc.Schema property set causes wrong SQL queries when reading OPENJPA_SEQUENCE_TABLE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OPENJPA-493&quot;&gt;&lt;del&gt;OPENJPA-493&lt;/del&gt;&lt;/a&gt;.  It was found while testing a back-port of the fix made in rev. 610427 to the 1.0.x stream.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12399321">OPENJPA-648</key>
            <summary>Table generator uses incorrect schema name</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12386357">OPENJPA-493</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="techhusky">Jeremy Bauer</assignee>
                                    <reporter username="techhusky">Jeremy Bauer</reporter>
                        <labels>
                    </labels>
                <created>Mon, 30 Jun 2008 23:06:16 +0100</created>
                <updated>Tue, 9 Mar 2010 18:32:54 +0000</updated>
                            <resolved>Wed, 2 Jul 2008 15:09:46 +0100</resolved>
                                    <version>1.0.2</version>
                    <version>1.2.0</version>
                                    <fixVersion>1.0.3</fixVersion>
                    <fixVersion>1.2.0</fixVersion>
                                    <component>jdbc</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12609382" author="techhusky" created="Mon, 30 Jun 2008 23:11:24 +0100"  >&lt;p&gt;Attaching patch and test cases for the 1.0.x release.&lt;/p&gt;</comment>
                            <comment id="12609657" author="techhusky" created="Tue, 1 Jul 2008 19:04:25 +0100"  >&lt;p&gt;Attaching patch and jUnits for trunk/1.2.0.  Please review and if no comments, commit for 1.0.x and 1.2.0.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12384988" name="OPENJPA-648_1.0.x.patch" size="13508" author="techhusky" created="Mon, 30 Jun 2008 23:11:24 +0100"/>
                            <attachment id="12385045" name="OPENJPA-648_1.2.0.patch" size="13616" author="techhusky" created="Tue, 1 Jul 2008 19:04:25 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>160962</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hysznb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>203123</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>