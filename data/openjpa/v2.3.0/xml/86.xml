<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:43:53 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/OPENJPA-86/OPENJPA-86.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[OPENJPA-86] &quot;uuid-hex&quot; generator does not make affect in orm.xml</title>
                <link>https://issues.apache.org/jira/browse/OPENJPA-86</link>
                <project id="12310351" key="OPENJPA">OpenJPA</project>
                    <description>&lt;p&gt;I wish to generate uuid automatically. I modified Message.java in hellojpa example. &lt;/p&gt;

&lt;p&gt;@Entity&lt;br/&gt;
public class Message {&lt;br/&gt;
    @GeneratedValue(generator=&quot;uuid-hex&quot;)&lt;br/&gt;
    private String uuid;&lt;/p&gt;

&lt;p&gt;    @Basic&lt;br/&gt;
    private String message;&lt;/p&gt;

&lt;p&gt;    @Basic&lt;br/&gt;
    private Date created = new Date();&lt;/p&gt;

&lt;p&gt;    public Message() {&lt;br/&gt;
    }&lt;/p&gt;

&lt;p&gt;    public Message(String msg) &lt;/p&gt;
{
        message = msg;
    }
&lt;p&gt;   ...&lt;/p&gt;

&lt;p&gt;and modified Main.java&lt;/p&gt;

&lt;p&gt;...&lt;br/&gt;
        for (Message m : (List&amp;lt;Message&amp;gt;)q.getResultList()) &lt;/p&gt;
{
            System.out.println(m.getMessage()
                + &quot; (created on: &quot; + m.getCreated() + &quot;)&quot; + &quot; uuid: &quot; + m.getUuid()); 
        }
&lt;p&gt;...&lt;/p&gt;

&lt;p&gt;I got the output like this, I got the uuid like &quot;7A92CA0039483DD69B808001A9FE0202&quot;&lt;/p&gt;

&lt;p&gt;2493  hellojpa  TRACE  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.jdbc.SQL - &amp;lt;t 29469766, conn 1398720&amp;gt; executing prepstmnt 30325919 SELECT SEQUENCE_VALUE FROM OPENJPA_SEQUENCE_TABLE WHERE ID = ? FOR UPDATE WITH RR &lt;span class=&quot;error&quot;&gt;&amp;#91;params=(int) 0&amp;#93;&lt;/span&gt;&lt;br/&gt;
2513  hellojpa  TRACE  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.jdbc.SQL - &amp;lt;t 29469766, conn 1398720&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;20 ms&amp;#93;&lt;/span&gt; spent&lt;br/&gt;
2593  hellojpa  TRACE  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.jdbc.SQL - &amp;lt;t 29469766, conn 1398720&amp;gt; executing prepstmnt 16954038 UPDATE OPENJPA_SEQUENCE_TABLE SET SEQUENCE_VALUE = ? WHERE ID = ? AND SEQUENCE_VALUE = ? &lt;span class=&quot;error&quot;&gt;&amp;#91;params=(long) 101, (int) 0, (long) 51&amp;#93;&lt;/span&gt;&lt;br/&gt;
2613  hellojpa  TRACE  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.jdbc.SQL - &amp;lt;t 29469766, conn 1398720&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;20 ms&amp;#93;&lt;/span&gt; spent&lt;br/&gt;
2764  hellojpa  TRACE  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.jdbc.SQL - &amp;lt;t 29469766, conn 31544052&amp;gt; executing prepstmnt 17243268 INSERT INTO Message (id, created, message, uuid) VALUES (?, ?, ?, ?) &lt;span class=&quot;error&quot;&gt;&amp;#91;params=(long) 51, (Timestamp) 2006-11-21 09:36:23.728, (String) Hello Persistence!, (String) 8808876039483DD6BA4C6A80A9FE0202&amp;#93;&lt;/span&gt;&lt;br/&gt;
2784  hellojpa  TRACE  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.jdbc.SQL - &amp;lt;t 29469766, conn 31544052&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;20 ms&amp;#93;&lt;/span&gt; spent&lt;br/&gt;
3194  hellojpa  TRACE  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.jdbc.SQL - &amp;lt;t 29469766, conn 33041076&amp;gt; executing prepstmnt 6576294 SELECT t0.id, t0.created, t0.message, t0.uuid FROM Message t0&lt;br/&gt;
3194  hellojpa  TRACE  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.jdbc.SQL - &amp;lt;t 29469766, conn 33041076&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;0 ms&amp;#93;&lt;/span&gt; spent&lt;br/&gt;
Hello Persistence! (created on: Tue Nov 21 09:36:01 CST 2006) uuid: 7A92CA0039483DD69B808001A9FE0202&lt;br/&gt;
Hello Persistence! (created on: Tue Nov 21 09:36:23 CST 2006) uuid: 8808876039483DD6BA4C6A80A9FE0202&lt;br/&gt;
&amp;lt;END&amp;gt;&lt;/p&gt;

&lt;p&gt;When I changed to orm.xml to define the entity mapping, I add orm.xml in META-INF folder&lt;br/&gt;
&amp;lt;entity-mappings xmlns=&quot;http://java.sun.com/xml/ns/persistence/orm&quot; &lt;br/&gt;
    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; &lt;br/&gt;
    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence/orm orm_1_0.xsd&quot;&lt;br/&gt;
    version=&quot;1.0&quot;&amp;gt;&lt;br/&gt;
&amp;lt;package&amp;gt;hellojpa&amp;lt;/package&amp;gt;&lt;br/&gt;
&amp;lt;entity class=&quot;hellojpa.Message&quot; metadata-complete=&quot;false&quot; access=&quot;PROPERTY&quot;&amp;gt;&lt;br/&gt;
      &amp;lt;attributes&amp;gt;&lt;br/&gt;
          &amp;lt;id name=&quot;uuid&quot;&amp;gt;&lt;br/&gt;
             &amp;lt;generated-value generator=&quot;uuid-hex&quot;/&amp;gt;&lt;br/&gt;
          &amp;lt;/id&amp;gt;&lt;br/&gt;
          &amp;lt;basic name=&quot;message&quot; optional=&quot;false&quot;&amp;gt;&lt;br/&gt;
          &amp;lt;/basic&amp;gt;&lt;br/&gt;
          &amp;lt;basic name=&quot;created&quot; optional=&quot;false&quot;&amp;gt;&lt;br/&gt;
          &amp;lt;/basic&amp;gt;&lt;br/&gt;
      &amp;lt;/attributes&amp;gt;&lt;br/&gt;
&amp;lt;/entity&amp;gt;&lt;br/&gt;
&amp;lt;/entity-mappings&amp;gt;&lt;/p&gt;

&lt;p&gt;and modified Message.java &lt;br/&gt;
...&lt;br/&gt;
//@Entity&lt;br/&gt;
public class Message {&lt;br/&gt;
//    @GeneratedValue(generator=&quot;uuid-hex&quot;)&lt;br/&gt;
    private String uuid;&lt;/p&gt;

&lt;p&gt;//    @Basic&lt;br/&gt;
    private String message;&lt;/p&gt;

&lt;p&gt;//    @Basic&lt;br/&gt;
    private Date created = new Date();&lt;/p&gt;

&lt;p&gt;    public Message() {&lt;br/&gt;
    }&lt;br/&gt;
....&lt;/p&gt;

&lt;p&gt;I got the output like this, A sequence number (1, 51, 101, 151, 201) replaced uuid-hex in output, &lt;br/&gt;
....&lt;br/&gt;
2864  hellojpa  TRACE  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.jdbc.SQL - &amp;lt;t 26373776, conn 10014334&amp;gt; executing prepstmnt 23585701 SELECT SEQUENCE_VALUE FROM OPENJPA_SEQUENCE_TABLE WHERE ID = ? FOR UPDATE WITH RR &lt;span class=&quot;error&quot;&gt;&amp;#91;params=(int) 0&amp;#93;&lt;/span&gt;&lt;br/&gt;
2864  hellojpa  TRACE  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.jdbc.SQL - &amp;lt;t 26373776, conn 10014334&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;0 ms&amp;#93;&lt;/span&gt; spent&lt;br/&gt;
2944  hellojpa  TRACE  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.jdbc.SQL - &amp;lt;t 26373776, conn 10014334&amp;gt; executing prepstmnt 5676128 UPDATE OPENJPA_SEQUENCE_TABLE SET SEQUENCE_VALUE = ? WHERE ID = ? AND SEQUENCE_VALUE = ? &lt;span class=&quot;error&quot;&gt;&amp;#91;params=(long) 251, (int) 0, (long) 201&amp;#93;&lt;/span&gt;&lt;br/&gt;
2984  hellojpa  TRACE  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.jdbc.SQL - &amp;lt;t 26373776, conn 10014334&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;40 ms&amp;#93;&lt;/span&gt; spent&lt;br/&gt;
3044  hellojpa  TRACE  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.jdbc.SQL - &amp;lt;t 26373776, conn 4102111&amp;gt; executing prepstmnt 5057266 INSERT INTO Message (uuid, created, message) VALUES (?, ?, ?) &lt;span class=&quot;error&quot;&gt;&amp;#91;params=(String) 201, (Timestamp) 2006-11-21 09:22:33.774, (String) Hello Persistence!&amp;#93;&lt;/span&gt;&lt;br/&gt;
3074  hellojpa  TRACE  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.jdbc.SQL - &amp;lt;t 26373776, conn 4102111&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;30 ms&amp;#93;&lt;/span&gt; spent&lt;br/&gt;
3495  hellojpa  TRACE  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.jdbc.SQL - &amp;lt;t 26373776, conn 27790058&amp;gt; executing prepstmnt 33108879 SELECT t0.uuid, t0.created, t0.message FROM Message t0&lt;br/&gt;
3495  hellojpa  TRACE  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.jdbc.SQL - &amp;lt;t 26373776, conn 27790058&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;0 ms&amp;#93;&lt;/span&gt; spent&lt;br/&gt;
Hello Persistence! (created on: Mon Nov 20 19:10:57 CST 2006) uuid: 1&lt;br/&gt;
Hello Persistence! (created on: Mon Nov 20 19:11:14 CST 2006) uuid: 51&lt;br/&gt;
Hello Persistence! (created on: Mon Nov 20 19:22:01 CST 2006) uuid: 101&lt;br/&gt;
Hello Persistence! (created on: Tue Nov 21 09:21:54 CST 2006) uuid: 151&lt;br/&gt;
Hello Persistence! (created on: Tue Nov 21 09:22:33 CST 2006) uuid: 201&lt;/p&gt;

&lt;p&gt;&amp;lt;END&amp;gt;&lt;/p&gt;
</description>
                <environment>JDK 1.5.0_09, eclipse 3.2.1, openjpa-0.9.6-incubating, openjpa-0.9.7-incubating-SNAPSHOT(Nov 20, 2006)</environment>
        <key id="12356226">OPENJPA-86</key>
            <summary>&quot;uuid-hex&quot; generator does not make affect in orm.xml</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="macdoor">xiaoxiong duan</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Nov 2006 01:42:51 +0000</created>
                <updated>Tue, 9 Mar 2010 18:32:28 +0000</updated>
                            <resolved>Wed, 8 Aug 2007 00:13:06 +0100</resolved>
                                    <version>0.9.6</version>
                                    <fixVersion>1.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12518277" author="pcl" created="Wed, 8 Aug 2007 00:13:06 +0100"  >&lt;p&gt;Fixed for uuid-string; I anticipate that the fix will work for both uuid-hex and uuid-string. I unified our handling of generation types between our XML and annotation parsers.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 7 Aug 2007 23:13:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>160423</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hysz5j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>203043</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>