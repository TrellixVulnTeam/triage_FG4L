<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:43:23 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/OPENJPA-331/OPENJPA-331.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[OPENJPA-331] Allow BigInteger and other Basic types as Primary Keys</title>
                <link>https://issues.apache.org/jira/browse/OPENJPA-331</link>
                <project id="12310351" key="OPENJPA">OpenJPA</project>
                    <description>&lt;p&gt;Section 2.1.4 of the JPA spec outlines the requirements for a primary key (@Id):&lt;/p&gt;

&lt;p&gt;Section 2.1.4:  A simple ( i.e., non-composite) primary key must correspond to a single persistent field or property of&lt;br/&gt;
the entity class. The Id annotation is used to denote a simple primary key. See section 9.1.8.&lt;/p&gt;

&lt;p&gt;Also from Section 2.1.4 :  The primary key (or field or property of a composite primary key) should be one of the following types:&lt;br/&gt;
any Java primitive type; any primitive wrapper type; java.lang.String; java.util.Date;&lt;br/&gt;
java.sql.Date. In general, however, approximate numeric types (e.g., floating point types) should&lt;br/&gt;
never be used in primary keys. Entities whose primary keys use types other than these will not be portable.&lt;br/&gt;
If generated primary keys are used, only integral types will be portable. If java.util.Date is&lt;br/&gt;
used as a primary key field or property, the temporal type should be specified as DATE.&lt;/p&gt;

&lt;p&gt;Right now, we are treating the &quot;should be&quot; statement above as &quot;must be&quot; and only allowing the specified types as primary keys.  But, the sentence in the middle of this paragraph (&quot;Entities whose primary keys use types other than these will not be portable.&quot;) indicates that other types can also be allowed, but may not be portable.&lt;/p&gt;

&lt;p&gt;It seems that Glassfish allows these additional Basic types as primary keys.  We should probably allow the same thing to keep up with the Jones&apos;.&lt;/p&gt;

&lt;p&gt;This was discussed on dev mailing list.  &lt;a href=&quot;http://www.nabble.com/BigInteger-as-%40Id-tf4318071.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.nabble.com/BigInteger-as-%40Id-tf4318071.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12376745">OPENJPA-331</key>
            <summary>Allow BigInteger and other Basic types as Primary Keys</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwsutter">Kevin Sutter</assignee>
                                    <reporter username="kwsutter">Kevin Sutter</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Aug 2007 22:08:21 +0100</created>
                <updated>Tue, 9 Mar 2010 18:32:38 +0000</updated>
                            <resolved>Thu, 31 Jan 2008 00:13:48 +0000</resolved>
                                    <version>0.9.7</version>
                    <version>1.0.0</version>
                                    <fixVersion>1.0.2</fixVersion>
                    <fixVersion>1.1.0</fixVersion>
                                    <component>kernel</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12538817" author="allee8285" created="Tue, 30 Oct 2007 15:44:41 +0000"  >&lt;p&gt;Defer to next release.&lt;/p&gt;</comment>
                            <comment id="12552194" author="pcl" created="Sun, 16 Dec 2007 12:39:15 +0000"  >&lt;p&gt;Resolved in trunk; keeping open since this probably deserves to be in 1.0.2, but I cannot apply patches to 1.0.2 on this machine due to a lame patch implementation.&lt;/p&gt;

&lt;p&gt;The new files have a slightly different ASL license banner at the top. To the best of my non-legally-schooled knowledge, it looks right, and I&apos;m reluctant to change someone else&apos;s license banner, but it seemed worth highlighting.&lt;/p&gt;</comment>
                            <comment id="12552195" author="pcl" created="Sun, 16 Dec 2007 12:40:39 +0000"  >&lt;p&gt;Oh, and thanks for the patch, Miro!&lt;/p&gt;

&lt;p&gt;One more note: it looks like the automated build machine is currently offline, so this won&apos;t make it into a snapshot until it comes back online or someone manually creates a snapshot. I will not be able to debug the offline machine until late next week.&lt;/p&gt;</comment>
                            <comment id="12552836" author="clr" created="Tue, 18 Dec 2007 17:54:07 +0000"  >&lt;p&gt;Hi Miro,&lt;/p&gt;

&lt;p&gt;Thanks for the patch! The copyright and license in the headers of the new files are an issue that I&apos;d like you to fix and resubmit. Since the changes have already been checked in, an update to the headers and/or NOTICE.txt is all that&apos;s needed.&lt;/p&gt;

&lt;p&gt;Please see &lt;a href=&quot;http://cwiki.apache.org/confluence/display/openjpa/Found+a+Bug&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://cwiki.apache.org/confluence/display/openjpa/Found+a+Bug&lt;/a&gt; for details on the headers that are needed.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Craig&lt;/p&gt;</comment>
                            <comment id="12553264" author="miro" created="Wed, 19 Dec 2007 08:40:17 +0000"  >&lt;p&gt;Is that OK?&lt;br/&gt;
I am so sorry but I am not so friendly with License matter. If this is not OK, please fix it or exact tell me what to do.&lt;/p&gt;</comment>
                            <comment id="12553265" author="miro" created="Wed, 19 Dec 2007 08:41:49 +0000"  >&lt;p&gt;Is that OK?&lt;br/&gt;
I am so sorry but I am not so friendly with License matter. If this is not OK, please fix it or exact tell me what to do.&lt;/p&gt;</comment>
                            <comment id="12553481" author="clr" created="Wed, 19 Dec 2007 20:34:00 +0000"  >&lt;p&gt;Hi Miro,&lt;/p&gt;

&lt;p&gt;Thanks, this is very close to what we need.&lt;/p&gt;

&lt;p&gt;The license header is ok, but the copyright needs to be removed from the individual files and put into the openjpa-project/NOTICE.txt file. Something like this:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;OpenJPA includes the following software copyright 2007 Miroslav Nachev&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;openjpa-kernel/src/main/java/org/apache/openjpa/util/BigDecimalId.java&lt;br/&gt;
openjpa-kernel/src/main/java/org/apache/openjpa/util/BigIntegerId.java&lt;br/&gt;
openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/identity/SQLBigIntegerIdEntity.java&lt;br/&gt;
openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/identity/SQLBigDecimalIdEntity.java&lt;br/&gt;
openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/identity/TestSQLBigIntegerId.java&lt;br/&gt;
openjpa-persistence-jdbc/src/test/java/org/apache/openjpa/persistence/identity/TestSQLBigDecimalId.java&lt;/p&gt;

&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Craig&lt;/p&gt;</comment>
                            <comment id="12553601" author="miro" created="Thu, 20 Dec 2007 07:41:37 +0000"  >&lt;p&gt;I hope that now everything is OK.&lt;/p&gt;</comment>
                            <comment id="12554961" author="clr" created="Sat, 29 Dec 2007 22:23:54 +0000"  >&lt;p&gt;I&apos;ve checked in the updated license information into trunk. &lt;/p&gt;

&lt;p&gt;I&apos;ll leave the issue open in case someone wants to apply the patch to the branch. I&apos;ve got some ^M line ending issues when applying the patch to the branch.&lt;/p&gt;</comment>
                            <comment id="12564237" author="pcl" created="Thu, 31 Jan 2008 00:13:48 +0000"  >&lt;p&gt;Merged to 1.0.x line.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12371662" name="fix-OpenJPA-331.patch" size="19780" author="miro" created="Fri, 14 Dec 2007 10:39:04 +0000"/>
                            <attachment id="12372010" name="license-fix-OpenJPA-331-v110.patch" size="12446" author="miro" created="Thu, 20 Dec 2007 07:41:37 +0000"/>
                            <attachment id="12371933" name="license-fix-OpenJPA-331-v110.patch" size="11890" author="miro" created="Wed, 19 Dec 2007 08:41:49 +0000"/>
                            <attachment id="12371932" name="license-fix-OpenJPA-331-v110.patch" size="11890" author="miro" created="Wed, 19 Dec 2007 08:40:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 30 Oct 2007 15:44:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>160656</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyswgf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>202606</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>