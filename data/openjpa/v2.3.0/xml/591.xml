<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:42:42 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/OPENJPA-591/OPENJPA-591.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[OPENJPA-591] Entities are flushed before being detached or serialized</title>
                <link>https://issues.apache.org/jira/browse/OPENJPA-591</link>
                <project id="12310351" key="OPENJPA">OpenJPA</project>
                    <description>&lt;p&gt;Entities are flushed if the entity is serialized or if the detach and detachAll methods are invoked.&lt;/p&gt;

&lt;p&gt;Similar to &lt;a href=&quot;https://issues.apache.org/jira/browse/OPENJPA-119&quot; title=&quot;EntityManager.clear() should not implicitly invoke the flush operation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OPENJPA-119&quot;&gt;&lt;del&gt;OPENJPA-119&lt;/del&gt;&lt;/a&gt; I believe this is a remnant of the JDO persistence layer. Whether this is desirable in JPA or not, we need to be consistent whether the entity is detached via clear, or the detach methods. &lt;/p&gt;

&lt;p&gt;To resolve the problem I propose adding a new Compatibility option : flushBeforeDetach. If this is set to true we&apos;ll keep the current JDO-like behavior. If false then we&apos;ll just detach. I believe the same setting could apply when entities are serialized although it might be clearer to have a separate option for serialization. &lt;/p&gt;

&lt;p&gt;In the 1.0.x branch the flushBeforeDetach setting will only take effect for the detach, detachAll and serialization path. It will not affect the EntityManager.clear() method - in order to maintain backwards compatibility. &lt;/p&gt;

&lt;p&gt;In 1.2.x + the clear method will also defer to the flushBeforeDetach setting. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12395356">OPENJPA-591</key>
            <summary>Entities are flushed before being detached or serialized</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12361701">OPENJPA-119</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mikedd">Michael Dick</assignee>
                                    <reporter username="mikedd">Michael Dick</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 May 2008 21:41:35 +0100</created>
                <updated>Wed, 28 May 2008 20:25:38 +0100</updated>
                            <resolved>Wed, 28 May 2008 20:25:38 +0100</resolved>
                                    <version>1.0.0</version>
                    <version>1.0.1</version>
                    <version>1.0.2</version>
                                    <fixVersion>1.0.3</fixVersion>
                    <fixVersion>1.1.1</fixVersion>
                    <fixVersion>1.2.0</fixVersion>
                                    <component>kernel</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12596162" author="pcl" created="Mon, 12 May 2008 19:51:37 +0100"  >&lt;p&gt;Why is this still listed as open?&lt;/p&gt;</comment>
                            <comment id="12600581" author="mikedd" created="Wed, 28 May 2008 20:25:38 +0100"  >&lt;p&gt;Sorry Patrick, I didn&apos;t notice your update until now. The changes currently do not affect the EntityManager.clear() method contrary to my earlier remarks in the issue.&lt;/p&gt;

&lt;p&gt;For now I&apos;m going to close the issue, if we need to link em.clear with em.detach then we can open a sub task. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 12 May 2008 18:51:37 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>160907</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyt1tj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>203475</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>