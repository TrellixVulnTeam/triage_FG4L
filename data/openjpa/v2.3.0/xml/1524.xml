<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:41:41 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/OPENJPA-1524/OPENJPA-1524.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[OPENJPA-1524] ManagedRuntime does not work for OSGi</title>
                <link>https://issues.apache.org/jira/browse/OPENJPA-1524</link>
                <project id="12310351" key="OPENJPA">OpenJPA</project>
                    <description>&lt;p&gt;In an OSGi runtime there is no TransactionManager registered in JNDI&lt;/p&gt;

&lt;p&gt;It is possible to use an osgi:services/ lookup, but it is much safer, and better practice to look up the resource in the OSGi service registry.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12456798">OPENJPA-1524</key>
            <summary>ManagedRuntime does not work for OSGi</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="drwoods">Donald Woods</assignee>
                                    <reporter username="timothyjward">Timothy Ward</reporter>
                        <labels>
                    </labels>
                <created>Fri, 19 Feb 2010 16:50:12 +0000</created>
                <updated>Tue, 30 Mar 2010 00:17:47 +0100</updated>
                            <resolved>Mon, 22 Mar 2010 19:15:39 +0000</resolved>
                                    <version>2.0.0-beta</version>
                                    <fixVersion>2.0.0-beta3</fixVersion>
                                    <component>osgi</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                                                                                            <comments>
                            <comment id="12835831" author="timothyjward" created="Fri, 19 Feb 2010 17:16:47 +0000"  >&lt;p&gt;One implementation suggestion would be to use a ServiceTracker to keep track of the JTA services. This would allow for lazy lookup and also provide a notification if the service is unregistered.&lt;/p&gt;

&lt;p&gt;This should then be possible to implement as a relatively simple subclass of RegistryManagedRuntime that overrides getTransactionManager(). I don&apos;t know if you have a nice mechanism to pass a BundleContext yet, but I don&apos;t think that should pose a significant problem.&lt;/p&gt;</comment>
                            <comment id="12838397" author="jbohn" created="Thu, 25 Feb 2010 16:24:56 +0000"  >&lt;p&gt;To work around this I&apos;ve added the following property to my persistence.xml - so you will need to use a name similar to this.&lt;/p&gt;

&lt;p&gt;&amp;lt;property name=&quot;openjpa.ManagedRuntime&quot; value=&quot;jndi(TransactionManagerName=aries:services/javax.transaction.TransactionManager)&quot;/&amp;gt;&lt;/p&gt;</comment>
                            <comment id="12845316" author="drwoods" created="Mon, 15 Mar 2010 14:04:05 +0000"  >&lt;p&gt;The r920553 change to include the Aries specific JNDI lookup is working, but I&apos;d like to create a generic OSGiManagedRuntime class that would work for other vendors too.  But as I&apos;m looking at the Aries transaction module, I&apos;m not seeing how it is being registered in the ServiceRegistry with a common OSGi name that isn&apos;t Aries specific.&lt;/p&gt;

&lt;p&gt;transaction/transaction-manager/target/sources/org/apache/aries/transaction/Activator.java:45 -&lt;br/&gt;
        props.put(Constants.SERVICE_PID, getName());&lt;br/&gt;
        bundleContext.registerService(ManagedServiceFactory.class.getName(), this, props);&lt;/p&gt;

&lt;p&gt;where getName() is -&lt;br/&gt;
    public String getName() &lt;/p&gt;
{
        return &quot;org.apache.aries.transaction&quot;;
    }

&lt;p&gt;Shouldn&apos;t the Aries TransactionManagerService also be registered as &quot;javax.transaction.TransactionManager&quot;?&lt;/p&gt;</comment>
                            <comment id="12848291" author="drwoods" created="Mon, 22 Mar 2010 19:15:39 +0000"  >&lt;p&gt;JNDI solution was added back on March 8th and will be in 2.0.0-beta3.&lt;br/&gt;
Opened &lt;a href=&quot;https://issues.apache.org/jira/browse/OPENJPA-1593&quot; title=&quot;Create an OSGiManagedRuntime&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OPENJPA-1593&quot;&gt;&lt;del&gt;OPENJPA-1593&lt;/del&gt;&lt;/a&gt; as a subtask to look at adding an OSGiManagedRuntime in 2.1.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12459900">OPENJPA-1593</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                            <subtask id="12459900">OPENJPA-1593</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 25 Feb 2010 16:24:56 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>161788</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyt6dj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>204213</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>