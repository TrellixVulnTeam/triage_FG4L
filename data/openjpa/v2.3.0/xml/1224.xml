<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:35:33 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/OPENJPA-1224/OPENJPA-1224.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[OPENJPA-1224] OpenJPA MySQL BigDecimal ignoring Precision/Scale column Annotation when generating tables </title>
                <link>https://issues.apache.org/jira/browse/OPENJPA-1224</link>
                <project id="12310351" key="OPENJPA">OpenJPA</project>
                    <description>&lt;p&gt;Create an entity with a BigDecimal member. Using runtime enhancement and automatic schema generation. When OpneJPA creates the table it creates a column of type DECIMAL but will always ignore the precision set on the column annotation and use the default of (10,0) causing BigDecimal data to round up to the nearest whole number.&lt;/p&gt;

&lt;p&gt;Sample of basic Entity:&lt;/p&gt;

&lt;p&gt;@Entity&lt;br/&gt;
public class Asset implements Serializable{&lt;br/&gt;
	private static final long serialVersionUID = 1L;&lt;/p&gt;

&lt;p&gt;	@Id&lt;br/&gt;
        @GeneratedValue(strategy=SEQUENCE, generator=&quot;ASSET_SEQ&quot;)&lt;br/&gt;
	private String uniqueid;&lt;/p&gt;

&lt;p&gt;	@Column(precision=10,scale=6,)&lt;br/&gt;
	private BigDecimal rate;&lt;/p&gt;


&lt;p&gt;	public Asset() &lt;/p&gt;
{
		this.rate = rate;
	}&lt;br/&gt;
&lt;br/&gt;
	public void setRate(BigDecimal rate) {
		this.rate = rate;
	}

&lt;p&gt;	public BigDecimal getRate() &lt;/p&gt;
{
		return rate;
	}
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;Code to generate schema and save entity:&lt;/p&gt;

&lt;p&gt;Asset asset = new Asset();&lt;br/&gt;
asset.setRate(BigDecimal bd = new BigDecimal(100.004));&lt;/p&gt;

&lt;p&gt;Now called persist/merge on the entity to generate the table schema and save the entity. The table is generated and the &quot;rate&quot; column is set to type DECIMAL(10,0) instead of DECIMAL(10,6). The table create script looks like this:&lt;br/&gt;
DROP TABLE IF EXISTS `trm`.`asset`;&lt;br/&gt;
CREATE TABLE  `trm`.`asset` (&lt;br/&gt;
  `uniqueid` varchar(255) NOT NULL,&lt;br/&gt;
  `rate` decimal(10,0) NOT NULL,&lt;br/&gt;
) ENGINE=InnoDB DEFAULT CHARSET=latin1;&lt;/p&gt;

&lt;p&gt;doubles work ok.&lt;/p&gt;</description>
                <environment>OpenJPA 1.2.1, MySQL 5.1.32 (InnoDB), </environment>
        <key id="12432116">OPENJPA-1224</key>
            <summary>OpenJPA MySQL BigDecimal ignoring Precision/Scale column Annotation when generating tables </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="curtisr7">Rick Curtis</assignee>
                                    <reporter username="crispyoz">Christopher Davies</reporter>
                        <labels>
                    </labels>
                <created>Tue, 4 Aug 2009 02:57:53 +0100</created>
                <updated>Tue, 16 Oct 2012 21:39:14 +0100</updated>
                            <resolved>Tue, 22 Dec 2009 16:39:22 +0000</resolved>
                                    <version>1.2.1</version>
                                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>2.0.0-beta</fixVersion>
                                    <component>jpa</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12759562" author="jorgeu" created="Fri, 25 Sep 2009 16:09:47 +0100"  >&lt;p&gt;I have the same problem when using hibernate as my JPA provider.&lt;br/&gt;
It seems that both projects doesn&apos;t include money handlers test cases.&lt;/p&gt;

&lt;p&gt;By now i&apos;m editing the database schema by hand after automatic table creation occurs.&lt;/p&gt;</comment>
                            <comment id="12793663" author="curtisr7" created="Tue, 22 Dec 2009 16:39:22 +0000"  >&lt;p&gt;The original issue reported by this JIRA has been fixed in trunk and 1.3.x.&lt;/p&gt;</comment>
                            <comment id="12794854" author="xiaoqinfeng2000" created="Mon, 28 Dec 2009 18:36:32 +0000"  >&lt;p&gt;I am on vacation from 12/20/2009 &#194;&#160;to 12/26/2009.&lt;/p&gt;

&lt;p&gt;If you have any question on deployment and JEE bugs, please contact Saurabh Arora or my manager Maruthi Nuthikattu.&lt;/p&gt;

&lt;p&gt;For emergency, contact me at 925-209-5517.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12366950">OPENJPA-213</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12612075">OPENJPA-2280</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 25 Sep 2009 15:09:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>161501</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy3zh3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>57071</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>