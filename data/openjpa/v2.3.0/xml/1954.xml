<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:34:58 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/OPENJPA-1954/OPENJPA-1954.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[OPENJPA-1954] ArrayIndexOutOfBoundsException when querying on a version field that is in a MappedSuperclass</title>
                <link>https://issues.apache.org/jira/browse/OPENJPA-1954</link>
                <project id="12310351" key="OPENJPA">OpenJPA</project>
                    <description>&lt;p&gt;This is a problem that was reported on the users mailing list&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://openjpa.markmail.org/thread/qvcducd52vgrhone&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://openjpa.markmail.org/thread/qvcducd52vgrhone&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;openjpa-2.2.0-SNAPSHOT-r422266:1061583M nonfatal user error&amp;gt; org.apache.openjpa.persistence.ArgumentException: Failed to execute query &quot;SELECT s FROM TimestampedEntity s WHERE s.version &amp;lt; :endDate&quot;. Check the query syntax for correctness. See nested exception for details.&lt;br/&gt;
	at org.apache.openjpa.kernel.QueryImpl.execute(QueryImpl.java:872)&lt;br/&gt;
	at org.apache.openjpa.kernel.QueryImpl.execute(QueryImpl.java:794)&lt;br/&gt;
	at org.apache.openjpa.kernel.DelegatingQuery.execute(DelegatingQuery.java:542)&lt;br/&gt;
	at org.apache.openjpa.persistence.QueryImpl.execute(QueryImpl.java:305)&lt;br/&gt;
	at org.apache.openjpa.persistence.QueryImpl.getResultList(QueryImpl.java:321)&lt;br/&gt;
	at org.apache.openjpa.persistence.jdbc.update.TestTimestampVersion.test(TestTimestampVersion.java:50)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:48)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:600)&lt;br/&gt;
	at junit.framework.TestCase.runTest(TestCase.java:154)&lt;br/&gt;
	at org.apache.openjpa.persistence.test.AbstractPersistenceTestCase.runTest(AbstractPersistenceTestCase.java:579)&lt;br/&gt;
	at junit.framework.TestCase.runBare(TestCase.java:127)&lt;br/&gt;
	at org.apache.openjpa.persistence.test.AbstractPersistenceTestCase.runBare(AbstractPersistenceTestCase.java:566)&lt;br/&gt;
	at org.apache.openjpa.persistence.test.AbstractPersistenceTestCase.runBare(AbstractPersistenceTestCase.java:542)&lt;br/&gt;
	at junit.framework.TestResult$1.protect(TestResult.java:106)&lt;br/&gt;
	at junit.framework.TestResult.runProtected(TestResult.java:124)&lt;br/&gt;
	at junit.framework.TestResult.run(TestResult.java:109)&lt;br/&gt;
	at junit.framework.TestCase.run(TestCase.java:118)&lt;br/&gt;
	at org.apache.openjpa.persistence.test.AbstractPersistenceTestCase.run(AbstractPersistenceTestCase.java:206)&lt;br/&gt;
	at junit.framework.TestSuite.runTest(TestSuite.java:208)&lt;br/&gt;
	at junit.framework.TestSuite.run(TestSuite.java:203)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run(JUnit3TestReference.java:130)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:460)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:673)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:386)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:196)&lt;br/&gt;
Caused by: java.lang.ArrayIndexOutOfBoundsException: Array index out of range: 0&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.exps.PCPath.appendTo(PCPath.java:995)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.exps.FilterValueImpl.appendTo(FilterValueImpl.java:63)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.exps.FilterValueImpl.appendTo(FilterValueImpl.java:59)&lt;br/&gt;
	at org.apache.openjpa.jdbc.sql.DBDictionary.comparison(DBDictionary.java:2910)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.exps.CompareExpression.appendTo(CompareExpression.java:75)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.exps.SelectConstructor.buildWhere(SelectConstructor.java:312)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.exps.SelectConstructor.evaluate(SelectConstructor.java:94)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.JDBCStoreQuery.createWhereSelects(JDBCStoreQuery.java:361)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.JDBCStoreQuery.executeQuery(JDBCStoreQuery.java:193)&lt;br/&gt;
	at org.apache.openjpa.kernel.ExpressionStoreQuery$DataStoreExecutor.executeQuery(ExpressionStoreQuery.java:782)&lt;br/&gt;
	at org.apache.openjpa.kernel.QueryImpl.execute(QueryImpl.java:1005)&lt;br/&gt;
	at org.apache.openjpa.kernel.QueryImpl.execute(QueryImpl.java:863)&lt;br/&gt;
	... 27 more&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12500194">OPENJPA-1954</key>
            <summary>ArrayIndexOutOfBoundsException when querying on a version field that is in a MappedSuperclass</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="curtisr7">Rick Curtis</assignee>
                                    <reporter username="curtisr7">Rick Curtis</reporter>
                        <labels>
                    </labels>
                <created>Wed, 2 Mar 2011 16:22:48 +0000</created>
                <updated>Thu, 17 Oct 2013 23:33:54 +0100</updated>
                            <resolved>Thu, 17 Oct 2013 23:33:54 +0100</resolved>
                                    <version>1.2.2</version>
                    <version>2.0.0</version>
                    <version>2.1.0</version>
                    <version>2.2.0</version>
                                    <fixVersion>2.1.2</fixVersion>
                    <fixVersion>2.2.0</fixVersion>
                                    <component>kernel</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13001479" author="curtisr7" created="Wed, 2 Mar 2011 16:43:42 +0000"  >&lt;p&gt;Uploading patch.&lt;/p&gt;</comment>
                            <comment id="13001482" author="curtisr7" created="Wed, 2 Mar 2011 16:45:03 +0000"  >&lt;p&gt;Attaching a jar with the required change.&lt;/p&gt;</comment>
                            <comment id="13001631" author="curtisr7" created="Wed, 2 Mar 2011 20:58:50 +0000"  >&lt;p&gt;Fixed FieldMapping and DBDictionary to use defining metadata rather than declared metadata to get the version.&lt;/p&gt;</comment>
                            <comment id="13001632" author="curtisr7" created="Wed, 2 Mar 2011 20:59:19 +0000"  >&lt;p&gt;Committed revision 1076370 to trunk.&lt;/p&gt;</comment>
                            <comment id="13064658" author="curtisr7" created="Wed, 13 Jul 2011 17:11:23 +0100"  >&lt;p&gt;Closing resolved issues.&lt;/p&gt;</comment>
                            <comment id="13798337" author="jira-bot" created="Thu, 17 Oct 2013 20:56:09 +0100"  >&lt;p&gt;Commit 1533233 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jpaheath&quot; class=&quot;user-hover&quot; rel=&quot;jpaheath&quot;&gt;Heath Thomann&lt;/a&gt; in branch &apos;openjpa/branches/2.1.x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1533233&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1533233&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/OPENJPA-1954&quot; title=&quot;ArrayIndexOutOfBoundsException when querying on a version field that is in a MappedSuperclass&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OPENJPA-1954&quot;&gt;&lt;del&gt;OPENJPA-1954&lt;/del&gt;&lt;/a&gt;: ArrayIndexOutOfBoundsException when querying on a version field that is in a MappedSuperclass - back ported to 2.1.x Rick Curtis&apos;s commit to trunk.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12472434" name="openjpa-1954.jar" size="41259" author="curtisr7" created="Wed, 2 Mar 2011 16:45:03 +0000"/>
                            <attachment id="12472433" name="openjpa-1954.jar" size="41259" author="curtisr7" created="Wed, 2 Mar 2011 16:43:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 17 Oct 2013 19:56:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2374</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hysv7b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>202403</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>