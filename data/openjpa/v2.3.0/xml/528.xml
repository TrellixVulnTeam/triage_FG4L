<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:40:26 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/OPENJPA-528/OPENJPA-528.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[OPENJPA-528] FK columns which contain reserved workds are renamed incorrectly.</title>
                <link>https://issues.apache.org/jira/browse/OPENJPA-528</link>
                <project id="12310351" key="OPENJPA">OpenJPA</project>
                    <description>&lt;p&gt;The check for reserved words in FK column names happens before we append the _ID suffixes. As a result if a reserved word is found  we end up appending a number to the reserved word and then appending _ID. &lt;/p&gt;

&lt;p&gt;Whats worse is that the check for uniqueness also occurs before we append the _ID, which could lead to other problems down the road.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12389926">OPENJPA-528</key>
            <summary>FK columns which contain reserved workds are renamed incorrectly.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mikedd">Michael Dick</assignee>
                                    <reporter username="mikedd">Michael Dick</reporter>
                        <labels>
                    </labels>
                <created>Fri, 29 Feb 2008 22:09:19 +0000</created>
                <updated>Mon, 24 Mar 2008 15:13:12 +0000</updated>
                            <resolved>Mon, 24 Mar 2008 15:13:12 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12580516" author="techhusky" created="Wed, 19 Mar 2008 19:42:34 +0000"  >&lt;p&gt;The original fix provided by Michael has been enhanced to eliminate the problems encountered in the TCK.&lt;/p&gt;

&lt;p&gt;In short, when schema mapping occurs columns are inserted into a table object, including foreign key columns.  Then, when foreign keys are mapped into the same table the column name validator finds the column already exists and generates a new unique column with a numeric value appended.  This column is mapped to the foreign key.  Later, when the entity is persisted, the extra/incorrectly generated column name is not found in the database table.  The result is a SQLException.&lt;/p&gt;

&lt;p&gt;To eliminate this problem, a new method was added to the DBDictionary to enable/disable the column name uniqueness check.  The method to populate the foreign key column was changed to disable uniqueness checking - since the FK column is already in the table.  Thus, an extra/incorrect column does not get generated.&lt;/p&gt;

&lt;p&gt;A patch is provided as &lt;a href=&quot;https://issues.apache.org/jira/browse/OPENJPA-528&quot; title=&quot;FK columns which contain reserved workds are renamed incorrectly.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OPENJPA-528&quot;&gt;&lt;del&gt;OPENJPA-528&lt;/del&gt;&lt;/a&gt;.patch.  Please review by tomorrow morning (3/20/08).&lt;/p&gt;</comment>
                            <comment id="12580517" author="techhusky" created="Wed, 19 Mar 2008 19:47:52 +0000"  >&lt;p&gt;Attachment&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12378265" name="OPENJPA-528.patch" size="3642" author="techhusky" created="Wed, 19 Mar 2008 19:47:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 19 Mar 2008 19:42:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>160845</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyswrj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>202656</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>