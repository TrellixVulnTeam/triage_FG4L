<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:34:42 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/OPENJPA-2083/OPENJPA-2083.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[OPENJPA-2083] Unmapped fields silently treated as transient</title>
                <link>https://issues.apache.org/jira/browse/OPENJPA-2083</link>
                <project id="12310351" key="OPENJPA">OpenJPA</project>
                    <description>&lt;p&gt;The JPA 2.0 spec requires any non-static non-transient entity field to be persistent unless explicitly mapped as transient by a @Transient annotation or the equivalent XML.&lt;/p&gt;

&lt;p&gt;OpenJPA 2.1.1 silently treats some unmapped non-primitive fields as transient instead of throwing an exception or at least logging a warning.&lt;/p&gt;

&lt;p&gt;Example:&lt;/p&gt;

&lt;p&gt;@Entity&lt;br/&gt;
public class City &lt;/p&gt;
{

    @Id
    private String name;

    private Integer population;

    private java.util.concurrent.Executor executor;

    // getters and setters
}</description>
                <environment></environment>
        <key id="12533177">OPENJPA-2083</key>
            <summary>Unmapped fields silently treated as transient</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="drwoods">Donald Woods</assignee>
                                    <reporter username="hwellmann">Harald Wellmann</reporter>
                        <labels>
                    </labels>
                <created>Tue, 29 Nov 2011 19:26:18 +0000</created>
                <updated>Thu, 2 Feb 2012 17:19:53 +0000</updated>
                            <resolved>Tue, 3 Jan 2012 18:46:37 +0000</resolved>
                                    <version>2.1.1</version>
                                    <fixVersion>2.2.0</fixVersion>
                                    <component>jpa</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13159685" author="kwsutter" created="Wed, 30 Nov 2011 00:16:17 +0000"  >&lt;p&gt;FYI, the OpenJPA manual documents slightly different behavior:&lt;/p&gt;

&lt;p&gt;&quot;2.14.  Persistent Field Defaults&lt;/p&gt;

&lt;p&gt;In the absence of any of the annotations above, JPA defines the following default behavior for declared fields:&lt;/p&gt;

&lt;p&gt; o   Fields declared static, transient, or final default to non-persistent.&lt;/p&gt;

&lt;p&gt; o   Fields of any primitive type, primitive wrapper type, java.lang.String, byte[], Byte[], char[], Character[], java.math.BigDecimal, java.math.BigInteger, java.util.Date, java.util.Calendar, java.sql.Date, java.sql.Timestamp, or any Serializable type default to persistent, as if annotated with @Basic.&lt;/p&gt;

&lt;p&gt; o   Fields of an embeddable type default to persistent, as if annotated with @Embedded.&lt;/p&gt;

&lt;p&gt; o   All other fields default to non-persistent. &lt;/p&gt;

&lt;p&gt;Note that according to these defaults, all relations between entities must be annotated explicitly. Without an annotation, a relation field will default to serialized storage if the related entity type is serializable, or will default to being non-persistent if not.&quot;&lt;/p&gt;

&lt;p&gt;At least this explains the OpenJPA behavior.  But, now we have to resolve this behavior against the JPA spec-defined behavior...&lt;/p&gt;</comment>
                            <comment id="13161109" author="curtisr7" created="Thu, 1 Dec 2011 20:18:54 +0000"  >&lt;p&gt;Kevin / Harold -&lt;/p&gt;

&lt;p&gt;Thoughts on the correct &apos;fix&apos; for this issue? I&apos;m leaning toward a warning message...&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Rick&lt;/p&gt;</comment>
                            <comment id="13161704" author="kwsutter" created="Fri, 2 Dec 2011 16:10:41 +0000"  >&lt;p&gt;I think a warning message would be an excellent first step.  At least it would highlight to users that OpenJPA may not be doing the processing that you are expecting (or vice versa).  This could still potentially be raised as a spec violation, but that&apos;s splitting hairs in my opinion.  So, let&apos;s highlight the processing with a warning message and say we&apos;re done.&lt;/p&gt;</comment>
                            <comment id="13177739" author="jtnowosatka" created="Fri, 30 Dec 2011 19:54:05 +0000"  >&lt;p&gt;Patch adds a warning message when dealing with unmapped non-primitive fields stating that &quot;the fields are not default persistent and do not have any annotations. and will be treated as non-persistent. If they fields should be persistent, annotate them with the appropriately. Otherwise, mark them as transient.&quot;&lt;/p&gt;</comment>
                            <comment id="13178903" author="drwoods" created="Tue, 3 Jan 2012 18:46:38 +0000"  >&lt;p&gt;Committed revision 1226910.&lt;/p&gt;</comment>
                            <comment id="13199001" author="allee8285" created="Thu, 2 Feb 2012 17:19:53 +0000"  >&lt;p&gt;Close issue in preparation for 2.2.0 release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12508950" name="OPENJPA-2083.patch" size="1943" author="jtnowosatka" created="Fri, 30 Dec 2011 19:54:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 30 Nov 2011 00:16:17 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>218905</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hz7psf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>289148</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>