<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:30:56 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/OPENJPA-404/OPENJPA-404.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[OPENJPA-404] Backward-compatibility for pre-1.0 APIs</title>
                <link>https://issues.apache.org/jira/browse/OPENJPA-404</link>
                <project id="12310351" key="OPENJPA">OpenJPA</project>
                    <description>&lt;p&gt;When I changed the OpenJPA APIs before the 1.0 release, I made a number of incompatible changes. At the time, we deemed that this was fine since 1.0 was the first OpenJPA release. However, it turns out that this runs up against BEA policy, since BEA shipped a product using a build from around 0.9.7. So, we&apos;d like to do some work to address this where possible.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12380546">OPENJPA-404</key>
            <summary>Backward-compatibility for pre-1.0 APIs</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="pcl">Patrick Linskey</reporter>
                        <labels>
                    </labels>
                <created>Tue, 16 Oct 2007 17:40:19 +0100</created>
                <updated>Tue, 9 Mar 2010 18:32:40 +0000</updated>
                            <resolved>Fri, 19 Oct 2007 09:56:52 +0100</resolved>
                                    <version>1.0.0</version>
                                    <fixVersion>1.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12535300" author="pcl" created="Tue, 16 Oct 2007 17:57:37 +0100"  >&lt;p&gt;This patch introduces deprecated methods for most of the methods that were removed or modified in &lt;a href=&quot;https://issues.apache.org/jira/browse/OPENJPA-317&quot; title=&quot;API formalization pre-1.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OPENJPA-317&quot;&gt;&lt;del&gt;OPENJPA-317&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;It re-introduces symbolic constants that were removed, but does so by directly listing the symbolic constants to the appropriate and marking them as deprecated, instead of making the interfaces extend the symbolic-constant interfaces.&lt;/p&gt;

&lt;p&gt;OpenJPAEntityManager now extends EntityTransaction. Sadly, there is no language-enforced way to mark this as deprecated that I know of, so I&apos;ve noted the deprecation in the JavaDoc. &lt;/p&gt;

&lt;p&gt;The following thirteen methods changed only in their return type, so the old method signature could not be re-introduced. The - prefix denotes the pre-1.0 syntax; the + syntax denotes the 1.0-and-later syntax.&lt;/p&gt;

&lt;p&gt;OpenJPAEntityManager &lt;/p&gt;
{
-    public int getConnectionRetainMode();
+    public ConnectionRetainMode getConnectionRetainMode();
-    public int getRestoreState();
+    public RestoreStateType getRestoreState();
-    public int getDetachState();
+    public DetachStateType getDetachState();
-    public int getAutoClear();
+    public AutoClearType getAutoClear();
-    public int getAutoDetach();
+    public EnumSet&amp;lt;AutoDetachType&amp;gt; getAutoDetach();
}

&lt;p&gt;OpenJPAQuery &lt;/p&gt;
{
-    public int getOperation();
+    public QueryOperationType getOperation();
}

&lt;p&gt;JDBCFetchPlan &lt;/p&gt;
{
-    public int getEagerFetchMode();
+    public FetchMode getEagerFetchMode();
-    public int getSubclassFetchMode();
+    public FetchMode getSubclassFetchMode();
-    public int getResultSetType();
+    public ResultSetType getResultSetType();
-    public int getFetchDirection();
+    public FetchDirection getFetchDirection();
-    public int getJoinSyntax();
+    public JoinSyntax getJoinSyntax();
}

&lt;p&gt;EagerFetchMode &lt;/p&gt;
{
-    EagerFetchType value() default EagerFetchType.NONE;
+    FetchMode value() default FetchMode.NONE;
}&lt;br/&gt;
&lt;br/&gt;
SubclassFetchMode {
-    EagerFetchType value() default EagerFetchType.NONE;
+    FetchMode value() default FetchMode.NONE;
}</comment>
                            <comment id="12536313" author="mikedd" created="Fri, 19 Oct 2007 19:56:22 +0100"  >&lt;p&gt;Should these changes be migrated to the 1.0.x branch as well? I think we&apos;d want to keep the interfaces in sync. &lt;/p&gt;</comment>
                            <comment id="12536824" author="pcl" created="Mon, 22 Oct 2007 21:25:52 +0100"  >&lt;p&gt;Since the re-introduced APIs are used by 0% of 1.0.x users, I&apos;d say we should not bother the 1.0.x branch with the change. My call is generally to keep changes to maintenance branches to an absolute minimum (i.e., known bugfixes only).&lt;/p&gt;</comment>
                            <comment id="12536829" author="clr" created="Mon, 22 Oct 2007 21:51:38 +0100"  >&lt;p&gt;It might inform this discussion to understand what BEA policy has to say about fixing backward compatibility issues. &lt;/p&gt;

&lt;p&gt;Personally, I have no issue with this particular issue being fixed only in 1.1.x but it might be good to have OpenJPA policy in sync with BEA policy...&lt;/p&gt;</comment>
                            <comment id="12537047" author="pcl" created="Tue, 23 Oct 2007 16:45:04 +0100"  >&lt;p&gt;&amp;gt; It might inform this discussion to understand what BEA policy has to&lt;br/&gt;
&amp;gt; say about fixing backward compatibility issues.&lt;/p&gt;

&lt;p&gt;The next WebLogic release will ship with something cut from what is currently in trunk, so we (BEA) have no need for this to be in 1.0.x.&lt;/p&gt;

&lt;p&gt;&amp;gt; Personally, I have no issue with this particular issue being fixed only&lt;br/&gt;
&amp;gt; in 1.1.x but it might be good to have OpenJPA policy in sync with BEA policy...&lt;/p&gt;

&lt;p&gt;First, it&apos;s important to note that this problem is a special case, since OpenJPA went from pre-release (0.9.7) to release (1.0), and so we (OpenJPA) were in the initial state condition.&lt;/p&gt;

&lt;p&gt;I believe that it will be difficult in general to come up with a hard and fast policy for deprecation OpenJPA that is guaranteed to be compatible with BEA&apos;s policy. IIRC, BEA guarantees that a given API won&apos;t disappear within two major releases. Since the WebLogic release cycle is different than the OpenJPA release cycle, we can&apos;t write an OpenJPA policy that will guarantee that trunk is backward-compatible with whatever BEA released two release cycles earlier. (Well, unless we encoded a dependency on WebLogic release cycles in the OpenJPA policy, which seems like a bad idea.)&lt;/p&gt;

&lt;p&gt;I think that this is OK. If OpenJPA decides to break APIs in the future (presumably per our compatibility policy), then BEA may need to release off of an old line for some period of time. This is understood at BEA, and is just one of those things.&lt;/p&gt;

&lt;p&gt;Note that one of the goals of solidifying our APIs was to constrain things so that it&apos;s easy for people like us at BEA to reference a stable bounded set of OpenJPA APIs. So, I&apos;m hopeful that post-1.0 (i.e., now), we will be in a safer position moving forward.&lt;/p&gt;</comment>
                            <comment id="12537316" author="kwsutter" created="Wed, 24 Oct 2007 14:05:19 +0100"  >&lt;p&gt;FWIW, WebSphere&apos;s compatibility policy seems to be in synch with BEA&apos;s &amp;#8211; two major release cycle.  We also understand that attempting to keep OpenJPA in synch with WebSphere&apos;s release cycles will be a challenge.  But, as long as we (OpenJPA) are consistent with our release and compatibility strategy, then we should be able to meld with any other app server&apos;s release cycle (in one form or another).&lt;/p&gt;

&lt;p&gt;Kevin&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12376156">OPENJPA-317</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12367828" name="OPENJPA-404.patch" size="34314" author="pcl" created="Tue, 16 Oct 2007 17:57:37 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 19 Oct 2007 18:56:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>160726</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyszcv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>203076</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>