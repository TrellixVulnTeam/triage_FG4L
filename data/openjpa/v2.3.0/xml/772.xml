<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:39:52 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/OPENJPA-772/OPENJPA-772.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[OPENJPA-772] Proper maven pluginManagement and use ianal-maven-plugin for enforcing legal files</title>
                <link>https://issues.apache.org/jira/browse/OPENJPA-772</link>
                <project id="12310351" key="OPENJPA">OpenJPA</project>
                    <description>&lt;p&gt;Its fairly standard in apache projects to use the apache pom as the parent.  Among other things it specifies the apache snapshot repo as one of the repositories which will be needed until the 2.0 spec jar is finalized.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12408686">OPENJPA-772</key>
            <summary>Proper maven pluginManagement and use ianal-maven-plugin for enforcing legal files</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="djencks">David Jencks</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Nov 2008 22:10:50 +0000</created>
                <updated>Tue, 9 Mar 2010 18:31:02 +0000</updated>
                            <resolved>Tue, 3 Mar 2009 01:48:52 +0000</resolved>
                                    <version>1.0.4</version>
                    <version>1.1.1</version>
                    <version>1.2.1</version>
                    <version>1.3.0</version>
                    <version>2.0.0-M2</version>
                                    <fixVersion>1.0.4</fixVersion>
                    <fixVersion>1.1.1</fixVersion>
                    <fixVersion>1.2.1</fixVersion>
                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>2.0.0-M2</fixVersion>
                                    <component>build / infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12648378" author="djencks" created="Mon, 17 Nov 2008 22:13:29 +0000"  >&lt;p&gt;Patch sets parent pom and changes spec version to the 2.0 EA snapshot jar from geroniimo specs.&lt;/p&gt;</comment>
                            <comment id="12648428" author="djencks" created="Tue, 18 Nov 2008 00:22:56 +0000"  >&lt;p&gt;This patch uses the maven-remote-resources plugin to install LICENSE and NOTICE files into the individual jars and the IANAL plugin to make sure they get there.  I&apos;m having some trouble getting IDEA to see the aggregation directory: most likely it will be necessary to do something to get the hard coded LICENSE and NOTICE files into the distribution.&lt;/p&gt;

&lt;p&gt;I&apos;m surprised by the NOTICE file additions:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;OpenJPA includes software written by Miroslav Nachev&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;OpenJPA uses test code written by Charles Tillman.&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;Do these individuals really want these notices?&lt;/p&gt;

&lt;p&gt;I dont&apos; think this is accurate:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;OpenJPA is bundled with the binaries from the JPA specification, by&lt;br/&gt;
    Sun Microsystems and licensed under the CDDL 1.0. The source code is&lt;br/&gt;
    available at: &lt;a href=&quot;https://glassfish.dev.java.net/source/browse/glassfish/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://glassfish.dev.java.net/source/browse/glassfish/&lt;/a&gt;&lt;br/&gt;
AFAICT it only includes the schemas.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I think that projects are supposed to have a hardcoded LICENSE and NOTICE file at expected cleckout roots that are appropriate for whatever is actually in svn, not including anything that may be pulled in and included from elsewhere while assembling a distribution (such as serp). &lt;/p&gt;</comment>
                            <comment id="12668071" author="drwoods" created="Wed, 28 Jan 2009 16:52:43 +0000"  >&lt;p&gt;Updating title, as trunk is now using the apche-4.pom as the parent pom, but still uses the old NOTICE.txt and LICENSE.txt method for legal files and doesn&apos;t verify that they are in the produced artifacts via the ianal (I am not a lawyer) plugin.&lt;/p&gt;</comment>
                            <comment id="12668487" author="mikedd" created="Thu, 29 Jan 2009 14:44:44 +0000"  >&lt;p&gt;A couple (overdue) comments.&lt;/p&gt;

&lt;p&gt;The NOTICE file does seem out of date. I don&apos;t believe we have any dependency on Sun&apos;s copy of the APIs anymore. Regarding Miroslav and Charles I believe Craig had a discussion with legal and it was determined that we needed to keep them in the NOTICE file. They&apos;re listed as @author in a few source files. &lt;/p&gt;

&lt;p&gt;What does the ianal plugin do? If it dynamically produces the LICENSE, and NOTICE files I&apos;m all in favor of giving it a go. &lt;/p&gt;</comment>
                            <comment id="12668496" author="drwoods" created="Thu, 29 Jan 2009 15:17:39 +0000"  >&lt;p&gt;Splitting the original JIRA into 2, as there were several unrelated changes in the original patches, along with a couple of the original changes (like using the apache pom as the parent) already being incorporated into trunk.&lt;br/&gt;
This JIRA will focus on:&lt;br/&gt;
1) using maven pluginManagement to set common plugin versions in the parent pom, which will make it easier to maintain the child poms&lt;br/&gt;
2) adding missing groupId settings for some of the plugins in the poms&lt;br/&gt;
3) adding missing versions for some plugins.  where versions were missing, we&apos;ll go with the latest released artifacts.  this will help remove build surprises when new levels of plugins are released that include changed APIs or behavior and will make tagged releases easier to rebuild in the future&lt;br/&gt;
4) added the ianal plugin to automatically check generated artifacts (jar, war, ear, ...) for inclusion of required license and notice files&lt;/p&gt;</comment>
                            <comment id="12668497" author="drwoods" created="Thu, 29 Jan 2009 15:21:23 +0000"  >&lt;p&gt;Patch for trunk (rev738602) which addresses the pluginManagement updates, missing groupId on plugins and pulls in the ianal plugin.&lt;/p&gt;</comment>
                            <comment id="12668498" author="drwoods" created="Thu, 29 Jan 2009 15:22:43 +0000"  >&lt;p&gt;Same attachment as before, but with corrected filename....&lt;/p&gt;</comment>
                            <comment id="12668513" author="drwoods" created="Thu, 29 Jan 2009 16:48:06 +0000"  >&lt;p&gt;Updates for branches/1.2.x at Rev738888&lt;/p&gt;</comment>
                            <comment id="12668549" author="djencks" created="Thu, 29 Jan 2009 18:43:31 +0000"  >&lt;p&gt;Michael &amp;#8211;&lt;/p&gt;

&lt;p&gt;The maven-remote-resources plugin basically gets the LICENSE and NOTICE files from a common location (&quot;resource-bundle&quot;).  You can add more stuff to particular (sub) projects easily.&lt;/p&gt;

&lt;p&gt;The ianal plugin checks that the maven-remote-resources plugin did its job &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; and that there actually are LICENSE and NOTICE files in all the generated artifacts including source and javadoc jars.  It seems to be pretty easy to misconfigure the m-r-r-p so that source and/or javadoc jars are missing the legal goo and the ianal plugin really cuts down on the number of release attempts you need to make as you gradually discovery these by looking at each one manually &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12668618" author="drwoods" created="Thu, 29 Jan 2009 21:45:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/OPENJPA-880&quot; title=&quot;Use maven-remote-resources-plugin to generate required legal files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OPENJPA-880&quot;&gt;&lt;del&gt;OPENJPA-880&lt;/del&gt;&lt;/a&gt; will be used for the maven-remote-resources-plugin updates, since we&apos;ll probably only want to target trunk for those changes.&lt;/p&gt;</comment>
                            <comment id="12668643" author="drwoods" created="Thu, 29 Jan 2009 22:28:16 +0000"  >&lt;p&gt;Updated patches for 1.2.x and trunk, to remove upgrade of Geronimo Spec files (will open a separate JIRA for that.)&lt;br/&gt;
Attached patch for branches/1.0.x.&lt;/p&gt;</comment>
                            <comment id="12668956" author="drwoods" created="Fri, 30 Jan 2009 18:06:31 +0000"  >&lt;p&gt;Patch for branches/1.3.x at Rev738952.&lt;/p&gt;</comment>
                            <comment id="12669034" author="drwoods" created="Fri, 30 Jan 2009 21:28:41 +0000"  >&lt;p&gt;Updated patched against latest svn content.&lt;/p&gt;</comment>
                            <comment id="12669035" author="drwoods" created="Fri, 30 Jan 2009 21:29:34 +0000"  >&lt;p&gt;Updated patches against latest svn code.&lt;/p&gt;</comment>
                            <comment id="12669036" author="drwoods" created="Fri, 30 Jan 2009 21:31:21 +0000"  >&lt;p&gt;Unassigning from me, so a committer can review the patches.&lt;/p&gt;</comment>
                            <comment id="12670342" author="mikedd" created="Wed, 4 Feb 2009 15:15:04 +0000"  >&lt;p&gt;I&apos;ve committed Donald&apos;s changes to 1.0.x,1.2.x,1.3.x,and trunk. I believe the changes are safe for 1.1.x as well, but I&apos;ll leave that decision up to the branch maintainers (Patrick and Abe). &lt;/p&gt;

&lt;p&gt;Thanks again for the patch Donald.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12413547">OPENJPA-880</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12408693">OPENJPA-773</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12394113" name="OPENJPA-772-2.patch" size="25859" author="djencks" created="Tue, 18 Nov 2008 00:22:56 +0000"/>
                            <attachment id="12399161" name="OPENJPA-772-branches10x.patch" size="20106" author="drwoods" created="Fri, 30 Jan 2009 21:28:40 +0000"/>
                            <attachment id="12399162" name="OPENJPA-772-branches11x.patch" size="16622" author="drwoods" created="Fri, 30 Jan 2009 21:28:41 +0000"/>
                            <attachment id="12399163" name="OPENJPA-772-branches12x.patch" size="16170" author="drwoods" created="Fri, 30 Jan 2009 21:28:41 +0000"/>
                            <attachment id="12399164" name="OPENJPA-772-branches13x.patch" size="20034" author="drwoods" created="Fri, 30 Jan 2009 21:29:34 +0000"/>
                            <attachment id="12399165" name="OPENJPA-772-trunk.patch" size="15396" author="drwoods" created="Fri, 30 Jan 2009 21:29:34 +0000"/>
                            <attachment id="12394106" name="OPENJPA-772.patch" size="2574" author="djencks" created="Mon, 17 Nov 2008 22:13:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 28 Jan 2009 16:52:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>161078</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hysx2f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>202705</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>