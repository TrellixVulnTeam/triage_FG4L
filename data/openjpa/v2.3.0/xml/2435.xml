<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:33:37 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/OPENJPA-2435/OPENJPA-2435.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[OPENJPA-2435] Version field in a projection always returned as an Integer.</title>
                <link>https://issues.apache.org/jira/browse/OPENJPA-2435</link>
                <project id="12310351" key="OPENJPA">OpenJPA</project>
                    <description>&lt;p&gt;I&apos;ve recreated an issue where a @Version field is returned as an Integer when the field is defined as a Long or Short.  To explain, lets take this entity:&lt;/p&gt;

&lt;p&gt;@Entity&lt;br/&gt;
public class LongVersionEntity implements Serializable {&lt;br/&gt;
.......&lt;br/&gt;
    @Version&lt;br/&gt;
    protected Long version;&lt;br/&gt;
.......&lt;/p&gt;

&lt;p&gt;With this entity take the following query:&lt;/p&gt;

&lt;p&gt;String str = &quot;SELECT o.id, o.version FROM LongVersionEntity o&quot;;&lt;br/&gt;
Query query = em.createQuery(str);&lt;br/&gt;
List&amp;lt;Object[]&amp;gt; objectList = query.getResultList();&lt;br/&gt;
for (Object[] objects : objectList) {&lt;br/&gt;
    objects&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;.getClass() //Will return Integer.&lt;/p&gt;

&lt;p&gt;Notice in this query we are selecting the version field.  When iterating over the results, we will find that objects&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;.getClass() will return Integer, rather than Long.  The same seems to be true for the other supported types, except for Timestamp.&lt;br/&gt;
I will provide a full test in the next day or so.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Heath&lt;/p&gt;</description>
                <environment></environment>
        <key id="12672937">OPENJPA-2435</key>
            <summary>Version field in a projection always returned as an Integer.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jpaheath">Heath Thomann</assignee>
                                    <reporter username="jpaheath">Heath Thomann</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Oct 2013 02:02:08 +0100</created>
                <updated>Fri, 18 Oct 2013 16:07:22 +0100</updated>
                            <resolved>Fri, 18 Oct 2013 16:07:22 +0100</resolved>
                                    <version>2.1.0</version>
                    <version>2.2.2</version>
                    <version>2.2.1.1</version>
                    <version>2.3.0</version>
                                    <fixVersion>2.1.2</fixVersion>
                    <fixVersion>2.2.1.1</fixVersion>
                    <fixVersion>2.2.3</fixVersion>
                    <fixVersion>2.3.0</fixVersion>
                                    <component>jdbc</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13798562" author="jira-bot" created="Fri, 18 Oct 2013 00:00:39 +0100"  >&lt;p&gt;Commit 1533280 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jpaheath&quot; class=&quot;user-hover&quot; rel=&quot;jpaheath&quot;&gt;Heath Thomann&lt;/a&gt; in branch &apos;openjpa/branches/2.1.x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1533280&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1533280&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/OPENJPA-2435&quot; title=&quot;Version field in a projection always returned as an Integer.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OPENJPA-2435&quot;&gt;&lt;del&gt;OPENJPA-2435&lt;/del&gt;&lt;/a&gt;: Version field in a projection always returned as an Integer.&lt;/p&gt;</comment>
                            <comment id="13798565" author="jira-bot" created="Fri, 18 Oct 2013 00:02:59 +0100"  >&lt;p&gt;Commit 1533281 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jpaheath&quot; class=&quot;user-hover&quot; rel=&quot;jpaheath&quot;&gt;Heath Thomann&lt;/a&gt; in branch &apos;openjpa/branches/2.2.1.x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1533281&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1533281&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/OPENJPA-2435&quot; title=&quot;Version field in a projection always returned as an Integer.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OPENJPA-2435&quot;&gt;&lt;del&gt;OPENJPA-2435&lt;/del&gt;&lt;/a&gt;: Version field in a projection always returned as an Integer.  Merged 2.1.x changes to 2.2.1.x.&lt;/p&gt;</comment>
                            <comment id="13798584" author="jira-bot" created="Fri, 18 Oct 2013 00:17:31 +0100"  >&lt;p&gt;Commit 1533287 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jpaheath&quot; class=&quot;user-hover&quot; rel=&quot;jpaheath&quot;&gt;Heath Thomann&lt;/a&gt; in branch &apos;openjpa/branches/2.2.x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1533287&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1533287&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/OPENJPA-2435&quot; title=&quot;Version field in a projection always returned as an Integer.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OPENJPA-2435&quot;&gt;&lt;del&gt;OPENJPA-2435&lt;/del&gt;&lt;/a&gt;: Version field in a projection always returned as an Integer.  Merged 2.1.x changes to 2.2.x.&lt;/p&gt;</comment>
                            <comment id="13798589" author="jira-bot" created="Fri, 18 Oct 2013 00:22:41 +0100"  >&lt;p&gt;Commit 1533288 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jpaheath&quot; class=&quot;user-hover&quot; rel=&quot;jpaheath&quot;&gt;Heath Thomann&lt;/a&gt; in branch &apos;openjpa/branches/2.3.x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1533288&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1533288&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/OPENJPA-2435&quot; title=&quot;Version field in a projection always returned as an Integer.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OPENJPA-2435&quot;&gt;&lt;del&gt;OPENJPA-2435&lt;/del&gt;&lt;/a&gt;: Version field in a projection always returned as an Integer.  Merged 2.1.x changes to 2.3.x.&lt;/p&gt;</comment>
                            <comment id="13798596" author="jira-bot" created="Fri, 18 Oct 2013 00:28:32 +0100"  >&lt;p&gt;Commit 1533289 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jpaheath&quot; class=&quot;user-hover&quot; rel=&quot;jpaheath&quot;&gt;Heath Thomann&lt;/a&gt; in branch &apos;openjpa/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1533289&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1533289&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/OPENJPA-2435&quot; title=&quot;Version field in a projection always returned as an Integer.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OPENJPA-2435&quot;&gt;&lt;del&gt;OPENJPA-2435&lt;/del&gt;&lt;/a&gt;: Version field in a projection always returned as an Integer.  Merged 2.1.x changes to trunk.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 17 Oct 2013 23:00:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>352560</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzimo7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>352847</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>