<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:46:00 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/OPENJPA-1180/OPENJPA-1180.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[OPENJPA-1180] Query Parameter processing in JPA 2.0</title>
                <link>https://issues.apache.org/jira/browse/OPENJPA-1180</link>
                <project id="12310351" key="OPENJPA">OpenJPA</project>
                    <description>&lt;p&gt;JPA 2.0 has defined new APIs for Query parameter processing as well as new Parameter&amp;lt;T&amp;gt; and ParameterExpression&amp;lt;T&amp;gt; interface.&lt;br/&gt;
OpenJPA, so far, did not abstract or distinguish query parameters with an explicit type definition, and only maintained  parameter values in Map or array. &lt;/p&gt;

&lt;p&gt;To support JPA 2.0, parameter processing in OpenJPA will undergo following changes (which may impact other parts of the code)&lt;/p&gt;

&lt;p&gt;This task will&lt;br/&gt;
a) introduce an explicit QueryParameter interface&lt;br/&gt;
b) provide implementation of the same for query and CriteriaQuery. &lt;/p&gt;

&lt;p&gt;Having an explicit Parameter instance moves the value of the parameter as an attribute of the parameter itself and hence the Map&amp;lt;key,value&amp;gt; that a query maintained for holding the parameters will now change from Map&amp;lt;String,Object&amp;gt; to Map&amp;lt;String,QueryParameter&amp;gt;. To make the callers oblivious of this data structural change (as they expect to receive a Map&amp;lt;String,Object&amp;gt; where values are Parameter values rather than the Parameter instances themselves), new methods will appear in facade QueryImpl.   &lt;/p&gt;

&lt;p&gt;CriteriaQuery poses another aspect to query parameter processing. The parameters used in CriteriaQuery is modeled as Expression and created by QueryBuilder factory. However, the parameters used in a CriteriaQuery c must be registered to the executable Query instance  q, because the parameter values can only be set via methods on q. This registration requires that the expression tree of c be walked to detect all its parameters when q is constructed of c. This aspect requires a change in the flow of control in the initial architecture of CriteriaQuery implementation. &lt;br/&gt;
Care must be taken to ensure that the CriteriaQuery expression tree is not walked twice (once merely to detect the parameters and once to form the executable query expression for the data store). &lt;/p&gt;

&lt;p&gt;Also parameters of CriteriaQuery &lt;b&gt;may not&lt;/b&gt; be explicitly named (positional parameters are not permitted by spec for CriteriaQuery anyway). The unnamed parameter requires the implementation to auto-assign a name to the parameter because the maps that contain these parameters require a non-null key. &lt;/p&gt;



</description>
                <environment></environment>
        <key id="12430789">OPENJPA-1180</key>
            <summary>Query Parameter processing in JPA 2.0</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ppoddar@apache.org">Pinaki Poddar</assignee>
                                    <reporter username="ppoddar@apache.org">Pinaki Poddar</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 Jul 2009 16:54:10 +0100</created>
                <updated>Tue, 22 Sep 2009 20:18:33 +0100</updated>
                            <resolved>Thu, 27 Aug 2009 17:58:06 +0100</resolved>
                                                    <fixVersion>2.0.0-M3</fixVersion>
                                    <component>jpa</component>
                    <component>query</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <timeoriginalestimate seconds="432000">120h</timeoriginalestimate>
                            <timeestimate seconds="432000">120h</timeestimate>
                                            <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12429298">OPENJPA-1152</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>161459</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyt2uv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>203643</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>