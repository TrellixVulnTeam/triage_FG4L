<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:39:55 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/OPENJPA-75/OPENJPA-75.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[OPENJPA-75] error message for missing query id var needs improvement</title>
                <link>https://issues.apache.org/jira/browse/OPENJPA-75</link>
                <project id="12310351" key="OPENJPA">OpenJPA</project>
                    <description>&lt;p&gt;the query is &lt;br/&gt;
select sum(loginCount), sum(logoutCount) from AccountEntity as a where a.accountProfile.userID like &apos;uid:%&apos; &lt;br/&gt;
loginCount and logoutCount are declared in a MappedSuperClass.&lt;br/&gt;
the correct query is &lt;br/&gt;
select sum(a.loginCount), sum(a.logoutCount) from AccountEntity as a where a.accountProfile.userID like &apos;uid:%&apos; &lt;/p&gt;

&lt;p&gt;Rather than a syntax error, a ArgumentException was thrown.  (see below)&lt;/p&gt;

&lt;p&gt;Also the user would like to see a better error message in the case of a field name using wrong upper/lower case.&lt;br/&gt;
In other words, if the query was &lt;br/&gt;
    where  a.userid = ...&lt;br/&gt;
and what he intended was &lt;br/&gt;
   where a.userId = ...&lt;br/&gt;
then the message should say  &quot; userid undefined.  DId you mean userId? &quot;&lt;/p&gt;

&lt;p&gt;Also if a state field is inherited but declared private and hence not visible, then error message should read &lt;br/&gt;
  &quot;a.userId invalid because it is not visible&quot; rather than &quot;a.userId not defined&quot;.&lt;/p&gt;

&lt;p&gt;  &amp;lt;4|false|0.9.0-incubating-SNAPSHOT&amp;gt; org.apache.openjpa.persistence.ArgumentException: null&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;11/3/06 12:47:04:734 CST&amp;#93;&lt;/span&gt; 0000003c SystemOut     O &amp;lt;4|false|0.9.0-incubating-SNAPSHOT&amp;gt; org.apache.openjpa.persistence.ArgumentException: null&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;11/3/06 12:47:04:734 CST&amp;#93;&lt;/span&gt; 0000003c SystemOut     O 	at org.apache.openjpa.kernel.QueryImpl.execute(QueryImpl.java:755)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;11/3/06 12:47:04:734 CST&amp;#93;&lt;/span&gt; 0000003c SystemOut     O 	at org.apache.openjpa.kernel.QueryImpl.execute(QueryImpl.java:716)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;11/3/06 12:47:04:734 CST&amp;#93;&lt;/span&gt; 0000003c SystemOut     O 	at org.apache.openjpa.kernel.QueryImpl.execute(QueryImpl.java:712)&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;11/3/06 12:47:04:734 CST&amp;#93;&lt;/span&gt; 0000003c SystemOut     O 	at org.apache.openjpa.kernel.DelegatingQuery.execute(DelegatingQuery.java:512)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;11/3/06 12:47:04:734 CST&amp;#93;&lt;/span&gt; 0000003c SystemOut     O 	at org.apache.openjpa.persistence.QueryImpl.execute(QueryImpl.java:216)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;11/3/06 12:47:04:734 CST&amp;#93;&lt;/span&gt; 0000003c SystemOut     O 	at org.apache.openjpa.persistence.QueryImpl.getSingleResult(QueryImpl.java:271)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;11/3/06 12:47:04:734 CST&amp;#93;&lt;/span&gt; 0000003c SystemOut     O 	at org.apache.geronimo.samples.daytrader.ejb3.TradeJPA.resetTrade(TradeJPA.java:1864)&lt;/p&gt;

&lt;p&gt;while running a JPA query.  The code for it looks like the following:&lt;br/&gt;
	q = em.createQuery(&quot;select sum(loginCount), sum(logoutCount) from AccountEntity as a where a.accountProfile.userID like &apos;uid:%&apos;&quot;);&lt;br/&gt;
	Object[] rs = (Object[]) q.getSingleResult();&lt;/p&gt;</description>
                <environment></environment>
        <key id="12354865">OPENJPA-75</key>
            <summary>error message for missing query id var needs improvement</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ppoddar@apache.org">Pinaki Poddar</assignee>
                                    <reporter username="wisneskid">David Wisneski</reporter>
                        <labels>
                    </labels>
                <created>Mon, 6 Nov 2006 19:18:52 +0000</created>
                <updated>Thu, 22 Apr 2010 21:32:26 +0100</updated>
                            <resolved>Fri, 1 Aug 2008 21:05:52 +0100</resolved>
                                                    <fixVersion>1.3.0</fixVersion>
                                    <component>query</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12447510" author="mprudhom" created="Mon, 6 Nov 2006 19:33:39 +0000"  >&lt;p&gt;That sounds like a very good idea. We already do something along those lines for unrecognized configuration property names (see ConfigurationImpl.warnInvalidProperty and StringDistance.getClosestLevenshteinDistance), so that sort of thing could be used also for unrecognized variable/field names in queries.&lt;/p&gt;</comment>
                            <comment id="12619113" author="ppoddar@apache.org" created="Fri, 1 Aug 2008 21:05:52 +0100"  >&lt;p&gt;Committed revision 681807.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 6 Nov 2006 19:33:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>160412</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hz7jlb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>288144</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>