<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:34:11 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/OPENJPA-526/OPENJPA-526.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[OPENJPA-526] Insert text more than 4K bytes to Clob column causes SQLException: Exhausted Resultset</title>
                <link>https://issues.apache.org/jira/browse/OPENJPA-526</link>
                <project id="12310351" key="OPENJPA">OpenJPA</project>
                    <description>&lt;p&gt;Here&apos;s the persistence class:&lt;br/&gt;
public class Exam... &lt;/p&gt;
{
    @Lob
    @Column(name = &quot;text&quot;, nullable = false) ***** NOTE: set nullable = true will fix the problem but it leads to bug OPENJPA-525 *****
    private String text;
}

&lt;p&gt;Here are the differences with nullable = true:&lt;br/&gt;
INSERT INTO exam (id, text) VALUES (?, ?) &lt;span class=&quot;error&quot;&gt;&amp;#91;params=(long) 1, (Clob) oracle.sql.CLOB@d402dd&amp;#93;&lt;/span&gt;&lt;br/&gt;
SELECT t0.text FROM exam t0 WHERE t0.id = ? FOR UPDATE &lt;span class=&quot;error&quot;&gt;&amp;#91;params=(long) 1&amp;#93;&lt;/span&gt;&lt;br/&gt;
With nullable = false:&lt;br/&gt;
INSERT INTO exam (id, text) VALUES (?, ?) &lt;span class=&quot;error&quot;&gt;&amp;#91;params=(long) 1, (Reader) java.io.StringReader@1603522&amp;#93;&lt;/span&gt;&lt;br/&gt;
SELECT t0.text FROM exam t0 WHERE t0.id = ? FOR UPDATE &lt;span class=&quot;error&quot;&gt;&amp;#91;params=(long) 1&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;code=1400, state=23000&amp;#93;&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;Here&apos;s the full stack trace:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2008-02-27 10:43:51,232&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.openjpa.lib.log.Log4JLogFactory$LogAdapter:72&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;DEBUG&amp;#93;&lt;/span&gt; &amp;lt;t 11050211, conn 32112901&amp;gt; executing prepstmnt 15029693 INSERT INTO exam (id, last_updated_by, comments, sustained_on, text, version, course_id, professor_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?) &lt;span class=&quot;error&quot;&gt;&amp;#91;params=(long) 11, (String) test, (null) null, (Date) 2008-02-27, (Reader) java.io.StringReader@da9ea4, (int) 1, (long) 1, (long) 8&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2008-02-27 10:43:51,248&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.openjpa.lib.log.Log4JLogFactory$LogAdapter:72&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;DEBUG&amp;#93;&lt;/span&gt; &amp;lt;t 11050211, conn 32112901&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;16 ms&amp;#93;&lt;/span&gt; spent&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2008-02-27 10:43:51,248&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.openjpa.lib.log.Log4JLogFactory$LogAdapter:72&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;DEBUG&amp;#93;&lt;/span&gt; &amp;lt;t 11050211, conn 32112901&amp;gt; executing prepstmnt 24422114 SELECT t0.text FROM exam t0 WHERE t0.id = ? FOR UPDATE &lt;span class=&quot;error&quot;&gt;&amp;#91;params=(long) 11&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2008-02-27 10:43:51,279&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.openjpa.lib.log.Log4JLogFactory$LogAdapter:72&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;DEBUG&amp;#93;&lt;/span&gt; &amp;lt;t 11050211, conn 32112901&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;31 ms&amp;#93;&lt;/span&gt; spent&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2008-02-27 10:43:51,279&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.openjpa.lib.log.Log4JLogFactory$LogAdapter:76&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;DEBUG&amp;#93;&lt;/span&gt; An exception occurred while ending the transaction.  This exception will be re-thrown.&lt;br/&gt;
&amp;lt;openjpa-1.0.2-r420667:627158 fatal store error&amp;gt; org.apache.openjpa.util.StoreException: The transaction has been rolled back.  See the nested exceptions for details on the errors that occurred.&lt;br/&gt;
	at org.apache.openjpa.kernel.BrokerImpl.newFlushException(BrokerImpl.java:2108)&lt;br/&gt;
	at org.apache.openjpa.kernel.BrokerImpl.flush(BrokerImpl.java:1955)&lt;br/&gt;
	at org.apache.openjpa.kernel.BrokerImpl.flushSafe(BrokerImpl.java:1853)&lt;br/&gt;
	at org.apache.openjpa.kernel.BrokerImpl.beforeCompletion(BrokerImpl.java:1771)&lt;br/&gt;
	at org.apache.openjpa.kernel.LocalManagedRuntime.commit(LocalManagedRuntime.java:81)&lt;br/&gt;
	at org.apache.openjpa.kernel.BrokerImpl.commit(BrokerImpl.java:1293)&lt;br/&gt;
	at org.apache.openjpa.kernel.DelegatingBroker.commit(DelegatingBroker.java:861)&lt;br/&gt;
	at org.apache.openjpa.persistence.EntityManagerImpl.commit(EntityManagerImpl.java:408)&lt;br/&gt;
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:438)&lt;br/&gt;
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:662)&lt;br/&gt;
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:632)&lt;br/&gt;
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:319)&lt;br/&gt;
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:116)&lt;br/&gt;
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)&lt;br/&gt;
	at org.springframework.aop.framework.Cglib2AopProxy$DynamicAdvisedInterceptor.intercept(Cglib2AopProxy.java:631)&lt;br/&gt;
	at com.intellapps.university.service.impl.ServiceDahImpl$$EnhancerByCGLIB$$81ecf35d.insertExam(&amp;lt;generated&amp;gt;)&lt;br/&gt;
	at com.intellapps.university.service.impl.ServiceImpl.insertExam(ServiceImpl.java:98)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:585)&lt;br/&gt;
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:301)&lt;br/&gt;
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:182)&lt;br/&gt;
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:149)&lt;br/&gt;
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:106)&lt;br/&gt;
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)&lt;br/&gt;
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)&lt;br/&gt;
	at $Proxy17.insertExam(Unknown Source)&lt;br/&gt;
	at com.intellapps.university.app.Main.testInsertExamWithLongText(Main.java:103)&lt;br/&gt;
	at com.intellapps.university.app.Main.main(Main.java:203)&lt;br/&gt;
Caused by: &amp;lt;openjpa-1.0.2-r420667:627158 nonfatal store error&amp;gt; org.apache.openjpa.util.StoreException: Exhausted Resultset&lt;br/&gt;
	at org.apache.openjpa.jdbc.sql.DBDictionary.newStoreException(DBDictionary.java:3946)&lt;br/&gt;
	at org.apache.openjpa.jdbc.sql.SQLExceptions.getStore(SQLExceptions.java:97)&lt;br/&gt;
	at org.apache.openjpa.jdbc.sql.SQLExceptions.getStore(SQLExceptions.java:83)&lt;br/&gt;
	at org.apache.openjpa.jdbc.sql.SQLExceptions.getStore(SQLExceptions.java:59)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.AbstractUpdateManager.flush(AbstractUpdateManager.java:96)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.AbstractUpdateManager.flush(AbstractUpdateManager.java:72)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.JDBCStoreManager.flush(JDBCStoreManager.java:514)&lt;br/&gt;
	at org.apache.openjpa.kernel.DelegatingStoreManager.flush(DelegatingStoreManager.java:130)&lt;br/&gt;
	... 29 more&lt;br/&gt;
Caused by: java.sql.SQLException: Exhausted Resultset&lt;br/&gt;
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)&lt;br/&gt;
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)&lt;br/&gt;
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:208)&lt;br/&gt;
	at oracle.jdbc.driver.ScrollableResultSet.getOracleObject(ScrollableResultSet.java:510)&lt;br/&gt;
	at oracle.jdbc.driver.ScrollableResultSet.getCLOB(ScrollableResultSet.java:1446)&lt;br/&gt;
	at oracle.jdbc.driver.UpdatableResultSet.getCLOB(UpdatableResultSet.java:1639)&lt;br/&gt;
	at oracle.jdbc.driver.UpdatableResultSet.getClob(UpdatableResultSet.java:982)&lt;br/&gt;
	at org.apache.commons.dbcp.DelegatingResultSet.getClob(DelegatingResultSet.java:515)&lt;br/&gt;
	at org.apache.openjpa.lib.jdbc.DelegatingResultSet.getClob(DelegatingResultSet.java:576)&lt;br/&gt;
	at org.apache.openjpa.jdbc.meta.strats.MaxEmbeddedClobFieldStrategy.putData(MaxEmbeddedClobFieldStrategy.java:69)&lt;br/&gt;
	at org.apache.openjpa.jdbc.meta.strats.MaxEmbeddedLobFieldStrategy.customUpdate(MaxEmbeddedLobFieldStrategy.java:162)&lt;br/&gt;
	at org.apache.openjpa.jdbc.meta.strats.MaxEmbeddedLobFieldStrategy.customInsert(MaxEmbeddedLobFieldStrategy.java:140)&lt;br/&gt;
	at org.apache.openjpa.jdbc.meta.FieldMapping.customInsert(FieldMapping.java:684)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.AbstractUpdateManager$CustomMapping.execute(AbstractUpdateManager.java:358)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.AbstractUpdateManager.flush(AbstractUpdateManager.java:94)&lt;br/&gt;
	... 32 more&lt;br/&gt;
NestedThrowables:&lt;br/&gt;
&amp;lt;openjpa-1.0.2-r420667:627158 nonfatal store error&amp;gt; org.apache.openjpa.util.ReferentialIntegrityException: ORA-01400: cannot insert NULL into (&quot;TEST&quot;.&quot;EXAM&quot;.&quot;TEXT&quot;)&lt;br/&gt;
 &lt;/p&gt;
{prepstmnt 15029693 INSERT INTO exam (id, last_updated_by, comments, sustained_on, text, version, course_id, professor_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?) [params=(long) 11, (String) test, (null) null, (Date) 2008-02-27, (Reader) java.io.StringReader@da9ea4, (int) 1, (long) 1, (long) 8]} &lt;span class=&quot;error&quot;&gt;&amp;#91;code=1400, state=23000&amp;#93;&lt;/span&gt;&lt;br/&gt;
FailedObject: com.intellapps.university.core.model.Exam@1417690&lt;br/&gt;
	at org.apache.openjpa.jdbc.sql.DBDictionary.newStoreException(DBDictionary.java:3944)&lt;br/&gt;
	at org.apache.openjpa.jdbc.sql.SQLExceptions.getStore(SQLExceptions.java:97)&lt;br/&gt;
	at org.apache.openjpa.jdbc.sql.SQLExceptions.getStore(SQLExceptions.java:67)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.PreparedStatementManagerImpl.flushInternal(PreparedStatementManagerImpl.java:108)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.PreparedStatementManagerImpl.flush(PreparedStatementManagerImpl.java:73)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.OperationOrderUpdateManager.flushPrimaryRow(OperationOrderUpdateManager.java:203)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.OperationOrderUpdateManager.flush(OperationOrderUpdateManager.java:89)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.AbstractUpdateManager.flush(AbstractUpdateManager.java:89)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.AbstractUpdateManager.flush(AbstractUpdateManager.java:72)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.JDBCStoreManager.flush(JDBCStoreManager.java:514)&lt;br/&gt;
	at org.apache.openjpa.kernel.DelegatingStoreManager.flush(DelegatingStoreManager.java:130)&lt;br/&gt;
	at org.apache.openjpa.kernel.BrokerImpl.flush(BrokerImpl.java:1955)&lt;br/&gt;
	at org.apache.openjpa.kernel.BrokerImpl.flushSafe(BrokerImpl.java:1853)&lt;br/&gt;
	at org.apache.openjpa.kernel.BrokerImpl.beforeCompletion(BrokerImpl.java:1771)&lt;br/&gt;
	at org.apache.openjpa.kernel.LocalManagedRuntime.commit(LocalManagedRuntime.java:81)&lt;br/&gt;
	at org.apache.openjpa.kernel.BrokerImpl.commit(BrokerImpl.java:1293)&lt;br/&gt;
	at org.apache.openjpa.kernel.DelegatingBroker.commit(DelegatingBroker.java:861)&lt;br/&gt;
	at org.apache.openjpa.persistence.EntityManagerImpl.commit(EntityManagerImpl.java:408)&lt;br/&gt;
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:438)&lt;br/&gt;
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:662)&lt;br/&gt;
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:632)&lt;br/&gt;
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:319)&lt;br/&gt;
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:116)&lt;br/&gt;
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)&lt;br/&gt;
	at org.springframework.aop.framework.Cglib2AopProxy$DynamicAdvisedInterceptor.intercept(Cglib2AopProxy.java:631)&lt;br/&gt;
	at com.intellapps.university.service.impl.ServiceDahImpl$$EnhancerByCGLIB$$81ecf35d.insertExam(&amp;lt;generated&amp;gt;)&lt;br/&gt;
	at com.intellapps.university.service.impl.ServiceImpl.insertExam(ServiceImpl.java:98)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:585)&lt;br/&gt;
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:301)&lt;br/&gt;
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:182)&lt;br/&gt;
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:149)&lt;br/&gt;
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:106)&lt;br/&gt;
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)&lt;br/&gt;
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)&lt;br/&gt;
	at $Proxy17.insertExam(Unknown Source)&lt;br/&gt;
	at com.intellapps.university.app.Main.testInsertExamWithLongText(Main.java:103)&lt;br/&gt;
	at com.intellapps.university.app.Main.main(Main.java:203)&lt;br/&gt;
Caused by: org.apache.openjpa.lib.jdbc.ReportingSQLException: ORA-01400: cannot insert NULL into (&quot;TEST&quot;.&quot;EXAM&quot;.&quot;TEXT&quot;)&lt;br/&gt;
 {prepstmnt 15029693 INSERT INTO exam (id, last_updated_by, comments, sustained_on, text, version, course_id, professor_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?) [params=(long) 11, (String) test, (null) null, (Date) 2008-02-27, (Reader) java.io.StringReader@da9ea4, (int) 1, (long) 1, (long) 8]}
&lt;p&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;code=1400, state=23000&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.openjpa.lib.jdbc.LoggingConnectionDecorator.wrap(LoggingConnectionDecorator.java:192)&lt;br/&gt;
	at org.apache.openjpa.lib.jdbc.LoggingConnectionDecorator.access$800(LoggingConnectionDecorator.java:57)&lt;br/&gt;
	at org.apache.openjpa.lib.jdbc.LoggingConnectionDecorator$LoggingConnection$LoggingPreparedStatement.executeUpdate(LoggingConnectionDecorator.java:858)&lt;br/&gt;
	at org.apache.openjpa.lib.jdbc.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:269)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.JDBCStoreManager$CancelPreparedStatement.executeUpdate(JDBCStoreManager.java:1363)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.PreparedStatementManagerImpl.flushInternal(PreparedStatementManagerImpl.java:97)&lt;br/&gt;
	... 36 more&lt;br/&gt;
NestedThrowables:&lt;br/&gt;
java.sql.SQLException: ORA-01400: cannot insert NULL into (&quot;TEST&quot;.&quot;EXAM&quot;.&quot;TEXT&quot;)&lt;/p&gt;

&lt;p&gt;	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)&lt;br/&gt;
	at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:331)&lt;br/&gt;
	at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:288)&lt;br/&gt;
	at oracle.jdbc.driver.T4C8Oall.receive(T4C8Oall.java:745)&lt;br/&gt;
	at oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:216)&lt;br/&gt;
	at oracle.jdbc.driver.T4CPreparedStatement.executeForRows(T4CPreparedStatement.java:966)&lt;br/&gt;
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1170)&lt;br/&gt;
	at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3339)&lt;br/&gt;
	at oracle.jdbc.driver.OraclePreparedStatement.executeUpdate(OraclePreparedStatement.java:3423)&lt;br/&gt;
	at org.apache.commons.dbcp.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:102)&lt;br/&gt;
	at org.apache.openjpa.lib.jdbc.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:269)&lt;br/&gt;
	at org.apache.openjpa.lib.jdbc.LoggingConnectionDecorator$LoggingConnection$LoggingPreparedStatement.executeUpdate(LoggingConnectionDecorator.java:856)&lt;br/&gt;
	at org.apache.openjpa.lib.jdbc.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:269)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.JDBCStoreManager$CancelPreparedStatement.executeUpdate(JDBCStoreManager.java:1363)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.PreparedStatementManagerImpl.flushInternal(PreparedStatementManagerImpl.java:97)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.PreparedStatementManagerImpl.flush(PreparedStatementManagerImpl.java:73)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.OperationOrderUpdateManager.flushPrimaryRow(OperationOrderUpdateManager.java:203)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.OperationOrderUpdateManager.flush(OperationOrderUpdateManager.java:89)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.AbstractUpdateManager.flush(AbstractUpdateManager.java:89)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.AbstractUpdateManager.flush(AbstractUpdateManager.java:72)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.JDBCStoreManager.flush(JDBCStoreManager.java:514)&lt;br/&gt;
	at org.apache.openjpa.kernel.DelegatingStoreManager.flush(DelegatingStoreManager.java:130)&lt;br/&gt;
	at org.apache.openjpa.kernel.BrokerImpl.flush(BrokerImpl.java:1955)&lt;br/&gt;
	at org.apache.openjpa.kernel.BrokerImpl.flushSafe(BrokerImpl.java:1853)&lt;br/&gt;
	at org.apache.openjpa.kernel.BrokerImpl.beforeCompletion(BrokerImpl.java:1771)&lt;br/&gt;
	at org.apache.openjpa.kernel.LocalManagedRuntime.commit(LocalManagedRuntime.java:81)&lt;br/&gt;
	at org.apache.openjpa.kernel.BrokerImpl.commit(BrokerImpl.java:1293)&lt;br/&gt;
	at org.apache.openjpa.kernel.DelegatingBroker.commit(DelegatingBroker.java:861)&lt;br/&gt;
	at org.apache.openjpa.persistence.EntityManagerImpl.commit(EntityManagerImpl.java:408)&lt;br/&gt;
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:438)&lt;br/&gt;
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:662)&lt;br/&gt;
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:632)&lt;br/&gt;
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:319)&lt;br/&gt;
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:116)&lt;br/&gt;
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)&lt;br/&gt;
	at org.springframework.aop.framework.Cglib2AopProxy$DynamicAdvisedInterceptor.intercept(Cglib2AopProxy.java:631)&lt;br/&gt;
	at com.intellapps.university.service.impl.ServiceDahImpl$$EnhancerByCGLIB$$81ecf35d.insertExam(&amp;lt;generated&amp;gt;)&lt;br/&gt;
	at com.intellapps.university.service.impl.ServiceImpl.insertExam(ServiceImpl.java:98)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:585)&lt;br/&gt;
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:301)&lt;br/&gt;
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:182)&lt;br/&gt;
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:149)&lt;br/&gt;
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:106)&lt;br/&gt;
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)&lt;br/&gt;
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)&lt;br/&gt;
	at $Proxy17.insertExam(Unknown Source)&lt;br/&gt;
	at com.intellapps.university.app.Main.testInsertExamWithLongText(Main.java:103)&lt;br/&gt;
	at com.intellapps.university.app.Main.main(Main.java:203)&lt;/p&gt;</description>
                <environment>OpenJPA 1.0.0, 1.0.2&lt;br/&gt;
Oracle XE 10g (JDBC driver 10.2.0.3.0&lt;br/&gt;
JRE 1.5.0_13</environment>
        <key id="12389723">OPENJPA-526</key>
            <summary>Insert text more than 4K bytes to Clob column causes SQLException: Exhausted Resultset</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fancy">Catalina Wei</assignee>
                                    <reporter username="frankca">Frank Le</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Feb 2008 19:28:05 +0000</created>
                <updated>Thu, 13 Jan 2011 16:45:22 +0000</updated>
                            <resolved>Mon, 20 Sep 2010 13:36:31 +0100</resolved>
                                    <version>1.0.0</version>
                    <version>1.0.2</version>
                    <version>1.1.0</version>
                    <version>1.2.0</version>
                                    <fixVersion>2.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="12668199" author="ericp56" created="Wed, 28 Jan 2009 22:32:22 +0000"  >&lt;p&gt;It works fine with the BLOB is below the MaxEmbeddedBlobSize.  Here is a sample of the jpa trace when it is above the max size:&lt;/p&gt;

&lt;p&gt;Notice how the &quot;SELECT ... FOR UPDATE&quot; query does not have the proper values.  It is passing 0, 0 instead of 1, 30061&lt;/p&gt;


&lt;p&gt;13797  SurveyDB  TRACE  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.jdbc.SQL - &amp;lt;t 12684953, conn 0&amp;gt; executing prepstmnt 27999450 INSERT INTO SURVEY.QUESTION_RESULTS_COMMENTS (QUESTIONID, SURVEYRESULTSID, COMMENT_, soundfile) VALUES (?, ?, ?, ?) &lt;span class=&quot;error&quot;&gt;&amp;#91;params=(long) 1, (long) 30061, (String) x, (Blob) oracle.sql.BLOB@20224a&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;13797  SurveyDB  TRACE  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.jdbc.SQL - &amp;lt;t 12684953, conn 0&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;0 ms&amp;#93;&lt;/span&gt; spent&lt;/p&gt;

&lt;p&gt;13813  SurveyDB  TRACE  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.jdbc.SQL - &amp;lt;t 12684953, conn 0&amp;gt; executing prepstmnt 19413030 INSERT INTO SURVEY.QUESTION_RESULTS (QUESTIONID, SURVEYRESULTSID, answer) VALUES (?, ?, ?) &lt;span class=&quot;error&quot;&gt;&amp;#91;params=(long) 1, (long) 30061, (int) 1&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;13813  SurveyDB  TRACE  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.jdbc.SQL - &amp;lt;t 12684953, conn 0&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;0 ms&amp;#93;&lt;/span&gt; spent&lt;/p&gt;

&lt;p&gt;13813  SurveyDB  TRACE  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.jdbc.SQL - &amp;lt;t 12684953, conn 0&amp;gt; executing prepstmnt 6223775 SELECT t0.soundfile FROM SURVEY.QUESTION_RESULTS_COMMENTS t0 WHERE t0.QUESTIONID = ? AND t0.SURVEYRESULTSID = ? FOR UPDATE &lt;span class=&quot;error&quot;&gt;&amp;#91;params=(long) 0, (long) 0&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;13875  SurveyDB  TRACE  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.jdbc.SQL - &amp;lt;t 12684953, conn 0&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;62 ms&amp;#93;&lt;/span&gt; spent&lt;/p&gt;

&lt;p&gt;13891  SurveyDB  TRACE  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; openjpa.Runtime - An exception occurred while ending the transaction.  This exception will be re-thrown.&lt;/p&gt;
</comment>
                            <comment id="12668543" author="fancy" created="Thu, 29 Jan 2009 18:29:04 +0000"  >&lt;p&gt;Eric,&lt;br/&gt;
The clob/blob size limit is set in OracleDictionary as:&lt;br/&gt;
        maxEmbeddedBlobSize = 4000;&lt;br/&gt;
        maxEmbeddedClobSize = 4000;&lt;/p&gt;

&lt;p&gt;Do you know if any Oracle release has the above limits ?&lt;br/&gt;
If there is no such limit, then the above 2 lines of code should be removed.&lt;/p&gt;

&lt;p&gt;You could workaround the problem by  adding the following property in  your persistece.xml:&lt;/p&gt;

&lt;p&gt;&amp;lt;property name=&quot;openjpa.jdbc.DBDictionary&quot; value=&quot;oracle(maxEmbeddedBlobSize=-1,maxEmbeddedClobSize=-1)&quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;Please give it a try.&lt;/p&gt;</comment>
                            <comment id="12682413" author="bjreed" created="Mon, 16 Mar 2009 19:06:01 +0000"  >&lt;p&gt;The code that is changed fixes 2 Oracle test problems with non nullable Clobs:&lt;/p&gt;

&lt;p&gt;1.  When the string is too large to fit in the Oracle Clob normally, an empty string gets passed into the setClobString method.  This was causing the exception noted in this JIRA.&lt;br/&gt;
2.  When the user wants to set the Clob to an empty string, the empty string gets passed into setClobString.  OpenJPA would try to set the non nullable field to null.&lt;/p&gt;

&lt;p&gt;Also included is a test case.  Lobs.java was not being used for any other tests, it looks like it was leftover from something else.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://issues.apache.org/jira/browse/OPENJPA-525&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/browse/OPENJPA-525&lt;/a&gt; is NOT fixed yet with this change, even though it is closely related.&lt;/p&gt;
</comment>
                            <comment id="12695878" author="goshoo" created="Sun, 5 Apr 2009 18:24:39 +0100"  >&lt;p&gt;Hello Frank. Do you can confirm this issue ?&lt;/p&gt;

&lt;p&gt;I tested with BLOB field up to 8MB without problems with OpenJPA 1.2.1.&lt;/p&gt;

&lt;p&gt;I use Oracle 11g JDBC thin driver which is compatible with 9iR2 and 10g servers.&lt;/p&gt;

&lt;p&gt;It&apos;s is my field definition :&lt;/p&gt;

&lt;p&gt;@Column(nullable=false)&lt;br/&gt;
byte[] binaryField ;&lt;/p&gt;


&lt;p&gt;I set the following property :&lt;/p&gt;

&lt;p&gt;&amp;lt;property name=&quot;openjpa.jdbc.DBDictionary&quot; value=&quot;oracle(maxEmbeddedBlobSize=-1,maxEmbeddedClobSize=-1)&quot;/&amp;gt;&lt;/p&gt;</comment>
                            <comment id="12837113" author="gauravjoshi" created="Tue, 23 Feb 2010 06:58:34 +0000"  >&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;I am getting the same exception, I am using Oracle 9.2 with OpenJPA 1.2.1 (even tested with 1.2.2 ver). My field definition is &lt;br/&gt;
 @Lob&lt;br/&gt;
 @Column(name=&quot;LAYOUT_XML&quot;)&lt;br/&gt;
  private byte[] layoutXml;                               AND&lt;/p&gt;

&lt;p&gt;@Lob&lt;br/&gt;
@Column(name=&quot;SCENARIO_XML&quot;)&lt;br/&gt;
 private byte[] scenarioXml;&lt;/p&gt;

&lt;p&gt;I have even checked with both nullable false and true. and even have set the &lt;br/&gt;
&amp;lt;property name=&quot;openjpa.jdbc.DBDictionary&quot; value=&quot;oracle(maxEmbeddedBlobSize=-1,maxEmbeddedClobSize=-1)&quot;/&amp;gt;  as well.  &lt;/p&gt;

&lt;p&gt;The column at the DB are of type blob and I get the following exception&lt;/p&gt;

&lt;p&gt;org.jboss.resteasy.spi.UnhandledException: &amp;lt;openjpa-1.2.2-r422266:898935 fatal general error&amp;gt; org.apache.openjpa.persistence.PersistenceException: The transaction has been rolled back.  See the nested exceptions for details on the errors that occurred.&lt;br/&gt;
	at org.jboss.resteasy.core.SynchronousDispatcher.handleApplicationException(SynchronousDispatcher.java:296)&lt;br/&gt;
	at org.jboss.resteasy.core.SynchronousDispatcher.handleException(SynchronousDispatcher.java:208)&lt;br/&gt;
	at org.jboss.resteasy.core.SynchronousDispatcher.handleInvokerException(SynchronousDispatcher.java:187)&lt;br/&gt;
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:371)&lt;br/&gt;
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:160)&lt;br/&gt;
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:113)&lt;br/&gt;
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:69)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:806)&lt;br/&gt;
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:502)&lt;br/&gt;
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1121)&lt;br/&gt;
	at com.iontrading.common.license.LicenseCheckFilter.doFilter(LicenseCheckFilter.java:31)&lt;br/&gt;
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1112)&lt;br/&gt;
	at com.iontrading.common.util.NoCacheFilter.doFilter(NoCacheFilter.java:42)&lt;br/&gt;
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1112)&lt;br/&gt;
	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:265)&lt;br/&gt;
	at org.acegisecurity.intercept.web.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:107)&lt;br/&gt;
	at org.acegisecurity.intercept.web.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:72)&lt;br/&gt;
	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:275)&lt;br/&gt;
	at org.acegisecurity.ui.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:124)&lt;br/&gt;
	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:275)&lt;br/&gt;
	at org.acegisecurity.providers.anonymous.AnonymousProcessingFilter.doFilter(AnonymousProcessingFilter.java:125)&lt;br/&gt;
	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:275)&lt;br/&gt;
	at org.acegisecurity.ui.AbstractProcessingFilter.doFilter(AbstractProcessingFilter.java:271)&lt;br/&gt;
	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:275)&lt;br/&gt;
	at org.acegisecurity.ui.digestauth.DigestProcessingFilter.doFilter(DigestProcessingFilter.java:328)&lt;br/&gt;
	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:275)&lt;br/&gt;
	at org.acegisecurity.context.HttpSessionContextIntegrationFilter.doFilter(HttpSessionContextIntegrationFilter.java:249)&lt;br/&gt;
	at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:275)&lt;br/&gt;
	at org.acegisecurity.util.FilterChainProxy.doFilter(FilterChainProxy.java:149)&lt;br/&gt;
	at org.acegisecurity.util.FilterToBeanProxy.doFilter(FilterToBeanProxy.java:98)&lt;br/&gt;
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1112)&lt;br/&gt;
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:363)&lt;br/&gt;
	at org.mortbay.jetty.security.ConstraintsSecurityHandler.handle(ConstraintsSecurityHandler.java:220)&lt;br/&gt;
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)&lt;br/&gt;
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:822)&lt;br/&gt;
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:305)&lt;br/&gt;
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)&lt;br/&gt;
	at org.mortbay.jetty.Server.handle(Server.java:324)&lt;br/&gt;
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:550)&lt;br/&gt;
	at org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:890)&lt;br/&gt;
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:743)&lt;br/&gt;
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:215)&lt;br/&gt;
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:407)&lt;br/&gt;
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:421)&lt;br/&gt;
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:520)&lt;br/&gt;
Caused by: &amp;lt;openjpa-1.2.2-r422266:898935 fatal general error&amp;gt; org.apache.openjpa.persistence.PersistenceException: The transaction has been rolled back.  See the nested exceptions for details on the errors that occurred.&lt;br/&gt;
	at org.apache.openjpa.kernel.BrokerImpl.newFlushException(BrokerImpl.java:2187)&lt;br/&gt;
	at org.apache.openjpa.kernel.BrokerImpl.flush(BrokerImpl.java:2029)&lt;br/&gt;
	at org.apache.openjpa.kernel.BrokerImpl.flushSafe(BrokerImpl.java:1927)&lt;br/&gt;
	at org.apache.openjpa.kernel.BrokerImpl.flush(BrokerImpl.java:1698)&lt;br/&gt;
	at org.apache.openjpa.kernel.DelegatingBroker.flush(DelegatingBroker.java:989)&lt;br/&gt;
	at org.apache.openjpa.persistence.EntityManagerImpl.flush(EntityManagerImpl.java:592)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:198)&lt;br/&gt;
	at $Proxy21.flush(Unknown Source)&lt;br/&gt;
	at com.iontrading.common.plugins.workspaces.dao.WorkspaceDAOImpl.saveObject(WorkspaceDAOImpl.java:58)&lt;br/&gt;
	at com.iontrading.common.plugins.workspaces.dao.WorkspaceDAOImpl$$FastClassByCGLIB$$9bd19fe0.invoke(&amp;lt;generated&amp;gt;)&lt;br/&gt;
	at net.sf.cglib.proxy.MethodProxy.invoke(MethodProxy.java:149)&lt;br/&gt;
	at org.springframework.aop.framework.Cglib2AopProxy$CglibMethodInvocation.invokeJoinpoint(Cglib2AopProxy.java:700)&lt;br/&gt;
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:149)&lt;br/&gt;
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:106)&lt;br/&gt;
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)&lt;br/&gt;
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:89)&lt;br/&gt;
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)&lt;br/&gt;
	at org.springframework.aop.framework.Cglib2AopProxy$DynamicAdvisedInterceptor.intercept(Cglib2AopProxy.java:635)&lt;br/&gt;
	at com.iontrading.common.plugins.workspaces.dao.WorkspaceDAOImpl$$EnhancerByCGLIB$$61498ea4.saveObject(&amp;lt;generated&amp;gt;)&lt;br/&gt;
	at com.iontrading.common.plugins.workspaces.service.impl.WorkspaceServiceImpl.addWorkspace(WorkspaceServiceImpl.java:57)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:119)&lt;br/&gt;
	at org.jboss.resteasy.core.ResourceMethod.invokeOnTarget(ResourceMethod.java:211)&lt;br/&gt;
	at org.jboss.resteasy.core.ResourceMethod.invoke(ResourceMethod.java:176)&lt;br/&gt;
	at org.jboss.resteasy.core.ResourceMethod.invoke(ResourceMethod.java:166)&lt;br/&gt;
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:356)&lt;br/&gt;
	... 41 more&lt;br/&gt;
Caused by: &amp;lt;openjpa-1.2.2-r422266:898935 nonfatal general error&amp;gt; org.apache.openjpa.persistence.PersistenceException: Exhausted Resultset&lt;br/&gt;
	at org.apache.openjpa.jdbc.sql.DBDictionary.narrow(DBDictionary.java:4246)&lt;br/&gt;
	at org.apache.openjpa.jdbc.sql.DBDictionary.newStoreException(DBDictionary.java:4211)&lt;br/&gt;
	at org.apache.openjpa.jdbc.sql.SQLExceptions.getStore(SQLExceptions.java:102)&lt;br/&gt;
	at org.apache.openjpa.jdbc.sql.SQLExceptions.getStore(SQLExceptions.java:88)&lt;br/&gt;
	at org.apache.openjpa.jdbc.sql.SQLExceptions.getStore(SQLExceptions.java:64)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.AbstractUpdateManager.flush(AbstractUpdateManager.java:96)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.AbstractUpdateManager.flush(AbstractUpdateManager.java:72)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.JDBCStoreManager.flush(JDBCStoreManager.java:721)&lt;br/&gt;
	at org.apache.openjpa.kernel.DelegatingStoreManager.flush(DelegatingStoreManager.java:130)&lt;br/&gt;
	... 73 more&lt;br/&gt;
Caused by: java.sql.SQLException: Exhausted Resultset&lt;br/&gt;
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)&lt;br/&gt;
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)&lt;br/&gt;
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:208)&lt;br/&gt;
	at oracle.jdbc.driver.ScrollableResultSet.getOracleObject(ScrollableResultSet.java:510)&lt;br/&gt;
	at oracle.jdbc.driver.ScrollableResultSet.getBLOB(ScrollableResultSet.java:1425)&lt;br/&gt;
	at oracle.jdbc.driver.UpdatableResultSet.getBLOB(UpdatableResultSet.java:1609)&lt;br/&gt;
	at oracle.jdbc.driver.UpdatableResultSet.getBlob(UpdatableResultSet.java:976)&lt;br/&gt;
	at org.apache.commons.dbcp.DelegatingResultSet.getBlob(DelegatingResultSet.java:512)&lt;br/&gt;
	at org.apache.openjpa.lib.jdbc.DelegatingResultSet.getBlob(DelegatingResultSet.java:580)&lt;br/&gt;
	at org.apache.openjpa.jdbc.meta.strats.MaxEmbeddedByteArrayFieldStrategy.putData(MaxEmbeddedByteArrayFieldStrategy.java:75)&lt;br/&gt;
	at org.apache.openjpa.jdbc.meta.strats.MaxEmbeddedLobFieldStrategy.customUpdate(MaxEmbeddedLobFieldStrategy.java:162)&lt;br/&gt;
	at org.apache.openjpa.jdbc.meta.strats.MaxEmbeddedLobFieldStrategy.customInsert(MaxEmbeddedLobFieldStrategy.java:140)&lt;br/&gt;
	at org.apache.openjpa.jdbc.meta.FieldMapping.customInsert(FieldMapping.java:701)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.AbstractUpdateManager$CustomMapping.execute(AbstractUpdateManager.java:375)&lt;br/&gt;
	at org.apache.openjpa.jdbc.kernel.AbstractUpdateManager.flush(AbstractUpdateManager.java:94)&lt;/p&gt;</comment>
                            <comment id="12900875" author="fancy" created="Fri, 20 Aug 2010 22:51:33 +0100"  >&lt;p&gt;committed fix at revision 987598&lt;/p&gt;</comment>
                            <comment id="12912451" author="drwoods" created="Mon, 20 Sep 2010 13:36:31 +0100"  >&lt;p&gt;code committed to trunk 30 days ago.  reopen if more work is needed.&lt;/p&gt;</comment>
                            <comment id="12981328" author="mikedd" created="Thu, 13 Jan 2011 16:45:22 +0000"  >&lt;p&gt;Closing issue which has been resolved for some time. If you believe the issue is not resolved please reopen or open a new issue. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12402303" name="OPENJPA-526.patch" size="7785" author="bjreed" created="Mon, 16 Mar 2009 19:06:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 28 Jan 2009 22:32:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>160843</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hysqnr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>201667</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>