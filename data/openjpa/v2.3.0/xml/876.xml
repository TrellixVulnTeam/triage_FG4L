<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:40:55 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/OPENJPA-876/OPENJPA-876.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[OPENJPA-876] Better test profiles for proprietary databases (DB2, Oracle) and continuous build</title>
                <link>https://issues.apache.org/jira/browse/OPENJPA-876</link>
                <project id="12310351" key="OPENJPA">OpenJPA</project>
                    <description>&lt;p&gt;Currently we use the test-custom and test-custom2 profiles in openjpa-persistence-jdbc/pom.xml to enable testing of a variety of databases. Basically anything that does not have a publicly available JDBC drivers. &lt;/p&gt;

&lt;p&gt;This support works well if you run the build manually, but isn&apos;t always perfect when using a continuous build system.&lt;/p&gt;

&lt;p&gt;In many continuous build systems you want to have a single build definition which can be run on any number of machines. Ideally each machine could store the database settings in $&lt;/p&gt;
{user.home}
&lt;p&gt;/.m2/settings.xml. Where this becomes a problem is if a single machine wants to use our test-custom profile in conjuction with another one. For example mvn -Ptest-custom,test-custom-oracle clean install. In order to make this work Maven would have to set variables in test-custom-oracle and then read them in the test-custom profile. Ensuring that the properties are handled in the correct order is cumbersome and doesn&apos;t seem to work in recent versions of maven / surefire. &lt;/p&gt;

&lt;p&gt;To resolve the problem I propose creating specific profiles for testing with various proprietary databases. These profiles rely on the user running mvn install:install-file $&lt;/p&gt;
{maven args}
&lt;p&gt; to install a copy of the jdbc drivers in a local repository prior to running, but after that one time setup step it&apos;s a lot easier to run tests on various databases (manually or on a build system).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12413465">OPENJPA-876</key>
            <summary>Better test profiles for proprietary databases (DB2, Oracle) and continuous build</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mikedd">Michael Dick</assignee>
                                    <reporter username="mikedd">Michael Dick</reporter>
                        <labels>
                    </labels>
                <created>Wed, 28 Jan 2009 16:06:47 +0000</created>
                <updated>Wed, 17 Jun 2009 19:42:13 +0100</updated>
                            <resolved>Fri, 27 Feb 2009 15:33:54 +0000</resolved>
                                    <version>1.0.3</version>
                    <version>1.1.0</version>
                    <version>1.2.0</version>
                    <version>1.3.0</version>
                    <version>2.0.0-M2</version>
                                    <fixVersion>1.0.4</fixVersion>
                    <fixVersion>1.2.1</fixVersion>
                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>2.0.0-M2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12671243" author="drwoods" created="Fri, 6 Feb 2009 19:04:09 +0000"  >&lt;p&gt;Updating Fix Versions, as code has been checked into 1.3.x and trunk.&lt;/p&gt;</comment>
                            <comment id="12671245" author="drwoods" created="Fri, 6 Feb 2009 19:05:23 +0000"  >&lt;p&gt;Will attach a patch that allows user to supply a local maven repo and override the groupid and version for DB2 and Oracle profiles.&lt;/p&gt;</comment>
                            <comment id="12671299" author="drwoods" created="Fri, 6 Feb 2009 20:28:45 +0000"  >&lt;p&gt;Patch which allows users to supply:&lt;br/&gt;
1) a local repo for non-public DB2 and Oracle artifacts (similar to what is used in docbook-profile)&lt;br/&gt;
2) override the groupId and version for the artifacts (additional attributes not added by earlier commits)&lt;br/&gt;
This can be done on the command line or in .m2/settings.xml, like:&lt;br/&gt;
    &amp;lt;profile&amp;gt;&lt;br/&gt;
        &amp;lt;id&amp;gt;test-db2-jcc&amp;lt;/id&amp;gt;&lt;br/&gt;
        &amp;lt;properties&amp;gt;&lt;br/&gt;
            &amp;lt;db2.maven.repo&amp;gt;&lt;a href=&quot;http://my.local.repo/maven&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://my.local.repo/maven&lt;/a&gt;&amp;lt;/db2.maven.repo&amp;gt;&lt;br/&gt;
            &amp;lt;db2.groupid&amp;gt;com.ibm.db2&amp;lt;/db2.groupid&amp;gt;&lt;br/&gt;
            &amp;lt;db2.version&amp;gt;9.5&amp;lt;/db2.version&amp;gt;&lt;br/&gt;
            &amp;lt;openjpa.db2.url&amp;gt;jdbc:db2://localhost:50000/OPENJPA&amp;lt;/openjpa.db2.url&amp;gt;&lt;br/&gt;
            &amp;lt;openjpa.db2.username&amp;gt;guest&amp;lt;/openjpa.db2.username&amp;gt;&lt;br/&gt;
            &amp;lt;openjpa.db2.password&amp;gt;guest&amp;lt;/openjpa.db2.password&amp;gt;&lt;br/&gt;
        &amp;lt;/properties&amp;gt;&lt;br/&gt;
    &amp;lt;/profile&amp;gt;&lt;/p&gt;</comment>
                            <comment id="12671305" author="drwoods" created="Fri, 6 Feb 2009 20:39:49 +0000"  >&lt;p&gt;Same patch as for trunk, except created against branches/1.3.x&lt;/p&gt;</comment>
                            <comment id="12671308" author="drwoods" created="Fri, 6 Feb 2009 20:42:07 +0000"  >&lt;p&gt;Michael, I attached 2 patches for your review and possible commit, which made building and running the openjpa-persistence-jdbc unit tests against DB2 a lot easier for me.&lt;/p&gt;</comment>
                            <comment id="12676008" author="drwoods" created="Mon, 23 Feb 2009 18:41:46 +0000"  >&lt;p&gt;Can this be closed now?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12399682" name="OPENJPA-876-branches13x.patch" size="8626" author="drwoods" created="Fri, 6 Feb 2009 20:39:49 +0000"/>
                            <attachment id="12399680" name="OPENJPA-876-trunk.patch" size="8568" author="drwoods" created="Fri, 6 Feb 2009 20:28:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 6 Feb 2009 19:04:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>161177</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyszy7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>203172</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>