<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:08:36 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-25/LUCENE-25.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[LUCENE-25] QueryParser produces empty BooleanQueries when all clauses are stop words</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-25</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                    <description>&lt;p&gt;When I want to do the following query (example):&lt;br/&gt;
(fieldx : xxxxx OR fieldy : xxxxxxxx)AND(fieldx : stopword OR fieldy : stopword)&lt;br/&gt;
it will search (after passing the Analyzer including a StopFilter) for &lt;br/&gt;
(fieldx : xxxxx OR fieldy : xxxxxx) AND() and give a wrong searchresult or a &lt;br/&gt;
NullPointerException.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12314175">LUCENE-25</key>
            <summary>QueryParser produces empty BooleanQueries when all clauses are stop words</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="p.witte@cs.unimaas.nl">Puk Witte</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 Mar 2002 22:00:05 +0000</created>
                <updated>Thu, 2 Jun 2011 23:01:11 +0100</updated>
                            <resolved>Thu, 21 Aug 2008 12:04:26 +0100</resolved>
                                    <version>1.2</version>
                                                    <component>core/queryparser</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12321029" author="otis@apache.org" created="Fri, 8 Nov 2002 00:16:28 +0000"  >&lt;p&gt;That&apos;s interesting.&lt;br/&gt;
Does this happen even if you put spaces in the query &apos;properly&apos;, so that instead&lt;br/&gt;
of this:&lt;/p&gt;

&lt;p&gt;(fieldx : xxxxx OR fieldy : xxxxxxxx)AND(fieldx : stopword OR fieldy : stopword)&lt;/p&gt;

&lt;p&gt;you use:&lt;/p&gt;

&lt;p&gt;(fieldx: xxxxx OR fieldy: xxxxxxxx) AND (fieldx: stopword OR fieldy: stopword)&lt;/p&gt;

&lt;p&gt;Does it still happen?&lt;br/&gt;
If so, please include the stack trace, preferably with line numbers, so that we&lt;br/&gt;
know which code to fix.&lt;br/&gt;
Thanks.&lt;/p&gt;
</comment>
                            <comment id="12321030" author="halleux.jf@skynet.be" created="Wed, 11 Feb 2004 04:31:53 +0000"  >&lt;p&gt;We will try not to have to organize a party for the second birthday of this one.&lt;/p&gt;

&lt;p&gt;Ok, the root cause for this is the QueryParser (once again), more specifically &lt;br/&gt;
getBooleanQuery which is returning an empty query even if there are no clauses. &lt;br/&gt;
When everything is a stopword, it could be the case that there are no clauses.&lt;/p&gt;

&lt;p&gt;There are several possible fixes. Included in the attached is the less &lt;br/&gt;
disruptive one I could think of. It is &quot;only&quot; breaking three tests in &lt;br/&gt;
TestQueryParser.&lt;/p&gt;

&lt;p&gt;However for the long term, I think that we should think of what it means to &lt;br/&gt;
parse an empty query (&quot;&quot;) and what should be the expected result (null,&quot;&quot;, &lt;br/&gt;
exception, ...)&lt;/p&gt;

&lt;p&gt;Have fun,&lt;/p&gt;

&lt;p&gt;Jean-Francois Halleux&lt;/p&gt;</comment>
                            <comment id="12321031" author="halleux.jf@skynet.be" created="Wed, 11 Feb 2004 04:36:07 +0000"  >&lt;p&gt;Created an attachment (id=10302)&lt;br/&gt;
Fix elimination of empty query conjunction - careful this patch is cumulated with my previous regarding escapting character handling&lt;/p&gt;</comment>
                            <comment id="12321032" author="goller@detego-software.de" created="Wed, 8 Sep 2004 22:10:31 +0100"  >&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;Bug 9110 has been marked as a duplicate of this bug. ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12431638" author="hossman" created="Wed, 30 Aug 2006 18:57:55 +0100"  >&lt;p&gt;revising title/component to better reflect real problem&lt;/p&gt;</comment>
                            <comment id="12553215" author="gsingers" created="Wed, 19 Dec 2007 03:16:09 +0000"  >&lt;p&gt;Attached patch adds a test to QP for this.  It now seems like QP is doing reasonable things with stopwords at least for a few cases.   Of course, I am not sure what QP should return when all the terms are stopwords (it currently returns a BooleanQuery with zero clauses)&lt;/p&gt;

&lt;p&gt;I am not sure when this was fixed.&lt;br/&gt;
In other words, I would like to close this.&lt;/p&gt;</comment>
                            <comment id="12553963" author="doronc" created="Fri, 21 Dec 2007 16:06:05 +0000"  >&lt;p&gt;I think it is &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-933&quot; title=&quot;QueryParser can produce empty sub BooleanQueries when Analyzer proudces no tokens for input&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-933&quot;&gt;&lt;del&gt;LUCENE-933&lt;/del&gt;&lt;/a&gt; that fixed this one.&lt;/p&gt;</comment>
                            <comment id="12592996" author="aviran" created="Tue, 29 Apr 2008 11:17:09 +0100"  >&lt;p&gt;This issue also affects version 2.2.0&lt;/p&gt;</comment>
                            <comment id="12624321" author="markrmiller@gmail.com" created="Thu, 21 Aug 2008 12:04:26 +0100"  >&lt;p&gt;I don&apos;t know when this was fixed, but the example given now works, Grant&apos;s tests are already committed, and I think any QueryParser stop word issues that remain should get a new ticket. I don&apos;t think this one will help anything anymore.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12348888">LUCENE-666</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12312187" name="ASF.LICENSE.NOT.GRANTED--patch9.txt" size="9538" author="halleux.jf@skynet.be" created="Wed, 11 Feb 2004 04:36:07 +0000"/>
                            <attachment id="12371923" name="LUCENE-25.patch" size="1605" author="gsingers" created="Wed, 19 Dec 2007 03:16:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7574</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 8 Nov 2002 00:16:28 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>13725</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxz093:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>28024</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>