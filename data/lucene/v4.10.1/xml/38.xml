<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:09:58 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LUCENE-38/LUCENE-38.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[LUCENE-38] RangeQuery without lower term and inclusive=false skips blank fields</title>
                <link>https://issues.apache.org/jira/browse/LUCENE-38</link>
                <project id="12310110" key="LUCENE">Lucene - Core</project>
                    <description>&lt;p&gt;This was reported by &quot;James Ricci&quot; &amp;lt;james@riccinursery.com&amp;gt; at:&lt;br/&gt;
&lt;a href=&quot;http://nagoya.apache.org/eyebrowse/ReadMsg?listName=lucene-user@jakarta.apache.org&amp;amp;msgNo=1835&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://nagoya.apache.org/eyebrowse/ReadMsg?listName=lucene-user@jakarta.apache.org&amp;amp;msgNo=1835&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;When you create a ranged query and omit the lower term, my expectation &lt;br/&gt;
would be that I would find everything less than the upper term. Now if I pass&lt;br/&gt;
false for the inclusive term, then I would expect that I would find all&lt;br/&gt;
terms less than the upper term excluding the upper term itself.&lt;/p&gt;

&lt;p&gt;What is happening in the case of lower_term=null, upper_term=x,&lt;br/&gt;
inclusive=false is that empty strings are being excluded because &lt;br/&gt;
inclusive is set false, and the implementation of RangedQuery creates a default &lt;br/&gt;
lower term of Term(fieldName, &quot;&quot;). Since it&apos;s not inclusive, it excludes &quot;&quot;. &lt;br/&gt;
This isn&apos;t what I intended, and I don&apos;t think it&apos;s what most people would &lt;br/&gt;
imagine RangedQuery would do in the case I&apos;ve mentioned.&lt;/p&gt;

&lt;p&gt;I equate lower=null, upper=x, inclusive=false to Field &amp;lt; x. lower=null,&lt;br/&gt;
upper=x, inclusive=true would be Field &amp;lt;= x. In both cases, the only&lt;br/&gt;
difference should be whether or not Field = x is true for the query.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12314188">LUCENE-38</key>
            <summary>RangeQuery without lower term and inclusive=false skips blank fields</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="otis@apache.org">Otis Gospodnetic</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Jun 2002 23:02:41 +0100</created>
                <updated>Thu, 2 Jun 2011 23:04:54 +0100</updated>
                            <resolved>Thu, 13 Nov 2008 10:08:21 +0000</resolved>
                                                    <fixVersion>2.9</fixVersion>
                                    <component>core/search</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12430939" author="dejannenov" created="Mon, 28 Aug 2006 08:11:42 +0100"  >&lt;p&gt;Added additional tests, using &quot;null&quot; as the lower term in the range query. The tests are commented to indicate how they should be modified to behave once this &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-38&quot; title=&quot;RangeQuery without lower term and inclusive=false skips blank fields&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-38&quot;&gt;&lt;del&gt;LUCENE-38&lt;/del&gt;&lt;/a&gt; is fixed. &lt;/p&gt;</comment>
                            <comment id="12647123" author="markrmiller@gmail.com" created="Wed, 12 Nov 2008 23:45:58 +0000"  >&lt;p&gt;Does this need to be &apos;fixed&apos; ? RangeQuery now uses the semantics from ConstantScoreRangeQuery, which decided that open ended sides of a range must be inclusive (and are converted as such if not). Is that acceptable and we close this bug? Or jump a hoop or two for this rather niche case?&lt;/p&gt;</comment>
                            <comment id="12647185" author="otis" created="Thu, 13 Nov 2008 04:32:19 +0000"  >&lt;p&gt;This thing is 6+ years old and I don&apos;t recall this being mentioned on the list in the last half a decade.  I&apos;ll leave you the Won&apos;t Fix pleasure, Mark.&lt;/p&gt;</comment>
                            <comment id="12647245" author="mikemccand" created="Thu, 13 Nov 2008 10:06:30 +0000"  >&lt;p&gt;Actually, this should have already worked, because RangeTermEnum forces includeLower to be true when lowerTermText is null.&lt;/p&gt;

&lt;p&gt;But indeed the test still fails, so I dug into a bit and I think the test is faulty.  The test expects the empty string doc (&quot;&quot;) to be returned as a result, but the problem is the empty string doc when analyzed does not produce an empty string Token.  So I modified the test (attached) to use an analyzer that emits empty string token, and then the test passes as expected.&lt;/p&gt;

&lt;p&gt;I&apos;ll commit shortly.&lt;/p&gt;</comment>
                            <comment id="12647247" author="mikemccand" created="Thu, 13 Nov 2008 10:08:21 +0000"  >&lt;p&gt;Committed revision 713696.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12393860" name="LUCENE-38.patch" size="6219" author="mikemccand" created="Thu, 13 Nov 2008 10:06:30 +0000"/>
                            <attachment id="12339682" name="TestRangeQuery.patch" size="4939" author="dejannenov" created="Mon, 28 Aug 2006 08:11:42 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9782</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 28 Aug 2006 07:11:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>13712</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxz067:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>28011</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>