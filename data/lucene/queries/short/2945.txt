Surround Query doesn't properly handle equals/hashcode