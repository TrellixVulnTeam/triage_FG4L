DelimitedPayloadTokenFilter copies the bufer over itsself. Instead it should only set the length. Also optimize logic.