Add test case support for shard searching