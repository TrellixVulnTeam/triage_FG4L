make precommit work for svn 1.8 or git checkouts