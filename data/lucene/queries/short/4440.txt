FilterCodec should take a delegate Codec in its ctor