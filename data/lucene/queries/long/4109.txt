Hi,

I just found another bug in the flexible query parser (together with Robert Muir, yay!).

The following query string works in the standard query parser:


(field:[1 TO *] AND field:[* TO 2]) AND field2:z



yields


+(+field:[1 TO *] +field:[* TO 2]) +field2:z



The flexible query parser though yields:


+(field:[1 TO *] field:[* TO 2]) +field2:z



Test patch is attached (from Robert actually).

I don't know if it affects earlier versions than 3.5.