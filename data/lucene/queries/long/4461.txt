Multiple FacetRequest are getting merged into one creating wrong results in this case:

FacetSearchParams facetSearchParams = new FacetSearchParams();
		facetSearchParams.addFacetRequest(new CountFacetRequest(new CategoryPath("author"), 10));
		facetSearchParams.addFacetRequest(new CountFacetRequest(new CategoryPath("author"), 10));

Problem can be fixed by defining hashcode and equals in certain way that Lucene recognize we are talking about different requests.


Attached test case.