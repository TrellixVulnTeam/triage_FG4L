If your test needs 4.2 features (e.g. @SuppressCodecs' Lucene40, Lucene41), when you run 'ant test' it does the right thing, and picks the right codecs.

But from eclipse instead it often ignores all test methods and prints:
NOTE: Class not allowed to use postings format: Lucene41. Suppressed codecs: [Lucene41, Lucene40]

You can reproduce this by adding this to e.g. TestDemo and running it from ant vs eclipse:



@SuppressCodecs({"Lucene40", "Lucene41"})



I havent had time to dig into this yet, but its annoying for eclipse developers. some property must have a bad default value or something thats inconsistent with what ant sets: somehow ant is doing it right.

I gather it probably happens to other IDEs too.