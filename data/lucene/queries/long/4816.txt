when I try to highlight the word zero [0]  in the file : org\apache\lucene\search\postingshighlight\package.html

the 2 last lines weren't return.  There are 4 Passages : 
2-65
277-434
434-735
735-968

but the length of the file is 984.

in the file : PassageFormatter.format(...)

it should return all the original content with the words highlighted.

PATCH

need to add this at the end of the method

// at line : 91 add this
if(pos<content.length())
{
    sb.append(content.substring(pos));
}

return sb.toString();