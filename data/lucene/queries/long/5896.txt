I realized that passing the same seeded random instance to LuceneTestCase# newIndewWriterConfig doesn't necessarily produce the same IWC and I found a bunch of issues in that class using global random rather than local random. Yet, I went over the file to spot others but we might need to think about a more automated way to spot those...