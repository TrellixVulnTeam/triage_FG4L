I noticed this when working on LUCENE-5977. 

We only check that position doesn't overflow, not length. So a buggy analyzer can happily write a corrupt index (negative freq) 