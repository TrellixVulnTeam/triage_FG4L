The facet module today requires the app to compute the hierarchy
at index time, eg a timestamp field might use a year/month/day
hierarchy.

While this gives great performance, since it minimizes the search-time
computation, sometimes it's unfortunately useful/necessary to do things entirely at
search time, like Solr does.

E.g. I'm playing with a prototype Lucene search for Jira issues
and I'd like to add a drill down+sideways for "Updated in past day,
2 days, week, month" etc.  But because time is constantly advancing,
doing this at index time is a not easy ...