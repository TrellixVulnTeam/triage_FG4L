The current use of gson has some very odd use of strings that could be eliminated to allow much faster serialization with less memory use.

Backwards compatibility should be a mild goal with this fix.