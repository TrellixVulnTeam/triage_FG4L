Line 80: 
    if (centroid.size() != centroid.size()) {

Should compare centroid and input vector.