<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:28:35 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-482/MAHOUT-482.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-482] Defaulting $HADOOP_CONF_DIR to $HADOOP_HOME/conf</title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-482</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt;Hi all,&lt;/p&gt;

&lt;p&gt;while trying to understand the clusterdump utility, I encountered a message &quot;no HADOOP_CONF_DIR or HADOOP_HOME set, running locally&quot;. As per some of the discussions in Apr&apos;10 (&lt;a href=&quot;http://lucene.472066.n3.nabble.com/Dealing-with-kmean-and-meanshift-output-td708824.html#a709066&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://lucene.472066.n3.nabble.com/Dealing-with-kmean-and-meanshift-output-td708824.html#a709066&lt;/a&gt;), it would be good to default the hadoop conf directory to hadoop_home/conf. &lt;/p&gt;

&lt;p&gt;So I&apos;ve changed the script to accommodate this.&lt;br/&gt;
Existing code:&lt;br/&gt;
if [ &quot;$HADOOP_CONF_DIR&quot; = &quot;&quot; ] || [ &quot;$HADOOP_HOME&quot; = &quot;&quot; ] || [ &quot;$MAHOUT_LOCAL&quot; != &quot;&quot; ] ; then&lt;br/&gt;
  if [ &quot;$HADOOP_CONF_DIR&quot; = &quot;&quot; ] || [ &quot;$HADOOP_HOME&quot; = &quot;&quot; ] ; then&lt;br/&gt;
    echo &quot;no HADOOP_CONF_DIR or HADOOP_HOME set, running locally&quot;&lt;br/&gt;
  elif [ &quot;$MAHOUT_LOCAL&quot; != &quot;&quot; ] ; then &lt;br/&gt;
    echo &quot;MAHOUT_LOCAL is set, running locally&quot;&lt;br/&gt;
  fi&lt;br/&gt;
  exec &quot;$JAVA&quot; $JAVA_HEAP_MAX $MAHOUT_OPTS -classpath &quot;$CLASSPATH&quot; $CLASS &quot;$@&quot;&lt;br/&gt;
else&lt;br/&gt;
  echo &quot;running on hadoop, using HADOOP_HOME=$HADOOP_HOME and HADOOP_CONF_DIR=$HADOOP_CONF_DIR&quot;&lt;/p&gt;

&lt;p&gt;New code:&lt;br/&gt;
if [ &quot;$HADOOP_HOME&quot; = &quot;&quot; ] || [ &quot;$MAHOUT_LOCAL&quot; != &quot;&quot; ] ; then&lt;br/&gt;
  if [ &quot;$HADOOP_HOME&quot; = &quot;&quot; ] ; then&lt;br/&gt;
    echo &quot;no HADOOP_HOME set, running locally&quot;&lt;br/&gt;
  elif [ &quot;$MAHOUT_LOCAL&quot; != &quot;&quot; ] ; then &lt;br/&gt;
    echo &quot;MAHOUT_LOCAL is set, running locally&quot;&lt;br/&gt;
  fi&lt;br/&gt;
  exec &quot;$JAVA&quot; $JAVA_HEAP_MAX $MAHOUT_OPTS -classpath &quot;$CLASSPATH&quot; $CLASS &quot;$@&quot;&lt;br/&gt;
else&lt;br/&gt;
  if [ &quot;$HADOOP_CONF_DIR&quot; = &quot;&quot; ] ; then&lt;br/&gt;
    HADOOP_CONF_DIR=$HADOOP_HOME/conf&lt;br/&gt;
    echo &quot;no HADOOP_CONF_DIR set. so defaulting HADOOP_CONF_DIR to $HADOOP_HOME/conf &quot;&lt;br/&gt;
  fi&lt;br/&gt;
echo &quot;running on hadoop, using HADOOP_HOME=$HADOOP_HOME and HADOOP_CONF_DIR=$HADOOP_CONF_DIR&quot;&lt;/p&gt;

&lt;p&gt;In my local machine, I&apos;ve just set HADOOP_HOME and the script defaults the $HADOOP_CONF_DIR directory and runs on hadoop.&lt;br/&gt;
If this issue / fix looks valid, I&apos;ll open a JIRA issue and attach the patch.&lt;/p&gt;

&lt;p&gt;Appreciate your thoughts / feedbacks,&lt;br/&gt;
Joe.&lt;/p&gt;

&lt;p&gt;Drew Farris to dev&lt;br/&gt;
show details 8:53 AM (12 hours ago)&lt;br/&gt;
On Tue, Aug 17, 2010 at 12:26 AM, Joe Kumar &amp;lt;joekumar@gmail.com&amp;gt; wrote:&lt;br/&gt;
&amp;gt; Hi all,&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; while trying to understand the clusterdump utility, I encountered a message&lt;br/&gt;
&amp;gt; &quot;no HADOOP_CONF_DIR or HADOOP_HOME set, running locally&quot;. As per some of the&lt;br/&gt;
&amp;gt; discussions in Apr&apos;10 (&lt;br/&gt;
&amp;gt; &lt;a href=&quot;http://lucene.472066.n3.nabble.com/Dealing-with-kmean-and-meanshift-output-td708824.html#a709066&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://lucene.472066.n3.nabble.com/Dealing-with-kmean-and-meanshift-output-td708824.html#a709066&lt;/a&gt;),&lt;br/&gt;
&amp;gt; it would be good to default the hadoop conf directory to hadoop_home/conf.&lt;/p&gt;

&lt;p&gt;Agreed, and your solution looks good. I&apos;ll keep an eye out for the patch.&lt;/p&gt;

&lt;p&gt;Jake Mannix to dev&lt;br/&gt;
show details 3:46 PM (5 hours ago)&lt;br/&gt;
+1&lt;/p&gt;

&lt;p&gt;Good idea.  I thought we already did this...&lt;/p&gt;

&lt;p&gt; -jake&lt;/p&gt;</description>
                <environment></environment>
        <key id="12471867">MAHOUT-482</key>
            <summary>Defaulting $HADOOP_CONF_DIR to $HADOOP_HOME/conf</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.png">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="drew.farris">Drew Farris</assignee>
                                    <reporter username="joekumar">Joe Prasanna Kumar</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Aug 2010 02:11:04 +0100</created>
                <updated>Sun, 31 Oct 2010 15:50:12 +0000</updated>
                            <resolved>Wed, 18 Aug 2010 14:21:06 +0100</resolved>
                                                    <fixVersion>0.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <timeoriginalestimate seconds="1200">20m</timeoriginalestimate>
                            <timeestimate seconds="1200">20m</timeestimate>
                                        <comments>
                            <comment id="12899687" author="joekumar" created="Wed, 18 Aug 2010 02:20:36 +0100"  >&lt;p&gt;Contains the patch as described in the issue description&lt;/p&gt;</comment>
                            <comment id="12899690" author="joekumar" created="Wed, 18 Aug 2010 02:21:30 +0100"  >&lt;p&gt;Patch available as specified in the issue description&lt;/p&gt;</comment>
                            <comment id="12899841" author="drew.farris" created="Wed, 18 Aug 2010 14:21:06 +0100"  >&lt;p&gt;Committed in 986659 with minor revisions. Thanks for the patch Joe!&lt;/p&gt;</comment>
                            <comment id="12900070" author="hudson" created="Wed, 18 Aug 2010 23:23:33 +0100"  >&lt;p&gt;Integrated in Mahout-Quality #202 (See &lt;a href=&quot;https://hudson.apache.org/hudson/job/Mahout-Quality/202/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://hudson.apache.org/hudson/job/Mahout-Quality/202/&lt;/a&gt;)&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12452347" name="MAHOUT-482.patch" size="1253" author="joekumar" created="Wed, 18 Aug 2010 02:20:36 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 18 Aug 2010 13:21:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9581</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxy4uf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22936</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>