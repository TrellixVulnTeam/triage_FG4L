<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:18:29 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-130/MAHOUT-130.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-130] Vector should allow for other normalize powers than the L-2 norm</title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-130</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt;Modify Vector to allow other normalize functions for the Vector&lt;br/&gt;
See &lt;a href=&quot;http://www.lucidimagination.com/search/document/bf3a7a7a004d4191/norm_calculations&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.lucidimagination.com/search/document/bf3a7a7a004d4191/norm_calculations&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12427398">MAHOUT-130</key>
            <summary>Vector should allow for other normalize powers than the L-2 norm</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gsingers">Grant Ingersoll</assignee>
                                    <reporter username="gsingers">Grant Ingersoll</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Jun 2009 21:14:53 +0100</created>
                <updated>Sat, 21 May 2011 04:24:09 +0100</updated>
                            <resolved>Tue, 9 Jun 2009 15:31:37 +0100</resolved>
                                                    <fixVersion>0.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12717388" author="gsingers" created="Mon, 8 Jun 2009 21:17:51 +0100"  >&lt;p&gt;Draft.  Not sure if the optimizations make sense or not, but I think they do.&lt;/p&gt;

&lt;p&gt;Patch applies in the core directory, not the top level&lt;/p&gt;</comment>
                            <comment id="12717390" author="gsingers" created="Mon, 8 Jun 2009 21:21:02 +0100"  >&lt;p&gt;No reason the power needs to be int only, I suppose&lt;/p&gt;</comment>
                            <comment id="12717394" author="tdunning" created="Mon, 8 Jun 2009 21:31:00 +0100"  >&lt;p&gt;I would recommend externalizing a norm function.  It would also be useful for the norm to support L_0 (number of non-zero elements) and L_infty (max element) as specially cases in addition to L_1 and L_2.&lt;/p&gt;

&lt;p&gt;Also, there is no need to allocate a vector here:&lt;/p&gt;


&lt;p&gt;+      Vector vec = like();&lt;br/&gt;
+      for (int i = 0; i&amp;lt; cardinality(); i++)&lt;/p&gt;
{
+        vec.setQuick(i, Math.pow(getQuick(i), power));
+      }
&lt;p&gt;+      val = vec.zSum();&lt;/p&gt;

&lt;p&gt;Better to just keep the sum in a local variable:&lt;/p&gt;


&lt;p&gt;     val = 0;&lt;br/&gt;
      for (int i = 0; i&amp;lt; cardinality(); i++)&lt;/p&gt;
{
        val += Math.pow(getQuick(i), power);
      }
&lt;p&gt;      val = vec.zSum();&lt;/p&gt;

&lt;p&gt;This saves the allocation and improves cache coherence.  Accuracy could conceivably be a few ULPS worse if zSum is implemented really well (which it isn&apos;t).&lt;/p&gt;</comment>
                            <comment id="12717397" author="dlwh" created="Mon, 8 Jun 2009 21:34:10 +0100"  >&lt;p&gt;Related to Ted&apos;s comment, the patch does the wrong thing for non-integer powers less than 2. It should also probably raise an error on power &amp;lt; 0, since they aren&apos;t proper norms. (You can imagine their semantics, but they don&apos;t follow the rules of norms.)&lt;/p&gt;</comment>
                            <comment id="12717402" author="tdunning" created="Mon, 8 Jun 2009 21:43:26 +0100"  >&lt;blockquote&gt;&lt;p&gt;raise an error on power &amp;lt; 0, since they aren&apos;t proper norms&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;In fact, even for 0&amp;lt;p&amp;lt;1 it isn&apos;t a norm although it gives useful results.&lt;/p&gt;

&lt;p&gt;I don&apos;t mind the lax terminology because L_0 &quot;norms&quot; are useful some days.&lt;/p&gt;</comment>
                            <comment id="12717502" author="gsingers" created="Tue, 9 Jun 2009 01:53:35 +0100"  >&lt;blockquote&gt;&lt;p&gt; val = 0;&lt;br/&gt;
for (int i = 0; i&amp;lt; cardinality(); i++)&lt;/p&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: { val += Math.pow(getQuick(i), power); }&lt;/span&gt; &lt;/div&gt;
&lt;p&gt;val = vec.zSum();&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I assume this last val assignment is a typo.  I&apos;ve changed it and added an exception if power &amp;lt;= 0.&lt;/p&gt;

&lt;p&gt;Also, how much rounding error would you expect?  I notice a small difference (thousandths place) when Implementing w/o the vector approach:&lt;br/&gt;
norm: &lt;span class=&quot;error&quot;&gt;&amp;#91;s3, 0:0.30010006671856176, 1:0.6002001334371235, 2:0.9003002001556853, &amp;#93;&lt;/span&gt;  is not equal to expected: &lt;span class=&quot;error&quot;&gt;&amp;#91;s3, 0:0.3028534321386899, 1:0.6057068642773799, 2:0.9085602964160698, &amp;#93;&lt;/span&gt; &lt;/p&gt;</comment>
                            <comment id="12717509" author="tdunning" created="Tue, 9 Jun 2009 02:05:27 +0100"  >&lt;blockquote&gt;&lt;p&gt;I assume this last val assignment is a typo. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Oops.  Yes.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Also, how much rounding error would you expect? I notice a small difference (thousandths place) when Implementing w/o the vector approach:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;s3, 0:0.30010006671856176, 1:0.6002001334371235, 2:0.9003002001556853, &amp;#93;&lt;/span&gt; is not equal to expected: &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;s3, 0:0.3028534321386899, 1:0.6057068642773799, 2:0.9085602964160698, &amp;#93;&lt;/span&gt; &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;These are HUGE errors.  I would have expected diffs in the 15th place, not the third.&lt;/p&gt;

&lt;p&gt;Is somebody using floats somewhere?&lt;/p&gt;</comment>
                            <comment id="12717511" author="gsingers" created="Tue, 9 Jun 2009 02:16:25 +0100"  >&lt;p&gt;D&apos;oh.  My bad.  I had initialized val = 1 instead of val = 0;&lt;/p&gt;

&lt;p&gt;All looks good now.&lt;/p&gt;</comment>
                            <comment id="12717514" author="tdunning" created="Tue, 9 Jun 2009 02:28:52 +0100"  >&lt;p&gt;I don&apos;t understand how you are seeing any errors.  &lt;/p&gt;

&lt;p&gt;I see absolutely not difference between the two implementations when I test the code.&lt;/p&gt;

&lt;p&gt;Is there something strange in what you are doing (maybe another typo from me?)&lt;/p&gt;</comment>
                            <comment id="12717516" author="gsingers" created="Tue, 9 Jun 2009 02:39:43 +0100"  >&lt;p&gt;Just me with a typo this time.&lt;/p&gt;

&lt;p&gt;I&apos;ve got it working, plus the 0 &quot;norm&quot; and the infinite &quot;norm&quot;.&lt;/p&gt;</comment>
                            <comment id="12717517" author="tdunning" created="Tue, 9 Jun 2009 02:43:43 +0100"  >&lt;p&gt;Cool.  You had me worried.&lt;/p&gt;

&lt;p&gt;Also, there are lots of @override&apos;s on interface implementations.  &lt;/p&gt;

&lt;p&gt;I forget which way these should be in Mahout, but IntelliJ is very upset about them.  That seems odd since the pom and IntelliJ agree that I am using 1.6.&lt;/p&gt;

&lt;p&gt;Should these be removed to avoid problems for our users?&lt;/p&gt;
</comment>
                            <comment id="12717518" author="gsingers" created="Tue, 9 Jun 2009 02:45:33 +0100"  >&lt;p&gt;Adds 0 &quot;norm&quot; and Infinite norm as well as Ted and David&apos;s suggestions, as well as maxValue and maxValueIndex methods.&lt;/p&gt;</comment>
                            <comment id="12717529" author="tdunning" created="Tue, 9 Jun 2009 03:00:03 +0100"  >&lt;p&gt;I changed the order of the tests and made the non-integer case last.  I also allowed for non-integer cases to be &amp;gt; 0 rather than only &amp;gt;2.&lt;/p&gt;

&lt;p&gt;I don&apos;t necessarily understand why those would be useful, but I also don&apos;t see why we should preclude somebody using them.&lt;/p&gt;

&lt;p&gt;I also tweaked one unit test to avoid an unused variable warning and marked another such warning with a TODO comment.&lt;/p&gt;</comment>
                            <comment id="12717531" author="gsingers" created="Tue, 9 Jun 2009 03:08:41 +0100"  >&lt;p&gt;Looks good.  Go ahead and commit.  Not sure why I was only thinking about integers for powers...&lt;/p&gt;</comment>
                            <comment id="12717594" author="srowen" created="Tue, 9 Jun 2009 08:57:19 +0100"  >&lt;p&gt;Regarding IntelliJ warnings &amp;#8211; double-check that your project is configured to use project language level 6.&lt;br/&gt;
Since we require Java 6, we can and should take advantage of the ability to annotate such methods with @Override. The rest of the code does.&lt;/p&gt;</comment>
                            <comment id="12717692" author="gsingers" created="Tue, 9 Jun 2009 15:31:37 +0100"  >&lt;p&gt;Committed Ted&apos;s patch&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12410195" name="MAHOUT-130-both-ways.patch" size="4616" author="tdunning" created="Tue, 9 Jun 2009 02:28:52 +0100"/>
                            <attachment id="12410198" name="MAHOUT-130-slight-tweaks.patch" size="8727" author="tdunning" created="Tue, 9 Jun 2009 03:00:03 +0100"/>
                            <attachment id="12410197" name="MAHOUT-130.patch" size="8584" author="gsingers" created="Tue, 9 Jun 2009 02:45:33 +0100"/>
                            <attachment id="12410158" name="MAHOUT-130.patch" size="5816" author="gsingers" created="Mon, 8 Jun 2009 21:21:02 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 8 Jun 2009 20:31:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9935</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxy70n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23288</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>