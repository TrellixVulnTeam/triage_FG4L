<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:16:02 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-1084/MAHOUT-1084.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-1084] Kmeans for synthetic control example--there are 12 cluster during iterations.</title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-1084</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt;       In Mahout-Kmeans for syntheticcontrol example, using the default parameters means to compute 6 clusters at last. But why there are 12 clusters during Kmeans iterations. According to my observation, the former 6 clusters and the latter 6 clusters are the same before the first iteration,those 6 clusters are generatored by RandomSeedGenerator.java. Then the CIMapper will assign its own points to this 12 clusters. Is here existing logical errors?&lt;br/&gt;
       The 12 clusters are created by the function &quot;setup&quot; in CIMapper.java, more specifically, is the line &quot;classifier.readFromSeqFiles(conf, new Path(priorClustersPath));&quot;, here the &quot;priorClustersPath&quot; means hdfs direction &quot;output/clusters-0/&quot;, there are 8 files in this direction: &quot;_policy&quot;,&quot;part-randomSeed&quot;(one file record six cluster),&quot;part-00000&quot; to &quot;part-00005&quot;(total six files,every one record a cluster), while reading this direction, &quot;_policy&quot; will be filtered out, so program will read &quot;part-00000&quot; to &quot;part-00005&quot; to create six clusters, then read &quot;part-randomSeed&quot; to create the other six clusters, this is the reason why there will be 12 clusters before first iteration.&lt;br/&gt;
      Solution: delete associated code to avoid duplicately creating clusters in &quot;output/clusters-0/&quot;, here i delete codes where create files: &quot;part-00000&quot; to &quot;part-00005&quot; in ClusterClassfier.java:&lt;br/&gt;
  public void writeToSeqFiles(Path path) throws IOException {&lt;br/&gt;
    writePolicy(policy, path);&lt;br/&gt;
    /*&lt;br/&gt;
    Configuration config = new Configuration();&lt;br/&gt;
    FileSystem fs = FileSystem.get(path.toUri(), config);&lt;br/&gt;
    SequenceFile.Writer writer = null;&lt;br/&gt;
    ClusterWritable cw = new ClusterWritable();&lt;br/&gt;
    for (int i = 0; i &amp;lt; models.size(); i++) {&lt;br/&gt;
      try &lt;/p&gt;
{
        Cluster cluster = models.get(i);
        cw.setValue(cluster);
        writer = new SequenceFile.Writer(fs, config,
            new Path(path, &quot;part-&quot; + String.format(Locale.ENGLISH, &quot;%05d&quot;, i)), IntWritable.class,
            ClusterWritable.class);
        Writable key = new IntWritable(i);
        writer.append(key, cw);
      }
&lt;p&gt; finally &lt;/p&gt;
{
        Closeables.closeQuietly(writer);
      }
&lt;p&gt;    }&lt;br/&gt;
    */&lt;br/&gt;
  }&lt;br/&gt;
    I don&apos;t know if it is still okay for other progams who using this file, but for KMeans in Syntheticcontrol example, program will create 6 clusters during every iterations as i expected.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12609625">MAHOUT-1084</key>
            <summary>Kmeans for synthetic control example--there are 12 cluster during iterations.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gsingers">Grant Ingersoll</assignee>
                                    <reporter username="liutengfei">liutengfei</reporter>
                        <labels>
                    </labels>
                <created>Sat, 29 Sep 2012 04:19:25 +0100</created>
                <updated>Mon, 3 Feb 2014 08:05:58 +0000</updated>
                            <resolved>Sat, 8 Jun 2013 13:01:47 +0100</resolved>
                                                    <fixVersion>0.8</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13672196" author="gsingers" created="Sat, 1 Jun 2013 20:08:22 +0100"  >&lt;p&gt;We should make sure the examples work, so adding this to 0.8.  My env. is messed up right now, so I can&apos;t reproduce it at the moment.&lt;/p&gt;</comment>
                            <comment id="13678728" author="gsingers" created="Sat, 8 Jun 2013 12:29:29 +0100"  >&lt;p&gt;I confirm there is something wrong here.  We are passing in a k = 6 and we are getting back 12 clusters.&lt;/p&gt;</comment>
                            <comment id="13678733" author="gsingers" created="Sat, 8 Jun 2013 12:54:11 +0100"  >&lt;p&gt;liutengfei is right in that it is being confused by the random seed stuff.  However, rather than changing the code, I think we should just not right the random seed to the clusters-0 directory to begin with and instead right them somewhere else.&lt;/p&gt;</comment>
                            <comment id="13678735" author="gsingers" created="Sat, 8 Jun 2013 13:01:47 +0100"  >&lt;p&gt;Thanks liutengfei!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 1 Jun 2013 19:08:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>242141</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxwdkv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12687</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>