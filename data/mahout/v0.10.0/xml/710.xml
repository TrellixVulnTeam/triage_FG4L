<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:15:38 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-710/MAHOUT-710.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-710] Implementing K-Trusses</title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-710</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt;We are Tillmann Fiehn and Sebastian Arnold, IT students from TU Berlin. As Sebastian Schelter already announced, we are atteding Isabel&apos;s and Sebastian&apos;s class &quot;Large scale data analysis and data mining&quot; and picked an interesting project that we want to implement in Mahout. We are open for any hints and suggestions and would appreciate if you could share your thoughts on our proposal.&lt;/p&gt;

&lt;p&gt;Our goal is to implement a map/reduce algorithm for finding k-trusses in a given graph. A k-truss is a nontrivial, single-component maximal subgraph, such that every edge is contained in at least k-2 triangles in the subgraph. The algorithm was proposed in the IEEE paper J. Cohen 2009: &quot;Graph Twiddling in a MapReduce World&quot; (&lt;a href=&quot;http://www.csee.usf.edu/~anda/CIS6930-S11/papers/graph-processing-w-mapreduce.pdf&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.csee.usf.edu/~anda/CIS6930-S11/papers/graph-processing-w-mapreduce.pdf&lt;/a&gt;) and involves a number of graph algorithms that are to our knowledge currently not present in Mahout:&lt;/p&gt;


&lt;p&gt;&lt;b&gt;Goal: finding K-Trusses&lt;/b&gt;&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;relaxation of k-member clique&lt;/li&gt;
	&lt;li&gt;non-trivial, single-component maximal subgraph, s.t.&lt;/li&gt;
	&lt;li&gt;every edge is contained in at least k-2 triangles in the subgraph&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;b&gt;Algorithms to be implemented on top of Mahout / Hadoop:&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;&lt;b&gt;simplifyGraph&lt;/b&gt;: Edges -&amp;gt; RepresentativeEdges&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;removes Loops (not cycles)&lt;/li&gt;
	&lt;li&gt;aggregate duplicate edges&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;b&gt;augmentGraphWithDegrees&lt;/b&gt;: RepresentativeEdges -&amp;gt; AugmentedEdges = (Edge (v, u) , d(v), d(u))&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;augements the edges with degree information for both nodes d(v) = |
{E | E = (x,y) a. (x = v o. y = v) }
&lt;p&gt;|&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;b&gt;enumerateTriangles&lt;/b&gt;: AugmentedEdges  = (Edge, d(v), d(u)) -&amp;gt; Triangles (v, u, s) &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;finds all triangles in a Graph&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;b&gt;findComponents&lt;/b&gt;: RepresentativeEdges -&amp;gt; ZoneAssignments (v, z)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;finds all components of a graph, each identified as the order number of the lowest-order vertex contained&lt;/li&gt;
	&lt;li&gt;consists of:
	&lt;ul&gt;
		&lt;li&gt;step 1: find adjacent zones: Edges x Zones -&amp;gt; InterzoneEdges (z, z)&lt;/li&gt;
		&lt;li&gt;step 2: merge adjacent zones into one (the lowest-order neighbouring zone): InterzoneEdges, ZoneAssignments (v, z) -&amp;gt; Pairs (v, z)&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;while true do:
  step 1
  if empty set interzone edges break;
  step 2
done
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;b&gt;findKTrusses&lt;/b&gt;: Edges, k -&amp;gt; ZoneAssignments (v, z)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;finds all k-trusses of the graph&lt;/li&gt;
	&lt;li&gt;each returned vertex v is part of a truss z&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;simplifyGraph
while true do:
  augmentGraphWithDegrees
  enumerateTriangles
  keep only edges contained in k-2 triangles
  if all edges kept break;
done
findComponents
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;We suppose to create the package &lt;tt&gt;org.apache.mahout.graph.trusses&lt;/tt&gt; and  &lt;tt&gt;org.apache.mahout.graph.components&lt;/tt&gt; in the &lt;tt&gt;core&lt;/tt&gt; module.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12508051">MAHOUT-710</key>
            <summary>Implementing K-Trusses</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ssc">Sebastian Schelter</assignee>
                                    <reporter username="tillmannfiehn">Tillmann Fiehn</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 May 2011 14:20:52 +0100</created>
                <updated>Tue, 31 Mar 2015 23:48:55 +0100</updated>
                            <resolved>Sat, 15 Oct 2011 16:37:51 +0100</resolved>
                                    <version>0.5</version>
                                    <fixVersion>0.6</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                    <timeoriginalestimate seconds="2419200">672h</timeoriginalestimate>
                            <timeestimate seconds="2419200">672h</timeestimate>
                                        <comments>
                            <comment id="13050684" author="tillmannfiehn" created="Thu, 16 Jun 2011 20:48:37 +0100"  >&lt;p&gt;Hi Mahouters!&lt;/p&gt;

&lt;p&gt;We worked on the features requested and are proud to present a first unit.&lt;/p&gt;

&lt;p&gt;We implemented &lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;SimplifyGraph which can process a variaty of graphs&lt;/li&gt;
	&lt;li&gt;AugmentGraphWithDegrees which augments a graph with degrees to increase stability for future processings&lt;/li&gt;
	&lt;li&gt;EnumerateTriangles which enumerates the triangles of a graph&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This three jobs and a set of tests to proof functionality and usage a available from:&lt;br/&gt;
&lt;a href=&quot;https://TillmannFiehn@github.com/TillmannFiehn/ktrusses.git&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://TillmannFiehn@github.com/TillmannFiehn/ktrusses.git&lt;/a&gt;&lt;br/&gt;
In there is a mvn project that builds against mahout-0.5. &lt;/p&gt;</comment>
                            <comment id="13050687" author="tillmannfiehn" created="Thu, 16 Jun 2011 20:51:30 +0100"  >&lt;p&gt;Feature attachment of graph algorithms:&lt;br/&gt;
In preparation for k-trusses we implemented &lt;br/&gt;
SimplifyGraph&lt;br/&gt;
AugmentGraphWithDegrees&lt;br/&gt;
EnumerateTriangles&lt;/p&gt;</comment>
                            <comment id="13050713" author="ssc" created="Thu, 16 Jun 2011 21:36:22 +0100"  >&lt;p&gt;Hello Tillmann and Sebastian,&lt;/p&gt;

&lt;p&gt;I skimmed through your code and it looks great, nice job. &lt;/p&gt;

&lt;p&gt;There are some minor issues with dependencies (stratosphere is not publicly available as maven artifact e.g.) and code conventions, but those can be addressed with little effort. After that is done, I&apos;m looking forward to a SVN conform patch that can be integrated!&lt;/p&gt;



</comment>
                            <comment id="13051380" author="tillmannfiehn" created="Fri, 17 Jun 2011 23:53:53 +0100"  >&lt;p&gt;Hi all,&lt;br/&gt;
this is the requested SVN conform patch.&lt;br/&gt;
I appretiate any comments and corrections.&lt;br/&gt;
Greetings Tillmann&lt;/p&gt;</comment>
                            <comment id="13051669" author="srowen" created="Sun, 19 Jun 2011 12:05:26 +0100"  >&lt;p&gt;The code looks tidy and well-thought-out. &lt;br/&gt;
I don&apos;t know this algorithm and would love to hear about real-world use cases for it. (Maybe you can announce this on the user@ list with some comments on what it is used for.&lt;br/&gt;
It seems interesting enough to have such an algorithm that I would say go ahead.&lt;/p&gt;</comment>
                            <comment id="13051731" author="hector.yee" created="Sun, 19 Jun 2011 21:55:18 +0100"  >&lt;p&gt;I&apos;d love to beta test it soon. How will Enumerate Triangle perform on a graph of tens of millions of nodes?&lt;/p&gt;</comment>
                            <comment id="13051739" author="ssc" created="Sun, 19 Jun 2011 22:32:50 +0100"  >&lt;p&gt;@Tillmann and Sebastian&lt;/p&gt;

&lt;p&gt;I committed your patch with some major modifications. While your generic writable approach was very elegant, I removed them for more simple writables and more expressive signatures. I tried to streamline and polish a lot of things as well as refactor them to use Mahout-ish conventions.&lt;/p&gt;

&lt;p&gt;Yet I did not change any piece of the algorithmic basis and I want to again thank you for that awesome piece of work of yours! Kudos in the name of the Mahout community!&lt;/p&gt;

&lt;p&gt;@Sean&lt;/p&gt;

&lt;p&gt;In short words, enumerating triangles (three interconnected nodes) in a graph is used as a preprocessing step for finding strongly connected &quot;communities&quot; in a graph. Theoretically you want to find &quot;maximum cliques&quot; in a graph but this is NP-hard and real cliques are rare in reality. The final goal of this issue is to create an algorithm to find k-trusses, which are a relaxation of those cliques. Maybe Tillmann and Sebastian want to write a little more about the usecase on the mailinglist, I&apos;ll ask them.&lt;/p&gt;

&lt;p&gt;@Hector&lt;/p&gt;

&lt;p&gt;Would be great to see you beta-test this code on large graphs. The running time should be very dependent on the degree distribution in the graph as the number of &quot;open triads&quot; (possible triangles with one missing edge) to consider per vertex is the square of its degree.&lt;/p&gt;</comment>
                            <comment id="13051743" author="hudson" created="Sun, 19 Jun 2011 23:56:43 +0100"  >&lt;p&gt;Integrated in Mahout-Quality #892 (See &lt;a href=&quot;https://builds.apache.org/job/Mahout-Quality/892/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Mahout-Quality/892/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-710&quot; title=&quot;Implementing K-Trusses&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-710&quot;&gt;&lt;del&gt;MAHOUT-710&lt;/del&gt;&lt;/a&gt; graph primitives and triangle enumeration code&lt;/p&gt;

&lt;p&gt;ssc : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1137447&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1137447&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/mahout/trunk/core&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/test/java/org/apache/mahout/graph/triangles&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/main/java/org/apache/mahout/graph/model/VertexWithDegree.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/main/java/org/apache/mahout/graph/common/AugmentGraphWithDegreesJob.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/main/java/org/apache/mahout/graph/model/UndirectedEdgeWithDegrees.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/main/java/org/apache/mahout/graph/model/package-info.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/main/java/org/apache/mahout/graph/common/SimplifyGraphJob.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/test/java/org/apache/mahout/graph&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/main/java/org/apache/mahout/graph/triangles/package-info.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/main/java/org/apache/mahout/graph/common/package-info.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/main/java/org/apache/mahout/graph/package-info.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/test/java/org/apache/mahout/graph/common/AugmentGraphWithDegreesJobTest.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/test/java/org/apache/mahout/cf/taste/impl/TasteTestCase.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/test/java/org/apache/mahout/graph/common/SimplifyGraphJobTest.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/main/java/org/apache/mahout/graph/triangles/EnumerateTrianglesJob.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/main/java/org/apache/mahout/graph/model/Triangle.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/test/java/org/apache/mahout/graph/common&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/main/java/org/apache/mahout/graph/model/Vertex.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/test/java/org/apache/mahout/graph/triangles/EnumerateTrianglesJobTest.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/main/java/org/apache/mahout/graph/model&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/main/java/org/apache/mahout/graph/triangles/JoinableUndirectedEdge.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/test/java/org/apache/mahout/common/MahoutTestCase.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/main/java/org/apache/mahout/graph/triangles/VertexOrMarker.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/main/java/org/apache/mahout/graph/triangles&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/main/java/org/apache/mahout/graph/model/UndirectedEdge.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/main/java/org/apache/mahout/graph/common&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/main/java/org/apache/mahout/graph&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13055057" author="ssc" created="Sun, 26 Jun 2011 12:51:16 +0100"  >&lt;p&gt;That one&apos;s not done yet, the committed patch only contains the preprocessing steps (which I committed because they are themselves already very useful).&lt;/p&gt;

&lt;p&gt;Should we reopen this or edit it and create a new issue for the remaining functionality?&lt;/p&gt;</comment>
                            <comment id="13055058" author="tillmannfiehn" created="Sun, 26 Jun 2011 12:59:23 +0100"  >&lt;p&gt;I think, we should reopen it because it sums up documentation for all the functionality. &lt;br/&gt;
However: I am working on the issue and can submit another patch soon.&lt;/p&gt;</comment>
                            <comment id="13060704" author="tillmannfiehn" created="Wed, 6 Jul 2011 18:27:35 +0100"  >&lt;p&gt;Giving implementations for graph algorithms:&lt;br/&gt;
 find components in a graph&lt;br/&gt;
 find k-trusses in a graph&lt;/p&gt;

&lt;p&gt;Featuring:&lt;br/&gt;
 javadoc&lt;br/&gt;
 toy integration tests with multiple recursion runs&lt;/p&gt;

&lt;p&gt;I am happy to receive further ideas on improvements.&lt;/p&gt;</comment>
                            <comment id="13060706" author="tillmannfiehn" created="Wed, 6 Jul 2011 18:29:20 +0100"  >&lt;p&gt;Thank you very much for the refactorings and support on the first patch.&lt;br/&gt;
Here is another one with the pending algorithms.&lt;/p&gt;</comment>
                            <comment id="13128130" author="srowen" created="Sat, 15 Oct 2011 11:31:32 +0100"  >&lt;p&gt;Is the second patch OK to commit Sebastian? I would assume so.&lt;br/&gt;
I am unable to apply it as it&apos;s gone out of sync with HEAD. Tillmann can you try to reintegrate it?&lt;/p&gt;</comment>
                            <comment id="13128134" author="ssc" created="Sat, 15 Oct 2011 12:17:01 +0100"  >&lt;p&gt;I&apos;m a bit undecided on this one.&lt;/p&gt;

&lt;p&gt;We implemented triangle enumeration as a preprocessing step like it is described in the article that Tillmann referenced but when we tried it on medium sized graphs (100M edges) the performance was horrible...&lt;/p&gt;

&lt;p&gt;It would be tragic to let the work Tillmann and Sebastian A. put in here go to waste, but the algorithm as it is described in the article is clearly not suited for production systems...&lt;/p&gt;</comment>
                            <comment id="13128219" author="srowen" created="Sat, 15 Oct 2011 16:37:51 +0100"  >&lt;p&gt;Well some good code was already submitted as part of this. An experiment is worthwhile even if it merely shows something doesn&apos;t work. The code and issue remain here in JIRA. I assume everyone learned a bit as a result. I&apos;d say close this if there&apos;s no indication that there&apos;s a submit coming in the near future. Of course, this can always be found and reopened by the contributors or anyone that wants to revisit it.&lt;/p&gt;</comment>
                            <comment id="13128243" author="ssc" created="Sat, 15 Oct 2011 18:09:07 +0100"  >&lt;p&gt;Unfortunately it is already that commited code that (to my impression) does not fit the MapReduce paradigm and should be removed...&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12483004" name="0001-SimplifyGraph_AugmentEdgesWithDegrees_EnumerateTriangles_workfine.patch" size="106984" author="tillmannfiehn" created="Fri, 17 Jun 2011 23:53:53 +0100"/>
                            <attachment id="12485456" name="0002-FindComponents_FindKTrusses_workfine.patch" size="60360" author="tillmannfiehn" created="Wed, 6 Jul 2011 18:29:20 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 16 Jun 2011 20:36:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9352</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxy3gf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22711</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>