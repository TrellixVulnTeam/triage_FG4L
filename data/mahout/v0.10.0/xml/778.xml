<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:21:18 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-778/MAHOUT-778.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-778] Mark folder name of final clustering iteration with pattern such as &apos;cluster-n-last&apos;</title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-778</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt;It would be useful if the KMeans, FuzzyKMeans would specify the last cluster iteration folder with a pattern such as &apos;cluster-n-last&apos;.&lt;/p&gt;

&lt;p&gt;At the moment it is difficult to configure other programs to process clustering results since the number of actual iterations is not known up front.&lt;/p&gt;

&lt;p&gt;A PathFilder similar to ClustersFilter could be created which filters folders on the pattern &apos;cluster-*-last&apos; in order to determine the folder.&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12515634">MAHOUT-778</key>
            <summary>Mark folder name of final clustering iteration with pattern such as &apos;cluster-n-last&apos;</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="srowen">Sean Owen</assignee>
                                    <reporter username="frankscholten">Frank Scholten</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 Jul 2011 13:45:35 +0100</created>
                <updated>Thu, 9 Feb 2012 14:00:40 +0000</updated>
                            <resolved>Fri, 30 Sep 2011 20:21:01 +0100</resolved>
                                    <version>0.5</version>
                                    <fixVersion>0.6</fixVersion>
                                    <component>Clustering</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13115446" author="srowen" created="Tue, 27 Sep 2011 13:38:14 +0100"  >&lt;p&gt;How does this look? It adds an empty file called &quot;cluster-N-last&quot;, where &quot;cluster-N&quot; is the last directory created and so has the result. I was reluctant to move or rename where the data ends up so as to break less stuff; this is a smaller change.&lt;/p&gt;</comment>
                            <comment id="13115680" author="jeastman" created="Tue, 27 Sep 2011 17:23:55 +0100"  >&lt;p&gt;+1 Looks like a minimalist solution to a common problem. The alternative is to iterate over the clusters-n directories looking for the highest n. This makes it a simple deterministic computation.&lt;/p&gt;</comment>
                            <comment id="13115681" author="jeastman" created="Tue, 27 Sep 2011 17:23:55 +0100"  >&lt;p&gt;+1 Looks like a minimalist solution to a common problem. The alternative is to iterate over the clusters-n directories looking for the highest n. This makes it a simple deterministic computation.&lt;/p&gt;</comment>
                            <comment id="13115693" author="srowen" created="Tue, 27 Sep 2011 17:34:04 +0100"  >&lt;p&gt;(I&apos;m also happy to create a simple method that would go find the dir with the highest number. Would that be better? I am not sure if Frank was suggesting this was the extent of the pain to be solved, or whether the problem is more generally that you don&apos;t know at any given time whether there&apos;s another iteration coming, and to wait. In which case, yeah, we need a &quot;done&quot; marker like this. Frank, preferences?)&lt;/p&gt;</comment>
                            <comment id="13115998" author="frankscholten" created="Wed, 28 Sep 2011 00:13:25 +0100"  >&lt;p&gt;+1 for the done marker&lt;/p&gt;

&lt;p&gt;I modified ClustersFilter from examples (Used by the Display* Classes).&lt;/p&gt;

&lt;p&gt;You can pass a Configuration object and a cluster output Path to the constructor and it will accept the last iteration path if the done marker is present. Otherwise it accepts &apos;clusters-0&apos;.&lt;/p&gt;

&lt;p&gt;Let me know what you think. &lt;/p&gt;

&lt;p&gt;There is still the problem that you need to pass in the exact last iteration path to ClusterDumper. If the last iteration path is renamed to &apos;clusters-n-done&apos; you can use a glob for command line Mahout: &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
--output=clusters-*-done
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;but this would break existing things.&lt;/p&gt;</comment>
                            <comment id="13116223" author="lancenorskog" created="Wed, 28 Sep 2011 07:18:20 +0100"  >&lt;p&gt;Could the final iteration files be renamed at the end of the job? This convention would make other iterated algorithms easier to process.&lt;/p&gt;</comment>
                            <comment id="13116321" author="srowen" created="Wed, 28 Sep 2011 11:17:38 +0100"  >&lt;p&gt;It could... what to rename it to though? I&apos;m concerned that would break any users that expect the current behavior. This at least leaves the behavior as-is.&lt;/p&gt;</comment>
                            <comment id="13116598" author="jeastman" created="Wed, 28 Sep 2011 17:54:38 +0100"  >&lt;p&gt;There is an existing method, TestClusterDumper.finalClusterPath(), that could be moved to resolve this programmatically. Alternatively, appending &quot;-final&quot; or somesuch to the final clusters directory would work and has some appeal to me. I think the impact of the latter would be minimal and that users would welcome it. Better to do the right thing now than postpone, IMHO. &lt;/p&gt;</comment>
                            <comment id="13117237" author="srowen" created="Thu, 29 Sep 2011 13:22:15 +0100"  >&lt;p&gt;OK here&apos;s an omnibus patch, including Jeff&apos;s idea. It shows the extent of the caller change, by showing how unit tests have to change. Not a big change, but does break anyone expecting to find clusters-N. If Frank / Jeff / Robin think that&apos;s OK (and I think that sounds OK), I&apos;ll commit.&lt;/p&gt;</comment>
                            <comment id="13117956" author="frankscholten" created="Fri, 30 Sep 2011 10:54:19 +0100"  >&lt;p&gt;Fixed the ClustersFilter so it accepts paths starting with &quot;clusters-&quot; and ending with &quot;-final&quot;.&lt;/p&gt;

&lt;p&gt;Extracted &quot;-final&quot; as a constant in Cluster and updated the build-reuters script so it uses a glob for the cluster output path.&lt;/p&gt;

</comment>
                            <comment id="13118162" author="jeastman" created="Fri, 30 Sep 2011 17:20:45 +0100"  >&lt;p&gt;+1 looks reasonable to me&lt;/p&gt;</comment>
                            <comment id="13118298" author="srowen" created="Fri, 30 Sep 2011 20:21:01 +0100"  >&lt;p&gt;Committed Frank&apos;s latest, with additional test changes to make them pass&lt;/p&gt;</comment>
                            <comment id="13118548" author="hudson" created="Fri, 30 Sep 2011 23:57:55 +0100"  >&lt;p&gt;Integrated in Mahout-Quality #1073 (See &lt;a href=&quot;https://builds.apache.org/job/Mahout-Quality/1073/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Mahout-Quality/1073/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-778&quot; title=&quot;Mark folder name of final clustering iteration with pattern such as &amp;#39;cluster-n-last&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-778&quot;&gt;&lt;del&gt;MAHOUT-778&lt;/del&gt;&lt;/a&gt; label final output as &quot;clusters-N-final&quot;&lt;/p&gt;

&lt;p&gt;srowen : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1177786&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1177786&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/mahout/trunk/core/src/main/java/org/apache/mahout/clustering/Cluster.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/main/java/org/apache/mahout/clustering/dirichlet/DirichletDriver.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/main/java/org/apache/mahout/clustering/fuzzykmeans/FuzzyKMeansDriver.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/main/java/org/apache/mahout/clustering/kmeans/KMeansDriver.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/main/java/org/apache/mahout/clustering/meanshift/MeanShiftCanopyDriver.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/test/java/org/apache/mahout/clustering/meanshift/TestMeanShift.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/examples/src/main/java/org/apache/mahout/clustering/display/ClustersFilter.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/examples/src/test/java/org/apache/mahout/clustering&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/examples/src/test/java/org/apache/mahout/clustering/display&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/examples/src/test/java/org/apache/mahout/clustering/display/ClustersFilterTest.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/integration/src/test/java/org/apache/mahout/clustering/TestClusterDumper.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/integration/src/test/java/org/apache/mahout/clustering/TestClusterEvaluator.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12496810" name="MAHOUT-778-ClustersFilter.patch" size="5527" author="frankscholten" created="Wed, 28 Sep 2011 00:13:49 +0100"/>
                            <attachment id="12497132" name="MAHOUT-778.patch" size="14148" author="frankscholten" created="Fri, 30 Sep 2011 10:54:19 +0100"/>
                            <attachment id="12496996" name="MAHOUT-778.patch" size="16525" author="srowen" created="Thu, 29 Sep 2011 13:22:14 +0100"/>
                            <attachment id="12496678" name="MAHOUT-778.patch" size="5500" author="srowen" created="Tue, 27 Sep 2011 13:37:19 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 27 Sep 2011 12:38:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9284</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxy31j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22644</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>