<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:18:47 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-931/MAHOUT-931.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-931] Implement a pluggable outlier removal capability for cluster classifiers</title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-931</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt;A pluggable outlier removal capability while classifying the clusters is needed. The classification and outlier removal implementations, both should be completely separate entities for better abstraction. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12535609">MAHOUT-931</key>
            <summary>Implement a pluggable outlier removal capability for cluster classifiers</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paritoshranjan">Paritosh Ranjan</assignee>
                                    <reporter username="paritoshranjan">Paritosh Ranjan</reporter>
                        <labels>
                    </labels>
                <created>Sun, 18 Dec 2011 04:41:18 +0000</created>
                <updated>Sat, 16 Jun 2012 10:35:20 +0100</updated>
                            <resolved>Sun, 1 Apr 2012 06:39:36 +0100</resolved>
                                    <version>0.6</version>
                                    <fixVersion>0.7</fixVersion>
                                    <component>Classification</component>
                    <component>Clustering</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13172480" author="paritoshranjan" created="Mon, 19 Dec 2011 18:38:01 +0000"  >&lt;p&gt;This story depends on implementation/design of Mahout-930. I think Mahout-930&apos;s design of Vector classification is chalked out pretty nicely. We can start working to implementing all the policies, and other improvements.&lt;/p&gt;

&lt;p&gt;But before going on fully implementing the Cluster Classification, I think it would be good to at least finalize the interface for Outlier Removal. I also think that binding it only to an outlier removal is not going to help forever.&lt;/p&gt;

&lt;p&gt;So, following the open closed principle. Lets close it for further modification by plugging a Collection&amp;lt;Strategy&amp;gt; into the Policy. The Strategy can be outlier removal or any other feature which can be developed by implementing Strategy interface. So, this will also keep it open for extension. &quot;Strategy&quot; is just a thought, it can be any other name.&lt;/p&gt;

&lt;p&gt;I will try to submit a patch for some mock/Canopy Outlier Removal first, by implementing &quot;Strategy&quot;. If the design works and look good, then the designing part would be over. &lt;/p&gt;

&lt;p&gt;Does it look like a good way to proceed? Any suggestions?&lt;/p&gt;</comment>
                            <comment id="13172873" author="jeastman" created="Tue, 20 Dec 2011 02:53:46 +0000"  >&lt;p&gt;I agree that defining the interfaces for cluster classification and outlier removal are a good place to start. Why don&apos;t you take a stab at it since you seem to have some ideas in mind?&lt;/p&gt;</comment>
                            <comment id="13172897" author="paritoshranjan" created="Tue, 20 Dec 2011 04:04:29 +0000"  >&lt;p&gt;Ok, I will try to submit a patch for it soon.&lt;/p&gt;</comment>
                            <comment id="13175978" author="paritoshranjan" created="Mon, 26 Dec 2011 17:42:22 +0000"  >&lt;p&gt;I was thinking about the implementation and interface designing. Thought it could be best described using some code.&lt;br/&gt;
I think that this interface design will be able to tackle almost all future implementation changes in classification of clusters. &lt;br/&gt;
If you have suggestions to improve it, then I can work on that. Else I think, we can also commit it and build over it.&lt;/p&gt;</comment>
                            <comment id="13175980" author="paritoshranjan" created="Mon, 26 Dec 2011 17:46:30 +0000"  >&lt;p&gt;The ClusterConfig class in the patch, can be further used to group all the clustering parameters of different clustering algorithms in a class. This will help in getting rid of long parameter list in the run() methods of the Clustering Drivers.  &lt;/p&gt;</comment>
                            <comment id="13175983" author="jeastman" created="Mon, 26 Dec 2011 18:06:41 +0000"  >&lt;p&gt;This patch looks to be mostly a rename of existing classes. I&apos;m not one to be hung up on names, but I don&apos;t understand why the first thing you are proposing is to rename everything?&lt;/p&gt;</comment>
                            <comment id="13175989" author="paritoshranjan" created="Mon, 26 Dec 2011 18:37:45 +0000"  >&lt;p&gt;I think the Clustering Policy is all that is needed for extensibility. The design changes I did are :&lt;/p&gt;

&lt;p&gt;a) Passing the vector rather than the probability to the clustering policy. I think this might be needed for clustering/outlier removal. Might help in transforming vector/adding weight before classification ( thinking of some future functionalities )&lt;br/&gt;
b) Added ClusterConfig objects to the policies. Now, the clustering policy will know all about the clustering parameters used. So, they will be able to classify accordingly.&lt;br/&gt;
c) ClusterConfig objects will emerge as generic cluster configuration objects, which can be used anywhere in clustering algorithms. Right now, there are a bunch of clustering parameters scattered through method calls.&lt;/p&gt;

&lt;p&gt;I am in a habit of renaming/cleaning things while coding. So, it just happened. &lt;/p&gt;</comment>
                            <comment id="13176227" author="paritoshranjan" created="Tue, 27 Dec 2011 16:42:59 +0000"  >&lt;p&gt;I am a bit confused.&lt;/p&gt;

&lt;p&gt;Are we planning to get rid of the way clustering is being done currently, which is algorithms specific? i.e. the code in CanopyClusterer.&lt;br/&gt;
Will the new clustering strategy be &quot;only&quot; what is implemented in ClusterClassifier? i.e. Calculating probabilities of vectors belonging to different models (clusters) and choose the model with highest probability?&lt;/p&gt;

&lt;p&gt;If yes, then Implementing Clustering policy for different clustering algorithms is all that is needed. And for outlier removal, just a threshold probability will be needed. All vectors below that probability won&apos;t be clustered. Am I correct?&lt;/p&gt;

&lt;p&gt;Till now, I have been thinking that the clustering code just needs to be refactored out ( without changing the implementation ). If this is the case, then, I think, I have been proceeding in the correct direction ( in terms of design ). &lt;/p&gt;

&lt;p&gt;However, I am doubting that we are not in sync regarding the way of implementation. I think you want to change the clustering implementation to a cluster classification implementation, with outlier removal ( and completely get rid of the algorithm specific implementation, which makes sense ). &lt;/p&gt;

&lt;p&gt;So, it would be really helpful if you can clarify my doubts.&lt;/p&gt;

</comment>
                            <comment id="13176239" author="jeastman" created="Tue, 27 Dec 2011 17:40:56 +0000"  >&lt;p&gt;Renaming existing entities may be appropriate, but that ought to be done as a separate, independent and agreed-upon change. Otherwise we do not have a consistent vocabulary to discuss the functionality issues. Can we hold off on renaming until we get a bit more of the semantics defined? &lt;/p&gt;

&lt;p&gt;I tend to agree that implementing a set of algorithm-specific clustering policy objects will enable many (not all) of the current implementations to be re-implemented with the ClusterClassifier/Iterator. I think we will need to preserve the existing driver classes which support CLI argument selection in their run() methods but that the buildClusters methods would be revamped to use the new implementation. It does seem like these policy objects need to encapsulate the relevant CLI arguments so we are in synch there.&lt;/p&gt;

&lt;p&gt;The clusterPoints methods can also be re-implemented using the new clustering postprocessor in &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-929&quot; title=&quot;Refactor Clustering (Vector Classification) into a Separate Postprocess with Outlier Pruning&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-929&quot;&gt;&lt;del&gt;MAHOUT-929&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;
</comment>
                            <comment id="13176266" author="paritoshranjan" created="Tue, 27 Dec 2011 19:01:09 +0000"  >&lt;p&gt;Ok. &lt;/p&gt;

&lt;p&gt;Should I proceed like this :&lt;/p&gt;

&lt;p&gt;Step 1) Encapsulte Cluster specific CLI arguments (ClusterConfig and its cluster specific implementations)&lt;/p&gt;

&lt;p&gt;Step 2) Implement all Clustering policies&lt;/p&gt;

&lt;p&gt;Step 3) Implement outlier removal in policies. &lt;br/&gt;
Step 3a) First cut : use a probability threshold based outlier removal ( as described in previous comment )&lt;br/&gt;
Step 3b) Final cut : Use cluster specific arguments for outlier removal. &lt;/p&gt;

&lt;p&gt;Step 4) Replace Clustering Algorithms with Classifier/Iterator ( for algorithms which can be done using this )&lt;/p&gt;

&lt;p&gt;Regarding naming, I would say, that, readability should always be given importance. I consider naming as an important part of software development, either working alone or in a team. I prefer readable code than JavaDocs. The current code is not having ample JavaDocs, so at least naming should be appropriate. I am not pushing for name change, just expressing my thoughts.&lt;/p&gt;

&lt;p&gt;If you agree upon implementing things in the order (Steps) I mentioned. Then I can start implementing them. If you have any suggestions to improve them, then please suggest. &lt;/p&gt;</comment>
                            <comment id="13176331" author="jeastman" created="Tue, 27 Dec 2011 21:35:25 +0000"  >&lt;p&gt;1. I don&apos;t see a reason to introduce ClusterConfigs yet. I believe the various CLI arguments can be carried in the appropriate ClusteringPolicy implementations.&lt;/p&gt;

&lt;p&gt;2. Other than augmenting what exist already with some more CLI arguments, I think this is done&lt;/p&gt;

&lt;p&gt;3. Outlier removal is not a part of the buildClusters step, rather the clusterPoints step. I thought you were going to work on those stories while I finish up the mapreduce implementation of buildClusters using ClusterIterator/Classifier/Policies (&lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-933&quot; title=&quot;Implement mapreduce version of ClusterIterator&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-933&quot;&gt;&lt;del&gt;MAHOUT-933&lt;/del&gt;&lt;/a&gt;)? This story (&lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-931&quot; title=&quot;Implement a pluggable outlier removal capability for cluster classifiers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-931&quot;&gt;&lt;del&gt;MAHOUT-931&lt;/del&gt;&lt;/a&gt;) should follow after -929 &amp;amp; -930, IMHO, for example:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;929 implement a new post processor that does only classification as required by the various clusterPoints steps.&lt;/li&gt;
	&lt;li&gt;930 modify the existing drivers to use this post processor rather than their current, custom implementations.&lt;/li&gt;
	&lt;li&gt;931 modify the post processor to support pluggable outlier removal.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;4. This can be done once -933 is complete.&lt;/p&gt;

&lt;p&gt;In any case, this is all post-0.6 stuff. Let&apos;s leave trunk where it is with the renaming for now.&lt;/p&gt;</comment>
                            <comment id="13176423" author="paritoshranjan" created="Wed, 28 Dec 2011 03:13:23 +0000"  >&lt;p&gt;Ok, I will start working in the following order then. I have few more doubts which I have written inline.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;929 implement a new post processor that does only classification as required by the various clusterPoints steps.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The new post processor for clusterPoints() would use the Cluster Classifier to identify which vector belongs to which cluster. At least for K-means, Canopy, Dirichlet ( i.e. similar policies exist for them ). I need to create a mapreduce and sequential version of it. Am I correct?&lt;/p&gt;

&lt;p&gt;The current ClusterIterator is for buildCluster phase, as it is also training sideways?&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;930 modify the existing drivers to use this post processor rather than their current, custom implementations.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Currently, the buildClusters and clusteredPoints run in the same method call for each vector. The new implementation would let buildClusters run for all input vectors first. And only after buildClusters is completely finished, start a new call for clusterPoints ( for all input vectors, using the new post processor ). &lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;931 modify the post processor to support pluggable outlier removal.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This would be a probability threshold based implementation?&lt;/p&gt;</comment>
                            <comment id="13176707" author="jeastman" created="Wed, 28 Dec 2011 17:09:52 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;929: Yes, use the existing ClusterClassifier to write sequential and mapreduce versions of a post processor to do vector classification. You should not need the ClusterIterator as that is used for the buildCluster phase.&lt;/li&gt;
	&lt;li&gt;930: No, buildClusters runs to completion on all vectors before clusterPoints is called on them. Currently, it is not possible to run the clusterPoints without first running buildClusters. With the post processor, they will be completely independent jobs (the existing CLI drivers may still bundle them for compatibility).&lt;/li&gt;
	&lt;li&gt;931: Yes, a probability-based threshold would work with the current ClusterClassifier API. A distance-based threshold (like Canopy T1 pruning) would need a different mechanism.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13216845" author="hudson" created="Sun, 26 Feb 2012 21:08:02 +0000"  >&lt;p&gt;Integrated in Mahout-Quality #1368 (See &lt;a href=&quot;https://builds.apache.org/job/Mahout-Quality/1368/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Mahout-Quality/1368/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-931&quot; title=&quot;Implement a pluggable outlier removal capability for cluster classifiers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-931&quot;&gt;&lt;del&gt;MAHOUT-931&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-929&quot; title=&quot;Refactor Clustering (Vector Classification) into a Separate Postprocess with Outlier Pruning&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-929&quot;&gt;&lt;del&gt;MAHOUT-929&lt;/del&gt;&lt;/a&gt;. Added emitMostLikely and threshold based outlier removal capability in ClusterClassificationDriver. (Revision 1293874)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
pranjan : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1293874&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1293874&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/mahout/trunk/core/src/main/java/org/apache/mahout/clustering/classify/ClusterClassificationDriver.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/test/java/org/apache/mahout/clustering/classify/ClusterClassificationDriverTest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13217942" author="hudson" created="Tue, 28 Feb 2012 06:15:14 +0000"  >&lt;p&gt;Integrated in Mahout-Quality #1371 (See &lt;a href=&quot;https://builds.apache.org/job/Mahout-Quality/1371/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Mahout-Quality/1371/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-929&quot; title=&quot;Refactor Clustering (Vector Classification) into a Separate Postprocess with Outlier Pruning&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-929&quot;&gt;&lt;del&gt;MAHOUT-929&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-931&quot; title=&quot;Implement a pluggable outlier removal capability for cluster classifiers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-931&quot;&gt;&lt;del&gt;MAHOUT-931&lt;/del&gt;&lt;/a&gt;. Implemented mapreduce version of ClusterClassificationDriver with outlier removal capability.&lt;br/&gt;
Changed output of sequential to WeightedVectorWritable. Fixed and added test cases. (Revision 1294454)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
pranjan : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1294454&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1294454&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/mahout/trunk/core/src/main/java/org/apache/mahout/clustering/classify/ClusterClassificationConfigKeys.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/main/java/org/apache/mahout/clustering/classify/ClusterClassificationDriver.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/main/java/org/apache/mahout/clustering/classify/ClusterClassificationMapper.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/test/java/org/apache/mahout/clustering/classify/ClusterClassificationDriverTest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13243661" author="paritoshranjan" created="Sun, 1 Apr 2012 06:39:36 +0100"  >&lt;p&gt;This issue got resolved with &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-929&quot; title=&quot;Refactor Clustering (Vector Classification) into a Separate Postprocess with Outlier Pruning&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-929&quot;&gt;&lt;del&gt;MAHOUT-929&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12535496">MAHOUT-929</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12535608">MAHOUT-930</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12516099" name="MAHOUT-931" size="18591" author="paritoshranjan" created="Sun, 26 Feb 2012 15:43:23 +0000"/>
                            <attachment id="12508635" name="MAHOUT-931" size="31497" author="paritoshranjan" created="Mon, 26 Dec 2011 17:42:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 20 Dec 2011 02:53:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>221293</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxy23b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22490</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>