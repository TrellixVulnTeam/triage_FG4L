<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:20:37 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-1505/MAHOUT-1505.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-1505] structure of clusterdump&apos;s JSON output</title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-1505</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt;Hi all, I&apos;m working on some automated analysis of the clusterdump output using &apos;-of = JSON&apos;. While digging into the structure of the representation of the data I&apos;ve noticed something that seems a little odd to me.&lt;/p&gt;

&lt;p&gt;In order to access the data for a particular cluster, the &apos;cluster&apos;, &apos;n&apos;, &apos;c&apos; &amp;amp; &apos;r&apos; values are all in one continuous string. For example:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;{&quot;cluster&quot;:&quot;VL-10515{n=5924 c=[action:0.023, adherence:0.223, administration:0.011 r=[action:0.446, adherence:1.501, administration:0.306]}&quot;}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is also the case for the &quot;point&quot;:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;{&quot;point&quot;:&quot;013FFD34580BA31AECE5D75DE65478B3D691D138 = [body:6.904, harm:10.101]&quot;,&quot;vector_name&quot;:&quot;013FFD34580BA31AECE5D75DE65478B3D691D138&quot;,&quot;weight&quot;:&quot;1.0&quot;}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This leads me to believe that the only way I can get to the individual data in these items is by string parsing. For JSON deserialization I would have expected to see something along the lines of:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;{
    &quot;cluster&quot;:&quot;VL-10515&quot;,
    &quot;n&quot;:5924,
    &quot;c&quot;:
    [
        {&quot;action&quot;:0.023},
        {&quot;adherence&quot;:0.223},
        {&quot;administration&quot;:0.011}
    ],
    &quot;r&quot;:
    [
        {&quot;action&quot;:0.446},
        {&quot;adherence&quot;:1.501},
        {&quot;administration&quot;:0.306}
    ]
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;{
    &quot;point&quot;: {
        &quot;body&quot;: 6.904,
        &quot;harm&quot;: 10.101
    },
    &quot;vector_name&quot;: &quot;013FFD34580BA31AECE5D75DE65478B3D691D138&quot;,
    &quot;weight&quot;: 1.0
} 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;Andrew Musselman replied:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Looks like a bug to me as well; I would have expected something similar to&lt;br/&gt;
what you were expecting except maybe something like this which puts the &quot;c&quot;&lt;br/&gt;
and &quot;r&quot; values in objects rather than arrays of single-element objects:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;{
    &quot;cluster&quot;:&quot;VL-10515&quot;,
    &quot;n&quot;:5924,
    &quot;c&quot;:
    {
        &quot;action&quot;:0.023,
        &quot;adherence&quot;:0.223,
        &quot;administration&quot;:0.011
    },
    &quot;r&quot;:
    {
       &quot;action&quot;:0.446,
       &quot;adherence&quot;:1.501,
       &quot;administration&quot;:0.306
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;</description>
                <environment></environment>
        <key id="12706293">MAHOUT-1505</key>
            <summary>structure of clusterdump&apos;s JSON output</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="andrew.musselman">Andrew Musselman</assignee>
                                    <reporter username="tblankers">Terry Blankers</reporter>
                        <labels>
                            <label>json</label>
                    </labels>
                <created>Wed, 2 Apr 2014 22:23:24 +0100</created>
                <updated>Mon, 13 Apr 2015 11:20:20 +0100</updated>
                            <resolved>Sat, 31 May 2014 18:26:42 +0100</resolved>
                                    <version>0.9</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Clustering</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="13963659" author="andrew.musselman" created="Wed, 9 Apr 2014 01:34:08 +0100"  >&lt;p&gt;My team is planning to consume this JSON in a product now so we&apos;ll fix this along the way.&lt;/p&gt;</comment>
                            <comment id="13964688" author="amillet89" created="Wed, 9 Apr 2014 22:30:27 +0100"  >&lt;p&gt;Hey guys, I work with Andrew- willing to take this on. Just to clarify, since changes were requested w/ regards to  parsing &quot;cluster&quot; and &quot;point&quot;. Is it safe to say we can also use this same format for top_terms and make the &quot;term&quot; and &quot;weight&quot; labels implicit, just as for c and r?  for e.g.&lt;/p&gt;

&lt;p&gt;{&lt;br/&gt;
    &quot;top_terms&quot;: &lt;br/&gt;
    &lt;/p&gt;
{
        &quot;action&quot;:2.43,
        &quot;adherence&quot;:1.5
    }
&lt;p&gt;,&lt;br/&gt;
    &quot;cluster&quot;:&quot;VL-10515&quot;,&lt;br/&gt;
    &quot;n&quot;:5924,&lt;br/&gt;
    &quot;c&quot;:&lt;br/&gt;
    &lt;/p&gt;
{
        &quot;action&quot;:0.023,
        &quot;adherence&quot;:0.223,
        &quot;administration&quot;:0.011
    }
&lt;p&gt;,&lt;br/&gt;
    &quot;r&quot;:&lt;/p&gt;
    {
       &quot;action&quot;:0.446,
       &quot;adherence&quot;:1.501,
       &quot;administration&quot;:0.306
    }
&lt;p&gt;}&lt;/p&gt;</comment>
                            <comment id="13964712" author="tdunning" created="Wed, 9 Apr 2014 22:52:47 +0100"  >&lt;p&gt;Using JSON labels to hold data is a bit dangerous and certainly will be a bit controversial in some circles.  It saves a few characters, but I would be dubious of the ultimate value of that.&lt;/p&gt;

&lt;p&gt;That said, it will very likely work in the common cases.&lt;/p&gt;


</comment>
                            <comment id="13964756" author="andrew.musselman" created="Wed, 9 Apr 2014 23:40:45 +0100"  >&lt;p&gt;We thought it would save a lot characters if dealing with a large amount of terms, since they&apos;re duplicated once per term it seems. &lt;/p&gt;

&lt;p&gt;When you say &quot;to hold data&quot; you mean pushing the definition of the &quot;term&quot; into &quot;top_terms&quot; and getting rid of the &quot;weight&quot; label, right?&lt;/p&gt;

&lt;p&gt;Might do the controversial thing and see how it looks.&lt;/p&gt;
</comment>
                            <comment id="13964771" author="tdunning" created="Wed, 9 Apr 2014 23:56:31 +0100"  >&lt;p&gt;Go for it.&lt;/p&gt;

&lt;p&gt;As I think about it, the situation is no worse than string values in JSON.&lt;/p&gt;</comment>
                            <comment id="13964856" author="andrew.musselman" created="Thu, 10 Apr 2014 01:51:49 +0100"  >&lt;p&gt;I just realized top_terms is a list for a reason, which is to have the terms ranked in descending order of weight.&lt;/p&gt;

&lt;p&gt;&quot;top_terms&quot;:[&lt;/p&gt;
{&quot;weight&quot;:1.9162907600402832,&quot;term&quot;:&quot;red&quot;}
&lt;p&gt;, &lt;/p&gt;
{&quot;weight&quot;:1.678889846801758,&quot;term&quot;:&quot;over&quot;}
&lt;p&gt;, &lt;/p&gt;
{&quot;weight&quot;:1.678889846801758,&quot;term&quot;:&quot;lazy&quot;}
&lt;p&gt;, &lt;/p&gt;
{&quot;weight&quot;:1.678889846801758,&quot;term&quot;:&quot;brown&quot;}
&lt;p&gt;, &lt;/p&gt;
{&quot;weight&quot;:1.678889846801758,&quot;term&quot;:&quot;quick&quot;}
&lt;p&gt;, &lt;/p&gt;
{&quot;weight&quot;:1.678889846801758,&quot;term&quot;:&quot;jumped&quot;}
&lt;p&gt;, &lt;/p&gt;
{&quot;weight&quot;:1.5330326080322265,&quot;term&quot;:&quot;dogs&quot;}
&lt;p&gt;, &lt;/p&gt;
{&quot;weight&quot;:1.0437751770019532,&quot;term&quot;:&quot;cat&quot;}
&lt;p&gt;, &lt;/p&gt;
{&quot;weight&quot;:1.0437751770019532,&quot;term&quot;:&quot;fox&quot;}
&lt;p&gt;, &lt;/p&gt;
{&quot;weight&quot;:0.46435117721557617,&quot;term&quot;:&quot;cap&quot;}
&lt;p&gt;]&lt;/p&gt;

&lt;p&gt;Can leave it that way or refigure like this:&lt;/p&gt;

&lt;p&gt;&quot;top_terms&quot;: &lt;/p&gt;
{ &quot;terms&quot;: [ &quot;red&quot;, &quot;over&quot;, &quot;lazy&quot;, &quot;brown&quot;, &quot;quick&quot;, &quot;jumped&quot;, &quot;dogs&quot;, &quot;cats&quot;, &quot;fox&quot;, &quot;cap&quot; ], &quot;weights&quot;: [ 1.9162907600402832, 1.678889846801758, 1.678889846801758, 1.678889846801758, 1.678889846801758, 1.678889846801758, 1.5330326080322265, 1.0437751770019532, 1.0437751770019532, 0.46435117721557617 ] }</comment>
                            <comment id="13964895" author="tdunning" created="Thu, 10 Apr 2014 02:57:25 +0100"  >&lt;p&gt;Or, to use your original form, as this:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&quot;top_terms&quot;:[
  {&quot;red&quot;:1.9162907600402832},
  {&quot;over&quot;:1.678889846801758},
  {&quot;lazy&quot;:1.678889846801758},
  {&quot;brown&quot;:1.678889846801758},
  {&quot;quick&quot;:1.678889846801758},
  {&quot;jumped&quot;:1.678889846801758},
  {&quot;dogs&quot;:1.5330326080322265},
  {&quot;cat&quot;:1.0437751770019532},
  {&quot;fox&quot;:1.0437751770019532},
  {&quot;cap&quot;:0.46435117721557617}
]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13964917" author="andrew.musselman" created="Thu, 10 Apr 2014 03:32:53 +0100"  >&lt;p&gt;Good point; I was trying to avoid all those single-element objects but this looks way nicer I agree.  Parsing back out is a little awkward either way but this reads well.&lt;/p&gt;</comment>
                            <comment id="13965030" author="tdunning" created="Thu, 10 Apr 2014 06:48:30 +0100"  >&lt;p&gt;To my mind the key question is whether it is easy to iterate over fields.  If you take a look at, for instance,&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://jackson.codehaus.org/1.0.1/javadoc/org/codehaus/jackson/node/ObjectNode.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://jackson.codehaus.org/1.0.1/javadoc/org/codehaus/jackson/node/ObjectNode.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;it looks like it is very easy in Jackson (and that was 1.0.1).  JsonLib also have comparable facilities to get names, gson provides an ability to get all entries as a set.&lt;/p&gt;
</comment>
                            <comment id="13965031" author="tdunning" created="Thu, 10 Apr 2014 06:49:10 +0100"  >&lt;blockquote&gt;
&lt;p&gt;but this reads well.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Probably mostly because I used the noformat tag to make it look pretty.&lt;/p&gt;</comment>
                            <comment id="13965517" author="andrew.musselman" created="Thu, 10 Apr 2014 17:43:04 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=amillet89&quot; class=&quot;user-hover&quot; rel=&quot;amillet89&quot;&gt;Alex&lt;/a&gt; let&apos;s use Ted&apos;s suggestion.&lt;/p&gt;</comment>
                            <comment id="13965572" author="amillet89" created="Thu, 10 Apr 2014 18:31:26 +0100"  >&lt;p&gt;so following the discussion, here&apos;s an example proposal, &lt;/p&gt;

&lt;p&gt;top_terms is an array of single-element objects, because they are ordered, &lt;br/&gt;
c is an object of term,weight pairs, as is r,&lt;br/&gt;
points is an object of point objects, where each point object has the point coordinates, vector_name, and weight.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;{
&quot;top_terms&quot;: [
  {&quot;action&quot;:2.43}, 
  {&quot;adherence&quot;:1.5}
],
&quot;cluster&quot;:&quot;VL-10515&quot;,
&quot;n&quot;:5924,
&quot;c&quot;: 
  {
   &quot;action&quot;:0.023, 
   &quot;adherence&quot;:0.223, 
   &quot;administration&quot;:0.011 
  }
,
&quot;r&quot;:
 { 
   &quot;action&quot;:0.446, 
   &quot;adherence&quot;:1.501,
   &quot;administration&quot;:0.306 
 },
&quot;points&quot;: 
{ 
 { &quot;point&quot;: 
     {
      &quot;action&quot;:3.2,
      &quot;adherence&quot;:4.1,
      &quot;administration&quot;:1.3
     }
   &quot;vector_name&quot;:&quot;/reut2-000.sgm-100.txt&quot;,
   &quot;weight&quot;:&quot;1.0&quot;
 },
 { &quot;point&quot;: 
    { 
      &quot;cat:1.2,
      &quot;dog&quot;:4.4,
      &quot;administration&quot;:0.3
    }
  &quot;vector_name&quot;:&quot;/reut2-000.sgm-101.txt&quot;,
  &quot;weight&quot;:&quot;1.0&quot;
 }
} 

}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;thoughts?&lt;/p&gt;</comment>
                            <comment id="13965581" author="andrew.musselman" created="Thu, 10 Apr 2014 18:35:52 +0100"  >&lt;p&gt;The only other thing I&apos;d ask is what we want to do with the &quot;C-0&quot;, &quot;C-1&quot;, etc., that appear outside the JSON object.&lt;/p&gt;

&lt;p&gt;Put them inside with name &quot;name&quot;?&lt;/p&gt;</comment>
                            <comment id="13982238" author="ssc" created="Sun, 27 Apr 2014 09:02:07 +0100"  >&lt;p&gt;What&apos;s the status here?&lt;/p&gt;</comment>
                            <comment id="13983122" author="andrew.musselman" created="Mon, 28 Apr 2014 16:46:20 +0100"  >&lt;p&gt;Alex has a patch he&apos;ll be posting tonight or tomorrow.&lt;/p&gt;</comment>
                            <comment id="14000242" author="tblankers" created="Fri, 16 May 2014 21:11:46 +0100"  >&lt;p&gt;Did that patch ever get posted?&lt;/p&gt;</comment>
                            <comment id="14000347" author="andrew.musselman" created="Fri, 16 May 2014 22:31:04 +0100"  >&lt;p&gt;Not yet, been overbooked at work, but I am reviewing the patch and will post something this weekend.&lt;/p&gt;</comment>
                            <comment id="14008812" author="smarthi" created="Mon, 26 May 2014 13:48:59 +0100"  >&lt;p&gt;Andrew/Alex, any updates on this?&lt;/p&gt;</comment>
                            <comment id="14008933" author="andrew.musselman" created="Mon, 26 May 2014 17:06:51 +0100"  >&lt;p&gt;I&apos;ll try to post a patch tonight; &lt;/p&gt;</comment>
                            <comment id="14009276" author="andrew.musselman" created="Tue, 27 May 2014 05:57:58 +0100"  >&lt;p&gt;This patch of code is gnarly; I&apos;ll work on it this week as I can.&lt;/p&gt;</comment>
                            <comment id="14014298" author="andrew.musselman" created="Fri, 30 May 2014 23:24:02 +0100"  >&lt;p&gt;Attaching a patch for this and will do a pull request.&lt;/p&gt;

&lt;p&gt;Here&apos;s what the output of ClusterDumper looks like up to whitespace; could someone please try this out and let me know what comments you have?  It affects any use of AbstractCluster.formatVector(), which I checked always occurs in printlns and logging.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-javascript&quot;&gt;
{ 
  &quot;top_terms&quot;: [
    {&quot;all&quot;:3.0149030685424805},
    {&quot;english&quot;:3.0149030685424805},
    {&quot;best&quot;:3.0149030685424805},
    {&quot;spaniel&quot;:3.0149030685424805},
    {&quot;springer&quot;:3.0149030685424805},
    {&quot;dogs&quot;:1.9162907600402832}
  ],
  &quot;cluster_id&quot;: 7,
  &quot;cluster&quot;: {
    &quot;r&quot;: [],
    &quot;c&quot;: [
      {&quot;all&quot;:3.015},
      {&quot;best&quot;:3.015},
      {&quot;dogs&quot;:1.916},
      {&quot;english&quot;:3.015},
      {&quot;spaniel&quot;:3.015},
      {&quot;springer&quot;:3.015}
    ],
    &quot;n&quot;: 1,
    &quot;identifier&quot;: &quot;C-7&quot;
  },
  &quot;points&quot;: [
    { 
      &quot;point&quot;: [ 
        {&quot;all&quot;:3.015},
        {&quot;best&quot;:3.015},
        {&quot;dogs&quot;:1.916},
        {&quot;english&quot;:3.015},
        {&quot;spaniel&quot;:3.015},
        {&quot;springer&quot;:3.015}
      ],
      &quot;vector_name&quot;: &quot;P(14)&quot;,
      &quot;weight&quot;: &quot;1.0&quot;
    }
  ]
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14014306" author="andrew.musselman" created="Fri, 30 May 2014 23:31:44 +0100"  >&lt;p&gt;All tests pass; note this wraps sparse vector indices in quotes, and rounds double weights to three places as was intended in the original version.&lt;/p&gt;</comment>
                            <comment id="14014323" author="githubbot" created="Fri, 30 May 2014 23:51:04 +0100"  >&lt;p&gt;GitHub user andrewmusselman opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/mahout/pull/5&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/5&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1505&quot; title=&quot;structure of clusterdump&amp;#39;s JSON output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-1505&quot;&gt;&lt;del&gt;MAHOUT-1505&lt;/del&gt;&lt;/a&gt;: structure of clusterdump&apos;s JSON output (akm)&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/andrewmusselman/mahout&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/andrewmusselman/mahout&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1505&quot; title=&quot;structure of clusterdump&amp;#39;s JSON output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-1505&quot;&gt;&lt;del&gt;MAHOUT-1505&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/mahout/pull/5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #5&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit e0751eaaca4bb06adcf80108d85ad0dc6cc67074&lt;br/&gt;
Author: Andrew Musselman &amp;lt;andrew.musselman@accenture.com&amp;gt;&lt;br/&gt;
Date:   2014-05-30T22:35:18Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1505&quot; title=&quot;structure of clusterdump&amp;#39;s JSON output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-1505&quot;&gt;&lt;del&gt;MAHOUT-1505&lt;/del&gt;&lt;/a&gt;: structure of clusterdump&apos;s JSON output (akm)&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14014324" author="githubbot" created="Fri, 30 May 2014 23:51:26 +0100"  >&lt;p&gt;Github user andrewmusselman commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/mahout/pull/5#issuecomment-44708021&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/5#issuecomment-44708021&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Merging&lt;/p&gt;</comment>
                            <comment id="14014325" author="githubbot" created="Fri, 30 May 2014 23:51:26 +0100"  >&lt;p&gt;Github user andrewmusselman closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/mahout/pull/5&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/5&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14014326" author="githubbot" created="Fri, 30 May 2014 23:51:39 +0100"  >&lt;p&gt;GitHub user andrewmusselman reopened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/mahout/pull/5&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/5&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1505&quot; title=&quot;structure of clusterdump&amp;#39;s JSON output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-1505&quot;&gt;&lt;del&gt;MAHOUT-1505&lt;/del&gt;&lt;/a&gt;: structure of clusterdump&apos;s JSON output (akm)&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/andrewmusselman/mahout&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/andrewmusselman/mahout&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1505&quot; title=&quot;structure of clusterdump&amp;#39;s JSON output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-1505&quot;&gt;&lt;del&gt;MAHOUT-1505&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/mahout/pull/5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #5&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit e0751eaaca4bb06adcf80108d85ad0dc6cc67074&lt;br/&gt;
Author: Andrew Musselman &amp;lt;andrew.musselman@accenture.com&amp;gt;&lt;br/&gt;
Date:   2014-05-30T22:35:18Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1505&quot; title=&quot;structure of clusterdump&amp;#39;s JSON output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-1505&quot;&gt;&lt;del&gt;MAHOUT-1505&lt;/del&gt;&lt;/a&gt;: structure of clusterdump&apos;s JSON output (akm)&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14014451" author="githubbot" created="Sat, 31 May 2014 02:29:04 +0100"  >&lt;p&gt;Github user dlyubimov commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/mahout/pull/5#discussion_r13257657&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/5#discussion_r13257657&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: CHANGELOG &amp;#8212;&lt;br/&gt;
    @@ -2,6 +2,8 @@ Mahout Change Log&lt;/p&gt;

&lt;p&gt;     Release 1.0 - unreleased&lt;/p&gt;

&lt;p&gt;    +  &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1505&quot; title=&quot;structure of clusterdump&amp;#39;s JSON output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-1505&quot;&gt;&lt;del&gt;MAHOUT-1505&lt;/del&gt;&lt;/a&gt;: structure of clusterdump&apos;s JSON output (akm)&lt;br/&gt;
    +&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    I think it&apos;d be better to add this when (after) you will be doing a squash pull. Otherwise you&apos;d be merging this file with other changes. This file is guaranteed to change by other commits every time. Although most likely this conflict will be handled automatically by git. &lt;/p&gt;</comment>
                            <comment id="14014492" author="githubbot" created="Sat, 31 May 2014 04:24:27 +0100"  >&lt;p&gt;Github user andrewmusselman commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/mahout/pull/5#discussion_r13259038&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/5#discussion_r13259038&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: CHANGELOG &amp;#8212;&lt;br/&gt;
    @@ -2,6 +2,8 @@ Mahout Change Log&lt;/p&gt;

&lt;p&gt;     Release 1.0 - unreleased&lt;/p&gt;

&lt;p&gt;    +  &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1505&quot; title=&quot;structure of clusterdump&amp;#39;s JSON output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-1505&quot;&gt;&lt;del&gt;MAHOUT-1505&lt;/del&gt;&lt;/a&gt;: structure of clusterdump&apos;s JSON output (akm)&lt;br/&gt;
    +&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Would be nice to have a workflow where the changelog changes along with the bug though; I&apos;d be okay dealing with conflicts on this file unless things get really crazy.&lt;/p&gt;</comment>
                            <comment id="14014574" author="githubbot" created="Sat, 31 May 2014 09:52:35 +0100"  >&lt;p&gt;Github user sscdotopen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/mahout/pull/5#issuecomment-44743038&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/5#issuecomment-44743038&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    looks good to me, +1 for including this&lt;/p&gt;</comment>
                            <comment id="14014720" author="githubbot" created="Sat, 31 May 2014 18:26:06 +0100"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/mahout/pull/5&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/5&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14014721" author="andrew.musselman" created="Sat, 31 May 2014 18:26:42 +0100"  >&lt;p&gt;Merged and pushed to master.&lt;/p&gt;</comment>
                            <comment id="14014737" author="hudson" created="Sat, 31 May 2014 19:37:19 +0100"  >&lt;p&gt;SUCCESS: Integrated in Mahout-Quality #2624 (See &lt;a href=&quot;https://builds.apache.org/job/Mahout-Quality/2624/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Mahout-Quality/2624/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1505&quot; title=&quot;structure of clusterdump&amp;#39;s JSON output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-1505&quot;&gt;&lt;del&gt;MAHOUT-1505&lt;/del&gt;&lt;/a&gt;: structure of clusterdump&apos;s JSON output (akm) (andrew.musselman: rev e0751eaaca4bb06adcf80108d85ad0dc6cc67074)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;mrlegacy/src/main/java/org/apache/mahout/clustering/Cluster.java&lt;/li&gt;
	&lt;li&gt;mrlegacy/src/main/java/org/apache/mahout/clustering/AbstractCluster.java&lt;/li&gt;
	&lt;li&gt;CHANGELOG&lt;/li&gt;
	&lt;li&gt;mrlegacy/src/test/java/org/apache/mahout/clustering/iterator/TestClusterClassifier.java&lt;/li&gt;
	&lt;li&gt;mrlegacy/src/test/java/org/apache/mahout/clustering/TestClusterInterface.java&lt;/li&gt;
	&lt;li&gt;integration/src/test/java/org/apache/mahout/clustering/TestClusterDumper.java&lt;/li&gt;
	&lt;li&gt;integration/src/main/java/org/apache/mahout/utils/clustering/JsonClusterWriter.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1505&quot; title=&quot;structure of clusterdump&amp;#39;s JSON output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-1505&quot;&gt;&lt;del&gt;MAHOUT-1505&lt;/del&gt;&lt;/a&gt;: structure of clusterdump&apos;s JSON output (akm) This closes #5 (akm: rev 1d1134ee941c6a06804fdb5fef536e3ed95ed36e)&lt;/li&gt;
	&lt;li&gt;CHANGELOG&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14014777" author="smarthi" created="Sat, 31 May 2014 20:44:33 +0100"  >&lt;p&gt;Reviewing the patch and few places where the code needs some cleanup:-&lt;/p&gt;

&lt;p&gt;1.  Since Canopy Clustering has been now marked as @deprecated, please remove all references and unit tests for Canopy Clustering in TestClusterInterface, TestClusterDumper and TestClusterClassifier.&lt;/p&gt;

&lt;p&gt;2.  AbstractClusrer.java&lt;/p&gt;

&lt;p&gt;    Method formatVectorAsJson() -  What are we doing with vectorTerms ? I don&apos;t see that being used anywhere,  If vectorTerms is not needed, we may also not need the static class TermIndexWeight ?&lt;/p&gt;

&lt;p&gt;3. Cluster.java - remove the following variable as its never used anywhere in the code&lt;/p&gt;

&lt;p&gt;     String CLUSTERED_POINTS_DIR = &quot;clusteredPoints&quot;;&lt;/p&gt;</comment>
                            <comment id="14014788" author="hudson" created="Sat, 31 May 2014 21:02:49 +0100"  >&lt;p&gt;SUCCESS: Integrated in Mahout-Quality #2625 (See &lt;a href=&quot;https://builds.apache.org/job/Mahout-Quality/2625/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Mahout-Quality/2625/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1505&quot; title=&quot;structure of clusterdump&amp;#39;s JSON output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-1505&quot;&gt;&lt;del&gt;MAHOUT-1505&lt;/del&gt;&lt;/a&gt;: structure of clusterdump&apos;s JSON output (akm) (andrew.musselman: rev e0751eaaca4bb06adcf80108d85ad0dc6cc67074)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;mrlegacy/src/main/java/org/apache/mahout/clustering/AbstractCluster.java&lt;/li&gt;
	&lt;li&gt;mrlegacy/src/main/java/org/apache/mahout/clustering/Cluster.java&lt;/li&gt;
	&lt;li&gt;integration/src/main/java/org/apache/mahout/utils/clustering/JsonClusterWriter.java&lt;/li&gt;
	&lt;li&gt;mrlegacy/src/test/java/org/apache/mahout/clustering/iterator/TestClusterClassifier.java&lt;/li&gt;
	&lt;li&gt;mrlegacy/src/test/java/org/apache/mahout/clustering/TestClusterInterface.java&lt;/li&gt;
	&lt;li&gt;CHANGELOG&lt;/li&gt;
	&lt;li&gt;integration/src/test/java/org/apache/mahout/clustering/TestClusterDumper.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1505&quot; title=&quot;structure of clusterdump&amp;#39;s JSON output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-1505&quot;&gt;&lt;del&gt;MAHOUT-1505&lt;/del&gt;&lt;/a&gt;: structure of clusterdump&apos;s JSON output (akm) This closes #5 (akm: rev 1d1134ee941c6a06804fdb5fef536e3ed95ed36e)&lt;/li&gt;
	&lt;li&gt;CHANGELOG&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14014826" author="andrew.musselman" created="Sat, 31 May 2014 22:29:05 +0100"  >&lt;p&gt;Good catches, thanks, will fix.&lt;/p&gt;</comment>
                            <comment id="14014846" author="andrew.musselman" created="Sat, 31 May 2014 23:32:24 +0100"  >&lt;p&gt;Fixes suggested by Suneel above.  Note Canopy and CanopyDriver are still used in TestClusterEvaluation and other tests; how far do we want to go on this before removing Canopy entirely?&lt;/p&gt;</comment>
                            <comment id="14014856" author="smarthi" created="Sat, 31 May 2014 23:58:22 +0100"  >&lt;p&gt;Let&apos;s leave Canopy for now then, the tests will be automatically removed once Canopy driver is removed&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12647796" name="MAHOUT-1505-canopy-removal.patch" size="14277" author="andrew.musselman" created="Sat, 31 May 2014 23:32:24 +0100"/>
                            <attachment id="12647705" name="MAHOUT-1505.patch" size="21628" author="andrew.musselman" created="Fri, 30 May 2014 23:31:44 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 9 Apr 2014 00:34:08 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384616</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzo44n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>384884</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>