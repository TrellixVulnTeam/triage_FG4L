<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:22:48 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-839/MAHOUT-839.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-839] rowid job failing (when parsing options)  </title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-839</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt;Although &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-757&quot; title=&quot;RowIdJob does not use Mahout&amp;#39;s standard CLI parameters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-757&quot;&gt;&lt;del&gt;MAHOUT-757&lt;/del&gt;&lt;/a&gt; moved towards standard option naming, it uses different APIs for option parsing than other jobs.&lt;/p&gt;

&lt;p&gt;On my system, it died reliably with null pointer error. Reported in mail here, but not reconfirmed by anyone else yet: &lt;a href=&quot;http://permalink.gmane.org/gmane.comp.apache.mahout.user/9659&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://permalink.gmane.org/gmane.comp.apache.mahout.user/9659&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Example: &lt;/p&gt;

&lt;p&gt;TellyClub:bin danbri$ ./mahout rowid --help&lt;/p&gt;

&lt;p&gt;MAHOUT_LOCAL is set, so we don&apos;t add HADOOP_CONF_DIR to classpath.&lt;br/&gt;
MAHOUT_LOCAL is set, running locally&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;skipping some hopefully unrelated SLF4J errors re same thing on classpath twice&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Exception in thread &quot;main&quot; java.lang.NullPointerException&lt;br/&gt;
	at org.apache.hadoop.fs.Path.&amp;lt;init&amp;gt;(Path.java:61)&lt;br/&gt;
	at org.apache.hadoop.fs.Path.&amp;lt;init&amp;gt;(Path.java:50)&lt;br/&gt;
	at org.apache.mahout.utils.vectors.RowIdJob.run(RowIdJob.java:49)&lt;br/&gt;
	at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:65)&lt;br/&gt;
	at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:79)&lt;br/&gt;
	at org.apache.mahout.utils.vectors.RowIdJob.main(RowIdJob.java:89)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.hadoop.util.ProgramDriver$ProgramDescription.invoke(ProgramDriver.java:68)&lt;br/&gt;
	at org.apache.hadoop.util.ProgramDriver.driver(ProgramDriver.java:139)&lt;br/&gt;
	at org.apache.mahout.driver.MahoutDriver.main(MahoutDriver.java:188)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12526671">MAHOUT-839</key>
            <summary>rowid job failing (when parsing options)  </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.png">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gsingers">Grant Ingersoll</assignee>
                                    <reporter username="danbri">Dan Brickley</reporter>
                        <labels>
                            <label>options</label>
                            <label>rowid</label>
                    </labels>
                <created>Tue, 11 Oct 2011 15:34:11 +0100</created>
                <updated>Thu, 9 Feb 2012 14:00:41 +0000</updated>
                            <resolved>Mon, 24 Oct 2011 08:27:41 +0100</resolved>
                                                    <fixVersion>0.6</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13125075" author="danbri" created="Tue, 11 Oct 2011 15:39:21 +0100"  >&lt;p&gt;I rewrote this based on one of the other drivers with more complex options. Attaching a patch, which got me working again but needs a careful check.&lt;/p&gt;

&lt;p&gt;In attempt to drift towards standard options, it also adds --overwrite, which in turn calls&lt;/p&gt;

&lt;p&gt;+        HadoopUtil.delete(getConf(), outputDir);&lt;/p&gt;

&lt;p&gt;Please assume this will rm -rf all your most precious files and treat with appropriate caution.&lt;/p&gt;

&lt;p&gt;Also the input option tries to match smartly using &apos;PathType.LIST, PathFilters.partFilter()&apos;... and the help text should be accurate afaik.&lt;/p&gt;</comment>
                            <comment id="13125076" author="danbri" created="Tue, 11 Oct 2011 15:40:48 +0100"  >&lt;p&gt;For integration/src/main/java/org/apache/mahout/utils/vectors/RowIdJob.java&lt;br/&gt;
 aka &apos;bin/mahout rowid&apos;... &lt;/p&gt;</comment>
                            <comment id="13125094" author="danbri" created="Tue, 11 Oct 2011 16:00:35 +0100"  >&lt;p&gt;Doh, my apologies &amp;#8211; as I said this isn&apos;t yet well tested. If you call with &apos;--help&apos; it fails:&lt;/p&gt;

&lt;p&gt;Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Can not create a Path from a null string&lt;/p&gt;

&lt;p&gt;Still, I hope better to share work-in-progress here rather than let it rot on my laptop. Attaching a fix as &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-839&quot; title=&quot;rowid job failing (when parsing options)  &quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-839&quot;&gt;&lt;del&gt;MAHOUT-839&lt;/del&gt;&lt;/a&gt;-v2.patch &lt;/p&gt;</comment>
                            <comment id="13125095" author="danbri" created="Tue, 11 Oct 2011 16:01:18 +0100"  >&lt;p&gt;now checks for --help and bails appropriately&lt;/p&gt;</comment>
                            <comment id="13125107" author="gsingers" created="Tue, 11 Oct 2011 16:13:11 +0100"  >&lt;p&gt;Hey Dan,&lt;/p&gt;

&lt;p&gt;I think the addInputOption, addOutputOption is the preferred way.  I think the thing that is missing is the parseArguments option.  See the KMeansDriver.&lt;/p&gt;</comment>
                            <comment id="13125108" author="gsingers" created="Tue, 11 Oct 2011 16:15:10 +0100"  >&lt;p&gt;Also, for future reference, no need to name patches as v2, etc.  JIRA will always show the latest one when it has the same name, that makes it easier to find which one to use.&lt;/p&gt;</comment>
                            <comment id="13125109" author="danbri" created="Tue, 11 Oct 2011 16:15:42 +0100"  >&lt;p&gt;OK, should&apos;ve asked first? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;It&apos;s working for me here now with the (wrong) fix. But are you confirming that it doesn&apos;t currently work for you at least?&lt;/p&gt;</comment>
                            <comment id="13125128" author="gsingers" created="Tue, 11 Oct 2011 16:40:26 +0100"  >&lt;p&gt;I didn&apos;t run the code, but looking at it, yeah, it seems like it never parses the arguments, so it would def. through an NPE on line 49.&lt;/p&gt;</comment>
                            <comment id="13125132" author="gsingers" created="Tue, 11 Oct 2011 16:44:00 +0100"  >&lt;blockquote&gt;

&lt;p&gt;    Map&amp;lt;String,String&amp;gt; parsedArgs = parseArguments(args);&lt;br/&gt;
    if (parsedArgs == null) &lt;/p&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {
      return -1;
    }&lt;/span&gt; &lt;/div&gt;
&lt;p&gt;...&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;is the standard way of doing this.  &lt;/p&gt;</comment>
                            <comment id="13133972" author="hudson" created="Mon, 24 Oct 2011 11:48:01 +0100"  >&lt;p&gt;Integrated in Mahout-Quality #1115 (See &lt;a href=&quot;https://builds.apache.org/job/Mahout-Quality/1115/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Mahout-Quality/1115/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-839&quot; title=&quot;rowid job failing (when parsing options)  &quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-839&quot;&gt;&lt;del&gt;MAHOUT-839&lt;/del&gt;&lt;/a&gt; call parseArguments() to make sure all args are ready for the job to use&lt;/p&gt;

&lt;p&gt;srowen : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1188038&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1188038&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/mahout/trunk/integration/src/main/java/org/apache/mahout/utils/vectors/RowIdJob.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12498609" name="MAHOUT-839-v2.patch" size="7526" author="danbri" created="Tue, 11 Oct 2011 16:01:18 +0100"/>
                            <attachment id="12498607" name="MAHOUT-839.patch" size="7554" author="danbri" created="Tue, 11 Oct 2011 15:40:48 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 11 Oct 2011 15:13:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>59161</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxy2nr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22582</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>