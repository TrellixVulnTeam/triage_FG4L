<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:28:20 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-5/MAHOUT-5.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-5] Implement a k-means clustering prototype </title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-5</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt;K-means clustering is closely related to Canopy clustering and often uses canopies to determine the initial clusters. I&apos;d like to implement a k-means prototype and tests in the package org.apache.mahout.clustering.kmeans. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12388887">MAHOUT-5</key>
            <summary>Implement a k-means clustering prototype </summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gsingers">Grant Ingersoll</assignee>
                                    <reporter username="jeastman">Jeff Eastman</reporter>
                        <labels>
                    </labels>
                <created>Sun, 17 Feb 2008 19:47:36 +0000</created>
                <updated>Sat, 21 May 2011 04:24:17 +0100</updated>
                            <resolved>Sat, 1 Mar 2008 03:33:00 +0000</resolved>
                                    <version>0.1</version>
                                    <fixVersion>0.1</fixVersion>
                                    <component>Clustering</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12569801" author="dweiss" created="Mon, 18 Feb 2008 08:30:05 +0000"  >&lt;p&gt;This is an implementation of k-means in non-MR form. It isn&apos;t intended for immediate inclusion, but if it helps, please feel free to copy/paste anything from this code.&lt;/p&gt;

&lt;p&gt;There are several things that should be taken into account when implementing kmeans:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;initial centroid vectors (several possibilities: random, max-difference-pick, preclustering phase, subsampling and averaging),&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;termination criterion (decrease of the global objective function, number of iterations, combination of these),&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;various optimizations. The document vectors are typically truncated (leaving values of most significant dimensions for each document), sampled (leaving only the most significant dimensions for all documents), or transformed (SVD or other form of matrix decomposition, truncation of least significant dimensions after the decomposition).&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12569802" author="dweiss" created="Mon, 18 Feb 2008 08:32:08 +0000"  >&lt;p&gt;Jeff, if you can start working before Wednesday, feel free to look at the code above. If it helps you, good. If it doesn&apos;t (which is very likely), no worries.  These classes won&apos;t compile because there are missing dependencies (like vectors, taken from Colt if I recall), but I don&apos;t think it matters for understanding the main loop of the algorithm.&lt;/p&gt;</comment>
                            <comment id="12570522" author="jeastman" created="Wed, 20 Feb 2008 01:02:09 +0000"  >&lt;p&gt;A working implementation of a K-Means Clustering algorithm. See unit tests for &lt;br/&gt;
the evolution of the user stories leading to the full implementation. This implementation&lt;br/&gt;
expects an input set of clusters (perhaps via canopy) and iterates them to convergence&lt;br/&gt;
before the final pass which clusters the input points.&lt;/p&gt;

&lt;p&gt;This patch also does some refactoring of the Canopy Clustering code, since there&lt;br/&gt;
were many common elements, so it is included in its entirety. See &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-3&quot; title=&quot;Build initial canopy clustering prototype&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-3&quot;&gt;&lt;del&gt;MAHOUT-3&lt;/del&gt;&lt;/a&gt; for&lt;br/&gt;
commit log details for Canopy. I will tease them apart if needed.&lt;/p&gt;

&lt;p&gt;TODO: Sort out the generics&lt;/p&gt;

&lt;p&gt;TODO: Allow points to be sparse, ...&lt;/p&gt;

&lt;p&gt;All unit tests run.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;src/main/java/org/apache/mahout/clustering/kmeans&lt;/li&gt;
	&lt;li&gt;Cluster.java&lt;br/&gt;
    (formatCluster, decodeCluster): cluster i/o formatting&lt;br/&gt;
    (configure, config): configuration for jobs or unit tests&lt;br/&gt;
    (emitPointToNearestCluster): the essence of kmeans, does what it says &lt;br/&gt;
    (addPoint, addPoints): add one or more points to the cluster&lt;br/&gt;
    (recomputeCenter, computeConvergence, isConverged): useful helpers&lt;br/&gt;
    (toString, getCenter, getNumPoints, getPointTotal): accessors&lt;/li&gt;
	&lt;li&gt;KMeansMapper.java&lt;br/&gt;
    (configure, config): load the clusters for jobs or unit tests&lt;br/&gt;
    (map): emits all points to nearest cluster&lt;/li&gt;
	&lt;li&gt;KMeansCombiner.java&lt;br/&gt;
    (configure): configuration for jobs&lt;br/&gt;
    (reduce): computes partial totalCount values for points seen&lt;br/&gt;
      by associated mapper. Outputs canopy key and numPoints, pointTotal to&lt;br/&gt;
      reducer for final combination&lt;/li&gt;
	&lt;li&gt;KMeansReducer.java&lt;br/&gt;
    (configure): configuration for jobs&lt;br/&gt;
    (reduce): computes new canopy centroid and determines convergence&lt;/li&gt;
	&lt;li&gt;KMeansDriver.java&lt;br/&gt;
    (runIteration): runs an iteration M/R job to map/combine/reduce clusters&lt;br/&gt;
      and return convergence criteria&lt;br/&gt;
    (runClustering): final map step assigns original points to converged&lt;br/&gt;
      clusters. No reducer or combiner for this step.&lt;br/&gt;
    (runJob): runs one or more iterations until convergence is achieved or&lt;br/&gt;
      iteration limit is exceeded&lt;/li&gt;
	&lt;li&gt;src/main/java/org/apache/mahout/clustering/utils&lt;/li&gt;
	&lt;li&gt;DistanceMeasure.java: old friend from Canopy clustering&lt;/li&gt;
	&lt;li&gt;EuclideanDistanceMeasure.java: old friend from Canopy clustering&lt;/li&gt;
	&lt;li&gt;ManhattanDistanceMeasure.java: old friend from Canopy clustering&lt;/li&gt;
	&lt;li&gt;Point.java: refactors useful operations on Float[] points&lt;/li&gt;
	&lt;li&gt;src/test/java/org/apache/mahout/clustering/kmeans&lt;/li&gt;
	&lt;li&gt;TestKmeansClustering.java&lt;br/&gt;
    (referenceKmeans, iterateReference): reference implementation (thanks for&lt;br/&gt;
      the code to look at Dawid)&lt;br/&gt;
    (testReferenceImplementation, testKMeansMapper, testKMeansCombiner,&lt;br/&gt;
     testKMeansReducer): test isolated components&lt;br/&gt;
    (testKMeansMRJob): tests the job on all values of k for test points&lt;/li&gt;
	&lt;li&gt;VisibleCluster.java&lt;br/&gt;
    (addPoint, toString): overrides inherited methods for testing&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12570547" author="gsingers" created="Wed, 20 Feb 2008 02:37:20 +0000"  >&lt;p&gt;Cool.  Yes, let&apos;s separate out 3.  I am ready to commit pending one last holdout question.  Then, we can refactor for this one.&lt;/p&gt;</comment>
                            <comment id="12570576" author="jeastman" created="Wed, 20 Feb 2008 05:15:59 +0000"  >&lt;p&gt;This patch integrates my refactoring of Point and the DistanceMeasures into utils and adds some changes to improve unit test reliability: removing all test directories in setup; and improvements to the KMeansDriver.runJob to avoid mv-ing directories in the loop since those operations are evidently asynchronous in Hadoop.&lt;/p&gt;

&lt;p&gt;All tests run, more reliably than before.&lt;/p&gt;

&lt;p&gt;Run this on trunk after r629348&lt;/p&gt;</comment>
                            <comment id="12570828" author="jeastman" created="Wed, 20 Feb 2008 20:45:59 +0000"  >&lt;p&gt;Added generic declarations to make most of the annoying little Eclipse &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/warning.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; marks go away. Modified the canopy and kmeans reducers to output the same format (key=identifierString; value=formatString) so that canopy clusters can be used directly for input to kmeans. Added a unit test thereof to prove it works.&lt;/p&gt;

&lt;p&gt;All unit tests run.&lt;/p&gt;

&lt;p&gt;This patch should be applied to trunk r629348.&lt;/p&gt;</comment>
                            <comment id="12571268" author="gsingers" created="Fri, 22 Feb 2008 03:11:44 +0000"  >&lt;p&gt;Hi Jeff,&lt;/p&gt;

&lt;p&gt;Can you generate a patch against trunk?  Rev. 630076.&lt;/p&gt;

&lt;p&gt;I&apos;m getting:&lt;br/&gt;
patching file src/test/java/org/apache/mahout/clustering/kmeans/TestKmeansClustering.java&lt;br/&gt;
can&apos;t find file to patch at input line 960&lt;br/&gt;
Perhaps you used the wrong -p or --strip option?&lt;br/&gt;
The text leading up to this was:&lt;br/&gt;
--------------------------&lt;/p&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Index: src/main/java/org/apache/mahout/clustering/utils/EuclideanDistanceMeasure.java&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;===================================================================&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;#8212; src/main/java/org/apache/mahout/clustering/utils/EuclideanDistanceMeasure.java     (revision 0)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;+++ src/main/java/org/apache/mahout/clustering/utils/EuclideanDistanceMeasure.java     (working copy)&lt;br/&gt;
--------------------------&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;


&lt;p&gt;Thanks,&lt;br/&gt;
Grant&lt;/p&gt;</comment>
                            <comment id="12571271" author="jeastman" created="Fri, 22 Feb 2008 03:19:32 +0000"  >&lt;p&gt;I just did an update of trunk and a fresh diff. Hopefully this one will work for you.&lt;/p&gt;</comment>
                            <comment id="12571829" author="gsingers" created="Sun, 24 Feb 2008 02:05:59 +0000"  >&lt;p&gt;Still no dice.  I think the issue is that it hasn&apos;t captured the move of the DistanceMeasures to the utils package.&lt;/p&gt;

&lt;p&gt;Do you just want them moved to utils?  I can do that and commit, then you can generate a new patch with that change.&lt;/p&gt;
</comment>
                            <comment id="12571897" author="jeastman" created="Sun, 24 Feb 2008 12:17:04 +0000"  >&lt;p&gt;Subclipse is not very good at moving classes. Why don&apos;t you go ahead and move them and I will submit another patch as you suggest.&lt;/p&gt;</comment>
                            <comment id="12571970" author="gsingers" created="Sun, 24 Feb 2008 22:00:15 +0000"  >&lt;p&gt;OK, I moved them to mahout.utils.  I figure a DistanceMeasure is generally useful beyond clustering.&lt;/p&gt;</comment>
                            <comment id="12572104" author="jeastman" created="Mon, 25 Feb 2008 15:46:55 +0000"  >&lt;p&gt;I did the merge with trunk r630688 and this diff runs all the unit tests.&lt;/p&gt;</comment>
                            <comment id="12574053" author="gsingers" created="Sat, 1 Mar 2008 02:41:18 +0000"  >&lt;p&gt;I have rev 630694 as the latest.&lt;/p&gt;

&lt;p&gt;I&apos;m still getting errors in applying the patch.&lt;/p&gt;</comment>
                            <comment id="12574055" author="gsingers" created="Sat, 1 Mar 2008 02:51:01 +0000"  >&lt;p&gt;OK, I fixed the patch.  Will upload a patch shortly.&lt;/p&gt;

&lt;p&gt;Also, Jeff, check where you are getting the Mahout Jar from in various places.  It is currently being built by ant into dist/apache-mahout-0.1.jar.  I fixed it in kMeans, so just FYI for future.  I am assuming you are generating it outside of Ant&lt;/p&gt;</comment>
                            <comment id="12574056" author="gsingers" created="Sat, 1 Mar 2008 02:52:33 +0000"  >&lt;p&gt;Fixes various issues with last 5e.diff patch.  All tests pass.&lt;/p&gt;

&lt;p&gt;Will review a bit more and then commit, assuming no other issues.&lt;/p&gt;</comment>
                            <comment id="12574062" author="gsingers" created="Sat, 1 Mar 2008 03:33:00 +0000"  >&lt;p&gt;Committed revision 632543.&lt;/p&gt;

&lt;p&gt;Thanks Jeff!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12376890" name="MAHOUT-5.patch" size="80853" author="gsingers" created="Sat, 1 Mar 2008 02:52:33 +0000"/>
                            <attachment id="12375986" name="MAHOUT-5a.diff" size="119538" author="jeastman" created="Wed, 20 Feb 2008 01:02:09 +0000"/>
                            <attachment id="12375995" name="MAHOUT-5b.diff" size="76911" author="jeastman" created="Wed, 20 Feb 2008 05:15:59 +0000"/>
                            <attachment id="12376052" name="MAHOUT-5c.diff" size="88295" author="jeastman" created="Wed, 20 Feb 2008 20:45:59 +0000"/>
                            <attachment id="12376193" name="MAHOUT-5d.diff" size="88290" author="jeastman" created="Fri, 22 Feb 2008 03:19:32 +0000"/>
                            <attachment id="12376416" name="MAHOUT-5e.diff" size="80023" author="jeastman" created="Mon, 25 Feb 2008 15:46:55 +0000"/>
                            <attachment id="12375815" name="kmeans.zip" size="8365" author="dweiss" created="Mon, 18 Feb 2008 08:30:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 18 Feb 2008 08:30:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>10061</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxy7sf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23413</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>