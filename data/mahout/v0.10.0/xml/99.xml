<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:17:15 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-99/MAHOUT-99.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-99] Improving speed of KMeans</title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-99</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt;Improved the speed of KMeans by passing only cluster ID from mapper to reducer. Previously, whole Cluster Info as formatted s`tring was being sent.&lt;br/&gt;
Also removed the implicit assumption of Combiner runs only once approach and the code is modified accordingly so that it won&apos;t create a bug when combiner runs zero or more than once.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12409446">MAHOUT-99</key>
            <summary>Improving speed of KMeans</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gsingers">Grant Ingersoll</assignee>
                                    <reporter username="pallavipalleti">Pallavi Palleti</reporter>
                        <labels>
                    </labels>
                <created>Fri, 28 Nov 2008 12:56:00 +0000</created>
                <updated>Sat, 21 May 2011 04:24:00 +0100</updated>
                            <resolved>Thu, 19 Mar 2009 12:55:39 +0000</resolved>
                                                    <fixVersion>0.1</fixVersion>
                                    <component>Clustering</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12651556" author="pallavipalleti" created="Fri, 28 Nov 2008 13:05:01 +0000"  >&lt;p&gt;this patch takes care of issues with speed. Also, the issues with combiner runs zero or more than once has been taken care.&lt;/p&gt;</comment>
                            <comment id="12651784" author="gsingers" created="Sun, 30 Nov 2008 03:56:42 +0000"  >&lt;p&gt;Seems like we should make the util code common.&lt;/p&gt;</comment>
                            <comment id="12654168" author="gsingers" created="Sun, 7 Dec 2008 02:00:31 +0000"  >&lt;p&gt;Hi Pallavi,&lt;/p&gt;

&lt;p&gt;The core code works, but the change to the KMeansDriver causes a compile error in examples in the Kmeans demo code b/c it now asks for the number of map tasks and the number of centroids.  Could you document these new parameters and put in reasonable defaults and update the patch?&lt;/p&gt;

&lt;p&gt;One thing I&apos;m not certain of, though, is why we need to pass in the number of map tasks, isn&apos;t that a config thing already when you setup Hadoop?  &lt;/p&gt;</comment>
                            <comment id="12655522" author="rohiniu" created="Thu, 11 Dec 2008 05:40:52 +0000"  >&lt;p&gt;Hi Grant,&lt;/p&gt;

&lt;p&gt;I have set them as optional arguments. I set those parameters to some reasonable defaults incase they are not given as input. I will be uploading the updated patch reflecting the change.&lt;/p&gt;

&lt;p&gt;It is a config thing already set up in hadoop but it gives us flexibility to change incase we want to increase the map tasks.&lt;/p&gt;




&lt;p&gt;Thanks,&lt;br/&gt;
-Rohini&lt;/p&gt;</comment>
                            <comment id="12682844" author="gsingers" created="Tue, 17 Mar 2009 22:51:33 +0000"  >&lt;p&gt;I&apos;d like to put this in 0.1, is it ready to go w/ the current trunk?&lt;/p&gt;</comment>
                            <comment id="12682944" author="pallavipalleti" created="Wed, 18 Mar 2009 07:14:55 +0000"  >&lt;p&gt;Patch is modified to be compatible with latest trunk.&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Pallavi&lt;/p&gt;</comment>
                            <comment id="12682990" author="gsingers" created="Wed, 18 Mar 2009 11:07:47 +0000"  >&lt;p&gt;Committed revision 755548.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="12683039" author="gsingers" created="Wed, 18 Mar 2009 15:14:49 +0000"  >&lt;p&gt;Hi Pallavi,&lt;/p&gt;

&lt;p&gt;I&apos;m getting: &lt;br/&gt;
09/03/18 11:13:56 WARN mapred.LocalJobRunner: job_local_0001&lt;br/&gt;
java.lang.StringIndexOutOfBoundsException: String index out of range: -1&lt;br/&gt;
        at java.lang.String.substring(String.java:1938)&lt;br/&gt;
        at org.apache.mahout.clustering.kmeans.Cluster.decodeCluster(Cluster.java:81)&lt;br/&gt;
        at org.apache.mahout.clustering.kmeans.KMeansUtil.configureWithClusterInfo(KMeansUtil.java:80)&lt;br/&gt;
        at org.apache.mahout.clustering.kmeans.KMeansMapper.configure(KMeansMapper.java:66)&lt;br/&gt;
        at org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:58)&lt;br/&gt;
        at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:83)&lt;br/&gt;
        at org.apache.hadoop.mapred.MapRunner.configure(MapRunner.java:34)&lt;br/&gt;
        at org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:58)&lt;br/&gt;
        at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:83)&lt;br/&gt;
        at org.apache.hadoop.mapred.MapTask.run(MapTask.java:338)&lt;br/&gt;
        at org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:138)&lt;/p&gt;

&lt;p&gt;when running &lt;a href=&quot;http://cwiki.apache.org/MAHOUT/syntheticcontroldata.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://cwiki.apache.org/MAHOUT/syntheticcontroldata.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12683077" author="gsingers" created="Wed, 18 Mar 2009 17:01:22 +0000"  >&lt;p&gt;Yeah, what version of Hadoop are you running?  I got it w/ 0.19.1, but maybe I didn&apos;t set something up right.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 bin/hadoop jar ~/projects/lucene/mahout/mahout-clean/examples/target/mahout-examples-0.2-SNAPSHOT.job org.apache.mahout.clustering.syntheticcontrol.kmeans.Job
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12683140" author="gsingers" created="Wed, 18 Mar 2009 19:35:35 +0000"  >&lt;p&gt;I seem to recall hitting something similar before, let me poke around...&lt;/p&gt;

&lt;p&gt;Seems somewhat similar to the problems we were having on &lt;a href=&quot;http://www.lucidimagination.com/search/document/31bd6ab8d94bb3e5/problems_with_kmeans_clustering#31bd6ab8d94bb3e5&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.lucidimagination.com/search/document/31bd6ab8d94bb3e5/problems_with_kmeans_clustering#31bd6ab8d94bb3e5&lt;/a&gt;, but I&apos;m not sure&lt;/p&gt;</comment>
                            <comment id="12683252" author="richardtomsett" created="Thu, 19 Mar 2009 00:18:51 +0000"  >&lt;p&gt;Yup, just downloaded the latest trunk and run with Hadoop 0.19.1 and I get the same error on the Synthetic Control example. It seems to be because the new KMeans code uses a KeyValueLineRecordReader object to read the input cluster centres from the canopy clustering output, but the canopy clustering job outputs a SequenceFile (and the old KMeans code read in a SequenceFile for the cluster centres). Think that&apos;s the problem at least, I&apos;&apos;ll have a quick play.&lt;/p&gt;</comment>
                            <comment id="12683297" author="pallavipalleti" created="Thu, 19 Mar 2009 03:46:01 +0000"  >&lt;p&gt;Yup. That must be the issue. But I am wondering how the test case succeeded?&lt;/p&gt;</comment>
                            <comment id="12683312" author="pallavipalleti" created="Thu, 19 Mar 2009 04:22:55 +0000"  >&lt;p&gt;I have used KeyValueLineRecordReader internally for my code and forgot to revert back to SequenceFileReader. Will that be sufficient to add another patch on the latest code and modify only KMeansDriver to use SequenceFileReader? Kindly let me know.&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Pallavi&lt;/p&gt;</comment>
                            <comment id="12683335" author="pallavipalleti" created="Thu, 19 Mar 2009 06:15:49 +0000"  >&lt;p&gt;If we need to modify Canopy. We need to modify all depandant classes too where ever canopy is being used.&lt;/p&gt;</comment>
                            <comment id="12683376" author="richardtomsett" created="Thu, 19 Mar 2009 09:10:06 +0000"  >&lt;p&gt;I tried just reverting back to SequenceFiles in the test and KMeansUtil classes but couldn&apos;t get the test to complete correctly - must admit I didn&apos;t work on it too long as it was late... I&apos;m not sure quite what the problem was, but I think it was just that I hadn&apos;t found all the relevant changes that needed to be made. I guess if you&apos;ve found it in the Canopy class (I take it that was modified in this patch NOT to output SequenceFiles as well) that would explain it &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12683426" author="gsingers" created="Thu, 19 Mar 2009 10:55:52 +0000"  >&lt;p&gt;For the record, I ran Canopy independently, and that worked just fine.&lt;/p&gt;


</comment>
                            <comment id="12683430" author="pallavipalleti" created="Thu, 19 Mar 2009 11:16:23 +0000"  >&lt;p&gt;I have fixed sequencefile issue. Modified code SequenceFile where ever possible. And also, with the new KMeansClusterMapper, we don&apos;t need outputMapper code in Job.java in SyntheticControl. So, I commented that.&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Pallavi&lt;/p&gt;</comment>
                            <comment id="12683442" author="gsingers" created="Thu, 19 Mar 2009 11:52:49 +0000"  >&lt;p&gt;Trying it now&lt;/p&gt;</comment>
                            <comment id="12683451" author="gsingers" created="Thu, 19 Mar 2009 12:25:32 +0000"  >&lt;p&gt;OK, this works.  I will apply&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12405514">MAHOUT-79</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12395803" name="MAHOUT-99-1.patch" size="44816" author="rohiniu" created="Thu, 11 Dec 2008 05:40:52 +0000"/>
                            <attachment id="12402568" name="MAHOUT-99.patch" size="10482" author="pallavipalleti" created="Thu, 19 Mar 2009 11:16:23 +0000"/>
                            <attachment id="12394901" name="MAHOUT-99.patch" size="42796" author="pallavipalleti" created="Fri, 28 Nov 2008 13:05:01 +0000"/>
                            <attachment id="12402453" name="Mahout-99.patch" size="50626" author="pallavipalleti" created="Wed, 18 Mar 2009 07:14:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 30 Nov 2008 03:56:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9967</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxy77j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23319</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>