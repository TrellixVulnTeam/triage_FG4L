<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:24:04 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-966/MAHOUT-966.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-966] Mismatch in the number of points given by the clusterDumper and ClusterOutputPostProcessor</title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-966</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt; After running the post processor the number of points that each cluster contains is not matching the number of points each cluster should contain as stated by clusterdumper.&lt;/p&gt;

&lt;p&gt;MSV-287&lt;/p&gt;
{ n=90 c=[0.05195, 0.05675, 0.07151, 0.05713, 0.06946,...}
&lt;p&gt;MSV-145&lt;/p&gt;
{ n=90 c=[0.93685, 0.93071, 0.93641, 0.94629, 0.94409,..}
&lt;p&gt;the n mentioned in clusters-n-final against each cluster is different from the number of points actually contained in d directory for each cluster. Any idea why is this happening ...?  &lt;/p&gt;
</description>
                <environment>&lt;p&gt;hadoop 0.20.2 mahout 0.6 &lt;/p&gt;</environment>
        <key id="12540334">MAHOUT-966</key>
            <summary>Mismatch in the number of points given by the clusterDumper and ClusterOutputPostProcessor</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="gsingers">Grant Ingersoll</assignee>
                                    <reporter username="gaurav14">Gaurav Redkar</reporter>
                        <labels>
                    </labels>
                <created>Mon, 30 Jan 2012 09:56:20 +0000</created>
                <updated>Mon, 3 Feb 2014 08:05:49 +0000</updated>
                            <resolved>Sun, 2 Jun 2013 20:22:49 +0100</resolved>
                                    <version>0.6</version>
                                    <fixVersion>0.8</fixVersion>
                                    <component>Integration</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13196029" author="gaurav14" created="Mon, 30 Jan 2012 10:24:36 +0000"  >&lt;p&gt;the command line commands that were used as follows:&lt;br/&gt;
 for clustering:&lt;br/&gt;
bin/mahout org.apache.mahout.clustering.syntheticcontrol.meanshift.Job  -x 15  -cd 0.05 -t1 0.7 -t2 0.5 -dm org.apache.mahout.common.distance.EuclideanDistanceMeasure -i testdata -ow -o output&lt;/p&gt;

&lt;p&gt;for viewing the output :&lt;br/&gt;
bin/mahout clusterpp -i output -o output/ppclusters&lt;/p&gt;

&lt;p&gt;while using clusterdumper :&lt;br/&gt;
bin/mahout clusterdump -s output/clusters-3-final -p output/clusteredPoints -o /usr/local/trunk/examples/clusteranalyze300112.txt&lt;/p&gt;</comment>
                            <comment id="13196037" author="gaurav14" created="Mon, 30 Jan 2012 10:36:55 +0000"  >&lt;p&gt;The dataset has 1000 points with 200 attributes each&lt;/p&gt;</comment>
                            <comment id="13196692" author="paritoshranjan" created="Tue, 31 Jan 2012 04:29:07 +0000"  >&lt;p&gt;Ok, I will have a look at it.&lt;/p&gt;</comment>
                            <comment id="13197099" author="paritoshranjan" created="Tue, 31 Jan 2012 18:42:38 +0000"  >&lt;p&gt;The very first impression that I get is that you have not used -cl option while clustering. It means the vectors have not been clustered. &lt;/p&gt;

&lt;p&gt; --clustering (-cl)                           If present, run clustering after &lt;br/&gt;
                                               the iterations have taken place  &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://cwiki.apache.org/MAHOUT/mean-shift-commandline.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/MAHOUT/mean-shift-commandline.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Clustering in Mahout is a two step process, the first one finds the centroids of the clusters, the second one finds the vectors which were associated with each centroid.&lt;/p&gt;

&lt;p&gt;To trigger the second step ( find vectors for each centroid ), -cl command line option ( runClustering parameter in Java ) is used.&lt;/p&gt;

&lt;p&gt;The ClusterOutputPostProcessor works on clusterd data i.e. it will work on vectors which were clustered in the second step.&lt;/p&gt;

&lt;p&gt;Please try with -cl option while clustering. I think it would solve the problem. If not, I will investigate more.&lt;/p&gt;</comment>
                            <comment id="13201252" author="gaurav14" created="Mon, 6 Feb 2012 12:55:55 +0000"  >&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;As Paritosh suggested, i tried specifying the -cl option while clustering. But I am still experiencing the same problem. The number of members printed by the clusterdumper code match the number of points generated by the ClusterOutputPostProcessor for each cluster. Sadly this number does not match the value &apos;n&apos; for that cluster in the clusterdumper implementation. &lt;/p&gt;

&lt;p&gt;Also while running the algorithm on a different dataset,the clustering algorithm resulted in two clusters with the same cluster identifier..!! Also that cluster contained some of the points twice. Any idea as to why is this happening.?  &lt;/p&gt;

&lt;p&gt;The command used for performing the clustering job is :&lt;/p&gt;

&lt;p&gt;bin/mahout org.apache.mahout.clustering.syntheticcontrol.meanshift.Job  -x 15  -cd 5 -t1 100  -t2 30 -cl  -dm org.apache.mahout.common.distance.EuclideanDistanceMeasure -i testdata -ow -o output&lt;/p&gt;

&lt;p&gt;i am attaching the dataset on which i tried the clustering. Kindly give your suggestions on it.&lt;/p&gt;</comment>
                            <comment id="13207064" author="paritoshranjan" created="Mon, 13 Feb 2012 18:49:09 +0000"  >&lt;p&gt;Looks like there is a bug in clusterdumer, other users have also faced it. See this :&lt;br/&gt;
&lt;a href=&quot;http://comments.gmane.org/gmane.comp.apache.mahout.user/10906&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://comments.gmane.org/gmane.comp.apache.mahout.user/10906&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To summarize, there is a mismatch between the value of n( number of vectors in particular cluster ) displayed by clusterdumper and number of vectors actually present in it. Prima facie, it looks the value of n is printed incorrectly.&lt;/p&gt;</comment>
                            <comment id="13211677" author="mccloud35" created="Mon, 20 Feb 2012 05:27:46 +0000"  >&lt;p&gt;Initial analysis shows, the n printed by Cluster Dumper to deviate significantly.&lt;/p&gt;

&lt;p&gt;While clusterpp and cluster dumper shows 200 points each in the cluster for a clustering run with params in this mail, while n from cluster dumper shows values of 223, 392, 290, 207 and 235.(refer cluster-dumper-output.txt and cluterpp-output.txt - hacked the clusterpp code to provide this output)&lt;/p&gt;

&lt;p&gt;The correct fix is to make n display 200.&lt;/p&gt;</comment>
                            <comment id="13214537" author="gaurav14" created="Thu, 23 Feb 2012 10:38:53 +0000"  >&lt;p&gt;I modified the clusterdumper and meanshift clustering source codes in order to make the clusterdumper output the number of boundPoints(size of the &quot;boundPoints&quot; list basically)  along with the numPoints, radius and center for each cluster.&lt;/p&gt;

&lt;p&gt;When i ran the clustering job on synthetic_control.data using the following parameters:&lt;/p&gt;

&lt;p&gt;bin/mahout org.apache.mahout.clustering.syntheticcontrol.meanshift.Job -x 25  -cd 5 -t1 50 -t2 10 -dm org.apache.mahout.common.distance.EuclideanDistanceMeasure -i testdata -ow -o output -cl&lt;/p&gt;

&lt;p&gt;some of the clusters had different values for the variable &quot;numPoints&quot; and size of &quot;boundPoints&quot;.&lt;/p&gt;

&lt;p&gt;What i want to know is what is the difference between &quot;numPoints&quot; and the &quot;boundPoints&quot; and shouldnt the size of &quot;boundPoints&quot; list be the same as &quot;numPoints&quot;..?&lt;/p&gt;

&lt;p&gt;Also in referring to this thread, the number of members printed by each cluster matched the number of boundPoints for that cluster. &lt;/p&gt;

&lt;p&gt;Any suggestions..?&lt;/p&gt;</comment>
                            <comment id="13399223" author="paritoshranjan" created="Fri, 22 Jun 2012 10:01:10 +0100"  >&lt;p&gt;Gaurav, &lt;br/&gt;
Would you like to take this further?&lt;/p&gt;</comment>
                            <comment id="13399375" author="gaurav14" created="Fri, 22 Jun 2012 16:21:09 +0100"  >&lt;p&gt;yeah i can try to look into thjs issue. I want a clarification regarding the difference between the variables &quot;numPoints&quot; and &quot;boundPoints&quot;  as mentioned in my previous comment above. &lt;/p&gt;

&lt;p&gt;The point to note is that the size of &quot;boundPoints&quot; (&quot;boundpoints&quot; is a list of points belonging to a cluster) that i tried to print by tweaking the clusterdumper code actually matched the number of points printed in each cluster. so could it be that the &quot;numPoints&quot; was not properly calculated at the end of last iteration before the algorithm terminates..? It is just a guess. I will try to look deeper into it.&lt;/p&gt;</comment>
                            <comment id="13672161" author="gsingers" created="Sat, 1 Jun 2013 18:10:17 +0100"  >&lt;p&gt;Any update on this?  Seems like it should be fixed for 0.8&lt;/p&gt;</comment>
                            <comment id="13672624" author="hudson" created="Sun, 2 Jun 2013 19:11:40 +0100"  >&lt;p&gt;Integrated in Mahout-Quality #2031 (See &lt;a href=&quot;https://builds.apache.org/job/Mahout-Quality/2031/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Mahout-Quality/2031/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-966&quot; title=&quot;Mismatch in the number of points given by the clusterDumper and ClusterOutputPostProcessor&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-966&quot;&gt;&lt;del&gt;MAHOUT-966&lt;/del&gt;&lt;/a&gt;: add option to supply your own Reuters dataset (Revision 1488749)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
gsingers : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/mahout/trunk/examples/bin/cluster-reuters.sh&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13672651" author="gsingers" created="Sun, 2 Jun 2013 20:22:49 +0100"  >&lt;p&gt;This is actually behaving correctly.  Here&apos;s what I did:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;bin/mahout org.apache.mahout.clustering.syntheticcontrol.meanshift.Job -x 25 -cd 5 -t1 50 -t2 10 -dm org.apache.mahout.common.distance.EuclideanDistanceMeasure -i /path/to/synthetic_control.data  -ow -o output -cl&lt;/li&gt;
	&lt;li&gt;Independently, do:
	&lt;ol&gt;
		&lt;li&gt;bin/mahout clusterdump -i output/clusters-5-final/ -p output/clusteredPoints -o /tmp/clusterdump.txt&lt;/li&gt;
		&lt;li&gt;For clusterPP
		&lt;ol&gt;
			&lt;li&gt;bin/mahout clusterpp -i output -o output/post&lt;/li&gt;
			&lt;li&gt;bin/mahout seqdumper -i output/post/0/part-r-00000 --facets&lt;/li&gt;
		&lt;/ol&gt;
		&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Both report 5 clusters total.  &lt;br/&gt;
For clusterpp, Seq Dumper reports the following number of points per cluster:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;----&lt;del&gt;Facets&lt;/del&gt;--&lt;br/&gt;
Key		Count&lt;br/&gt;
0		145&lt;br/&gt;
101		31&lt;br/&gt;
104		25&lt;br/&gt;
200		199&lt;br/&gt;
300		200&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;For clusterdumper, I see:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;MSV-0{n=145 &lt;br/&gt;
MSV-101{n=31&lt;br/&gt;
MSV-104{n=25&lt;br/&gt;
MSV-200{n=199&lt;br/&gt;
MSV-300{n=200&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="13672660" author="hudson" created="Sun, 2 Jun 2013 21:06:00 +0100"  >&lt;p&gt;Integrated in Mahout-Quality #2032 (See &lt;a href=&quot;https://builds.apache.org/job/Mahout-Quality/2032/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Mahout-Quality/2032/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-966&quot; title=&quot;Mismatch in the number of points given by the clusterDumper and ClusterOutputPostProcessor&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-966&quot;&gt;&lt;del&gt;MAHOUT-966&lt;/del&gt;&lt;/a&gt;: adding some more options to cluster-syntheticcontrol (Revision 1488758)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
gsingers : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/mahout/trunk/examples/bin/cluster-syntheticcontrol.sh&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12515216" name="cluster-dumper-output.txt" size="1662460" author="mccloud35" created="Mon, 20 Feb 2012 05:27:46 +0000"/>
                            <attachment id="12515217" name="clusterpp-output.txt" size="13902" author="mccloud35" created="Mon, 20 Feb 2012 05:27:46 +0000"/>
                            <attachment id="12513425" name="mtestdata.txt" size="1840952" author="gaurav14" created="Mon, 6 Feb 2012 12:58:08 +0000"/>
                            <attachment id="12512400" name="points100dCCNorm.txt" size="1861157" author="gaurav14" created="Mon, 30 Jan 2012 10:36:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 31 Jan 2012 04:29:07 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>225747</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxy1vz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22457</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>