<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:23:03 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-784/MAHOUT-784.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-784] Exception at 20 Newsgroups examples</title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-784</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt;somebody may help,&lt;br/&gt;
   I run&quot;Twenty Newsgroups Classification Example&quot;(from &lt;a href=&quot;https://cwiki.apache.org/confluence/display/MAHOUT/Twenty+Newsgroups&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/MAHOUT/Twenty+Newsgroups&lt;/a&gt;) step by step.And the Environment variables(HADOOP_HOME,MAHOUT_HOME,HADOOP_CONF_DIR) all set in ~/.bashrc.&lt;br/&gt;
   But when I going the step train the classifier on Hadoop, Exception was cast like:&lt;br/&gt;
$&amp;gt; $MAHOUT_HOME/bin/mahout trainclassifier   -i 20news-input/bayes-train-input   -o newsmodel   -type bayes   -ng 3   -source hdfs:&lt;br/&gt;
11/08/13 09:37:54 INFO mapred.JobClient:  map 0% reduce 0%&lt;br/&gt;
11/08/13 09:38:04 INFO mapred.JobClient: Task Id : attempt_201108130934_0001_m_000000_0, Status : FAILED&lt;br/&gt;
java.lang.RuntimeException: Error in configuring object&lt;br/&gt;
	at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:93)&lt;br/&gt;
	at org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:64)&lt;br/&gt;
	at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:117)&lt;br/&gt;
	at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:354)&lt;br/&gt;
	at org.apache.hadoop.mapred.MapTask.run(MapTask.java:307)&lt;br/&gt;
	at org.apache.hadoop.mapred.Child.main(Child.java:170)&lt;br/&gt;
Caused by: java.lang.reflect.InvocationTargetException&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.hadoop.util.ReflectionUtils.setJobConf(ReflectionUtils.java:88)&lt;br/&gt;
	... 5 more&lt;br/&gt;
Caused by: java.lang.NoClassDefFoundError: org/apache/lucene/analysis/TokenStream&lt;br/&gt;
	at java.lang.Class.forName0(Native Method)&lt;br/&gt;
	at java.lang.Class.forName(Class.java:247)&lt;br/&gt;
	at org.apache.hadoop.conf.Configuration.getClassByName(Configuration.java:762)&lt;br/&gt;
	at org.apache.hadoop.conf.Configuration.getClass(Configuration.java:807)&lt;br/&gt;
	at org.apache.hadoop.conf.Configuration.getClass(Configuration.java:833)&lt;br/&gt;
	at org.apache.hadoop.mapred.JobConf.getMapperClass(JobConf.java:772)&lt;br/&gt;
	at org.apache.hadoop.mapred.MapRunner.configure(MapRunner.java:34)&lt;br/&gt;
	... 10 more&lt;br/&gt;
Caused by: java.lang.ClassNotFoundException: org.apache.lucene.analysis.TokenStream&lt;br/&gt;
	at java.net.URLClassLoader$1.run(URLClassLoader.java:202)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
	at java.net.URLClassLoader.findClass(URLClassLoader.java:190)&lt;br/&gt;
	at java.lang.ClassLoader.loadClass(ClassLoader.java:306)&lt;br/&gt;
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)&lt;br/&gt;
	at java.lang.ClassLoader.loadClass(ClassLoader.java:247)&lt;br/&gt;
	... 17 more&lt;br/&gt;
   What happened? I just walked through the tutorials.......&lt;/p&gt;

</description>
                <environment>&lt;p&gt;Ubuntu 11.04 / Hadoop 0.20.2 / Maven 3.0.3 / mahout-distribution-0.5 &lt;/p&gt;</environment>
        <key id="12518764">MAHOUT-784</key>
            <summary>Exception at 20 Newsgroups examples</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="srowen">Sean Owen</assignee>
                                    <reporter username="patrick@china">patrick.J</reporter>
                        <labels>
                    </labels>
                <created>Sat, 13 Aug 2011 03:39:44 +0100</created>
                <updated>Sat, 16 Jun 2012 10:35:21 +0100</updated>
                            <resolved>Thu, 9 Feb 2012 13:57:16 +0000</resolved>
                                                    <fixVersion>0.7</fixVersion>
                                    <component>Classification</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13086218" author="srowen" created="Wed, 17 Aug 2011 10:38:16 +0100"  >&lt;p&gt;I think this is a duplicate of other similar issues. Can you please try this again with the latest code from Subversion rather than 0.5? Robin, it would also be worth you looking at the wiki to confirm the instructions remain correct.&lt;/p&gt;</comment>
                            <comment id="13088160" author="patrick@china" created="Sat, 20 Aug 2011 09:24:37 +0100"  >&lt;p&gt;OK , Sean, I&apos;ll try. Much appreciate. In addition to that, Mahout in action, truly a good book, I recommend it to most of my friends&lt;/p&gt;</comment>
                            <comment id="13128391" author="joekumar" created="Sun, 16 Oct 2011 13:36:34 +0100"  >&lt;p&gt;Patrick,&lt;br/&gt;
Just checking to see if you are still facing issues running the 20 newsgroups example ?&lt;br/&gt;
You can alternatively use the build-20news-bayes.sh script in examples/bin. This will download the 20-newsgroup data and run the Bayes classifier to train and test and finally print the confusion matrix.&lt;br/&gt;
I just ran the script and had no issues. I use hadoop 0.20.2 with the latest code of Mahout on a mac.&lt;/p&gt;

&lt;p&gt;Steps to run&lt;br/&gt;
1. cd $MAHOUT_HOME&lt;br/&gt;
2. ./examples/bin/build-20news-bayes.sh&lt;/p&gt;

&lt;p&gt;Sean,&lt;br/&gt;
Shud I change the wiki instructions to use the script rather than the n steps that it has now ?&lt;/p&gt;
</comment>
                            <comment id="13128393" author="srowen" created="Sun, 16 Oct 2011 13:44:59 +0100"  >&lt;p&gt;Good to hear that this seems to work. Yes, let&apos;s update any instructions you see that are incomplete or out of date. Feel free to update the wiki. Do you need me to commit other script/doc changes?&lt;/p&gt;</comment>
                            <comment id="13128521" author="joekumar" created="Sun, 16 Oct 2011 22:24:00 +0100"  >&lt;p&gt;Sean, thanks for the quick feedback. I have updated the wiki with instructions on using the script rather than manual steps. I am bit concerned with the TestClassifier since it doesnt seem to print a summary but just the confusion matrix. I&apos;ll look at the code of TestClassifier and see why this behavior happens and update this issue for any patches (if required)&lt;/p&gt;</comment>
                            <comment id="13141910" author="joekumar" created="Wed, 2 Nov 2011 04:18:31 +0000"  >&lt;p&gt;The only concern I am having with this issue is that when we run TestClassifier in &quot;mapreduce&quot; method as opposed to the &quot;sequential&quot; method, the summary doesnt get printed in the output. I thought this would get addressed with &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-838&quot; title=&quot;Make the confusion matrix writable to a file when testing classifiers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-838&quot;&gt;&lt;del&gt;MAHOUT-838&lt;/del&gt;&lt;/a&gt; but i guess not. should we create a separate task for making the summary printed while running TestClassifier on &quot;mapreduce&quot; mode. If so, we can close this issue and open a new one.&lt;/p&gt;</comment>
                            <comment id="13144924" author="lancenorskog" created="Sun, 6 Nov 2011 05:58:45 +0000"  >&lt;p&gt;The tools are there to get this output. You need to add &quot;--confusionMatrix file.seq&quot; to the TestClassifier app. Then, you can run the &apos;cmdump&apos; job to view the matrix. &lt;/p&gt;</comment>
                            <comment id="13145012" author="joekumar" created="Sun, 6 Nov 2011 14:23:23 +0000"  >&lt;p&gt;Thanks for the pointer Lance. I guess printing the summary should be a default feature as users would mostly like to see summary info. I am assuming we have some method in the class referenced by cmdump that&apos;ll print the summary. So I&apos;ll try to use it in TestClassifier to print the summary. &lt;/p&gt;</comment>
                            <comment id="13145137" author="joekumar" created="Sun, 6 Nov 2011 22:27:06 +0000"  >&lt;p&gt;Lance, ConfusionMatrixDumper.printSummaryTable(matrix, System.out); wud print the summary info on the console. SO i tried adding this to BayesClassifierDriver and it is complaining about not able to find ConfusionMatrixDumper. I guess this has got to do something with project dependency. I followed instructions in &lt;a href=&quot;https://cwiki.apache.org/MAHOUT/buildingmahout.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/MAHOUT/buildingmahout.html&lt;/a&gt; to download the mahout source and then import them into eclipse as sub-projects. &lt;/p&gt;

&lt;p&gt;Have you / anyone encountered this situation with dependencies between mahout-core and mahout-integration. If someone has tackled this problem, it&apos;d be great if you can share ur thots / soln.&lt;/p&gt;

&lt;p&gt;ps: I manually modified the build path to add mahout-integration in the projects tab. It solved the issue with compilation but mvn install -DskipTests complained about ConfusionMatrixDumper&lt;/p&gt;</comment>
                            <comment id="13145166" author="lancenorskog" created="Mon, 7 Nov 2011 00:13:34 +0000"  >&lt;p&gt;No, I meant that the script that runs &apos;mahout testclassifier&apos; would then run &apos;mahout cmdump&apos;. &lt;/p&gt;

&lt;p&gt;Sooner or later the command-line jobs have to be modular. We can&apos;t push every little feature into one program. (And &apos;cmdump/ConfusionMatrixDumper&apos; is not a little feature.)&lt;/p&gt;</comment>
                            <comment id="13145228" author="joekumar" created="Mon, 7 Nov 2011 05:03:34 +0000"  >&lt;p&gt;Thx for your thoughts Lance. Since testclassifier outputs summary while running in a sequential mode while doesnt do so in mapreduce mode, it cud be confusing to user. I thought of adding cmdump to the classify-20newsgroup.sh so that users can get the summary but while specifying the output as text, it doesnt print the summary. When I tried html format for output, it did. &lt;/p&gt;

&lt;p&gt;Should we make the output of cmdump consistent ? ie make exportText and exportTable output similar info ? &lt;/p&gt;</comment>
                            <comment id="13148247" author="joekumar" created="Fri, 11 Nov 2011 04:06:14 +0000"  >&lt;p&gt;Lance,&lt;br/&gt;
Any thoughts on the above comments. Shud we make the data in text output and html output similar ?&lt;/p&gt;</comment>
                            <comment id="13148249" author="lancenorskog" created="Fri, 11 Nov 2011 04:12:00 +0000"  >&lt;p&gt;Hi-&lt;/p&gt;

&lt;p&gt;Yes, that sounds like a great idea. Please add it to ConfusionMatrixDumper.java and post a JIRA.&lt;/p&gt;</comment>
                            <comment id="13148338" author="joekumar" created="Fri, 11 Nov 2011 08:13:55 +0000"  >&lt;p&gt;Modified exportText in ConfusionMatrixDumper to print the summary of classification job. &lt;/p&gt;

&lt;p&gt;FYI - After formatting using the mahout format template, I see quite a few difference while comparing the code with prev ver..&lt;/p&gt;</comment>
                            <comment id="13148339" author="joekumar" created="Fri, 11 Nov 2011 08:15:52 +0000"  >&lt;p&gt;Both patches are the same. I earlier forgot to click on &quot;Grant ASF.....&quot; option button&lt;/p&gt;</comment>
                            <comment id="13204663" author="hudson" created="Thu, 9 Feb 2012 17:18:06 +0000"  >&lt;p&gt;Integrated in Mahout-Quality #1343 (See &lt;a href=&quot;https://builds.apache.org/job/Mahout-Quality/1343/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Mahout-Quality/1343/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-784&quot; title=&quot;Exception at 20 Newsgroups examples&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-784&quot;&gt;&lt;del&gt;MAHOUT-784&lt;/del&gt;&lt;/a&gt; refine and make consistent the confusion matrix output&lt;/p&gt;

&lt;p&gt;srowen : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1242323&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1242323&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/mahout/trunk/integration/src/main/java/org/apache/mahout/classifier/ConfusionMatrixDumper.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13205019" author="lancenorskog" created="Thu, 9 Feb 2012 23:12:29 +0000"  >&lt;p&gt;Hi-&lt;/p&gt;

&lt;p&gt;This patch makes so many reformatting changes that it is hard to see the new code. Please pull the original and remake your change, without reformatting in any way.&lt;br/&gt;
.&lt;/p&gt;</comment>
                            <comment id="13206047" author="lancenorskog" created="Sat, 11 Feb 2012 07:21:42 +0000"  >&lt;p&gt;Joe- which Mahout formatter do you use? It line-wraps the comments, and should not.&lt;/p&gt;</comment>
                            <comment id="13206244" author="joekumar" created="Sat, 11 Feb 2012 19:45:54 +0000"  >&lt;p&gt;Lance - I just checked the formatter that I used.. It says&lt;br/&gt;
&amp;lt;profile kind=&quot;CodeFormatterProfile&quot; name=&quot;Lucene&quot; version=&quot;11&quot;&amp;gt; while the one referenced in our wiki is of version 12. &amp;lt;profile kind=&quot;CodeFormatterProfile&quot; name=&quot;Lucene&quot; version=&quot;12&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;I&apos;ll get the latest formatter xml and apply formatting to the code and then upload the patch. &lt;br/&gt;
sorry for the confusion..&lt;/p&gt;

&lt;p&gt;regards&lt;br/&gt;
Joe.&lt;/p&gt;</comment>
                            <comment id="13206292" author="joekumar" created="Sat, 11 Feb 2012 22:58:24 +0000"  >&lt;p&gt;Lance, I am attaching the patch with no formatting. I still see a lot of diff when using the latest formatter xml referenced in our wiki. maybe after you review the code, it shud be formatted before committing ?&lt;/p&gt;</comment>
                            <comment id="13206294" author="joekumar" created="Sat, 11 Feb 2012 23:05:49 +0000"  >&lt;p&gt;To put this patch to actual use, I have modified the classify-20newsgroups.sh to use ConfusionMatrixDumper (&quot;-cm&quot; flag) and then output the confusion matrix by invoking cmdump. I&apos;ll probably open a new JIRA to upload this patch.&lt;/p&gt;</comment>
                            <comment id="13206349" author="lancenorskog" created="Sun, 12 Feb 2012 04:57:31 +0000"  >&lt;p&gt;I&apos;m sure there are a lot of diffs. My general practice is to remove those from the patch by hand and only include the part that does real code. This makes it much easier for someone else to review it. Some committers always rewrite it anyway, so this must makes it easier. Also, every code change can break other uncommitted patches in the same file.&lt;/p&gt;

&lt;p&gt;This is my patch-generating script. It makes 5 surrounding lines, ignores white-space and doesn&apos;t make those a/ and b/ paths. &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
git diff -w -U5 --no-prefix trunk &lt;span class=&quot;code-quote&quot;&gt;&quot;$@&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Open Source develops by nibbling at the edges &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13206377" author="srowen" created="Sun, 12 Feb 2012 09:14:15 +0000"  >&lt;p&gt;PS guys I had already committed the patch. I think the formatting changes were fine, so worth adding.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12514239" name="MAHOUT-784-unformatted.patch" size="1631" author="joekumar" created="Sat, 11 Feb 2012 22:58:24 +0000"/>
                            <attachment id="12503349" name="MAHOUT-784.patch" size="16818" author="joekumar" created="Fri, 11 Nov 2011 08:14:38 +0000"/>
                            <attachment id="12503348" name="MAHOUT-784.patch" size="16818" author="joekumar" created="Fri, 11 Nov 2011 08:13:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 17 Aug 2011 09:38:16 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9278</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxy307:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22638</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>