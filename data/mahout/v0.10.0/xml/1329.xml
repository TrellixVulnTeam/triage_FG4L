<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:26:21 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-1329/MAHOUT-1329.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-1329] Mahout for hadoop 2</title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-1329</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt;Update mahout for work with hadoop 2.X, targeting this for Mahout 1.0.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12667616">MAHOUT-1329</key>
            <summary>Mahout for hadoop 2</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gokhancapan">Gokhan Capan</assignee>
                                    <reporter username="ssvinarchukhorton">Sergey Svinarchuk</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Mon, 9 Sep 2013 17:18:19 +0100</created>
                <updated>Mon, 13 Apr 2015 11:20:32 +0100</updated>
                            <resolved>Tue, 25 Feb 2014 10:02:13 +0000</resolved>
                                    <version>0.9</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>build</component>
                        <due></due>
                            <votes>4</votes>
                                    <watches>18</watches>
                                                                <comments>
                            <comment id="13761985" author="ssvinarchukhorton" created="Mon, 9 Sep 2013 17:19:55 +0100"  >&lt;p&gt;This patch consists changes for work mahout with hadoop 2.X and hadoop 1.X.&lt;br/&gt;
Now for build mahout for hadoop 1.X use next command:&lt;br/&gt;
	mvn  clean package -Dhadoop.profile=100 -Dhadoop.1.version=&lt;/p&gt;
{hadoop.version} -Dhbase.version={hbase.version}&lt;br/&gt;
&lt;br/&gt;
and hadoop 2.X&lt;br/&gt;
	mvn clean package -Dhadoop.profile=200 -Dhadoop.2.version={hadoop.version}
&lt;p&gt; -Dhbase.version=&lt;/p&gt;
{hbase.version}

&lt;p&gt;Example:&lt;br/&gt;
	mahout with hadoop 1.2.1 - mvn clean package -Dhadoop.profile=100 -Dhadoop.1.version=1.2.1 -Dhbase.version=0.95.0&lt;br/&gt;
	mahout with hadoop 2.1.0-SNAPSHOT - mvn clean package -Dhadoop.profile=200 -Dhadoop.2.version=2.1.0-SNAPSHOT -Dhbase.version=0.95.0&lt;/p&gt;</comment>
                            <comment id="13762137" author="tdunning" created="Mon, 9 Sep 2013 19:35:32 +0100"  >&lt;p&gt;Sergey,&lt;/p&gt;

&lt;p&gt;What is the effect of simply typing&lt;/p&gt;

&lt;p&gt;   mvn clean package&lt;/p&gt;

&lt;p&gt;?&lt;/p&gt;</comment>
                            <comment id="13763020" author="ssvinarchukhorton" created="Tue, 10 Sep 2013 14:09:35 +0100"  >&lt;p&gt;mvn clean package is equal - mvn clean package -Dhadoop.profile=100 -Dhadoop.1.version=1.2.1 -Dhbase.version=0.95.0&lt;/p&gt;</comment>
                            <comment id="13850608" author="ssvinarchukhorton" created="Tue, 17 Dec 2013 16:07:05 +0000"  >&lt;p&gt;Patch updated. &lt;br/&gt;
For build mahout with hadoop 1: mvn clean package&lt;br/&gt;
For build with hadoop 2: mvn clean package -Dhadoop.profile=200&lt;br/&gt;
Mahout was tested with hadoop 1 and hadoop 2.&lt;/p&gt;</comment>
                            <comment id="13851763" author="ssvinarchukhorton" created="Wed, 18 Dec 2013 14:24:47 +0000"  >&lt;p&gt;Patch updated&lt;/p&gt;</comment>
                            <comment id="13851967" author="smarthi" created="Wed, 18 Dec 2013 17:59:34 +0000"  >&lt;p&gt;This patch has not been generated from trunk. Applying this patch has reverted the build back to running tests with a single thread. Please generate a patch against the present trunk (seems like you are working off of 0.7 codebase or 0.8 release).  Please generate a patch off of trunk.&lt;/p&gt;</comment>
                            <comment id="13852838" author="ssvinarchukhorton" created="Thu, 19 Dec 2013 12:01:48 +0000"  >&lt;p&gt;Added patch from trunk.&lt;/p&gt;</comment>
                            <comment id="13878502" author="flukebox" created="Wed, 22 Jan 2014 10:27:42 +0000"  >&lt;p&gt;Patch works fine with the trunk. &lt;br/&gt;
Thanks.&lt;/p&gt;</comment>
                            <comment id="13905464" author="ssvinarchukhorton" created="Wed, 19 Feb 2014 14:07:05 +0000"  >&lt;p&gt;Updated patch to trunk.&lt;br/&gt;
Build mahout for hadoop 1 -&amp;gt; mvn clean package &lt;br/&gt;
Build mahout for hadoop 2 -&amp;gt; mvn clean package -Dhadoop.profile=200&lt;/p&gt;</comment>
                            <comment id="13906010" author="smarthi" created="Wed, 19 Feb 2014 20:15:08 +0000"  >&lt;p&gt;Patch committed to trunk&lt;/p&gt;</comment>
                            <comment id="13906062" author="gokhancapan" created="Wed, 19 Feb 2014 20:55:41 +0000"  >&lt;p&gt;Is it OK to add hadoop dependencies to the project root, and to the math module (actually to all modules even they already depend on the core module)?&lt;/p&gt;

&lt;p&gt;I remember that&apos;s what we wanted to avoid&lt;/p&gt;</comment>
                            <comment id="13906068" author="hudson" created="Wed, 19 Feb 2014 21:01:53 +0000"  >&lt;p&gt;FAILURE: Integrated in Mahout-Quality #2482 (See &lt;a href=&quot;https://builds.apache.org/job/Mahout-Quality/2482/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Mahout-Quality/2482/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1329&quot; title=&quot;Mahout for hadoop 2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-1329&quot;&gt;&lt;del&gt;MAHOUT-1329&lt;/del&gt;&lt;/a&gt;: Mahout for Hadoop 2.x (smarthi: rev 1569900)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/mahout/trunk/CHANGELOG&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/pom.xml&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/examples/pom.xml&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/integration/pom.xml&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/math/pom.xml&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13906333" author="smarthi" created="Thu, 20 Feb 2014 00:05:45 +0000"  >&lt;p&gt;Gokhan, I remember now the conversation we had few months ago about trying to avoid adding dependencies and agree with you on that. I completely forgot about that conversation, sorry. In light of the Hudson failure due to this patch, reverting this patch back.&lt;/p&gt;</comment>
                            <comment id="13906449" author="hudson" created="Thu, 20 Feb 2014 01:32:09 +0000"  >&lt;p&gt;SUCCESS: Integrated in Mahout-Quality #2484 (See &lt;a href=&quot;https://builds.apache.org/job/Mahout-Quality/2484/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Mahout-Quality/2484/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1329&quot; title=&quot;Mahout for hadoop 2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-1329&quot;&gt;&lt;del&gt;MAHOUT-1329&lt;/del&gt;&lt;/a&gt;: reverting back the last change (smarthi: rev 1570023)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/mahout/trunk/CHANGELOG&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/pom.xml&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/examples/pom.xml&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/integration/pom.xml&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/math/pom.xml&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13907000" author="ssvinarchukhorton" created="Thu, 20 Feb 2014 14:32:50 +0000"  >&lt;p&gt;I updated patch and now hadoop dependencies only in the root pom. Also I fixed problem with jenkins build failed.&lt;br/&gt;
Now default build mahout with hadoop 2 dependencies - mvn clean install&lt;br/&gt;
For build mahout with hadoop 1 dependencies need use - mvn clean install -P hadoop1&lt;/p&gt;</comment>
                            <comment id="13907237" author="gokhancapan" created="Thu, 20 Feb 2014 17:49:58 +0000"  >&lt;p&gt;Hi Sergey, thank you for that, I am copying from &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1354&quot; title=&quot;Mahout Support for Hadoop 2 &quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-1354&quot;&gt;&lt;del&gt;MAHOUT-1354&lt;/del&gt;&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;Gokhan: &quot;Looks like when hadoop-2 profile is activated, this patch fails to apply the hadoop-2 related dependencies to integration and examples modules, despite they are both dependent to core and core is dependent to hadoop-2. For me, moving hadoop dependencies to the root solved the problem, but I think we wouldn&apos;t want that since hadoop is not a common dependency for all modules of the project.&quot;&lt;/p&gt;

&lt;p&gt;Ted: &quot;It is important to keep modules like mahout math free of the massive Hadoop dependency.&quot;&lt;/p&gt;

&lt;p&gt;I think pushing dependencies to the root is not something that we desire, but let me look into this further.&lt;/p&gt;</comment>
                            <comment id="13907247" author="ssvinarchukhorton" created="Thu, 20 Feb 2014 17:56:38 +0000"  >&lt;p&gt;As I see you want added hadoop dependencies only to module that use it?&lt;/p&gt;</comment>
                            <comment id="13907480" author="gokhancapan" created="Thu, 20 Feb 2014 20:51:44 +0000"  >&lt;p&gt;Sergey, I modified your patch and produced a new version. Looking into the dependency tree, it seems it builds against the correct hadoop version.&lt;/p&gt;

&lt;p&gt;(This may seem irrelevant when looking at the patch, but I had to set argLine to -Xmx1024m in order not the unit tests to fail because of an OOM)&lt;/p&gt;

&lt;p&gt;for hadoop version 1.2.1: mvn clean package&lt;br/&gt;
for hadoop version 2.2.0: mvn clean package -Dhadoop2.version=2.2.0&lt;/p&gt;

&lt;p&gt;I unit tested this for both versions and saw the tests passed, but I don&apos;t have access to a hadoop test environment currently, so could you guys test if this actually work (I&apos;ll do it tomorrow anyway)? &lt;/p&gt;

&lt;p&gt;Then we can commit it.&lt;/p&gt;</comment>
                            <comment id="13908122" author="ssvinarchukhorton" created="Fri, 21 Feb 2014 09:46:28 +0000"  >&lt;p&gt;I tested unit tests and examples with hadoop1 and hadoop2. All tests and examples passed.&lt;br/&gt;
But for build mahout with hadoop2 I use: mvn clean package -Dhadoop2.version=2.2.0&lt;/p&gt;</comment>
                            <comment id="13908126" author="gokhancapan" created="Fri, 21 Feb 2014 09:52:27 +0000"  >&lt;p&gt;Yeah, you&apos;re right, edit coming.&lt;/p&gt;

&lt;p&gt;Did you manage to run jobs against the cluster &lt;span class=&quot;error&quot;&gt;&amp;#91;EDIT:Sorry I missed you mentioned that you ran the examples, great then&amp;#93;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="13908443" author="gokhancapan" created="Fri, 21 Feb 2014 15:36:57 +0000"  >&lt;p&gt;Good news that I tried that too, on a 2.2.0 cluster.&lt;br/&gt;
seqdir, seq2sparse, and kmeans worked without a problem.&lt;/p&gt;

&lt;p&gt;I&apos;m gonna wait till Monday to commit this, in case folks want to verify that it works.&lt;/p&gt;
</comment>
                            <comment id="13911436" author="gokhancapan" created="Tue, 25 Feb 2014 10:01:50 +0000"  >&lt;p&gt;I committed this to trunk&lt;/p&gt;</comment>
                            <comment id="13911451" author="hudson" created="Tue, 25 Feb 2014 10:37:43 +0000"  >&lt;p&gt;SUCCESS: Integrated in Mahout-Quality #2490 (See &lt;a href=&quot;https://builds.apache.org/job/Mahout-Quality/2490/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Mahout-Quality/2490/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1329&quot; title=&quot;Mahout for hadoop 2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-1329&quot;&gt;&lt;del&gt;MAHOUT-1329&lt;/del&gt;&lt;/a&gt;: Mahout for hadoop 2 (gcapan: rev 1571637)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/mahout/trunk/core/pom.xml&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/integration/pom.xml&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13914484" author="ssvinarchukhorton" created="Thu, 27 Feb 2014 13:20:53 +0000"  >&lt;p&gt;I think that will be better add hadoop 2 version to pom.xml and in build command set only hadoop profile (default or hadoop 2).&lt;br/&gt;
I added patch with small chages for this.&lt;br/&gt;
With this patch for build mahout with hadoop 2 need use: mvn clean install -Dhadoop2&lt;br/&gt;
In pom hadoop 2 version =2.2.0&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gokhancapan&quot; class=&quot;user-hover&quot; rel=&quot;gokhancapan&quot;&gt;Gokhan Capan&lt;/a&gt;  Can you review 1329-3-additional.patch?&lt;/p&gt;</comment>
                            <comment id="13914494" author="gokhancapan" created="Thu, 27 Feb 2014 13:29:35 +0000"  >&lt;p&gt;Sure I can.&lt;/p&gt;

&lt;p&gt;Although my vote would be passing the version, considering different distributions out there, people may want to build mahout against whatever hadoop2 distro they use (I am not very sure about my own argument actually, It would be great to hear a counter-argument)&lt;/p&gt;</comment>
                            <comment id="13914508" author="ssvinarchukhorton" created="Thu, 27 Feb 2014 13:42:03 +0000"  >&lt;p&gt;You can use &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; mvn clean install -Dhadoop2 -Dhadoop.2.version=${hadoop.version}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;And as I known last hadoop 2 version is 2.2.0 and it compatibility with previous hadoop 2&lt;/p&gt;</comment>
                            <comment id="13964506" author="aritrachatterjee" created="Wed, 9 Apr 2014 19:22:50 +0100"  >&lt;p&gt;Hi, I am wondering why users need to compile Mahout for different versions of Hadoop? Can&apos;t there be a classifier associated with the Mahout artifacts which indicate the version of Hadoop that artifact is compatible with? For example, I&apos;d prefer using:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&amp;lt;dependency&amp;gt;&lt;br/&gt;
	&amp;lt;groupId&amp;gt;org.apache.mahout&amp;lt;/groupId&amp;gt;&lt;br/&gt;
	&amp;lt;artifactId&amp;gt;mahout-core&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
	&amp;lt;version&amp;gt;1.0-SNAPSHOT&amp;lt;/version&amp;gt;&lt;br/&gt;
        &amp;lt;classifier&amp;gt;hadoop-2.2.0&amp;lt;/classifier&amp;gt;&lt;br/&gt;
&amp;lt;/dependency&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Instead of doing local builds of Mahout. Does it make sense to create a different defect for this? Or, do we already have something like this in the Maven central repos?&lt;/p&gt;
</comment>
                            <comment id="13981492" author="pilgrim" created="Fri, 25 Apr 2014 20:35:48 +0100"  >&lt;p&gt;Hi,&lt;br/&gt;
i tried this patch and the build was successfull but when I start mahout I get &lt;/p&gt;

&lt;p&gt;Running on hadoop, using /usr/bin/hadoop and HADOOP_CONF_DIR=&lt;br/&gt;
MAHOUT-JOB: /home/drahcir/mahout-distribution-0.9/examples/target/mahout-examples-0.9-job.jar&lt;br/&gt;
Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: org.apache.hadoop.util.ProgramDriver.driver([Ljava/lang/String;)V&lt;br/&gt;
	at org.apache.mahout.driver.MahoutDriver.main(MahoutDriver.java:122)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:606)&lt;br/&gt;
	at org.apache.hadoop.util.RunJar.main(RunJar.java:208)&lt;/p&gt;

&lt;p&gt;Im using CDH 4.6 with Hadoop 2.0.0-cdh4.6.0.&lt;/p&gt;

&lt;p&gt;Any idea why this doesn&apos;t work?&lt;/p&gt;</comment>
                            <comment id="13985747" author="alexander.ostrikov" created="Wed, 30 Apr 2014 18:01:42 +0100"  >&lt;p&gt;Hi, &lt;br/&gt;
I&apos;m trying to run Mahout 0.9 by Oozie on hdp2.1 (hadoop 2.4).&lt;br/&gt;
trainnb fails with Exception in thread &quot;main&quot; java.lang.IncompatibleClassChangeError: Found interface org.apache.hadoop.mapreduce.JobContext, but class was expected.&lt;br/&gt;
I compiled Mahour-trunk downloaded from here &lt;a href=&quot;https://github.com/apache/mahout/archive/trunk.zip&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/archive/trunk.zip&lt;/a&gt; and compiled it with &lt;br/&gt;
&quot;mvn clean install -Dhadoop2 -Dhadoop.2.version=2.4.0  -DskipTests=true&quot;.&lt;br/&gt;
Still getting the error...&lt;br/&gt;
Any idea what&apos;s wrong with it? Thanks!&lt;/p&gt;</comment>
                            <comment id="13985768" author="smarthi" created="Wed, 30 Apr 2014 18:18:42 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Pilgrim&quot; class=&quot;user-hover&quot; rel=&quot;Pilgrim&quot;&gt;Richard Scharrer&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alexander.ostrikov&quot; class=&quot;user-hover&quot; rel=&quot;alexander.ostrikov&quot;&gt;Alexander Ostrikov&lt;/a&gt; and others reading this.  Mahout 0.9 distro is not compatible with Hadoop 2 and was built with Hadoop 1x profile. Trying to run Mahout 0.9 distro from downloads on Hadoop 2x is gonna throw errors as have been reported in the Jira comments here.  &lt;/p&gt;

&lt;p&gt;If trying to run Mahout on Hadoop 2x please work off of present trunk and build with Hadoop 2 profile (see Gokhan&apos;s comments in this thread for how to build Mahout trunk for Hadoop 2x).&lt;/p&gt;

</comment>
                            <comment id="13986371" author="alexander.ostrikov" created="Thu, 1 May 2014 06:55:40 +0100"  >&lt;p&gt;Dear Suneel Marthi - You can see from my last comment, that I actually successfully compiled Mahout trunk using &quot;mvn clean install -Dhadoop2 -Dhadoop.2.version=2.4.0 -DskipTests=true&quot;.&lt;br/&gt;
But still getting &quot;trainnb fails with Exception in thread &quot;main&quot; java.lang.IncompatibleClassChangeError: Found interface org.apache.hadoop.mapreduce.JobContext, but class was expected.&quot;&lt;/p&gt;

&lt;p&gt;It is the same error comes from running Mahout command with &quot;mahout trainnb ...&quot; from terminal or running TrainNaiveBayesJob.class as java step in Oozie.&lt;/p&gt;

&lt;p&gt;Does code at  &lt;a href=&quot;https://github.com/apache/mahout/archive/trunk.zip&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/archive/trunk.zip&lt;/a&gt; already contains the patches attached here?&lt;br/&gt;
Did anyone checked running naive bayes with hadoop 2?&lt;br/&gt;
Thanks!&lt;/p&gt;

&lt;p&gt;By hadoop version is 2.4.0.2.1.1.0-385 from HDP2.1 by Hortonworks.&lt;/p&gt;</comment>
                            <comment id="13986455" author="alexander.ostrikov" created="Thu, 1 May 2014 09:39:00 +0100"  >&lt;p&gt;Problem solved!&lt;br/&gt;
The correct compilation command was &quot;mvn clean install  -Dhadoop2 -Dhadoop2.version=2.4.0  -DskipTests=true&quot;.&lt;br/&gt;
The problem was a dot in  -Dhadoop2.version - only one needed. I appears to compile with -Dhadoop.2.version also, but it actually compiles to hadoop 1.&lt;/p&gt;</comment>
                            <comment id="14005719" author="gokhancapan" created="Thu, 22 May 2014 09:26:18 +0100"  >&lt;p&gt;Please check &lt;a href=&quot;http://mahout.apache.org/developers/buildingmahout.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mahout.apache.org/developers/buildingmahout.html&lt;/a&gt; for instructions to build mahout against to hadoop-2&lt;/p&gt;</comment>
                            <comment id="14015952" author="brian.salgado" created="Mon, 2 Jun 2014 23:03:31 +0100"  >&lt;p&gt;Hi Gokhan,&lt;/p&gt;

&lt;p&gt;I&apos;ve followed the instructions mentioned above and build master branch of &lt;a href=&quot;https://github.com/apache/mahout&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout&lt;/a&gt; locally and used the dependencies below when running Mahout job but I am still experiencing error below.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Dependencies&amp;#93;&lt;/span&gt;&lt;br/&gt;
mahout-core-1.0-SNAPSHOT.jar&lt;br/&gt;
mahout-math-1.0-SNAPSHOT.jar&lt;br/&gt;
hadoop-annotations-2.2.0.jar&lt;br/&gt;
hadoop-auth-2.2.0.jar&lt;br/&gt;
hadoop-common-2.2.0.jar&lt;br/&gt;
hadoop-mapreduce-client-common-2.2.0.jar&lt;br/&gt;
hadoop-mapreduce-client-core-2.2.0.jar&lt;br/&gt;
hadoop-yarn-api-2.2.0.jar&lt;br/&gt;
hadoop-yarn-client-2.2.0.jar&lt;br/&gt;
hadoop-yarn-common-2.2.0.jar&lt;br/&gt;
hadoop-yarn-server-common-2.2.0.jar&lt;br/&gt;
commons-cli-2.0-mahout.jar&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Error&amp;#93;&lt;/span&gt;&lt;br/&gt;
14/06/02 13:50:30 INFO Configuration.deprecation: mapred.output.dir is deprecated. Instead, use mapreduce.output.fileoutputformat.outputdir&lt;br/&gt;
Exception in thread &quot;main&quot; java.lang.IncompatibleClassChangeError: Found interface org.apache.hadoop.mapreduce.JobContext, but class was expected&lt;br/&gt;
at org.apache.mahout.common.HadoopUtil.getCustomJobName(HadoopUtil.java:166)&lt;br/&gt;
at org.apache.mahout.common.AbstractJob.prepareJob(AbstractJob.java:579)&lt;br/&gt;
at com.bestbuy.recs.mahout.algorithms.BinaryStep.run(BinaryStep.java:82)&lt;/p&gt;

&lt;p&gt;Wanted to ask help if I have missed something out.&lt;/p&gt;

&lt;p&gt;Regards,&lt;br/&gt;
Brian&lt;/p&gt;</comment>
                            <comment id="14016372" author="gokhancapan" created="Tue, 3 Jun 2014 11:34:06 +0100"  >&lt;p&gt;Seems like the dependencies are correctly set. Are you certain that the cluster you&apos;re running mahout against is an hadoop-2 and M/R-2 cluster?&lt;/p&gt;</comment>
                            <comment id="14016501" author="brian.salgado" created="Tue, 3 Jun 2014 14:35:41 +0100"  >&lt;p&gt;Hi Gokhan,&lt;/p&gt;

&lt;p&gt;We are trying to run it in Hortonworks HDP 2.1 which is running Hadoop 2.X.&lt;/p&gt;

&lt;p&gt;Regards,&lt;br/&gt;
Brian&lt;/p&gt;</comment>
                            <comment id="14016565" author="gokhancapan" created="Tue, 3 Jun 2014 15:43:26 +0100"  >&lt;p&gt;Brian, &lt;br/&gt;
This was actually well-tested. But I&apos;m gonna build and test it again, probably tomorrow. &lt;br/&gt;
By the way can you run a &lt;br/&gt;
&lt;tt&gt;$ find . -name hadoop*.jar&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;after building mahout, in the mahout root director.&lt;br/&gt;
Best&lt;/p&gt;</comment>
                            <comment id="14154741" author="jayunit100" created="Wed, 1 Oct 2014 13:27:16 +0100"  >&lt;p&gt;Hi mahout.  Any conclusion here ? It seems relevant to &lt;a href=&quot;https://issues.apache.org/jira/browse/BIGTOP-1470&quot; title=&quot;Mahout 0.9 couldn&amp;#39;t work with hadoop 2.x&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BIGTOP-1470&quot;&gt;&lt;del&gt;BIGTOP-1470&lt;/del&gt;&lt;/a&gt; ...  Thanks !&lt;/p&gt;</comment>
                            <comment id="14154794" author="brian.salgado" created="Wed, 1 Oct 2014 14:39:40 +0100"  >&lt;p&gt;Hi Jay,&lt;/p&gt;

&lt;p&gt;I apologize for not being able to get back at this.&lt;/p&gt;

&lt;p&gt;We ended up using mahout hortonworks specific version.&lt;/p&gt;

&lt;p&gt;Regards,&lt;br/&gt;
Brian&lt;/p&gt;

&lt;p&gt;Sent from my iPhone&lt;/p&gt;
</comment>
                            <comment id="14154918" author="gokhancapan" created="Wed, 1 Oct 2014 16:15:46 +0100"  >&lt;p&gt;Jay,&lt;/p&gt;

&lt;p&gt;This is integrated in trunk, not in 0.9, and should work. Also, you can find &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1616&quot; title=&quot;Better support for hadoop dependencies of multiple versions &quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-1616&quot;&gt;&lt;del&gt;MAHOUT-1616&lt;/del&gt;&lt;/a&gt; useful for a recent simplification and further improvement effort.&lt;/p&gt;

&lt;p&gt;Best&lt;/p&gt;</comment>
                            <comment id="14154920" author="jayunit100" created="Wed, 1 Oct 2014 16:16:58 +0100"  >&lt;p&gt;thanks.  So can anyone in the mahout community chime in on how this was resolved? &lt;/p&gt;

&lt;p&gt;So, &lt;br/&gt;
(1) does  mahout 0.9 properly for hadoop 2x and if so what is the right incantation to run?&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;mvn clean install
mvn clean install -Dhadoop.2.version
mvn clean install -Dhadoop2.version=2.4.1
mvn clean install -Dhadoop2 -Dhadoop2.version=2.4.1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt; (2) Is mahout 0.9, the initial release, 2x build compatible out of the box ?&lt;/p&gt;

&lt;p&gt;Thanks ! &lt;/p&gt;</comment>
                            <comment id="14154930" author="jayunit100" created="Wed, 1 Oct 2014 16:22:43 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gokhancapan&quot; class=&quot;user-hover&quot; rel=&quot;gokhancapan&quot;&gt;Gokhan Capan&lt;/a&gt;  thanks, just saw your above comment.... are you saying the mahout 0.9 release doesnt build for hadoop 2x ?&lt;/p&gt;</comment>
                            <comment id="14154937" author="gokhancapan" created="Wed, 1 Oct 2014 16:24:20 +0100"  >&lt;p&gt;Jay, here is the documentation:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://mahout.apache.org/developers/buildingmahout.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mahout.apache.org/developers/buildingmahout.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;And the instructions apply to trunk, not to the 0.9 release&lt;/p&gt;</comment>
                            <comment id="14154978" author="jayunit100" created="Wed, 1 Oct 2014 16:52:54 +0100"  >&lt;p&gt;thanks again &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gokhancapan&quot; class=&quot;user-hover&quot; rel=&quot;gokhancapan&quot;&gt;Gokhan Capan&lt;/a&gt;,  so &lt;a href=&quot;http://www.motorlogy.com/apache/mahout/0.9/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.motorlogy.com/apache/mahout/0.9/&lt;/a&gt; &amp;lt;-- this distribution &lt;b&gt;doesnt build for 2x&lt;/b&gt; , is that correct?&lt;/p&gt;</comment>
                            <comment id="14155309" author="gokhancapan" created="Wed, 1 Oct 2014 20:15:22 +0100"  >&lt;p&gt;Correct&lt;/p&gt;</comment>
                            <comment id="14165430" author="bhavdeepsethi" created="Thu, 9 Oct 2014 18:51:10 +0100"  >&lt;p&gt;The correct command is: &lt;/p&gt;


&lt;p&gt;mahout with hadoop 2.1.0-SNAPSHOT: &lt;/p&gt;

&lt;p&gt;mvn clean package -Dhadoop.profile=200 -Dhadoop2.version=2.1.0-SNAPSHOT -Dhbase.version=0.95.0&lt;/p&gt;

&lt;p&gt;Note: the hadoop parameter is hadoop2.version....not hadoop.2.version&lt;/p&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12744548">BIGTOP-1470</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12744548">BIGTOP-1470</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                            <outwardlinks description="supercedes">
                                        <issuelink>
            <issuekey id="12678046">MAHOUT-1354</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12630058" name="1329-2.patch" size="16101" author="ssvinarchukhorton" created="Thu, 20 Feb 2014 14:29:44 +0000"/>
                            <attachment id="12631525" name="1329-3-additional.patch" size="3638" author="ssvinarchukhorton" created="Thu, 27 Feb 2014 13:19:43 +0000"/>
                            <attachment id="12630146" name="1329-3.patch" size="14210" author="gokhancapan" created="Thu, 20 Feb 2014 20:52:06 +0000"/>
                            <attachment id="12629768" name="1329.patch" size="19217" author="ssvinarchukhorton" created="Wed, 19 Feb 2014 14:05:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 9 Sep 2013 18:35:32 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>347553</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzhrw7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>347852</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>