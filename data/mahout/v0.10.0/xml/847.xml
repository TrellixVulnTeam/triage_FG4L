<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:26:58 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-847/MAHOUT-847.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-847] Improve Euclidean distance similarity calculation</title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-847</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt;In the non-distributed recommender world, the Euclidean distance similarity is calculated as n/(1+d), where d is distance and n is dimension. 1/(1+d) is a valid mapping from distance &lt;span class=&quot;error&quot;&gt;&amp;#91;0,infinity) to similarity (0,1&amp;#93;&lt;/span&gt;. n is there to &quot;correct&quot; for the fact that things are farther apart in higher dimensions. It would be right-er, after some discussion, to use a factor of sqrt&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/thumbs_down.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;, and apply directly to the distance; 1/(1+d/sqrt&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/thumbs_down.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;).&lt;/p&gt;

&lt;p&gt;I propose fixing the calculation accordingly.&lt;/p&gt;

&lt;p&gt;In the distributed similarity, the formula is 1-1/(1+d), which is the wrong way around. That will be fixed. I&apos;d apply the same heuristic, except that at the moment we don&apos;t have access to the value of n at that point. I don&apos;t like the inconsistency but it&apos;s minor; would rather get this change in now, which definitely improves things.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12527926">MAHOUT-847</key>
            <summary>Improve Euclidean distance similarity calculation</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="srowen">Sean Owen</assignee>
                                    <reporter username="srowen">Sean Owen</reporter>
                        <labels>
                            <label>distance</label>
                            <label>euclidean</label>
                            <label>similarity</label>
                            <label>vector</label>
                    </labels>
                <created>Thu, 20 Oct 2011 14:21:55 +0100</created>
                <updated>Thu, 9 Feb 2012 14:00:51 +0000</updated>
                            <resolved>Fri, 21 Oct 2011 10:20:41 +0100</resolved>
                                    <version>0.5</version>
                                    <fixVersion>0.6</fixVersion>
                                    <component>Collaborative Filtering</component>
                        <due>Thu, 27 Oct 2011 00:00:00 +0000</due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13132186" author="lancenorskog" created="Fri, 21 Oct 2011 00:18:42 +0100"  >&lt;p&gt;&lt;br/&gt;
A instance of this class will probably be called with the same &apos;n&apos; over and over, so it could cache sqrt&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/thumbs_down.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. &lt;/p&gt;</comment>
                            <comment id="13132191" author="lancenorskog" created="Fri, 21 Oct 2011 00:23:38 +0100"  >&lt;p&gt;As a perpetual beginner, it is daunting to learn Mahout. It helps if well-defined math terms are only used when the code matches the (200-year-old) concept. &lt;/p&gt;

&lt;p&gt;Perhaps &lt;em&gt;WarpedEuclideanSimilarity&lt;/em&gt; would be more clear?&lt;/p&gt;</comment>
                            <comment id="13132507" author="srowen" created="Fri, 21 Oct 2011 09:23:42 +0100"  >&lt;p&gt;The problem with caching sqrt&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/thumbs_down.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; is that every pair of users / vectors may overlap in a different number of dimensions. It&apos;s not fixed (or if it were, I wouldn&apos;t be correcting for it as it wouldn&apos;t change ordering).&lt;/p&gt;

&lt;p&gt;Well, the real Euclidean distance is in there alright. It is not a similarity metric by itself (it gets bigger with less similarity). So there&apos;s a transformation to a similarity value, and that&apos;s the made-up bit I&apos;m changing here. I think &quot;EuclideanDistance&quot;+&quot;Similarity&quot; is therefore accurate.&lt;/p&gt;</comment>
                            <comment id="13133234" author="lancenorskog" created="Sat, 22 Oct 2011 04:07:10 +0100"  >&lt;p&gt;How does this compare with EuclideanDistanceMeasure? Does EDM have the same semantics as the old or new EDSimilarity? If I use one or the other in parallel-structured recommender stacks should I expect roughly the same results? Or, should EDM be rewritten to match?&lt;/p&gt;



</comment>
                            <comment id="13133279" author="srowen" created="Sat, 22 Oct 2011 07:55:16 +0100"  >&lt;p&gt;No, EuclideanDistanceMeasure is a distance measure rather than similarity measure. That is, it can be bigger than 1 and (obviously) gets bigger as the Euclidean distance grows. It is not changed, and continues to return the usual Euclidean distance. This is not used in recommenders.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12499856" name="MAHOUT-847.patch" size="7639" author="srowen" created="Thu, 20 Oct 2011 14:22:36 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 20 Oct 2011 23:18:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>92336</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxy2lz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22574</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>