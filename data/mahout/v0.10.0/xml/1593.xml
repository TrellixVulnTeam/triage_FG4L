<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:19:12 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-1593/MAHOUT-1593.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-1593] cluster-reuters.sh does not work complaining java.lang.IllegalStateException</title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-1593</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt;When I choose &quot;kmeans clustering&quot; in cluster-reuters.sh, clusterdump complains java.lang.IllegalStateException as follows:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; java.lang.IllegalStateException: /tmp/mahout-work-user/reuters-kmeans/clusters-*-&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt;
        at org.apache.mahout.common.iterator.sequencefile.SequenceFileDirValueIterable.iterator(SequenceFileDirValueIterable.java:78)
        at org.apache.mahout.clustering.evaluation.ClusterEvaluator.loadClusters(ClusterEvaluator.java:93)
        at org.apache.mahout.clustering.evaluation.ClusterEvaluator.&amp;lt;init&amp;gt;(ClusterEvaluator.java:81)
        at org.apache.mahout.utils.clustering.ClusterDumper.printClusters(ClusterDumper.java:208)
        at org.apache.mahout.utils.clustering.ClusterDumper.run(ClusterDumper.java:157)
        at org.apache.mahout.utils.clustering.ClusterDumper.main(ClusterDumper.java:101)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:606)
        at org.apache.hadoop.util.ProgramDriver$ProgramDescription.invoke(ProgramDriver.java:72)
        at org.apache.hadoop.util.ProgramDriver.run(ProgramDriver.java:145)
        at org.apache.hadoop.util.ProgramDriver.driver(ProgramDriver.java:153)
        at org.apache.mahout.driver.MahoutDriver.main(MahoutDriver.java:195)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:606)
        at org.apache.hadoop.util.RunJar.main(RunJar.java:212)
Caused by: java.io.FileNotFoundException: File /tmp/mahout-work-user/reuters-kmeans/clusters-*-&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; does not exist.
        at org.apache.hadoop.hdfs.DistributedFileSystem.listStatusInternal(DistributedFileSystem.java:654)
        at org.apache.hadoop.hdfs.DistributedFileSystem.access$600(DistributedFileSystem.java:102)
        at org.apache.hadoop.hdfs.DistributedFileSystem$14.doCall(DistributedFileSystem.java:712)
        at org.apache.hadoop.hdfs.DistributedFileSystem$14.doCall(DistributedFileSystem.java:708)
        at org.apache.hadoop.fs.FileSystemLinkResolver.resolve(FileSystemLinkResolver.java:81)
        at org.apache.hadoop.hdfs.DistributedFileSystem.listStatus(DistributedFileSystem.java:708)
        at org.apache.hadoop.fs.FileSystem.listStatus(FileSystem.java:1483)
        at org.apache.hadoop.fs.FileSystem.listStatus(FileSystem.java:1523)
        at org.apache.mahout.common.iterator.sequencefile.SequenceFileDirValueIterator.&amp;lt;init&amp;gt;(SequenceFileDirValueIterator.java:70)
        at org.apache.mahout.common.iterator.sequencefile.SequenceFileDirValueIterable.iterator(SequenceFileDirValueIterable.java:76)
        ... 18 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Other clustering options run well.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Hadoop version: 2.4.0.2.1.1.0-385&lt;br/&gt;
Git hash: 2b65475c3ab682ebd47cffdc6b502698799cd2c8 (trunk)&lt;/p&gt;</environment>
        <key id="12726281">MAHOUT-1593</key>
            <summary>cluster-reuters.sh does not work complaining java.lang.IllegalStateException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="smarthi">Suneel Marthi</assignee>
                                    <reporter username="jaehoon13.ko">jaehoon ko</reporter>
                        <labels>
                            <label>legacy</label>
                            <label>patch</label>
                    </labels>
                <created>Wed, 9 Jul 2014 11:40:35 +0100</created>
                <updated>Mon, 13 Apr 2015 10:57:11 +0100</updated>
                            <resolved>Sat, 4 Apr 2015 00:32:27 +0100</resolved>
                                    <version>0.9</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Examples</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="14056106" author="jaehoon13.ko" created="Wed, 9 Jul 2014 12:07:54 +0100"  >&lt;p&gt;The problem is that mahout clusterdump cannot understand glob-style path ($&lt;/p&gt;
{WORK_DIR}
&lt;p&gt;/reuters-kmeans/clusters-*-final) when kmeans is selected. Strangely, similar path is used for other options without error.&lt;/p&gt;</comment>
                            <comment id="14056108" author="jaehoon13.ko" created="Wed, 9 Jul 2014 12:09:18 +0100"  >&lt;p&gt;I&apos;m uploading a simple patch, that extracts the exact path of the clustering result directory and feed it to the clusterdump.&lt;/p&gt;</comment>
                            <comment id="14056109" author="jaehoon13.ko" created="Wed, 9 Jul 2014 12:10:48 +0100"  >&lt;p&gt;Extract exact path to the clustering results&lt;/p&gt;</comment>
                            <comment id="14056131" author="jaehoon13.ko" created="Wed, 9 Jul 2014 12:33:48 +0100"  >&lt;p&gt;Cancel patch for further revision&lt;/p&gt;</comment>
                            <comment id="14075813" author="jaehoon13.ko" created="Mon, 28 Jul 2014 01:32:59 +0100"  >&lt;p&gt;This patch extracts the exact path of the clustering result directory and feed it to the clusterdump&lt;/p&gt;</comment>
                            <comment id="14076149" author="smarthi" created="Mon, 28 Jul 2014 12:40:58 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jaehoon13.ko&quot; class=&quot;user-hover&quot; rel=&quot;jaehoon13.ko&quot;&gt;jaehoon ko&lt;/a&gt; Mahout 0.9 doesn&apos;t support Hadoop 2x and hence the issues u r seeing. Nevertheless these need to be fixed in the present trunk for Hadoop 2x and thanks for submitting a patch.&lt;/p&gt;

&lt;p&gt;Since we r now using Git as source code control, could u create a Git Pull request as opposed to submitting a patch. &lt;br/&gt;
Also I am assuming that u r generating a patch against the present trunk and not from 0.9 codebase, correct?&lt;/p&gt;</comment>
                            <comment id="14077404" author="jaehoon13.ko" created="Tue, 29 Jul 2014 06:38:06 +0100"  >&lt;p&gt;Thanks for your comment.&lt;br/&gt;
Ok. I will make a Git pull request for the patch.&lt;br/&gt;
Please give me some time to get familiar with GitHub. This is my first time ever doing contribution!&lt;br/&gt;
The patch is against master branch, whose tag is 2b65475c3ab682ebd47cffdc6b502698799cd2c8.&lt;/p&gt;</comment>
                            <comment id="14077409" author="smarthi" created="Tue, 29 Jul 2014 06:44:16 +0100"  >&lt;p&gt;You should be working off of github master as that&apos;s were all changes are being committed now. If your patch was against what&apos;s in SVN then u may not be working against the recent code changes. Please work off of github master and redo ur patch. Thanks for ur contributions.&lt;/p&gt;</comment>
                            <comment id="14084304" author="githubbot" created="Mon, 4 Aug 2014 06:11:30 +0100"  >&lt;p&gt;GitHub user roengram opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/mahout/pull/37&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/37&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    use exact path to clustering results instead of wild-card&lt;/p&gt;

&lt;p&gt;    Detail is available at &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1593&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/MAHOUT-1593&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Briefly speaking, kmeans-clustering example script doesn&apos;t run correctly with Hadoop version: 2.4.0.2.1.1.0-385. The reason is that the script uses wild-carded path for clustering result directory, which is not returning the correct path. I replaced the wild-carded path with a simple combination of commands that returns the exact path.&lt;/p&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/roengram/mahout&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/roengram/mahout&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1593&quot; title=&quot;cluster-reuters.sh does not work complaining java.lang.IllegalStateException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-1593&quot;&gt;&lt;del&gt;MAHOUT-1593&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/mahout/pull/37.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/37.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #37&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 50491a8e43d45e91247fab63b8504a81c41eeabb&lt;br/&gt;
Author: roengram &amp;lt;jaehoon13.ko@samsung.com&amp;gt;&lt;br/&gt;
Date:   2014-08-04T04:59:06Z&lt;/p&gt;

&lt;p&gt;    use exact path to clustering results instead of wild-card&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14089585" author="githubbot" created="Thu, 7 Aug 2014 19:39:19 +0100"  >&lt;p&gt;Github user FRosner commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/mahout/pull/37#issuecomment-51513451&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/37#issuecomment-51513451&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Is there only one directory that matches the wildcard? What happens if there are multiple ones?&lt;/p&gt;

&lt;p&gt;    &amp;#8212;&lt;/p&gt;

&lt;p&gt;    (please excuse my questions if they are dumb, I am new to Mahout)&lt;/p&gt;</comment>
                            <comment id="14090469" author="githubbot" created="Fri, 8 Aug 2014 09:23:35 +0100"  >&lt;p&gt;Github user roengram commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/mahout/pull/37#issuecomment-51575364&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/37#issuecomment-51575364&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks for your comment.&lt;br/&gt;
    I&apos;ve changed &apos;hadoop dfs&apos; to &apos;hadoop fs&apos;.&lt;br/&gt;
    As far as I know, there will be only one clustering result directory. Because we do not know in advance what the exact name will be, we need to use wildcard.&lt;/p&gt;</comment>
                            <comment id="14090496" author="githubbot" created="Fri, 8 Aug 2014 09:58:33 +0100"  >&lt;p&gt;Github user FRosner commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/mahout/pull/37#issuecomment-51578323&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/37#issuecomment-51578323&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I was just wondering about this dfs and fs thing. Not sure if there is some backwards compatibility issue with fs. Maybe some Hadoop specialist can comment on this one &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/tongue.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;    Ok if you are sure that there will only be exactly one result directory, the changes look fine to me. Guess it solved the problems you were facing &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;    :+1: from me&lt;/p&gt;</comment>
                            <comment id="14392342" author="githubbot" created="Thu, 2 Apr 2015 09:05:17 +0100"  >&lt;p&gt;GitHub user smarthi opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/mahout/pull/94&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/94&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1593&quot; title=&quot;cluster-reuters.sh does not work complaining java.lang.IllegalStateException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-1593&quot;&gt;&lt;del&gt;MAHOUT-1593&lt;/del&gt;&lt;/a&gt;: cluster-reuters.sh does not work complaining java.lang.Ille...&lt;/p&gt;

&lt;p&gt;    ...galStateException&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/smarthi/mahout&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/smarthi/mahout&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1593&quot; title=&quot;cluster-reuters.sh does not work complaining java.lang.IllegalStateException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-1593&quot;&gt;&lt;del&gt;MAHOUT-1593&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/mahout/pull/94.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/94.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #94&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit a6b20d68d86648d8b232ad02c3eb4d28a14bd02e&lt;br/&gt;
Author: Suneel Marthi &amp;lt;suneel.marthi@gmail.com&amp;gt;&lt;br/&gt;
Date:   2015-04-02T07:59:59Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1593&quot; title=&quot;cluster-reuters.sh does not work complaining java.lang.IllegalStateException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-1593&quot;&gt;&lt;del&gt;MAHOUT-1593&lt;/del&gt;&lt;/a&gt;: cluster-reuters.sh does not work complaining java.lang.IllegalStateException&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14395254" author="githubbot" created="Sat, 4 Apr 2015 00:25:39 +0100"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/mahout/pull/94&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/94&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14395284" author="hudson" created="Sat, 4 Apr 2015 00:51:09 +0100"  >&lt;p&gt;SUCCESS: Integrated in Mahout-Quality #3048 (See &lt;a href=&quot;https://builds.apache.org/job/Mahout-Quality/3048/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Mahout-Quality/3048/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1593&quot; title=&quot;cluster-reuters.sh does not work complaining java.lang.IllegalStateException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-1593&quot;&gt;&lt;del&gt;MAHOUT-1593&lt;/del&gt;&lt;/a&gt;: cluster-reuters.sh does not work complaining java.lang.IllegalStateException (akm: rev 3aefb18d73e2df241f38a06d69b001f1669c1d8e)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;CHANGELOG&lt;/li&gt;
	&lt;li&gt;examples/bin/cluster-reuters.sh&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14395461" author="githubbot" created="Sat, 4 Apr 2015 02:57:59 +0100"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/mahout/pull/37&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/37&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14492163" author="sslavic" created="Mon, 13 Apr 2015 10:57:11 +0100"  >&lt;p&gt;Bulk closing all 0.10.0 resolved issues&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12658051" name="MAHOUT-1593.patch" size="690" author="jaehoon13.ko" created="Mon, 28 Jul 2014 01:33:15 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 28 Jul 2014 11:40:58 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>404388</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzrgbz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>404427</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>