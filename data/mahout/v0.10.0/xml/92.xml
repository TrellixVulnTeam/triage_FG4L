<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:17:16 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-92/MAHOUT-92.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-92] BayesFeatureMapper doesn&apos;t properly extract features</title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-92</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt;The BayesFeatureMapper currently has a bunch of unused variables and doesn&apos;t actually do anything.  The problem is it is not using the input value to generate a set of n-grams, from which it can then generate tf-idf information.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12407631">MAHOUT-92</key>
            <summary>BayesFeatureMapper doesn&apos;t properly extract features</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gsingers">Grant Ingersoll</assignee>
                                    <reporter username="gsingers">Grant Ingersoll</reporter>
                        <labels>
                    </labels>
                <created>Fri, 31 Oct 2008 22:11:04 +0000</created>
                <updated>Sat, 21 May 2011 04:23:57 +0100</updated>
                            <resolved>Sat, 8 Nov 2008 00:01:48 +0000</resolved>
                                                    <fixVersion>0.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12644495" author="robinanil" created="Sat, 1 Nov 2008 06:15:28 +0000"  >&lt;blockquote&gt;&lt;/blockquote&gt;
&lt;p&gt;to test&lt;br/&gt;
 hadoop jar build/apache-mahout-examples-0.1-dev.job org.apache.mahout.classifier.bayes.TestClassifier -p 20newsmodel -t ../core/work/20news-18828-collapse/ -ng 1 -type cbayes -a org.apache.lucene.analysis.standard.StandardAnalyzer -d default -e UTF-8&lt;/p&gt;
{/quote}


&lt;p&gt;Some lines were missing in very last patch I submitted in &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-60&quot; title=&quot;Complementary Naive Bayes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-60&quot;&gt;&lt;del&gt;MAHOUT-60&lt;/del&gt;&lt;/a&gt;. BayesFeatureMapper wasnt creating any output. &lt;br/&gt;
This patch fixes that. I also ran a train and a test over 20 newsgroups. Everything seems working at the moment.&lt;/p&gt;

&lt;p&gt;Why is encoding and analyzer a required option in the command line?&lt;br/&gt;
 I feel it should be optional. &lt;/p&gt;

&lt;p&gt;The same goes for the default category. The classifier returns the first category if all the categories have same score or zero.  I don&apos;t see any problem in that.&lt;/p&gt;

&lt;p&gt; Any thoughts?&lt;/p&gt;</comment>
                            <comment id="12644507" author="gsingers" created="Sat, 1 Nov 2008 12:37:45 +0000"  >&lt;p&gt;Cool, this looks almost exactly like the patch I came up with based on looking at some of the old patches.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Why is encoding and analyzer a required option in the command line?
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In my original patch, I believe it started off by tokenizing/filtering the text using any specified Lucene Analyzer.  I think this piece would be useful to restore.  This way, you aren&apos;t just relying on a simple whitespace tokenizer and can plug in your own very easily.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
The same goes &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; category. The classifier returns the first category &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; all the categories have same score or zero. I don&apos;t see any problem in that.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The default category covered the case where there isn&apos;t sufficient evidence for a category.&lt;/p&gt;</comment>
                            <comment id="12644523" author="gsingers" created="Sat, 1 Nov 2008 17:33:41 +0000"  >&lt;p&gt;I take that back.  Analyzer and Encoding should not be required, at least not in the BayesFileFormatter.  Copy and Paste error on my part when I move use to use CLI2.&lt;/p&gt;

&lt;p&gt;I&apos;m going to upload a patch shortly.&lt;/p&gt;</comment>
                            <comment id="12644534" author="gsingers" created="Sat, 1 Nov 2008 20:07:02 +0000"  >&lt;blockquote&gt;
&lt;p&gt;I also ran a train and a test over 20 newsgroups. Everything seems working at the moment.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Can you share how you are running it?  When I run it, it completes, but all the results are &quot;unknown&quot;.  Please update &lt;a href=&quot;http://cwiki.apache.org/confluence/display/MAHOUT/TwentyNewsgroups&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://cwiki.apache.org/confluence/display/MAHOUT/TwentyNewsgroups&lt;/a&gt; if you have the time.&lt;/p&gt;

&lt;p&gt;I&apos;m looking at the BayesClassifier class, and I frankly don&apos;t get how it works anymore, especially the code at:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; category : categories) {
      &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt; prob = documentProbability(model, category, document);
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (prob &amp;lt; min) {
        min = prob;
        result.setLabel(category);
      }
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;That min value starts at 0, and a probability should be between 0 and 1, how would that clause ever be satisfied such that the label gets set?  Additionally, the values that come back for prob are much larger than one.  That&apos;s fine if they are supposed to be, but then we shouldn&apos;t be calling it a probability.&lt;/p&gt;</comment>
                            <comment id="12644536" author="gsingers" created="Sat, 1 Nov 2008 20:19:16 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Some lines were missing in very last patch I submitted in MAHOUT-60.&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The more I look at this, the more it seems other things are missing.  Can you double check the last patch you had versus trunk?  See also &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-93&quot; title=&quot;Refactor Bayes and CBayes to share more common code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-93&quot;&gt;&lt;del&gt;MAHOUT-93&lt;/del&gt;&lt;/a&gt;.  There&apos;s just something overall that doesn&apos;t sit right here.&lt;/p&gt;</comment>
                            <comment id="12645488" author="gsingers" created="Thu, 6 Nov 2008 15:05:31 +0000"  >&lt;p&gt;I believe this patch works.  I&apos;m going to try out the examples some more later today and then commit.&lt;/p&gt;</comment>
                            <comment id="12645919" author="gsingers" created="Sat, 8 Nov 2008 00:01:47 +0000"  >&lt;p&gt;Committed revision 712310.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12393445" name="MAHOUT-92.patch" size="21416" author="gsingers" created="Thu, 6 Nov 2008 15:05:31 +0000"/>
                            <attachment id="12393198" name="MAHOUT-92.patch" size="5601" author="gsingers" created="Sat, 1 Nov 2008 17:40:04 +0000"/>
                            <attachment id="12393190" name="MAHOUT-92.patch" size="1829" author="robinanil" created="Sat, 1 Nov 2008 06:15:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 1 Nov 2008 06:15:28 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9974</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxy793:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23326</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>