<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:27:22 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-756/MAHOUT-756.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-756] VectorList (Matrix implementation) does not maintain cardinality getters correctly</title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-756</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt;VectorList (implements Matrix) is dynamically expandable, row-wise. There are three different ways to query the size of a Matrix, and VectorList does not correctly supply these values.&lt;/p&gt;


</description>
                <environment></environment>
        <key id="12513479">MAHOUT-756</key>
            <summary>VectorList (Matrix implementation) does not maintain cardinality getters correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="srowen">Sean Owen</assignee>
                                    <reporter username="lancenorskog">Lance Norskog</reporter>
                        <labels>
                    </labels>
                <created>Sun, 10 Jul 2011 23:17:33 +0100</created>
                <updated>Thu, 9 Feb 2012 14:01:04 +0000</updated>
                            <resolved>Tue, 12 Jul 2011 23:15:47 +0100</resolved>
                                                    <fixVersion>0.6</fixVersion>
                                    <component>Math</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13062818" author="lancenorskog" created="Sun, 10 Jul 2011 23:38:11 +0100"  >&lt;p&gt;VectorList.java:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Fixed maintenance of cardinality values. Removed local copy of # of columns.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Pre-allocate rows when given # of rows in constructor.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Work around &quot;like&quot; problems: the class allows different vectors to be different classes, and so making a &apos;like&apos; Matrix with more rows is impossible.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;When accessing an empty row, change NullPointerException to IllegalStateException.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;VectorListTest.java:&lt;br/&gt;
Added a bunch of tests for dynamic row additions.&lt;/p&gt;</comment>
                            <comment id="13062819" author="lancenorskog" created="Sun, 10 Jul 2011 23:39:48 +0100"  >&lt;p&gt;Perhaps like() and like(row, columns) should just make an empty VectorList? After all, like() is not clone(). (Which VectorList does not implement and should.)&lt;/p&gt;</comment>
                            <comment id="13063289" author="srowen" created="Mon, 11 Jul 2011 12:12:04 +0100"  >&lt;p&gt;I like most of this cleanup. I think we could leave the getQuick()/setQuick() methods as-is &amp;#8211; no need for additional arg checking. Their intent is to be used when the caller knows it&apos;s OK.&lt;/p&gt;

&lt;p&gt;I don&apos;t know that it&apos;s a problem that this allows different rows to be of different types. I don&apos;t think any caller uses it that way anyway.&lt;/p&gt;

&lt;p&gt;It is interesting what &quot;like&quot; means for the method that specifies a new number of rows &amp;#8211; what are the types of the new rows? Right now it forces them to DenseVector which doesn&apos;t feel right if the other like() method does not do the same. On the other hand, you&apos;re requesting a different number of rows, which means the type of new rows aren&apos;t defined anyway, so how much can the caller care?&lt;/p&gt;

&lt;p&gt;I think the least surprising thing for the caller, who will normally have an object with all one type of vector, is to have a result of the same type of vector. So, in that sense I think your change is good.&lt;/p&gt;

&lt;p&gt;But there isn&apos;t a need for a new likeVector() method; call Vector.like() as the other method does.&lt;/p&gt;

&lt;p&gt;Let me see what happens under these changes.&lt;/p&gt;</comment>
                            <comment id="13063291" author="srowen" created="Mon, 11 Jul 2011 12:29:22 +0100"  >&lt;p&gt;OK, I see: like(int, int) used a DenseVector all the time since it wanted to specify the cardinality concretely. I think it&apos;s OK to leave that as-is, as it&apos;s not obviously a problem, rather than change its behavior. It&apos;s not necessary to make the like() method always use DenseVector though? There it&apos;s fine to call Vector.like().&lt;/p&gt;

&lt;p&gt;The two methods were not consistent in this regard &amp;#8211; you flipped them both to do what the other did. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Consistency might be good here... I don&apos;t know. Always use DenseVector, or use like() in the one case where you can?&lt;/p&gt;</comment>
                            <comment id="13063705" author="lancenorskog" created="Tue, 12 Jul 2011 05:05:44 +0100"  >&lt;p&gt;When it is this confusing, UnsupportedOperationException is permissible. There is no obvious right thing to do. What if there are different Vector classes and some empty slots?&lt;/p&gt;

&lt;p&gt;Using DenseVector/Matrix is the default policy in other places, so let&apos;s go with that. If your program runs out of memory, you&apos;ll eventually find all of the DenseVectors and track down the problem. In the meantime, it will be slow but will work.&lt;/p&gt;</comment>
                            <comment id="13063774" author="srowen" created="Tue, 12 Jul 2011 09:41:14 +0100"  >&lt;p&gt;UnsupportedOperationException can&apos;t be right &amp;#8211; this operation is supportable.&lt;/p&gt;

&lt;p&gt;@Ted: yes it doesn&apos;t seem right to use DenseVector; that&apos;s what it does now though. The way out is probably to add a like(int) method to Vector.&lt;/p&gt;

&lt;p&gt;I agree that there are several potential additional issues with this class (like exceptions on access).&lt;/p&gt;

&lt;p&gt;Here&apos;s the kicker: nothing uses this class. Given this thread alone I&apos;d suggest it&apos;s better to remove it and start again later if desired.&lt;/p&gt;</comment>
                            <comment id="13064192" author="srowen" created="Tue, 12 Jul 2011 23:15:47 +0100"  >&lt;p&gt;... in the sense that I removed it.&lt;/p&gt;</comment>
                            <comment id="13064339" author="hudson" created="Wed, 13 Jul 2011 05:13:52 +0100"  >&lt;p&gt;Integrated in Mahout-Quality #936 (See &lt;a href=&quot;https://builds.apache.org/job/Mahout-Quality/936/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Mahout-Quality/936/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-756&quot; title=&quot;VectorList (Matrix implementation) does not maintain cardinality getters correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-756&quot;&gt;&lt;del&gt;MAHOUT-756&lt;/del&gt;&lt;/a&gt; kill implementation due to several small issues&lt;/p&gt;

&lt;p&gt;srowen : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1145795&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1145795&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/mahout/trunk/math/src/test/java/org/apache/mahout/math/VectorListTest.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/math/src/main/java/org/apache/mahout/math/VectorList.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12486012" name="VectorList.patch" size="9225" author="lancenorskog" created="Sun, 10 Jul 2011 23:38:11 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 11 Jul 2011 11:12:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9306</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxy367:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22665</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>