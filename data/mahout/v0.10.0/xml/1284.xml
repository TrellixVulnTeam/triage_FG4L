<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:18:02 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-1284/MAHOUT-1284.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-1284] DummyRecordWriter&apos;s bug with reused Writables</title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-1284</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt;It is a recommended practice to reuse the Writable objects. DummyRecordWriter, which is used for testing in Mahout, however keeps the same Writable instance in a map: next time that the user reuses the Writable object, the internal map of DummyRecordWriter changes as well. This makes DummyRecordWriter fail for testing the MapReduce jobs that reuse the Writables.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12657412">MAHOUT-1284</key>
            <summary>DummyRecordWriter&apos;s bug with reused Writables</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="smarthi">Suneel Marthi</assignee>
                                    <reporter username="maysamyabandeh">Maysam Yabandeh</reporter>
                        <labels>
                            <label>test</label>
                    </labels>
                <created>Fri, 12 Jul 2013 08:32:06 +0100</created>
                <updated>Mon, 3 Feb 2014 07:57:20 +0000</updated>
                            <resolved>Mon, 29 Jul 2013 08:03:14 +0100</resolved>
                                    <version>0.7</version>
                    <version>0.8</version>
                                    <fixVersion>0.9</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                    <timeoriginalestimate seconds="3600">1h</timeoriginalestimate>
                            <timeestimate seconds="3600">1h</timeestimate>
                                        <comments>
                            <comment id="13706752" author="maysamyabandeh" created="Fri, 12 Jul 2013 08:34:42 +0100"  >&lt;p&gt;The attached patch contains the solution that worked for me. It also includes a unit test to show the problem.&lt;/p&gt;</comment>
                            <comment id="13720894" author="smarthi" created="Fri, 26 Jul 2013 16:40:05 +0100"  >&lt;p&gt;Thanks for the patch Maysam, will look into this and commit the same.&lt;/p&gt;</comment>
                            <comment id="13721273" author="smarthi" created="Fri, 26 Jul 2013 22:55:45 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=maysamyabandeh&quot; class=&quot;user-hover&quot; rel=&quot;maysamyabandeh&quot;&gt;Maysam Yabandeh&lt;/a&gt; Got time to look at this today. There are tests in Mahout-integration that are using DummyRecordWriter  -  TestConcatenateVectorsJob and RegexMapperTest, and are failing with this patch. I&apos;ll take a stab at this again but could you verify this patch against the present trunk?&lt;/p&gt;</comment>
                            <comment id="13721556" author="maysamyabandeh" created="Sat, 27 Jul 2013 08:04:05 +0100"  >&lt;p&gt;I am attaching the patch regenerated against the latest trunk. It passes the two tests of TestConcatenateVectorsJob and RegexMapperTest.&lt;/p&gt;</comment>
                            <comment id="13721733" author="smarthi" created="Sat, 27 Jul 2013 20:42:14 +0100"  >&lt;p&gt;What has changed in this patch? I see no difference between the latest patch and the previous one, the integration tests still fail with this patch.&lt;/p&gt;</comment>
                            <comment id="13721889" author="maysamyabandeh" created="Sun, 28 Jul 2013 07:20:08 +0100"  >&lt;p&gt;Weird! It passes the two tests in my machine!&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Running org.apache.mahout.utils.TestConcatenateVectorsJob
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.285 sec - in org.apache.mahout.utils.TestConcatenateVectorsJob
Running org.apache.mahout.utils.regex.RegexMapperTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.28 sec - in org.apache.mahout.utils.regex.RegexMapperTest
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;What is the error that you get?&lt;/p&gt;</comment>
                            <comment id="13721891" author="smarthi" created="Sun, 28 Jul 2013 07:25:45 +0100"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Tests run: 3, Failures: 0, Errors: 3, Skipped: 0, Time elapsed: 0.663 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.mahout.utils.regex.RegexMapperTest
testRegex(org.apache.mahout.utils.regex.RegexMapperTest)  Time elapsed: 0.572 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
java.lang.NoSuchMethodError: org.apache.mahout.common.DummyRecordWriter.getValue(Ljava/lang/&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;;)Ljava/util/List;
	at org.apache.mahout.utils.regex.RegexMapperTest.testRegex(RegexMapperTest.java:48)

testGroups(org.apache.mahout.utils.regex.RegexMapperTest)  Time elapsed: 0.04 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
java.lang.NoSuchMethodError: org.apache.mahout.common.DummyRecordWriter.getValue(Ljava/lang/&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;;)Ljava/util/List;
	at org.apache.mahout.utils.regex.RegexMapperTest.testGroups(RegexMapperTest.java:73)

testFPGFormatter(org.apache.mahout.utils.regex.RegexMapperTest)  Time elapsed: 0.05 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
java.lang.NoSuchMethodError: org.apache.mahout.common.DummyRecordWriter.getValue(Ljava/lang/&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;;)Ljava/util/List;
	at org.apache.mahout.utils.regex.RegexMapperTest.testFPGFormatter(RegexMapperTest.java:97)

Running org.apache.mahout.utils.regex.RegexUtilsTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.022 sec - in org.apache.mahout.utils.regex.RegexUtilsTest

Running org.apache.mahout.utils.TestConcatenateVectorsJob
Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.608 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.mahout.utils.TestConcatenateVectorsJob
testConcatenateVectorsReducer(org.apache.mahout.utils.TestConcatenateVectorsJob)  Time elapsed: 0.607 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
java.lang.NoSuchMethodError: org.apache.mahout.common.DummyRecordWriter.getValue(Ljava/lang/&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;;)Ljava/util/List;
	at org.apache.mahout.utils.TestConcatenateVectorsJob.testConcatenateVectorsReducer(TestConcatenateVectorsJob.java:90)

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;What&apos;s different between the 2 patches you had submitted? Am I missing something here?&lt;/p&gt;</comment>
                            <comment id="13721896" author="maysamyabandeh" created="Sun, 28 Jul 2013 07:44:31 +0100"  >&lt;p&gt;The error that you get (and I do not manage to reproduce) does seem to be related to the patch. It complains that #getValue method does not exist, which is not affected by the patch.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.lang.NoSuchMethodError: org.apache.mahout.common.DummyRecordWriter.getValue(Ljava/lang/&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;;)Ljava/util/List;
	at org.apache.mahout.utils.TestConcatenateVectorsJob.testConcatenateVectorsReducer(TestConcatenateVectorsJob.java:90)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Is there any chance that your test file is not compiled properly. It seems that your TestConcatenateVectorsJob.class is compiled against the old DummyRecordWriter.class.&lt;/p&gt;

&lt;p&gt;I regenerated the second patch against the latest trunk just to ensure that there is no behind-the-trunk issue here, and you are right that it still did not change the patch.&lt;/p&gt;</comment>
                            <comment id="13721907" author="smarthi" created="Sun, 28 Jul 2013 08:04:29 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=maysamyabandeh&quot; class=&quot;user-hover&quot; rel=&quot;maysamyabandeh&quot;&gt;Maysam Yabandeh&lt;/a&gt; I just did a clean project build and the tests pass now. Sorry about the false alarm and thanks for the patch. I&apos;ll commit this tomorrow.&lt;/p&gt;</comment>
                            <comment id="13722182" author="ssc" created="Mon, 29 Jul 2013 06:56:52 +0100"  >&lt;p&gt;The committed patch causes TestCanopyCreation to fail.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12594517" name="MAHOUT-1284.patch" size="4126" author="maysamyabandeh" created="Sat, 27 Jul 2013 08:04:05 +0100"/>
                            <attachment id="12591972" name="MAHOUT-1284.patch" size="4127" author="maysamyabandeh" created="Fri, 12 Jul 2013 08:34:42 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 26 Jul 2013 15:40:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337634</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzg2wn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337957</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>