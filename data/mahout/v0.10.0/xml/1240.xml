<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:16:50 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-1240/MAHOUT-1240.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-1240] Randomized testing and Serialization of NonZeros</title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-1240</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt;Currently the nonZero iterator does not guarantee nonZero iteration for certain vectors (RASV, SASV) for performance reason. However vector view iterator adds a zero check.. To be correct we have to either remove the check or do correct non zero serialization everywhere. However this means going over the vectors in two passes. Given that is pretty fast already, I am fixing the logic bug. We can tackle the speed up for the next release.&lt;/p&gt;

&lt;p&gt;This also adds a randomized test for serialization that catches all such bugs.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12650880">MAHOUT-1240</key>
            <summary>Randomized testing and Serialization of NonZeros</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="robinanil">Robin Anil</assignee>
                                    <reporter username="robinanil">Robin Anil</reporter>
                        <labels>
                    </labels>
                <created>Tue, 4 Jun 2013 14:48:32 +0100</created>
                <updated>Mon, 3 Feb 2014 08:05:56 +0000</updated>
                            <resolved>Tue, 4 Jun 2013 15:42:46 +0100</resolved>
                                                    <fixVersion>0.8</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13674456" author="dweiss" created="Tue, 4 Jun 2013 15:47:11 +0100"  >&lt;p&gt;+1 for using randomized testing &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; One remark &amp;#8211;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; class VectorWritableTest &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; RandomizedTest {
+  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; MAX_VECTOR_SIZE = 100;
+  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Random r = RandomUtils.getRandom();
+
+  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void createRandom(Vector v) {
+    &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; size = r.nextInt(v.size());
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you&apos;re extending/ using randomized test framework then it&apos;d be probably sensible to reuse its internal Random &amp;#8211; this will let you use all the benefits of the framework, including changing seeds on Repeat(ed) methods etc. This in general is a problem:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Random r = RandomUtils.getRandom();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;because class instantiation takes place outside of the suite runner (this is JUnit&apos;s limitation). Anything that has a class scope should be initialized in a BeforeClass-annotated method hook (and cleaned appropriately if resources are to be released).&lt;/p&gt;

&lt;p&gt;I would remove the class-scoped &quot;r&quot; and replace calls to it with superclass utility functions (randomInt, randomDouble etc.).&lt;/p&gt;</comment>
                            <comment id="13674579" author="hudson" created="Tue, 4 Jun 2013 18:18:04 +0100"  >&lt;p&gt;Integrated in Mahout-Quality #2037 (See &lt;a href=&quot;https://builds.apache.org/job/Mahout-Quality/2037/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Mahout-Quality/2037/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1240&quot; title=&quot;Randomized testing and Serialization of NonZeros&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-1240&quot;&gt;&lt;del&gt;MAHOUT-1240&lt;/del&gt;&lt;/a&gt; Change VectorWritableTest to use random generator from the super class (Revision 1489462)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1240&quot; title=&quot;Randomized testing and Serialization of NonZeros&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-1240&quot;&gt;&lt;del&gt;MAHOUT-1240&lt;/del&gt;&lt;/a&gt; Randomized testing and Serialization of NonZeros (choosing correctness over performance) (Revision 1489456)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
robinanil : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/mahout/trunk/core/src/test/java/org/apache/mahout/math/VectorWritableTest.java&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;robinanil : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/mahout/trunk/core/src/main/java/org/apache/mahout/math/VectorWritable.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/test/java/org/apache/mahout/math/VectorWritableTest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13675312" author="smarthi" created="Tue, 4 Jun 2013 22:54:01 +0100"  >&lt;p&gt;Robin, is there a maven plugin for randomizedtesting that should have gone in with this fix. Build fails now.&lt;/p&gt;

&lt;p&gt;Added maven dependency to core/pom.xml and committed to trunk.&lt;/p&gt;</comment>
                            <comment id="13675567" author="hudson" created="Wed, 5 Jun 2013 04:42:40 +0100"  >&lt;p&gt;Integrated in Mahout-Quality #2038 (See &lt;a href=&quot;https://builds.apache.org/job/Mahout-Quality/2038/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Mahout-Quality/2038/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1240&quot; title=&quot;Randomized testing and Serialization of NonZeros&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-1240&quot;&gt;&lt;del&gt;MAHOUT-1240&lt;/del&gt;&lt;/a&gt;: Randomized testing and Serialization of NonZeros - Adding maven dependency for carrotsearch.randomizedtesting (Revision 1489660)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
smarthi : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/mahout/trunk/core/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13676692" author="hudson" created="Thu, 6 Jun 2013 05:38:16 +0100"  >&lt;p&gt;Integrated in Mahout-Quality #2042 (See &lt;a href=&quot;https://builds.apache.org/job/Mahout-Quality/2042/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Mahout-Quality/2042/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1240&quot; title=&quot;Randomized testing and Serialization of NonZeros&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-1240&quot;&gt;&lt;del&gt;MAHOUT-1240&lt;/del&gt;&lt;/a&gt; correcting the randomized testing jar version to be same as in math (Revision 1490110)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
robinanil : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/mahout/trunk/core/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12586101" name="MAHOUT-1240.patch" size="7612" author="robinanil" created="Tue, 4 Jun 2013 14:49:31 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 4 Jun 2013 14:47:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>331207</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzezdj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>331540</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>