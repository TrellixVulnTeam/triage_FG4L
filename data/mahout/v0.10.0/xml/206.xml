<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:21:15 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-206/MAHOUT-206.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-206] Separate and clearly label different SparseVector implementations</title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-206</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt;Shashi&apos;s last patch on &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-165&quot; title=&quot;Using better primitives hash for sparse vector for performance gains&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-165&quot;&gt;&lt;del&gt;MAHOUT-165&lt;/del&gt;&lt;/a&gt; swapped out the int/double parallel array impl of SparseVector for an OpenIntDoubleMap (hash-based) one.  We actually need both, as I think I&apos;ve mentioned a gazillion times.&lt;/p&gt;

&lt;p&gt;There was a patch, long ago, on &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-165&quot; title=&quot;Using better primitives hash for sparse vector for performance gains&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-165&quot;&gt;&lt;del&gt;MAHOUT-165&lt;/del&gt;&lt;/a&gt;, in which Ted had OrderedIntDoubleVector, and OpenIntDoubleHashVector (or something to that effect), and neither of them are called SparseVector.  I like this, because it forces people to choose what kind of SparseVector they want (and they should: sparse is an optimization, and the client should make a conscious decision what they&apos;re optimizing for).  &lt;/p&gt;

&lt;p&gt;We could call them RandomAccessSparseVector and SequentialAccessSparseVector, to be really obvious.&lt;/p&gt;

&lt;p&gt;But really, the important part is we have both.&lt;/p&gt;</description>
                <environment>&lt;p&gt;all&lt;/p&gt;</environment>
        <key id="12441495">MAHOUT-206</key>
            <summary>Separate and clearly label different SparseVector implementations</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jake.mannix">Jake Mannix</assignee>
                                    <reporter username="jake.mannix">Jake Mannix</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Nov 2009 18:39:03 +0000</created>
                <updated>Sat, 21 May 2011 04:24:05 +0100</updated>
                            <resolved>Thu, 14 Jan 2010 17:52:13 +0000</resolved>
                                    <version>0.2</version>
                                    <fixVersion>0.3</fixVersion>
                                    <component>Math</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12781701" author="gsingers" created="Mon, 23 Nov 2009 23:45:15 +0000"  >&lt;p&gt;Sorry, yes, I missed that and I agree we do need it.&lt;/p&gt;</comment>
                            <comment id="12781793" author="kshashi" created="Tue, 24 Nov 2009 06:14:45 +0000"  >&lt;p&gt;From my observation,  the input vectors are immutable. They will be benefit from the array-based sparse vector implementation. For centroids, the hash-based vector works great.&lt;/p&gt;</comment>
                            <comment id="12782028" author="jake.mannix" created="Tue, 24 Nov 2009 17:06:41 +0000"  >&lt;p&gt;Patch renames the hash-based SparseVector with RandomAccessSparseVector, and adds back the old form of SparseVector (backed by OrderedIntDoubleMapping) named now as SequentialAccessSparseVector.  &lt;/p&gt;

&lt;p&gt;Unit tests added testing both forms of sparse vector.&lt;/p&gt;

&lt;p&gt;BUT, I have not gone through all the places where we use SparseVector instances and deliberately picked SequetialAccess or RandomAccess choices for the sparse impl.  All usage is done as RandomAccessSparseVector (ie. by the refactor-rename on trunk of SparseVector to RandomAccessSparseVector), and we will need to intentionally swap in SequentialAccessSparseVector in the primarily immutable/read-only case.&lt;/p&gt;</comment>
                            <comment id="12782054" author="gsingers" created="Tue, 24 Nov 2009 17:36:51 +0000"  >&lt;p&gt;Jake, there&apos;s something weird in this patch in regards to SparseVector.  It didn&apos;t delete the file, but instead left it empty.&lt;/p&gt;

&lt;p&gt;It seems like there is still some commonality between the two implementations (size, cardinality, etc.) that I think it would be worthwhile to keep SparseVector as an abstract class which the other two extend.&lt;/p&gt;</comment>
                            <comment id="12782186" author="jake.mannix" created="Tue, 24 Nov 2009 21:38:52 +0000"  >&lt;p&gt;This adds back SparseVector now as the parent of both sparse impls, and extending AbstractVector.&lt;/p&gt;

&lt;p&gt;There are certainly optimizations which can still be done, and again, no work has been done to dig through all the places where RandomAccessSparseVectors are created and choose whether it would be better to have SequentialAccessSparseVector.&lt;/p&gt;

&lt;p&gt;This patch also has the fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-207&quot; title=&quot;AbstractVector.hashCode() should not care about the order of iteration over elements&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-207&quot;&gt;&lt;del&gt;MAHOUT-207&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="12783788" author="jake.mannix" created="Mon, 30 Nov 2009 18:53:05 +0000"  >&lt;p&gt;&lt;b&gt;bump&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;Hey Grant, have you tried out this version of the patch?  Looks like it could resolve &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-201&quot; title=&quot;OrderedIntDoubleMapping / SparseVector is unnecessarily slow&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-201&quot;&gt;&lt;del&gt;MAHOUT-201&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-206&quot; title=&quot;Separate and clearly label different SparseVector implementations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-206&quot;&gt;&lt;del&gt;MAHOUT-206&lt;/del&gt;&lt;/a&gt;, and &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-207&quot; title=&quot;AbstractVector.hashCode() should not care about the order of iteration over elements&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-207&quot;&gt;&lt;del&gt;MAHOUT-207&lt;/del&gt;&lt;/a&gt; all in one go if it&apos;s looks good.&lt;/p&gt;</comment>
                            <comment id="12787596" author="jake.mannix" created="Tue, 8 Dec 2009 17:56:54 +0000"  >&lt;p&gt;Grant, I can take over this one, since it&apos;s my changes.&lt;/p&gt;</comment>
                            <comment id="12795557" author="jake.mannix" created="Thu, 31 Dec 2009 07:39:59 +0000"  >&lt;p&gt;Ugh, ok I&apos;ve revived this patch, and it compiles again, after all the math / vector changes, but it&apos;s not passing all tests.  I&apos;ll post it here as a progress indicator tomorrow anyways.&lt;/p&gt;</comment>
                            <comment id="12800126" author="jake.mannix" created="Thu, 14 Jan 2010 06:10:58 +0000"  >&lt;p&gt;Patch brought up to date with trunk, again fairly invasive, because it kills SparseVector, replaces with the two subclasses optimized for different use cases.  In basically all cases, SparseVector -&amp;gt; RandomAccessSparseVector throughout user code, but this is probably &lt;b&gt;not&lt;/b&gt; optimal.  Cases where the vector being used is treated in a read-only way, it is more efficient to use SequentialAccessSparseVector, but I did not hunt down all those situations.&lt;/p&gt;</comment>
                            <comment id="12800188" author="srowen" created="Thu, 14 Jan 2010 13:04:12 +0000"  >&lt;p&gt;You want me to try this and commit it?&lt;/p&gt;</comment>
                            <comment id="12800268" author="jake.mannix" created="Thu, 14 Jan 2010 17:39:05 +0000"  >&lt;p&gt;If you (or anyone else) wants to try this out for sanity checking, I can commit it later too.  I think I may have missed the license headers on the new files though, I&apos;ll need to add that before committing.&lt;/p&gt;</comment>
                            <comment id="12800271" author="srowen" created="Thu, 14 Jan 2010 17:42:45 +0000"  >&lt;p&gt;It all passes for me. I had to delete another instance of TestVectorWritable in utils &amp;#8211; does that make sense? I admit I still had patch problems here but thought I manually fixed them all.&lt;/p&gt;

&lt;p&gt;I can handle issues like copyright headers.&lt;/p&gt;</comment>
                            <comment id="12800273" author="jake.mannix" created="Thu, 14 Jan 2010 17:45:49 +0000"  >&lt;blockquote&gt;&lt;p&gt;I had to delete another instance of TestVectorWritable in utils - does that make sense? &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It does - I moved it and deleted the old one, but it must have snuck back into the patch.&lt;/p&gt;

&lt;p&gt;If you&apos;ve got it cleaned up and ready to commit, sure, thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12430233" name="MAHOUT-206.patch" size="140897" author="jake.mannix" created="Thu, 14 Jan 2010 06:10:58 +0000"/>
                            <attachment id="12426021" name="MAHOUT-206.patch" size="100272" author="jake.mannix" created="Tue, 24 Nov 2009 21:38:52 +0000"/>
                            <attachment id="12425987" name="MAHOUT-206.patch" size="103847" author="jake.mannix" created="Tue, 24 Nov 2009 17:06:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 23 Nov 2009 23:45:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9859</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxy6jz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23213</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>