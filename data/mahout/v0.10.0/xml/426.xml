<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:26:43 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-426/MAHOUT-426.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-426] The Mahout command script doesn&apos;t properly run when Hadoop is installed but $MAHOUT_JOB is not set or found in standard locations</title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-426</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt;In the case where no $MAHOUT_JOB is set, and no mahout-examples-&lt;b&gt;.job file is found in the standard locations, the Mahout command script should default to the run locally option.  Instead, when the script is run one received an error that the non-existent file &quot;$MAHOUT_HOME/mahout-examples-&lt;/b&gt;.job&quot; cannot be found.&lt;/p&gt;

&lt;p&gt;This is the result of two separate bugs in the Mahout command script:&lt;/p&gt;

&lt;p&gt;i) There is no existence check in the loop checking for mahout-examples-*.job files in $MAHOUT_HOME&lt;br/&gt;
ii) The execution if/else clause only checks if either $HADOOP_CONF_DIR or $HADOOP_HOME is empty when determining whether to run locally.  It also should check the $MAHOUT_JOB variable, as it is meaningless to run hadoop in this case.&lt;/p&gt;

&lt;p&gt;Fixing these two issues allowed me to (almost) run the $MAHOUT_HOME/examples/bin/build-reuters.sh script.&lt;/p&gt;
</description>
                <environment>&lt;p&gt;Manifested in Amazon EC2 instance set up according to wiki instructions - &lt;a href=&quot;https://cwiki.apache.org/MAHOUT/mahoutec2.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/MAHOUT/mahoutec2.html&lt;/a&gt;&lt;br/&gt;
Seems likely to affect any server where Hadoop is installed&lt;/p&gt;</environment>
        <key id="12467642">MAHOUT-426</key>
            <summary>The Mahout command script doesn&apos;t properly run when Hadoop is installed but $MAHOUT_JOB is not set or found in standard locations</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="drew.farris">Drew Farris</assignee>
                                    <reporter username="peterg">Peter Goldstein</reporter>
                        <labels>
                    </labels>
                <created>Wed, 23 Jun 2010 01:00:20 +0100</created>
                <updated>Sun, 31 Oct 2010 15:49:46 +0000</updated>
                            <resolved>Thu, 8 Jul 2010 22:23:06 +0100</resolved>
                                    <version>0.4</version>
                                    <fixVersion>0.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12881469" author="peterg" created="Wed, 23 Jun 2010 01:04:05 +0100"  >&lt;p&gt;These script changes allowed the script to run when a $MAHOUT_JOB variable wasn&apos;t set and no .job files were available in the standard locations.&lt;/p&gt;</comment>
                            <comment id="12885535" author="drew.farris" created="Tue, 6 Jul 2010 14:24:50 +0100"  >&lt;p&gt;This sounds reasonable, I&apos;ll get this applied tested and committed this evening.&lt;/p&gt;</comment>
                            <comment id="12885597" author="tdunning" created="Tue, 6 Jul 2010 17:48:49 +0100"  >&lt;p&gt;Drew?&lt;/p&gt;

&lt;p&gt;Are you still on this?&lt;/p&gt;</comment>
                            <comment id="12885797" author="drew.farris" created="Wed, 7 Jul 2010 03:43:58 +0100"  >&lt;p&gt;Thanks for the patch Peter. All very good points.&lt;/p&gt;

&lt;p&gt;Attached is a slight revision to Peter&apos;s patch that does the following:&lt;/p&gt;


&lt;ul&gt;
	&lt;li&gt;Adds the existence check for MAHOUT_JOB when looking in $MAHOUT_HOME/mahout-examples-*.job as Peter originally proposed.&lt;/li&gt;
	&lt;li&gt;Adds documentation for the -core option in the header&lt;/li&gt;
	&lt;li&gt;Adds MAHOUT_CORE environment as an alternative to the -core option&lt;/li&gt;
	&lt;li&gt;Instead of automatically falling back to local mode If MAHOUT_JOB is not set because the mahout-examples-*.job file can&apos;t be found when HADOOP_HOME and HADOOP_CONF_DIR are set, the script will error out indicating that the examples job can&apos;t be found with a helpful suggestion that &apos;mvn install&apos; should be run.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Additionally, added the MAHOUT_LOCAL environment variable to force mahout to run in local mode although HADOOP_HOME and HADOOP_CONF_DIR are set. This is useful for developers to set in conjunction with MAHOUT_CORE&lt;/p&gt;

&lt;p&gt;I&apos;ll pause a bit to give the chance for people to review and then commit.&lt;/p&gt;</comment>
                            <comment id="12886165" author="peterg" created="Thu, 8 Jul 2010 01:31:40 +0100"  >&lt;p&gt;Not that I&apos;m a committer, but Drew&apos;s modifications to my original patch look good to me.&lt;/p&gt;</comment>
                            <comment id="12886447" author="hudson" created="Thu, 8 Jul 2010 21:19:36 +0100"  >&lt;p&gt;Integrated in Mahout-Quality #128 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Mahout-Quality/128/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Mahout-Quality/128/&lt;/a&gt;)&lt;/p&gt;
</comment>
                            <comment id="12886484" author="drew.farris" created="Thu, 8 Jul 2010 22:23:06 +0100"  >&lt;p&gt;Fixed, thanks for the patch Peter!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12448850" name="MAHOUT-426.patch" size="2726" author="drew.farris" created="Wed, 7 Jul 2010 03:43:58 +0100"/>
                            <attachment id="12447775" name="MAHOUT-426.patch" size="841" author="peterg" created="Wed, 23 Jun 2010 01:04:05 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 6 Jul 2010 13:24:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9637</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxy56v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22992</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>