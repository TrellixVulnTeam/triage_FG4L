<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:17:31 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-552/MAHOUT-552.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-552] AbstractCluster eliminates NamedVectors by replacing them with RandomAccessSparseVector always</title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-552</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt;When clustering using NamedVectors as input - after running seq2sparse with patch &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-401&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/MAHOUT-401&lt;/a&gt; - names are lost because AbstractCluster replaces vectors coming in the constructor with RandomAccessSparseVector.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12480780">MAHOUT-552</key>
            <summary>AbstractCluster eliminates NamedVectors by replacing them with RandomAccessSparseVector always</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jeastman">Jeff Eastman</assignee>
                                    <reporter username="ferrerabertran">Pere Ferrera Bertran</reporter>
                        <labels>
                    </labels>
                <created>Wed, 24 Nov 2010 09:18:38 +0000</created>
                <updated>Sat, 21 May 2011 04:18:51 +0100</updated>
                            <resolved>Sun, 10 Apr 2011 19:11:57 +0100</resolved>
                                    <version>0.5</version>
                                    <fixVersion>0.5</fixVersion>
                                    <component>Clustering</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12935267" author="ferrerabertran" created="Wed, 24 Nov 2010 09:30:28 +0000"  >&lt;p&gt;Possible patch for this issue&lt;/p&gt;</comment>
                            <comment id="12935402" author="jeastman" created="Wed, 24 Nov 2010 17:12:11 +0000"  >&lt;p&gt;This will not resolve your issue and is incorrect. The cluster centers are initialized from an input vector but subsequent observations of other input vectors will cause this to be recomputed to be the centroid of all the observed vectors. Any significance of retaining the first vector&apos;s NamedVector would be lost during this calculation. The cluster centroids are the results of many observations. Not correct to have them be named.&lt;/p&gt;

&lt;p&gt;I think what you really want is to run the clustering job with the -cl option (not the default). This will compute the clusters into a clusters-n directory and then cluster (classify) all of the input vectors into a clusteredPoints directory. This directory will contain sequence files where the key is a clusterId and the values are WeightedVectorWritables. These will have a weight (1 in k-means &amp;amp; canopy, some value&amp;lt;1 for fuzzyK and Dirichlet) and your initial input vector. If that vector was a NamedVector then the output will also be a NamedVector, preserving your documentId.&lt;/p&gt;</comment>
                            <comment id="12935407" author="ferrerabertran" created="Wed, 24 Nov 2010 17:20:29 +0000"  >&lt;p&gt;Thanks for your observations, Jeff. Then I guess the problem I am reporting is specific to some clustering algorithm. Concretely, I am using Mean Shift Clustering. There is no way I can preserve vectors names in -cl mode. I am using the latest code (0.5 snapshot).&lt;/p&gt;

&lt;p&gt;In MeanShiftCanopyClusterMapper there is some sort of equivalence between input vectors and canopies. I can see the vector that is output to clusteredPoints is canopy.getCenter(). Is this right?&lt;/p&gt;</comment>
                            <comment id="12935424" author="jeastman" created="Wed, 24 Nov 2010 18:18:50 +0000"  >&lt;p&gt;Reopening as this issue is valid for MeanShift&lt;/p&gt;</comment>
                            <comment id="12935920" author="lancenorskog" created="Fri, 26 Nov 2010 01:20:53 +0000"  >&lt;p&gt;May I propose instead that the Name feature be promoted to the Vector interface? After, it matches the Bindings feature in Matrix.&lt;br/&gt;
As with Matrix Bindings, AbstractVector would implement Name and very few Vector implementations will have to do anything about it.&lt;/p&gt;

&lt;p&gt;And, the Vector classes that wrap a Matrix row or column could then wrap Matrix row/column Bindings as Names.&lt;/p&gt;</comment>
                            <comment id="12935923" author="tdunning" created="Fri, 26 Nov 2010 02:09:01 +0000"  >&lt;blockquote&gt;
&lt;p&gt;May I propose instead that the Name feature be promoted to the Vector interface?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;We started there and decided it was a bad thing (tm).&lt;/p&gt;

&lt;p&gt;The rationale was that we wanted to allow existing non-Mahout vector implementations to implement a simpler interface that was purely numerically oriented.  It was also desirable to have a very simple semantic for matrix multiplication and pairwise operations while still having really high performance.  This is hard to do coherently with labels other than a dense collection of integers.&lt;/p&gt;

&lt;p&gt;There was also some controversy whether string labels were sufficient.&lt;/p&gt;

&lt;p&gt;Ultimately, the solution was a named vector and named matrix that wraps an ordinary matrix.  This avoids forcing a tax on all implementations, but gives the flexibility to use named objects.&lt;/p&gt;

&lt;p&gt;For reference, I was one of the ones pushing original for labels all up and down.  My current position is the opposite.&lt;/p&gt;</comment>
                            <comment id="12945550" author="lancenorskog" created="Sat, 27 Nov 2010 04:58:38 +0000"  >&lt;blockquote&gt;&lt;p&gt;Ultimately, the solution was a named vector and named matrix that wraps an ordinary matrix. This avoids forcing a tax on all implementations, but gives the flexibility to use named objects.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;NamedVector is a subclass and not a wrapper, and NamedMatrix does not exist, Matrix has bindings directly.&lt;/p&gt;

&lt;p&gt;Yes, label &amp;amp; binding transmission is application-dependent. &lt;/p&gt;</comment>
                            <comment id="13015297" author="srowen" created="Mon, 4 Apr 2011 08:33:22 +0100"  >&lt;p&gt;Jeff is this anything you think you can work around for meanshift by 0.5?&lt;/p&gt;</comment>
                            <comment id="13018122" author="jeastman" created="Sun, 10 Apr 2011 19:07:52 +0100"  >&lt;p&gt;The initial processing step (createCanopyFromVectors) was using the default MeanShiftCanopy constructor which inherited the AbstractCanopy default constructor which converts all centers to RandomAccessSparseVectors. Since the clustering (classification) step is done from these initial canopies rather than from the original input vectors, this resulted in the type of the incoming vectors to be lost. This is especially problematic when the input vector is NamedVector.&lt;/p&gt;

&lt;p&gt;I&apos;ve created a static method initialCanopy() to use for this initial step which retains the original input vector center type. I&apos;ve added a unit test and verified that the type is retained. Committing shortly.&lt;/p&gt;</comment>
                            <comment id="13018123" author="jeastman" created="Sun, 10 Apr 2011 19:11:57 +0100"  >&lt;p&gt;r1090861 committed the fix&lt;/p&gt;</comment>
                            <comment id="13018147" author="hudson" created="Sun, 10 Apr 2011 21:31:56 +0100"  >&lt;p&gt;Integrated in Mahout-Quality #736 (See &lt;a href=&quot;https://hudson.apache.org/hudson/job/Mahout-Quality/736/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://hudson.apache.org/hudson/job/Mahout-Quality/736/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-552&quot; title=&quot;AbstractCluster eliminates NamedVectors by replacing them with RandomAccessSparseVector always&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-552&quot;&gt;&lt;del&gt;MAHOUT-552&lt;/del&gt;&lt;/a&gt;: Added static initialCanopy method to create initial canopies with original center type. Added to unit test. All tests run.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12460354" name="MAHOUT-552.patch" size="1467" author="ferrerabertran" created="Wed, 24 Nov 2010 09:30:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 24 Nov 2010 17:12:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9510</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxy4ev:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22866</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>