<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:22:32 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-1385/MAHOUT-1385.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-1385] Caching Encoders don&apos;t cache</title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-1385</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt;The Caching... line of encoders contains code of caching the hash code terms added to the vector. However, the method &quot;hashForProbe&quot; inside this classes is never called as the signature has String for the parameter original form (instead of byte[] like other encoders).&lt;/p&gt;

&lt;p&gt;Changing this to byte[] however would lose the java String internal caching of the Strings hash code , that is used as a key in the cache map, triggering another hash code calculation.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12685820">MAHOUT-1385</key>
            <summary>Caching Encoders don&apos;t cache</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="baunz">Johannes Schulte</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Dec 2013 14:23:39 +0000</created>
                <updated>Mon, 13 Apr 2015 11:21:28 +0100</updated>
                            <resolved>Sun, 18 May 2014 17:52:45 +0100</resolved>
                                    <version>0.8</version>
                                    <fixVersion>0.10.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13853988" author="baunz" created="Fri, 20 Dec 2013 14:26:00 +0000"  >&lt;p&gt;No solution but demonstration of the defect&lt;/p&gt;</comment>
                            <comment id="13887544" author="velraman" created="Fri, 31 Jan 2014 07:25:05 +0000"  >&lt;p&gt;I&apos;m going to start working in this!&lt;/p&gt;</comment>
                            <comment id="13910270" author="awmanoj" created="Mon, 24 Feb 2014 13:07:14 +0000"  >&lt;p&gt;I think argument originalForm has to be changed to byte[] and didn&apos;t fully understand &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=baunz&quot; class=&quot;user-hover&quot; rel=&quot;baunz&quot;&gt;Johannes Schulte&lt;/a&gt;&apos;s comment on why it shouldn&apos;t be. Submitting a patch. Also fixed the test for continuousValueEncoder and made it a subclass of MahoutTestCase so that it can be executed as a JUnit test.  &lt;/p&gt;</comment>
                            <comment id="13910299" author="baunz" created="Mon, 24 Feb 2014 13:36:26 +0000"  >&lt;p&gt;Hi Manjo.&lt;/p&gt;

&lt;p&gt;My point was that these classes are (hopefully) meant to be a performance improvement, which would be the case if the string&apos;s hashcode could be reused (because the java string object caches it&apos;s own hash code).&lt;/p&gt;

&lt;p&gt;Using the byte[] hash code is evil because it depends on the reference&lt;br/&gt;
Using another library / hashing strategy for the values inside the byte array is nonsense because this is what we are trying to cache if i understand the will of the creator correctly.&lt;/p&gt;

&lt;p&gt;The more I think about it - was this ever correct? Using the string hash code as a lookup to the murmurHash-based location? There will be different collisions leading to other results than with no caching, which should be avoided?&lt;/p&gt;</comment>
                            <comment id="13910313" author="awmanoj" created="Mon, 24 Feb 2014 13:55:02 +0000"  >&lt;p&gt;Ok - I get yours point of view. Thanks. Attached patch is based on the implementation of other existing encoders and fixes the bug. I don&apos;t know the performance implications of the implementations though. &lt;/p&gt;</comment>
                            <comment id="13982241" author="ssc" created="Sun, 27 Apr 2014 09:05:03 +0100"  >&lt;p&gt;What&apos;s the status here? How can we get a feeling for the performance impact?&lt;/p&gt;</comment>
                            <comment id="14001032" author="ssc" created="Sun, 18 May 2014 07:44:39 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=awmanoj&quot; class=&quot;user-hover&quot; rel=&quot;awmanoj&quot;&gt;Manoj Awasthi&lt;/a&gt; whats the status here?&lt;/p&gt;</comment>
                            <comment id="14001056" author="awmanoj" created="Sun, 18 May 2014 12:50:19 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ssc&quot; class=&quot;user-hover&quot; rel=&quot;ssc&quot;&gt;Sebastian Schelter&lt;/a&gt; Attached patch fixes this issue. But as &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=baunz&quot; class=&quot;user-hover&quot; rel=&quot;baunz&quot;&gt;Johannes Schulte&lt;/a&gt; mentions above and as far as I could get it - this is suboptimal. I do not have a better patch as of now. So to fix the issue, we may commit this one and track the task of making it better (if someone has ideas on that) with a new JIRA ticket. &lt;/p&gt;</comment>
                            <comment id="14001130" author="ssc" created="Sun, 18 May 2014 17:52:45 +0100"  >&lt;p&gt;I agree, Johannes is right that ideally we would want to leverage hashcode caching of Strings. But the current code is a non-working implementation, which this patch fixes. So I&apos;m committing this for now.&lt;/p&gt;</comment>
                            <comment id="14003336" author="hudson" created="Tue, 20 May 2014 15:13:30 +0100"  >&lt;p&gt;FAILURE: Integrated in Mahout-Quality #2610 (See &lt;a href=&quot;https://builds.apache.org/job/Mahout-Quality/2610/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Mahout-Quality/2610/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1385&quot; title=&quot;Caching Encoders don&amp;#39;t cache&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-1385&quot;&gt;&lt;del&gt;MAHOUT-1385&lt;/del&gt;&lt;/a&gt; Caching Encoders don&apos;t cache (ssc: rev 1595634)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/mahout/trunk/CHANGELOG&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/mrlegacy/src/main/java/org/apache/mahout/vectorizer/encoders/CachingContinuousValueEncoder.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/mrlegacy/src/main/java/org/apache/mahout/vectorizer/encoders/CachingStaticWordValueEncoder.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/mrlegacy/src/test/java/org/apache/mahout/vectorizer/encoders/CachingEncoderTest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12619824" name="MAHOUT-1385-test.patch" size="1485" author="baunz" created="Fri, 20 Dec 2013 14:26:00 +0000"/>
                            <attachment id="12630658" name="MAHOUT-1385.patch" size="4690" author="awmanoj" created="Mon, 24 Feb 2014 13:04:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 31 Jan 2014 07:25:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>364903</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzkqp3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>365203</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>