<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:18:14 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-1573/MAHOUT-1573.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-1573] More explicit parallelism adjustments in math-scala DRM apis; elements of automatic parallelism management</title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-1573</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt;(1) add minSplit parameter pass-thru to drmFromHDFS to be able to explicitly increase parallelism. &lt;/p&gt;

&lt;p&gt;(2) add parrallelism readjustment parameter to a checkpoint() call. This implies shuffle-less coalesce() translation to the data set before it is requested to be cached (if specified).&lt;/p&gt;

&lt;p&gt;Going forward, we probably should try and figure how we can automate it,  at least a little bit. For example, the simplest automatic adjustment might include re-adjust parallelims on load to simply fit cluster size (95% or 180% of cluster size, for example), with some rule-of-thumb safeguards here, e.g. we cannot exceed a factor of say 8 (or whatever we configure) in splitting each original hdfs split. We should be able to get a reasonable parallelism performance out of the box on simple heuristics like that.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12718891">MAHOUT-1573</key>
            <summary>More explicit parallelism adjustments in math-scala DRM apis; elements of automatic parallelism management</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dlyubimov">Dmitriy Lyubimov</assignee>
                                    <reporter username="dlyubimov">Dmitriy Lyubimov</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Jun 2014 18:34:51 +0100</created>
                <updated>Mon, 13 Apr 2015 11:21:26 +0100</updated>
                            <resolved>Wed, 18 Jun 2014 23:20:26 +0100</resolved>
                                    <version>0.9</version>
                                    <fixVersion>0.10.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="14020512" author="githubbot" created="Sat, 7 Jun 2014 00:08:29 +0100"  >&lt;p&gt;GitHub user dlyubimov opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/mahout/pull/13&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/13&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1573&quot; title=&quot;More explicit parallelism adjustments in math-scala DRM apis; elements of automatic parallelism management&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-1573&quot;&gt;&lt;del&gt;MAHOUT-1573&lt;/del&gt;&lt;/a&gt;: explicit parallelism&lt;/p&gt;

&lt;p&gt;    Per issue &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1573&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/MAHOUT-1573&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;    does something like &lt;/p&gt;

&lt;p&gt;        (A + B) exact_|| 200 &lt;/p&gt;

&lt;p&gt;    or &lt;/p&gt;

&lt;p&gt;        (A + B) min_|| 200 &lt;/p&gt;

&lt;p&gt;    look too ugly?&lt;/p&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/dlyubimov/mahout&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/dlyubimov/mahout&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1573&quot; title=&quot;More explicit parallelism adjustments in math-scala DRM apis; elements of automatic parallelism management&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-1573&quot;&gt;&lt;del&gt;MAHOUT-1573&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/mahout/pull/13.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/13.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #13&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 2f785109b9a52e748626ba46f5bc0a35ffc98e2c&lt;br/&gt;
Author: Dmitriy Lyubimov &amp;lt;dlyubimov@apache.org&amp;gt;&lt;br/&gt;
Date:   2014-06-06T20:02:11Z&lt;/p&gt;

&lt;p&gt;    Refactoring drmFromHDFS()&lt;/p&gt;

&lt;p&gt;commit cf7f18b4af4ad043d2bdcefeeda15031fa018543&lt;br/&gt;
Author: Dmitriy Lyubimov &amp;lt;dlyubimov@apache.org&amp;gt;&lt;br/&gt;
Date:   2014-06-06T20:21:19Z&lt;/p&gt;

&lt;p&gt;    docs&lt;/p&gt;

&lt;p&gt;commit 2733002f4b5db3d5114a440b03967d954a3738e9&lt;br/&gt;
Author: Dmitriy Lyubimov &amp;lt;dlyubimov@apache.org&amp;gt;&lt;br/&gt;
Date:   2014-06-06T22:56:26Z&lt;/p&gt;

&lt;p&gt;    explicit parallelism adjustment levers exact_|| and min_||&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14020697" author="githubbot" created="Sat, 7 Jun 2014 06:07:21 +0100"  >&lt;p&gt;Github user dlyubimov commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/mahout/pull/13#issuecomment-45401402&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/13#issuecomment-45401402&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    also added (pretty naive) auto parallelism adjustments&lt;/p&gt;

&lt;p&gt;        (A+B) auto_||&lt;/p&gt;


&lt;p&gt;    which looks at spark.default.parallelism (P), assumes better parallelism is acheved if partitions are bumped up to round-ups of 0.95 * P or 1.80 * (P) whichever is closer. if current partition set is already greater (in cardinality) than rounded-up 1.80 * (P), all is left as is.&lt;/p&gt;</comment>
                            <comment id="14028239" author="githubbot" created="Wed, 11 Jun 2014 20:04:29 +0100"  >&lt;p&gt;Github user dlyubimov commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/mahout/pull/13#issuecomment-45785235&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/13#issuecomment-45785235&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Could somebody tell me if this is a good or bad idea, or just ugly DSL syntax.&lt;/p&gt;</comment>
                            <comment id="14028447" author="githubbot" created="Wed, 11 Jun 2014 22:47:09 +0100"  >&lt;p&gt;Github user tdunning commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/mahout/pull/13#issuecomment-45804526&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/13#issuecomment-45804526&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I didn&apos;t understand the suggestion.&lt;/p&gt;
</comment>
                            <comment id="14028840" author="githubbot" created="Thu, 12 Jun 2014 06:26:40 +0100"  >&lt;p&gt;Github user dlyubimov commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/mahout/pull/13#issuecomment-45831409&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/13#issuecomment-45831409&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    These are explicit and implicit tools that allow to address weak parallelism and that Sebastian absolutely correctly complained about lack of thereof&lt;/p&gt;</comment>
                            <comment id="14029299" author="githubbot" created="Thu, 12 Jun 2014 16:58:06 +0100"  >&lt;p&gt;Github user tdunning commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/mahout/pull/13#issuecomment-45910978&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/13#issuecomment-45910978&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Could we have some examples?&lt;/p&gt;</comment>
                            <comment id="14034291" author="githubbot" created="Tue, 17 Jun 2014 21:05:56 +0100"  >&lt;p&gt;Github user dlyubimov commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/mahout/pull/13#issuecomment-46358010&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/13#issuecomment-46358010&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @Sebastian, you wanted this, can you take a look oif this serves the purpose? &lt;/p&gt;

&lt;p&gt;    @tdunning, spark allows finer splits (minSplits parameter) on hdfs loading and on intermediate products. In our case, this patch adds minSplits parameter to fromHDFS() method to allow to specify finer-than-iniitial HDFS load parallelism explicitly. &lt;/p&gt;

&lt;p&gt;    In addition to that, parallelism can also be re-adjusted explicitly or automatically using the operators i mentioned. &lt;/p&gt;

&lt;p&gt;    Automatic parallellism adjustment uses current parallelism and spark cluster default parallelisms as guidelines (i.e. it assumes tasks are already of somewhat reasonable size, per above).&lt;/p&gt;


&lt;p&gt;    i.g. loading matrix from hdfs &lt;/p&gt;

&lt;p&gt;        val a = drmFromHDFS(path, minsplits=100) &lt;/p&gt;

&lt;p&gt;    to make sure number of partitions (i.e. map tasks) is at least 100 on matrix load.&lt;/p&gt;

&lt;p&gt;    This mainly has to do with the fact that algebraic flops often grow asymptotically faster than the input size, so in some cases default cluster size is the best guideline in terms of load balancing.&lt;/p&gt;

&lt;p&gt;    (in fact, since in Spark tasks are super cheap to run, i think it is ok to split 400%, 500% of default parallelism to achieve more even load). &lt;/p&gt;

&lt;p&gt;    Optimizer computes (&quot;predicts&quot;) parallelism of shuffles based on existing parallelism of products, but after a long chain of operations this predictions may deteriorate (or just not work well for whatever reason). in this case we may readjust it explicitly at any checkpoint of expression: &lt;/p&gt;

&lt;p&gt;         val drmAtA = (drmA.t %*% drmA) min_|| 100&lt;/p&gt;

&lt;p&gt;    will make sure that this product will be shuffled into at least 100 partitions. Analogously, &lt;/p&gt;

&lt;p&gt;        val drmAtA = (drmA.t %*% drmA) exact_|| 100&lt;/p&gt;

&lt;p&gt;    will make sure that this product will be shuffled into exactly 100 partitions. &lt;/p&gt;

&lt;p&gt;    Readjusting parallelism also requires implicit optimizer checkpoint, e.g. the latter would be equivalent to &lt;/p&gt;

&lt;p&gt;        val drmAtA = (drmA.t %*% drmA).checkpoint() exact_|| 100&lt;/p&gt;


&lt;p&gt;    Repartitioning does not necessarily invoke shuffle task (e.g. if a partition can be just split into two, it can be run as a map-only thing). &lt;/p&gt;

&lt;p&gt;    This patch also does not contain optimizations causing potentially changing parallelism of any previous operations in the physical pipeline. This is something left todo, something to think about.&lt;/p&gt;

</comment>
                            <comment id="14034652" author="githubbot" created="Wed, 18 Jun 2014 01:31:43 +0100"  >&lt;p&gt;Github user tdunning commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/mahout/pull/13#issuecomment-46383131&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/13#issuecomment-46383131&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Why the fancy syntax?&lt;/p&gt;

&lt;p&gt;    Why not a function or method notation?&lt;/p&gt;

&lt;p&gt;    At the very least, why use punctuation in the name rather than spelling it&lt;br/&gt;
    out?&lt;/p&gt;




&lt;p&gt;    On Tue, Jun 17, 2014 at 1:05 PM, Dmitriy Lyubimov &amp;lt;notifications@github.com&amp;gt;&lt;br/&gt;
    wrote:&lt;/p&gt;

&lt;p&gt;    &amp;gt; @Sebastian &amp;lt;&lt;a href=&quot;https://github.com/Sebastian&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/Sebastian&lt;/a&gt;&amp;gt;, you wanted this, can you take&lt;br/&gt;
    &amp;gt; a look oif this serves the purpose?&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt; @tdunning &amp;lt;&lt;a href=&quot;https://github.com/tdunning&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/tdunning&lt;/a&gt;&amp;gt;, spark allows finer splits&lt;br/&gt;
    &amp;gt; (minSplits parameter) on hdfs loading and on intermediate products. In our&lt;br/&gt;
    &amp;gt; case, this patch adds minSplits parameter to fromHDFS() method to allow to&lt;br/&gt;
    &amp;gt; specify finer-than-iniitial HDFS load parallelism explicitly.&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt; In addition to that, parallelism can also be re-adjusted explicitly or&lt;br/&gt;
    &amp;gt; automatically using the operators i mentioned.&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt; Automatic parallellism adjustment uses current parallelism and spark&lt;br/&gt;
    &amp;gt; cluster default parallelisms as guidelines (i.e. it assumes tasks are&lt;br/&gt;
    &amp;gt; already of somewhat reasonable size, per above).&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt; i.g. loading matrix from hdfs&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt; val a = drmFromHDFS(path, minsplits=100)&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt; to make sure number of partitions (i.e. map tasks) is at least 100 on&lt;br/&gt;
    &amp;gt; matrix load.&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt; This mainly has to do with the fact that algebraic flops often grow&lt;br/&gt;
    &amp;gt; asymptotically faster than the input size, so in some cases default cluster&lt;br/&gt;
    &amp;gt; size is the best guideline in terms of load balancing.&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt; (in fact, since in Spark tasks are super cheap to run, i think it is ok to&lt;br/&gt;
    &amp;gt; split 400%, 500% of default parallelism to achieve more even load).&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt; Optimizer computes (&quot;predicts&quot;) parallelism of shuffles based on existing&lt;br/&gt;
    &amp;gt; parallelism of products, but after a long chain of operations this&lt;br/&gt;
    &amp;gt; predictions may deteriorate (or just not work well for whatever reason). in&lt;br/&gt;
    &amp;gt; this case we may readjust it explicitly at any checkpoint of expression:&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt;  val drmAtA = (drmA.t %*% drmA) min_|| 100&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt; will make sure that this product will be shuffled into at least 100&lt;br/&gt;
    &amp;gt; partitions. Analogously,&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt; val drmAtA = (drmA.t %*% drmA) exact_|| 100&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt; will make sure that this product will be shuffled into exactly 100&lt;br/&gt;
    &amp;gt; partitions.&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt; Readjusting parallelism also requires implicit optimizer checkpoint, e.g.&lt;br/&gt;
    &amp;gt; the latter would be equivalent to&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt; val drmAtA = (drmA.t %*% drmA).checkpoint() exact_|| 100&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt; Repartitioning does not necessarily invoke shuffle task (e.g. if a&lt;br/&gt;
    &amp;gt; partition can be just split into two, it can be run as a map-only thing).&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt; This patch also does not contain optimizations causing potentially&lt;br/&gt;
    &amp;gt; changing parallelism of any previous operations in the physical pipeline.&lt;br/&gt;
    &amp;gt; This is something left todo, something to think about.&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt; &#8212;&lt;br/&gt;
    &amp;gt; Reply to this email directly or view it on GitHub&lt;br/&gt;
    &amp;gt; &amp;lt;&lt;a href=&quot;https://github.com/apache/mahout/pull/13#issuecomment-46358010&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/13#issuecomment-46358010&lt;/a&gt;&amp;gt;.&lt;br/&gt;
    &amp;gt;&lt;/p&gt;</comment>
                            <comment id="14034665" author="githubbot" created="Wed, 18 Jun 2014 01:43:49 +0100"  >&lt;p&gt;Github user dlyubimov commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/mahout/pull/13#issuecomment-46383849&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/13#issuecomment-46383849&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    It is a method. In scala, everything is a method and everything is an operator. There&apos;s no distinction. &lt;/p&gt;

&lt;p&gt;    The only question  is having `exact_||` is too ugly. I want them to be pithy, less than 10 letters. Suggestions to spell it out are welcome.&lt;/p&gt;</comment>
                            <comment id="14034669" author="githubbot" created="Wed, 18 Jun 2014 01:49:55 +0100"  >&lt;p&gt;Github user dlyubimov commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/mahout/pull/13#issuecomment-46384178&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/13#issuecomment-46384178&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    actually, sorry, i take it back. In Scala every operator is also a method syntactically, but not necessarily the other way around.&lt;/p&gt;</comment>
                            <comment id="14034677" author="githubbot" created="Wed, 18 Jun 2014 01:58:45 +0100"  >&lt;p&gt;Github user dlyubimov commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/mahout/pull/13#issuecomment-46384722&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/13#issuecomment-46384722&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    e.g. one can write things like `A.t.%*%(A).exact_||(100)`&lt;/p&gt;</comment>
                            <comment id="14034819" author="githubbot" created="Wed, 18 Jun 2014 05:59:09 +0100"  >&lt;p&gt;Github user tdunning commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/mahout/pull/13#issuecomment-46396097&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/13#issuecomment-46396097&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Yes.  &lt;/p&gt;

&lt;p&gt;    But I was talking about the gratuitous use of non-alpha characters. Excessive use of operator overloading is also a bit of a problem. &lt;/p&gt;

&lt;p&gt;    Just because you can doesn&apos;t mean you should. &lt;/p&gt;

&lt;p&gt;    Sent from my iPhone&lt;/p&gt;

&lt;p&gt;    &amp;gt; On Jun 17, 2014, at 17:58, Dmitriy Lyubimov &amp;lt;notifications@github.com&amp;gt; wrote:&lt;br/&gt;
    &amp;gt; &lt;br/&gt;
    &amp;gt; e.g. one can write things like A.t.%*%(A).exact_||(100)&lt;br/&gt;
    &amp;gt; &lt;br/&gt;
    &amp;gt; &#8212;&lt;br/&gt;
    &amp;gt; Reply to this email directly or view it on GitHub.&lt;/p&gt;</comment>
                            <comment id="14034845" author="githubbot" created="Wed, 18 Jun 2014 06:43:22 +0100"  >&lt;p&gt;Github user dlyubimov commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/mahout/pull/13#issuecomment-46398143&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/13#issuecomment-46398143&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Ted, are you ready to help with a concrete alternative? This is a very&lt;br/&gt;
    small issue compared to even the patch, lets build a list of alternatives&lt;br/&gt;
    and vote. But lets get it done&lt;/p&gt;

&lt;p&gt;    My additional variants&lt;/p&gt;

&lt;p&gt;    minSplits,...&lt;br/&gt;
    minPar, exactPar, autoPar (consitent with scala&apos;s collection.par())&lt;/p&gt;

&lt;p&gt;    To give something to vote down for Ted&lt;br/&gt;
    &amp;gt;=|| :=||&lt;br/&gt;
    :||=&lt;/p&gt;

&lt;p&gt;    Not ok with me&lt;/p&gt;

&lt;p&gt;    minParts&lt;br/&gt;
    minParallelism&lt;br/&gt;
    minPartitions&lt;br/&gt;
    repartition&lt;br/&gt;
    reshuffle&lt;br/&gt;
    and other do-something kind&lt;/p&gt;

&lt;p&gt;    Your variants--?&lt;br/&gt;
    On Jun 17, 2014 9:59 PM, &quot;Ted Dunning&quot; &amp;lt;notifications@github.com&amp;gt; wrote:&lt;/p&gt;

&lt;p&gt;    &amp;gt; Yes.&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt; But I was talking about the gratuitous use of non-alpha characters.&lt;br/&gt;
    &amp;gt; Excessive use of operator overloading is also a bit of a problem.&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt; Just because you can doesn&apos;t mean you should.&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt; Sent from my iPhone&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt; &amp;gt; On Jun 17, 2014, at 17:58, Dmitriy Lyubimov &amp;lt;notifications@github.com&amp;gt;&lt;br/&gt;
    &amp;gt; wrote:&lt;br/&gt;
    &amp;gt; &amp;gt;&lt;br/&gt;
    &amp;gt; &amp;gt; e.g. one can write things like A.t.%*%(A).exact_||(100)&lt;br/&gt;
    &amp;gt; &amp;gt;&lt;br/&gt;
    &amp;gt; &amp;gt; &#8212;&lt;br/&gt;
    &amp;gt; &amp;gt; Reply to this email directly or view it on GitHub.&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt; &#8212;&lt;br/&gt;
    &amp;gt; Reply to this email directly or view it on GitHub&lt;br/&gt;
    &amp;gt; &amp;lt;&lt;a href=&quot;https://github.com/apache/mahout/pull/13#issuecomment-46396097&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/13#issuecomment-46396097&lt;/a&gt;&amp;gt;.&lt;br/&gt;
    &amp;gt;&lt;/p&gt;</comment>
                            <comment id="14035871" author="githubbot" created="Wed, 18 Jun 2014 16:58:28 +0100"  >&lt;p&gt;Github user dlyubimov commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/mahout/pull/13#issuecomment-46455493&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/13#issuecomment-46455493&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Another variation &lt;/p&gt;

&lt;p&gt;        drmA.par(min=100)&lt;br/&gt;
        drmA.par(exact=100)&lt;/p&gt;


&lt;p&gt;    that would be roughly consistent with parallel collections in Scala.&lt;/p&gt;

&lt;p&gt;    the minSplits(100), exactSplits(100) is a naming consistent with Spark i guess.&lt;/p&gt;</comment>
                            <comment id="14036314" author="githubbot" created="Wed, 18 Jun 2014 21:20:43 +0100"  >&lt;p&gt;Github user sscdotopen commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/mahout/pull/13#issuecomment-46488559&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/13#issuecomment-46488559&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I dont like the `_||` because it looks like a mathematical operation and is not intuitive IMHO. I prefer something that looks like an annotation to the code and is human readable. So I vote for the `.par()` syntax&lt;/p&gt;</comment>
                            <comment id="14036319" author="githubbot" created="Wed, 18 Jun 2014 21:26:09 +0100"  >&lt;p&gt;Github user dlyubimov commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/mahout/pull/13#issuecomment-46489240&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/13#issuecomment-46489240&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks.&lt;/p&gt;

&lt;p&gt;    +1 on par(...) too. Great, i will engineer the fix and commit then.&lt;/p&gt;


&lt;p&gt;    On Wed, Jun 18, 2014 at 1:20 PM, Sebastian &amp;lt;notifications@github.com&amp;gt; wrote:&lt;/p&gt;

&lt;p&gt;    &amp;gt; I dont like the _|| because it looks like a mathematical operation and is&lt;br/&gt;
    &amp;gt; not intuitive IMHO. I prefer something that looks like an annotation to the&lt;br/&gt;
    &amp;gt; code and is human readable. So I vote for the .par() syntax&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt; &#8212;&lt;br/&gt;
    &amp;gt; Reply to this email directly or view it on GitHub&lt;br/&gt;
    &amp;gt; &amp;lt;&lt;a href=&quot;https://github.com/apache/mahout/pull/13#issuecomment-46488559&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/13#issuecomment-46488559&lt;/a&gt;&amp;gt;.&lt;br/&gt;
    &amp;gt;&lt;/p&gt;</comment>
                            <comment id="14036429" author="githubbot" created="Wed, 18 Jun 2014 22:34:55 +0100"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/mahout/pull/13&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/13&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14036477" author="hudson" created="Wed, 18 Jun 2014 23:01:10 +0100"  >&lt;p&gt;SUCCESS: Integrated in Mahout-Quality #2665 (See &lt;a href=&quot;https://builds.apache.org/job/Mahout-Quality/2665/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Mahout-Quality/2665/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1573&quot; title=&quot;More explicit parallelism adjustments in math-scala DRM apis; elements of automatic parallelism management&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-1573&quot;&gt;&lt;del&gt;MAHOUT-1573&lt;/del&gt;&lt;/a&gt;: More explicit parallelism adjustments in math-scala DRM apis; elements of automatic parallelism management (dlyubimov: rev 3dd18344a47fb86b5127bcf3e051a2eb4e7ca996)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;spark/src/main/scala/org/apache/mahout/sparkbindings/SparkEngine.scala&lt;/li&gt;
	&lt;li&gt;spark/src/test/scala/org/apache/mahout/sparkbindings/test/MahoutLocalContext.scala&lt;/li&gt;
	&lt;li&gt;spark/src/main/scala/org/apache/mahout/sparkbindings/drm/DrmRddInput.scala&lt;/li&gt;
	&lt;li&gt;spark/src/main/scala/org/apache/mahout/sparkbindings/blas/Par.scala&lt;/li&gt;
	&lt;li&gt;CHANGELOG&lt;/li&gt;
	&lt;li&gt;math-scala/src/main/scala/org/apache/mahout/math/drm/logical/AbstractBinaryOp.scala&lt;/li&gt;
	&lt;li&gt;math-scala/src/main/scala/org/apache/mahout/math/drm/DrmLikeOps.scala&lt;/li&gt;
	&lt;li&gt;math-scala/src/main/scala/org/apache/mahout/math/drm/DistributedEngine.scala&lt;/li&gt;
	&lt;li&gt;spark/src/test/scala/org/apache/mahout/sparkbindings/drm/DrmLikeOpsSuite.scala&lt;/li&gt;
	&lt;li&gt;spark/pom.xml&lt;/li&gt;
	&lt;li&gt;math-scala/src/main/scala/org/apache/mahout/math/drm/logical/OpPar.scala&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14036694" author="githubbot" created="Thu, 19 Jun 2014 01:05:41 +0100"  >&lt;p&gt;Github user tdunning commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/mahout/pull/13#issuecomment-46509902&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/13#issuecomment-46509902&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    On Tue, Jun 17, 2014 at 10:43 PM, Dmitriy Lyubimov &amp;lt;notifications@github.com&lt;br/&gt;
    &amp;gt; wrote:&lt;/p&gt;

&lt;p&gt;    &amp;gt; Ted, are you ready to help with a concrete alternative? This is a very&lt;br/&gt;
    &amp;gt; small issue compared to even the patch, lets build a list of alternatives&lt;br/&gt;
    &amp;gt; and vote. But lets get it done&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt; My additional variants&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt; minSplits,...&lt;br/&gt;
    &amp;gt; minPar, exactPar, autoPar (consitent with scala&apos;s collection.par())&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt; To give something to vote down for Ted&lt;br/&gt;
    &amp;gt; &amp;gt;=|| :=||&lt;br/&gt;
    &amp;gt; :||=&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt; Not ok with me&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt; minParts&lt;br/&gt;
    &amp;gt; minParallelism&lt;br/&gt;
    &amp;gt; minPartitions&lt;br/&gt;
    &amp;gt; repartition&lt;br/&gt;
    &amp;gt; reshuffle&lt;br/&gt;
    &amp;gt; and other do-something kind&lt;br/&gt;
    &amp;gt;&lt;/p&gt;

&lt;p&gt;    minSplits is fine by me.  I strongly discourage abbreviations because they&lt;br/&gt;
    are hard for non-native English speakers to generate well and hard for&lt;br/&gt;
    non-native English speakers to understand.&lt;/p&gt;

&lt;p&gt;    Actually, they are often very hard for me to understand and I claim to be a&lt;br/&gt;
    native English speaker some days.&lt;/p&gt;

&lt;p&gt;    If more than nine letters is too hard to type (even with an IDE to help&lt;br/&gt;
    you) then minSplits seems to be reasonable common ground.&lt;/p&gt;</comment>
                            <comment id="14036699" author="githubbot" created="Thu, 19 Jun 2014 01:07:11 +0100"  >&lt;p&gt;Github user tdunning commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/mahout/pull/13#issuecomment-46509984&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/13#issuecomment-46509984&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Uh... what happened to waiting a bit for feedback?&lt;/p&gt;




&lt;p&gt;    On Wed, Jun 18, 2014 at 1:26 PM, Dmitriy Lyubimov &amp;lt;notifications@github.com&amp;gt;&lt;br/&gt;
    wrote:&lt;/p&gt;

&lt;p&gt;    &amp;gt; Thanks.&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt; +1 on par(...) too. Great, i will engineer the fix and commit then.&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt; On Wed, Jun 18, 2014 at 1:20 PM, Sebastian &amp;lt;notifications@github.com&amp;gt;&lt;br/&gt;
    &amp;gt; wrote:&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt; &amp;gt; I dont like the _|| because it looks like a mathematical operation and&lt;br/&gt;
    &amp;gt; is&lt;br/&gt;
    &amp;gt; &amp;gt; not intuitive IMHO. I prefer something that looks like an annotation to&lt;br/&gt;
    &amp;gt; the&lt;br/&gt;
    &amp;gt; &amp;gt; code and is human readable. So I vote for the .par() syntax&lt;br/&gt;
    &amp;gt; &amp;gt;&lt;br/&gt;
    &amp;gt; &amp;gt; &#8212;&lt;br/&gt;
    &amp;gt; &amp;gt; Reply to this email directly or view it on GitHub&lt;br/&gt;
    &amp;gt; &amp;gt; &amp;lt;&lt;a href=&quot;https://github.com/apache/mahout/pull/13#issuecomment-46488559&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/13#issuecomment-46488559&lt;/a&gt;&amp;gt;.&lt;br/&gt;
    &amp;gt; &amp;gt;&lt;br/&gt;
    &amp;gt;&lt;br/&gt;
    &amp;gt; &#8212;&lt;br/&gt;
    &amp;gt; Reply to this email directly or view it on GitHub&lt;br/&gt;
    &amp;gt; &amp;lt;&lt;a href=&quot;https://github.com/apache/mahout/pull/13#issuecomment-46489240&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/13#issuecomment-46489240&lt;/a&gt;&amp;gt;.&lt;br/&gt;
    &amp;gt;&lt;/p&gt;</comment>
                            <comment id="14036719" author="githubbot" created="Thu, 19 Jun 2014 01:22:42 +0100"  >&lt;p&gt;Github user dlyubimov commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/mahout/pull/13#issuecomment-46510934&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/mahout/pull/13#issuecomment-46510934&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Sorry Ted. i was a bit in a hurry with this. &lt;/p&gt;

&lt;p&gt;    In my defense i can only state that I already asked you for concrete spelling suggestions before you just answered that  I shouldn&apos;t use operators. So i assumed that was all i could get in terms of concrete spellings and this decision satisfied your criteria.&lt;/p&gt;

&lt;p&gt;    Besides, we got two +2 on par(). (which is consistent with Scala collections).&lt;/p&gt;

</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 6 Jun 2014 23:08:29 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>397090</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzq7y7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>397213</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>