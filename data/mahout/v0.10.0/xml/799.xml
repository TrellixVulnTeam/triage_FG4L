<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:19:26 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-799/MAHOUT-799.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-799] Cannot run SequenceFilesFromCsvFilter, ever</title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-799</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt;As described here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/mahout-user/201106.mbox/%3C4DED5DCD.6050107@gmail.com%3E&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mail-archives.apache.org/mod_mbox/mahout-user/201106.mbox/%3C4DED5DCD.6050107@gmail.com%3E&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;SequenceFilesFromCsvFilter cannot be invoked with default parameter values, because it dies like so:&lt;/p&gt;

&lt;p&gt;bin/mahout seqdirectory -i input -o output -filter &lt;br/&gt;
org.apache.mahout.text.SequenceFilesFromCsvFilter&lt;/p&gt;

&lt;p&gt;...&lt;br/&gt;
Caused by: java.lang.NumberFormatException: null&lt;br/&gt;
     at java.lang.Integer.parseInt(Integer.java:417)&lt;br/&gt;
     at java.lang.Integer.parseInt(Integer.java:499)&lt;br/&gt;
     at org.apache.mahout.text.SequenceFilesFromCsvFilter.&amp;lt;init&amp;gt;(SequenceFilesFromCsvFilter.java:56)&lt;/p&gt;

&lt;p&gt;If one adds the parameters -kcol 0 -vcol 0 (or their long-form versions), it dies like so:&lt;/p&gt;

&lt;p&gt;Unexpected -kcol while processing Job-Specific Options&lt;/p&gt;

&lt;p&gt;Commenting out SequenceFilesFromCsvFilter:56 and SequenceFilesFromCsvFilter:57, like so, allows the run to proceed&lt;/p&gt;

&lt;p&gt;//    this.keyColumn = Integer.parseInt(options.get(KEY_COLUMN_OPTION&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;));&lt;br/&gt;
//    this.valueColumn = Integer.parseInt(options.get(VALUE_COLUMN_OPTION&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;));&lt;/p&gt;</description>
                <environment></environment>
        <key id="12521146">MAHOUT-799</key>
            <summary>Cannot run SequenceFilesFromCsvFilter, ever</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="srowen">Sean Owen</assignee>
                                    <reporter username="jacktanner">Jack Tanner</reporter>
                        <labels>
                    </labels>
                <created>Fri, 2 Sep 2011 06:26:39 +0100</created>
                <updated>Thu, 9 Feb 2012 14:01:08 +0000</updated>
                            <resolved>Wed, 28 Sep 2011 20:37:41 +0100</resolved>
                                    <version>0.5</version>
                                    <fixVersion>0.6</fixVersion>
                                    <component>Examples</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13095857" author="srowen" created="Fri, 2 Sep 2011 09:09:20 +0100"  >&lt;p&gt;I&apos;m also confused, reading this. SequenceFilesFromCsvFilter works when run as a command-line program. But when used this way it never adds its options to the command line and can&apos;t work. Was this the intent of the design? seems like there needs to be additional cross-wiring for these filters to participate in the command line.&lt;/p&gt;</comment>
                            <comment id="13096032" author="jacktanner" created="Fri, 2 Sep 2011 16:04:37 +0100"  >&lt;p&gt;To avoid having to build the cross-wiring, you could just detect this execution pattern and exit with a message that explains the proper command-line use.&lt;/p&gt;

&lt;p&gt;Which begs the question, how does one run it correctly from the command line?&lt;/p&gt;</comment>
                            <comment id="13096044" author="srowen" created="Fri, 2 Sep 2011 16:26:30 +0100"  >&lt;p&gt;Right now there is no proper command-line use it seems. I don&apos;t know what was intended here. Who wrote this bit? not clear from the SVN logs.&lt;/p&gt;</comment>
                            <comment id="13115549" author="srowen" created="Tue, 27 Sep 2011 15:52:21 +0100"  >&lt;p&gt;Hmm, the author didn&apos;t follow up. As far as I can tell, the -filter option should never have been added. The only subclass was not written to work as an &apos;argument&apos;, but only as a command-line program. My best fix is to just remove it. You can use this, still, by running it directly as the command-line program.&lt;/p&gt;</comment>
                            <comment id="13116153" author="srowen" created="Wed, 28 Sep 2011 05:59:53 +0100"  >&lt;p&gt;OK, different answer: I don&apos;t think the CSV filter can be &apos;saved&apos;. I&apos;m unable to make it work once I shake out the rest of the knock-on issues, as it&apos;s currently designed. Instead of removing -filter, I think we should just remove this implementation, tidy up a bit, and leave the integration point for someone to try again. Here&apos;s a new patch that removes it and tidies up instead. I don&apos;t actually think it&apos;s controversial since 1) it doesn&apos;t work now and 2) didn&apos;t actually read CSV data to begin with!&lt;/p&gt;</comment>
                            <comment id="13116865" author="hudson" created="Wed, 28 Sep 2011 23:37:57 +0100"  >&lt;p&gt;Integrated in Mahout-Quality #1068 (See &lt;a href=&quot;https://builds.apache.org/job/Mahout-Quality/1068/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Mahout-Quality/1068/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-799&quot; title=&quot;Cannot run SequenceFilesFromCsvFilter, ever&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-799&quot;&gt;&lt;del&gt;MAHOUT-799&lt;/del&gt;&lt;/a&gt; remove CSV filter that wasn&apos;t working&lt;/p&gt;

&lt;p&gt;srowen : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1177027&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1177027&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/mahout/trunk/integration/src/main/java/org/apache/mahout/text/PrefixAdditionFilter.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/integration/src/main/java/org/apache/mahout/text/SequenceFilesFromCsvFilter.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/integration/src/main/java/org/apache/mahout/text/SequenceFilesFromDirectory.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/integration/src/main/java/org/apache/mahout/text/SequenceFilesFromDirectoryFilter.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/integration/src/test/java/org/apache/mahout/text/TestSequenceFilesFromDirectory.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12496843" name="MAHOUT-799.patch" size="16976" author="srowen" created="Wed, 28 Sep 2011 05:59:52 +0100"/>
                            <attachment id="12496693" name="MAHOUT-799.patch" size="5101" author="srowen" created="Tue, 27 Sep 2011 15:52:21 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 2 Sep 2011 08:09:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9264</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxy2wn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22622</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>