<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:26:30 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-204/MAHOUT-204.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-204] Better integration of Mahout matrix capabilities with Colt Matrix additions</title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-204</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt;Per &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-165&quot; title=&quot;Using better primitives hash for sparse vector for performance gains&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-165&quot;&gt;&lt;del&gt;MAHOUT-165&lt;/del&gt;&lt;/a&gt;, we need to refactor the matrix package structures a bit to be more coherent and clean.  For instance, there are two levels of matrix packages now, so those should be rectified.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12441473">MAHOUT-204</key>
            <summary>Better integration of Mahout matrix capabilities with Colt Matrix additions</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="srowen">Sean Owen</assignee>
                                    <reporter username="gsingers">Grant Ingersoll</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Nov 2009 15:44:44 +0000</created>
                <updated>Sat, 21 May 2011 04:23:51 +0100</updated>
                            <resolved>Sun, 3 Jan 2010 15:59:27 +0000</resolved>
                                    <version>0.3</version>
                                    <fixVersion>0.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12781571" author="jake.mannix" created="Mon, 23 Nov 2009 19:33:28 +0000"  >&lt;p&gt;I think this will end up being like a dozen JIRA tickets eventually, but for starters, on the topic of &quot;clean&quot; - the codestyle in the matrix package is currently not our own, so reformatting should be done.  More importantly, there are still @author and @version tags in many (all?) of these fields.  Even more importantly, the javadocs which are embedded in the source tree have not been refactored to refer to the correct class hierarchy. &lt;/p&gt;</comment>
                            <comment id="12781631" author="drew.farris" created="Mon, 23 Nov 2009 21:24:52 +0000"  >&lt;p&gt;Specifically re: Jake&apos;s comments: This won&apos;t get us all of the way but maybe this will be useful. The following command will get us part of the way there by clean up the java and package.html files by doing the following:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;removing all lines with author and version tags&lt;/li&gt;
	&lt;li&gt;converting each tab character to a pair of spaces&lt;/li&gt;
	&lt;li&gt;replacing cern.colt with org.apache.mahout.matrix&lt;/li&gt;
	&lt;li&gt;replacing cern.jet with org.apache.mahout.jet&lt;/li&gt;
&lt;/ol&gt;


&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;find mahout/matrix/ -regextype posix-egrep -regex &apos;(.*\.java|.*package\.html)&apos; \
  -exec perl -i -pe &apos; s/^[^\n]+(\@author|\@version)[^\n]+\n//; \
     s/\t/  /g; \
     s/cern\.colt/org.apache.mahout.matrix/g; \
     s/cern\.jet/org.apache.mahout.jet/g; &apos; {} \;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I figured the command itself would be more helpful than a patch generated by using that command, but if a patch is preferred I can post it.&lt;/p&gt;
</comment>
                            <comment id="12781640" author="gsingers" created="Mon, 23 Nov 2009 21:38:08 +0000"  >&lt;p&gt;Command is good, but patch would be useful to.&lt;/p&gt;</comment>
                            <comment id="12781660" author="drew.farris" created="Mon, 23 Nov 2009 22:18:40 +0000"  >&lt;p&gt;Patched attached, includes the following changes to java source files and package.html files:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;removed all lines with author and version tags&lt;/li&gt;
	&lt;li&gt;converted each tab character to a pair of spaces&lt;/li&gt;
	&lt;li&gt;replaced cern.colt with org.apache.mahout.matrix&lt;/li&gt;
	&lt;li&gt;replaced cern.jet with org.apache.mahout.jet&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="12781787" author="tdunning" created="Tue, 24 Nov 2009 05:49:43 +0000"  >&lt;p&gt;It would be great to have a ginormous patch right away that uses an IDE like IDEA to enforce indentation style and copyright notices and such.  We shoudl do that sooner rather than later.&lt;/p&gt;
</comment>
                            <comment id="12781834" author="srowen" created="Tue, 24 Nov 2009 09:27:36 +0000"  >&lt;p&gt;I am happy to do this, but in order to avoid a massive merge conflict, go ahead and submit the above patch?&lt;/p&gt;</comment>
                            <comment id="12781896" author="gsingers" created="Tue, 24 Nov 2009 13:00:34 +0000"  >&lt;p&gt;Yeah, go ahead and submit the patch, then do the formatting.&lt;/p&gt;</comment>
                            <comment id="12782370" author="srowen" created="Wed, 25 Nov 2009 11:06:37 +0000"  >&lt;p&gt;I&apos;m still working on this. The reformatting was simple but IntelliJ is having a field day with its inspections and I&apos;m slugging through them all. I&apos;m focusing on style issues mostly.&lt;/p&gt;</comment>
                            <comment id="12782463" author="srowen" created="Wed, 25 Nov 2009 15:22:56 +0000"  >&lt;p&gt;I&apos;ve been attacking this all day. The changes are already big enough I&apos;m committing my current changes, but need to keep going. The major changes still left: replacing System.out with logs, getting rid of all these type references using the complete package name too.&lt;/p&gt;

&lt;p&gt;There is lots of dead code and other practices that kind of concern me. If there are changes I think deserve discussion I&apos;ll surface them.&lt;/p&gt;

&lt;p&gt;Note, I found some code in here that carries a different copyright: Copyright PIERSOL Engineering? See TestMatrix2D. It&apos;s commented out but I think it best to kill it. Along with the other commented out code actually.&lt;/p&gt;

&lt;p&gt;Also class Gamma mentions it&apos;s a port of some code from &lt;a href=&quot;http://www.sci.usq.edu.au/staff/leighb/graph/Top.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.sci.usq.edu.au/staff/leighb/graph/Top.html&lt;/a&gt; and a library called Cephes 2.2. Can&apos;t find these now. Should we be concerned?&lt;/p&gt;

&lt;p&gt;bottom line there is a lot of work to be done on this code.&lt;/p&gt;</comment>
                            <comment id="12782466" author="jake.mannix" created="Wed, 25 Nov 2009 15:44:36 +0000"  >&lt;p&gt;I think we should be pretty aggressive in removing code from this stuff.  There are some core stuff we want (linear stuff and collections, and morphisms which interact with them), and a ton of stuff we don&apos;t.  Maybe we should have separate jira tickets for each thing that could/should be removed?&lt;/p&gt;</comment>
                            <comment id="12782670" author="srowen" created="Wed, 25 Nov 2009 23:05:50 +0000"  >&lt;p&gt;OK I have another pretty big round of changes queued up, as per my last comments. I&apos;ve also deleted the &apos;test&apos; classes and demo code as neither appear maintained and are not unit tests.&lt;/p&gt;

&lt;p&gt;Before I get into some fine-grained work, can anyone comment on what definitely isn&apos;t needed, so I don&apos;t bother with it? Otherwise I assume it&apos;s basically just linear algebra and matrices &amp;#8211; not stats stuff, etc.&lt;/p&gt;</comment>
                            <comment id="12782898" author="gsingers" created="Thu, 26 Nov 2009 13:50:33 +0000"  >&lt;p&gt;+1 on aggressive pruning and cleanup.  Feel free to commit as you go, too.  No need to get it all done in one fell swoop.&lt;/p&gt;</comment>
                            <comment id="12782974" author="srowen" created="Thu, 26 Nov 2009 20:53:23 +0000"  >&lt;p&gt;Committed a bunch more today. Others should feel free to dig in now.&lt;/p&gt;</comment>
                            <comment id="12783577" author="kshashi" created="Mon, 30 Nov 2009 08:44:30 +0000"  >
&lt;p&gt;I ran into compile troubles after updating the code. Following changes fixed the problem. Please see if this is the right fix.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Index: matrix/src/main/java/org/apache/mahout/jet/random/sampling/RandomSampler.java
===================================================================
--- matrix/src/main/java/org/apache/mahout/jet/random/sampling/RandomSampler.java       (revision 885339)
+++ matrix/src/main/java/org/apache/mahout/jet/random/sampling/RandomSampler.java       (working copy)
@@ -170,7 +170,7 @@
     &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; chunkSize = &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.parseInt(args[3]);
     &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; times = &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.parseInt(args[4]);

-    test(n, N, low, chunkSize, times);
+    &lt;span class=&quot;code-comment&quot;&gt;//test(n, N, low, chunkSize, times);
&lt;/span&gt;     &lt;span class=&quot;code-comment&quot;&gt;//testNegAlphaInv(args);
&lt;/span&gt;   }

Index: matrix/src/main/java/org/apache/mahout/matrix/matrix/objectalgo/Sorting.java
===================================================================
--- matrix/src/main/java/org/apache/mahout/matrix/matrix/objectalgo/Sorting.java        (revision 885339)
+++ matrix/src/main/java/org/apache/mahout/matrix/matrix/objectalgo/Sorting.java        (working copy)
@@ -52,12 +52,10 @@
   /** A prefabricated mergesort. */
   &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Sorting mergeSort = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Sorting() { &lt;span class=&quot;code-comment&quot;&gt;// override quicksort with mergesort
&lt;/span&gt;
-    @Override
     &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; void runSort(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;[] a, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; fromIndex, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; toIndex, IntComparator c) {
       org.apache.mahout.matrix.Sorting.mergeSort(a, fromIndex, toIndex, c);
     }

-    @Override
     &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; void runSort(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; fromIndex, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; toIndex, IntComparator c, org.apache.mahout.matrix.Swapper swapper) {
       GenericSorting.mergeSort(fromIndex, toIndex, c, swapper);
     }

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="12783613" author="srowen" created="Mon, 30 Nov 2009 11:14:09 +0000"  >&lt;p&gt;Done, not sure how I didn&apos;t see these errors when I last compiled though.&lt;/p&gt;</comment>
                            <comment id="12795997" author="srowen" created="Sun, 3 Jan 2010 15:59:27 +0000"  >&lt;p&gt;This is done right? I had my way with it and committed everything I wanted to. Don&apos;t see other oustanding work on this item.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12433466">MAHOUT-165</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12425893" name="MAHOUT-204-author-cleanup.patch" size="3254515" author="drew.farris" created="Mon, 23 Nov 2009 22:18:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 23 Nov 2009 19:33:28 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9861</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxy6kf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23215</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>