<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:19:02 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-822/MAHOUT-822.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-822] Mahout needs to be made compatible with Hadoop .23 releases</title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-822</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt;As part of the Hadoop stack integration project (Apache Bigtop) we are now trying to compile Mahout&apos;s upcoming 0.6 release against Hadoop 0.22 and 0.23.&lt;/p&gt;

&lt;p&gt;I&apos;m attaching the patch to Mahout&apos;s Maven build system that made it possible. I would also like to request help in solving the real issues that poped&lt;br/&gt;
up when we tried to compile Mahout: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/Bigtop-hadoop22/COMPONENT=mahout,label=centos5/6/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/Bigtop-hadoop22/COMPONENT=mahout,label=centos5/6/console&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[ERROR] /mnt/jenkins/workspace/workspace/Bigtop-hadoop22/COMPONENT/mahout/label/centos5/build/mahout/rpm/BUILD/apache-mahout-c298f70/core/src/test/java/org/apache/mahout/df/mapreduce/partial/Step0JobTest.java:[182,33] org.apache.hadoop.mapreduce.TaskAttemptContext is abstract; cannot be instantiated
[ERROR] /mnt/jenkins/workspace/workspace/Bigtop-hadoop22/COMPONENT/mahout/label/centos5/build/mahout/rpm/BUILD/apache-mahout-c298f70/core/src/test/java/org/apache/mahout/df/mapreduce/partial/Step0JobTest.java:[218,9] org.apache.mahout.df.mapreduce.partial.Step0JobTest.Step0Context is not abstract and does not override abstract method getInputSplit() in org.apache.hadoop.mapreduce.MapContext
[ERROR] /mnt/jenkins/workspace/workspace/Bigtop-hadoop22/COMPONENT/mahout/label/centos5/build/mahout/rpm/BUILD/apache-mahout-c298f70/core/src/test/java/org/apache/mahout/df/mapreduce/partial/Step0JobTest.java:[229,12] cannot find symbol
[ERROR] symbol  : constructor Context(org.apache.hadoop.conf.Configuration,org.apache.hadoop.mapreduce.TaskAttemptID,&amp;lt;nulltype&amp;gt;,&amp;lt;nulltype&amp;gt;,&amp;lt;nulltype&amp;gt;,&amp;lt;nulltype&amp;gt;,&amp;lt;nulltype&amp;gt;)
[ERROR] location: class org.apache.hadoop.mapreduce.Mapper.Context
[ERROR] /mnt/jenkins/workspace/workspace/Bigtop-hadoop22/COMPONENT/mahout/label/centos5/build/mahout/rpm/BUILD/apache-mahout-c298f70/core/src/test/java/org/apache/mahout/common/DummyRecordWriter.java:[68,18] org.apache.hadoop.mapreduce.Mapper.Context is abstract; cannot be instantiated
[ERROR] /mnt/jenkins/workspace/workspace/Bigtop-hadoop22/COMPONENT/mahout/label/centos5/build/mahout/rpm/BUILD/apache-mahout-c298f70/core/src/test/java/org/apache/mahout/common/DummyRecordWriter.java:[77,19] org.apache.hadoop.mapreduce.Reducer.Context is abstract; cannot be instantiated
[ERROR] /mnt/jenkins/workspace/workspace/Bigtop-hadoop22/COMPONENT/mahout/label/centos5/build/mahout/rpm/BUILD/apache-mahout-c298f70/core/src/test/java/org/apache/mahout/df/mapreduce/partial/PartialSequentialBuilder.java:[110,30] org.apache.hadoop.mapreduce.TaskAttemptContext is abstract; cannot be instantiated
[ERROR] /mnt/jenkins/workspace/workspace/Bigtop-hadoop22/COMPONENT/mahout/label/centos5/build/mahout/rpm/BUILD/apache-mahout-c298f70/core/src/test/java/org/apache/mahout/df/mapreduce/partial/PartialSequentialBuilder.java:[206,28] org.apache.hadoop.mapreduce.JobContext is abstract; cannot be instantiated
[ERROR] /mnt/jenkins/workspace/workspace/Bigtop-hadoop22/COMPONENT/mahout/label/centos5/build/mahout/rpm/BUILD/apache-mahout-c298f70/core/src/test/java/org/apache/mahout/df/mapreduce/partial/PartialSequentialBuilder.java:[227,30] org.apache.hadoop.mapreduce.TaskAttemptContext is abstract; cannot be instantiated
[ERROR] /mnt/jenkins/workspace/workspace/Bigtop-hadoop22/COMPONENT/mahout/label/centos5/build/mahout/rpm/BUILD/apache-mahout-c298f70/core/src/test/java/org/apache/mahout/df/mapreduce/partial/MockContext.java:[30,6] org.apache.mahout.df.mapreduce.partial.MockContext is not abstract and does not override abstract method getInputSplit() in org.apache.hadoop.mapreduce.MapContext
[ERROR] /mnt/jenkins/workspace/workspace/Bigtop-hadoop22/COMPONENT/mahout/label/centos5/build/mahout/rpm/BUILD/apache-mahout-c298f70/core/src/test/java/org/apache/mahout/df/mapreduce/partial/MockContext.java:[38,10] cannot find symbol
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12525250">MAHOUT-822</key>
            <summary>Mahout needs to be made compatible with Hadoop .23 releases</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tcp">tom pierce</assignee>
                                    <reporter username="rvs">Roman Shaposhnik</reporter>
                        <labels>
                            <label>bigtop</label>
                    </labels>
                <created>Thu, 29 Sep 2011 23:37:51 +0100</created>
                <updated>Thu, 14 Feb 2013 23:26:48 +0000</updated>
                            <resolved>Mon, 12 Mar 2012 19:19:10 +0000</resolved>
                                    <version>0.6</version>
                                    <fixVersion>0.7</fixVersion>
                                    <component>build</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13117722" author="tdunning" created="Fri, 30 Sep 2011 00:08:19 +0100"  >&lt;p&gt;I think that the Mahout community is pretty clear that we don&apos;t care about Hadoop 0.22.  I don&apos;t think that there is a consensus about 0.23, but I expect that we will care about it when it rolls around.  I had thought that I heard that 0.23 was going to be pretty 0.20 compatible, though.&lt;/p&gt;

&lt;p&gt;Anybody have any thoughts on this?&lt;/p&gt;</comment>
                            <comment id="13117778" author="rvs" created="Fri, 30 Sep 2011 01:28:22 +0100"  >&lt;p&gt;The good news is that the delta between 0.22 and 0.23 is pretty much 0 as far as Mahout is concerned. I see the very same compilation issues on the 0.23-SNAPSHOT: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/Bigtop-hadoop23/COMPONENT=mahout,label=centos5/3/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/Bigtop-hadoop23/COMPONENT=mahout,label=centos5/3/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;In general it is a known fact that 0.23 will NOT be API compatible with 0.20 in certain areas. Changes in the downstream components are needed to accommodate that. Hence this JIRA.&lt;/p&gt;

&lt;p&gt;Finally, are you comfortable with the attach patch to Maven part of Mahout?&lt;/p&gt;
</comment>
                            <comment id="13117785" author="rvs" created="Fri, 30 Sep 2011 01:33:43 +0100"  >&lt;p&gt;Edited the summary to reflect the lack of explicit interest in compatibility with .22&lt;/p&gt;</comment>
                            <comment id="13117856" author="srowen" created="Fri, 30 Sep 2011 04:53:19 +0100"  >&lt;p&gt;Yes I think there&apos;s going to be a medium-sized patch needed to start using 0.23 when 0.23 is out and in some use. I don&apos;t think that&apos;s going to happen in the next few months, so would probably hang on to this for a version after 0.6, but valid nonetheless. When we hit that point we&apos;ll just move everything to 0.23 since I don&apos;t think it will be possible to select it with Maven-only changes; there are some small but incompatible API changes.&lt;/p&gt;</comment>
                            <comment id="13117908" author="tdunning" created="Fri, 30 Sep 2011 07:11:43 +0100"  >&lt;p&gt;The changes to the pom look pretty benign.  I would rather not name the 22/23 changes hadoop-0.2X since 0.20 matches that pattern as well as 0.23 does.  I would rather just name it 0.23 and be done with it.&lt;/p&gt;

&lt;p&gt;The profile changes seem like a fine way to change the dependencies, but don&apos;t seem to deal with the actual issues.  Having the profile available for later when somebody actually cares is a nice idea.&lt;/p&gt;</comment>
                            <comment id="13142432" author="tomwhite" created="Wed, 2 Nov 2011 19:15:31 +0000"  >&lt;p&gt;Here&apos;s a patch for fixing the compilation errors. It is not be committed since it is not backwards compatible with 0.20. However, the changes are only in the test code which provide mock implementations of context objects (the changes were due to &lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-954&quot; title=&quot;The new interface&amp;#39;s Context objects should be interfaces&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAPREDUCE-954&quot;&gt;&lt;del&gt;MAPREDUCE-954&lt;/del&gt;&lt;/a&gt;), so it might be possible to use EasyMock or CGLIB to write something that works in both 0.20 and 0.23.&lt;/p&gt;</comment>
                            <comment id="13143467" author="tomwhite" created="Thu, 3 Nov 2011 19:21:13 +0000"  >&lt;p&gt;Here&apos;s a new patch which applies against trunk (the previous one didn&apos;t). This one is also based on Roman&apos;s original one with profiles.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;mvn clean install -Dhadoop.version=0.23.0-SNAPSHOT -Phadoop-0.2X -DskipTests
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Still need to get it to work with the default hadoop-0.20 profile.&lt;/p&gt;</comment>
                            <comment id="13150786" author="tomwhite" created="Tue, 15 Nov 2011 21:18:57 +0000"  >&lt;p&gt;Here&apos;s an updated patch that uses a combination of reflection and EasyMock to support both 0.20 and 0.23.&lt;/p&gt;

&lt;p&gt;It passes all tests against 0.20, but there are some failures when run against 0.23 (by specifying &lt;tt&gt;-Dhadoop.version=0.23.0-SNAPSHOT&lt;/tt&gt;). I haven&apos;t looked into the 0.23 failures, but they could be tackled in another issue.&lt;/p&gt;

&lt;p&gt;The patch removes PartialSequentialBuilder from the tests since it was not being used anywhere. If it is needed it could be changed to be compatible with 0.20 and 0.23 by changing it to use EasyMock (like this patch does for Step1MapperTest).&lt;/p&gt;

&lt;p&gt;I also changed the profile name to hadoop-0.23 following Ted&apos;s suggestion.&lt;/p&gt;
</comment>
                            <comment id="13150795" author="tomwhite" created="Tue, 15 Nov 2011 21:40:07 +0000"  >&lt;p&gt;Here are the 0.23 failures (all pass against 0.20):&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Failed tests: 
  testCanopyGenManhattanMR(org.apache.mahout.clustering.canopy.TestCanopyCreation): 1st x value expected:&amp;lt;1.5&amp;gt; but was:&amp;lt;4.333333333333334&amp;gt;
  testCanopyGenEuclideanMR(org.apache.mahout.clustering.canopy.TestCanopyCreation): 1st x value expected:&amp;lt;1.8&amp;gt; but was:&amp;lt;4.433333333333334&amp;gt;
  testUserDefinedDistanceMeasure(org.apache.mahout.clustering.canopy.TestCanopyCreation): 1st x value expected:&amp;lt;1.5&amp;gt; but was:&amp;lt;4.333333333333334&amp;gt;
  testKMeansWithCanopyClusterInput(org.apache.mahout.clustering.kmeans.TestKmeansClustering): num points[0] expected:&amp;lt;4&amp;gt; but was:&amp;lt;5&amp;gt;
  testConditionalEntropy(org.apache.mahout.math.stats.entropy.ConditionalEntropyTest): expected:&amp;lt;0.5&amp;gt; but was:&amp;lt;NaN&amp;gt;
  testLetters(org.apache.mahout.math.stats.entropy.EntropyTest): expected:&amp;lt;10&amp;gt; but was:&amp;lt;0&amp;gt;
  testYN(org.apache.mahout.math.stats.entropy.EntropyTest): expected:&amp;lt;8&amp;gt; but was:&amp;lt;0&amp;gt;
  testInformationGain(org.apache.mahout.math.stats.entropy.InformationGainRatioTest): expected:&amp;lt;1.0&amp;gt; but was:&amp;lt;-Infinity&amp;gt;
  testInformationGain(org.apache.mahout.math.stats.entropy.InformationGainTest): expected:&amp;lt;1.0&amp;gt; but was:&amp;lt;-Infinity&amp;gt;

Tests in error: 
  testDriverIterationsSeq(org.apache.mahout.clustering.dirichlet.TestMapReduce): file:/tmp/mahout-TestMapReduce-3133739201325104128/output/clusters-5
  testDriverIterationsMR(org.apache.mahout.clustering.dirichlet.TestMapReduce): file:/tmp/mahout-TestMapReduce-6651551482477894656/output/clusters-5
  testDriverMnRIterations(org.apache.mahout.clustering.dirichlet.TestMapReduce): file:/tmp/mahout-TestMapReduce-2712912373429271552/output/clusters-3
  testDriverIterationsMahalanobisSeq(org.apache.mahout.clustering.dirichlet.TestMapReduce): file:/tmp/mahout-TestMapReduce-3517459711286009856/output/clusters-5
  testDriverIterationsMahalanobisMR(org.apache.mahout.clustering.dirichlet.TestMapReduce): file:/tmp/mahout-TestMapReduce-544093638502266880/output/clusters-5
  testCanopyEuclideanMRJob(org.apache.mahout.clustering.meanshift.TestMeanShift): File file:/tmp/mahout-TestMeanShift-7411149851609869312/output/clusters-4-final/part-r-00000 does not exist
  testSSVDSolverDense(org.apache.mahout.math.hadoop.stochasticsvd.LocalSSVDSolverDenseTest): Bt job unsuccessful.
  testSSVDSolverPowerIterations1(org.apache.mahout.math.hadoop.stochasticsvd.LocalSSVDSolverDenseTest): Bt job unsuccessful.
  testSSVDSolverPowerIterations2(org.apache.mahout.math.hadoop.stochasticsvd.LocalSSVDSolverDenseTest): Bt job unsuccessful.
  testSSVDSolverPowerIterations1(org.apache.mahout.math.hadoop.stochasticsvd.LocalSSVDSolverSparseSequentialTest): Bt job unsuccessful.
  testSSVDSolverSparse(org.apache.mahout.math.hadoop.stochasticsvd.LocalSSVDSolverSparseSequentialTest): Bt job unsuccessful.
  testTimesVectorTempDirDeletion(org.apache.mahout.math.hadoop.TestDistributedRowMatrix): File file:/tmp/mahout-TestDistributedRowMatrix-2909158509802629120/testdata/tmpOut does not exist
  testTimesSquaredVectorTempDirDeletion(org.apache.mahout.math.hadoop.TestDistributedRowMatrix): File file:/tmp/mahout-TestDistributedRowMatrix-2017354403130612736/testdata/tmpOut does not exist

Tests run: 657, Failures: 9, Errors: 13, Skipped: 0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13152591" author="dlyubimov" created="Fri, 18 Nov 2011 01:53:57 +0000"  >&lt;blockquote&gt;&lt;p&gt;Anybody have any thoughts on this?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I think i&apos;d prefer to wait for official release. And then a bit. Some things may change in the way that there might be no good way to implement them to work reliably with both versions; especially if there are changes in public apis of FileOutputFormats (in my code). &lt;/p&gt;

&lt;p&gt;Which may mean that ultimately we&apos;ll have to switch to 0.23 without much option to implement new patches (that i plan anyway) for CDH, which we still use. I would prefer to allow some time for community (including myself) to work thru adopting a new hadoop release before dropping support for the previous one.&lt;/p&gt;</comment>
                            <comment id="13152640" author="tomwhite" created="Fri, 18 Nov 2011 04:33:31 +0000"  >&lt;p&gt;Dmitriy, I definitely agree with you that it&apos;s much too early to switch to 0.23.0 (the official release only came out last week, and is labelled alpha). However, that&apos;s not what this patch does. It adds the option to compile against 0.23 (and by default it will compile against 0.20 still), which will allow those who want to try out Mahout with 0.23 to do so, while not having any effect on the majority who run on Hadoop 0.20.&lt;/p&gt;

&lt;p&gt;Regarding FileOutputFormats, there are no changes to this API in Hadoop between 0.20 and 0.23.&lt;/p&gt;

&lt;p&gt;I hope this addresses your concerns.&lt;/p&gt;</comment>
                            <comment id="13152690" author="dlyubimov" created="Fri, 18 Nov 2011 06:45:30 +0000"  >&lt;p&gt;Thank you, Tom.&lt;/p&gt;

&lt;p&gt;I understand it is your contribution, thank you very much for comtributing.&lt;/p&gt;

&lt;p&gt;The fact the tests are failing means there are compatibility issues that require code change and hence more work than just code compilation.&lt;/p&gt;

&lt;p&gt;The fact that 0.23 is alpha is probably precluding Mahout release with dependencies on it.I think alpha status pretty much seals it.&lt;br/&gt;
On top of it, we of course need to fix compatibility issues caught up by the tests.&lt;/p&gt;

&lt;p&gt;I am totally fine with this patch as an option of course as long as it doesn&apos;t mean we drop support for the current stable release and CDH.&lt;/p&gt;</comment>
                            <comment id="13153320" author="tomwhite" created="Sat, 19 Nov 2011 01:40:17 +0000"  >&lt;p&gt;&amp;gt; The fact that 0.23 is alpha is probably precluding Mahout release with dependencies on it.&lt;/p&gt;

&lt;p&gt;Correct, the hadoop-0.23 profile is just to allow folks to build Mahout against 0.23 in development at the moment.&lt;/p&gt;

&lt;p&gt;&amp;gt; On top of it, we of course need to fix compatibility issues caught up by the tests.&lt;/p&gt;

&lt;p&gt;Of course, however there is no reason they have to all be done in this JIRA is there?&lt;/p&gt;

&lt;p&gt;Having said that, I&apos;ve gone through the test failures and fixed the following (see the latest patch):&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;ConditionalEntropyTest, EntropyTest, InformationGainRatioTest, InformationGainTest are fixed by &lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-3433&quot; title=&quot;Finding counters by legacy group name returns empty counters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAPREDUCE-3433&quot;&gt;&lt;del&gt;MAPREDUCE-3433&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;TestMapReduce and TestDistributedRowMatrix now pass (there was a change in the semantics of FileSystem#listStatus between 0.20 and 0.23)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The following tests are still failing (help fixing them gratefully received!):&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;TestMeanShift no longer produces an error, but fails because count is 5 not 3.&lt;/li&gt;
	&lt;li&gt;TestCanopyCreation and TestKmeansClustering are failing because the data is coming back in a different order. Can the tests be relaxed?&lt;/li&gt;
	&lt;li&gt;LocalSSVDSolverDenseTest and LocalSSVDSolverSparseSequentialTest are failing but it&apos;s hard to say why since there is no debug output. The failure is likely due to the gymnastics BtJob goes through to run jobs with multiple outputs.&lt;/li&gt;
&lt;/ul&gt;



</comment>
                            <comment id="13153344" author="dlyubimov" created="Sat, 19 Nov 2011 02:17:13 +0000"  >&lt;blockquote&gt;&lt;p&gt;Of course, however there is no reason they have to all be done in this JIRA is there?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;If i understand our rules correctly, no, we can&apos;t commit any single patch while any test is still broken. We have a way to collaborate on those things among several contributors (github comes as a popular option lately), but my understanding we won&apos;t be able to push it to the master svn trunk before all issues are fixed. I suggest you create a branch for this issue on the github, this will also help you to stay in sync with trunk more easily ( you can check out my flow here &lt;a href=&quot;http://weatheringthrutechdays.blogspot.com/2011/04/git-github-and-committing-to-asf-svn.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://weatheringthrutechdays.blogspot.com/2011/04/git-github-and-committing-to-asf-svn.html&lt;/a&gt; to see if it helps with this).&lt;/p&gt;


&lt;p&gt;On the other hand if this doesn&apos;t have to be committed (which seems to be true for as long as it patches for 0.23 rather than some of its stable successors), then this patch may live perhaps indefinitely in form of a jira issue, which is known to happen (perhaps to a larger degree in other projects though).But again, having a fork on github would help to update this patch to stable dependencies later.&lt;/p&gt;

&lt;p&gt;I anticipated output format problems in SSVD code a post ago and you are basically confirming it. The reason for multiple output acrobatics is that SSVD is written in a &apos;new&apos; api but last stable hadoop version did not have multiple output support integrated (i had a separate branch for CDH which does have it, though). Hence, it tries to pull old api multiple outputs in a new api environment which worked in that specific hybrid release (and CDH) but i suspect this needs to be finally updated to look closer to my inital code using CDH new api at this point.&lt;/p&gt;</comment>
                            <comment id="13176319" author="rvs" created="Tue, 27 Dec 2011 20:52:17 +0000"  >&lt;p&gt;Ping! Given that 0.23.0 has been out for quite some time and that 0.23.1 is supposed to come out pretty soon, is there any interest in reviving work on this JIRA? Has the criteria for acceptance changes or is Mahout still only wants to support a single version of Hadoop?&lt;/p&gt;</comment>
                            <comment id="13177017" author="tomwhite" created="Thu, 29 Dec 2011 06:31:04 +0000"  >&lt;p&gt;Here&apos;s a new version of the patch that applies against trunk. As it stands it passes tests against 0.20-based Hadoop, and there a few failures against 0.23.0, but Mahout is essentially usable against that version. So committing this would not cause any regressions and would help the Bigtop folks.&lt;/p&gt;

&lt;p&gt;I also opened &lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-3607&quot; title=&quot;Port missing new API mapreduce lib classes to 1.x&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAPREDUCE-3607&quot;&gt;&lt;del&gt;MAPREDUCE-3607&lt;/del&gt;&lt;/a&gt; to get the new API version of MultipleOutputs into Hadoop 1.x (the evolution of the 0.20 line), which will hopefully help get BtJob running consistently on all Hadoop versions.&lt;/p&gt;</comment>
                            <comment id="13185350" author="abayer" created="Fri, 13 Jan 2012 00:07:46 +0000"  >&lt;p&gt;FYI, one additional tweak that&apos;d be needed would be to exclude org.apache.hadoop:* from the job assemblies, since they&apos;re just excluding hadoop-core now. If that isn&apos;t changed, the job jars end up pulling in all of the dependencies of Hadoop, since hadoop-core doesn&apos;t exist in 0.23.&lt;/p&gt;</comment>
                            <comment id="13193914" author="tcp" created="Thu, 26 Jan 2012 15:44:23 +0000"  >&lt;p&gt;I addressed the clustering test failures.  Mostly that involved not assuming output would appear in a particular order.  The MeanShift test is so sensitive to input ordering that I wound up just finding an input permutation that lead to consistent results - it would be good to replace this test in the long term.&lt;/p&gt;

&lt;p&gt;I had one issue crop up that I couldn&apos;t solve - I get an error in ItemSimilarityJobTest.testCompleteJob.  The failure is slightly different under Hadoop 23.0-SNAPSHOT and 23.1-SNAPSHOT, but seems to involve the Configuration object for ItemSimilarityJob getting confounded with its inner Jobs&apos; Configuration.  I think this is a Hadoop bug, but wasn&apos;t able to come up with a simple example that duplicates it.&lt;/p&gt;</comment>
                            <comment id="13203802" author="rvs" created="Wed, 8 Feb 2012 18:18:27 +0000"  >&lt;p&gt;Hadoop 0.23.1 is going through the RC process right now. This will be a major stability improvement release so perhaps Mahout community can consider latching onto it and reviving the work on this patch.&lt;/p&gt;

&lt;p&gt;What do you all think?&lt;/p&gt;</comment>
                            <comment id="13203945" author="tdunning" created="Wed, 8 Feb 2012 20:26:02 +0000"  >&lt;p&gt;I think that it is great if somebody with an itch contributes to 0.23 compatibility.  Until &amp;gt;0 of our user base switches to 0.23 in production, however, it is hard to imagine that we would try to force an upgrade by allowing incompatible patches.&lt;/p&gt;
</comment>
                            <comment id="13204199" author="bmahe" created="Thu, 9 Feb 2012 02:23:25 +0000"  >&lt;p&gt;Ted&amp;gt; I am not sure to follow. How is this patch making anything incompatible? This is just an additional optional profile.&lt;/p&gt;

&lt;p&gt;I am also interested in ensuring that Apache Mahout works well across different versions of Apache Hadoop. So I applied the patch on trunk (as of today) and ran mvn package.&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;All tests passed out of the box with default profile (ie. default hadoop version)&lt;/li&gt;
	&lt;li&gt;org.apache.mahout.clustering.TestClusterDumper.testCanopy fails when using -Dhadoop.version=0.23.1-SNAPSHOT. But I guess this could be solved in a later patch.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13221087" author="tcp" created="Fri, 2 Mar 2012 17:45:58 +0000"  >&lt;p&gt;Updated patch to cover a new test failure under Hadoop 0.23.1-SNAPSHOT due to output-ordering.  &lt;/p&gt;</comment>
                            <comment id="13222925" author="bleeapache" created="Tue, 6 Mar 2012 02:17:11 +0000"  >&lt;p&gt;Update the patch to include a fix to TestClusterDumper, which in testCanopy method tries to print out an output directory that doesn&apos;t exist.  Newer version of Hadoop throws FileNotFoundException exception while earlier version is more lenient on this.  The fix is to provide the correct path of the output directory.&lt;/p&gt;

&lt;p&gt;With the new patch, now all tests passed for me with &quot;mvn test -Dhadoop.version=0.23.1&quot;.&lt;/p&gt;</comment>
                            <comment id="13223696" author="tcp" created="Tue, 6 Mar 2012 21:53:30 +0000"  >&lt;p&gt;Thanks Bilung!  All tests pass for me under our default hadoop version so I&apos;m inclined to commit this.  If nobody objects in the next day or so, I&apos;ll go ahead.&lt;/p&gt;</comment>
                            <comment id="13224684" author="dlyubimov" created="Wed, 7 Mar 2012 20:33:21 +0000"  >&lt;p&gt;Tom, &lt;/p&gt;

&lt;p&gt;do you mind terribly to publish the patch you are going to commit on review board exactly as it is against the trunk now? I intend to review it.&lt;/p&gt;

&lt;p&gt;Thank you very much. &lt;/p&gt;</comment>
                            <comment id="13224911" author="jiraposter@reviews.apache.org" created="Thu, 8 Mar 2012 01:24:54 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/4237/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/4237/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for mahout and Dmitriy Lyubimov.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;This is the current patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-822&quot; title=&quot;Mahout needs to be made compatible with Hadoop .23 releases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-822&quot;&gt;&lt;del&gt;MAHOUT-822&lt;/del&gt;&lt;/a&gt; (as posted by Bilung Lee).&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-822&quot; title=&quot;Mahout needs to be made compatible with Hadoop .23 releases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-822&quot;&gt;&lt;del&gt;MAHOUT-822&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-822&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/MAHOUT-822&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/core/pom.xml 1296318 &lt;br/&gt;
  trunk/core/src/main/java/org/apache/mahout/common/HadoopUtil.java 1296318 &lt;br/&gt;
  trunk/core/src/test/java/org/apache/mahout/classifier/df/mapreduce/partial/MockContext.java 1296318 &lt;br/&gt;
  trunk/core/src/test/java/org/apache/mahout/classifier/df/mapreduce/partial/PartialSequentialBuilder.java 1296318 &lt;br/&gt;
  trunk/core/src/test/java/org/apache/mahout/classifier/df/mapreduce/partial/Step1MapperTest.java 1296318 &lt;br/&gt;
  trunk/core/src/test/java/org/apache/mahout/clustering/canopy/TestCanopyCreation.java 1296318 &lt;br/&gt;
  trunk/core/src/test/java/org/apache/mahout/clustering/classify/ClusterClassificationDriverTest.java 1296318 &lt;br/&gt;
  trunk/core/src/test/java/org/apache/mahout/clustering/kmeans/TestKmeansClustering.java 1296318 &lt;br/&gt;
  trunk/core/src/test/java/org/apache/mahout/clustering/meanshift/TestMeanShift.java 1296318 &lt;br/&gt;
  trunk/core/src/test/java/org/apache/mahout/common/DummyCounter.java 1296318 &lt;br/&gt;
  trunk/core/src/test/java/org/apache/mahout/common/DummyRecordWriter.java 1296318 &lt;br/&gt;
  trunk/core/src/test/java/org/apache/mahout/common/DummyStatusReporter.java 1296318 &lt;br/&gt;
  trunk/core/src/test/java/org/apache/mahout/math/hadoop/TestDistributedRowMatrix.java 1296318 &lt;br/&gt;
  trunk/integration/src/test/java/org/apache/mahout/clustering/TestClusterDumper.java 1296318 &lt;br/&gt;
  trunk/pom.xml 1296318 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/4237/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/4237/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Passes unit tests under default config as well as under hadoop 0.23.1.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;tom&lt;/p&gt;
</comment>
                            <comment id="13224918" author="tcp" created="Thu, 8 Mar 2012 01:29:54 +0000"  >&lt;p&gt;It&apos;s posted on review board (it&apos;s just as it is above, for what it&apos;s worth - posted by Bilung on 6 March).&lt;/p&gt;</comment>
                            <comment id="13225681" author="jiraposter@reviews.apache.org" created="Thu, 8 Mar 2012 23:43:55 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/4237/#review5754&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/4237/#review5754&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;



&lt;p&gt;trunk/core/src/main/java/org/apache/mahout/common/HadoopUtil.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/4237/#comment12516&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/4237/#comment12516&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Extra white spaces generate style warnings but are notoriously hard to eliminate. I have no problems with them but it was a subject of review notes from other committers before, I am just reproducing collective mind here.&lt;/p&gt;



&lt;p&gt;trunk/core/src/main/java/org/apache/mahout/common/HadoopUtil.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/4237/#comment12518&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/4237/#comment12518&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    is this really an issue with Hadoop 0.20.203? i don&apos;t think we care about classic hadoop 0.20.2 anymore.&lt;/p&gt;



&lt;p&gt;trunk/core/src/test/java/org/apache/mahout/clustering/meanshift/TestMeanShift.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/4237/#comment12552&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/4237/#comment12552&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    This and some other changes look suspiciously like a functional change rather than a hadoop compatibility change. I think it would help somebody else more familiar with this code to assure it is indeed benign..&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Dmitriy&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2012-03-08 01:24:21, tom pierce wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/4237/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/4237/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2012-03-08 01:24:21)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for mahout and Dmitriy Lyubimov.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is the current patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-822&quot; title=&quot;Mahout needs to be made compatible with Hadoop .23 releases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-822&quot;&gt;&lt;del&gt;MAHOUT-822&lt;/del&gt;&lt;/a&gt; (as posted by Bilung Lee).&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-822&quot; title=&quot;Mahout needs to be made compatible with Hadoop .23 releases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-822&quot;&gt;&lt;del&gt;MAHOUT-822&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-822&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/MAHOUT-822&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/core/pom.xml 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/core/src/main/java/org/apache/mahout/common/HadoopUtil.java 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/core/src/test/java/org/apache/mahout/classifier/df/mapreduce/partial/MockContext.java 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/core/src/test/java/org/apache/mahout/classifier/df/mapreduce/partial/PartialSequentialBuilder.java 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/core/src/test/java/org/apache/mahout/classifier/df/mapreduce/partial/Step1MapperTest.java 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/core/src/test/java/org/apache/mahout/clustering/canopy/TestCanopyCreation.java 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/core/src/test/java/org/apache/mahout/clustering/classify/ClusterClassificationDriverTest.java 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/core/src/test/java/org/apache/mahout/clustering/kmeans/TestKmeansClustering.java 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/core/src/test/java/org/apache/mahout/clustering/meanshift/TestMeanShift.java 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/core/src/test/java/org/apache/mahout/common/DummyCounter.java 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/core/src/test/java/org/apache/mahout/common/DummyRecordWriter.java 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/core/src/test/java/org/apache/mahout/common/DummyStatusReporter.java 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/core/src/test/java/org/apache/mahout/math/hadoop/TestDistributedRowMatrix.java 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/integration/src/test/java/org/apache/mahout/clustering/TestClusterDumper.java 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/pom.xml 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/4237/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/4237/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Passes unit tests under default config as well as under hadoop 0.23.1.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;tom&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13225834" author="jiraposter@reviews.apache.org" created="Fri, 9 Mar 2012 04:44:07 +0000"  >

&lt;blockquote&gt;&lt;p&gt;On 2012-03-08 23:42:23, Dmitriy Lyubimov wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/core/src/main/java/org/apache/mahout/common/HadoopUtil.java, line 242&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/4237/diff/1/?file=88913#file88913line242&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/4237/diff/1/?file=88913#file88913line242&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Extra white spaces generate style warnings but are notoriously hard to eliminate. I have no problems with them but it was a subject of review notes from other committers before, I am just reproducing collective mind here.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Good point - I&apos;ll address this before committing.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2012-03-08 23:42:23, Dmitriy Lyubimov wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/core/src/main/java/org/apache/mahout/common/HadoopUtil.java, line 247&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/4237/diff/1/?file=88913#file88913line247&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/4237/diff/1/?file=88913#file88913line247&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     is this really an issue with Hadoop 0.20.203? i don&apos;t think we care about classic hadoop 0.20.2 anymore.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Hmm, I am not sure, but I think this is a comment we can omit.  Without the new listStatus methods (but with the changes to other files), there is at least one test that won&apos;t compile.  I&apos;m willing to figure out who added this to the patch and ping them about it, but before I do, what should I ask them to clarify?  Exactly which version of Hadoop they had in mind when making the changes to HadoopUtil?  &lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2012-03-08 23:42:23, Dmitriy Lyubimov wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/core/src/test/java/org/apache/mahout/clustering/meanshift/TestMeanShift.java, line 356&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/4237/diff/1/?file=88920#file88920line356&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/4237/diff/1/?file=88920#file88920line356&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     This and some other changes look suspiciously like a functional change rather than a hadoop compatibility change. I think it would help somebody else more familiar with this code to assure it is indeed benign..&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The changes in tests were needed because some tests were requiring outputs to appear in a certain order.  That is to say, we&apos;d need to output &quot;cluster 1 contains items a, b and d; cluster 2 contains c, e and f&quot;; finding the same set of clusters but calling &lt;/p&gt;
{c,e,f}
&lt;p&gt; &quot;cluster 1&quot; would not do.  Under Hadoop 0.23.1, sometimes these outputs come in a different order.  Most of the changes to tests simply allow permutations in the expected output.&lt;/p&gt;

&lt;p&gt;Mean shift was it&apos;s own special case - it is very sensitive to these ordering effects, and it is an iterative process.  I didn&apos;t dig into the implementation enough to convince myself it was possible to devise a new test that would be immune to ordering (though it&apos;s likely this is true); I just found an input permutation that gave a consistent answer between 0.20.203 and 0.23.1.  In the other cases I think I made the tests a little better, but in this case I made the test pass.&lt;/p&gt;

&lt;p&gt;Is there someone you&apos;d nominate as an additional reviewer?&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;tom&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/4237/#review5754&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/4237/#review5754&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;p&gt;On 2012-03-08 01:24:21, tom pierce wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/4237/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/4237/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2012-03-08 01:24:21)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for mahout and Dmitriy Lyubimov.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is the current patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-822&quot; title=&quot;Mahout needs to be made compatible with Hadoop .23 releases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-822&quot;&gt;&lt;del&gt;MAHOUT-822&lt;/del&gt;&lt;/a&gt; (as posted by Bilung Lee).&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-822&quot; title=&quot;Mahout needs to be made compatible with Hadoop .23 releases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-822&quot;&gt;&lt;del&gt;MAHOUT-822&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-822&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/MAHOUT-822&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/core/pom.xml 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/core/src/main/java/org/apache/mahout/common/HadoopUtil.java 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/core/src/test/java/org/apache/mahout/classifier/df/mapreduce/partial/MockContext.java 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/core/src/test/java/org/apache/mahout/classifier/df/mapreduce/partial/PartialSequentialBuilder.java 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/core/src/test/java/org/apache/mahout/classifier/df/mapreduce/partial/Step1MapperTest.java 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/core/src/test/java/org/apache/mahout/clustering/canopy/TestCanopyCreation.java 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/core/src/test/java/org/apache/mahout/clustering/classify/ClusterClassificationDriverTest.java 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/core/src/test/java/org/apache/mahout/clustering/kmeans/TestKmeansClustering.java 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/core/src/test/java/org/apache/mahout/clustering/meanshift/TestMeanShift.java 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/core/src/test/java/org/apache/mahout/common/DummyCounter.java 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/core/src/test/java/org/apache/mahout/common/DummyRecordWriter.java 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/core/src/test/java/org/apache/mahout/common/DummyStatusReporter.java 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/core/src/test/java/org/apache/mahout/math/hadoop/TestDistributedRowMatrix.java 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/integration/src/test/java/org/apache/mahout/clustering/TestClusterDumper.java 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/pom.xml 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/4237/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/4237/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Passes unit tests under default config as well as under hadoop 0.23.1.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;tom&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13226548" author="jiraposter@reviews.apache.org" created="Fri, 9 Mar 2012 22:34:57 +0000"  >

&lt;blockquote&gt;&lt;p&gt;On 2012-03-08 23:42:23, Dmitriy Lyubimov wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/core/src/main/java/org/apache/mahout/common/HadoopUtil.java, line 247&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/4237/diff/1/?file=88913#file88913line247&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/4237/diff/1/?file=88913#file88913line247&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     is this really an issue with Hadoop 0.20.203? i don&apos;t think we care about classic hadoop 0.20.2 anymore.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;tom pierce wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Hmm, I am not sure, but I think this is a comment we can omit.  Without the new listStatus methods (but with the changes to other files), there is at least one test that won&apos;t compile.  I&apos;m willing to figure out who added this to the patch and ping them about it, but before I do, what should I ask them to clarify?  Exactly which version of Hadoop they had in mind when making the changes to HadoopUtil?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;We&apos;ve misinterpreted the comment - an empty array is returned to emulate 0.20.x behavior under 0.23.1.  I applied the patch, reverted HadoopUtil and TestDistributedRowMatrix (which is the only class using these new methods), and that test still passes under 0.20.x but not under 0.23.1.  From the stacktrace it seems fs.listStatus will now throws an exception rather than returning an empty array when there are no matches. &lt;/p&gt;

&lt;p&gt;I can see this comment causing the same confusion in the future; I will plan to remove the &quot;retain compatibility&quot; comment from HadoopUtil (it appears 2x) before committing.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;tom&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/4237/#review5754&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/4237/#review5754&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;p&gt;On 2012-03-08 01:24:21, tom pierce wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/4237/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/4237/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2012-03-08 01:24:21)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for mahout and Dmitriy Lyubimov.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is the current patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-822&quot; title=&quot;Mahout needs to be made compatible with Hadoop .23 releases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-822&quot;&gt;&lt;del&gt;MAHOUT-822&lt;/del&gt;&lt;/a&gt; (as posted by Bilung Lee).&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-822&quot; title=&quot;Mahout needs to be made compatible with Hadoop .23 releases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-822&quot;&gt;&lt;del&gt;MAHOUT-822&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-822&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/MAHOUT-822&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/core/pom.xml 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/core/src/main/java/org/apache/mahout/common/HadoopUtil.java 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/core/src/test/java/org/apache/mahout/classifier/df/mapreduce/partial/MockContext.java 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/core/src/test/java/org/apache/mahout/classifier/df/mapreduce/partial/PartialSequentialBuilder.java 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/core/src/test/java/org/apache/mahout/classifier/df/mapreduce/partial/Step1MapperTest.java 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/core/src/test/java/org/apache/mahout/clustering/canopy/TestCanopyCreation.java 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/core/src/test/java/org/apache/mahout/clustering/classify/ClusterClassificationDriverTest.java 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/core/src/test/java/org/apache/mahout/clustering/kmeans/TestKmeansClustering.java 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/core/src/test/java/org/apache/mahout/clustering/meanshift/TestMeanShift.java 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/core/src/test/java/org/apache/mahout/common/DummyCounter.java 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/core/src/test/java/org/apache/mahout/common/DummyRecordWriter.java 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/core/src/test/java/org/apache/mahout/common/DummyStatusReporter.java 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/core/src/test/java/org/apache/mahout/math/hadoop/TestDistributedRowMatrix.java 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/integration/src/test/java/org/apache/mahout/clustering/TestClusterDumper.java 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/pom.xml 1296318 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/4237/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/4237/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Passes unit tests under default config as well as under hadoop 0.23.1.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;tom&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13227799" author="tcp" created="Mon, 12 Mar 2012 19:19:11 +0000"  >&lt;p&gt;Thanks all - this is committed!&lt;/p&gt;</comment>
                            <comment id="13228353" author="hudson" created="Tue, 13 Mar 2012 12:20:54 +0000"  >&lt;p&gt;Integrated in Mahout-Quality #1392 (See &lt;a href=&quot;https://builds.apache.org/job/Mahout-Quality/1392/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Mahout-Quality/1392/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-822&quot; title=&quot;Mahout needs to be made compatible with Hadoop .23 releases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-822&quot;&gt;&lt;del&gt;MAHOUT-822&lt;/del&gt;&lt;/a&gt;: Make Mahout compatible with Hadoop 0.23.1. (Revision 1299770)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tcp : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1299770&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1299770&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/mahout/trunk/core/pom.xml&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/main/java/org/apache/mahout/common/HadoopUtil.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/test/java/org/apache/mahout/classifier/df/mapreduce/partial/MockContext.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/test/java/org/apache/mahout/classifier/df/mapreduce/partial/PartialSequentialBuilder.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/test/java/org/apache/mahout/classifier/df/mapreduce/partial/Step1MapperTest.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/test/java/org/apache/mahout/clustering/canopy/TestCanopyCreation.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/test/java/org/apache/mahout/clustering/classify/ClusterClassificationDriverTest.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/test/java/org/apache/mahout/clustering/kmeans/TestKmeansClustering.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/test/java/org/apache/mahout/clustering/meanshift/TestMeanShift.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/test/java/org/apache/mahout/common/DummyCounter.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/test/java/org/apache/mahout/common/DummyRecordWriter.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/test/java/org/apache/mahout/common/DummyStatusReporter.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/test/java/org/apache/mahout/math/hadoop/TestDistributedRowMatrix.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/integration/src/test/java/org/apache/mahout/clustering/TestClusterDumper.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13228388" author="tcp" created="Tue, 13 Mar 2012 13:43:36 +0000"  >&lt;p&gt;Unfortunately, I can&apos;t duplicate this test failure.  Is this something &lt;br/&gt;
that may clear itself up when the next timer-initiated build starts?&lt;/p&gt;

&lt;p&gt;If anyone out there can duplicate the test failure, please let me know &lt;br/&gt;
what OS/Java version you are using.  You can run just the one test with:&lt;/p&gt;

&lt;p&gt;   mvn -U -DfailIfNoTests=false -Dtest=TestDistributedRowMatrix test&lt;/p&gt;

&lt;p&gt;-tom&lt;/p&gt;

</comment>
                            <comment id="13578803" author="gsingers" created="Thu, 14 Feb 2013 23:26:48 +0000"  >&lt;p&gt;Does this work for trunk these days?&lt;/p&gt;

&lt;p&gt;I get:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Downloading: http:&lt;span class=&quot;code-comment&quot;&gt;//repo1.maven.org/maven2/org/apache/hadoop/hadoop-common/1.1.1/hadoop-common-1.1.1.pom
&lt;/span&gt;[WARNING] The POM &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; org.apache.hadoop:hadoop-common:jar:1.1.1 is missing, no dependency information available
Downloading: http:&lt;span class=&quot;code-comment&quot;&gt;//repo1.maven.org/maven2/org/apache/hadoop/hadoop-mapreduce-client-common/1.1.1/hadoop-mapreduce-client-common-1.1.1.pom
&lt;/span&gt;[WARNING] The POM &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; org.apache.hadoop:hadoop-mapreduce-client-common:jar:1.1.1 is missing, no dependency information available
Downloading: http:&lt;span class=&quot;code-comment&quot;&gt;//repo1.maven.org/maven2/org/apache/hadoop/hadoop-mapreduce-client-core/1.1.1/hadoop-mapreduce-client-core-1.1.1.pom
&lt;/span&gt;[WARNING] The POM &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; org.apache.hadoop:hadoop-mapreduce-client-core:jar:1.1.1 is missing, no dependency information available
Downloading: http:&lt;span class=&quot;code-comment&quot;&gt;//repo1.maven.org/maven2/org/apache/hadoop/hadoop-common/1.1.1/hadoop-common-1.1.1.jar
&lt;/span&gt;Downloading: http:&lt;span class=&quot;code-comment&quot;&gt;//repo1.maven.org/maven2/org/apache/hadoop/hadoop-mapreduce-client-common/1.1.1/hadoop-mapreduce-client-common-1.1.1.jar
&lt;/span&gt;Downloading: http:&lt;span class=&quot;code-comment&quot;&gt;//repo1.maven.org/maven2/org/apache/hadoop/hadoop-mapreduce-client-core/1.1.1/hadoop-mapreduce-client-core-1.1.1.jar&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;when doing mvn -Phadoop-0.23 clean package&lt;/p&gt;

&lt;p&gt;I&apos;ll open a separate issue, but wanted to note it here.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12527470">MRUNIT-31</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12538848">MAHOUT-950</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12497081" name="MAHOUT-822-build.patch.txt" size="9488" author="rvs" created="Thu, 29 Sep 2011 23:38:44 +0100"/>
                            <attachment id="12517187" name="MAHOUT-822.patch" size="47955" author="bleeapache" created="Tue, 6 Mar 2012 02:17:11 +0000"/>
                            <attachment id="12516861" name="MAHOUT-822.patch" size="47254" author="tcp" created="Fri, 2 Mar 2012 17:45:57 +0000"/>
                            <attachment id="12511990" name="MAHOUT-822.patch" size="44212" author="tcp" created="Thu, 26 Jan 2012 15:44:23 +0000"/>
                            <attachment id="12508823" name="MAHOUT-822.patch" size="33919" author="tomwhite" created="Thu, 29 Dec 2011 06:31:04 +0000"/>
                            <attachment id="12504323" name="MAHOUT-822.patch" size="33930" author="tomwhite" created="Sat, 19 Nov 2011 01:40:17 +0000"/>
                            <attachment id="12503796" name="MAHOUT-822.patch" size="28151" author="tomwhite" created="Tue, 15 Nov 2011 21:18:57 +0000"/>
                            <attachment id="12502206" name="MAHOUT-822.patch" size="20504" author="tomwhite" created="Thu, 3 Nov 2011 19:21:13 +0000"/>
                            <attachment id="12502014" name="MAHOUT-822.patch" size="16857" author="tomwhite" created="Wed, 2 Nov 2011 19:15:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 29 Sep 2011 23:08:19 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40603</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxy2rj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22599</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>