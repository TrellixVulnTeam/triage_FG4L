<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:23:29 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-1427/MAHOUT-1427.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-1427] Convert old .mapred API to new .mapreduce</title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-1427</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt;Migrate code still using the old .mapred to .mapreduce API&lt;/p&gt;</description>
                <environment></environment>
        <key id="12698098">MAHOUT-1427</key>
            <summary>Convert old .mapred API to new .mapreduce</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="smarthi">Suneel Marthi</assignee>
                                    <reporter username="smarthi">Suneel Marthi</reporter>
                        <labels>
                    </labels>
                <created>Sat, 1 Mar 2014 06:13:25 +0000</created>
                <updated>Mon, 13 Apr 2015 11:20:12 +0100</updated>
                            <resolved>Tue, 15 Jul 2014 23:30:22 +0100</resolved>
                                    <version>0.9</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Collaborative Filtering</component>
                    <component>Integration</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13973855" author="ssc" created="Fri, 18 Apr 2014 08:29:31 +0100"  >&lt;p&gt;What&apos;s the status here? A first step would be to identify all the places where the old api is still used.&lt;/p&gt;</comment>
                            <comment id="13974122" author="smarthi" created="Fri, 18 Apr 2014 15:39:59 +0100"  >&lt;p&gt;The places that need to be modified:&lt;/p&gt;

&lt;p&gt;a) SSVD&lt;br/&gt;
b) o.a.m.common&lt;br/&gt;
c) o.a.m.utils&lt;br/&gt;
d) BtJob, DRM, TimesSquaredJob, MatrixMultiplicationJob, TransposeJob&lt;br/&gt;
e) FP growth&lt;/p&gt;

&lt;p&gt;The last one is not worth wasting the effort on since its gonna be purged soon.&lt;/p&gt;</comment>
                            <comment id="13974136" author="ssc" created="Fri, 18 Apr 2014 15:45:09 +0100"  >&lt;p&gt;I think DistributedRowMatrix also has some mapred code.&lt;/p&gt;</comment>
                            <comment id="13974269" author="ssc" created="Fri, 18 Apr 2014 18:25:34 +0100"  >&lt;p&gt;Should we create separate tickets for the individual items here? I&apos;m taking on the DRM stuff&lt;/p&gt;</comment>
                            <comment id="13974291" author="smarthi" created="Fri, 18 Apr 2014 18:45:15 +0100"  >&lt;p&gt;If its between u and me, I think this one ticket is fine as long as we both don&apos;t work on the same code pieces.&lt;/p&gt;

&lt;p&gt;DRM - ssc&lt;br/&gt;
o.a.m.common and o.a.m.utils - smarthi&lt;br/&gt;
FP growth - Do not Fix&lt;/p&gt;</comment>
                            <comment id="13974347" author="ssc" created="Fri, 18 Apr 2014 19:38:47 +0100"  >&lt;p&gt;Conversion committed for DRM transposition, timesVector, timesSquaredTimesVector&lt;/p&gt;</comment>
                            <comment id="13974348" author="ssc" created="Fri, 18 Apr 2014 19:41:14 +0100"  >&lt;p&gt;MatrixMultiplicationJob uses a mapside join via CompositeInputFormat. AFAIK this is not available in the .mapreduce API of Hadoop 1.x, unfortunately. How do we handle this situation, is there a viable alternative?&lt;/p&gt;</comment>
                            <comment id="13974360" author="smarthi" created="Fri, 18 Apr 2014 20:02:00 +0100"  >&lt;p&gt;See &lt;a href=&quot;http://svn.apache.org/repos/asf/hadoop/common/trunk/hadoop-tools/hadoop-datajoin/src/main/java/org/apache/hadoop/contrib/utils/join/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hadoop/common/trunk/hadoop-tools/hadoop-datajoin/src/main/java/org/apache/hadoop/contrib/utils/join/&lt;/a&gt;. Thanks to my colleague and HAdoop committer, Devaraj K. for pointing this out.&lt;/p&gt;</comment>
                            <comment id="13974381" author="ssc" created="Fri, 18 Apr 2014 20:26:09 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=smarthi&quot; class=&quot;user-hover&quot; rel=&quot;smarthi&quot;&gt;Suneel Marthi&lt;/a&gt; that code is still using the old api...&lt;/p&gt;</comment>
                            <comment id="13974417" author="ssc" created="Fri, 18 Apr 2014 20:58:00 +0100"  >&lt;p&gt;Taking CollocMapperTest and SplitInputJob&lt;/p&gt;</comment>
                            <comment id="13974480" author="ssc" created="Fri, 18 Apr 2014 22:09:11 +0100"  >&lt;p&gt;converted code in integration/&lt;/p&gt;</comment>
                            <comment id="13974565" author="hudson" created="Fri, 18 Apr 2014 23:17:30 +0100"  >&lt;p&gt;FAILURE: Integrated in Mahout-Quality #2579 (See &lt;a href=&quot;https://builds.apache.org/job/Mahout-Quality/2579/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Mahout-Quality/2579/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1427&quot; title=&quot;Convert old .mapred API to new .mapreduce&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-1427&quot;&gt;&lt;del&gt;MAHOUT-1427&lt;/del&gt;&lt;/a&gt;: Converted IOUtils.java (smarthi: rev 1588569)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/mahout/trunk/core/src/main/java/org/apache/mahout/common/IOUtils.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1427&quot; title=&quot;Convert old .mapred API to new .mapreduce&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-1427&quot;&gt;&lt;del&gt;MAHOUT-1427&lt;/del&gt;&lt;/a&gt; - Convert old .mapred API to new .mapreduce (ssc: rev 1588565)&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/test/java/org/apache/mahout/vectorizer/collocations/llr/CollocMapperTest.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/integration/src/main/java/org/apache/mahout/utils/SequenceFileDumper.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/integration/src/main/java/org/apache/mahout/utils/SplitInputJob.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/integration/src/main/java/org/apache/mahout/utils/vectors/VectorDumper.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/integration/src/test/java/org/apache/mahout/utils/SplitInputTest.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1427&quot; title=&quot;Convert old .mapred API to new .mapreduce&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-1427&quot;&gt;&lt;del&gt;MAHOUT-1427&lt;/del&gt;&lt;/a&gt; - Convert old .mapred API to new .mapreduce (ssc: rev 1588540)&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/main/java/org/apache/mahout/common/mapreduce/TransposeMapper.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/main/java/org/apache/mahout/math/hadoop/DistributedRowMatrix.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/main/java/org/apache/mahout/math/hadoop/TimesSquaredJob.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/main/java/org/apache/mahout/math/hadoop/TransposeJob.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/test/java/org/apache/mahout/math/hadoop/TestDistributedRowMatrix.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13974640" author="hudson" created="Sat, 19 Apr 2014 00:37:13 +0100"  >&lt;p&gt;SUCCESS: Integrated in Mahout-Quality #2580 (See &lt;a href=&quot;https://builds.apache.org/job/Mahout-Quality/2580/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Mahout-Quality/2580/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1427&quot; title=&quot;Convert old .mapred API to new .mapreduce&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-1427&quot;&gt;&lt;del&gt;MAHOUT-1427&lt;/del&gt;&lt;/a&gt;: Reverting back MockIterator (smarthi: rev 1588582)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/mahout/trunk/core/src/test/java/org/apache/mahout/common/MockIterator.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13974941" author="smarthi" created="Sat, 19 Apr 2014 20:36:39 +0100"  >&lt;p&gt;Patch for SSVD - BtJob, QJob, ABtDenseOutJob, AbtJob, QrFirstStep, SSVDSolver and IOUtils. Please review the same before we commit this. &lt;/p&gt;

&lt;p&gt;Not sure how to eliminate OutputCollector unless we rewrite QJob and QRFirstStep which seems like more work and risk. &lt;/p&gt;
</comment>
                            <comment id="13975137" author="ssc" created="Sun, 20 Apr 2014 14:32:25 +0100"  >&lt;p&gt;patch looks good, if it passes unit tests, you should commit it.&lt;/p&gt;</comment>
                            <comment id="13975172" author="andrew.musselman" created="Sun, 20 Apr 2014 17:13:09 +0100"  >&lt;p&gt;With the patch, getting just these errors on a local Ubuntu VM with about 14GB of RAM:&lt;/p&gt;

&lt;p&gt;Tests run: 3, Failures: 0, Errors: 2, Skipped: 0, Time elapsed: 31.618 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.mahout.math.hadoop.stochasticsvd.LocalSSVDPCASparseTest&lt;br/&gt;
runPCATest1(org.apache.mahout.math.hadoop.stochasticsvd.LocalSSVDPCASparseTest)  Time elapsed: 11.139 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!&lt;br/&gt;
java.io.IOException: Bt job unsuccessful.&lt;br/&gt;
	at __randomizedtesting.SeedInfo.seed(&lt;span class=&quot;error&quot;&gt;&amp;#91;C908B3D4597DF756:B21F13773F8CCC25&amp;#93;&lt;/span&gt;:0)&lt;br/&gt;
	at org.apache.mahout.math.hadoop.stochasticsvd.BtJob.run(BtJob.java:592)&lt;br/&gt;
	at org.apache.mahout.math.hadoop.stochasticsvd.SSVDSolver.run(SSVDSolver.java:437)&lt;br/&gt;
	at org.apache.mahout.math.hadoop.stochasticsvd.LocalSSVDPCASparseTest.runSSVDSolver(LocalSSVDPCASparseTest.java:197)&lt;br/&gt;
	at org.apache.mahout.math.hadoop.stochasticsvd.LocalSSVDPCASparseTest.runPCATest1(LocalSSVDPCASparseTest.java:87)&lt;/p&gt;

&lt;p&gt;org.apache.mahout.math.hadoop.stochasticsvd.LocalSSVDPCASparseTest  Time elapsed: 20.287 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!&lt;br/&gt;
com.carrotsearch.randomizedtesting.ThreadLeakError: 1 thread leaked from SUITE scope at org.apache.mahout.math.hadoop.stochasticsvd.LocalSSVDPCASparseTest: &lt;br/&gt;
   1) Thread&lt;span class=&quot;error&quot;&gt;&amp;#91;id=36, name=communication thread, state=TIMED_WAITING, group=TGRP-LocalSSVDPCASparseTest&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at java.lang.Object.wait(Native Method)&lt;br/&gt;
        at org.apache.hadoop.mapred.Task$TaskReporter.run(Task.java:658)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:722)&lt;br/&gt;
	at __randomizedtesting.SeedInfo.seed(&lt;span class=&quot;error&quot;&gt;&amp;#91;C908B3D4597DF756&amp;#93;&lt;/span&gt;:0)&lt;/p&gt;</comment>
                            <comment id="13982242" author="ssc" created="Sun, 27 Apr 2014 09:05:26 +0100"  >&lt;p&gt;What&apos;s the status here?&lt;/p&gt;</comment>
                            <comment id="13982255" author="smarthi" created="Sun, 27 Apr 2014 09:37:27 +0100"  >&lt;p&gt;There is no equivalent of CompositeInputFormat in Hadoop 1.x, so not sure if we wanna spend time converting MaxtrixMultiplicationJob, I vote to leave it as is now (Its part of mrlegacy anyways and will soon be replaced by scala dsl equivalent).&lt;/p&gt;</comment>
                            <comment id="13982268" author="ssc" created="Sun, 27 Apr 2014 10:13:26 +0100"  >&lt;p&gt;makes sense to me +1&lt;/p&gt;</comment>
                            <comment id="13982270" author="ssc" created="Sun, 27 Apr 2014 10:17:19 +0100"  >&lt;p&gt;We should add a comment to the code though&lt;/p&gt;</comment>
                            <comment id="13982304" author="hudson" created="Sun, 27 Apr 2014 12:53:15 +0100"  >&lt;p&gt;FAILURE: Integrated in Mahout-Quality #2597 (See &lt;a href=&quot;https://builds.apache.org/job/Mahout-Quality/2597/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Mahout-Quality/2597/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1427&quot; title=&quot;Convert old .mapred API to new .mapreduce&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-1427&quot;&gt;&lt;del&gt;MAHOUT-1427&lt;/del&gt;&lt;/a&gt;: Convert old .mapred API to new .mapreduce - added comment in MatrixMultiplicationJob as to why its not being migrated over to new MR Api (smarthi: rev 1590370)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/mahout/trunk/mrlegacy/src/main/java/org/apache/mahout/math/hadoop/MatrixMultiplicationJob.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13986420" author="ssc" created="Thu, 1 May 2014 08:35:13 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=smarthi&quot; class=&quot;user-hover&quot; rel=&quot;smarthi&quot;&gt;Suneel Marthi&lt;/a&gt; can we resolve this after removal of FPM?&lt;/p&gt;</comment>
                            <comment id="14001034" author="ssc" created="Sun, 18 May 2014 07:46:21 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=smarthi&quot; class=&quot;user-hover&quot; rel=&quot;smarthi&quot;&gt;Suneel Marthi&lt;/a&gt; what&apos;s the status here?&lt;/p&gt;</comment>
                            <comment id="14062775" author="smarthi" created="Tue, 15 Jul 2014 23:29:56 +0100"  >&lt;p&gt;Marking this as Resolved. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                            <outwardlinks description="supercedes">
                                        <issuelink>
            <issuekey id="12538848">MAHOUT-950</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12640961" name="Mahout-1427.patch" size="21268" author="smarthi" created="Sat, 19 Apr 2014 21:47:08 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 18 Apr 2014 07:29:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>376567</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzmqqn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>376862</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>