<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:23:43 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-402/MAHOUT-402.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-402] NamedVectors are not readily identifiable in vectordumper output</title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-402</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt;When dumping a sequence file of Writable,NamedVector using vectordumper in either JSON or standard format, it is not apparent in the output that the vectors are indeed named vectors.&lt;/p&gt;

&lt;p&gt;For example, after applying &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-401&quot; title=&quot;Use NamedVector in seq2sparse&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-401&quot;&gt;&lt;del&gt;MAHOUT-401&lt;/del&gt;&lt;/a&gt; to produce NamedVectors from seq2sparse, I run:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
./bin/mahout vectordump -j -p -s ~/mahout/reuters-out-seqdir-sparse/tf-vectors/part-00000
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And get: &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Input Path: /home/drew/mahout/reuters-out-seqdir-sparse/tf-vectors/part-00000
/reut2-000.sgm-0.txt    {&lt;span class=&quot;code-quote&quot;&gt;&quot;class&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.mahout.math.RandomAccessSparseVector&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;vector&quot;&lt;/span&gt; [...]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;or when removing the -j argument:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
/reut2-000.sgm-0.txt    elts: {1026:3.0, 16150:1.0, 3338:3.0, 16147:1.0, 3339:1.0, 12240:1.0, [...]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The first case, when dumping JSON, is due to the fact that NamedVector simply calls its delegate&apos;s asFormatString method. Granted the naive approach of implementing asFormatString in named vector also produces some nasty output:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
/reut2-001.sgm-468.txt	{&lt;span class=&quot;code-quote&quot;&gt;&quot;class&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.mahout.math.NamedVector&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;vector&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;{\&quot;&lt;/span&gt;delegate\&lt;span class=&quot;code-quote&quot;&gt;&quot;:{\&quot;&lt;/span&gt;class\&lt;span class=&quot;code-quote&quot;&gt;&quot;:\&quot;&lt;/span&gt;org.apache.mahout.math.RandomAccessSparseVector\&quot; [...]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So a little more thought needs to be given to that approach.&lt;/p&gt;

&lt;p&gt;For the non-json format, VectorHelper.vectorToString(..) is the culprit. Would it be ok to do an instanceof NamedVector here and emit the name?&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12465616">MAHOUT-402</key>
            <summary>NamedVectors are not readily identifiable in vectordumper output</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="drew.farris">Drew Farris</assignee>
                                    <reporter username="drew.farris">Drew Farris</reporter>
                        <labels>
                    </labels>
                <created>Fri, 28 May 2010 05:20:37 +0100</created>
                <updated>Sat, 21 May 2011 04:19:03 +0100</updated>
                            <resolved>Wed, 19 Jan 2011 00:49:19 +0000</resolved>
                                    <version>0.4</version>
                                    <fixVersion>0.5</fixVersion>
                                    <component>Integration</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12884308" author="drew.farris" created="Thu, 1 Jul 2010 16:05:24 +0100"  >&lt;p&gt;(fixed first sentence for content)&lt;/p&gt;</comment>
                            <comment id="12884519" author="drew.farris" created="Fri, 2 Jul 2010 04:03:07 +0100"  >&lt;p&gt;Modifies VectorHelper to include the name in vectorToString() if the input vector is a NamedVector. Also implements asFormatString in NamedVector to create JSON output that includes a NamedVector&apos;s name in addition to the contents of the delegate vector.&lt;/p&gt;

&lt;p&gt;In some cases the VectorDumper&apos;s --printKey option can be used to achieve the same effect except in some cases the key is not the same as the NamedVector name, notably in the k-means vector output.&lt;/p&gt;

&lt;p&gt;This should also address the case recently mentioned on the user list, where it is not clear that Vectors are named vectors, see:&lt;br/&gt;
&lt;a href=&quot;http://www.lucidimagination.com/search/document/713e7c8349727a29/reading_vectors_created_from_a_lucene_index#90f94a8d5bc78610&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.lucidimagination.com/search/document/713e7c8349727a29/reading_vectors_created_from_a_lucene_index#90f94a8d5bc78610&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12914446" author="srowen" created="Fri, 24 Sep 2010 13:46:12 +0100"  >&lt;p&gt;Drew, is this related to what you just fixed for seq2sparse?&lt;/p&gt;</comment>
                            <comment id="12983524" author="hudson" created="Wed, 19 Jan 2011 03:41:23 +0000"  >&lt;p&gt;Integrated in Mahout-Quality #571 (See &lt;a href=&quot;https://hudson.apache.org/hudson/job/Mahout-Quality/571/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://hudson.apache.org/hudson/job/Mahout-Quality/571/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-402&quot; title=&quot;NamedVectors are not readily identifiable in vectordumper output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-402&quot;&gt;&lt;del&gt;MAHOUT-402&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12448536" name="MAHOUT-402.patch" size="1904" author="drew.farris" created="Fri, 2 Jul 2010 04:03:07 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 24 Sep 2010 12:46:12 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9662</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxy5c7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23016</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>