<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:19:31 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-610/MAHOUT-610.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-610] Not all Coocurrences provided to SimilarityReducer</title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-610</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt;While doing some tests with the RecommenderJob, and more specifically the RowSimilarityJob, I noticed that in some cases not all cooccurences are used in the similarity calculations ( done in the SimilarityReducer class ).&lt;br/&gt;
A RowPair object with (RowA=1,RowB=2) isn&apos;t considered the same as (RowA=2,RowB=1). This causes problems as CoocurencesMapper sometimes emits rowpairs in the first form and sometimes in the second form thus separating the cooccurences. If I&apos;m right, this is due to the fact that ordering of the WeightedCoocurrenceArray for one column isn&apos;t guaranteed to be the same as for another column.&lt;br/&gt;
The solution is very simple, either you can change the compare method of the RowPair class or you can adapt the CooccurencesMapper to enforce that RowA &amp;lt; RowB.&lt;/p&gt;

&lt;p&gt;Hope I&apos;ve not missed something obvious, and that this is intended behavior. If this is the case, please enlighten me &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Also, slightly off topic. While doing these tests, I&apos;ve noticed that the predictions are all remarkably high and the RMSE on the movielens 100k dataset lies around 1,6.&lt;br/&gt;
A bit to high if you ask me. Are these normal values or am I doing something wrong?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12498564">MAHOUT-610</key>
            <summary>Not all Coocurrences provided to SimilarityReducer</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ssc">Sebastian Schelter</assignee>
                                    <reporter username="jolos">Joris Geessels</reporter>
                        <labels>
                    </labels>
                <created>Mon, 14 Feb 2011 19:19:29 +0000</created>
                <updated>Sat, 21 May 2011 04:18:54 +0100</updated>
                            <resolved>Tue, 22 Mar 2011 13:11:28 +0000</resolved>
                                                    <fixVersion>0.5</fixVersion>
                                    <component>Collaborative Filtering</component>
                    <component>Math</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12994436" author="jolos" created="Mon, 14 Feb 2011 19:28:39 +0000"  >&lt;p&gt;The attached patch solves imo the issue. I&apos;ve chosen not to modify the WeightedRowPair class as I can imagine that in some cases the behavior of the currently implemented compareTo method is desired.&lt;/p&gt;</comment>
                            <comment id="12994463" author="ssc" created="Mon, 14 Feb 2011 20:07:29 +0000"  >&lt;p&gt;Hi Joris,&lt;/p&gt;

&lt;p&gt;I looked through the code and I think you&apos;re right and you found a serious bug. Thank you very much for this. &lt;/p&gt;

&lt;p&gt;I&apos;m only wondering why all the tests that use RowSimilarityJob internally always worked. My guess is that&apos;s because CooccurrencesMapper implicitly relies on the weightedOccurrences in its weightedOccurrenceArray being sorted by row ascending. If we only run the M/R code as a local hadoop job, this might be the case because it&apos;s the natural order in which the weightedOccurrences are mapped out. As you already said there&apos;s no ordering guarantee in a really distributed environment. I will run some verification tests for this later this week and than I&apos;ll commit your fix. &lt;/p&gt;</comment>
                            <comment id="12995238" author="ssc" created="Wed, 16 Feb 2011 10:24:18 +0000"  >&lt;p&gt;bug is confirmed. will commit the fix these days.&lt;/p&gt;</comment>
                            <comment id="12995478" author="ssc" created="Wed, 16 Feb 2011 19:31:00 +0000"  >&lt;p&gt;fix is committed, I also added some counters.&lt;/p&gt;</comment>
                            <comment id="12995531" author="hudson" created="Wed, 16 Feb 2011 21:35:33 +0000"  >&lt;p&gt;Integrated in Mahout-Quality #631 (See &lt;a href=&quot;https://hudson.apache.org/hudson/job/Mahout-Quality/631/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://hudson.apache.org/hudson/job/Mahout-Quality/631/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-610&quot; title=&quot;Not all Coocurrences provided to SimilarityReducer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-610&quot;&gt;&lt;del&gt;MAHOUT-610&lt;/del&gt;&lt;/a&gt; Not all Coocurrences provided to SimilarityReducer&lt;/p&gt;</comment>
                            <comment id="13009634" author="srowen" created="Tue, 22 Mar 2011 13:11:28 +0000"  >&lt;p&gt;Looks like Sebastian fixed this&lt;/p&gt;</comment>
                            <comment id="13009635" author="ssc" created="Tue, 22 Mar 2011 13:14:33 +0000"  >&lt;p&gt;yes it&apos;s fixed&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12471010" name="mahout-610.patch" size="1316" author="jolos" created="Mon, 14 Feb 2011 19:28:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 14 Feb 2011 20:07:29 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9451</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxy41z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22808</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>