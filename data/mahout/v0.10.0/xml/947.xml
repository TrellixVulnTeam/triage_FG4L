<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:18:06 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-947/MAHOUT-947.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-947] Improvements to seqdumper</title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-947</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt;I&apos;ve put together a few handy additions to seqdumper:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Ability to dump all sequence files in a directory.&lt;/li&gt;
	&lt;li&gt;A quiet flag to attenuate the non-data output.&lt;/li&gt;
	&lt;li&gt;A flag to toggle name-only printing for NamedVector values.&lt;/li&gt;
	&lt;li&gt;An option to only print the N highest-valued elements in WeightedVector values&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Seems like others will probably find some of these to be helpful.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12538462">MAHOUT-947</key>
            <summary>Improvements to seqdumper</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gsingers">Grant Ingersoll</assignee>
                                    <reporter username="tcp">tom pierce</reporter>
                        <labels>
                    </labels>
                <created>Sun, 15 Jan 2012 22:52:39 +0000</created>
                <updated>Sat, 16 Jun 2012 10:35:16 +0100</updated>
                            <resolved>Tue, 14 Feb 2012 21:50:22 +0000</resolved>
                                                    <fixVersion>0.7</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13186630" author="lancenorskog" created="Mon, 16 Jan 2012 00:29:24 +0000"  >&lt;p&gt;VectorDumper is a custom class just for vectors; should most of these be there?&lt;/p&gt;</comment>
                            <comment id="13186935" author="tcp" created="Mon, 16 Jan 2012 14:19:08 +0000"  >&lt;p&gt;Oh nice- I hadn&apos;t seen VectorDumper before.  Looks like they could both use the directory and quiet options, and the other things should move over.  Will adjust patch.&lt;/p&gt;</comment>
                            <comment id="13187160" author="tcp" created="Mon, 16 Jan 2012 20:27:35 +0000"  >&lt;p&gt;Adjusted to put vector options in VectorDumper.  Also add ability to dump vectors from AbstractClusters and WeightedPropertyVectorWritables.&lt;/p&gt;</comment>
                            <comment id="13187291" author="lancenorskog" created="Mon, 16 Jan 2012 23:08:40 +0000"  >&lt;p&gt;mahout/src/conf/driver.classes.props lists all of the dumper classes.&lt;/p&gt;

&lt;p&gt;Everything needs the &quot;quiet&quot; option &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; In fact, could it just change the log level from INFO to WARN? &lt;/p&gt;</comment>
                            <comment id="13187861" author="tcp" created="Tue, 17 Jan 2012 18:31:25 +0000"  >&lt;p&gt;Hah - I agree on everything needing a quiet option (or better, quiet by default and a verbose flag!).&lt;/p&gt;

&lt;p&gt;There was at least one println/write that I didn&apos;t want to see in one of these (and the bin/mahout wrapper adds some output too).  Turning up the loglevel would be good, though I think I remember this being tricky to do programatically with slf4j (though maybe I&apos;m confusing slf4j with another Java logger). &lt;/p&gt;

&lt;p&gt;Any objection to VectorDumper having the ability to dump vectors from clusters?  It looks like ClusterDumper likes to read things into core, which can sometimes be troublesome.&lt;/p&gt;</comment>
                            <comment id="13195682" author="tcp" created="Sun, 29 Jan 2012 02:56:31 +0000"  >&lt;p&gt;Dropped the cluster dumping addition to VectorDumper.&lt;/p&gt;</comment>
                            <comment id="13204119" author="hammer" created="Wed, 8 Feb 2012 23:42:46 +0000"  >&lt;p&gt;Hey Lance,&lt;/p&gt;

&lt;p&gt;Any more changes required for this patch?&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Jeff&lt;/p&gt;</comment>
                            <comment id="13204152" author="gsiasf@gmail.com" created="Thu, 9 Feb 2012 00:33:57 +0000"  >&lt;p&gt;I&apos;m close to committing&lt;/p&gt;

</comment>
                            <comment id="13205003" author="lancenorskog" created="Thu, 9 Feb 2012 23:03:59 +0000"  >&lt;p&gt;I won&apos;t be able to try it. The patch looks clean.&lt;/p&gt;</comment>
                            <comment id="13205017" author="jake.mannix" created="Thu, 9 Feb 2012 23:11:27 +0000"  >&lt;p&gt;so one comment: instead of --seqDirectory vs --seqFile, why not just support glob paths?  &lt;/p&gt;

&lt;p&gt;vectordumper &lt;del&gt;s &quot;/path/to/my/dir/part&lt;/del&gt;*&quot;&lt;/p&gt;

&lt;p&gt;?&lt;/p&gt;

&lt;p&gt;Do we need separate flags for if it&apos;s a directory vs a file?  Makes the usage messier, IMO.&lt;/p&gt;</comment>
                            <comment id="13205018" author="gsingers" created="Thu, 9 Feb 2012 23:12:18 +0000"  >&lt;p&gt;I have a patch for this that cleans this up and switches it to the standard command line processing.  Will post soon&lt;/p&gt;</comment>
                            <comment id="13205097" author="gsingers" created="Fri, 10 Feb 2012 00:24:44 +0000"  >&lt;p&gt;This patch is quite a bit bigger than Tom&apos;s b/c as I was digging in converting to use AbstractJob, I realized that AbstractJob only supported single value arguments.  This patch fixes this and also goes through and standardizes a whole slew of files that use AbstractJob&lt;/p&gt;</comment>
                            <comment id="13205104" author="jake.mannix" created="Fri, 10 Feb 2012 00:34:37 +0000"  >&lt;p&gt;I wasn&apos;t suggesting supporting multiple args, just quoted globs - since HDFS FileSystem supports strings with glob patterns in them...&lt;/p&gt;</comment>
                            <comment id="13205262" author="srowen" created="Fri, 10 Feb 2012 06:21:23 +0000"  >&lt;p&gt;My only issue with this is that this has brought in a second way to access args &amp;#8211; getOption(). It seems like it should be one way or the other. The &apos;parsedArgs&apos; thing is no longer useful then and could be removed. You could have a getOptions() method to return a multiple-valued flag.&lt;/p&gt;</comment>
                            <comment id="13205392" author="gsingers" created="Fri, 10 Feb 2012 12:21:02 +0000"  >&lt;p&gt;Hmm, should be a getOptions in there, but maybe my patch is messed up:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
/**
   * Options can occur multiple times, so &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; the list
   * @param optionName The unadorned (no &lt;span class=&quot;code-quote&quot;&gt;&quot;--&quot;&lt;/span&gt; prefixing it) option name
   * @&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; The values, &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;.  If the option is present, but has no values, then the result will be an empty list (Collections.emptyList())
   */
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; List&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; getOptions(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; optionName){
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; argMap.get(keyFor(optionName));
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Or do you mean we should just have one or the other, but not both?  That could work.  I did both as it seems like one knows when one only wants want arg and when one wants multiples, so getOption() is really just a convenience method.&lt;/p&gt;

&lt;p&gt;Perhaps the parsedArgs is still useful if one wants to iterate over them or something?  There also is at least one place where we use them to pass through to other jobs that aren&apos;t necessarily AbstractJobs (DistributedConjugateGradientSolver)&lt;/p&gt;</comment>
                            <comment id="13205397" author="gsingers" created="Fri, 10 Feb 2012 12:26:51 +0000"  >&lt;blockquote&gt;&lt;p&gt;I wasn&apos;t suggesting supporting multiple args, just quoted globs - since HDFS FileSystem supports strings with glob patterns in them...&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Makes sense.  I can update.  In any case, I changed Tom&apos;s patch to use our standard --input flag for both and then just check to see whether it is a directory or not.  We could just as well check to see if it is a glob.&lt;/p&gt;</comment>
                            <comment id="13206332" author="lancenorskog" created="Sun, 12 Feb 2012 01:55:34 +0000"  >&lt;p&gt;There is a sequencefile utility code pattern that handles files and directories and supplies an iterator. There&apos;s no need to have separate args.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12510744" name="MAHOUT-947-2.patch" size="26014" author="tcp" created="Mon, 16 Jan 2012 20:27:35 +0000"/>
                            <attachment id="12514055" name="MAHOUT-947.patch" size="96893" author="gsingers" created="Fri, 10 Feb 2012 00:24:44 +0000"/>
                            <attachment id="12512347" name="MAHOUT-947.patch" size="25689" author="tcp" created="Sun, 29 Jan 2012 02:56:30 +0000"/>
                            <attachment id="12510647" name="MAHOUT-947.patch" size="10405" author="tcp" created="Sun, 15 Jan 2012 22:53:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 16 Jan 2012 00:29:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>223966</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxy1zr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22474</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>