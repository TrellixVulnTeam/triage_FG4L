<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:16:29 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-442/MAHOUT-442.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-442] Simple feature reduction options for Bayes classifiers</title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-442</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt;Adding options to the Bayes TrainClassifier driver to filter features using minimum df or tf. Features that only appear in a handful of documents or less than X times within the entire input set will be removed from the training feature set entirely. This will allow the Bayes classifiers to scale to larger corpora.&lt;/p&gt;

&lt;p&gt;More background: &lt;/p&gt;

&lt;p&gt;When running the wikipedia example, I discovered that the number of features produced with -ng 1 was pretty outstanding: 9,500,000 using the default settings after running the following commands:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
./bin/mahout org.apache.mahout.classifier.bayes.WikipediaXmlSplitter -d wikipedia/enwiki-20100622-pages-articles.xml.bz2 -owikipedia/chunks -c 64
./bin/mahout org.apache.mahout.classifier.bayes.WikipediaDatasetCreatorDriver -i wikipedia/chunks -o wikipedia/bayes-input -c examples/src/test/resources/country.txt
./bin/mahout org.apache.mahout.classifier.bayes.TrainClassifier -i wikipedia/bayes-input -o wikipedia/bayes-model -type cbayes -ng 1  -source hdfs
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This if course makes testing the classifier tricky on machines of modest means because TestClassifier attempts to load all features into memory on the machines the mapper is running on.&lt;/p&gt;

&lt;p&gt;It appears that Grant ran into a similar issue last year: &lt;br/&gt;
&lt;a href=&quot;http://www.lucidimagination.com/search/document/7fff9bc0b3350370/getting_started_with_classification#ba6838a9c8b9090c&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.lucidimagination.com/search/document/7fff9bc0b3350370/getting_started_with_classification#ba6838a9c8b9090c&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This patch will add --minDf and --minSupport options to TrainClassifier. Also --skipCleanup to prevent the deletion of the output of the BayesFeatureDriver, which can be useful in order to allow inspection the resulting feature set in order to tune rules for feature production.&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12469570">MAHOUT-442</key>
            <summary>Simple feature reduction options for Bayes classifiers</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="drew.farris">Drew Farris</assignee>
                                    <reporter username="drew.farris">Drew Farris</reporter>
                        <labels>
                    </labels>
                <created>Mon, 19 Jul 2010 02:14:07 +0100</created>
                <updated>Sun, 31 Oct 2010 15:49:53 +0000</updated>
                            <resolved>Sun, 29 Aug 2010 04:23:51 +0100</resolved>
                                    <version>0.3</version>
                                    <fixVersion>0.4</fixVersion>
                                    <component>Classification</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12889726" author="drew.farris" created="Mon, 19 Jul 2010 02:28:43 +0100"  >
&lt;p&gt;Core changes:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;BayesFeatureMapper now collects tf as FEATURE_TF. df is already collected as FEATURE_COUNT.&lt;/li&gt;
	&lt;li&gt;Introduced BayesFeatureCombiner to do simple combination since the operations performed by the reducer are more complex.&lt;/li&gt;
	&lt;li&gt;FeaturePartitioner ensures that all tuples for a given feature (term/ngram) are directed to the same reducer.&lt;/li&gt;
	&lt;li&gt;FeatureLabelComparator ensures that FEATURE_TF and FEATURE_COUNT arrive at the reducer prior to any other tuples, and that all tuples for a given feature are processed consecutively.&lt;/li&gt;
	&lt;li&gt;BayesFeatureReducer now does filtering on all tuples based on TF and DF configured using --minSupport and --minDf, passed in as a part of the BayesParameters object.&lt;/li&gt;
	&lt;li&gt;deprecated the BayesParameters(ngramSize) constructor in favor of setNgramSize, setMinDf, setMinSupport methods.&lt;/li&gt;
	&lt;li&gt;Included unit test for BayesFeature mapreduce process.&lt;/li&gt;
	&lt;li&gt;All other unit tests pass.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Other changes:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;A couple fixes for cases where the BayesParameters weren&apos;t printing properly&lt;/li&gt;
	&lt;li&gt;Plumbing for the new command-line options.&lt;/li&gt;
&lt;/ul&gt;





</comment>
                            <comment id="12890979" author="drew.farris" created="Thu, 22 Jul 2010 01:58:29 +0100"  >&lt;p&gt;setting -minDf and -minSupport to 2 for all wikipedia chunks and countries generated using the commands above causes a drop from 9.5m features to 2.7m features and 22.3M label/feature pairs to 15.6M label/feature pairs. &lt;/p&gt;</comment>
                            <comment id="12891268" author="robinanil" created="Thu, 22 Jul 2010 19:15:33 +0100"  >&lt;p&gt;This is nice. Could you try the end to end test for the BayesClassifier with pruning and 20 news groups. and see what&apos;s the accuracy difference&lt;/p&gt;</comment>
                            <comment id="12891280" author="drew.farris" created="Thu, 22 Jul 2010 19:58:10 +0100"  >&lt;p&gt;Here&apos;s the confusion matrices for a untrimmed run against 20-news and run against 20-news with --minDf=2 and --minSupport=2&lt;/p&gt;

&lt;p&gt;The trimmed version did not do as well as the untrimmed in this case:&lt;/p&gt;

&lt;p&gt;Untrimmed:&lt;br/&gt;
=======================================================&lt;br/&gt;
Summary&lt;br/&gt;
-------------------------------------------------------&lt;br/&gt;
Correctly Classified Instances          :      18305       97.2222%&lt;br/&gt;
Incorrectly Classified Instances        :        523        2.7778%&lt;br/&gt;
Total Classified Instances              :      18828&lt;/p&gt;

&lt;p&gt;Trimmed:&lt;br/&gt;
=======================================================&lt;br/&gt;
Summary&lt;br/&gt;
-------------------------------------------------------&lt;br/&gt;
Correctly Classified Instances          :      18085       96.0537%&lt;br/&gt;
Incorrectly Classified Instances        :        743        3.9463%&lt;br/&gt;
Total Classified Instances              :      18828&lt;/p&gt;
</comment>
                            <comment id="12891459" author="drew.farris" created="Fri, 23 Jul 2010 04:31:27 +0100"  >&lt;p&gt;Held back 100 documents from each newsgroup &amp;#8211; the results look a bit better.&lt;/p&gt;

&lt;p&gt;Untrimmed;&lt;/p&gt;

&lt;p&gt;=======================================================&lt;br/&gt;
Summary&lt;br/&gt;
-------------------------------------------------------&lt;br/&gt;
Correctly Classified Instances          :       1698	      84.9%&lt;br/&gt;
Incorrectly Classified Instances        :        302	      15.1%&lt;br/&gt;
Total Classified Instances              :       2000&lt;/p&gt;

&lt;p&gt;=======================================================&lt;/p&gt;


&lt;p&gt;Trimmed:&lt;br/&gt;
=======================================================&lt;br/&gt;
Summary&lt;br/&gt;
-------------------------------------------------------&lt;br/&gt;
Correctly Classified Instances          :       1705	     85.25%&lt;br/&gt;
Incorrectly Classified Instances        :        295	     14.75%&lt;br/&gt;
Total Classified Instances              :       2000&lt;/p&gt;

&lt;p&gt;=======================================================&lt;br/&gt;
Confusion Matrix&lt;br/&gt;
-------------------------------------------------------&lt;/p&gt;</comment>
                            <comment id="12893062" author="drew.farris" created="Wed, 28 Jul 2010 05:40:53 +0100"  >&lt;p&gt;Latest patch cleans up a couple issues. Not too sure what do to about the BayesClassifierSelfTest, when run with minDf and minSupport set to 2 it produces some pretty nasty results, which is not necessarilly a surprise, but lessens the utility of changing the test to apply these parameters in the first place.&lt;/p&gt;</comment>
                            <comment id="12896729" author="hudson" created="Tue, 10 Aug 2010 00:35:21 +0100"  >&lt;p&gt;Integrated in Mahout-Quality #175 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Mahout-Quality/175/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Mahout-Quality/175/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-442&quot; title=&quot;Simple feature reduction options for Bayes classifiers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-442&quot;&gt;&lt;del&gt;MAHOUT-442&lt;/del&gt;&lt;/a&gt;: Simple feature reduction options for Bayes classifiers (--minDf and --minSupport)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12450254" name="MAHOUT-442-20news-comparison.txt" size="7449" author="drew.farris" created="Fri, 23 Jul 2010 04:31:27 +0100"/>
                            <attachment id="12450197" name="MAHOUT-442-20news-comparison.txt" size="8028" author="drew.farris" created="Thu, 22 Jul 2010 19:58:10 +0100"/>
                            <attachment id="12450663" name="MAHOUT-442.patch" size="31456" author="drew.farris" created="Wed, 28 Jul 2010 05:40:53 +0100"/>
                            <attachment id="12449801" name="MAHOUT-442.patch" size="32010" author="drew.farris" created="Mon, 19 Jul 2010 02:28:43 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 22 Jul 2010 18:15:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9621</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxy53b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22976</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>