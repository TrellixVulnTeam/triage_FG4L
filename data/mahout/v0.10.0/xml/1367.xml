<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:20:35 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-1367/MAHOUT-1367.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-1367] WikipediaXmlSplitter --&gt; Exception in thread &quot;main&quot; java.lang.NullPointerException</title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-1367</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt;Hi !&lt;/p&gt;

&lt;p&gt;When I run this command : $MAHOUT_HOME/bin/mahout org.apache.mahout.text.wikipedia.WikipediaXmlSplitter -d frwiki-latest-pages-articles.xml.bz2 -o wikipedia-xml-chunks -c 100&lt;/p&gt;

&lt;p&gt;I have this error :&lt;/p&gt;

&lt;p&gt;MAHOUT-JOB: /home/ollagnier/Documents/tools/mahout-distribution-0.8/bin/trunk/examples/target/mahout-examples-0.9-SNAPSHOT-job.jar&lt;br/&gt;
13/11/29 14:51:08 WARN driver.MahoutDriver: No org.apache.mahout.text.wikipedia.WikipediaXmlSplitter.props found on classpath, will use command-line arguments only&lt;br/&gt;
13/11/29 14:51:08 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable&lt;br/&gt;
Exception in thread &quot;main&quot; java.lang.NullPointerException&lt;br/&gt;
	at org.apache.hadoop.io.compress.bzip2.Bzip2Factory.isNativeBzip2Loaded(Bzip2Factory.java:54)&lt;br/&gt;
	at org.apache.hadoop.io.compress.bzip2.Bzip2Factory.getBzip2Decompressor(Bzip2Factory.java:131)&lt;br/&gt;
	at org.apache.hadoop.io.compress.BZip2Codec.createDecompressor(BZip2Codec.java:250)&lt;br/&gt;
	at org.apache.hadoop.io.compress.BZip2Codec.createInputStream(BZip2Codec.java:156)&lt;br/&gt;
	at org.apache.mahout.text.wikipedia.WikipediaXmlSplitter.main(WikipediaXmlSplitter.java:190)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:606)&lt;br/&gt;
	at org.apache.hadoop.util.ProgramDriver$ProgramDescription.invoke(ProgramDriver.java:72)&lt;br/&gt;
	at org.apache.hadoop.util.ProgramDriver.run(ProgramDriver.java:144)&lt;br/&gt;
	at org.apache.hadoop.util.ProgramDriver.driver(ProgramDriver.java:152)&lt;br/&gt;
	at org.apache.mahout.driver.MahoutDriver.main(MahoutDriver.java:195)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:606)&lt;br/&gt;
	at org.apache.hadoop.util.RunJar.main(RunJar.java:212)&lt;/p&gt;

&lt;p&gt;And I have a little trouble seeing where it comes from&lt;/p&gt;

&lt;p&gt;Thank you for your help&lt;/p&gt;


</description>
                <environment>&lt;p&gt;ubuntu&lt;/p&gt;</environment>
        <key id="12681897">MAHOUT-1367</key>
            <summary>WikipediaXmlSplitter --&gt; Exception in thread &quot;main&quot; java.lang.NullPointerException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="smarthi">Suneel Marthi</assignee>
                                    <reporter username="frouzie">ollagnier</reporter>
                        <labels>
                    </labels>
                <created>Fri, 29 Nov 2013 14:20:03 +0000</created>
                <updated>Mon, 3 Feb 2014 07:57:08 +0000</updated>
                            <resolved>Sun, 1 Dec 2013 12:23:19 +0000</resolved>
                                    <version>0.8</version>
                                    <fixVersion>0.9</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13835412" author="smarthi" created="Fri, 29 Nov 2013 14:59:57 +0000"  >&lt;p&gt;Works fine for me on a Mac, from your stacktrace seems like your input path could be wrong. Could you verify that?&lt;/p&gt;
</comment>
                            <comment id="13835413" author="frouzie" created="Fri, 29 Nov 2013 15:10:08 +0000"  >&lt;p&gt;if you talk about my environment variable is correct, I was able to launch other processes&lt;br/&gt;
And if you talk about the input file, I positioned in the directory&lt;/p&gt;</comment>
                            <comment id="13835560" author="smarthi" created="Fri, 29 Nov 2013 22:44:09 +0000"  >&lt;p&gt;I have not been able to reproduce the original problem that was reported here, but looking at the code see that no validation is being done for the input bulk file to determine if it exists before trying to read from the file. That check should prevent NPE like the ones reported here from being thrown.&lt;/p&gt;</comment>
                            <comment id="13835561" author="smarthi" created="Fri, 29 Nov 2013 22:47:35 +0000"  >&lt;p&gt;Attaching patch to fix issue reported in my previous comment i.e. to check for the existence of an input bulk file before trying to reading from it.&lt;/p&gt;</comment>
                            <comment id="13835874" author="isabel" created="Sat, 30 Nov 2013 20:02:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=frouzie&quot; class=&quot;user-hover&quot; rel=&quot;frouzie&quot;&gt;ollagnier&lt;/a&gt; Can you please check whether this issue still exists in current trunk?&lt;/p&gt;</comment>
                            <comment id="13836010" author="smarthi" created="Sun, 1 Dec 2013 12:11:20 +0000"  >&lt;p&gt;The original issue that&apos;s been reported could have been caused by a wrong path for the input file and the present implementation doesn&apos;t check if the input file exists before trying to read from the file which throws the reported stack trace.  Committing a patch to validate that the input file path exists before trying to read from the file.&lt;/p&gt;</comment>
                            <comment id="13836014" author="smarthi" created="Sun, 1 Dec 2013 12:23:19 +0000"  >&lt;p&gt;Marking this as resolved. While the reported issue could not be reproduced, nevertheless added a missing validation to prevent this exception from being thrown if a bad input path is specified.&lt;/p&gt;

&lt;p&gt;Please feel free to reopen this issue with steps to reproduce the problem if I have missed something.&lt;/p&gt;</comment>
                            <comment id="13836028" author="hudson" created="Sun, 1 Dec 2013 13:43:37 +0000"  >&lt;p&gt;SUCCESS: Integrated in Mahout-Quality #2344 (See &lt;a href=&quot;https://builds.apache.org/job/Mahout-Quality/2344/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Mahout-Quality/2344/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1367&quot; title=&quot;WikipediaXmlSplitter --&amp;gt; Exception in thread &amp;quot;main&amp;quot; java.lang.NullPointerException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-1367&quot;&gt;&lt;del&gt;MAHOUT-1367&lt;/del&gt;&lt;/a&gt;: WikipediaXmlSplitter --&amp;gt; Exception in thread main java.lang.NullPointerException (smarthi: rev 1546807)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/mahout/trunk/CHANGELOG&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1367&quot; title=&quot;WikipediaXmlSplitter --&amp;gt; Exception in thread &amp;quot;main&amp;quot; java.lang.NullPointerException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-1367&quot;&gt;&lt;del&gt;MAHOUT-1367&lt;/del&gt;&lt;/a&gt;: Exception in thread &quot;main&quot; java.lang.NullPointerException, caused by not validating the input path. (smarthi: rev 1546806)&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/integration/src/main/java/org/apache/mahout/text/wikipedia/WikipediaXmlSplitter.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13836395" author="frouzie" created="Mon, 2 Dec 2013 09:56:33 +0000"  >&lt;p&gt;Hi !&lt;/p&gt;


&lt;p&gt;thank you for your answers, but but my problem is still unsolved...&lt;/p&gt;

&lt;p&gt;I have check the path of the input file and there is no problem I even tried putting myself in the same directory!&lt;/p&gt;

&lt;p&gt;&amp;#8211; &amp;gt; &quot;ollagnier Can you please check whether this issue still exists in current trunk?&quot;&lt;/p&gt;

&lt;p&gt;I tested at several locations including the trunk and I have exactly the same error&lt;/p&gt;

&lt;p&gt;I also checked the integrity of the input file and there is no problem&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12616420" name="MAHOUT-1367.patch" size="4839" author="smarthi" created="Fri, 29 Nov 2013 22:47:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 29 Nov 2013 14:59:57 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361158</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzk3ov:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361457</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>