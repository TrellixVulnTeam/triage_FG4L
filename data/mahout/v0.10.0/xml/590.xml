<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:20:07 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-590/MAHOUT-590.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-590] add TSV (Tab Separate Value) input file support to SequenceFilesFromDirectory</title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-590</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt;I would like to add TSV (Tab Separated Value) input file type support to SequenceFilesFromDirectory.&lt;/p&gt;

&lt;p&gt;Here is my real use case:&lt;/p&gt;

&lt;p&gt;I have 36M records of input, each of which consists of ID and CONTENT and various other attributes, and I wanted to convert them to sequence files for clustering records by term vectors of CONTENT. However the problem is since I cannot create 36M files under my home directory due to quota limit that is up to 50k files, I was not able to convert them to sequence files by SequenceFilesFromDirectory utility... Meanwhile, source data format is TSV where each line of a file includes ID\tCONTENT\t... as it is suitable for Pig and most hadoop stream programs to process as input and output. NOTE: CONTENT size is up to around 2k bytes. Hence I feel better TSV support by SequenceFilesFromDirectory directly instead of taking two steps; TSV to text files and text files to Sequence files.&lt;/p&gt;

&lt;p&gt;I&apos;m attaching the patch.&lt;/p&gt;

&lt;p&gt;Hope this makes sense to other folks.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Mac OS X 10.6.6, java version &quot;1.6.0_22&quot;&lt;br/&gt;
RHL Linux 2.6.18&lt;/p&gt;</environment>
        <key id="12496475">MAHOUT-590</key>
            <summary>add TSV (Tab Separate Value) input file support to SequenceFilesFromDirectory</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="srowen">Sean Owen</assignee>
                                    <reporter username="smtakeda">Shige Takeda</reporter>
                        <labels>
                    </labels>
                <created>Mon, 24 Jan 2011 02:46:15 +0000</created>
                <updated>Thu, 16 Aug 2012 06:42:37 +0100</updated>
                            <resolved>Wed, 23 Mar 2011 14:52:06 +0000</resolved>
                                    <version>0.4</version>
                                    <fixVersion>0.5</fixVersion>
                                    <component>Integration</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12985496" author="smtakeda" created="Mon, 24 Jan 2011 02:46:42 +0000"  >&lt;p&gt;patch is attached.&lt;/p&gt;</comment>
                            <comment id="12985501" author="smtakeda" created="Mon, 24 Jan 2011 03:36:13 +0000"  >&lt;p&gt;A test case I ran against the real data worked well:&lt;/p&gt;

&lt;p&gt;$MAHOUT_HOME/bin/mahout seqdirectory --inputType TSV --input tsv_input --output tsv_output --keyColumn 0 --valueColumn 21&lt;/p&gt;

&lt;p&gt;This will convert TSV files under tsv_input directory with key in the 0th column and value in the 21th column into sequence files and store into tsv_output.&lt;/p&gt;

&lt;p&gt;I verified the results with this command:&lt;br/&gt;
$MAHOUT_HOME/bin/mahout org.apache.mahout.utils.SequenceFileDumper --seqFile tsv_output/chunk-0&lt;/p&gt;</comment>
                            <comment id="12986047" author="srowen" created="Mon, 24 Jan 2011 21:46:57 +0000"  >&lt;p&gt;I&apos;m less convinced on this patch. The tool does one thing &amp;#8211; writes files to HDFS as (filename,contents) pairs. This is a fairly different use case being bolted on to the same tool: extract 2 columns from a tab-separated file and write those to HDFS. The fact that there is now a command line switch to select between these two separate modes kind of confirms this.&lt;/p&gt;

&lt;p&gt;It&apos;s fine code but sounds like it should be a separate tool. And there are an infinite number of possible file input formats one might want to transform and write to HDFS. It could be hard to justify a tool for one such use case.&lt;/p&gt;</comment>
                            <comment id="12986159" author="smtakeda" created="Tue, 25 Jan 2011 01:13:48 +0000"  >&lt;p&gt;Sean, thanks for review and comments! For now, it is not critical but I can live with my private branch, which is slightly different from trunk &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
Actually the original version was a separate code SequnceFilesFromTsv.java and is able to extract multiple columns, though, I just simplified it for review.&lt;/p&gt;

&lt;p&gt;Btw, I recall somebody mentioned in the mailing list that the interfaces of those tools could be improved for general cases, i.e., DB, HDFS, etc, hopefully he comes up with better idea that meet most needs.&lt;/p&gt;

&lt;p&gt;Thank you.&lt;/p&gt;</comment>
                            <comment id="12986235" author="lancenorskog" created="Tue, 25 Jan 2011 05:47:00 +0000"  >&lt;p&gt;I did something similar for Hadoop: &lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-2208&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/MAPREDUCE-2208&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;It grabs various combinations of the input columns. Later I&apos;ve realized I want a date parser, and the ability to handle Wikipedia format:&lt;br/&gt;
id value value&lt;br/&gt;
id value&lt;br/&gt;
id value value value&lt;/p&gt;

&lt;p&gt;It&apos;s an easy problem at first, but then it needs more and more features. The end result would be something modular instead of &apos;GroupLensDataModel&apos; and &apos;Jester*&apos; etc.&lt;/p&gt;

&lt;p&gt;Lance&lt;/p&gt;</comment>
                            <comment id="12986987" author="isabel" created="Wed, 26 Jan 2011 12:47:57 +0000"  >&lt;p&gt;I agree the problem should be solved in a different tool. However I think there might be a way to reduce code duplication on the user-side. Attaching a highly re-structured version of the original patch for review.&lt;/p&gt;</comment>
                            <comment id="12986988" author="isabel" created="Wed, 26 Jan 2011 12:49:04 +0000"  >&lt;p&gt;Please apply with git -p1 ...&lt;/p&gt;</comment>
                            <comment id="12986999" author="isabel" created="Wed, 26 Jan 2011 13:30:08 +0000"  >&lt;p&gt;Please ignore last comment. What I actually meant: Please apply with patch -p1 as patch was created with git ...&lt;/p&gt;</comment>
                            <comment id="12988031" author="isabel" created="Fri, 28 Jan 2011 10:58:38 +0000"  >&lt;p&gt;Updated version.&lt;/p&gt;</comment>
                            <comment id="13010156" author="isabel" created="Wed, 23 Mar 2011 14:52:06 +0000"  >&lt;p&gt;Patch committed.&lt;/p&gt;</comment>
                            <comment id="13010182" author="hudson" created="Wed, 23 Mar 2011 15:39:08 +0000"  >&lt;p&gt;Integrated in Mahout-Quality #688 (See &lt;a href=&quot;https://hudson.apache.org/hudson/job/Mahout-Quality/688/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://hudson.apache.org/hudson/job/Mahout-Quality/688/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-590&quot; title=&quot;add TSV (Tab Separate Value) input file support to SequenceFilesFromDirectory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-590&quot;&gt;&lt;del&gt;MAHOUT-590&lt;/del&gt;&lt;/a&gt; - added support for configurable directory-/ file layout for&lt;br/&gt;
SequenceFilesFromDirectory job. Includes a demo for tab separated value&lt;br/&gt;
formatted files.&lt;/p&gt;</comment>
                            <comment id="13435773" author="saku125" created="Thu, 16 Aug 2012 06:42:37 +0100"  >&lt;p&gt;Hi, I downloaded mahout-distribution-0.7-src.tar.gz and after unzip everything &amp;amp; compile it, i can run mahout. i wannt use your patch so that i can specify TSV through &quot;mahout seqdirectory --inputType TSV&quot;. Can you teach me how to apply the patch? I did not check out the trunk. Thank you.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12469111" name="0001-added-TSV-input-file-support.patch" size="13475" author="smtakeda" created="Mon, 24 Jan 2011 02:46:42 +0000"/>
                            <attachment id="12469663" name="MAHOUT-590.patch" size="26476" author="isabel" created="Fri, 28 Jan 2011 10:58:38 +0000"/>
                            <attachment id="12469418" name="MAHOUT-590.patch" size="23678" author="isabel" created="Wed, 26 Jan 2011 12:49:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 24 Jan 2011 21:46:57 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9471</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxwdh3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12670</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>