<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:16:54 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-1247/MAHOUT-1247.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-1247] cluster-reuters doesn&apos;t work on Hadoop</title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-1247</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt;At least two issues:&lt;/p&gt;

&lt;p&gt;1. &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-992&quot; title=&quot;Audit DistributedCache use to support EMR&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-992&quot;&gt;&lt;del&gt;MAHOUT-992&lt;/del&gt;&lt;/a&gt; messed up the Distributed Cache stuff somehow&lt;br/&gt;
2. The ExtractReuters data is not being moved to HDFS.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12651920">MAHOUT-1247</key>
            <summary>cluster-reuters doesn&apos;t work on Hadoop</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gsingers">Grant Ingersoll</assignee>
                                    <reporter username="gsingers">Grant Ingersoll</reporter>
                        <labels>
                    </labels>
                <created>Sun, 9 Jun 2013 12:50:13 +0100</created>
                <updated>Mon, 3 Feb 2014 08:06:16 +0000</updated>
                            <resolved>Sun, 9 Jun 2013 21:51:21 +0100</resolved>
                                                    <fixVersion>0.8</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13679074" author="gsingers" created="Sun, 9 Jun 2013 15:45:43 +0100"  >&lt;p&gt;Here&apos;s the first error I&apos;m getting: &lt;a href=&quot;https://paste.apache.org/cik6&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://paste.apache.org/cik6&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;java.lang.IllegalStateException: /tmp/hadoop-grantingersoll/mapred/local/taskTracker/distcache/4475940891381251304_1262960862_693852121/localhostdicVec/dictionary.file-0&lt;br/&gt;
	at org.apache.mahout.common.iterator.sequencefile.SequenceFileIterable.iterator(SequenceFileIterable.java:63)&lt;br/&gt;
	at org.apache.mahout.vectorizer.term.TFPartialVectorReducer.setup(TFPartialVectorReducer.java:146)&lt;br/&gt;
	at org.apache.hadoop.mapreduce.Reducer.run(Reducer.java:174)&lt;br/&gt;
	at org.apache.hadoop.mapred.ReduceTask.runNewReducer(ReduceTask.java:650)&lt;br/&gt;
	at org.apache.hadoop.mapred.ReduceTask.run(ReduceTask.java:418)&lt;br/&gt;
	at org.apache.hadoop.mapred.Child$4.run(Child.java:255)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
	at javax.security.auth.Subject.doAs(Subject.java:396)&lt;br/&gt;
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1149)&lt;br/&gt;
	at org.apache.hadoop.mapred.Child.main(Child.java:249)&lt;br/&gt;
Caused by: java.io.FileNotFoundException: File does not exist: hdfs://localhost:9000/tmp/hadoop-grantingersoll/mapred/local/taskTracker/distcache/4475940891381251304_1262960862_693852121/localhostdicVec/dictionary.file-0&lt;br/&gt;
	at org.apache.hadoop.hdfs.DistributedFileSystem.getFileStatus(DistributedFileSystem.java:528)&lt;br/&gt;
	at org.apache.hadoop.fs.FileSystem.getLength(FileSystem.java:796)&lt;br/&gt;
	at org.apache.hadoop.io.SequenceFile$Reader.&amp;lt;init&amp;gt;(SequenceFile.java:1479)&lt;br/&gt;
	at org.apache.hadoop.io.SequenceFile$Reader.&amp;lt;init&amp;gt;(SequenceFile.java:1474)&lt;br/&gt;
	at org.apache.mahout.common.iterator.sequencefile.SequenceFileIterator.&amp;lt;init&amp;gt;(SequenceFileIterator.java:58)&lt;br/&gt;
	at org.apache.mahout.common.iterator.sequencefile.SequenceFileIterable.iterator(SequenceFileIterable.java:61)&lt;br/&gt;
	... 9 more&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Might be related to &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-992&quot; title=&quot;Audit DistributedCache use to support EMR&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-992&quot;&gt;&lt;del&gt;MAHOUT-992&lt;/del&gt;&lt;/a&gt;, but not sure.  I added a main to DictionaryVectorizer that allows you to reproduce this off of the prior run of cluster-reuters without having to go re-run everything.&lt;/p&gt;</comment>
                            <comment id="13679076" author="gsingers" created="Sun, 9 Jun 2013 15:47:32 +0100"  >&lt;p&gt;After you run cluster-reuters.sh, you can run:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;bin/mahout org.apache.mahout.vectorizer.DictionaryVectorizer -i /tmp/mahout-work-grantingersoll/reuters-out-seqdir-sparse-kmeans/tokenized-documents -o ./dicVec&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Make sure you have HADOOP_HOME set and also substitute in the appropriate work directory.&lt;/p&gt;</comment>
                            <comment id="13679085" author="hudson" created="Sun, 9 Jun 2013 16:14:52 +0100"  >&lt;p&gt;Integrated in Mahout-Quality #2065 (See &lt;a href=&quot;https://builds.apache.org/job/Mahout-Quality/2065/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Mahout-Quality/2065/&lt;/a&gt;)&lt;br/&gt;
    add some helpers to AbstractJob, add a main to DictionaryVectorizer to try and isolate some issues in testing DicVec on Hadoop for &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1247&quot; title=&quot;cluster-reuters doesn&amp;#39;t work on Hadoop&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-1247&quot;&gt;&lt;del&gt;MAHOUT-1247&lt;/del&gt;&lt;/a&gt; (Revision 1491225)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
gsingers : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/mahout/trunk/core/src/main/java/org/apache/mahout/common/AbstractJob.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/main/java/org/apache/mahout/vectorizer/DictionaryVectorizer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13679090" author="gsingers" created="Sun, 9 Jun 2013 16:42:38 +0100"  >&lt;p&gt;I think I see the issue.  The cache file is &quot;local&quot;, the Iterator, however, has a Hadoop conf that is expecting an HDFS file, hence it can&apos;t find it.&lt;/p&gt;

&lt;p&gt;For instance, the logs show:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;11:38:49,638 INFO org.apache.mahout.vectorizer.term.TFPartialVectorReducer: Cache Files: &lt;span class=&quot;error&quot;&gt;&amp;#91;/tmp/hadoop-grantingersoll/mapred/local/taskTracker/distcache/2677051046998143225_1262960862_697707077/localhostdicVec/dictionary.file-0&amp;#93;&lt;/span&gt;&lt;br/&gt;
2013&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Notice it is missing the scheme.  Going to try explicitly setting the scheme to &lt;a href=&quot;file://&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file://&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13679153" author="gsingers" created="Sun, 9 Jun 2013 21:51:21 +0100"  >&lt;p&gt;Fixed by &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-992&quot; title=&quot;Audit DistributedCache use to support EMR&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-992&quot;&gt;&lt;del&gt;MAHOUT-992&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12546140">MAHOUT-992</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 9 Jun 2013 15:14:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>332244</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzf5qf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>332573</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>