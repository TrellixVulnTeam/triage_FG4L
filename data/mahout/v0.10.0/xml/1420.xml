<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:26:45 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-1420/MAHOUT-1420.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-1420] Add solr-recommender to examples</title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-1420</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt;Write a new example that builds a solr-recommender based on Pat&apos;s code at &lt;a href=&quot;https://github.com/pferrel/solr-recommender&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/pferrel/solr-recommender&lt;/a&gt; and which has the glue scripts needed to pipe all the way from start(raw data) to finish(running web service and UI page).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12696043">MAHOUT-1420</key>
            <summary>Add solr-recommender to examples</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="andrew.musselman">Andrew Musselman</assignee>
                                    <reporter username="andrew.musselman">Andrew Musselman</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Feb 2014 18:40:04 +0000</created>
                <updated>Mon, 13 Apr 2015 11:20:06 +0100</updated>
                            <resolved>Sun, 13 Apr 2014 05:27:03 +0100</resolved>
                                    <version>0.9</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Examples</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13909613" author="andrew.musselman" created="Sun, 23 Feb 2014 00:42:41 +0000"  >&lt;p&gt;Pat, do you have sample data that could be packaged up with this in examples/?  Movielens dataset work?&lt;/p&gt;

&lt;p&gt;Also, the github repo says it does all the work up until indexing with Solr; does anyone have code lying around to finish the project, i.e., have a running web service that accepts updates and re-indexes?&lt;/p&gt;</comment>
                            <comment id="13909971" author="pferrel" created="Mon, 24 Feb 2014 01:56:52 +0000"  >&lt;p&gt;Yes, there is a script and very tiny piece of made up example data. &lt;/p&gt;

&lt;p&gt;The project can use the movielens data in some of its forms. It will take some poking to see the best samples to use. I&apos;ll take a closer look.&lt;/p&gt;

&lt;p&gt;I have a fairly full featured Demo site that will be opened up to users soon. It implements a video browsing and recommendations site. It is one of a zillion ways you could build a site and by no means the simplest. But it&apos;s also pretty real world. Something simpler would be a better source-code example.&lt;/p&gt;

&lt;p&gt;It may however generate some interesting data, which will be anonymized and shared.&lt;/p&gt;</comment>
                            <comment id="13909987" author="andrew.musselman" created="Mon, 24 Feb 2014 02:42:31 +0000"  >&lt;p&gt;As I recall, ratings.dat has user id, movie id, and rating from one to five; that one should be usable.&lt;/p&gt;</comment>
                            <comment id="13909997" author="pferrel" created="Mon, 24 Feb 2014 03:19:19 +0000"  >&lt;p&gt;The version I just downloaded doesn&apos;t have a ratings.dat but does have several files with the right data. The version of the netflix data I have also will work. One thing that has to be worked around it that the Solr recommender doesn&apos;t work with preference weights, only boolean. So a simple r &amp;gt; 2.5 = 1; r &amp;lt;=2.5 = 0 transform needs to be added.&lt;/p&gt;

&lt;p&gt;Both look like they are from normalised DBs though so they don&apos;t look much like logfiles. They will still work but will not really demonstrate what is different about this pipeline. When using it, the items and users can have human readable ids going in and coming out. The point isn&apos;t so much about human readable as it is about using external ids in whatever form the user wants--not Mahout integers.&lt;/p&gt;

&lt;p&gt;human@email.com,iPad,purchase,time=awhile-ago,electronics,tablets,store.apple.com...&lt;/p&gt;

&lt;p&gt;Or whatever. &lt;/p&gt;</comment>
                            <comment id="13910003" author="andrew.musselman" created="Mon, 24 Feb 2014 03:35:56 +0000"  >&lt;p&gt;Could we map the ints in the movie id field to the title string they map to, to prove out the &quot;mapping strings to Mahout integers&quot; feature?&lt;/p&gt;</comment>
                            <comment id="13910446" author="pferrel" created="Mon, 24 Feb 2014 16:26:06 +0000"  >&lt;p&gt;Sure, it all depends on what you want to show. One goal I had was to take a logfile meant for human readability, which almost always needs quite a bit of scrubbing to feed into Mahout and just use it raw. This comes from a job I did for a local analytics company who had just this. So I designed and built a fairly flexible framework--not all options are fully implemented. It allows for redefining text separators, filename patterns for input files, recursively searching directories for inputs, defining fields numbers for each of userId, itemId, actionName, etc.&lt;/p&gt;

&lt;p&gt;It splits the input into one directory per action and turns them into Mahout format (integers everywhere) keeping index/dictionary and the reverse in files. &lt;/p&gt;

&lt;p&gt;From then on it is RecommenderJob or my proto XRecommenderJob, which contains a PrepareActionMatrixesJob to create the two input DRMs. Anyway the output of these are the standard mahout outputs and temp files. These are input into the rest of the Solr pipeline. For instance the similarity matrices are then transformed into delimited files with external ids, as they were in the input logfiles, ready for Solr to index.&lt;/p&gt;

&lt;p&gt;I put up an out-of-the-box Solr server and had it index the output. You can feed in user history in the same form (also one of the outputs of the above jobs) and get recs by hand. I went this far but was unable to commit to packaging up the solr server part. This might be the simplest form of example that could be deployed easily. I tired to get someone to go this last 100ft but got no volunteers.&lt;/p&gt;
</comment>
                            <comment id="13917519" author="ssc" created="Sun, 2 Mar 2014 18:49:48 +0000"  >&lt;p&gt;Pat, can you supply a patch that contains all necessary code for running the solr-recommender? &lt;/p&gt;</comment>
                            <comment id="13917731" author="pferrel" created="Mon, 3 Mar 2014 04:13:56 +0000"  >&lt;p&gt;Not sure what you mean. Are you asking me to integrate it into some existing structure like mahout-examples and supply a patch?&lt;/p&gt;

&lt;p&gt;The project works fine without using it but does assume the existence of a cross-recommender, which is part of the git repo.&lt;/p&gt;
</comment>
                            <comment id="13917774" author="ssc" created="Mon, 3 Mar 2014 06:35:59 +0000"  >&lt;p&gt;Yes, I&apos;d like to start to integrate it into the current codebase.&lt;/p&gt;</comment>
                            <comment id="13918262" author="andrew.musselman" created="Mon, 3 Mar 2014 16:56:49 +0000"  >&lt;p&gt;I can help if you need, Pat.  Sebastian, if you&apos;d like to volunteer for that &quot;last 100ft&quot; that would be good too.&lt;/p&gt;</comment>
                            <comment id="13918266" author="pferrel" created="Mon, 3 Mar 2014 16:58:49 +0000"  >&lt;p&gt;If you want the code to be available on some committer&apos;s machine to fiddle with before you commit (don&apos;t know your process). By far the easiest is to fork the github repo and clone that to mahout-examples. It is self contained, with it&apos;s own POM and script for running it.&lt;/p&gt;

&lt;p&gt;If that sounds good, I&apos;ll change the packaging to reflect Apache ownership and send you a link to the repo.&lt;/p&gt;

&lt;p&gt;However you may want to consider a different way to approach this with several more integrated patches:&lt;br/&gt;
1) We need a cross-RSJ created &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1422&quot; title=&quot;Make a version of RSJ that uses two inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-1422&quot;&gt;&lt;del&gt;MAHOUT-1422&lt;/del&gt;&lt;/a&gt;. I&apos;d suppose you would be the person for the job and rumor has it that you will be very busy shortly.&lt;br/&gt;
2) I will integrate the cross-RSJ into the XRecommmenderJob, a parallel job to RecommenderJob, this would be a single patch.&lt;br/&gt;
3) The code to use RecommenderJob and XRecommenderJob taking log file input and generating Solr digestible output would be slightly refactored and would be a second patch to be put in mahout-examples.&lt;/p&gt;

&lt;p&gt;If we did it this way Mahout would end up with an XRSJ, XRecommenderJob (written but uses matrix multiply and transpose instead of proposed XRSJ), PrepareActionMatricesJob (already written), example input from log file code (written), and output that takes DRMS to create Solr input (written).&lt;/p&gt;

&lt;p&gt;This method of getting things integrated would be cleaner but is somewhat dependant on #1.&lt;/p&gt;

&lt;p&gt;Let me know how to proceed or if you want to IM, I use my occamsmachete email address on Google Talk.&lt;/p&gt;</comment>
                            <comment id="13918283" author="pferrel" created="Mon, 3 Mar 2014 17:14:05 +0000"  >&lt;p&gt;If we could get Sebastian to do anything I&apos;d vote for  &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1422&quot; title=&quot;Make a version of RSJ that uses two inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-1422&quot;&gt;&lt;del&gt;MAHOUT-1422&lt;/del&gt;&lt;/a&gt;. That would have pretty far reaching benefits even outside the recommender (Ted please comment).&lt;/p&gt;

&lt;p&gt;As to the last 100ft you (or I) could do that very easily. It&apos;s only instructions to setup Solr, with a schema.xml and doc about how to index and query with it. All this would be by hand, no actual code to write and it would give you a running Solr server that would be usable through all the usual Solr access methods.&lt;/p&gt;</comment>
                            <comment id="13918289" author="andrew.musselman" created="Mon, 3 Mar 2014 17:23:05 +0000"  >&lt;p&gt;Sounds good&lt;/p&gt;</comment>
                            <comment id="13966721" author="pferrel" created="Fri, 11 Apr 2014 17:27:28 +0100"  >&lt;p&gt;Here is a proposed manifest file for external examples. It is a commented shell script that will grab all projects from their repos. The Solr-recommender will grab from my github repo, allowing me to make fixes and changes without resubmitting this manifest.&lt;/p&gt;

&lt;p&gt;It will put each example in its own directory under examples. Each project is assumed to be standalone. Mine has a pom, a tiny example data file and script to run the code on it.&lt;/p&gt;

&lt;p&gt;To close this ticket all you need to do is put the &apos;get-all-examples.sh&apos; in the examples directory. Then other example contributors can add to the file over time.&lt;/p&gt;

&lt;p&gt;Let me know what you think.&lt;/p&gt;</comment>
                            <comment id="13966829" author="andrew.musselman" created="Fri, 11 Apr 2014 18:25:35 +0100"  >&lt;p&gt;That was easy &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Should we put the instructions and/or actual build commands?&lt;/p&gt;</comment>
                            <comment id="13966848" author="pferrel" created="Fri, 11 Apr 2014 18:34:48 +0100"  >&lt;p&gt;good idea and maybe run the example test, let me look at that.&lt;/p&gt;</comment>
                            <comment id="13967561" author="pferrel" created="Sat, 12 Apr 2014 17:11:12 +0100"  >&lt;p&gt;Added comments that are printed on executing the script, these should help describe how to build and run the example.&lt;/p&gt;</comment>
                            <comment id="13967563" author="pferrel" created="Sat, 12 Apr 2014 17:12:08 +0100"  >&lt;p&gt;added better instructions&lt;/p&gt;</comment>
                            <comment id="13967602" author="pferrel" created="Sat, 12 Apr 2014 18:58:28 +0100"  >&lt;p&gt;one more tweak to the instructions, should take care of case where the example is run in non-local mode--an error condition.&lt;/p&gt;</comment>
                            <comment id="13967603" author="pferrel" created="Sat, 12 Apr 2014 19:02:33 +0100"  >&lt;p&gt;I added a check to the example runner script to error out when running non-local on the default sample data. Should work if running on HDFS and specifying the location of sample data in HDFS. This script warns that it is minimal, just for the sample.&lt;/p&gt;

&lt;p&gt;This should make it a little closer to bullet proof. &lt;/p&gt;</comment>
                            <comment id="13967605" author="pferrel" created="Sat, 12 Apr 2014 19:09:36 +0100"  >&lt;p&gt;So if anyone cares, the way this example will be managed requires people to &quot;watch&quot; changes on github. There will likely not be changes to the clone/manifest script, which is the only object checked in to the Mahout repo. &lt;/p&gt;

&lt;p&gt;Bugs, commits, and pull requests will be managed from the solr-recommender github repo, not Mahout&apos;s repo. &lt;/p&gt;</comment>
                            <comment id="13967611" author="andrew.musselman" created="Sat, 12 Apr 2014 19:58:23 +0100"  >&lt;p&gt;Very nice, I ran this yesterday and will try out the improvements this evening.&lt;/p&gt;</comment>
                            <comment id="13967729" author="andrew.musselman" created="Sun, 13 Apr 2014 05:26:37 +0100"  >&lt;p&gt;Added license to the script and modified some usage language, added to trunk.&lt;/p&gt;</comment>
                            <comment id="13967730" author="andrew.musselman" created="Sun, 13 Apr 2014 05:27:03 +0100"  >&lt;p&gt;Committed to trunk.&lt;/p&gt;</comment>
                            <comment id="13967744" author="hudson" created="Sun, 13 Apr 2014 06:58:26 +0100"  >&lt;p&gt;SUCCESS: Integrated in Mahout-Quality #2565 (See &lt;a href=&quot;https://builds.apache.org/job/Mahout-Quality/2565/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Mahout-Quality/2565/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1420&quot; title=&quot;Add solr-recommender to examples&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-1420&quot;&gt;&lt;del&gt;MAHOUT-1420&lt;/del&gt;&lt;/a&gt;: Add solr-recommender to examples; typo fix (akm: rev 1586921)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/mahout/trunk/examples/bin/get-all-examples.sh&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-1420&quot; title=&quot;Add solr-recommender to examples&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-1420&quot;&gt;&lt;del&gt;MAHOUT-1420&lt;/del&gt;&lt;/a&gt;: Add solr-recommender to examples (akm: rev 1586920)&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/CHANGELOG&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/examples/bin/get-all-examples.sh&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12639945" name="get-all-examples.sh" size="1522" author="pferrel" created="Sat, 12 Apr 2014 18:58:28 +0100"/>
                            <attachment id="12639938" name="get-all-examples.sh" size="1461" author="pferrel" created="Sat, 12 Apr 2014 17:12:08 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 24 Feb 2014 01:56:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374520</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzme5j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374820</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>