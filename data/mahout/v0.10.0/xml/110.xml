<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:26:27 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-110/MAHOUT-110.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-110] Ant script for building Taste web app</title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-110</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt;WIll attach patch after creating. This is a follow-up from a thread on mahout-dev.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12417056">MAHOUT-110</key>
            <summary>Ant script for building Taste web app</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="srowen">Sean Owen</assignee>
                                    <reporter username="srowen">Sean Owen</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Mar 2009 13:02:17 +0000</created>
                <updated>Sat, 21 May 2011 04:24:04 +0100</updated>
                            <resolved>Wed, 18 Mar 2009 15:00:33 +0000</resolved>
                                    <version>0.1</version>
                                    <fixVersion>0.1</fixVersion>
                                    <component>Collaborative Filtering</component>
                        <due>Thu, 19 Mar 2009 07:00:00 +0000</due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12682675" author="gsingers" created="Tue, 17 Mar 2009 13:42:00 +0000"  >&lt;p&gt;It seems like the only thing this offers above the POM is the fact that it can build the grouplens example right?&lt;/p&gt;

&lt;p&gt;How about if we had the WAR built and then just copied it to create a group lens version (via Ant)?  &lt;/p&gt;

&lt;p&gt;In other words, I can hook into the package goal for Maven a call to the Ant script to build a Group lens version of the WAR file.&lt;/p&gt;

&lt;p&gt;Would that work?  If you can do the Ant part, I can hook it in.  &lt;/p&gt;</comment>
                            <comment id="12682677" author="gsingers" created="Tue, 17 Mar 2009 13:51:39 +0000"  >&lt;p&gt;When I run &quot;mvn package&quot; in taste-web, here is what I get in the WAR:&lt;br/&gt;
META-INF/&lt;br/&gt;
META-INF/MANIFEST.MF&lt;br/&gt;
WEB-INF/&lt;br/&gt;
WEB-INF/classes/&lt;br/&gt;
WEB-INF/classes/META-INF/&lt;br/&gt;
WEB-INF/classes/org/&lt;br/&gt;
WEB-INF/classes/org/apache/&lt;br/&gt;
WEB-INF/classes/org/apache/mahout/&lt;br/&gt;
WEB-INF/classes/org/apache/mahout/cf/&lt;br/&gt;
WEB-INF/classes/org/apache/mahout/cf/taste/&lt;br/&gt;
WEB-INF/classes/org/apache/mahout/cf/taste/web/&lt;br/&gt;
WEB-INF/lib/&lt;br/&gt;
WEB-INF/classes/META-INF/LICENSE.txt&lt;br/&gt;
WEB-INF/classes/META-INF/NOTICE.txt&lt;br/&gt;
WEB-INF/classes/META-INF/README.txt&lt;br/&gt;
WEB-INF/classes/org/apache/mahout/cf/taste/web/RecommenderServlet.class&lt;br/&gt;
WEB-INF/classes/org/apache/mahout/cf/taste/web/RecommenderSingleton.class&lt;br/&gt;
WEB-INF/lib/activation-1.1.jar&lt;br/&gt;
WEB-INF/lib/axis-1.4.jar&lt;br/&gt;
WEB-INF/lib/axis-jaxrpc-1.4.jar&lt;br/&gt;
WEB-INF/lib/axis-saaj-1.4.jar&lt;br/&gt;
WEB-INF/lib/axis-wsdl4j-1.5.1.jar&lt;br/&gt;
WEB-INF/lib/commons-cli-2.0-mahout.jar&lt;br/&gt;
WEB-INF/lib/commons-codec-1.2.jar&lt;br/&gt;
WEB-INF/lib/commons-dbcp-1.2.2.jar&lt;br/&gt;
WEB-INF/lib/commons-discovery-0.2.jar&lt;br/&gt;
WEB-INF/lib/commons-httpclient-3.1.jar&lt;br/&gt;
WEB-INF/lib/commons-lang-2.4.jar&lt;br/&gt;
WEB-INF/lib/commons-logging-1.1.1.jar&lt;br/&gt;
WEB-INF/lib/commons-pool-1.4.jar&lt;br/&gt;
WEB-INF/lib/gson-1.3.jar&lt;br/&gt;
WEB-INF/lib/hadoop-core-0.19.1.jar&lt;br/&gt;
WEB-INF/lib/jets3t-0.6.1.jar&lt;br/&gt;
WEB-INF/lib/kfs-0.2.1.jar&lt;br/&gt;
WEB-INF/lib/log4j-1.2.15.jar&lt;br/&gt;
WEB-INF/lib/lucene-analyzers-2.3.2.jar&lt;br/&gt;
WEB-INF/lib/lucene-core-2.3.2.jar&lt;br/&gt;
WEB-INF/lib/mahout-core-0.1-SNAPSHOT.jar&lt;br/&gt;
WEB-INF/lib/mail-1.4.jar&lt;br/&gt;
WEB-INF/lib/servlet-api-2.4.jar&lt;br/&gt;
WEB-INF/lib/slf4j-api-1.5.5.jar&lt;br/&gt;
WEB-INF/lib/slf4j-jcl-1.5.5.jar&lt;br/&gt;
WEB-INF/lib/uncommons-math-1.0.2.jar&lt;br/&gt;
WEB-INF/lib/watchmaker-framework-0.5.0.jar&lt;br/&gt;
WEB-INF/lib/watchmaker-swing-0.5.0.jar&lt;br/&gt;
WEB-INF/lib/xmlenc-0.52.jar&lt;br/&gt;
WEB-INF/lib/xpp3_min-1.1.3.4.O.jar&lt;br/&gt;
WEB-INF/lib/xstream-1.2.1.jar&lt;br/&gt;
WEB-INF/RecommenderService.jws&lt;br/&gt;
WEB-INF/web.xml&lt;br/&gt;
META-INF/maven/&lt;br/&gt;
META-INF/maven/org.apache.mahout/&lt;br/&gt;
META-INF/maven/org.apache.mahout/mahout-taste-webapp/&lt;br/&gt;
META-INF/maven/org.apache.mahout/mahout-taste-webapp/pom.xml&lt;br/&gt;
META-INF/maven/org.apache.mahout/mahout-taste-webapp/pom.properties&lt;/p&gt;</comment>
                            <comment id="12682679" author="srowen" created="Tue, 17 Mar 2009 13:54:13 +0000"  >&lt;p&gt;No, to be clear, this works for &lt;b&gt;no&lt;/b&gt; situations at all &amp;#8211; which includes the GroupLens example. The generated .war contains no Recommender that can be used with this package.&lt;/p&gt;

&lt;p&gt;If you&apos;ve got a quick fix for the pom.xml that lets callers specify a .jar file, and include in the .war&apos;s WEB-INF/lib, that should fix all of this.&lt;/p&gt;

&lt;p&gt;I&apos;d not spend too much time on this &amp;#8211; we&apos;ve lost a fair bit of time on this already. I need this mechanism to work, and have a working patch. I&apos;d like it to work by the end of the week so we can move on at last with 0.1. I think that means committing this patch or a work-alike change to pom.xml.&lt;/p&gt;</comment>
                            <comment id="12682680" author="srowen" created="Tue, 17 Mar 2009 13:56:16 +0000"  >&lt;p&gt;I&apos;d also note that this .war file contains a ton more stuff than it needs like Hadoop and GSon libs. It won&apos;t hurt, but is a bit messy. It&apos;s another of these things that is nagging me about Maven... it just isn&apos;t the right tool for this particular part of the build. Hence, the Ant script that brings this forward (back?) to a clean, working state. I am hearing support to proceed with this &amp;#8211; the last question is how much of a pom.xml must be left to satisfy Maven&apos;s packaging requirements.&lt;/p&gt;</comment>
                            <comment id="12682684" author="gsingers" created="Tue, 17 Mar 2009 14:22:20 +0000"  >&lt;blockquote&gt;
&lt;p&gt;I&apos;d also note that this .war file contains a ton more stuff than it needs like Hadoop and GSon libs&lt;br/&gt;
{quote]&lt;/p&gt;

&lt;p&gt;The real answer to this, of course, is to split out Taste from the core and have it be it&apos;s own module.  &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;If you&apos;ve got a quick fix for the pom.xml that lets callers specify a .jar file, and include in the .war&apos;s WEB-INF/lib, that should fix all of this.&lt;/p&gt;
&lt;blockquote&gt;&lt;/blockquote&gt;

&lt;p&gt;OK.  I&apos;ll take a look.  Is there a default one that people can use?  I suppose if I make it work for Grouplens, that would suffice.&lt;/p&gt;

&lt;p&gt;I agree with your timeframe, I&apos;m anxious to get 0.1 out too, since I need to stand up in front of a bunch of people next week and explain Mahout.  In fact, I&apos;d love to be able to demo Taste!  I&apos;m working on this today.&lt;/p&gt;</comment>
                            <comment id="12682685" author="srowen" created="Tue, 17 Mar 2009 14:23:06 +0000"  >&lt;p&gt;No, to be clear, this works for &lt;b&gt;no&lt;/b&gt; situations at all &amp;#8211; which includes the GroupLens example. The generated .war contains no Recommender that can be used with this package.&lt;/p&gt;

&lt;p&gt;If you&apos;ve got a quick fix for the pom.xml that lets callers specify a .jar file, and include in the .war&apos;s WEB-INF/lib, that should fix all of this.&lt;/p&gt;

&lt;p&gt;I&apos;d not spend too much time on this &amp;#8211; we&apos;ve lost a fair bit of time on this already. I need this mechanism to work, and have a working patch. I&apos;d like it to work by the end of the week so we can move on at last with 0.1. I think that means committing this patch or a work-alike change to pom.xml.&lt;/p&gt;</comment>
                            <comment id="12682721" author="gsingers" created="Tue, 17 Mar 2009 16:56:33 +0000"  >&lt;blockquote&gt;&lt;p&gt;If you&apos;ve got a quick fix for the pom.xml that lets callers specify a .jar file, and include in the .war&apos;s WEB-INF/lib, that should fix all of this.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I think I can do this, then by just adding a lib directory and having Maven look in there for any libs to include.  Then, our instructions need only say: drop your Recommender jar in the lib directory, set the recommender.properties and then do &quot;mvn package&quot;&lt;/p&gt;

&lt;p&gt;I&apos;ll try it out this afternoon.  If that works, then we can figure out the best way to pare down the WAR file.&lt;/p&gt;</comment>
                            <comment id="12682754" author="gsingers" created="Tue, 17 Mar 2009 18:46:30 +0000"  >&lt;p&gt;OK, I have the JAR stuff working.  &lt;/p&gt;

&lt;p&gt;Sean, can you provide a list of the jars that shouldn&apos;t be in there?  They are easy to exclude, too&lt;/p&gt;

&lt;p&gt;Also, from the looks of it, I can even have this just fire up Jetty.  &lt;/p&gt;

&lt;p&gt;Basically, the instructions will be:&lt;br/&gt;
Place your recommender in the lib directory&lt;br/&gt;
mvn package&lt;/p&gt;

&lt;p&gt;For grouplens, a little more complex &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; :&lt;br/&gt;
copy grouplens Jar to the lib directory&lt;br/&gt;
Place the data files in the appropriate place (if we do &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-94&quot; title=&quot;Make the Taste Demo more automated. &quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-94&quot;&gt;&lt;del&gt;MAHOUT-94&lt;/del&gt;&lt;/a&gt; it will make this easier)&lt;br/&gt;
mvn package &lt;/p&gt;</comment>
                            <comment id="12682771" author="gsingers" created="Tue, 17 Mar 2009 19:38:17 +0000"  >&lt;p&gt;OK, I think I&apos;ve got it.&lt;/p&gt;

&lt;p&gt;this patch applies from the root of the trunk.&lt;/p&gt;

&lt;p&gt;Once applied do:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;mvn install&lt;/li&gt;
	&lt;li&gt;cd taste-web&lt;br/&gt;
*cp ../examples/target/grouplens.jar ./lib&lt;/li&gt;
	&lt;li&gt;Copy the group lens Data to:
	&lt;ul&gt;
		&lt;li&gt;I did:&lt;/li&gt;
		&lt;li&gt;mkdir -p ./src/main/resources/org/apache/mahout/cf/taste/example/grouplens&lt;/li&gt;
		&lt;li&gt;cp /Path/to/data/*.dat  ./src/main/resources/org/apache/mahout/cf/taste/example/grouplens&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;Edit the recommender.properties file for your Recommender or just set -Drecommender.class on the command line when running the next line (note, the patch changes it to the GroupLens, but I would revert that)&lt;/li&gt;
	&lt;li&gt;mvn package //this step is likely optional, but I included it for completeness in case one doesn&apos;t want to run jetty&lt;/li&gt;
	&lt;li&gt;mvn jetty:run-war&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Point your browser at &lt;a href=&quot;http://localhost:8080/mahout-taste-webapp/RecommenderServlet?userID=1&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://localhost:8080/mahout-taste-webapp/RecommenderServlet?userID=1&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;NOTE, you may need to give the recommender more memory.  To do this: export MAVEN_OPTS=-Xmx1024M (or whatever)&lt;/p&gt;</comment>
                            <comment id="12682772" author="gsingers" created="Tue, 17 Mar 2009 19:40:55 +0000"  >&lt;p&gt;I&apos;d say the only thing left to do is to put in the excludes for unneeded JARs.  Personally, I&apos;m not that concerned, b/c maybe it inspires some more cross-fertilization.  I could see the web-app evolving to include a server for clustering, etc.  Of course, I&apos;m fine w/ doing the excludes, no need to guess on future functionality.&lt;/p&gt;

&lt;p&gt;Sean, does this work for you?  I think the patch above keeps everything happy in Maven land and actually makes it a lot easier to run the demo, ala my goal in &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-94&quot; title=&quot;Make the Taste Demo more automated. &quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-94&quot;&gt;&lt;del&gt;MAHOUT-94&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;If it does, I can commit and update the taste docs.&lt;/p&gt;</comment>
                            <comment id="12682791" author="srowen" created="Tue, 17 Mar 2009 20:46:54 +0000"  >&lt;p&gt;The only .jars that should be needed are the two SLF4J jars, the Commons Logging jar, and Axis jars. I&apos;d prefer to go ahead and exclude the unneeded parts.&lt;/p&gt;

&lt;p&gt;Where do I specify the name of the .jar to include that contains the Recommender implementation? It&apos;d be OK to require it to have a certain name like &quot;recommender.jar&quot; and hard-code that it must be under lib, if that&apos;s better.&lt;/p&gt;

&lt;p&gt;I suppose I&apos;d prefer the war be named &quot;taste&quot; as before, or &quot;mahout-taste&quot; just to make this path more manageable, but it&apos;s a tiny pointl.&lt;/p&gt;

&lt;p&gt;(I had just instructed people to copy dats to src/main/resources/org/apache/mahout/cf/taste/example/grouplens under the examples/ module and reference it there. Saves a &quot;mkdir&quot; and seems more appropriate.&lt;/p&gt;

&lt;p&gt;If mvn package produces a .war, great. The Jetty target is cool too.&lt;/p&gt;

&lt;p&gt;I can then swoop in and update the documentation and commit a few other tweaks I had in my patch. Then I think we&apos;re good to go as far as this issue is concerned.&lt;/p&gt;</comment>
                            <comment id="12682799" author="gsingers" created="Tue, 17 Mar 2009 20:58:55 +0000"  >&lt;blockquote&gt;&lt;p&gt;The only .jars that should be needed are the two SLF4J jars, the Commons Logging jar, and Axis jars. I&apos;d prefer to go ahead and exclude the unneeded parts.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;OK, I will update&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Where do I specify the name of the .jar to include that contains the Recommender implementation? It&apos;d be OK to require it to have a certain name like &quot;recommender.jar&quot; and hard-code that it must be under lib, if that&apos;s better.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Just drop the JAR file into the taste-web/lib directory, and it will automatically be added to the WAR file&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I suppose I&apos;d prefer the war be named &quot;taste&quot; as before, or &quot;mahout-taste&quot; just to make this path more manageable, but it&apos;s a tiny pointl.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Easy enough, I suspect.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I can then swoop in and update the documentation and commit a few other tweaks I had in my patch. Then I think we&apos;re good to go as far as this issue is concerned.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Glad to hear it.  Once the docs are updated, I can do the release commands and we can have a vote.  Yes!&lt;/p&gt;</comment>
                            <comment id="12682800" author="gsingers" created="Tue, 17 Mar 2009 20:59:40 +0000"  >&lt;p&gt;Note, also, the JAR file in the lib directory can be named whatever you want.&lt;/p&gt;</comment>
                            <comment id="12682811" author="gsingers" created="Tue, 17 Mar 2009 21:21:04 +0000"  >&lt;p&gt;OK, this one does the JAR excludes (it also deletes the mahout-assembly, but ignore that for now)&lt;/p&gt;

&lt;p&gt;Same directions as last time.&lt;/p&gt;</comment>
                            <comment id="12682825" author="gsingers" created="Tue, 17 Mar 2009 22:07:57 +0000"  >&lt;p&gt;Here&apos;s a patch to taste.xml for the docs&lt;/p&gt;</comment>
                            <comment id="12682977" author="gsingers" created="Wed, 18 Mar 2009 10:16:30 +0000"  >&lt;p&gt;We good to go on this one, Sean?  I&apos;d like to commit today.&lt;/p&gt;</comment>
                            <comment id="12682980" author="srowen" created="Wed, 18 Mar 2009 10:34:02 +0000"  >&lt;p&gt;I say go for it. I will merge with my patch locally and see if there is anything left and take care of that tonight. I&apos;m glad this works out, many thanks.&lt;/p&gt;</comment>
                            <comment id="12682983" author="gsingers" created="Wed, 18 Mar 2009 10:42:51 +0000"  >&lt;p&gt;Will do.  Thanks for the kick in the pants to get going on it.  I like the mvn jetty:run-war a lot.  Now I can demo Taste next week!&lt;/p&gt;</comment>
                            <comment id="12683035" author="gsingers" created="Wed, 18 Mar 2009 15:00:33 +0000"  >&lt;p&gt;Committed&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12407655">MAHOUT-94</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12402386" name="AntScript.patch" size="11632" author="srowen" created="Tue, 17 Mar 2009 13:02:45 +0000"/>
                            <attachment id="12402426" name="MAHOUT-110-docs.patch" size="3729" author="gsingers" created="Tue, 17 Mar 2009 22:07:57 +0000"/>
                            <attachment id="12402420" name="MAHOUT-110.patch" size="7768" author="gsingers" created="Tue, 17 Mar 2009 21:21:04 +0000"/>
                            <attachment id="12402406" name="MAHOUT-110.patch" size="4762" author="gsingers" created="Tue, 17 Mar 2009 19:38:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 17 Mar 2009 13:42:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9956</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxy753:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23308</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>