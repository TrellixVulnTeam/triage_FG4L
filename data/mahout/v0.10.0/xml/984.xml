<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:27:32 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-984/MAHOUT-984.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-984] Refactor Fuzzy K Means Clustering into a separate post process with outlier pruning</title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-984</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt;Use ClusterClassificationDriver to refactor clustering out of FuzzyKMeansDriver with outlier pruning support.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12543816">MAHOUT-984</key>
            <summary>Refactor Fuzzy K Means Clustering into a separate post process with outlier pruning</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12535496">MAHOUT-929</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paritoshranjan">Paritosh Ranjan</assignee>
                                    <reporter username="paritoshranjan">Paritosh Ranjan</reporter>
                        <labels>
                            <label>clustering</label>
                    </labels>
                <created>Thu, 23 Feb 2012 07:56:55 +0000</created>
                <updated>Sat, 16 Jun 2012 10:35:15 +0100</updated>
                            <resolved>Sun, 1 Apr 2012 06:34:10 +0100</resolved>
                                    <version>0.6</version>
                                    <fixVersion>0.7</fixVersion>
                                    <component>Clustering</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13228179" author="kanjilal" created="Tue, 13 Mar 2012 03:56:26 +0000"  >&lt;p&gt;I will start researching this issue using the CCD class as well&lt;/p&gt;</comment>
                            <comment id="13228238" author="kanjilal" created="Tue, 13 Mar 2012 06:01:13 +0000"  >&lt;p&gt;Paritosh,&lt;br/&gt;
I&apos;ve read through the FuzzyKMeansDriver and I have some initial questions:&lt;br/&gt;
1) Do we want to refactor both the sequential and the map-reduce version of the buildClusters?&lt;br/&gt;
2) How does the outlier pruning relate to this effort if at all?&lt;br/&gt;
3) Do we also need to refactor the tests for this class as well, I&apos;m guessing not since the ClusterClassificationDriver is abstracted away?&lt;/p&gt;


&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="13228246" author="paritoshranjan" created="Tue, 13 Mar 2012 06:33:01 +0000"  >&lt;p&gt;1) Both seuential and mapreduce version need refactoring( which can be done just by passing a runSequential parameter to CCD ), however, it is for clusterData and not for buildClusters&lt;br/&gt;
2) CCD takes a ccThreshold. We need to take it as input in FuzzyK and pass it to the CCD.&lt;br/&gt;
3) This depends on how the test cases behave after the change. In the end, we need the FuzzyKMeans clustering tested via test case, this is what matters.&lt;/p&gt;</comment>
                            <comment id="13228248" author="paritoshranjan" created="Tue, 13 Mar 2012 06:37:21 +0000"  >&lt;p&gt;This refactoring is for clusterData phase and not for buildClusters phase.&lt;/p&gt;</comment>
                            <comment id="13229863" author="kanjilal" created="Thu, 15 Mar 2012 03:51:26 +0000"  >&lt;p&gt;Paritosh,&lt;br/&gt;
I&apos;m ready to start working on this issue, I was wondering if I could take a look at your implementation that you did for Mahout-981, has that been committed yet, I saw the patch being available so I guessed that it wasn&apos;t committed yet?&lt;/p&gt;</comment>
                            <comment id="13229886" author="paritoshranjan" created="Thu, 15 Mar 2012 04:40:38 +0000"  >&lt;p&gt;You can apply the patch on the trunk.&lt;/p&gt;</comment>
                            <comment id="13229904" author="kanjilal" created="Thu, 15 Mar 2012 05:22:46 +0000"  >&lt;p&gt;so I went through the patch applying process, I tried recompiling the code using mvn package and this is what I am seeing:&lt;/p&gt;


&lt;p&gt;/Applications/mahout/trunk/core/src/main/java/org/apache/mahout/clustering/dirichlet/DirichletClusterMapper.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;96,0&amp;#93;&lt;/span&gt; class, interface, or enum expected&lt;br/&gt;
/Applications/mahout/trunk/core/src/main/java/org/apache/mahout/clustering/dirichlet/DirichletClusterMapper.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;98,0&amp;#93;&lt;/span&gt; class, interface, or enum expected&lt;br/&gt;
/Applications/mahout/trunk/core/src/main/java/org/apache/mahout/clustering/dirichlet/DirichletClusterMapper.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;99,0&amp;#93;&lt;/span&gt; class, interface, or enum expected&lt;br/&gt;
/Applications/mahout/trunk/core/src/main/java/org/apache/mahout/clustering/dirichlet/DirichletClusterMapper.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;101,0&amp;#93;&lt;/span&gt; class, interface, or enum expected&lt;br/&gt;
/Applications/mahout/trunk/core/src/main/java/org/apache/mahout/clustering/dirichlet/DirichletClusterMapper.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;102,0&amp;#93;&lt;/span&gt; class, interface, or enum expected&lt;br/&gt;
/Applications/mahout/trunk/core/src/main/java/org/apache/mahout/clustering/dirichlet/DirichletClusterMapper.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;103,0&amp;#93;&lt;/span&gt; class, interface, or enum expected&lt;br/&gt;
/Applications/mahout/trunk/core/src/main/java/org/apache/mahout/clustering/dirichlet/DirichletClusterMapper.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;104,0&amp;#93;&lt;/span&gt; class, interface, or enum expected&lt;br/&gt;
/Applications/mahout/trunk/core/src/main/java/org/apache/mahout/clustering/dirichlet/DirichletClusterMapper.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;105,0&amp;#93;&lt;/span&gt; class, interface, or enum expected&lt;br/&gt;
/Applications/mahout/trunk/core/src/main/java/org/apache/mahout/clustering/dirichlet/DirichletClusterMapper.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;106,0&amp;#93;&lt;/span&gt; class, interface, or enum expected&lt;br/&gt;
/Applications/mahout/trunk/core/src/main/java/org/apache/mahout/clustering/dirichlet/DirichletClusterMapper.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;107,0&amp;#93;&lt;/span&gt; class, interface, or enum expected&lt;br/&gt;
/Applications/mahout/trunk/core/src/main/java/org/apache/mahout/clustering/dirichlet/DirichletClusterMapper.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;108,0&amp;#93;&lt;/span&gt; class, interface, or enum expected&lt;br/&gt;
/Applications/mahout/trunk/core/src/main/java/org/apache/mahout/clustering/dirichlet/DirichletClusterMapper.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;109,0&amp;#93;&lt;/span&gt; class, interface, or enum expected&lt;br/&gt;
/Applications/mahout/trunk/core/src/main/java/org/apache/mahout/clustering/dirichlet/DirichletClusterMapper.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;110,0&amp;#93;&lt;/span&gt; class, interface, or enum expected&lt;br/&gt;
/Applications/mahout/trunk/core/src/main/java/org/apache/mahout/clustering/dirichlet/DirichletClusterMapper.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;111,0&amp;#93;&lt;/span&gt; class, interface, or enum expected&lt;/p&gt;


&lt;p&gt;Thoughts on what I may be missing?&lt;/p&gt;</comment>
                            <comment id="13231406" author="paritoshranjan" created="Fri, 16 Mar 2012 17:27:33 +0000"  >&lt;p&gt;The code has been committed now, so you can take update instead of applying patch.&lt;/p&gt;</comment>
                            <comment id="13231414" author="kanjilal" created="Fri, 16 Mar 2012 17:36:14 +0000"  >&lt;p&gt;Thanks will do and will upload patch when I finish.&lt;/p&gt;</comment>
                            <comment id="13232455" author="kanjilal" created="Mon, 19 Mar 2012 05:20:40 +0000"  >&lt;p&gt;Paritosh,&lt;br/&gt;
I am in the middle of the refactoring and had some questions, I removed the clusterDataMR and clusterDataSeq and replaced this with the clusterData similar to what you had setup for the kmeans, however for the fuzzy kmeans there are two additional parameters convergenceDelta and m, I was wondering how and where to take these parameters into account, the signature of the new clusterData function is shown below:&lt;/p&gt;

&lt;p&gt;public static void clusterData(Path input,&lt;br/&gt;
                                 Path clustersIn,&lt;br/&gt;
                                 Path output,&lt;br/&gt;
                                 DistanceMeasure measure,&lt;br/&gt;
                                 double convergenceDelta,&lt;br/&gt;
                                 float m,&lt;br/&gt;
                                 boolean emitMostLikely,&lt;br/&gt;
                                 double threshold,&lt;br/&gt;
                                 boolean runSequential)&lt;br/&gt;
    throws IOException, ClassNotFoundException, InterruptedException {&lt;br/&gt;
	  if (log.isInfoEnabled()) {&lt;br/&gt;
	      log.info(&quot;Running Clustering&quot;);&lt;br/&gt;
	      log.info(&quot;Input: {} Clusters In: {} Out: {} Distance: {}&quot;, new Object[] &lt;/p&gt;
{input, clustersIn, output, measure}
&lt;p&gt;);&lt;br/&gt;
	    }&lt;br/&gt;
	    ClusterClassifier.writePolicy(new FuzzyKMeansClusteringPolicy(), clustersIn);&lt;br/&gt;
	    ClusterClassificationDriver.run(input, output, new Path(output, CLUSTERED_POINTS_DIRECTORY),&lt;br/&gt;
	        threshold, true, runSequential);&lt;/p&gt;

&lt;p&gt;  }&lt;/p&gt;


&lt;p&gt;Let me know your thoughts&lt;br/&gt;
Thanks&lt;/p&gt;</comment>
                            <comment id="13232997" author="kanjilal" created="Mon, 19 Mar 2012 23:02:47 +0000"  >&lt;p&gt;Never mind, figured it out, will be committing patch in the next few days.&lt;/p&gt;</comment>
                            <comment id="13235364" author="kanjilal" created="Thu, 22 Mar 2012 05:38:32 +0000"  >&lt;p&gt;Paritosh,&lt;br/&gt;
I&apos;m running into a strange issue, I&apos;ve refactored the FuzzyKMeansDriver similar to KMeansDriver and to use the FuzzyKMeansClusteringPolicy with the other logic being pretty much the same.  The unit test for FuzzyKMeansDriver when run individually passes, however the unit test fails when I go to run all the unit tests together.  I am attaching the clusterData function here, any ideas on this?&lt;/p&gt;

&lt;p&gt;Regards&lt;/p&gt;


&lt;p&gt;  public static void clusterData(Path input,&lt;br/&gt;
                                 Path clustersIn,&lt;br/&gt;
                                 Path output,&lt;br/&gt;
                                 DistanceMeasure measure,&lt;br/&gt;
                                 double convergenceDelta,&lt;br/&gt;
                                 float m,&lt;br/&gt;
                                 boolean emitMostLikely,&lt;br/&gt;
                                 double threshold,&lt;br/&gt;
                                 boolean runSequential)&lt;br/&gt;
    throws IOException, ClassNotFoundException, InterruptedException {    &lt;br/&gt;
    if (log.isInfoEnabled()) {&lt;br/&gt;
        log.info(&quot;Running Clustering&quot;);&lt;br/&gt;
        log.info(&quot;Input: {} Clusters In: {} Out: {} Distance: {}&quot;, new Object[] &lt;/p&gt;
{input, clustersIn, output, measure}
&lt;p&gt;);&lt;br/&gt;
      }&lt;br/&gt;
      ClusterClassifier.writePolicy(new FuzzyKMeansClusteringPolicy((double)m,convergenceDelta), clustersIn);&lt;br/&gt;
      ClusterClassificationDriver.run(input, output, new Path(output, CLUSTERED_POINTS_DIRECTORY),&lt;br/&gt;
          threshold, true, runSequential);&lt;/p&gt;

&lt;p&gt;  }&lt;/p&gt;</comment>
                            <comment id="13235423" author="paritoshranjan" created="Thu, 22 Mar 2012 07:44:04 +0000"  >&lt;p&gt;Debugging the issue might help you find the exact problem.&lt;/p&gt;</comment>
                            <comment id="13236752" author="paritoshranjan" created="Fri, 23 Mar 2012 16:33:36 +0000"  >&lt;p&gt;Saikat, I am expecting a patch from you on this issue. So, I am not working on it right now. I will inform if I pick up this issue.&lt;/p&gt;

&lt;p&gt;I hope you will be able fix the junit test cases with some debugging.&lt;/p&gt;</comment>
                            <comment id="13236761" author="kanjilal" created="Fri, 23 Mar 2012 16:37:33 +0000"  >&lt;p&gt;Great will do for sure, just was confused when looking at Mahout-994, thanks will keep debugging this.&lt;/p&gt;</comment>
                            <comment id="13240213" author="kanjilal" created="Wed, 28 Mar 2012 06:55:57 +0100"  >&lt;p&gt;Paritosh,&lt;br/&gt;
Some updates for you, finally got some time to work on this:&lt;/p&gt;

&lt;p&gt;1) I noticed that the following tests failing when run through the unix command line:&lt;br/&gt;
  testFuzzyKMeansSeqJob(org.apache.mahout.clustering.fuzzykmeans.TestFuzzyKmeansClustering): 0&lt;br/&gt;
  testFuzzyKMeansMRJob(org.apache.mahout.clustering.fuzzykmeans.TestFuzzyKmeansClustering): Cluster Classification Driver Job failed processing &lt;a href=&quot;file:/tmp/mahout-TestFuzzyKmeansClustering-4873685436613465088/points&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:/tmp/mahout-TestFuzzyKmeansClustering-4873685436613465088/points&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;2) When I run the TestFuzzyKmeansClustering individually the test always passes&lt;/p&gt;

&lt;p&gt;Is there a way to run the class under the eclipse debugger, I cant seem to get any of the breakpoints to be hit, I tried to debug it or running the tests above individually but they both seem to pass&lt;/p&gt;


&lt;p&gt;Any thoughts or ideas on things to try, I am getting ready to put in debug statements and wanted to check with you beforehand.&lt;/p&gt;

&lt;p&gt;One other thing I was wondering if its the right approach to model the FuzzyKMeansDriver like the KMeansDriver?&lt;/p&gt;

&lt;p&gt;Your input is much appreciated&lt;/p&gt;</comment>
                            <comment id="13242585" author="paritoshranjan" created="Fri, 30 Mar 2012 18:42:37 +0100"  >&lt;p&gt;Yes, you can debug that code in eclipse. No special settings is needed for debugging it, just debug the normal way. &lt;/p&gt;</comment>
                            <comment id="13243083" author="paritoshranjan" created="Sat, 31 Mar 2012 09:32:30 +0100"  >&lt;p&gt;Saikat, I am picking this up now since I need to fix this to commit &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-989&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/MAHOUT-989&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Would you like to help on &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-940&quot; title=&quot;Clusterdumper - Get rid of map based implementation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-940&quot;&gt;&lt;del&gt;MAHOUT-940&lt;/del&gt;&lt;/a&gt; or &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-966&quot; title=&quot;Mismatch in the number of points given by the clusterDumper and ClusterOutputPostProcessor&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-966&quot;&gt;&lt;del&gt;MAHOUT-966&lt;/del&gt;&lt;/a&gt;? These two issues are good candidates for starting contribution. Looking forward for your enthusiasm and contribution.&lt;/p&gt;</comment>
                            <comment id="13243163" author="kanjilal" created="Sat, 31 Mar 2012 15:24:34 +0100"  >&lt;p&gt;Paritosh,&lt;br/&gt;
Thanks for the update, sorry my availability is limited at the moment by my day job &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;))), anyways as I mentioned I got the tests working when run individually but ran into errors when I ran the tests together.   Let me know more about what changes you make for this one.   Meanwhile I will look at the other two issues and assign one (or both) of those to myself.&lt;/p&gt;</comment>
                            <comment id="13243290" author="hudson" created="Sat, 31 Mar 2012 21:57:05 +0100"  >&lt;p&gt;Integrated in Mahout-Quality #1418 (See &lt;a href=&quot;https://builds.apache.org/job/Mahout-Quality/1418/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Mahout-Quality/1418/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-984&quot; title=&quot;Refactor Fuzzy K Means Clustering into a separate post process with outlier pruning&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-984&quot;&gt;&lt;del&gt;MAHOUT-984&lt;/del&gt;&lt;/a&gt;. Refactored clustering out of FuzzyKMeansDriver using ClusterClassificationDriver.&lt;br/&gt;
All junit tests pass. (Revision 1307859)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
pranjan : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1307859&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1307859&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/mahout/trunk/core/src/main/java/org/apache/mahout/clustering/classify/ClusterClassificationDriver.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/main/java/org/apache/mahout/clustering/fuzzykmeans/FuzzyKMeansClusterMapper.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/main/java/org/apache/mahout/clustering/fuzzykmeans/FuzzyKMeansDriver.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/core/src/test/java/org/apache/mahout/clustering/fuzzykmeans/TestFuzzyKmeansClustering.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/integration/src/test/java/org/apache/mahout/clustering/TestClusterEvaluator.java&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/integration/src/test/java/org/apache/mahout/clustering/cdbw/TestCDbwEvaluator.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13243659" author="paritoshranjan" created="Sun, 1 Apr 2012 06:34:11 +0100"  >&lt;p&gt;Now clustering is being done using ClusterClassificationDriver. FuzzyK already had a threshold, which is being used for outlier removal. All the code is committed. &lt;/p&gt;

&lt;p&gt;Resolving the issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 13 Mar 2012 03:56:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>229055</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxy1rz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22439</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>