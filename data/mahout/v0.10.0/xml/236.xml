<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:17:33 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-236/MAHOUT-236.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-236] Cluster Evaluation Tools</title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-236</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt;Per &lt;a href=&quot;http://www.lucidimagination.com/search/document/10b562f10288993c/validating_clustering_output#9d3f6a55f4a91cb6&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.lucidimagination.com/search/document/10b562f10288993c/validating_clustering_output#9d3f6a55f4a91cb6&lt;/a&gt;, it would be great to have some utilities to help evaluate the effectiveness of clustering.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12444547">MAHOUT-236</key>
            <summary>Cluster Evaluation Tools</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jeastman">Jeff Eastman</assignee>
                                    <reporter username="gsingers">Grant Ingersoll</reporter>
                        <labels>
                    </labels>
                <created>Sun, 3 Jan 2010 22:02:51 +0000</created>
                <updated>Sat, 21 May 2011 04:19:03 +0100</updated>
                            <resolved>Fri, 24 Sep 2010 12:43:21 +0100</resolved>
                                                    <fixVersion>0.5</fixVersion>
                                    <component>Clustering</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12830766" author="robinanil" created="Sun, 7 Feb 2010 20:46:44 +0000"  >&lt;p&gt;Hi Grant, Sashi. do you have any patch ready.  I am available to  help out on this if, there is anything left for me.&lt;/p&gt;</comment>
                            <comment id="12832615" author="gsingers" created="Thu, 11 Feb 2010 18:30:18 +0000"  >&lt;p&gt;I don&apos;t have any, but should be pretty easy to do&lt;/p&gt;</comment>
                            <comment id="12858740" author="jeastman" created="Tue, 20 Apr 2010 02:10:25 +0100"  >&lt;p&gt;Here&apos;s a patch that adds a CDbw reference point MR job that iterates over the clustered points passed to it. I had to change the clustered point output formats to &lt;span class=&quot;error&quot;&gt;&amp;#91;clusterId :: VectorWritable&amp;#93;&lt;/span&gt; and that required other changes - mostly to unit tests. Patch includes three unit tests (Canopy, KMeans + partial Dirichlet) .&lt;/p&gt;

&lt;p&gt;It&apos;s a work in progress since I need to make some more changes to get the fuzzy kmeans tests to pass and the Dirichlet process doesnt actually cluster points.&lt;/p&gt;

&lt;p&gt;Run TestCDbwEvaluator to see some output from the reference point engine. Still need to compute the final CDbw.&lt;/p&gt;</comment>
                            <comment id="12858811" author="robinanil" created="Tue, 20 Apr 2010 11:45:50 +0100"  >&lt;p&gt;Great start Jeff, I will test it and see if the CDbw makes sense with Reuters data and post results&lt;/p&gt;</comment>
                            <comment id="12859027" author="jeastman" created="Tue, 20 Apr 2010 20:09:58 +0100"  >&lt;p&gt;I&apos;m running into a challenge integrating Fuzzy KMeans (and Dirichlet) into this evaluator. Currently the clustering step of the fuzzyK emits the vector as key and a FuzzyKMeansOutput writable as the value of the sequence file. This is backwards from the &lt;span class=&quot;error&quot;&gt;&amp;#91;clusterId :: VectorWritable&amp;#93;&lt;/span&gt; encoding that the patch uses for Canopy and KMeans. Also the Fuzzy...Output bean contains all of the clusters and the probability the vector is a member of each; rather large to be a key. &lt;/p&gt;

&lt;p&gt;For CDbw to find the reference points it really needs to iterate over &lt;span class=&quot;error&quot;&gt;&amp;#91;clusterId :: VectorWritable&amp;#93;&lt;/span&gt; pairs and this begs the question of what to do with fuzzy membership. I don&apos;t know if CDbw can be adjusted to handle fuzzyness in general but it will probably will work with some points assigned to more than one cluster. Does it make sense to apply a settable threshold to the clustering step so that all points with cluster membership probability &amp;gt; threshold would be assigned to that cluster?&lt;/p&gt;

&lt;p&gt;This would work also for Dirichlet. To implement in fuzzyK I would need to change the FuzzyKMeansClusterer and FuzzyKMeansClusterMapper to match the other clustering jobs.&lt;/p&gt;

&lt;p&gt;Does this make sense?&lt;/p&gt;</comment>
                            <comment id="12859040" author="tdunning" created="Tue, 20 Apr 2010 20:48:56 +0100"  >
&lt;p&gt;Typically any place where you have an algorithm that assumes a hard-membership, but what you have is a soft membership clustering algorithm, you can just pick the cluster with the strongest membership signal.  You don&apos;t need a threshold.&lt;/p&gt;

&lt;p&gt;Conversely, in applications where you need soft membership and have hard membership, you should insert (1-epsilon) for the one cluster the document is in and epsilon/(k-1) for the other k-1 clusters.  Epsilon should be tuned for best results on a corpus but should generally not be zero.&lt;/p&gt;

</comment>
                            <comment id="12859042" author="robinanil" created="Tue, 20 Apr 2010 20:50:22 +0100"  >&lt;p&gt;Yeah for partial membership, we can add multiple strategies like choose top K clusters or choose Top Cluster or choose Top Cluster and all clusters &amp;gt; threshold. The CDbw computation will have to be modified to use the partial weights that all. &lt;/p&gt;

&lt;p&gt;So I think your idea do make sense and whether or not it gives meaningful result, that we have to experiment and see.&lt;/p&gt;

&lt;p&gt;Robin&lt;/p&gt;</comment>
                            <comment id="12859084" author="jeastman" created="Tue, 20 Apr 2010 22:55:49 +0100"  >&lt;p&gt;I made some small changes to fuzzyK clustering and now the evaluator runs on its output too. The clustering produces some funny values for the clusters which I have not yet understood. A lot more of the other clustering unit tests are working too.&lt;/p&gt;

&lt;p&gt;Still a work in progress but representative points are being calculated for Canopy, Kmeans and now FuzzyKmeans.&lt;/p&gt;</comment>
                            <comment id="12859174" author="jeastman" created="Wed, 21 Apr 2010 04:01:48 +0100"  >&lt;p&gt;Added a mean shift clustering job and now it works for CDbw too.  On to Dirichlet...&lt;/p&gt;</comment>
                            <comment id="12859493" author="jeastman" created="Wed, 21 Apr 2010 20:25:00 +0100"  >&lt;p&gt;This patch runs on top of Sean&apos;s latest patch (r936453) and adds a DirichletClusterMapper and clustering step (most likely only) with tweaks to the models to support Cluster.id properly. The CDbw representative points are now calculated for all five clustering algorithms. More to test before I commit but this is pretty close.&lt;/p&gt;</comment>
                            <comment id="12860981" author="jeastman" created="Mon, 26 Apr 2010 17:27:18 +0100"  >&lt;p&gt;Ok, the above patch was committed on the 21st and is now in trunk. What remains for this issue is to complete the CDbw calculations from the now-computed representative points. Robin, do you have any implementation code for this or should I start from scratch?&lt;/p&gt;</comment>
                            <comment id="12861273" author="robinanil" created="Tue, 27 Apr 2010 08:13:58 +0100"  >&lt;p&gt;No Jeff, I dont have any implementations with me. Sorry for not replying earlier. Will have to start from scratch on it.&lt;/p&gt;</comment>
                            <comment id="12861481" author="jeastman" created="Tue, 27 Apr 2010 19:15:18 +0100"  >&lt;p&gt;Here&apos;s a new patch that has initial, probably incorrect,  implementations of the CDbw computations. The patch builds upon trunk and does not include the previous patch contents which are already committed. &lt;/p&gt;</comment>
                            <comment id="12868741" author="jeastman" created="Tue, 18 May 2010 18:07:05 +0100"  >&lt;p&gt;The patches have all been committed and CDbw produces some numbers that, without deeper analysis, appear to be reasonable for all the algorithms. I&apos;m inclined to close this issue unless others have concerns about this implementation&apos;s correctness, completeness, etc.&lt;/p&gt;</comment>
                            <comment id="12913614" author="jeastman" created="Wed, 22 Sep 2010 16:25:25 +0100"  >&lt;p&gt;With the recent commit (r1000021) of corner-case tests and a little more use, this is probably ready for 0.4&lt;/p&gt;</comment>
                            <comment id="12914423" author="srowen" created="Fri, 24 Sep 2010 12:43:21 +0100"  >&lt;p&gt;If I read this right, Jeff, you&apos;re done here? at least for 0.4 purposes?&lt;/p&gt;</comment>
                            <comment id="12914620" author="hudson" created="Fri, 24 Sep 2010 20:52:29 +0100"  >&lt;p&gt;Integrated in Mahout-Quality #322 (See &lt;a href=&quot;https://hudson.apache.org/hudson/job/Mahout-Quality/322/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://hudson.apache.org/hudson/job/Mahout-Quality/322/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-236&quot; title=&quot;Cluster Evaluation Tools&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-236&quot;&gt;&lt;del&gt;MAHOUT-236&lt;/del&gt;&lt;/a&gt; &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Implemented ClusterEvaluator that uses Mahout In Action code for&lt;br/&gt;
inter-cluster density and similar code for intra-cluster density over a set of &lt;br/&gt;
representative points, not the entire clustered data set.&lt;/li&gt;
	&lt;li&gt;Generalized CDbwDriver etc to RepresentativePointsDriver so any cluster&lt;br/&gt;
evaluator tool can use them&lt;/li&gt;
	&lt;li&gt;Added cluster pruning to CDbwEvaluator and ClusterEvaluator that removes&lt;br/&gt;
clusters which cause numerical instabilities in the evaluation&lt;/li&gt;
	&lt;li&gt;Added unit tests. All tests run&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12914857" author="hudson" created="Sat, 25 Sep 2010 19:26:41 +0100"  >&lt;p&gt;Integrated in Mahout-Quality #328 (See &lt;a href=&quot;https://hudson.apache.org/hudson/job/Mahout-Quality/328/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://hudson.apache.org/hudson/job/Mahout-Quality/328/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-236&quot; title=&quot;Cluster Evaluation Tools&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-236&quot;&gt;&lt;del&gt;MAHOUT-236&lt;/del&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Modified ClusterEvaluator to use the same dataset as the clustering Display examples.&lt;/li&gt;
	&lt;li&gt;Switched evaluator to run sequential versions of the clustering jobs to reduce execution time.&lt;/li&gt;
	&lt;li&gt;Fixed a clusteredPoints path bug in sequential Mean Shift clustering&lt;br/&gt;
All tests run&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12442985" name="MAHOUT-236.patch" size="21603" author="jeastman" created="Tue, 27 Apr 2010 19:15:18 +0100"/>
                            <attachment id="12442469" name="MAHOUT-236.patch" size="140265" author="jeastman" created="Wed, 21 Apr 2010 20:25:00 +0100"/>
                            <attachment id="12442384" name="MAHOUT-236.patch" size="109633" author="jeastman" created="Wed, 21 Apr 2010 04:01:48 +0100"/>
                            <attachment id="12442358" name="MAHOUT-236.patch" size="87040" author="jeastman" created="Tue, 20 Apr 2010 22:55:49 +0100"/>
                            <attachment id="12442249" name="MAHOUT-236.patch" size="71726" author="jeastman" created="Tue, 20 Apr 2010 02:10:25 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 7 Feb 2010 20:46:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9829</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxy6d3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23182</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>