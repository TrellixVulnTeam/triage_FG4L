<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:16:12 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-276/MAHOUT-276.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-276] Alpha_0 mixture parameter is not implemented correctly in Dirichlet</title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-276</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt;I looked over the R reference code and alpha_0 is used in two places, not one as in the current implementation:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;in state initialization &quot;beta = rbeta(K, 1, alpha_0)&quot; &lt;span class=&quot;error&quot;&gt;&amp;#91;K is the number of models&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;during state update &quot;beta&lt;span class=&quot;error&quot;&gt;&amp;#91;k&amp;#93;&lt;/span&gt; = rbeta(1, 1 + counts&lt;span class=&quot;error&quot;&gt;&amp;#91;k&amp;#93;&lt;/span&gt;, alpha_0 + N-counts&lt;span class=&quot;error&quot;&gt;&amp;#91;k&amp;#93;&lt;/span&gt;)&quot; &lt;span class=&quot;error&quot;&gt;&amp;#91;N is the cardinality of the sample vector and counts corresponds to totalCounts in the implementation&amp;#93;&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The value of beta&lt;span class=&quot;error&quot;&gt;&amp;#91;k&amp;#93;&lt;/span&gt; is then used in the Dirichlet distribution calculation which results in the mixture probabilities pi&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt;, for the iteration:&lt;/p&gt;

&lt;p&gt;   other = 1                                     # product accumulator&lt;br/&gt;
   for (k in 1:K) {&lt;br/&gt;
     pi&lt;span class=&quot;error&quot;&gt;&amp;#91;k&amp;#93;&lt;/span&gt; = beta&lt;span class=&quot;error&quot;&gt;&amp;#91;k&amp;#93;&lt;/span&gt; * other;                    # beta_k * prod_&lt;/p&gt;
{n&amp;lt;k}
&lt;p&gt; beta_n&lt;br/&gt;
     other = other * (1-beta&lt;span class=&quot;error&quot;&gt;&amp;#91;k&amp;#93;&lt;/span&gt;)&lt;br/&gt;
     }&lt;/p&gt;

&lt;p&gt;Alpha_0 determines the probability a point will go into an empty cluster, mostly during the first iteration.  During the first iteration, the total counts of all prior clusters are zero. Thus the Beta calculation that drives the Dirichlet distribution that determines the mixture probabilities degenerates to beta = rBeta(1, alpha_0). Clusters that end up with points for the next iteration will overwhelm the small constants (alpha_0, 1) and subsequent new mixture probabilities will derive from beta ~=  rBeta(count, total) which is the current implementation. All empty clusters will subsequently be driven by beta ~= rBeta(1, total) as alpha_0 is insignificant and count is 0.&lt;/p&gt;

&lt;p&gt;The current implementation ends up using beta = rBeta(alpha_0/k, alpha_0) as initial values during all iterations because the counts are all initialized to alpha_0/k. Close but no cigar.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12455581">MAHOUT-276</key>
            <summary>Alpha_0 mixture parameter is not implemented correctly in Dirichlet</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jeastman">Jeff Eastman</assignee>
                                    <reporter username="jeastman">Jeff Eastman</reporter>
                        <labels>
                    </labels>
                <created>Sun, 7 Feb 2010 18:16:54 +0000</created>
                <updated>Sat, 21 May 2011 04:24:18 +0100</updated>
                            <resolved>Mon, 8 Feb 2010 23:15:19 +0000</resolved>
                                    <version>0.2</version>
                                    <fixVersion>0.2</fixVersion>
                                    <component>Clustering</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12830740" author="jeastman" created="Sun, 7 Feb 2010 18:42:52 +0000"  >&lt;p&gt;The fix involves adding alpha_0 as an argument to rDirichlet and using it in the rBeta arguments:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; Vector rDirichlet(Vector totalCounts, &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt; alpha_0) {
    Vector pi = totalCounts.like();
    &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt; total = totalCounts.zSum();
    &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt; remainder = 1.0;
    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; k = 0; k &amp;lt; pi.size(); k++) {
      &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt; countK = totalCounts.get(k);
      total -= countK;
      &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt; betaK = rBeta(1 + countK, &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.max(0, alpha_0 + total));
      &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt; piK = betaK * remainder;
      pi.set(k, piK);
      remainder -= piK;
    }
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; pi;
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And making some small changes to DirichletState and DirichletMapper to pass in the specified alpha_0 value. It also changes DirichletState&apos;s initialization of prior model totalCounts to become 0.0 vs alpha_0/k&lt;/p&gt;</comment>
                            <comment id="12831187" author="jeastman" created="Mon, 8 Feb 2010 23:15:19 +0000"  >&lt;p&gt;r907842 made the above changes so I&apos;m closing this issue&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9789</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxy647:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23142</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>