<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:27:53 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-397/MAHOUT-397.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-397] SparseVectorsFromSequenceFiles only outputs a single vector file</title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-397</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt;When running LDA via build-reuters.sh on a 3-node Hadoop cluster, I&apos;ve noticed that there is only a single vector file produced by the utility preprocessing steps. This means LDA (and other clustering too) can only use a single mapper no matter how large the cluster is. Investigating, it seems that the program argument (-nr) for setting the number of reducers - and hence the number of output files - is not propagated to the final stages where the output vectors are created.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12464985">MAHOUT-397</key>
            <summary>SparseVectorsFromSequenceFiles only outputs a single vector file</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jeastman">Jeff Eastman</assignee>
                                    <reporter username="jeastman">Jeff Eastman</reporter>
                        <labels>
                    </labels>
                <created>Thu, 20 May 2010 02:29:21 +0100</created>
                <updated>Sun, 31 Oct 2010 15:49:30 +0000</updated>
                            <resolved>Wed, 22 Sep 2010 08:44:28 +0100</resolved>
                                    <version>0.3</version>
                                    <fixVersion>0.4</fixVersion>
                                    <component>Integration</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12869443" author="jeastman" created="Thu, 20 May 2010 02:41:17 +0100"  >&lt;p&gt;This patch seems to resolve the issue by propagating the number of reducers argument through to the back-end processing steps where the actual output vectors are produced. It also includes a slight modification to SequenceFilesFromDirectory to remove chunk-size upsizing to 64mb which allows Reuters data to be split into 3 smaller files to improve processing. All unit tests run.&lt;/p&gt;

&lt;p&gt;Files modified:&lt;br/&gt;
M       core/src/main/java/org/apache/mahout/clustering/lda/LDADriver.java&lt;br/&gt;
M       utils/src/test/java/org/apache/mahout/utils/vectors/text/DictionaryVectorizerTest.java&lt;br/&gt;
M       utils/src/main/java/org/apache/mahout/utils/vectors/text/DictionaryVectorizer.java&lt;br/&gt;
M       utils/src/main/java/org/apache/mahout/utils/vectors/common/PartialVectorMerger.java&lt;br/&gt;
M       utils/src/main/java/org/apache/mahout/utils/vectors/tfidf/TFIDFConverter.java&lt;br/&gt;
M       utils/src/main/java/org/apache/mahout/text/SparseVectorsFromSequenceFiles.java&lt;br/&gt;
M       examples/src/main/java/org/apache/mahout/text/SequenceFilesFromDirectory.java&lt;br/&gt;
M       examples/bin/build-reuters.sh&lt;/p&gt;

&lt;p&gt;The attached build-reuters.sh runs LDA iterations in about 1.5 min vs. 5.5 min with a single vector file on a 3-node cluster using 3 mappers and 2-3 reducers for the vectorization. I will commit it in a day or so but want some more eyeballs on it since this is new code for me.&lt;/p&gt;</comment>
                            <comment id="12869444" author="jeastman" created="Thu, 20 May 2010 02:43:03 +0100"  >&lt;p&gt;patch submitted runs on r946508&lt;/p&gt;</comment>
                            <comment id="12913442" author="srowen" created="Wed, 22 Sep 2010 08:44:28 +0100"  >&lt;p&gt;Sounds like Jeff fixed it.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12445011" name="MAHOUT-397.patch" size="13801" author="jeastman" created="Thu, 20 May 2010 02:41:17 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 22 Sep 2010 07:44:28 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9667</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxy5db:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23021</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>