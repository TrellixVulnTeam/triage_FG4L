<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:22:06 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-994/MAHOUT-994.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-994] mahout script shouldn&apos;t rely on HADOOP_HOME since that was deprecated in all major Hadoop branches</title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-994</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt;Mahout should follow the Pig and Hive example and not rely explicitly on HADOOP_HOME and HADOOP_CONF_DIR&lt;/p&gt;</description>
                <environment></environment>
        <key id="12547413">MAHOUT-994</key>
            <summary>mahout script shouldn&apos;t rely on HADOOP_HOME since that was deprecated in all major Hadoop branches</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tcp">tom pierce</assignee>
                                    <reporter username="rvs">Roman Shaposhnik</reporter>
                        <labels>
                    </labels>
                <created>Wed, 21 Mar 2012 16:56:29 +0000</created>
                <updated>Sat, 16 Jun 2012 10:35:15 +0100</updated>
                            <resolved>Wed, 2 May 2012 19:57:36 +0100</resolved>
                                    <version>0.6</version>
                                    <fixVersion>0.7</fixVersion>
                                    <component>Integration</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13234521" author="dlyubimov" created="Wed, 21 Mar 2012 17:13:08 +0000"  >&lt;p&gt;What it should be relied on in new Hadoop branches to find the hadoop client libraries and settings?&lt;/p&gt;

&lt;p&gt;Could you please describe the solution?&lt;/p&gt;</comment>
                            <comment id="13235684" author="rvs" created="Thu, 22 Mar 2012 16:22:18 +0000"  >&lt;p&gt;Sure. In fact, let me use Pig as a good example of how to handle these cases (scroll to line #162):&lt;br/&gt;
   &lt;a href=&quot;http://svn.apache.org/viewvc/pig/trunk/bin/pig?revision=1228547&amp;amp;view=markup&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc/pig/trunk/bin/pig?revision=1228547&amp;amp;view=markup&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Given that Pig, just like Mahout supports a local mode where it doesn&apos;t need Hadoop at all, I think&lt;br/&gt;
if we can agree on the approach they are taking I can submit a patch for you guys, essenntially&lt;br/&gt;
replacing lines #202-243 of:&lt;br/&gt;
   &lt;a href=&quot;http://svn.apache.org/viewvc/mahout/trunk/bin/mahout?revision=1186718&amp;amp;view=markup&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc/mahout/trunk/bin/mahout?revision=1186718&amp;amp;view=markup&lt;/a&gt;&lt;br/&gt;
with the code similar to what Pig has.&lt;/p&gt;

&lt;p&gt;What do you think?&lt;/p&gt;</comment>
                            <comment id="13235796" author="dlyubimov" created="Thu, 22 Mar 2012 17:49:03 +0000"  >&lt;p&gt;looking at the pig code and your references in terms of lines, i am not sure i can see how they add $HADOOP_HOME/lib files to the classpath. I also see that they still use HADOOP_CONF_DIR to add to classpath in order to add default hadoop configuration resources.&lt;/p&gt;

&lt;p&gt;And finally your reference points to initialization of HADOOP_BIN which again i am not sure how they use it further along as i don&apos;t see that it is being used to form hadoop classpath or configuration anywhere further along. I am not sure &apos;which hadoop&apos; can be relied upon so much to deduce libraries and conf reliably as different distros tend to place binaries and configurations into different actual locations (such as /usr/bin/hadoop) which are linked up into actual hadoop home layout somewhere else. That&apos;s why i asked you to clarify how you want to do it since i am still dubious &quot;which&quot; can be reliably used to deduce HADOOP_HOME.&lt;/p&gt;</comment>
                            <comment id="13235814" author="rvs" created="Thu, 22 Mar 2012 18:02:38 +0000"  >&lt;p&gt;There&apos;s no need to add $HADOOP_HOME/lib to the classpath as long as you&apos;re using hadoop itself as a launcher script. In fact, it is dangerous to assume that there&apos;s $HADOOP_HOME/lib to begin with. This is definitely not the case with Hadoop 0.23 and might not be the case with Hadoop 1.X&lt;/p&gt;

&lt;p&gt;Explicit setting of HADOOP_CONF_DIR needs to be dropped from Pig script and I will not recommend keeping it in Mahout. Once again &amp;#8211; using hadoop launcher script itself is the best way to add these things to the proper places in th CP. If you try to do it explicitly you&apos;re essentially second guessing hadoop implementation and your scripts become brittle.&lt;/p&gt;

&lt;p&gt;&apos;which&apos; is definitely quite reliable. In fact, if you look at Pig, Hive and HBase they have all transitioned to using this technique to get the Hadoop user wants. The only difference is defaults (some projects prefer hadoop from the PATH to override anything else, some prefer it the other way). Here&apos;s another example of how HBase does it (scroll to line #219):&lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/viewvc/hbase/trunk/bin/hbase?revision=1296661&amp;amp;view=markup&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc/hbase/trunk/bin/hbase?revision=1296661&amp;amp;view=markup&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;One again &amp;#8211; if you try to deduce the libraries yourself &amp;#8211; your scripts become brittle. You can &lt;b&gt;only&lt;/b&gt; rely on hadoop implementation to set these things up for you. This is an uncomfortable truth of at least 3 different incompatible Hadoop implementations being actively deployed in the wild.&lt;/p&gt;

&lt;p&gt;Does it make sense?&lt;/p&gt;</comment>
                            <comment id="13235871" author="dlyubimov" created="Thu, 22 Mar 2012 18:44:28 +0000"  >&lt;p&gt;I am not sure we use hadoop executable to launch Mahout stuff. there are definitely cases where we don&apos;t use Hadoop at all (but the code generally does assume hadoop library avaiability on classpath, otherwise some classes and strategies may break with ClassNotFoundException during load). &lt;/p&gt;

&lt;p&gt;I mean, we are not bound by having to launch any MR stuff.&lt;/p&gt;

&lt;p&gt;What is your suggestion to handle &quot;hadoopless&quot; cases and avoid ClassNotFound?&lt;/p&gt;</comment>
                            <comment id="13235879" author="dlyubimov" created="Thu, 22 Mar 2012 18:49:31 +0000"  >&lt;p&gt;But you are right, it looks like we are not guessing hadoop libraries for mahout local cases. i guess if what i&apos;ve described, really happens, then it will fail.&lt;/p&gt;</comment>
                            <comment id="13235891" author="dlyubimov" created="Thu, 22 Mar 2012 18:58:40 +0000"  >&lt;p&gt;I think it&apos;s a little bit disconcerting as we have a lot of utility classes that may be using hadoop classes even locally (e.g. reading or writing local sequence files). Can you suggest a strategy for Mahout local mode and still be able to bind to hadoop I/O classes?&lt;/p&gt;</comment>
                            <comment id="13236249" author="lancenorskog" created="Fri, 23 Mar 2012 01:14:56 +0000"  >&lt;p&gt;Don&apos;t the job jars pack up Hadoop libs like all the other dependencies? &lt;/p&gt;</comment>
                            <comment id="13240015" author="tcp" created="Tue, 27 Mar 2012 23:31:37 +0100"  >&lt;p&gt;It would make a lot of sense to me to unify with other Hadoop projects and start using the hadoop launcher script whenever we can - no need to maintain a custom reinvented wheel there.&lt;/p&gt;

&lt;p&gt;As far as the job jar is concerned, I don&apos;t think it&apos;s customary to include Hadoop libs - seems redundant, and potentially dangerous when there are mismatched versions of classes in the classpath.  I know there are ways to specify/determine which versions of things to use and make this kind of thing work, but it has been my experience that it always becomes overcomplicated after a while - it is just bad juju.&lt;/p&gt;

&lt;p&gt;Looks like the Hadoop classes in examples/target/dependency/hadoop-core-0.20.204.0.jar are tacked onto the classpath inside bin/mahout, which is why standalone mode currently &apos;just works&apos; on a box with no hadoop install.  This seems less than ideal, though I can see why it is done.&lt;/p&gt;</comment>
                            <comment id="13240031" author="rvs" created="Tue, 27 Mar 2012 23:57:02 +0100"  >&lt;p&gt;@Dmitriy&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I am not sure we use hadoop executable to launch Mahout stuff. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Seems like you do: &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    (*)
      echo &quot;MAHOUT-JOB: $MAHOUT_JOB&quot;
      export HADOOP_CLASSPATH=$MAHOUT_CONF_DIR:${HADOOP_CLASSPATH}
      exec &quot;$HADOOP_HOME/bin/hadoop&quot; --config $HADOOP_CONF_DIR jar $MAHOUT_JOB $CLASS &quot;$@&quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;&lt;p&gt;I mean, we are not bound by having to launch any MR stuff.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Understood. Pig also has local mode where it doesn&apos;t have to have any access to Hadoop at all&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I think it&apos;s a little bit disconcerting as we have a lot of utility classes that may be using hadoop classes even locally (e.g. reading or writing local sequence files). Can you suggest a strategy for Mahout local mode and still be able to bind to hadoop I/O classes?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I believe there are 2 issue at play here:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;what to do for the local mode&lt;/li&gt;
	&lt;li&gt;what to do for the MapReduce mode&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;For both cases you&apos;ll have to make sure that you segregate bundled hadoop&lt;br/&gt;
dependencies into a separate location in your installation tree so that&lt;br/&gt;
you can easily add/remove those from your CLASSPATH. Lets call it $HADOOP_DEPS_DIR&lt;br/&gt;
(it must be different from your ususal lib subdir)&lt;/p&gt;

&lt;p&gt;1. Local mode:&lt;/p&gt;

&lt;p&gt;The very fact that you&apos;re running in local mode will be governed by $MAHOUT_LOCAL&lt;br/&gt;
(regardless of whether HADOOP_HOME is empty or not). &lt;/p&gt;

&lt;p&gt;When $MAHOUT_LOCAL is set you&apos;ll try to see whether you can run &apos;hadoop classpath&apos;&lt;br/&gt;
(see how HADOOP_HOME/HADOOP_PREFIX factors into this below). If you can you&apos;ll add &lt;br/&gt;
the value it returns to the CLASSPATH. If it is not available you&apos;ll add $HADOOP_DEPS_DIR &lt;br/&gt;
to the classpath.&lt;/p&gt;

&lt;p&gt;2. MapReduce mode&lt;/p&gt;

&lt;p&gt;For the MapReduce mode, I would argue that the best option is to follow the suit of Pig/Hive/HBase, etc and rely on HADOOP_HOME &lt;b&gt;only&lt;/b&gt; as a fall back value if hadoop is not resolved from the PATH by default. E.g.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;HADOOP_LAUNCHER=$(PATH=&quot;${HADOOP_HOME:-${HADOOP_PREFIX}}/bin:$PATH&quot; which hadoop 2&amp;gt;/dev/null)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;then you&apos;ll need to replace all the explicit calls to $HADOOP_HOME/bin/... with the $HADOOP_LAUNCHER. I will also strongly recommend against guessing the value of HADOOP_CONF_DIR, since I don&apos;t think it buys you anything at all (the hadoop launcher script regardless of whether it is coming from honors HADOOP_CONF_DIR as much as it does --config).&lt;/p&gt;

&lt;p&gt;That will take care of the MapReduce case.&lt;/p&gt;

&lt;p&gt;If you agree with the proposal I can supply a patch shortly.&lt;/p&gt;</comment>
                            <comment id="13240040" author="dlyubimov" created="Wed, 28 Mar 2012 00:06:58 +0100"  >&lt;p&gt;Sounds good to me. &lt;/p&gt;

&lt;p&gt;The only concern i have is to verify that local stuff is not broken when run from command line. I don&apos;t think this is verified by build unit tests. The history of local mode in Mahout is a little bit out of my scope, i will need another person to assertain the change for the local mode.&lt;/p&gt;

&lt;p&gt;But what you are saying sounds very benign to me. Thank you for doing this. &lt;br/&gt;
When you submit a patch, do you think you could also create a review request for Mahout? Hopefully this will encourage another pair of eyes to look at it. if nobody responds, let me know, i will try to locate another pair of eyes for it. &lt;/p&gt;

&lt;p&gt;Again, thank you for doing this, Hadoop best practices may sometimes be hard to figure.&lt;/p&gt;</comment>
                            <comment id="13240042" author="dlyubimov" created="Wed, 28 Mar 2012 00:08:22 +0100"  >&lt;p&gt;PS review request = i mean at reviews.apache.org .&lt;/p&gt;</comment>
                            <comment id="13240045" author="dlyubimov" created="Wed, 28 Mar 2012 00:10:50 +0100"  >&lt;p&gt;@Tom, &lt;/p&gt;

&lt;p&gt;perhaps you could be a such second review person on this issue? thanks. &lt;/p&gt;

&lt;p&gt;I agree attaching hadoop libraries to job file is dangerous. This should be compile-time dependency only, but runtime policy should be &quot;provided&quot;.&lt;/p&gt;</comment>
                            <comment id="13240066" author="tcp" created="Wed, 28 Mar 2012 00:52:09 +0100"  >&lt;p&gt;You bet - happy to review.&lt;/p&gt;</comment>
                            <comment id="13245923" author="rvs" created="Wed, 4 Apr 2012 01:24:27 +0100"  >&lt;p&gt;Sorry took me a bit longer than anticipated.&lt;/p&gt;</comment>
                            <comment id="13245925" author="jiraposter@reviews.apache.org" created="Wed, 4 Apr 2012 01:28:20 +0100"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/4632/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/4632/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for mahout and tom pierce.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Patch according to the JIRA discussion.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-994&quot; title=&quot;mahout script shouldn&amp;#39;t rely on HADOOP_HOME since that was deprecated in all major Hadoop branches&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-994&quot;&gt;&lt;del&gt;MAHOUT-994&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-994&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/MAHOUT-994&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/bin/mahout 1309189 &lt;br/&gt;
  trunk/distribution/src/main/assembly/bin.xml 1309189 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/4632/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/4632/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;build and execution in various modes&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Roman&lt;/p&gt;
</comment>
                            <comment id="13262230" author="jiraposter@reviews.apache.org" created="Thu, 26 Apr 2012 00:08:17 +0100"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/4632/#review7247&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/4632/#review7247&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;p&gt;Looks good aside from the one issue below.  &lt;/p&gt;


&lt;p&gt;trunk/bin/mahout&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/4632/#comment16017&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/4632/#comment16017&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Think we need to omit HADOOP_BINARY_CLASSPATH here; otherwise I get an error due to my cluster and Mahout HDFS libs having different API versions when I run with MAHOUT_LOCAL set.  &lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;tom&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2012-04-04 00:26:36, Roman Shaposhnik wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/4632/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/4632/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2012-04-04 00:26:36)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for mahout and tom pierce.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Patch according to the JIRA discussion.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-994&quot; title=&quot;mahout script shouldn&amp;#39;t rely on HADOOP_HOME since that was deprecated in all major Hadoop branches&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-994&quot;&gt;&lt;del&gt;MAHOUT-994&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-994&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/MAHOUT-994&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/bin/mahout 1309189 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/distribution/src/main/assembly/bin.xml 1309189 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/4632/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/4632/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;build and execution in various modes&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Roman&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13263968" author="tcp" created="Fri, 27 Apr 2012 22:13:56 +0100"  >&lt;p&gt;Anyone object the most recent patch?  It&apos;s a tiny edit off Roman&apos;s submission (as described on Reviewboard).  Will plan to commit early next week if nobody pipes up.&lt;/p&gt;</comment>
                            <comment id="13264166" author="rvs" created="Sat, 28 Apr 2012 01:44:30 +0100"  >&lt;p&gt;Tom, thanks a million for taking care of this! I&apos;d say the patch looks good (although I don&apos;t have a binding +1 mojo &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;).&lt;/p&gt;</comment>
                            <comment id="13264177" author="dlyubimov" created="Sat, 28 Apr 2012 02:02:23 +0100"  >&lt;p&gt;not having tested it , it looks good. One question though it looks like hadoop dependency is included in assembly? It is only used when in local mode only? or it also makes its way into classpath even in distributed mode?&lt;/p&gt;

&lt;p&gt;I am just worried if it may interfere with running Mahout with a third-party hadoop distribution.&lt;/p&gt;</comment>
                            <comment id="13265026" author="rvs" created="Mon, 30 Apr 2012 17:54:17 +0100"  >&lt;p&gt;Dmitriy, the bundled hadoop dependencies are only supposed to be used in local mode.&lt;/p&gt;</comment>
                            <comment id="13265104" author="dlyubimov" created="Mon, 30 Apr 2012 19:49:06 +0100"  >&lt;p&gt;sounds good then.&lt;/p&gt;</comment>
                            <comment id="13266938" author="hudson" created="Wed, 2 May 2012 22:45:55 +0100"  >&lt;p&gt;Integrated in Mahout-Quality #1456 (See &lt;a href=&quot;https://builds.apache.org/job/Mahout-Quality/1456/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Mahout-Quality/1456/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/MAHOUT-994&quot; title=&quot;mahout script shouldn&amp;#39;t rely on HADOOP_HOME since that was deprecated in all major Hadoop branches&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAHOUT-994&quot;&gt;&lt;del&gt;MAHOUT-994&lt;/del&gt;&lt;/a&gt; - bin/mahout should not rely on HADOOP_HOME (Revision 1333154)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
tcp : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1333154&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1333154&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/mahout/trunk/bin/mahout&lt;/li&gt;
	&lt;li&gt;/mahout/trunk/distribution/src/main/assembly/bin.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12524919" name="MAHOUT-994.patch" size="3405" author="tcp" created="Fri, 27 Apr 2012 22:10:17 +0100"/>
                            <attachment id="12521248" name="MAHOUT-994.patch.txt" size="3463" author="rvs" created="Wed, 4 Apr 2012 01:24:27 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 21 Mar 2012 17:13:08 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>232571</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxy1pr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22429</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>