<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:20:43 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MAHOUT-15/MAHOUT-15.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MAHOUT-15] Investigate Mean Shift Clustering</title>
                <link>https://issues.apache.org/jira/browse/MAHOUT-15</link>
                <project id="12310751" key="MAHOUT">Mahout</project>
                    <description>&lt;p&gt;&quot;The mean shift algorithm is a nonparametric clustering technique which does not require prior knowledge of the number of clusters, and does not constrain the shape of the clusters.&quot; &lt;a href=&quot;http://homepages.inf.ed.ac.uk/rbf/CVonline/LOCAL_COPIES/TUZEL1/MeanShift.pdf&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://homepages.inf.ed.ac.uk/rbf/CVonline/LOCAL_COPIES/TUZEL1/MeanShift.pdf&lt;/a&gt; &lt;/p&gt;

&lt;p&gt;Investigate implementing mean shift clustering using Hadoop&lt;/p&gt;</description>
                <environment></environment>
        <key id="12390803">MAHOUT-15</key>
            <summary>Investigate Mean Shift Clustering</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jeastman">Jeff Eastman</assignee>
                                    <reporter username="jeastman">Jeff Eastman</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Mar 2008 01:00:03 +0000</created>
                <updated>Sat, 21 May 2011 04:24:15 +0100</updated>
                            <resolved>Tue, 15 Apr 2008 02:18:34 +0100</resolved>
                                                    <fixVersion>0.1</fixVersion>
                                    <component>Clustering</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12577662" author="jeastman" created="Wed, 12 Mar 2008 01:08:41 +0000"  >&lt;p&gt;I&apos;ve implemented a minimal, non-MR version of the algorithm below to see how it would behave. The operant code is in TestMeanShift.testMeanShift() and MeanShiftCanopy.mergeCanopy(). The rest of the MR classes are stuff I copied from Canopy so you can ignore them.&lt;/p&gt;

&lt;p&gt;The TestMeanShift.setUp() method builds a 100x3 point matrix that represents a 10x10 image with the diagonal intensified (i.e. a &apos;\&apos; character mask). Then testMeanShift()creates an initial set of 100 canopies from it and iterates over the canopies merging their centroids into a new set of canopies until the canopy centers do not change any more (&amp;lt; delta). Finally it prints out the canopies that were found for each cell in the original image.&lt;/p&gt;

&lt;p&gt;Every time two canopies come within T2 distance of each other they merge, reducing the number of canopies. The original points that were bound to each canopy are also merged so that, at the end of the iteration, the original&lt;br/&gt;
points are available in their respective canopies.&lt;/p&gt;

&lt;p&gt;Depending upon the values chosen for T1 and T2, the process either converges quickly or slowly. The loop seems to erminate consistently and it does seem to cluster the input coherently.&lt;/p&gt;

&lt;p&gt;I hesitate to call this MeanShift but it is something similar that follows the same general algorithm, as I  understand it at least. I hope you find it interesting.&lt;/p&gt;


&lt;p&gt;&amp;gt; ----&lt;del&gt;Original Message&lt;/del&gt;----&lt;br/&gt;
&amp;gt; From: Jeff Eastman &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;mailto:jeff@windwardsolutions.com&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;jeff@windwardsolutions.com&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/mail_small.gif&quot; height=&quot;12&quot; width=&quot;13&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;br/&gt;
&amp;gt; Sent: Monday, March 10, 2008 9:09 PM&lt;br/&gt;
&amp;gt; To: mahout-dev@lucene.apache.org&lt;br/&gt;
&amp;gt; Subject: RE: Google Summer of Code&lt;span class=&quot;error&quot;&gt;&amp;#91;esp. More Clustering&amp;#93;&lt;/span&gt;&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; Hi Matthew,&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; I&apos;d like to pursue that canopy thought a little further and mix it in with&lt;br/&gt;
&amp;gt; your sub sampling idea. Optimizing can come later, once we figure out how&lt;br/&gt;
&amp;gt; to&lt;br/&gt;
&amp;gt; do mean-shift in M/R at all. How about this?&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; 1. Each mean-shift iteration consists of a canopy clustering of all the&lt;br/&gt;
&amp;gt; points, with T1 set to the desired sampling resolution (h?) and T2 set to&lt;br/&gt;
&amp;gt; 1.&lt;br/&gt;
&amp;gt; This will create one canopy centered on each point in the input set which&lt;br/&gt;
&amp;gt; contains all of its neighbors that are close enough to influence its next&lt;br/&gt;
&amp;gt; position in its trajectory (the window?).&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; 2. We then calculate the centroid of each canopy (that&apos;s actually done&lt;br/&gt;
&amp;gt; already by the canopy cluster reducer). Is this centroid not also the&lt;br/&gt;
&amp;gt; weighted average you desire for the next location of the point at its&lt;br/&gt;
&amp;gt; center?&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; 3. As the computation proceeds, the canopies will collapse together as&lt;br/&gt;
&amp;gt; their&lt;br/&gt;
&amp;gt; various centroids move inside the T2=1 radius. At the point when all&lt;br/&gt;
&amp;gt; points&lt;br/&gt;
&amp;gt; have converged, the remaining canopies will be the mean-shift clusters&lt;br/&gt;
&amp;gt; (modes?) of the dataset and their contents will be the migrated points in&lt;br/&gt;
&amp;gt; each cluster.&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; 4. If each original point is duplicated as its own payload, then the&lt;br/&gt;
&amp;gt; iterations will produce clusters of migrated points whose payloads are the&lt;br/&gt;
&amp;gt; final contents of each cluster.&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; Can you wrap your mind around this enough to validate my assumptions?&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; Jeff&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; &amp;gt; ----&lt;del&gt;Original Message&lt;/del&gt;----&lt;br/&gt;
&amp;gt; &amp;gt; From: Matthew Riley &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;mailto:mriley@gmail.com&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;mriley@gmail.com&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/mail_small.gif&quot; height=&quot;12&quot; width=&quot;13&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;br/&gt;
&amp;gt; &amp;gt; Sent: Monday, March 10, 2008 5:58 PM&lt;br/&gt;
&amp;gt; &amp;gt; To: mahout-dev@lucene.apache.org&lt;br/&gt;
&amp;gt; &amp;gt; Subject: Re: Google Summer of Code&lt;span class=&quot;error&quot;&gt;&amp;#91;esp. More Clustering&amp;#93;&lt;/span&gt;&lt;br/&gt;
&amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; Hi Jeff-&lt;br/&gt;
&amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; I think your &quot;basin of attraction&quot; understanding is right on. I also&lt;br/&gt;
&amp;gt; like&lt;br/&gt;
&amp;gt; &amp;gt; your ideas for distributing the mean-shift iterations by following a&lt;br/&gt;
&amp;gt; &amp;gt; canopy-style method. My intuition was a little different, and I would&lt;br/&gt;
&amp;gt; like&lt;br/&gt;
&amp;gt; &amp;gt; to hear your ideas on it:&lt;br/&gt;
&amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; Just to make sure we&apos;re on the same page....&lt;br/&gt;
&amp;gt; &amp;gt; Say we have 1 million point in our original dataset, and we want to&lt;br/&gt;
&amp;gt; &amp;gt; cluster&lt;br/&gt;
&amp;gt; &amp;gt; by mean-shift. At each iteration of mean-shift we subsample (say) 10,000&lt;br/&gt;
&amp;gt; &amp;gt; points from the original dataset and follow the gradient of those points&lt;br/&gt;
&amp;gt; &amp;gt; to&lt;br/&gt;
&amp;gt; &amp;gt; the region of highest density (and as we saw from the paper, rather than&lt;br/&gt;
&amp;gt; &amp;gt; calculate the gradient itself we can equivalently compute the weighted&lt;br/&gt;
&amp;gt; &amp;gt; average of our subsampled points and move the centroid to that point).&lt;br/&gt;
&amp;gt; &amp;gt; This&lt;br/&gt;
&amp;gt; &amp;gt; part seems fairly straightforward to distribute - we just send a&lt;br/&gt;
&amp;gt; different&lt;br/&gt;
&amp;gt; &amp;gt; subsampled set to each processor and each processor returns the final&lt;br/&gt;
&amp;gt; &amp;gt; centroid for that set.&lt;br/&gt;
&amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; The problem I see is that 10,000 points (or whatever value we choose),&lt;br/&gt;
&amp;gt; may&lt;br/&gt;
&amp;gt; &amp;gt; be too much for a single processor if we have to compute the distance to&lt;br/&gt;
&amp;gt; &amp;gt; every single point when we compute the weighted mean. My thought here&lt;br/&gt;
&amp;gt; was&lt;br/&gt;
&amp;gt; &amp;gt; to&lt;br/&gt;
&amp;gt; &amp;gt; exploit the fact that we&apos;re using a kernel function (gaussian, uniform,&lt;br/&gt;
&amp;gt; &amp;gt; etc.) in the weighted mean calculation and that kernel will have a set&lt;br/&gt;
&amp;gt; &amp;gt; radius. Because the radius is static, it may be easy to (quickly)&lt;br/&gt;
&amp;gt; identify&lt;br/&gt;
&amp;gt; &amp;gt; the points that we must consider in the calculation (i.e. those within&lt;br/&gt;
&amp;gt; the&lt;br/&gt;
&amp;gt; &amp;gt; radius) by using a locality sensitive hashing scheme, tuned to that&lt;br/&gt;
&amp;gt; &amp;gt; particular radius. Of course, the degree of advantage we get from this&lt;br/&gt;
&amp;gt; &amp;gt; method will depend on the data itself, but intuitively I think we will&lt;br/&gt;
&amp;gt; &amp;gt; usually see a dramatic improvement.&lt;br/&gt;
&amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; Honestly, I should do more background work developing this idea, and&lt;br/&gt;
&amp;gt; &amp;gt; possibly try a matlab implementation to test the feasibility. This&lt;br/&gt;
&amp;gt; sounds&lt;br/&gt;
&amp;gt; &amp;gt; more like a research paper than something we should dive into&lt;br/&gt;
&amp;gt; immediately,&lt;br/&gt;
&amp;gt; &amp;gt; but I wanted to share the idea and get some feedback if anyone has&lt;br/&gt;
&amp;gt; &amp;gt; thoughts...&lt;br/&gt;
&amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; Matt&lt;br/&gt;
&amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; On Mon, Mar 10, 2008 at 11:29 AM, Jeff Eastman &amp;lt;jeastman@collab.net&amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; wrote:&lt;br/&gt;
&amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; Hi Matthew,&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; I&apos;ve been looking over the mean-shift papers for the last several&lt;br/&gt;
&amp;gt; days.&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; While the details of the math are still sinking in, it looks like the&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; basic algorithm might be summarized thusly:&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; Points in an n-d feature space are migrated iteratively in the&lt;br/&gt;
&amp;gt; direction&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; of maxima in their local density functions. Points within a &quot;basin of&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; attraction&quot; all converge to the same maxima and thus belong to the&lt;br/&gt;
&amp;gt; same&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; cluster.&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; A physical analogy might be&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/help_16.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;:&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; Gas particles in 3-space, operating with gravitational attraction but&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; without momentum, would tend to cluster similarly.&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; The algorithm seems to require that each point be compared with every&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; other point. This might be taken to require each mapper to see all of&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; the points, thus frustrating scalability. OTOH, Canopy clustering&lt;br/&gt;
&amp;gt; avoids&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; this by clustering the clusters produced by the subsets of points seen&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; by each mapper. K-means has the requirement that each point needs to&lt;br/&gt;
&amp;gt; be&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; compared with all of the cluster centers, not points. It has a similar&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; iterative structure over clusters (a much smaller, constant number)&lt;br/&gt;
&amp;gt; that&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; might be employed.&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; There is a lot of locality in the local density function window, and&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; this could perhaps be exploited. If points could be pre-clustered (as&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; canopy is often used to prime the k-means iterations), parallelization&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; might be feasible.&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; Are these observations within a &quot;basin of attraction&quot; to your&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; understanding of mean-shift &amp;lt;grin&amp;gt;?&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; Jeff&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; ----&lt;del&gt;Original Message&lt;/del&gt;----&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; From: Matthew Riley &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;mailto:mriley@gmail.com&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;mriley@gmail.com&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/mail_small.gif&quot; height=&quot;12&quot; width=&quot;13&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; Sent: Thursday, March 06, 2008 11:46 AM&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; To: mahout-dev@lucene.apache.org&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; Subject: Re: Google Summer of Code&lt;span class=&quot;error&quot;&gt;&amp;#91;esp. More Clustering&amp;#93;&lt;/span&gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; Hey Jeff-&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; I&apos;m certainly willing to put some energy into developing&lt;br/&gt;
&amp;gt; implementations&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; of&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; these algorithms, and it&apos;s good to hear that you may be interested in&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; guiding us in the right direction.&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; Here are the references I learned the algorithms from- some are more&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; detailed than others:&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; Mean-Shift clustering was introduced here and this paper is a thorough&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; reference:&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; Mean-Shift: A Robust Approach to Feature Space Analysis&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &lt;a href=&quot;http://courses.csail.mit.edu/6.869/handouts/PAMIMeanshift.pdf&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://courses.csail.mit.edu/6.869/handouts/PAMIMeanshift.pdf&lt;/a&gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; And here&apos;s a PDF with just guts of the algorithm outlined:&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; homepages.inf.ed.ac.uk/rbf/CVonline/LOCAL_COPIES/TUZEL1/MeanShift.pdf&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; It looks like there isn&apos;t a definitive reference for the k-means&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; approximation with randomized k-d trees, but there are promising&lt;br/&gt;
&amp;gt; results&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; introduced here:&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; Object retrieval with large vocabularies and fast spatial matching:&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &lt;a href=&quot;http://www.robots.ox.ac.uk/~vgg/publications/papers/philbin07.pdf*&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.robots.ox.ac.uk/~vgg/publications/papers/philbin07.pdf*&lt;/a&gt;&amp;lt;http://&lt;br/&gt;
&amp;gt; &amp;gt; www.robots.ox.ac.uk/%7Evgg/publications/papers/philbin07.pdf*&amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; *&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; And a deeper explanation of the technique here:&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; Randomized KD-Trees for Real-Time Keypoint Detection:&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; ieeexplore.ieee.org/iel5/9901/31473/01467521.pdf?arnumber=1467521&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; Let me know what you think.&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; Matt&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; On Thu, Mar 6, 2008 at 11:45 AM, Jeff Eastman &amp;lt;jeastman@collab.net&amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; wrote:&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; Hi Matthew,&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; As with most open source projects, &quot;interest&quot; is mainly a function&lt;br/&gt;
&amp;gt; of&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; the willingness of somebody to contribute their energy. Clustering&lt;br/&gt;
&amp;gt; is&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; certainly within the scope of the project. I&apos;d be interested in&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; exploring additional clustering algorithms with you and your&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; colleague.&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; I&apos;m a complete noob in this area and it is always enlightening to&lt;br/&gt;
&amp;gt; work&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; with students who have more current theoretical exposures.&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; Do you have some links on these approaches that you find&lt;br/&gt;
&amp;gt; particularly&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; helpful?&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; Jeff&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; ----&lt;del&gt;Original Message&lt;/del&gt;----&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; From: Matthew Riley &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;mailto:mriley@gmail.com&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;mriley@gmail.com&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/mail_small.gif&quot; height=&quot;12&quot; width=&quot;13&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; Sent: Wednesday, March 05, 2008 11:11 PM&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; To: mahout-dev@lucene.apache.org; mainec@isabel-drost.de&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; Subject: Re: Google Summer of Code&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; Hey everyone-&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; I&apos;ve been watching the mailing list for a little while now, hoping&lt;br/&gt;
&amp;gt; to&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; contribute once I became more familiar, but I wanted to jump in here&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; now&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; and&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; express my interest in the Summer of Code project. I&apos;m currently a&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; graduate&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; student in electrical engineering at UT-Austin working in computer&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; vision,&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; which is closely tied to many of the problems Mahout is addressing&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; (especially in my area of content-based retrieval).&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; What can I do to help out?&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; I&apos;ve discussed some potential Mahout projects with another student&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; recently-&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; mostly focused around approximate k-means algorithms (since that&apos;s a&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; problem&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; I&apos;ve been working on lately). It sounds like you guys are already&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; implementing canopy clustering for k-means- Is there any interest in&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; developing another approximation algorithm based on randomized&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; kd-trees&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; for&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; high dimensional data? What about mean-shift clustering?&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; Again, I would be glad to help in any way I can.&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; Matt&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; On Thu, Mar 6, 2008 at 12:56 AM, Isabel Drost &amp;lt;mainec@isabel-&lt;br/&gt;
&amp;gt; drost.de&amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; wrote:&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; &amp;gt; On Saturday 01 March 2008, Grant Ingersoll wrote:&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; &amp;gt; &amp;gt; Also, any thoughts on what we might want someone to do?  I think&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; it&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; &amp;gt; &amp;gt; would be great to have someone implement one of the algorithms&lt;br/&gt;
&amp;gt; on&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; our&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; &amp;gt; &amp;gt; wiki.&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; &amp;gt; Just as a general note, the deadline for applications:&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; &amp;gt; March 12: Mentoring organization application deadline (12 noon&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; PDT/19:00&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; &amp;gt; UTC).&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; &amp;gt; I suppose we should identify interesing tasks until that deadline.&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; As&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; a&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; &amp;gt; general guideline for mentors and for project proposals:&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; &amp;gt; &lt;a href=&quot;http://code.google.com/p/google-summer-of-&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://code.google.com/p/google-summer-of-&lt;/a&gt;&lt;br/&gt;
&amp;gt; code/wiki/AdviceforMentors&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; &amp;gt; Isabel&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; &amp;gt; &amp;#8211;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; &amp;gt; Better late than never.         &amp;#8211; Titus Livius (Livy)&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; &amp;gt;   |\      &lt;em&gt;,,,---,,&lt;/em&gt;       Web:   &amp;lt;&lt;a href=&quot;http://www.isabel-drost.de&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.isabel-drost.de&lt;/a&gt;&amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; &amp;gt;  /,`.&lt;del&gt;&apos;`&apos;    -.  ;&lt;/del&gt;;;,_&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; &amp;gt;  |,4-  ) )&lt;del&gt;,_..;\ (  `&apos;&lt;/del&gt;&apos;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; &amp;gt; &apos;--&lt;del&gt;&apos;&apos;(_/&lt;/del&gt;&lt;del&gt;&apos;  `&lt;/del&gt;&apos;&amp;#95;) (fL)  IM:  &amp;lt;xmpp://MaineC.@spaceboyz.net&amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &lt;/p&gt;
</comment>
                            <comment id="12578005" author="jeastman" created="Wed, 12 Mar 2008 20:10:04 +0000"  >&lt;p&gt;I noticed that the mergeCanopy method was only adding the new canopy center to the existing canopies, but not adding the existing canopy centers to itself. This produced an assymetry defect that, I think, also exists in canopy clustering and kmeans. Correcting this problem leads the algorithm to now converge exactly upon the input image after 40-odd iterations:&lt;/p&gt;

&lt;p&gt;ABBBBBBBBB&lt;br/&gt;
BABBBBBBBB&lt;br/&gt;
BBABBBBBBB&lt;br/&gt;
BBBABBBBBB&lt;br/&gt;
BBBBABBBBB&lt;br/&gt;
BBBBBABBBB&lt;br/&gt;
BBBBBBABBB&lt;br/&gt;
BBBBBBBABB&lt;br/&gt;
BBBBBBBBAB&lt;br/&gt;
BBBBBBBBBA&lt;/p&gt;</comment>
                            <comment id="12578910" author="jeastman" created="Fri, 14 Mar 2008 19:56:33 +0000"  >&lt;p&gt;Found another defect in the iteration loop. The order of the done test (done = done &amp;amp;&amp;amp; migrate(0.5)) was omitting the canopy migrations once the first one reported not done. I reversed the elements and now the algorithm converges in 4 iterations vs 44. I also tweaked the actual migration routine to merge with only the closest canopy vs. the first one encountered. Finally, I added another set of values (&apos;/&apos;) to the initial image data set and the algorithm clustered it correctly too:&lt;/p&gt;

&lt;p&gt;ABBBBBBBBC&lt;br/&gt;
BABBBBBBCB&lt;br/&gt;
BBABBBBCBB&lt;br/&gt;
BBBABBCBBB&lt;br/&gt;
BBBBACBBBB&lt;br/&gt;
BBBBCABBBB&lt;br/&gt;
BBBCBBABBB&lt;br/&gt;
BBCBBBBABB&lt;br/&gt;
BCBBBBBBAB&lt;br/&gt;
CBBBBBBBBA&lt;/p&gt;

&lt;p&gt;Note: The values I added had a z=4 value and were clustered separately (C). When I changed their z value to 9, there were only two remaining canopies (A, B):&lt;/p&gt;

&lt;p&gt;ABBBBBBBBA&lt;br/&gt;
BABBBBBBAB&lt;br/&gt;
BBABBBBABB&lt;br/&gt;
BBBABBABBB&lt;br/&gt;
BBBBAABBBB&lt;br/&gt;
BBBBAABBBB&lt;br/&gt;
BBBABBABBB&lt;br/&gt;
BBABBBBABB&lt;br/&gt;
BABBBBBBAB&lt;br/&gt;
ABBBBBBBBA&lt;/p&gt;

&lt;p&gt;I still do not know what to call this algorithm, perhaps &apos;colliding canopies&apos; or &apos;coalescing canopies&apos;? Though it has some similarity to mean shift I&apos;d be surprised if the term applies.&lt;/p&gt;</comment>
                            <comment id="12581235" author="jeastman" created="Sat, 22 Mar 2008 01:45:42 +0000"  >&lt;p&gt;This patch implements the mapper, combiner and reducer classes and two new unit tests. The driver class needs completion and the code needs some cleanup. Currently, I call it &quot;Mean Shift Canopy Clustering&quot;. After looking at the Cluster Analysis section of the statsoft.com reference that Isabel posted, it has the following properties which cause me to believe it is aptly named:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;It is an iterative, amalgamating canopy clustering algorithm&lt;/li&gt;
	&lt;li&gt;It allows the use of arbitrary distance measures, though Euclidean is used in the tests&lt;/li&gt;
	&lt;li&gt;It uses a weighted pair-group centroid (mean) to determine the next, shifted position of each canopy&lt;/li&gt;
	&lt;li&gt;Input is canopies containing a single input data point&lt;/li&gt;
	&lt;li&gt;During each iteration, every canopy within T1 affects the centroid calculation of its neighbors&lt;/li&gt;
	&lt;li&gt;During each iteration, canopies within T2 are merged and the contained points are accumulated&lt;/li&gt;
	&lt;li&gt;At the end of each iteration, each remaining canopy is shifted to its new mean position&lt;/li&gt;
	&lt;li&gt;If the shift is less than a configurable delta parameter, the canopy has converged&lt;/li&gt;
	&lt;li&gt;Once all canopies have converged, the computation terminates&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;For very large numbers of input points, multiple mapper/combiner pairs will each iterate once over their canopies before passing all resulting canopies to a single reducer, which does another iteration to combine them. Multiple map/combine/reduce passes will be orchestrated by the driver, until all canopies have converged. At that point, each canopy contains a set of original input points that belong to that cluster.&lt;/p&gt;</comment>
                            <comment id="12583471" author="jeastman" created="Sun, 30 Mar 2008 19:43:28 +0100"  >&lt;p&gt;This patch has improved javadoc comments and removes some debugging code. It includes an extension to DistanceMeasure to introduce measures over Vector instances and deprecates the Float[] method. Finally, it includes a toString() implementation in DenseVector for use in outputting formatted data from the MeanShiftCanopy implementation. Longer term, I think the Vector and Matrix interfaces need an asFormatString() method in addition to the asWritableComparable().&lt;/p&gt;

&lt;p&gt;All unit tests run. Once my credentials arrive I plan to commit this. Here&apos;s a link to the original paper (&lt;a href=&quot;http://www.cse.msu.edu/~cse902/S03/MeanShif.pdf&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.cse.msu.edu/~cse902/S03/MeanShif.pdf&lt;/a&gt;), I&apos;d love go get some review to see if anybody else thinks this is an implementation of that algorithm.&lt;/p&gt;</comment>
                            <comment id="12588864" author="jeastman@windwardsolutions.com" created="Tue, 15 Apr 2008 02:18:34 +0100"  >&lt;p&gt;r648085 committed the latest patch, which additionally adds a method to the DistanceMeasures.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12377659" name="MAHOUT-15a.patch" size="28563" author="jeastman" created="Wed, 12 Mar 2008 01:08:41 +0000"/>
                            <attachment id="12377726" name="MAHOUT-15b.patch" size="28777" author="jeastman" created="Wed, 12 Mar 2008 20:10:04 +0000"/>
                            <attachment id="12377941" name="MAHOUT-15c.patch" size="29759" author="jeastman" created="Fri, 14 Mar 2008 19:56:33 +0000"/>
                            <attachment id="12378427" name="MAHOUT-15d.patch" size="53308" author="jeastman" created="Sat, 22 Mar 2008 01:45:42 +0000"/>
                            <attachment id="12378903" name="MAHOUT-15e.patch" size="55985" author="jeastman" created="Sun, 30 Mar 2008 19:43:28 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 15 Apr 2008 01:18:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>10051</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxy7q7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23403</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>