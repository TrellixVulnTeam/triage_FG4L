<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:53:51 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-2083/PIG-2083.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-2083] bincond ERROR 1025: Invalid field projection when null is used</title>
                <link>https://issues.apache.org/jira/browse/PIG-2083</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;This is a regression for 9.&lt;/p&gt;

&lt;p&gt;a = load &apos;1.txt&apos; as (a0, a1);&lt;br/&gt;
b = foreach a generate (a0==0?null:2);&lt;br/&gt;
explain b;&lt;/p&gt;

&lt;p&gt;ERROR 1025:&lt;br/&gt;
Invalid field projection. Projected field &lt;span class=&quot;error&quot;&gt;&amp;#91;null&amp;#93;&lt;/span&gt; does not exist in schema&lt;/p&gt;
</description>
                <environment>
&lt;p&gt;Linux 2.6.18-53.1.13.el5 #1 SMP Mon Feb 11 13:27:27 EST 2008 x86_64 x86_64 x86_64 GNU/Linux&lt;/p&gt;

&lt;p&gt;Hadoop 0.20.203.3.1104011556 -r 96519d04f65e22ffadf89b225d0d44ef1741d126&lt;br/&gt;
Compiled on Fri Apr  1 16:29:09 PDT 2011&lt;/p&gt;
</environment>
        <key id="12507903">PIG-2083</key>
            <summary>bincond ERROR 1025: Invalid field projection when null is used</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="thejas">Thejas M Nair</assignee>
                                    <reporter username="araceli">Araceli Henley</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 May 2011 18:22:45 +0100</created>
                <updated>Thu, 4 Aug 2011 01:34:58 +0100</updated>
                            <resolved>Wed, 25 May 2011 20:53:02 +0100</resolved>
                                    <version>0.9.0</version>
                                    <fixVersion>0.9.0</fixVersion>
                                    <component>build</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13038334" author="thejas" created="Tue, 24 May 2011 01:23:34 +0100"  >&lt;p&gt;In the above query, the tokeniser is matching NULL as identifier instead of the NULL token. &lt;br/&gt;
The above query works when there is a space after the null. The parser generated by antlr is supposed to match NULL token as that rule comes before the identifier rule. This looks like a bug in antlr.&lt;/p&gt;
</comment>
                            <comment id="13038409" author="xuefuz" created="Tue, 24 May 2011 07:23:23 +0100"  >&lt;p&gt;This is probably not caused by Antlr, but by Pig&apos;s syntactic rule. &lt;/p&gt;

&lt;p&gt;IDENTIFIER : ( ID DCOLON ) =&amp;gt; ( ID DCOLON IDENTIFIER )&lt;/p&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; ID&lt;br/&gt;
;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;


&lt;p&gt;When Antlr say NULL, it cannot make a decision until it says the next character, which is a colon. With the colon, the above rule applies, so it tries to match IDENTIFIER. As a result of such matching, it ends with two tokens, IDENTIFIER and &apos;:&apos;. When there is a space, above rule doesn&apos;t apply.&lt;/p&gt;

&lt;p&gt;I don&apos;t know a good solution yet. A potential solution is to add predicate for all reserved keyword such that matching stops as long as the next character is not a letter. In this way, &apos;null:&apos; will be match to NULL as a keyword, and &apos;:&apos;.&lt;/p&gt;


</comment>
                            <comment id="13039200" author="thejas" created="Wed, 25 May 2011 17:50:41 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2083&quot; title=&quot;bincond ERROR 1025: Invalid field projection when null is used&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2083&quot;&gt;&lt;del&gt;PIG-2083&lt;/del&gt;&lt;/a&gt;.1.patch - I have removed the NULL literal from QueryLexer.g and replaced IDENTIFIER in it with IDENTIFIER_L. &lt;br/&gt;
In QueryParser.g IDENTIFIER_L gets replaced by NULL or IDENTIFIER using semantic predicates. I could not find a solution that could get the resolution of NULL vs IDENTIFIER done in QueryLexer itself.&lt;/p&gt;</comment>
                            <comment id="13039242" author="rding" created="Wed, 25 May 2011 18:54:36 +0100"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13039304" author="thejas" created="Wed, 25 May 2011 20:53:02 +0100"  >&lt;p&gt;Patch committed to trunk and 0.9 branch.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12480419" name="PIG-2083.1.patch" size="7822" author="thejas" created="Wed, 25 May 2011 16:11:25 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 24 May 2011 00:23:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>66189</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyavhj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>97412</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>