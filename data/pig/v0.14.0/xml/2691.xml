<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:49:53 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-2691/PIG-2691.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-2691] Duplicate TOKENIZE schema</title>
                <link>https://issues.apache.org/jira/browse/PIG-2691</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;TOKENIZE produces a fixed named schema that results in duplicates if used more than once in the same generate statement.&lt;br/&gt;
We could paramenterize the schema on the name of the field being tokenized.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
grunt&amp;gt; q = LOAD &apos;file&apos; AS (source:chararray, target:chararray);
grunt&amp;gt; e = FOREACH q GENERATE TOKENIZE(source), TOKENIZE(target);
2012-05-09 20:18:37,235 [main] ERROR org.apache.pig.tools.grunt.Grunt - ERROR 1108: 
&amp;lt;line 2, column 14&amp;gt; Duplicate schema alias: bag_of_tokenTuples
grunt&amp;gt; e = FOREACH q GENERATE TOKENIZE(source) as s_entities, TOKENIZE(target) as t_entities;
grunt&amp;gt; describe e
e: {s_entities: {tuple_of_tokens: (token: chararray)},t_entities: {tuple_of_tokens: (token: chararray)}}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12554533">PIG-2691</key>
            <summary>Duplicate TOKENIZE schema</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jay23jack">Jie Li</assignee>
                                    <reporter username="azaroth">Gianmarco De Francisci Morales</reporter>
                        <labels>
                            <label>simple</label>
                    </labels>
                <created>Wed, 9 May 2012 19:21:42 +0100</created>
                <updated>Fri, 22 Feb 2013 04:54:13 +0000</updated>
                            <resolved>Thu, 31 May 2012 16:02:52 +0100</resolved>
                                                    <fixVersion>0.11</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13282063" author="jay23jack" created="Thu, 24 May 2012 01:03:19 +0100"  >&lt;p&gt;Changed the field alias of the TOKENIZE result from &quot;bag_of_tokenTuples&quot; to &quot;bag_of_tokenTuples_from_&lt;/p&gt;
{original_alias}
&lt;p&gt;&quot;. For example, the result alias of TOKENIZE(a) would be bag_of_tokenTuples_from_a. &lt;/p&gt;</comment>
                            <comment id="13282066" author="jay23jack" created="Thu, 24 May 2012 01:14:28 +0100"  >&lt;p&gt;Oops, broke some unit tests. Fixing.&lt;/p&gt;</comment>
                            <comment id="13282078" author="jay23jack" created="Thu, 24 May 2012 01:43:27 +0100"  >&lt;p&gt;Fixed one unit test for TOKENIZE in TestLogicalPlanBuilder, and added another unit test using the query in the description.&lt;/p&gt;

&lt;p&gt;Passed all the other unit tests of test-commit.&lt;/p&gt;</comment>
                            <comment id="13282099" author="daijy" created="Thu, 24 May 2012 02:18:10 +0100"  >&lt;p&gt;Patch looks good. &lt;/p&gt;

&lt;p&gt;One potential issue is it introduces some backward compatibility. The output schema name for TOKENIZE change. If anyone rely on it, he/she has to change the script. Is that fine or do we need a flag?&lt;/p&gt;</comment>
                            <comment id="13282128" author="jay23jack" created="Thu, 24 May 2012 03:10:57 +0100"  >&lt;p&gt;As there was no documentation on the field schema of TOKENIZE, can we assume that if users want to use the field name, she would explicitly name it by AS? If so, then this change wouldn&apos;t break the script.&lt;/p&gt;</comment>
                            <comment id="13282184" author="azaroth" created="Thu, 24 May 2012 05:48:19 +0100"  >&lt;p&gt;I agree with Jie, though I can imagine people are anyway using it somewhere. We should add something like this to the release notes:&lt;/p&gt;

&lt;p&gt;TOKENIZE: the default name of the field in the schema produced by this UDF now depends on the input field. This change could break your script if you were relying on the field being called &quot;bag_of_tokenTuples&quot; (i.e. you were not using an AS clause to rename the field).&lt;/p&gt;

&lt;p&gt;Apart from that, I would commit once tests pass.&lt;/p&gt;</comment>
                            <comment id="13282195" author="daijy" created="Thu, 24 May 2012 06:00:47 +0100"  >&lt;p&gt;Sounds good. +1&lt;/p&gt;</comment>
                            <comment id="13284767" author="azaroth" created="Tue, 29 May 2012 13:41:44 +0100"  >&lt;p&gt;Got some failures during testing, but I am not sure about the sanity of my environment.&lt;br/&gt;
I am rerunning them in a different one.&lt;br/&gt;
Sorry for the delay.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12528825" name="PIG-2691.patch" size="714" author="jay23jack" created="Thu, 24 May 2012 01:04:49 +0100"/>
                            <attachment id="12528833" name="PIG-2691.patch.2" size="2342" author="jay23jack" created="Thu, 24 May 2012 01:43:27 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 24 May 2012 00:03:19 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>238783</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10342"><![CDATA[Incompatible change]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyayvj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>97961</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>TOKENIZE: the default name of the field in the schema produced by this UDF now depends on the input field. This change could break your script if you were relying on the field being called &amp;quot;bag_of_tokenTuples&amp;quot; (i.e. you were not using an AS clause to rename the field).</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>