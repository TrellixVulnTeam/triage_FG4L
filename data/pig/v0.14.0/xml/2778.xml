<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:57:39 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-2778/PIG-2778.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-2778] Add &apos;matches&apos; operator to predicate pushdown</title>
                <link>https://issues.apache.org/jira/browse/PIG-2778</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;Currently the regex match operation does not get pushed down to LoadMetadata (and Expression does not have an enum value for it); it would be quite useful to enable this for some optimizations.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12596336">PIG-2778</key>
            <summary>Add &apos;matches&apos; operator to predicate pushdown</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cheolsoo">Cheolsoo Park</assignee>
                                    <reporter username="dvryaboy">Dmitriy V. Ryaboy</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 Jun 2012 23:30:58 +0100</created>
                <updated>Tue, 24 Mar 2015 21:40:37 +0000</updated>
                            <resolved>Fri, 19 Oct 2012 00:40:13 +0100</resolved>
                                                    <fixVersion>0.12.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13454565" author="cheolsoo" created="Thu, 13 Sep 2012 02:51:55 +0100"  >&lt;p&gt;Updating a patch that adds the &apos;matches&apos; op to predicate pushdown.&lt;/p&gt;

&lt;p&gt;I added a simple test case to TestPartitionFilterPushDown and ran test-commit. (TestPoissonSampleLoader fails, but it seems broken in trunk.)&lt;/p&gt;

&lt;p&gt;Please let me know if I should add a test to somewhere else, or I overlooked something.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="13460845" author="cheolsoo" created="Fri, 21 Sep 2012 22:42:20 +0100"  >&lt;p&gt;TestPoissonSampleLoader failure that I mentioned in my previous comment is &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2926&quot; title=&quot;TestPoissonSampleLoader failing on rhel environment&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2926&quot;&gt;&lt;del&gt;PIG-2926&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13461222" author="dvryaboy" created="Sat, 22 Sep 2012 18:54:06 +0100"  >&lt;p&gt;Didn&apos;t realize that would be so simple! THanks, Cheolsoo.&lt;br/&gt;
Were you able to verify that existing loader implementations that do not accept &quot;matches&quot; pushdowns still work correctly?&lt;/p&gt;</comment>
                            <comment id="13461279" author="cheolsoo" created="Sat, 22 Sep 2012 22:41:38 +0100"  >&lt;p&gt;Hi Dmitriy,&lt;/p&gt;

&lt;p&gt;I verified with PigStorage and AvroStorage that there is no regression.&lt;/p&gt;

&lt;p&gt;Nevertheless, it is probably a good idea to run a full test suite for this kind of change, so I&apos;ve kicked off unit test and e2e test. I&apos;ll let you know if they all pass.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="13461513" author="cheolsoo" created="Sun, 23 Sep 2012 21:35:01 +0100"  >&lt;p&gt;Attaching test logs - unit/e2e test.&lt;/p&gt;

&lt;p&gt;I see &lt;b&gt;no regression from this change&lt;/b&gt; although I see some unrelated failures as below:&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Unit test&lt;/b&gt;&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;TestInvokerSpeed: known issue &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2569&quot; title=&quot;Fix org.apache.pig.test.TestInvoker.testSpeed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2569&quot;&gt;&lt;del&gt;PIG-2569&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;TestPoissonSampleLoader: known issue &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2926&quot; title=&quot;TestPoissonSampleLoader failing on rhel environment&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2926&quot;&gt;&lt;del&gt;PIG-2926&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;TestPigServerWithMacros: failed because of an exception during the call to getFileSystem(). Passes when rerun the test.&lt;/li&gt;
	&lt;li&gt;TestStreaming: timeout even without this change.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;b&gt;e2e test in local mode&lt;/b&gt;&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;FilterBoolean_23,24: know issue &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2928&quot; title=&quot;Fix e2e test failures in trunk: FilterBoolean_23/24&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2928&quot;&gt;&lt;del&gt;PIG-2928&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;Rank_1,2,3,5,6,7,8,9,10: fail even without this change in trunk.&lt;/li&gt;
	&lt;li&gt;The test run hang after executing 474 test cases, so it wasn&apos;t complete.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13479178" author="jcoveney" created="Thu, 18 Oct 2012 18:45:58 +0100"  >&lt;p&gt;Dmitriy,&lt;/p&gt;

&lt;p&gt;I see no reason not to commit this given the test report looks good. Agreed?&lt;/p&gt;</comment>
                            <comment id="13479244" author="dvryaboy" created="Thu, 18 Oct 2012 19:57:39 +0100"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13479392" author="jcoveney" created="Thu, 18 Oct 2012 22:36:16 +0100"  >&lt;p&gt;Cheolsoo, it doesn&apos;t apply cleanly anymore. Any chance you can rebase it off trunk?&lt;/p&gt;</comment>
                            <comment id="13479410" author="cheolsoo" created="Thu, 18 Oct 2012 22:54:40 +0100"  >&lt;p&gt;Hi Jonathan, sorry about that.&lt;/p&gt;

&lt;p&gt;It applies to the github mirror, but I haven&apos;t tried to the svn trunk. The svn repository is not responding at the moment... I will rebase it as soon as I can checkout.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="13479485" author="jcoveney" created="Fri, 19 Oct 2012 00:39:54 +0100"  >&lt;p&gt;This has been applied to trunk. Thanks, Cheolsoo!&lt;/p&gt;</comment>
                            <comment id="13841498" author="rohini" created="Fri, 6 Dec 2013 18:16:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=daijy&quot; class=&quot;user-hover&quot; rel=&quot;daijy&quot;&gt;Daniel Dai&lt;/a&gt;,&lt;br/&gt;
    We are not using 0.12 yet. But saw that &lt;a href=&quot;http://svn.apache.org/viewvc/hive/trunk/hcatalog/hcatalog-pig-adapter/src/main/java/org/apache/hcatalog/pig/HCatLoader.java?view=markup&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc/hive/trunk/hcatalog/hcatalog-pig-adapter/src/main/java/org/apache/hcatalog/pig/HCatLoader.java?view=markup&lt;/a&gt; getHCatComparisonString() does not convert matches to LIKE. Wouldn&apos;t that cause issues? Have you encountered it?  According to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1609&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1609&lt;/a&gt; - LIKE is supported. So HCatLoader will have to change to support that or if there is a matches condition on a partition column I am suspecting there will be a exception looking at the InitializeInput code in hcat. Will try it out next week and confirm. &lt;/p&gt;</comment>
                            <comment id="13842328" author="aniket486" created="Sat, 7 Dec 2013 21:12:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rohini&quot; class=&quot;user-hover&quot; rel=&quot;rohini&quot;&gt;Rohini Palaniswamy&lt;/a&gt;, you are right about this. I have noticed this earlier. Wouldn&apos;t this be fixed by changing string representation OP_MATCH to &lt;a href=&quot;https://github.com/apache/pig/blob/branch-0.12/src/org/apache/pig/Expression.java#l48?&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/pig/blob/branch-0.12/src/org/apache/pig/Expression.java#l48?&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13847008" author="rohini" created="Fri, 13 Dec 2013 01:08:12 +0000"  >&lt;p&gt;No. HCatLoader needs to be fixed to understand &quot;matches&quot; in the expression and convert it into &quot;LIKE&quot;. Actually come to think of it, the LIKE will only take %  and won&apos;t work with all regex patterns. i.e .* can be replaced with %, but other complex java regex patterns would not work.  &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cheolsoo&quot; class=&quot;user-hover&quot; rel=&quot;cheolsoo&quot;&gt;Cheolsoo Park&lt;/a&gt;,&lt;br/&gt;
   Do you remember for what loader or case, you wanted to push the &apos;matches&apos; operator? &lt;/p&gt;</comment>
                            <comment id="13847038" author="cheolsoo" created="Fri, 13 Dec 2013 01:39:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rohini&quot; class=&quot;user-hover&quot; rel=&quot;rohini&quot;&gt;Rohini Palaniswamy&lt;/a&gt;, no, I didn&apos;t have a particular load in mind. Although we&apos;re currently discussing to support &apos;matches&apos; in our internal storage at work, we haven&apos;t implement one yet. As far as I am concerned, I don&apos;t use it for now.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12785314">PIG-4482</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12544919" name="PIG-2778.patch" size="3087" author="cheolsoo" created="Thu, 13 Sep 2012 02:51:55 +0100"/>
                            <attachment id="12546222" name="test_e2e.log" size="91977" author="cheolsoo" created="Sun, 23 Sep 2012 21:35:01 +0100"/>
                            <attachment id="12546223" name="test_unit.log" size="50878" author="cheolsoo" created="Sun, 23 Sep 2012 21:35:01 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 13 Sep 2012 01:51:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249629</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy4akf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>58868</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>