<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:57:52 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-2174/PIG-2174.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-2174] HBaseStorage column filters miss some fields</title>
                <link>https://issues.apache.org/jira/browse/PIG-2174</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;When mixing static and dynamic column mappings, &lt;tt&gt;HBaseStorage&lt;/tt&gt; sometimes doesn&apos;t pick up the static column values and nulls are returned. I believe this bug has been masked by HBase being a bit over-eager when it comes to respecting column filters (i.e. HBase is returning more columns than it should).&lt;/p&gt;

&lt;p&gt;For example, this query returns nulls for the &lt;tt&gt;sc&lt;/tt&gt; column, even when it contains data:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;a = LOAD &apos;hbase://pigtable_1&apos; USING
  org.apache.pig.backend.hadoop.hbase.HBaseStorage
  (&apos;pig:sc pig:prefixed_col_*&apos;,&apos;-loadKey&apos;) AS
  (rowKey:chararray, sc:chararray, pig_cf_map:map[]);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;What is very strange (about HBase), is that the same script will return values just fine if &lt;tt&gt;sc&lt;/tt&gt; is instead &lt;tt&gt;col_a&lt;/tt&gt;, assuming of course that both columns contain data:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;a = LOAD &apos;hbase://pigtable_1&apos; USING
  org.apache.pig.backend.hadoop.hbase.HBaseStorage
  (&apos;pig:col_a pig:prefixed_col_*&apos;,&apos;-loadKey&apos;) AS
  (rowKey:chararray, col_a:chararray, pig_cf_map:map[]);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Potential HBase issues aside, I think there is a bug in the logic on the Pig side. Patch to follow. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12514500">PIG-2174</key>
            <summary>HBaseStorage column filters miss some fields</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="billgraham">Bill Graham</assignee>
                                    <reporter username="billgraham">Bill Graham</reporter>
                        <labels>
                    </labels>
                <created>Mon, 18 Jul 2011 21:21:04 +0100</created>
                <updated>Thu, 26 Apr 2012 21:32:36 +0100</updated>
                            <resolved>Thu, 11 Aug 2011 22:16:06 +0100</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13067281" author="billgraham" created="Mon, 18 Jul 2011 21:42:18 +0100"  >&lt;p&gt;Adding patch #1, please review.&lt;/p&gt;</comment>
                            <comment id="13067358" author="billgraham" created="Mon, 18 Jul 2011 23:19:06 +0100"  >&lt;p&gt;FYI, the HBase issue I mentioned was in fact a bug which has been fixed (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3550&quot; title=&quot;FilterList reports false positives&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3550&quot;&gt;&lt;del&gt;HBASE-3550&lt;/del&gt;&lt;/a&gt;). The Pig bug is still valid though.&lt;/p&gt;</comment>
                            <comment id="13081059" author="billgraham" created="Mon, 8 Aug 2011 18:02:11 +0100"  >&lt;p&gt;Ping. This patch is starting to get stale. Can someone please review?&lt;/p&gt;</comment>
                            <comment id="13081082" author="dvryaboy" created="Mon, 8 Aug 2011 18:45:39 +0100"  >&lt;p&gt;Sorry Bill, didn&apos;t see this.. if you file an hbase storage bug, just go ahead and add me to the watchlist so I can&apos;t miss it.&lt;br/&gt;
I&apos;ll add it to my growing stack of hbase tickets to review.&lt;/p&gt;</comment>
                            <comment id="13082958" author="dvryaboy" created="Thu, 11 Aug 2011 07:30:28 +0100"  >&lt;p&gt;+1 assuming test-patch passes.&lt;/p&gt;

&lt;p&gt;Sadly at the moment TestHBaseStorage doesn&apos;t pass in trunk even without this patch..&lt;/p&gt;</comment>
                            <comment id="13083547" author="dvryaboy" created="Thu, 11 Aug 2011 22:16:06 +0100"  >&lt;p&gt;Committed to trunk. Thanks, Bill!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12486919" name="PIG-2174_1.patch" size="9456" author="billgraham" created="Mon, 18 Jul 2011 21:42:18 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 8 Aug 2011 17:45:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>65299</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyavz3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>97491</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fix HBaseStorage column filtering bug.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>