<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:04:53 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-2358/PIG-2358.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-2358] JobStats.getHadoopCounters() is never set and always returns null</title>
                <link>https://issues.apache.org/jira/browse/PIG-2358</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;The api  JobStats.getHadoopCounters() always returns null since the instance variable returned from the method (&quot;counters&quot;) is never set.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
PigStats stats = PigRunner.run(args, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
PigStats.JobGraph jobGraph = stats.getJobGraph();
		
&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (JobStats jobStats :  jobGraph) {
   Counters counters = jobStats.getHadoopCounters();
   &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(counters);&lt;span class=&quot;code-comment&quot;&gt;// prints &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
&lt;/span&gt;}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;But of course I can get individual counter information through the other APIs (getHdfsBytesWritten(),getMapInputRecords() etc).&lt;br/&gt;
I guess the change came in as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-1389&quot; title=&quot;Implement Pig counter to track number of rows for each input files &quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-1389&quot;&gt;&lt;del&gt;PIG-1389&lt;/del&gt;&lt;/a&gt; (the instance variable got replaced with method local variable in JobStats.addCounters).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12531110">PIG-2358</key>
            <summary>JobStats.getHadoopCounters() is never set and always returns null</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="xutingz">xuting zhao</assignee>
                                    <reporter username="vivekp">Vivek Padmanabhan</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Nov 2011 09:41:21 +0000</created>
                <updated>Thu, 26 Apr 2012 21:33:12 +0100</updated>
                            <resolved>Fri, 2 Dec 2011 19:48:49 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13148653" author="virag" created="Fri, 11 Nov 2011 18:44:09 +0000"  >&lt;p&gt;The API JobStats.getHadoopCounters() is very important as I can&apos;t get all hadoop counters through other API&apos;s (E.g. FILE_BYTES_READ, FILE_BYTES_WRITTEN, COMBINE_INPUT_RECORDS and many more)&lt;/p&gt;</comment>
                            <comment id="13154692" author="xutingz" created="Mon, 21 Nov 2011 22:40:19 +0000"  >&lt;p&gt;Ant test-commit has been successfully run on this patch. &lt;br/&gt;
A Junit test has been added on the getHadoopCounter method.&lt;/p&gt;</comment>
                            <comment id="13156225" author="alangates" created="Wed, 23 Nov 2011 19:47:01 +0000"  >&lt;p&gt;I see quite a few failures in TestPigRunner when I apply this patch.  I&apos;ll upload the log file from the test.&lt;/p&gt;</comment>
                            <comment id="13156227" author="alangates" created="Wed, 23 Nov 2011 19:48:17 +0000"  >&lt;p&gt;Log file from failing test.&lt;/p&gt;</comment>
                            <comment id="13156339" author="xutingz" created="Wed, 23 Nov 2011 22:20:31 +0000"  >&lt;p&gt;Hi Alan,&lt;/p&gt;

&lt;p&gt;   Thanks for the comments. I downloaded the trunk code from svn, applied the patch and run &quot; ant test -Dtestcase=TestPigRunner&quot; and it seems ran successfully. May I know what is your build environment? Thanks.&lt;/p&gt;

&lt;p&gt;Xuting&lt;/p&gt;</comment>
                            <comment id="13158625" author="daijy" created="Mon, 28 Nov 2011 18:48:53 +0000"  >&lt;p&gt;Unit tests pass for me.&lt;/p&gt;</comment>
                            <comment id="13159003" author="xutingz" created="Tue, 29 Nov 2011 01:05:07 +0000"  >&lt;p&gt;I modified the unit test and run successfully the test-commit as well as the TestPigRunner Junit test on trunk. &lt;/p&gt;</comment>
                            <comment id="13159504" author="xutingz" created="Tue, 29 Nov 2011 20:06:31 +0000"  >&lt;p&gt;I have successfully run the additional unit test and the ant test-commit on both trunk and 0.10 branch. Please let me know if there is any problems. Thanks &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13160466" author="olgan" created="Wed, 30 Nov 2011 23:41:46 +0000"  >&lt;p&gt;Alan, Daniel - could you please confirm if this patch is ready to go and commit if possible, thanks&lt;/p&gt;</comment>
                            <comment id="13161087" author="daijy" created="Thu, 1 Dec 2011 19:57:16 +0000"  >&lt;p&gt;Running tests now.&lt;/p&gt;</comment>
                            <comment id="13161488" author="daijy" created="Fri, 2 Dec 2011 08:34:29 +0000"  >&lt;p&gt;Tests pass. Patch looks good. I will commit it.&lt;/p&gt;</comment>
                            <comment id="13161814" author="daijy" created="Fri, 2 Dec 2011 19:48:49 +0000"  >&lt;p&gt;Unit tests pass. test-patch:&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; -1 overall.  &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 @author.  The patch does not contain any @author tags.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 tests included.  The patch appears to include 3 new or modified tests.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     -1 release audit.  The applied patch generated 463 release audit warnings (more than the trunk&apos;s current 456 warnings).&lt;/p&gt;

&lt;p&gt;There is no new file added, ignore release audit warning.&lt;/p&gt;

&lt;p&gt;Patch committed to both trunk and 0.10 branch.&lt;/p&gt;

&lt;p&gt;Thanks Xuting!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12505525" name="PIG-2358-1.patch" size="3266" author="xutingz" created="Tue, 29 Nov 2011 19:40:59 +0000"/>
                            <attachment id="12504671" name="PIG-2358.patch" size="2668" author="xutingz" created="Mon, 21 Nov 2011 23:41:07 +0000"/>
                            <attachment id="12504917" name="TEST-org.apache.pig.test.TestPigRunner.txt" size="173243" author="alangates" created="Wed, 23 Nov 2011 19:48:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 11 Nov 2011 18:44:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>216848</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyawtj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>97628</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>