<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:49:00 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-1572/PIG-1572.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-1572] change default datatype when relations are used as scalar to bytearray</title>
                <link>https://issues.apache.org/jira/browse/PIG-1572</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;When relations are cast to scalar, the current default type is chararray. This is inconsistent with the behavior in rest of pig-latin.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12472627">PIG-1572</key>
            <summary>change default datatype when relations are used as scalar to bytearray</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="thejas">Thejas M Nair</assignee>
                                    <reporter username="thejas">Thejas M Nair</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Aug 2010 18:21:53 +0100</created>
                <updated>Fri, 17 Dec 2010 22:45:21 +0000</updated>
                            <resolved>Thu, 2 Sep 2010 01:08:01 +0100</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12904429" author="thejas" created="Tue, 31 Aug 2010 00:58:30 +0100"  >&lt;p&gt;Summary of changes&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Changed default type (ie type when input relation to scalar has not type) to bytearray.&lt;/li&gt;
	&lt;li&gt;Replaced PigStorage with InterStorage for load/store of scalar data, so typed data is stored.&lt;/li&gt;
	&lt;li&gt;Changes to track lineage of the ReadScalars udf to the load function(s).&lt;/li&gt;
	&lt;li&gt;Removed unnecessary casts on output of ReadScalars&lt;/li&gt;
	&lt;li&gt;&quot;describe alias;&quot; PigServer code now checks the alias of the leaf logical operators&lt;/li&gt;
	&lt;li&gt;Changed test cases - explicit cast no longer required when bytearray is used in arithmetic operations. Moved some of the tests to local mode to reduce test run time.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12904846" author="thejas" created="Wed, 1 Sep 2010 01:19:52 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-1572&quot; title=&quot;change default datatype when relations are used as scalar to bytearray&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-1572&quot;&gt;&lt;del&gt;PIG-1572&lt;/del&gt;&lt;/a&gt;.2.patch &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Fixed loss of lineage information in translation during explain call&lt;/li&gt;
	&lt;li&gt;Added cast on output of ReadScalars so that type information is not lost during schema reset from optimizer.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Unit tests and test-patch has passed. Patch is ready for review.&lt;/p&gt;

&lt;p&gt;     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; +1 overall.  &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 @author.  The patch does not contain any @author tags.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 tests included.  The patch appears to include 3 new or modified tests.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;</comment>
                            <comment id="12905293" author="daijy" created="Wed, 1 Sep 2010 23:52:58 +0100"  >&lt;p&gt;Patch looks good. One minor doubt is when we migrate to new logical plan, UserFuncExpression already have necessary cast inserted, seems we do not need to change new logical plan&apos;s UserFuncExpression.getFieldSchema(), am I right?&lt;/p&gt;</comment>
                            <comment id="12905324" author="thejas" created="Thu, 2 Sep 2010 00:58:40 +0100"  >&lt;p&gt;Yes, the changes to UserFuncExpression.getFieldSchema() are no longer required because the cast inserted to appropriate type. But while thinking about that I believe I have found an issue with the handling of non PigStorage load functions.&lt;br/&gt;
Since this patch address a bunch of issues I will commit it and create a new jira to address that, and also look at the utility of this change to UserFuncExpression.getFieldSchema().&lt;/p&gt;
</comment>
                            <comment id="12905328" author="thejas" created="Thu, 2 Sep 2010 01:08:01 +0100"  >&lt;p&gt;Patch committed to trunk.&lt;/p&gt;</comment>
                            <comment id="12905332" author="thejas" created="Thu, 2 Sep 2010 01:14:10 +0100"  >&lt;p&gt;Patch committed to 0.8 branch as well .&lt;/p&gt;</comment>
                            <comment id="12905346" author="thejas" created="Thu, 2 Sep 2010 01:38:24 +0100"  >&lt;blockquote&gt;&lt;p&gt;Yes, the changes to UserFuncExpression.getFieldSchema() are no longer required because the cast inserted to appropriate type. But while thinking about that I believe I have found an issue with the handling of non PigStorage load functions.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Since this patch address a bunch of issues I will commit it and create a new jira to address that, and also look at the utility of this change to UserFuncExpression.getFieldSchema().&lt;/p&gt;

&lt;p&gt;Created  &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-1595&quot; title=&quot;casting relation to scalar- problem with handling of data from non PigStorage loaders&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-1595&quot;&gt;&lt;del&gt;PIG-1595&lt;/del&gt;&lt;/a&gt; to address the issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12453477" name="PIG-1572.1.patch" size="30097" author="thejas" created="Tue, 31 Aug 2010 00:58:30 +0100"/>
                            <attachment id="12453562" name="PIG-1572.2.patch" size="33370" author="thejas" created="Wed, 1 Sep 2010 01:19:52 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 1 Sep 2010 22:52:58 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>165046</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyarw7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>96830</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>This changes the release note in &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-1434&quot; title=&quot;Allow casting relations to scalars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-1434&quot;&gt;&lt;strike&gt;PIG-1434&lt;/strike&gt;&lt;/a&gt;, the part  &amp;quot;Also, please, note that when the schema can&amp;#39;t be inferred chararray rather than bytearray is used.&amp;quot;&lt;br/&gt;
&lt;br/&gt;
The datatype of byetarray is used when schema can&amp;#39;t be inferred.&lt;br/&gt;
&lt;br/&gt;
</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>