<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:02:58 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-2362/PIG-2362.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-2362] Rework Ant build.xml to use macrodef instead of antcall</title>
                <link>https://issues.apache.org/jira/browse/PIG-2362</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;Antcall is evil: &lt;a href=&quot;http://www.build-doctor.com/2008/03/13/antcall-is-evil/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.build-doctor.com/2008/03/13/antcall-is-evil/&lt;/a&gt;&lt;br/&gt;
We&apos;d better use macrodef and let Ant build a clean dependency graph.&lt;br/&gt;
&lt;a href=&quot;http://ant.apache.org/manual/Tasks/macrodef.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ant.apache.org/manual/Tasks/macrodef.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Right now we do like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;target name=&lt;span class=&quot;code-quote&quot;&gt;&quot;buildAllJars&quot;&lt;/span&gt;&amp;gt;
  &amp;lt;antcall target=&lt;span class=&quot;code-quote&quot;&gt;&quot;buildJar&quot;&lt;/span&gt;&amp;gt;
    &amp;lt;param name=&lt;span class=&quot;code-quote&quot;&gt;&quot;build.dir&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;jar-A&quot;&lt;/span&gt;/&amp;gt;
  &amp;lt;/antcall&amp;gt;
  &amp;lt;antcall target=&lt;span class=&quot;code-quote&quot;&gt;&quot;buildJar&quot;&lt;/span&gt;&amp;gt;
    &amp;lt;param name=&lt;span class=&quot;code-quote&quot;&gt;&quot;build.dir&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;jar-B&quot;&lt;/span&gt;/&amp;gt;
  &amp;lt;/antcall&amp;gt;
  &amp;lt;antcall target=&lt;span class=&quot;code-quote&quot;&gt;&quot;buildJar&quot;&lt;/span&gt;&amp;gt;
    &amp;lt;param name=&lt;span class=&quot;code-quote&quot;&gt;&quot;build.dir&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;jar-C&quot;&lt;/span&gt;/&amp;gt;
  &amp;lt;/antcall&amp;gt;
&amp;lt;/target&amp;gt;
&amp;lt;target name=&lt;span class=&quot;code-quote&quot;&gt;&quot;buildJar&quot;&lt;/span&gt;&amp;gt;
  &amp;lt;jar destfile=&lt;span class=&quot;code-quote&quot;&gt;&quot;target/${build.dir}.jar&quot;&lt;/span&gt; basedir=&lt;span class=&quot;code-quote&quot;&gt;&quot;${build.dir}/classfiles&quot;&lt;/span&gt;/&amp;gt;
&amp;lt;/target&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But it would be better if we did like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;target name=&lt;span class=&quot;code-quote&quot;&gt;&quot;buildAllJars&quot;&lt;/span&gt;&amp;gt;
  &amp;lt;buildJar build.dir=&lt;span class=&quot;code-quote&quot;&gt;&quot;jar-A&quot;&lt;/span&gt;/&amp;gt;
  &amp;lt;buildJar build.dir=&lt;span class=&quot;code-quote&quot;&gt;&quot;jar-B&quot;&lt;/span&gt;/&amp;gt;
  &amp;lt;buildJar build.dir=&lt;span class=&quot;code-quote&quot;&gt;&quot;jar-C&quot;&lt;/span&gt;/&amp;gt;
&amp;lt;/target&amp;gt;

&amp;lt;macrodef name=&lt;span class=&quot;code-quote&quot;&gt;&quot;buildJar&quot;&lt;/span&gt;&amp;gt;
  &amp;lt;attribute name=&lt;span class=&quot;code-quote&quot;&gt;&quot;build.dir&quot;&lt;/span&gt;/&amp;gt;
  &amp;lt;jar destfile=&lt;span class=&quot;code-quote&quot;&gt;&quot;target/${build.dir}.jar&quot;&lt;/span&gt; basedir=&lt;span class=&quot;code-quote&quot;&gt;&quot;${build.dir}/classfiles&quot;&lt;/span&gt;/&amp;gt;
&amp;lt;/macrodef&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12531330">PIG-2362</key>
            <summary>Rework Ant build.xml to use macrodef instead of antcall</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="azaroth">Gianmarco De Francisci Morales</assignee>
                                    <reporter username="azaroth">Gianmarco De Francisci Morales</reporter>
                        <labels>
                    </labels>
                <created>Mon, 14 Nov 2011 16:09:46 +0000</created>
                <updated>Mon, 14 Oct 2013 17:46:23 +0100</updated>
                            <resolved>Fri, 4 Jan 2013 09:33:15 +0000</resolved>
                                                    <fixVersion>0.12.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13149889" author="azaroth" created="Mon, 14 Nov 2011 20:34:36 +0000"  >&lt;p&gt;First attempt &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2362&quot; title=&quot;Rework Ant build.xml to use macrodef instead of antcall&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2362&quot;&gt;&lt;del&gt;PIG-2362&lt;/del&gt;&lt;/a&gt;.1.patch.&lt;br/&gt;
I removed much of the duplicated code and the bloat in build.xml&lt;br/&gt;
There are still more &amp;lt;antcall&amp;gt; to evict.&lt;/p&gt;

&lt;p&gt;This patch also removes 1 useless call to ivy:resolve.&lt;/p&gt;

&lt;p&gt;I just wanted to have some feedback from the community before I go on.&lt;/p&gt;

&lt;p&gt;Also, do we still need the JavaCC part now that we use ANTLR?&lt;/p&gt;</comment>
                            <comment id="13155302" author="alangates" created="Tue, 22 Nov 2011 17:57:41 +0000"  >&lt;p&gt;+1, patch looks good.  Runs fine with jar, jar-withouthadoop, clean, test, docs, test-e2e, and package&lt;/p&gt;</comment>
                            <comment id="13173308" author="azaroth" created="Tue, 20 Dec 2011 17:01:10 +0000"  >&lt;p&gt;Attaching &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2362&quot; title=&quot;Rework Ant build.xml to use macrodef instead of antcall&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2362&quot;&gt;&lt;del&gt;PIG-2362&lt;/del&gt;&lt;/a&gt;.2.patch&lt;br/&gt;
Removed all ant-calls.&lt;br/&gt;
Tested with jar, jar-withouthadoop, test, test-e2e, package, docs.&lt;/p&gt;

&lt;p&gt;The patch is ready for review.&lt;/p&gt;</comment>
                            <comment id="13176176" author="azaroth" created="Tue, 27 Dec 2011 13:59:08 +0000"  >&lt;p&gt;Attaching &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2362&quot; title=&quot;Rework Ant build.xml to use macrodef instead of antcall&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2362&quot;&gt;&lt;del&gt;PIG-2362&lt;/del&gt;&lt;/a&gt;.3.patch&lt;br/&gt;
Rebased patch on latest trunk.&lt;br/&gt;
Ready for review.&lt;/p&gt;</comment>
                            <comment id="13176520" author="daijy" created="Wed, 28 Dec 2011 08:30:25 +0000"  >&lt;p&gt;I guess you need to resync again &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13176706" author="azaroth" created="Wed, 28 Dec 2011 17:08:32 +0000"  >&lt;p&gt;Rebased once again &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13178253" author="daijy" created="Mon, 2 Jan 2012 00:23:02 +0000"  >&lt;p&gt;Seems &quot;include-meta&quot; is not being called after patch? This is necessary for hadoop 23.&lt;/p&gt;</comment>
                            <comment id="13187877" author="azaroth" created="Tue, 17 Jan 2012 18:52:26 +0000"  >&lt;p&gt;Fixed the issue for &quot;include-meta&quot; and removed another antcall in the process.&lt;br/&gt;
I am waiting for &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2349&quot; title=&quot;Ant build repeats ivy-buildJar several times&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2349&quot;&gt;&lt;del&gt;PIG-2349&lt;/del&gt;&lt;/a&gt; to be committed in order to rebase the patch as they will most likely step on each other&apos;s toes.&lt;/p&gt;</comment>
                            <comment id="13188414" author="azaroth" created="Wed, 18 Jan 2012 11:41:04 +0000"  >&lt;p&gt;Attaching &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2362&quot; title=&quot;Rework Ant build.xml to use macrodef instead of antcall&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2362&quot;&gt;&lt;del&gt;PIG-2362&lt;/del&gt;&lt;/a&gt;.5.patch&lt;br/&gt;
This solves the include-meta issue, even though I had to keep the antcall for it.&lt;br/&gt;
I will refactor it in a separate ticket.&lt;/p&gt;</comment>
                            <comment id="13188963" author="daijy" created="Thu, 19 Jan 2012 07:06:12 +0000"  >&lt;p&gt;Seems still get some problem with hadoop 23 local mode. To reproduce, run Pig with hadoop23 in local mode:&lt;br/&gt;
ant -Dhadoopversion=23&lt;br/&gt;
pig -x local&lt;/p&gt;

&lt;p&gt;Then run a trivial load/dump. &lt;/p&gt;

&lt;p&gt;Here is the error I see:&lt;br/&gt;
Caused by: java.io.IOException: Cannot initialize Cluster. Please check your configuration for mapreduce.framework.name and the correspond server addresses.&lt;br/&gt;
        at org.apache.hadoop.mapreduce.Cluster.initialize(Cluster.java:123)&lt;br/&gt;
        at org.apache.hadoop.mapreduce.Cluster.&amp;lt;init&amp;gt;(Cluster.java:85)&lt;br/&gt;
        at org.apache.hadoop.mapreduce.Cluster.&amp;lt;init&amp;gt;(Cluster.java:78)&lt;br/&gt;
        at org.apache.hadoop.mapred.JobClient.init(JobClient.java:476)&lt;br/&gt;
        at org.apache.hadoop.mapred.JobClient.&amp;lt;init&amp;gt;(JobClient.java:455)&lt;br/&gt;
        at org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.MapReduceLauncher.launchPig(MapReduceLauncher.java:155)&lt;br/&gt;
        at org.apache.pig.PigServer.launchPlan(PigServer.java:1271)&lt;br/&gt;
        ... 11 more&lt;/p&gt;

&lt;p&gt;Seems it still has something to do with include-meta. &lt;/p&gt;</comment>
                            <comment id="13245409" author="azaroth" created="Tue, 3 Apr 2012 16:36:43 +0100"  >&lt;p&gt;Switching to Maven renders this Jira obsolete.&lt;/p&gt;</comment>
                            <comment id="13245414" author="azaroth" created="Tue, 3 Apr 2012 16:37:53 +0100"  >&lt;p&gt;Switching to Maven renders this Jira obsolete.&lt;/p&gt;</comment>
                            <comment id="13447051" author="dvryaboy" created="Sun, 2 Sep 2012 23:55:02 +0100"  >&lt;p&gt;Gianmarco, since we have made no progress on mavenizing Pig.. mind taking another crack at this? Seems like we were almost there.&lt;/p&gt;</comment>
                            <comment id="13447179" author="azaroth" created="Mon, 3 Sep 2012 10:29:04 +0100"  >&lt;p&gt;Too bad we didn&apos;t manage to mavenize Pig.&lt;br/&gt;
Yes, I will take another crack at it later this week.&lt;/p&gt;</comment>
                            <comment id="13457366" author="azaroth" created="Mon, 17 Sep 2012 22:38:16 +0100"  >&lt;p&gt;On trunk, if I compile with -Dhadoopversion=23 and I launch bin/pig -x local I get the following error repeated continuously:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2012-09-17 22:44:54,287 [main] ERROR org.apache.pig.tools.grunt.Grunt - ERROR 2998: Unhandled internal error. Could not initialize class org.apache.pig.tools.pigstats.PigStatsUtil
Details at logfile: /Users/gdfm/workspace/pig/git/pig_1347914693509.log
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here the stack trace:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Pig Stack Trace
---------------
ERROR 2998: Unhandled internal error. org/apache/hadoop/mapreduce/task/JobContextImpl

java.lang.NoClassDefFoundError: org/apache/hadoop/mapreduce/task/JobContextImpl
        at org.apache.pig.tools.pigstats.PigStatsUtil.&amp;lt;clinit&amp;gt;(PigStatsUtil.java:54)
        at org.apache.pig.tools.grunt.Grunt.run(Grunt.java:67)
        at org.apache.pig.Main.run(Main.java:538)
        at org.apache.pig.Main.main(Main.java:154)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at org.apache.hadoop.util.RunJar.main(RunJar.java:156)
Caused by: java.lang.ClassNotFoundException: org.apache.hadoop.mapreduce.task.JobContextImpl
        at java.net.URLClassLoader$1.run(URLClassLoader.java:202)
        at java.security.AccessController.doPrivileged(Native Method)
        at java.net.URLClassLoader.findClass(URLClassLoader.java:190)
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:306)
        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:247)
        ... 9 more
================================================================================
Pig Stack Trace
---------------
ERROR 2998: Unhandled internal error. Could not initialize class org.apache.pig.tools.pigstats.PigStatsUtil
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So I am unable to test if the new build works with Hadoop 23.&lt;/p&gt;

&lt;p&gt;This patch produces a new file, pig-core.jar, in the top level directory.&lt;br/&gt;
pig-core.jar is just a copy of pig-0.11.0-SNAPSHOT.jar in build/.&lt;br/&gt;
This is done just for convenience. Once we get rid of compatibility we can remove all the pig jars from the top level directory.&lt;/p&gt;</comment>
                            <comment id="13490451" author="cheolsoo" created="Mon, 5 Nov 2012 04:52:55 +0000"  >&lt;p&gt;I updated the patch based to trunk and fixed a few minor issues. Here is what I did:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Re-based to trunk.&lt;/li&gt;
	&lt;li&gt;Incorporated &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2979&quot; title=&quot;Pig.jar doesn&amp;#39;t work with hadoop-2.0.x&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2979&quot;&gt;&lt;del&gt;PIG-2979&lt;/del&gt;&lt;/a&gt; to get local mode working with hadoop 2.0.x.&lt;/li&gt;
	&lt;li&gt;Incorporated &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2885&quot; title=&quot;TestJobSumission and TestHBaseStorage don&amp;#39;t work with HBase 0.94 and ZK 3.4.3&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2885&quot;&gt;&lt;del&gt;PIG-2885&lt;/del&gt;&lt;/a&gt; to preserve it.&lt;/li&gt;
	&lt;li&gt;Removed duplicate code in the fileset definitions of included jars for w/ and w/o dependencies using patternset.&lt;/li&gt;
	&lt;li&gt;Included joda-time.jar in pig-withouthadoop.jar as well as in pig.jar. It should but wasn&apos;t included.&lt;/li&gt;
	&lt;li&gt;Fixed a typo in the buildJar macrodef: conf/pig-default.properties =&amp;gt; src/pig-default.properties. This was causing e2e test to fail.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Testing done:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;ant jar -Dhadoopversion=&lt;span class=&quot;error&quot;&gt;&amp;#91;20|23&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;ant test -Dhadoopversion=&lt;span class=&quot;error&quot;&gt;&amp;#91;20|23&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;ant test-e2e-local -Dhadoopversion=&lt;span class=&quot;error&quot;&gt;&amp;#91;20|23&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;ant test-e2e -Dhadoopversion=&lt;span class=&quot;error&quot;&gt;&amp;#91;20|23&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;ant clean&lt;/li&gt;
	&lt;li&gt;ant docs&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I also confirmed that there is no diff of the following command between before and after:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
jar -tvf pig.jar | awk &apos;{print $8}&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="13490455" author="cheolsoo" created="Mon, 5 Nov 2012 05:03:14 +0000"  >&lt;p&gt;I don&apos;t think that we want to backport this to branch-0.11, so I am un-linking from 0.11. Please let me know if anyone think otherwise. I will post a patch for 0.11.&lt;/p&gt;

&lt;p&gt;p.s. A typo correction in my previous comment. The command which I compared the diff of is:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
jar -tvf pig-withouthadoop.jar | awk &apos;{print $8}&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Pig.jar has extra contents because I incorporated &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2979&quot; title=&quot;Pig.jar doesn&amp;#39;t work with hadoop-2.0.x&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2979&quot;&gt;&lt;del&gt;PIG-2979&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13493646" author="cheolsoo" created="Fri, 9 Nov 2012 00:54:05 +0000"  >&lt;p&gt;Rebased to trunk again.&lt;/p&gt;</comment>
                            <comment id="13542216" author="azaroth" created="Wed, 2 Jan 2013 16:25:25 +0000"  >&lt;p&gt;Hi Cheolsoo,&lt;br/&gt;
Would you mind rebasing it to trunk once again?&lt;br/&gt;
It does not apply cleanly anymore.&lt;br/&gt;
I will review it as soon as it is rebased.&lt;/p&gt;</comment>
                            <comment id="13542433" author="cheolsoo" created="Wed, 2 Jan 2013 21:29:16 +0000"  >&lt;p&gt;Hi Gianmarco,&lt;/p&gt;

&lt;p&gt;I rebased the patch to trunk. I am attaching patches - with and without whitespace changes for your convenience.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="13543035" author="azaroth" created="Thu, 3 Jan 2013 16:23:42 +0000"  >&lt;p&gt;+1&lt;br/&gt;
It works for both Hadoop 20 and 23.&lt;/p&gt;

&lt;p&gt;Thanks for the work, Cheolsoo.&lt;/p&gt;</comment>
                            <comment id="13543400" author="cheolsoo" created="Thu, 3 Jan 2013 23:11:30 +0000"  >&lt;p&gt;Hi Gianmarco,&lt;/p&gt;

&lt;p&gt;Thank you very much for the review.&lt;/p&gt;

&lt;p&gt;Unfortunately, I realized that I hadn&apos;t incorporated &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2748&quot; title=&quot;Change the names of the jar produced in the build folder to match maven conventions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2748&quot;&gt;&lt;del&gt;PIG-2748&lt;/del&gt;&lt;/a&gt; where &lt;tt&gt;pig-core.jar&lt;/tt&gt; is renamed to &lt;tt&gt;pig-&amp;lt;version&amp;gt;.jar&lt;/tt&gt;. This makes &lt;tt&gt;ant mvn-jar&lt;/tt&gt; fail, so I fixed the issue in a new patch.&lt;/p&gt;

&lt;p&gt;The changes include:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Removed the &lt;tt&gt;pig-core&lt;/tt&gt; target and &lt;tt&gt;pig-core.jar&lt;/tt&gt; from the top level.&lt;/li&gt;
	&lt;li&gt;Build &lt;tt&gt;pig-&amp;lt;version&amp;gt;.jar&lt;/tt&gt; in the &lt;tt&gt;pig&lt;/tt&gt;  and &lt;tt&gt;pig-withouthadoop&lt;/tt&gt; targets.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I verified that &lt;tt&gt;ant jar-all&lt;/tt&gt; builds the same jar files as before.&lt;/p&gt;

&lt;p&gt;Would mind doing a review one more time?&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="13543726" author="azaroth" created="Fri, 4 Jan 2013 09:15:19 +0000"  >&lt;p&gt;Hi Cheolsoo,&lt;/p&gt;

&lt;p&gt;Good catch, thanks. I wasn&apos;t familiar with &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2748&quot; title=&quot;Change the names of the jar produced in the build folder to match maven conventions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2748&quot;&gt;&lt;del&gt;PIG-2748&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
I verified that &lt;tt&gt;ant mvn-jar&lt;/tt&gt; passes.&lt;br/&gt;
Also ran the &lt;tt&gt;eclipse-files&lt;/tt&gt;, &lt;tt&gt;src-release&lt;/tt&gt;, &lt;tt&gt;tar-release&lt;/tt&gt; targets and verified their output.&lt;/p&gt;

&lt;p&gt;+1 to the last patch&lt;/p&gt;</comment>
                            <comment id="13543735" author="cheolsoo" created="Fri, 4 Jan 2013 09:33:15 +0000"  >&lt;p&gt;Committed to trunk. Thanks Gianmarco!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                                                <inwardlinks description="is superceded by">
                                        <issuelink>
            <issuekey id="12546722">PIG-2599</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12503672" name="PIG-2362.1.patch" size="14369" author="azaroth" created="Mon, 14 Nov 2011 20:34:36 +0000"/>
                            <attachment id="12563188" name="PIG-2362.10.patch" size="77081" author="cheolsoo" created="Thu, 3 Jan 2013 23:11:30 +0000"/>
                            <attachment id="12508099" name="PIG-2362.2.patch" size="29773" author="azaroth" created="Tue, 20 Dec 2011 17:01:09 +0000"/>
                            <attachment id="12508675" name="PIG-2362.3.patch" size="29381" author="azaroth" created="Tue, 27 Dec 2011 13:59:08 +0000"/>
                            <attachment id="12508773" name="PIG-2362.4.patch" size="29627" author="azaroth" created="Wed, 28 Dec 2011 17:08:32 +0000"/>
                            <attachment id="12510974" name="PIG-2362.5.patch" size="30519" author="azaroth" created="Wed, 18 Jan 2012 11:41:04 +0000"/>
                            <attachment id="12545479" name="PIG-2362.6.patch" size="29906" author="azaroth" created="Mon, 17 Sep 2012 22:38:16 +0100"/>
                            <attachment id="12552060" name="PIG-2362.7.patch" size="31929" author="cheolsoo" created="Mon, 5 Nov 2012 04:52:55 +0000"/>
                            <attachment id="12552742" name="PIG-2362.8.patch" size="32123" author="cheolsoo" created="Fri, 9 Nov 2012 00:54:05 +0000"/>
                            <attachment id="12562964" name="PIG-2362.9.patch" size="77428" author="cheolsoo" created="Wed, 2 Jan 2013 21:29:16 +0000"/>
                            <attachment id="12562965" name="PIG-2362.9.patch.nowhitespace" size="28580" author="cheolsoo" created="Wed, 2 Jan 2013 21:29:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 22 Nov 2011 17:57:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>217066</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy8ken:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>83949</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>