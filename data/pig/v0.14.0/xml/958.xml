<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:05:04 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-958/PIG-958.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-958] Splitting output data on key field</title>
                <link>https://issues.apache.org/jira/browse/PIG-958</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;Pig users often face the need to split the output records into a bunch of files and directories depending on the type of record. Pig&apos;s SPLIT operator is useful when record types are few and known in advance. In cases where type is not directly known but is derived dynamically from values of a key field in the output tuple, a custom store function is a better solution.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12435600">PIG-958</key>
            <summary>Splitting output data on key field</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ankur">Ankur</assignee>
                                    <reporter username="ankur">Ankur</reporter>
                        <labels>
                    </labels>
                <created>Mon, 14 Sep 2009 14:56:22 +0100</created>
                <updated>Wed, 24 Mar 2010 22:15:55 +0000</updated>
                            <resolved>Thu, 5 Nov 2009 21:45:01 +0000</resolved>
                                    <version>0.4.0</version>
                                    <fixVersion>0.6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="12754990" author="ankur" created="Mon, 14 Sep 2009 14:58:29 +0100"  >&lt;p&gt;Attached is an implementation of a custom store function that splits the data dynamically based on the values of user specified key field in the output tuple&lt;/p&gt;</comment>
                            <comment id="12755896" author="hadoopqa" created="Wed, 16 Sep 2009 07:18:45 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12419527/958.v1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12419527/958.v1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 815571.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to cause Findbugs to fail.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/31/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/31/testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/31/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/31/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12755928" author="ankur" created="Wed, 16 Sep 2009 09:05:33 +0100"  >&lt;p&gt;Hudson seems to be failing during compilation as my test case defined in package org.apache.pig.piggybank.test.storage  is reusing certain classes from org.apache.pig.test, namely &apos;Util&apos; and MiniCluster.&lt;/p&gt;

</comment>
                            <comment id="12758173" author="ankur" created="Tue, 22 Sep 2009 09:42:05 +0100"  >&lt;p&gt;Fixed wrong src path of the classes&lt;/p&gt;</comment>
                            <comment id="12758214" author="hadoopqa" created="Tue, 22 Sep 2009 12:29:11 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12420264/958.v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12420264/958.v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 817319.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    -1 release audit.  The applied patch generated 280 release audit warnings (more than the trunk&apos;s current 278 warnings).&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/43/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/43/testReport/&lt;/a&gt;&lt;br/&gt;
Release audit warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/43/artifact/trunk/patchprocess/releaseAuditDiffWarnings.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/43/artifact/trunk/patchprocess/releaseAuditDiffWarnings.txt&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/43/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/43/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/43/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/43/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12758952" author="pkamath" created="Thu, 24 Sep 2009 01:48:51 +0100"  >&lt;p&gt;In general the patch looks good - do address the hudson QA issues. Some code review comments:&lt;/p&gt;

&lt;p&gt;1) I don&apos;t think pig.properties changes should be part of this patch - was this accidental? Likewise for Main.java.&lt;/p&gt;

&lt;p&gt;2)&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; 72   /**                                                                                                                                                                                                                                  
 73    *  storeUID is needed to get the around the case of multi-query optimisation where                                                                                                                                                  
 74    *  multiple instances of MultiStorage could be running in a single mapper/reducer                                                                                                                                                   
 75    *  and run the risk of overwriting each other&apos;s output.                                                                                                                                                                             
 76    */      
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Wouldn&apos;t the multiple instances be writing to different locations in which case there should be no race condition right?&lt;/p&gt;

&lt;p&gt;3)&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;172   private void initJobSpecificParams() throws IOException {                                                                                                                                                                            
173     if (partition == null || outputPath == null) {   
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Wouldn&apos;t the outputPath never be null since it is initialized in the constructor?&lt;/p&gt;

&lt;p&gt;4) Consider removing the log.debug() since these are all in the inner loop and would possibly impact performance.&lt;/p&gt;

&lt;p&gt;5)&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;291         String fieldValueBasedPathStr = fieldValueBasedPath.toUri().getPath(); 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This variable is only really used in a log.debug(), I think removing this and using fieldValueBasedPath in all the fs.create() will make the code shorter and cleaner.&lt;/p&gt;

&lt;p&gt;6) Some comments on why the move of the output dirs is needed and in the moveResults() and removePart() methods would be helpful. Additional comments on the code flow would also help&lt;/p&gt;</comment>
                            <comment id="12759733" author="hadoopqa" created="Fri, 25 Sep 2009 21:36:20 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12420264/958.v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12420264/958.v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 818929.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    -1 release audit.  The applied patch generated 281 release audit warnings (more than the trunk&apos;s current 279 warnings).&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/46/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/46/testReport/&lt;/a&gt;&lt;br/&gt;
Release audit warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/46/artifact/trunk/patchprocess/releaseAuditDiffWarnings.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/46/artifact/trunk/patchprocess/releaseAuditDiffWarnings.txt&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/46/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/46/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/46/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/46/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12759742" author="pkamath" created="Fri, 25 Sep 2009 21:58:29 +0100"  >&lt;p&gt;The release audit warning I think is related to  missing Apache header comment - can you add Apache header comment by pasting it from some other source file in svn - every file needs to have the apache header as a comment at the beginning of the file - you will need to add it to the beginning of source and test file. Also if you agree with any of the review comments you can incorporate those changes when you submit the next version of the patch.&lt;/p&gt;</comment>
                            <comment id="12763960" author="ankur" created="Fri, 9 Oct 2009 11:30:54 +0100"  >&lt;p&gt;Pradeep,&lt;br/&gt;
                 Thanks for your review comments. I have incorporated the suggestions provided in the code review. The code is vastly simplified, cleaner and more readable &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. &lt;/p&gt;

&lt;p&gt;Unit test now pass in local mode but fail in cluster mode after taking an update of Pig code base. The error I see is :-&lt;br/&gt;
hdfs://localhost.localdomain:40352/user/gankur/output/_temporary/_attempt_20091009030519686_0001_m_000000_0/output, expected: &lt;a href=&quot;file:///&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:///&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Looks like a config issue with org.apache.pig.test.MiniCluster in the latest pig code. I didn&apos;t get time to debug this as I am going on a vacation. Regardless, I have attached the new patch for your review. Please suggest what needs to be done to pass the unit test in cluster mode.&lt;/p&gt;

&lt;p&gt;-Ankur&lt;/p&gt;</comment>
                            <comment id="12764773" author="pkamath" created="Mon, 12 Oct 2009 19:11:28 +0100"  >&lt;p&gt;+1 - changes looks good!&lt;br/&gt;
For the test, I observed you were using the mapreduce mode pigserver object even in local mode - I made some changes but was unable to run the tests due to some config issue in setting up the test run - did not explore more - nevertheless here is what I changed:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;127   private void testMultiStorage(PigServer pigServer, Mode mode,                                                                                                                                                                        &lt;br/&gt;
128       String... queries) throws IOException {                                                                                                                                                                                          &lt;br/&gt;
129     PigServer ps = (mode == Mode.cluster) ? pigServer: pigServerLocal;                                                                                                                                                                 &lt;br/&gt;
130     ps.setBatchOn();                                                                                                                                                                                                                   &lt;br/&gt;
131     for (String query : queries) &lt;/p&gt;
{                                                                                                                                                                                                     
132       ps.registerQuery(query);                                                                                                                                                                                                         
133     }
&lt;p&gt;                                                                                                                                                                                                                                  &lt;br/&gt;
134     ps.executeBatch();                                                                                                                                                                                                                 &lt;br/&gt;
135     verifyResults(mode);                                                                                                                                                                                                               &lt;br/&gt;
136   }                           &lt;/p&gt;
{nofrmat}

&lt;p&gt;Check if making the above changes solves the issue you are seeing.&lt;/p&gt;</comment>
                            <comment id="12770039" author="ankur" created="Mon, 26 Oct 2009 14:29:50 +0000"  >&lt;p&gt;1. When run in cluster mode, static variable PigMapReduce.sJobConf is null when checked in the UDF constructor but NOT null when UDF is actually invoked. This  causes incorrect initialization of FileSystem object &apos;fs&apos; to local filesystem, causing the test to fail. Moved to &apos;fs&apos; initialization to intijobSpecificParams() method.&lt;/p&gt;

&lt;p&gt;2. Deleting the temporary directory manually in finish(), causes the job to fail. Removed the manual deletion. As a side effect, user specified PARENT output directory in the UDF will have empty part-* files. These should be deleted manually by the user.&lt;/p&gt;

&lt;p&gt;Verfied that UDF works correctly and that unit test pass&lt;/p&gt;</comment>
                            <comment id="12770042" author="ankur" created="Mon, 26 Oct 2009 14:33:57 +0000"  >&lt;p&gt;Just back from vacation. Have updated the code with required changes. It should be good to go now. Pradeep can you or any other committer review it ?&lt;/p&gt;
</comment>
                            <comment id="12772925" author="ankur" created="Tue, 3 Nov 2009 07:43:39 +0000"  >&lt;p&gt;Can we have an update on this please ?&lt;/p&gt;</comment>
                            <comment id="12773181" author="pkamath" created="Tue, 3 Nov 2009 20:34:55 +0000"  >&lt;blockquote&gt;&lt;p&gt;2. Deleting the temporary directory manually in finish(), causes the job to fail. Removed the manual deletion. As a side effect, user specified PARENT output directory in the UDF will have empty part-* files. These should be deleted manually by the user.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Can you explain this a little more - been long since I last looked at the code - there seems to be some mv and this deletion happening - if you can explain that part too it would be helpful&lt;/p&gt;

&lt;p&gt;Otherwise looks good.&lt;/p&gt;</comment>
                            <comment id="12773184" author="pkamath" created="Tue, 3 Nov 2009 20:42:05 +0000"  >&lt;p&gt;I saw compile errors while trying to run unit test:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[..contrib/piggybank/java]ant test
..

    [javac] /homes/pradeepk/dev/pig-commit/PIG-958.v4/contrib/piggybank/java/src/test/java/org/apache/pig/piggybank/test/storage/TestMultiStorage.java:44: cannot find symbol
    [javac] symbol  : variable MiniCluster
    [javac] location: class org.apache.pig.piggybank.test.storage.TestMultiStorage
    [javac]   private MiniCluster cluster = MiniCluster.buildCluster();
    [javac]                                 ^
    [javac] /homes/pradeepk/dev/pig-commit/PIG-958.v4/contrib/piggybank/java/src/test/java/org/apache/pig/piggybank/test/storage/TestMultiStorage.java:73: cannot find symbol
    [javac] symbol  : variable Util
    [javac] location: class org.apache.pig.piggybank.test.storage.TestMultiStorage
    [javac]     Util.deleteFile(cluster, INPUT_FILE);
    [javac]     ^
    [javac] /homes/pradeepk/dev/pig-commit/PIG-958.v4/contrib/piggybank/java/src/test/java/org/apache/pig/piggybank/test/storage/TestMultiStorage.java:74: cannot find symbol
    [javac] symbol  : variable Util
    [javac] location: class org.apache.pig.piggybank.test.storage.TestMultiStorage
    [javac]     Util.copyFromLocalToCluster(cluster, INPUT_FILE, INPUT_FILE);
    [javac]     ^
    [javac] /homes/pradeepk/dev/pig-commit/PIG-958.v4/contrib/piggybank/java/src/test/java/org/apache/pig/piggybank/test/storage/TestMultiStorage.java:96: cannot find symbol
    [javac] symbol  : variable Util
    [javac] location: class org.apache.pig.piggybank.test.storage.TestMultiStorage
    [javac]     Util.deleteFile(cluster, INPUT_FILE);
    [javac]     ^
..
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12773389" author="ankur" created="Wed, 4 Nov 2009 06:30:57 +0000"  >&lt;p&gt;&amp;gt; Can you explain this a little bit more - ......&lt;br/&gt;
In the earlier patch (958.v3.patch), After moving the results from the tasks current working directory, I was manually deleting the directory. This is to ensure that empty part files don&apos;t get moved to the final output directory. But doing so causes hadoop to complain that it can no longer write to task&apos;s output dir and the task fails.&lt;/p&gt;

&lt;p&gt;&amp;gt; I saw compile errors while trying to run unit test: ...&lt;br/&gt;
Did you compile the pig.jar  and ran core test before. This creates the necessary classes and jar file son the local machine required by contrib tests.&lt;/p&gt;

&lt;p&gt;On my local machine&lt;br/&gt;
gankur@grainflydivide-dr:pig_trunk$ ant &lt;br/&gt;
...&lt;br/&gt;
buildJar:&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; svnString 830456&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;jar&amp;#93;&lt;/span&gt; Building jar: /home/gankur/eclipse/workspace/pig_trunk/build/pig-0.6.0-dev-core.jar&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;jar&amp;#93;&lt;/span&gt; Building jar: /home/gankur/eclipse/workspace/pig_trunk/build/pig-0.6.0-dev.jar&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;copy&amp;#93;&lt;/span&gt; Copying 1 file to /home/gankur/eclipse/workspace/pig_trunk&lt;/p&gt;

&lt;p&gt;gankur@grainflydivide-dr:pig_trunk$ ant test&lt;br/&gt;
...&lt;br/&gt;
test-core:&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;delete&amp;#93;&lt;/span&gt; Deleting directory /home/gankur/eclipse/workspace/pig_trunk/build/test/logs&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;mkdir&amp;#93;&lt;/span&gt; Created dir: /home/gankur/eclipse/workspace/pig_trunk/build/test/logs&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running org.apache.pig.test.TestAdd&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 1, Failures: 0, Errors: 0, Time elapsed: 0.024 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running org.apache.pig.test.TestAlgebraicEval&lt;br/&gt;
...&lt;br/&gt;
gankur@grainflydivide-dr:pig_trunk$ cd contrib/piggybank/java/&lt;br/&gt;
gankur@grainflydivide-dr:java$ ant test&lt;br/&gt;
...&lt;br/&gt;
test:&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt;  *** Running UDF tests ***&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;delete&amp;#93;&lt;/span&gt; Deleting directory /home/gankur/eclipse/workspace/pig_trunk/contrib/piggybank/java/build/test/logs&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;mkdir&amp;#93;&lt;/span&gt; Created dir: /home/gankur/eclipse/workspace/pig_trunk/contrib/piggybank/java/build/test/logs&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running org.apache.pig.piggybank.test.evaluation.TestEvalString&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 6, Failures: 0, Errors: 0, Time elapsed: 0.15 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running org.apache.pig.piggybank.test.evaluation.TestMathUDF&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 35, Failures: 0, Errors: 0, Time elapsed: 0.123 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running org.apache.pig.piggybank.test.evaluation.TestStat&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 2, Failures: 0, Errors: 0, Time elapsed: 0.114 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running org.apache.pig.piggybank.test.evaluation.datetime.TestDiffDate&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 1, Failures: 0, Errors: 0, Time elapsed: 0.105 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running org.apache.pig.piggybank.test.evaluation.decode.TestDecode&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 3, Failures: 0, Errors: 0, Time elapsed: 0.089 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running org.apache.pig.piggybank.test.evaluation.string.TestHashFNV&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 1, Failures: 0, Errors: 0, Time elapsed: 0.094 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running org.apache.pig.piggybank.test.evaluation.string.TestLookupInFiles&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 1, Failures: 0, Errors: 0, Time elapsed: 17.163 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running org.apache.pig.piggybank.test.evaluation.string.TestRegex&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 2, Failures: 0, Errors: 0, Time elapsed: 0.092 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running org.apache.pig.piggybank.test.evaluation.util.TestSearchQuery&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 1, Failures: 0, Errors: 0, Time elapsed: 0.093 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running org.apache.pig.piggybank.test.evaluation.util.TestTop&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 1, Failures: 0, Errors: 0, Time elapsed: 0.099 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running org.apache.pig.piggybank.test.evaluation.util.apachelogparser.TestDateExtractor&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 8, Failures: 0, Errors: 0, Time elapsed: 0.087 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running org.apache.pig.piggybank.test.evaluation.util.apachelogparser.TestHostExtractor&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 2, Failures: 0, Errors: 0, Time elapsed: 0.083 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running org.apache.pig.piggybank.test.evaluation.util.apachelogparser.TestSearchEngineExtractor&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 2, Failures: 0, Errors: 0, Time elapsed: 0.091 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running org.apache.pig.piggybank.test.evaluation.util.apachelogparser.TestSearchTermExtractor&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 2, Failures: 0, Errors: 0, Time elapsed: 0.1 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running org.apache.pig.piggybank.test.storage.TestCombinedLogLoader&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 3, Failures: 0, Errors: 0, Time elapsed: 0.535 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running org.apache.pig.piggybank.test.storage.TestCommonLogLoader&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 3, Failures: 0, Errors: 0, Time elapsed: 0.54 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running org.apache.pig.piggybank.test.storage.TestHelper&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 1, Failures: 0, Errors: 0, Time elapsed: 0.014 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running org.apache.pig.piggybank.test.storage.TestMultiStorage&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 1, Failures: 0, Errors: 0, Time elapsed: 16.964 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running org.apache.pig.piggybank.test.storage.TestMyRegExLoader&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 1, Failures: 0, Errors: 0, Time elapsed: 0.452 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running org.apache.pig.piggybank.test.storage.TestRegExLoader&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 1, Failures: 0, Errors: 0, Time elapsed: 0.302 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running org.apache.pig.piggybank.test.storage.TestSequenceFileLoader&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 2, Failures: 0, Errors: 0, Time elapsed: 0.883 sec&lt;/p&gt;

&lt;p&gt;BUILD SUCCESSFUL&lt;br/&gt;
Total time: 58 seconds&lt;/p&gt;
</comment>
                            <comment id="12774092" author="pkamath" created="Thu, 5 Nov 2009 21:45:01 +0000"  >&lt;p&gt;Patch committed, thanks for the contribution Ankur!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12421723" name="958.v3.patch" size="18322" author="ankur" created="Fri, 9 Oct 2009 11:30:54 +0100"/>
                            <attachment id="12423200" name="958.v4.patch" size="18289" author="ankur" created="Mon, 26 Oct 2009 14:29:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 16 Sep 2009 06:18:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164497</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyakwf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>95697</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>