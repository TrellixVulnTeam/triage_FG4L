<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:48:07 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-103/PIG-103.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-103] Shared Job /tmp location should be configurable</title>
                <link>https://issues.apache.org/jira/browse/PIG-103</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;I&apos;m investigating running pig in an environment where various parts of the &lt;a href=&quot;file://&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file://&lt;/a&gt; filesystem are available on all nodes. I can tell hadoop to use a &lt;a href=&quot;file://&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file://&lt;/a&gt; file system location for it&apos;s default, by seting fs.default.name=&lt;a href=&quot;file://path/to/shared/folder&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file://path/to/shared/folder&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;However, this creates issues for Pig, as Pig writes it&apos;s job information in a folder that it assumes is a shared FS (eg DFS). However, in this scenario /tmp is not shared on each machine.&lt;/p&gt;

&lt;p&gt;So /tmp should either be configurable, or Hadoop should tell you the actual full location set in fs.default.name?&lt;/p&gt;

&lt;p&gt;Straightforward solution is to make &quot;/tmp/&quot; a property in src/org/apache/pig/impl/io/FileLocalizer.java init(PigContext)&lt;br/&gt;
Any suggestions of property names?&lt;/p&gt;</description>
                <environment>&lt;p&gt;Partially shared &lt;a href=&quot;file://&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file://&lt;/a&gt; filesystem (eg NFS)&lt;/p&gt;</environment>
        <key id="12388346">PIG-103</key>
            <summary>Shared Job /tmp location should be configurable</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nrai">niraj rai</assignee>
                                    <reporter username="craigm">Craig Macdonald</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Feb 2008 12:20:22 +0000</created>
                <updated>Fri, 17 Dec 2010 22:43:03 +0000</updated>
                            <resolved>Mon, 9 Aug 2010 23:28:57 +0100</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                    <component>impl</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12895758" author="nrai" created="Thu, 5 Aug 2010 19:10:02 +0100"  >&lt;p&gt;This patch is to make the pig temp directory for the intermediate data configurable.&lt;/p&gt;</comment>
                            <comment id="12896102" author="rding" created="Fri, 6 Aug 2010 18:59:14 +0100"  >&lt;p&gt;The patch looks good.  A couple of comments:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;In FileLocalizer, it&apos;s better to call the getProperty&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; tdir= pigContext.getProperties().getProperty(&lt;span class=&quot;code-quote&quot;&gt;&quot;pig.temp.loc&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;/tmp&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;from inside of the if-block so it only gets called when needed.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;In the unit test, it world be good to verify the method&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
FileLocalizer.getTemporaryPath(PigContext pigContext)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;returns the correct temp directory.&lt;/p&gt;</comment>
                            <comment id="12896116" author="thejas" created="Fri, 6 Aug 2010 19:45:09 +0100"  >&lt;p&gt;I think using &quot;.dir&quot; instead of &quot;.loc&quot; in the property name would be better, it be consistent with mapred.temp.dir , and also similar to java.io.tempdir. &lt;/p&gt;</comment>
                            <comment id="12896633" author="nrai" created="Mon, 9 Aug 2010 18:31:27 +0100"  >&lt;p&gt;Implemented the review recommendations.&lt;/p&gt;</comment>
                            <comment id="12896714" author="rding" created="Mon, 9 Aug 2010 23:28:56 +0100"  >&lt;p&gt;The patch committed to the trunk. Thanks Niraj.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12451352" name="conf_tmp_dir.patch" size="2418" author="nrai" created="Thu, 5 Aug 2010 19:10:02 +0100"/>
                            <attachment id="12451609" name="conf_tmp_dir_2.patch" size="2652" author="nrai" created="Mon, 9 Aug 2010 18:31:27 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 5 Aug 2010 18:10:02 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>163765</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyaapr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>94047</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>documentation</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>