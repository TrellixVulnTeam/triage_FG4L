<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:58:46 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-1446/PIG-1446.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-1446] OOME in a query having a bincond in the inner plan of a Foreach.</title>
                <link>https://issues.apache.org/jira/browse/PIG-1446</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;This is seen when For Each is following a group-by and there is a bin cond as an inner plan of For Each.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12466671">PIG-1446</key>
            <summary>OOME in a query having a bincond in the inner plan of a Foreach.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashutoshc">Ashutosh Chauhan</assignee>
                                    <reporter username="ashutoshc">Ashutosh Chauhan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 10 Jun 2010 18:23:42 +0100</created>
                <updated>Fri, 17 Dec 2010 22:44:32 +0000</updated>
                            <resolved>Fri, 11 Jun 2010 18:55:59 +0100</resolved>
                                    <version>0.7.0</version>
                                    <fixVersion>0.7.0</fixVersion>
                    <fixVersion>0.8.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12877501" author="ashutoshc" created="Thu, 10 Jun 2010 18:33:58 +0100"  >&lt;p&gt;Sequence of event is as follows:&lt;br/&gt;
1) MultiQuery optimizer combined 30 group-bys in one reducer. So, there are 30 pipelines in a reducer.&lt;br/&gt;
2) Each of these group-by has a ForEach after them.&lt;br/&gt;
3) ForEach has a bincond in its own plan.&lt;br/&gt;
4) Group-by resulted in large bags (10s of million of records).&lt;br/&gt;
5) Tuple containing group and bag is attached to the roots of inner plan of FE.&lt;br/&gt;
6) FE pulled the tuples through its leaves.&lt;br/&gt;
7) Due to short-circuiting in bin-cond, one branch of the plan is never pulled resulting in stray reference of bag which actually was not needed.&lt;br/&gt;
8) Due to MQ optimized 30 group-bys, we had many such bags now hanging in there, eating up all the memory.&lt;/p&gt;

&lt;p&gt;Fix: Detach tuples from the roots once you are done in FE.&lt;/p&gt;</comment>
                            <comment id="12877540" author="daijy" created="Thu, 10 Jun 2010 20:30:31 +0100"  >&lt;p&gt;+1. Please commit after test and hudson pass.&lt;/p&gt;</comment>
                            <comment id="12877887" author="ashutoshc" created="Fri, 11 Jun 2010 18:55:59 +0100"  >&lt;p&gt;As usual, hudson is not responding. I manually ran all the unit tests, all of them passed. Committed to both trunk and 0.7&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12446776" name="pig-1446.patch" size="1486" author="ashutoshc" created="Thu, 10 Jun 2010 18:33:58 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 10 Jun 2010 19:30:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164935</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyaqj3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>96609</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>