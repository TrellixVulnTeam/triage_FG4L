<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:06:54 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-2349/PIG-2349.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-2349] Ant build repeats ivy-buildJar several times</title>
                <link>https://issues.apache.org/jira/browse/PIG-2349</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;The ivy-buildjar step is repeated 3 times in one build.&lt;br/&gt;
I think we can use an &amp;lt;uptodate&amp;gt; task to avoid checking the libs every time, speeding up the build and reducing screen spam.&lt;/p&gt;

&lt;p&gt;Thoughts?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12530066">PIG-2349</key>
            <summary>Ant build repeats ivy-buildJar several times</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="azaroth">Gianmarco De Francisci Morales</assignee>
                                    <reporter username="azaroth">Gianmarco De Francisci Morales</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Nov 2011 15:06:21 +0000</created>
                <updated>Fri, 22 Feb 2013 04:54:01 +0000</updated>
                            <resolved>Wed, 18 Jan 2012 10:25:07 +0000</resolved>
                                    <version>0.11</version>
                                    <fixVersion>0.11</fixVersion>
                                    <component>build</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13143265" author="ashutoshc" created="Thu, 3 Nov 2011 16:02:59 +0000"  >&lt;p&gt;Anything reducing build time is a welcome change.&lt;/p&gt;</comment>
                            <comment id="13149623" author="azaroth" created="Mon, 14 Nov 2011 13:35:52 +0000"  >&lt;p&gt;Attaching &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2349&quot; title=&quot;Ant build repeats ivy-buildJar several times&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2349&quot;&gt;&lt;del&gt;PIG-2349&lt;/del&gt;&lt;/a&gt;.1.patch&lt;/p&gt;

&lt;p&gt;First attempt to reduce build time.&lt;br/&gt;
Now Ivy:resolve gets called only once, for all configurations.&lt;br/&gt;
This is slower the first time, but much faster afterwards.&lt;br/&gt;
It cuts my common-case build time by half.&lt;/p&gt;

&lt;p&gt;Comments?&lt;/p&gt;</comment>
                            <comment id="13176519" author="daijy" created="Wed, 28 Dec 2011 08:29:43 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13176700" author="azaroth" created="Wed, 28 Dec 2011 16:46:23 +0000"  >&lt;p&gt;Rebased, finalized and committed &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2349&quot; title=&quot;Ant build repeats ivy-buildJar several times&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2349&quot;&gt;&lt;del&gt;PIG-2349&lt;/del&gt;&lt;/a&gt;.2.patch to trunk.&lt;/p&gt;</comment>
                            <comment id="13179209" author="daijy" created="Wed, 4 Jan 2012 01:35:00 +0000"  >&lt;p&gt;Seems this patch break 23 tests. I guess the dependency of ivy cache in 23 tests is the cause. To reproduce it, run any MiniCluster test in 23, such as:&lt;br/&gt;
ant -Dtestcase=TestKeyTypeDiscoveryVisitor -Dhadoopversion=23 test&lt;/p&gt;

&lt;p&gt;I have to temporarily revert this patch until we fix the issue.&lt;/p&gt;</comment>
                            <comment id="13179214" author="daijy" created="Wed, 4 Jan 2012 01:41:43 +0000"  >&lt;p&gt;To be more specific, Pig puts ivy cache into a text file mrapp-generated-classpath, MiniCluster will search for this file and load dependent jars. I guess this process is broken by the patch.&lt;/p&gt;</comment>
                            <comment id="13179373" author="azaroth" created="Wed, 4 Jan 2012 09:33:59 +0000"  >&lt;p&gt;Thanks for reporting the problem Daniel.&lt;br/&gt;
I will fix it and test it with hadoop23.&lt;/p&gt;</comment>
                            <comment id="13187178" author="azaroth" created="Mon, 16 Jan 2012 20:52:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2349&quot; title=&quot;Ant build repeats ivy-buildJar several times&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2349&quot;&gt;&lt;del&gt;PIG-2349&lt;/del&gt;&lt;/a&gt;.3.patch should fix the issue with hadoop23.&lt;br/&gt;
For the records, the path generated after the buggy patch was a superset of the original one, so the fault was caused by some jar that should not have been in the classpath.&lt;br/&gt;
I fixed it restricting the classpath to the test ivy configuration.&lt;/p&gt;

&lt;p&gt;test-commit passes also for hadoop23.&lt;br/&gt;
I have a failure for TestBuiltin on hadoop23 but it seems unrelated as it fails also in trunk.&lt;/p&gt;</comment>
                            <comment id="13187193" author="azaroth" created="Mon, 16 Jan 2012 21:13:45 +0000"  >&lt;p&gt;Forgot to grant license to ASF.&lt;/p&gt;</comment>
                            <comment id="13187919" author="dvryaboy" created="Tue, 17 Jan 2012 19:28:12 +0000"  >&lt;p&gt;TestBuiltin passes in trunk. Do you mean that it fails with hadoop23? Is that related to &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2468&quot; title=&quot;Speed up TestBuiltin&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2468&quot;&gt;&lt;del&gt;PIG-2468&lt;/del&gt;&lt;/a&gt; ?&lt;/p&gt;</comment>
                            <comment id="13187953" author="azaroth" created="Tue, 17 Jan 2012 20:03:21 +0000"  >&lt;p&gt;Yes, I meant it fails with hadoop23.&lt;br/&gt;
I reverted to before &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2468&quot; title=&quot;Speed up TestBuiltin&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2468&quot;&gt;&lt;del&gt;PIG-2468&lt;/del&gt;&lt;/a&gt; and TestBuiltin passes, so it is most likely caused by it.&lt;/p&gt;</comment>
                            <comment id="13188144" author="daijy" created="Wed, 18 Jan 2012 00:07:20 +0000"  >&lt;p&gt;+1. Both hadoop23/hadoop20 runs fine for me.&lt;/p&gt;</comment>
                            <comment id="13188378" author="azaroth" created="Wed, 18 Jan 2012 10:25:07 +0000"  >&lt;p&gt;Patch committed to trunk.&lt;br/&gt;
Thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12503612" name="PIG-2349.1.patch" size="5078" author="azaroth" created="Mon, 14 Nov 2011 13:34:03 +0000"/>
                            <attachment id="12508772" name="PIG-2349.2.patch" size="5441" author="azaroth" created="Wed, 28 Dec 2011 16:46:23 +0000"/>
                            <attachment id="12510750" name="PIG-2349.3.patch" size="5953" author="azaroth" created="Mon, 16 Jan 2012 21:13:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 3 Nov 2011 16:02:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>215925</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyawsf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>97623</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>