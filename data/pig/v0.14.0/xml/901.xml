<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:59:31 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-901/PIG-901.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-901] InputSplit (SliceWrapper) created by Pig is big in size due to serialized PigContext</title>
                <link>https://issues.apache.org/jira/browse/PIG-901</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;InputSplit (SliceWrapper) created by Pig is big in size due to serialized PigContext. SliceWrapper only needs ExecType - so the entire PigContext should not be serialized and only the ExecType should be serialized.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12432073">PIG-901</key>
            <summary>InputSplit (SliceWrapper) created by Pig is big in size due to serialized PigContext</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pkamath">Pradeep Kamath</assignee>
                                    <reporter username="pkamath">Pradeep Kamath</reporter>
                        <labels>
                    </labels>
                <created>Mon, 3 Aug 2009 19:40:03 +0100</created>
                <updated>Wed, 24 Mar 2010 22:13:11 +0000</updated>
                            <resolved>Thu, 6 Aug 2009 00:19:20 +0100</resolved>
                                    <version>0.4.0</version>
                                    <fixVersion>0.4.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12738496" author="daijy" created="Mon, 3 Aug 2009 19:55:19 +0100"  >&lt;p&gt;PigContext.packageImportList needs to be serialized as well. Otherwise InputSplit cannot instantiate Loader function.&lt;/p&gt;</comment>
                            <comment id="12738667" author="daijy" created="Tue, 4 Aug 2009 00:14:26 +0100"  >&lt;p&gt;Add a unit test to make sure this change will not affect udf.import.list&lt;/p&gt;</comment>
                            <comment id="12738728" author="pkamath" created="Tue, 4 Aug 2009 02:13:58 +0100"  >&lt;p&gt;Patch for 0.3 branch&lt;/p&gt;</comment>
                            <comment id="12738734" author="olgan" created="Tue, 4 Aug 2009 02:25:10 +0100"  >&lt;p&gt;+1 on the patch for the 0.3 branch. Please, commit&lt;/p&gt;</comment>
                            <comment id="12738740" author="acmurthy" created="Tue, 4 Aug 2009 02:30:14 +0100"  >&lt;p&gt;It would be nice to add a test case which (for now) checks to ensure that the size of a serialized &apos;slice&apos; is less than 500KB or so...&lt;/p&gt;</comment>
                            <comment id="12739044" author="pkamath" created="Tue, 4 Aug 2009 18:18:38 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-901&quot; title=&quot;InputSplit (SliceWrapper) created by Pig is big in size due to serialized PigContext&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-901&quot;&gt;&lt;del&gt;PIG-901&lt;/del&gt;&lt;/a&gt;-trunk.patch is for the trunk. The change is in SliceWrapper to serialize ExecType only instead of PigContext since only the ExecType from the PigContext is used on deserialization. The package import list which Daniel referred to is a static member of PigContext which is explicitly set in SliceWrapper.makeRecordReader() and hence is taken care of.&lt;/p&gt;

&lt;p&gt;It is a good suggestion to include a test case to check that even with a sizeable PigContext, we actually create small input splits. However to do this in the current Pig code layout means opening up PigServer and JobControlCompiler so that we can compile a pig script upto job creation and then instead of submitting the job to hadoop, instatiate PigInputFormat with the jobConf and get the Input Splits. This may require some design changes which we should address at some point for these kinds of tests. For now there is regression test in the patch to ensure the package import list is correctly handled and we have manually tested to ensure the split size is small (order of KBs).&lt;/p&gt;</comment>
                            <comment id="12739048" author="acmurthy" created="Tue, 4 Aug 2009 18:25:18 +0100"  >&lt;blockquote&gt;&lt;p&gt;This may require some design changes which we should address at some point for these kinds of tests.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Could you please track this with a new jira? Thanks!&lt;/p&gt;</comment>
                            <comment id="12739056" author="pkamath" created="Tue, 4 Aug 2009 18:36:53 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-906&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/PIG-906&lt;/a&gt; has been created to track changes to enable unit testing these types of hadoop integration scenarios.&lt;/p&gt;</comment>
                            <comment id="12739498" author="gkesavan" created="Wed, 5 Aug 2009 14:50:10 +0100"  >&lt;p&gt;resubmitting to hudson patch queue &lt;/p&gt;</comment>
                            <comment id="12739583" author="hadoopqa" created="Wed, 5 Aug 2009 17:10:23 +0100"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12415495/PIG-901-trunk.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12415495/PIG-901-trunk.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 800494.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-minerva.apache.org/147/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-minerva.apache.org/147/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-minerva.apache.org/147/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-minerva.apache.org/147/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-minerva.apache.org/147/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-minerva.apache.org/147/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12739669" author="olgan" created="Wed, 5 Aug 2009 19:45:56 +0100"  >&lt;p&gt;+1 on the patch to the trunk&lt;/p&gt;</comment>
                            <comment id="12739815" author="pkamath" created="Thu, 6 Aug 2009 00:19:20 +0100"  >&lt;p&gt;Patch committed to trunk and branch-0.3&lt;/p&gt;</comment>
                            <comment id="12740525" author="hudson" created="Fri, 7 Aug 2009 13:12:09 +0100"  >&lt;p&gt;Integrated in Pig-trunk #515 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-trunk/515/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-trunk/515/&lt;/a&gt;)&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12415422" name="PIG-901-1.patch" size="5047" author="daijy" created="Tue, 4 Aug 2009 00:14:26 +0100"/>
                            <attachment id="12415430" name="PIG-901-branch-0.3.patch" size="3406" author="pkamath" created="Tue, 4 Aug 2009 02:13:58 +0100"/>
                            <attachment id="12415495" name="PIG-901-trunk.patch" size="8453" author="pkamath" created="Tue, 4 Aug 2009 18:12:55 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 3 Aug 2009 18:55:19 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164451</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyak9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>95594</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>