<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:58:51 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-1119/PIG-1119.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-1119] [zebra] &quot;group&quot; is a Pig preserved word, zebra needs to use other string for table&apos;s group information</title>
                <link>https://issues.apache.org/jira/browse/PIG-1119</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description></description>
                <environment></environment>
        <key id="12442159">PIG-1119</key>
            <summary>[zebra] &quot;group&quot; is a Pig preserved word, zebra needs to use other string for table&apos;s group information</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jing1234">Jing Huang</reporter>
                        <labels>
                    </labels>
                <created>Wed, 2 Dec 2009 00:02:59 +0000</created>
                <updated>Wed, 24 Mar 2010 22:16:00 +0000</updated>
                            <resolved>Mon, 7 Dec 2009 19:45:40 +0000</resolved>
                                    <version>0.6.0</version>
                                    <fixVersion>0.6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12785225" author="gauravj" created="Thu, 3 Dec 2009 08:29:46 +0000"  >
&lt;p&gt;Please review the patch&lt;/p&gt;</comment>
                            <comment id="12785226" author="gauravj" created="Thu, 3 Dec 2009 08:30:57 +0000"  >
&lt;p&gt;Please review the patch&lt;/p&gt;</comment>
                            <comment id="12785415" author="yanz" created="Thu, 3 Dec 2009 17:52:11 +0000"  >&lt;p&gt;The fix treats &quot;gid&quot; instead of &quot;group&quot; as a zebra reserved word. To be consistent, the keyword &quot;user&quot; should better be changed to &quot;uid&quot;. In addition, one error message still complains about &quot;Group defined more than once&quot; which should read as &quot;Gid defined more than once&quot; now. &lt;/p&gt;

&lt;p&gt;There is no new test case added. There should be at least one test case that shows the PIG problem without this fix but runs ok with this fix.&lt;/p&gt;

&lt;p&gt;Also note that this security feature as supported by the &quot;secure by&quot; clause in storage info during STORE is new in this release, and only experimental and subject to changes in the future with possible loss of backward compatibility support.&lt;/p&gt;</comment>
                            <comment id="12785550" author="hadoopqa" created="Thu, 3 Dec 2009 21:45:51 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12426761/PIG-1119.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12426761/PIG-1119.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 886650.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 30 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h8.grid.sp2.yahoo.net/83/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h8.grid.sp2.yahoo.net/83/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h8.grid.sp2.yahoo.net/83/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h8.grid.sp2.yahoo.net/83/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h8.grid.sp2.yahoo.net/83/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h8.grid.sp2.yahoo.net/83/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12785662" author="jing1234" created="Fri, 4 Dec 2009 00:18:27 +0000"  >&lt;p&gt;Here is the pig script for the test:(group_wrong.pig)&lt;/p&gt;

&lt;p&gt;register /grid/0/dev/hadoopqa/jars/zebra.jar;&lt;br/&gt;
A = load &apos;filter.txt&apos; as (name:chararray, age:int);&lt;br/&gt;
B = group A by name;&lt;br/&gt;
C = foreach B generate group, COUNT(A.name) as cnt;&lt;br/&gt;
Store C into &apos;group1&apos; using org.apache.hadoop.zebra.pig.TableStorer(&apos;&lt;span class=&quot;error&quot;&gt;&amp;#91;group&amp;#93;&lt;/span&gt;;&lt;span class=&quot;error&quot;&gt;&amp;#91;cnt&amp;#93;&lt;/span&gt;&apos;);&lt;/p&gt;

&lt;p&gt;===================&lt;br/&gt;
Here is the error message before the fix:&lt;br/&gt;
ackend error message during job submission&lt;br/&gt;
-------------------------------------------&lt;br/&gt;
java.io.IOException: ColumnGroup.Writer constructor failed : Partition constructor failed :Encountered &quot; &quot;group&quot; &quot;group &quot;&quot; at line 1, column 2.&lt;br/&gt;
Was expecting one of:&lt;br/&gt;
    &amp;lt;IDENTIFIER&amp;gt; ...&lt;br/&gt;
    &quot;]&quot; ...&lt;/p&gt;

&lt;p&gt;        at org.apache.hadoop.zebra.io.BasicTable$Writer.&amp;lt;init&amp;gt;(BasicTable.java:1259)&lt;br/&gt;
        at org.apache.hadoop.zebra.pig.TableOutputFormat.checkOutputSpecs(TableStorer.java:135)&lt;br/&gt;
        at org.apache.hadoop.mapred.JobClient.submitJobInternal(JobClient.java:772)&lt;br/&gt;
        at org.apache.hadoop.mapred.JobClient.submitJob(JobClient.java:730)&lt;br/&gt;
        at org.apache.hadoop.mapred.jobcontrol.Job.submit(Job.java:378)&lt;br/&gt;
        at org.apache.hadoop.mapred.jobcontrol.JobControl.startReadyJobs(JobControl.java:247)&lt;br/&gt;
        at org.apache.hadoop.mapred.jobcontrol.JobControl.run(JobControl.java:279)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:619)&lt;/p&gt;

&lt;p&gt;Pig Stack Trace&lt;br/&gt;
---------------&lt;br/&gt;
ERROR 2997: Unable to recreate exception from backend error: java.io.IOException: ColumnGroup.Writer constructor failed : Partition constructor failed :Encountered &quot; &quot;group&quot; &quot;group &quot;&quot; at line 1, column 2.&lt;/p&gt;

&lt;p&gt;org.apache.pig.backend.executionengine.ExecException: ERROR 2997: Unable to recreate exception from backend error: java.io.IOException: ColumnGroup.Writer constructor failed : Partition constructor failed :Encountered &quot; &quot;group&quot; &quot;group &quot;&quot; at line 1, column 2.&lt;br/&gt;
        at org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.Launcher.getStats(Launcher.java:176)&lt;br/&gt;
        at org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.MapReduceLauncher.launchPig(MapReduceLauncher.java:253)&lt;br/&gt;
        at org.apache.pig.backend.hadoop.executionengine.HExecutionEngine.execute(HExecutionEngine.java:249)&lt;br/&gt;
        at org.apache.pig.PigServer.executeCompiledLogicalPlan(PigServer.java:780)&lt;br/&gt;
        at org.apache.pig.PigServer.execute(PigServer.java:773)&lt;br/&gt;
        at org.apache.pig.PigServer.access$100(PigServer.java:89)&lt;br/&gt;
        at org.apache.pig.PigServer$Graph.execute(PigServer.java:951)&lt;br/&gt;
        at org.apache.pig.PigServer.executeBatch(PigServer.java:248)&lt;br/&gt;
        at org.apache.pig.tools.grunt.GruntParser.executeBatch(GruntParser.java:115)&lt;br/&gt;
        at org.apache.pig.tools.grunt.GruntParser.parseStopOnError(GruntParser.java:172)&lt;br/&gt;
        at org.apache.pig.tools.grunt.GruntParser.parseStopOnError(GruntParser.java:144)&lt;br/&gt;
        at org.apache.pig.tools.grunt.Grunt.exec(Grunt.java:89)&lt;br/&gt;
        at org.apache.pig.Main.main(Main.java:386)&lt;br/&gt;
================================================================================&lt;/p&gt;

&lt;p&gt;Now with the patch we can successfully create the table with the same script.&lt;br/&gt;
$HADOOP_HOME/bin/hadoop fs -cat group1/.btschema&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;group&amp;#93;&lt;/span&gt;;&lt;span class=&quot;error&quot;&gt;&amp;#91;cnt&amp;#93;&lt;/span&gt;cnt:long&lt;br/&gt;
 group:strincnt:long &lt;/p&gt;</comment>
                            <comment id="12785827" author="gauravj" created="Fri, 4 Dec 2009 09:11:42 +0000"  >
&lt;p&gt;Providing an updated version&lt;/p&gt;</comment>
                            <comment id="12785829" author="gauravj" created="Fri, 4 Dec 2009 09:12:39 +0000"  >&lt;p&gt;&lt;br/&gt;
Changes incorporated as part for code review feedback&lt;/p&gt;</comment>
                            <comment id="12785939" author="yanz" created="Fri, 4 Dec 2009 14:07:17 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12786027" author="hadoopqa" created="Fri, 4 Dec 2009 17:51:14 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12426881/PIG-1119.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12426881/PIG-1119.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 887049.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 39 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h8.grid.sp2.yahoo.net/90/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h8.grid.sp2.yahoo.net/90/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h8.grid.sp2.yahoo.net/90/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h8.grid.sp2.yahoo.net/90/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h8.grid.sp2.yahoo.net/90/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h8.grid.sp2.yahoo.net/90/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12787075" author="yanz" created="Mon, 7 Dec 2009 19:45:30 +0000"  >&lt;p&gt;patched committed to 0.6 branch and Apache trunk.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12426881" name="PIG-1119.patch" size="31958" author="gauravj" created="Fri, 4 Dec 2009 09:12:39 +0000"/>
                            <attachment id="12426761" name="PIG-1119.patch" size="20817" author="gauravj" created="Thu, 3 Dec 2009 08:29:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 3 Dec 2009 08:29:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164641</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyamrb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>95998</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>