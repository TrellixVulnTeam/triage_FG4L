<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:01:46 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-773/PIG-773.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-773] Empty complex constants (empty bag, empty tuple and empty map) should be supported</title>
                <link>https://issues.apache.org/jira/browse/PIG-773</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;We should be able to create empty bag constant using {}, empty tuple constant using (), empty map constant using [] within a pig script&lt;/p&gt;</description>
                <environment></environment>
        <key id="12423391">PIG-773</key>
            <summary>Empty complex constants (empty bag, empty tuple and empty map) should be supported</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashutoshc">Ashutosh Chauhan</assignee>
                                    <reporter username="pkamath">Pradeep Kamath</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Apr 2009 18:40:20 +0100</created>
                <updated>Wed, 24 Mar 2010 22:13:06 +0000</updated>
                            <resolved>Fri, 24 Jul 2009 02:00:11 +0100</resolved>
                                    <version>0.3.0</version>
                                    <fixVersion>0.4.0</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12717382" author="ashutoshc" created="Mon, 8 Jun 2009 21:03:35 +0100"  >&lt;p&gt;Currently Parser assumes non-empty complex constants, so it fails when it encounters an empty complex constants. Patch is included which fixes this. A new regex production is added to process empty complex constants,&lt;/p&gt;</comment>
                            <comment id="12717384" author="ashutoshc" created="Mon, 8 Jun 2009 21:04:40 +0100"  >&lt;p&gt;Submitting patch&lt;/p&gt;</comment>
                            <comment id="12717488" author="hadoopqa" created="Tue, 9 Jun 2009 00:48:10 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12410155/pig-773.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12410155/pig-773.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 782790.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    -1 findbugs.  The patch appears to introduce 1 new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-minerva.apache.org/76/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-minerva.apache.org/76/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-minerva.apache.org/76/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-minerva.apache.org/76/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-minerva.apache.org/76/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-minerva.apache.org/76/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12717505" author="ashutoshc" created="Tue, 9 Jun 2009 01:57:16 +0100"  >&lt;p&gt;FindBugs is complaining for starting function name with uppercase letter. All the method names in QueryParser.jjt starts with uppercase letter. So, following that convention I am leaving that function name as it is. &lt;/p&gt;

&lt;p&gt;FindBug warning: &lt;br/&gt;
The method name org.apache.pig.impl.logicalLayer.parser.QueryParser.UnionClause(LogicalPlan) doesn&apos;t start with a lower case letter&lt;br/&gt;
Bug type NM_METHOD_NAMING_CONVENTION&lt;br/&gt;
In class org.apache.pig.impl.logicalLayer.parser.QueryParser&lt;br/&gt;
In method org.apache.pig.impl.logicalLayer.parser.QueryParser.UnionClause(LogicalPlan)&lt;br/&gt;
At QueryParser.java:&lt;span class=&quot;error&quot;&gt;&amp;#91;lines 2662-2713&amp;#93;&lt;/span&gt;  &lt;/p&gt;</comment>
                            <comment id="12717508" author="sms" created="Tue, 9 Jun 2009 02:00:27 +0100"  >&lt;p&gt;You can ignore that.&lt;/p&gt;</comment>
                            <comment id="12718728" author="sms" created="Fri, 12 Jun 2009 07:02:03 +0100"  >&lt;p&gt;Review comments:&lt;/p&gt;

&lt;p&gt;I am not sure if iterating over the contents of the tuple and adding them to the bag is correct.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;

-{
- (&lt;span class=&quot;code-quote&quot;&gt;&quot;(&quot;&lt;/span&gt; t = Tuple() {bag.add(t);} &lt;span class=&quot;code-quote&quot;&gt;&quot;)&quot;&lt;/span&gt; (&lt;span class=&quot;code-quote&quot;&gt;&quot;,&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;(&quot;&lt;/span&gt; t = Tuple() {bag.add(t);} &lt;span class=&quot;code-quote&quot;&gt;&quot;)&quot;&lt;/span&gt; )* )
  {
+&lt;span class=&quot;code-comment&quot;&gt;//  At &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; point bag is not empty (i.e., its not{}). So, it must be containing one or more tuples.
&lt;/span&gt;+&lt;span class=&quot;code-comment&quot;&gt;// Since Tuple again makes a recursive call it results in all tuples of &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; bag getting  retrieved wrapped
&lt;/span&gt;+&lt;span class=&quot;code-comment&quot;&gt;// in a single tuple. So, we iterate over all the tuples inside the &lt;span class=&quot;code-keyword&quot;&gt;outer&lt;/span&gt; tuple and then add them in a bag.
&lt;/span&gt;+    (
+        t = Tuple() {
+                        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;( &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; tuple: t.getAll() )
+                            bag.add( (Tuple)tuple );
+                    }
+    ) 
+{
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12722436" author="ashutoshc" created="Sun, 21 Jun 2009 23:51:24 +0100"  >&lt;p&gt;This patch doesn&apos;t have extra EmptyConstant production but rather matches for empty content of bag / tuple / map in their respective productions. As a result it avoids the unintuitive logic as Santhosh pointed above.&lt;/p&gt;</comment>
                            <comment id="12722438" author="ashutoshc" created="Mon, 22 Jun 2009 00:09:32 +0100"  >&lt;p&gt;trying to make hudson pick the patch&lt;/p&gt;</comment>
                            <comment id="12722701" author="sms" created="Mon, 22 Jun 2009 18:35:13 +0100"  >&lt;p&gt;Comments:&lt;/p&gt;

&lt;p&gt;1. Minor comment - the comment on the empty productions all have the same text For tuple and bag, it should be changed to tuple and bag respectively&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+	|{ } &lt;span class=&quot;code-comment&quot;&gt;// Match the empty content in map.&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;2. I am not sure about the test case testEmptyBagConstRecursive. Here the bag contains an empty tuple. As a result, the field schema for the bag should contain the schema of the empty tuple. The test case will probably fail.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    @Test
+    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testEmptyBagConstRecursive() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; FrontendException{
+       
+        LogicalPlan lp = buildPlan(&lt;span class=&quot;code-quote&quot;&gt;&quot;a = foreach (load &apos;b&apos;) generate {()};&quot;&lt;/span&gt;);
+        LOForEach foreach = (LOForEach) lp.getLeaves().get(0);
+        
+        Schema.FieldSchema bagFs = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Schema.FieldSchema(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,DataType.BAG);
+        Schema expectedSchema = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Schema(bagFs);
+       
+        assertTrue(Schema.equals(foreach.getSchema(), expectedSchema, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;));
+    }

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;3. There are no tests that check if the empty constants are actually created, i.e., there are no checks for expected empty constants. The test below checks if the parser can parse the new syntax for empty constants. In addition, the values generated by the parser have to checked against expected values for these constants.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    @Test
+    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testRandomEmptyConst(){
+        &lt;span class=&quot;code-comment&quot;&gt;// Various random scripts to test recursive nature of parser with empty constants.
&lt;/span&gt;+       
+        buildPlan(&lt;span class=&quot;code-quote&quot;&gt;&quot;a = foreach (load &apos;b&apos;) generate {({})};&quot;&lt;/span&gt;);
+        buildPlan(&lt;span class=&quot;code-quote&quot;&gt;&quot;a = foreach (load &apos;b&apos;) generate ({()});&quot;&lt;/span&gt;);
+        buildPlan(&lt;span class=&quot;code-quote&quot;&gt;&quot;a = foreach (load &apos;b&apos;) generate {(),()};&quot;&lt;/span&gt;);
+        buildPlan(&lt;span class=&quot;code-quote&quot;&gt;&quot;a = foreach (load &apos;b&apos;) generate ({},{});&quot;&lt;/span&gt;);
+        buildPlan(&lt;span class=&quot;code-quote&quot;&gt;&quot;a = foreach (load &apos;b&apos;) generate ((),());&quot;&lt;/span&gt;);
+        buildPlan(&lt;span class=&quot;code-quote&quot;&gt;&quot;a = foreach (load &apos;b&apos;) generate ([],[]);&quot;&lt;/span&gt;);
+        buildPlan(&lt;span class=&quot;code-quote&quot;&gt;&quot;a = foreach (load &apos;b&apos;) generate {({},{})};&quot;&lt;/span&gt;);
+        buildPlan(&lt;span class=&quot;code-quote&quot;&gt;&quot;a = foreach (load &apos;b&apos;) generate {([],[])};&quot;&lt;/span&gt;);
+        buildPlan(&lt;span class=&quot;code-quote&quot;&gt;&quot;a = foreach (load &apos;b&apos;) generate (({},{}));&quot;&lt;/span&gt;);
+        buildPlan(&lt;span class=&quot;code-quote&quot;&gt;&quot;a = foreach (load &apos;b&apos;) generate (([],[]));&quot;&lt;/span&gt;);
+    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12723194" author="ashutoshc" created="Tue, 23 Jun 2009 18:22:18 +0100"  >&lt;p&gt;Santhosh, thanks for the review.&lt;/p&gt;

&lt;p&gt;1. Will be fixing it in new patch.&lt;br/&gt;
2. Test passes while it should fail. Seems like there is an issue how Bag handles its schema. Will be investigating it further.&lt;br/&gt;
3. Will include test cases which check for existence of constants in the plan.&lt;/p&gt;</comment>
                            <comment id="12723431" author="hadoopqa" created="Wed, 24 Jun 2009 05:42:34 +0100"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12411357/pig-773_v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12411357/pig-773_v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 787878.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-minerva.apache.org/97/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-minerva.apache.org/97/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-minerva.apache.org/97/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-minerva.apache.org/97/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-minerva.apache.org/97/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-minerva.apache.org/97/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12725003" author="ashutoshc" created="Sun, 28 Jun 2009 23:30:40 +0100"  >&lt;p&gt;It turned out that there was a bug in DataType.java where schema for a Bag is computed. The patch fixes the bug. Test cases are modified &lt;br/&gt;
to match the expected behavior. Also the values generated by the parser are checked against expected values for the parsed constants.&lt;/p&gt;</comment>
                            <comment id="12725013" author="hadoopqa" created="Mon, 29 Jun 2009 01:17:46 +0100"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12412030/pig-773_v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12412030/pig-773_v3.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 788174.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-minerva.apache.org/106/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-minerva.apache.org/106/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-minerva.apache.org/106/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-minerva.apache.org/106/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-minerva.apache.org/106/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-minerva.apache.org/106/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12725279" author="sms" created="Mon, 29 Jun 2009 18:53:56 +0100"  >&lt;p&gt;Review comments:&lt;/p&gt;

&lt;p&gt;1. In addition to checking the type of the constant, the value should also be checked. The checks on the data type is good. A check on the actual contents of the empty bag, empty tuple and empty map will complete the testing.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+        LOConst loConst = (LOConst)logOp;
+        assertTrue(loConst.getType() == DataType.TUPLE);
+        assertTrue(loConst.getValue() &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; Tuple);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;2. When you have a bag like &lt;/p&gt;
{(), (1)}
&lt;p&gt;, the schema of this bag is returned as a bag that contains a tuple that has no schema. This might be the right approach for now, i.e., if a bag contains a tuple with no schema then the schema of the bag will contain a tuple with no schema irrespective of the contents of the remaining tuple. This approach/idea falls into the bigger question of how to handle unknown schemas in Pig. Since Alan is looking at this question for all of Pig, it will be good if he can review this part.&lt;/p&gt;</comment>
                            <comment id="12726124" author="alangates" created="Wed, 1 Jul 2009 17:23:34 +0100"  >&lt;p&gt;In response to point 2 of Santhosh&apos;s previous comment, I agree it is fine for now.  We need to answer this question definitively, but until we do I think this is a reasonable answer.&lt;/p&gt;</comment>
                            <comment id="12726541" author="ashutoshc" created="Thu, 2 Jul 2009 17:34:44 +0100"  >&lt;p&gt;Updated the patch incorporating Santhosh&apos;s suggestion about test cases.&lt;/p&gt;</comment>
                            <comment id="12727003" author="hadoopqa" created="Fri, 3 Jul 2009 16:11:03 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12412406/pig-773_v4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12412406/pig-773_v4.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 790735.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-minerva.apache.org/109/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-minerva.apache.org/109/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-minerva.apache.org/109/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-minerva.apache.org/109/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-minerva.apache.org/109/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-minerva.apache.org/109/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12727674" author="sms" created="Mon, 6 Jul 2009 19:25:49 +0100"  >&lt;p&gt;A comment on the latest patch (pig-773_v4.patch):&lt;/p&gt;

&lt;p&gt;Index: src/org/apache/pig/data/DataType.java&lt;br/&gt;
===================================================================&lt;/p&gt;

&lt;p&gt;Since the bag schema contains the tuple schema, bag schema should set the two level access to true.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@@ -998,8 +999,8 @@
                     schema = schemas.get(0);
                     &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; == schema) {
                         Schema.FieldSchema tupleFs = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Schema.FieldSchema(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, TUPLE);
-                        Schema bagSchema = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Schema(tupleFs);
-                        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Schema.FieldSchema(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, BAG);
+                        bagSchema = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Schema(tupleFs);
+                        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Schema.FieldSchema(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, bagSchema, BAG);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12732956" author="ashutoshc" created="Sun, 19 Jul 2009 03:18:31 +0100"  >&lt;p&gt;Updated patch.&lt;/p&gt;</comment>
                            <comment id="12732966" author="hadoopqa" created="Sun, 19 Jul 2009 05:59:30 +0100"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12413938/pig-773_v5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12413938/pig-773_v5.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 794937.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-minerva.apache.org/135/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-minerva.apache.org/135/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-minerva.apache.org/135/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-minerva.apache.org/135/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-minerva.apache.org/135/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-minerva.apache.org/135/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12734810" author="sms" created="Thu, 23 Jul 2009 22:57:44 +0100"  >&lt;p&gt;+ 1 for the changes.&lt;/p&gt;</comment>
                            <comment id="12734855" author="sms" created="Fri, 24 Jul 2009 02:00:11 +0100"  >&lt;p&gt;Patch has been committed. Thanks for the fix Ashutosh.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12410515">PIG-561</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12410155" name="pig-773.patch" size="7346" author="ashutoshc" created="Mon, 8 Jun 2009 21:03:35 +0100"/>
                            <attachment id="12411357" name="pig-773_v2.patch" size="7127" author="ashutoshc" created="Sun, 21 Jun 2009 23:51:24 +0100"/>
                            <attachment id="12412030" name="pig-773_v3.patch" size="10582" author="ashutoshc" created="Sun, 28 Jun 2009 23:30:40 +0100"/>
                            <attachment id="12412406" name="pig-773_v4.patch" size="11113" author="ashutoshc" created="Thu, 2 Jul 2009 17:34:44 +0100"/>
                            <attachment id="12413938" name="pig-773_v5.patch" size="11237" author="ashutoshc" created="Sun, 19 Jul 2009 03:18:31 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 8 Jun 2009 20:03:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164334</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyaiqf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>95346</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>