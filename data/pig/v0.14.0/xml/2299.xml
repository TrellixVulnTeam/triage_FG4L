<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:09:59 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-2299/PIG-2299.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-2299] jetty 6.1.14 startup issue causes unit tests to fail in CI</title>
                <link>https://issues.apache.org/jira/browse/PIG-2299</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;We have observed random unit test failures in our pig CI. Same tests working just fine when run on developer machine).&lt;/p&gt;

&lt;p&gt;The cause is a bug in jetty version used by pig, example below and more here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-6386&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HADOOP-6386&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-6428&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HADOOP-6428&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-6528&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HADOOP-6528&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://jira.codehaus.org/browse/JETTY-748&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://jira.codehaus.org/browse/JETTY-748&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;The issue is resolved by using jetty 6.1.21 instead of 6.1.14&lt;/p&gt;


&lt;p&gt;java.lang.ExceptionInInitializerError&lt;br/&gt;
	at org.apache.pig.test.TestAlgebraicInstantiation.&amp;lt;init&amp;gt;(TestAlgebraicInstantiation.java:41)&lt;br/&gt;
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)&lt;br/&gt;
Caused by: java.lang.IllegalArgumentException: port out of range:-1&lt;br/&gt;
	at java.net.InetSocketAddress.&amp;lt;init&amp;gt;(InetSocketAddress.java:118)&lt;br/&gt;
	at org.apache.hadoop.hdfs.server.namenode.NameNode.startHttpServer(NameNode.java:250)&lt;br/&gt;
	at org.apache.hadoop.hdfs.server.namenode.NameNode.initialize(NameNode.java:202)&lt;br/&gt;
	at org.apache.hadoop.hdfs.server.namenode.NameNode.&amp;lt;init&amp;gt;(NameNode.java:279)&lt;br/&gt;
	at org.apache.hadoop.hdfs.server.namenode.NameNode.createNameNode(NameNode.java:956)&lt;br/&gt;
	at org.apache.hadoop.hdfs.MiniDFSCluster.&amp;lt;init&amp;gt;(MiniDFSCluster.java:275)&lt;br/&gt;
	at org.apache.hadoop.hdfs.MiniDFSCluster.&amp;lt;init&amp;gt;(MiniDFSCluster.java:119)&lt;br/&gt;
	at org.apache.pig.test.MiniCluster.setupMiniDfsAndMrClusters(MiniCluster.java:49)&lt;br/&gt;
	at org.apache.pig.test.MiniGenericCluster.&amp;lt;init&amp;gt;(MiniGenericCluster.java:49)&lt;br/&gt;
	at org.apache.pig.test.MiniCluster.&amp;lt;init&amp;gt;(MiniCluster.java:31)&lt;br/&gt;
	at org.apache.pig.test.MiniGenericCluster.&amp;lt;clinit&amp;gt;(MiniGenericCluster.java:45)&lt;/p&gt;</description>
                <environment>&lt;p&gt;RHEL CI server&lt;/p&gt;</environment>
        <key id="12524306">PIG-2299</key>
            <summary>jetty 6.1.14 startup issue causes unit tests to fail in CI</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="thw">Thomas Weise</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Sep 2011 17:46:37 +0100</created>
                <updated>Wed, 5 Oct 2011 18:20:42 +0100</updated>
                            <resolved>Mon, 26 Sep 2011 22:57:55 +0100</resolved>
                                    <version>0.8.0</version>
                                    <fixVersion>0.9.1</fixVersion>
                                    <component>build</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13112759" author="thw" created="Thu, 22 Sep 2011 18:55:53 +0100"  >&lt;p&gt;To confirm, ant test passes in devel and CI environment with the patch above.&lt;/p&gt;</comment>
                            <comment id="13112777" author="daijy" created="Thu, 22 Sep 2011 19:12:15 +0100"  >&lt;p&gt;Newer version(eg:20.204) hadoop fixed this problem. However, since Pig bundles hadoop 20.2, the fix does not goes to Pig. The issue only affects tests. When running on cluster, Pig does not use and will not send jetty to backend.&lt;/p&gt;</comment>
                            <comment id="13112805" author="daijy" created="Thu, 22 Sep 2011 19:34:26 +0100"  >&lt;p&gt;Though fix hadoop issue on Pig side doesn&apos;t sounds right, but I still think it is better to check in this, reasons are:&lt;br/&gt;
1. This block RE folks&lt;br/&gt;
2. This change only affects unit test, and all unit tests pass with the patch&lt;br/&gt;
3. We don&apos;t have plan to upgrade the bundled hadoop version (at least 0.9.1)&lt;/p&gt;

&lt;p&gt;Any objection?&lt;/p&gt;</comment>
                            <comment id="13114949" author="olgan" created="Mon, 26 Sep 2011 22:41:48 +0100"  >&lt;p&gt;+1 for checking the patch in for the reasons described by Daniel&lt;/p&gt;</comment>
                            <comment id="13114962" author="daijy" created="Mon, 26 Sep 2011 22:57:55 +0100"  >&lt;p&gt;Patch committed to trunk and 0.9 branch.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12496141" name="PIG-2299_jetty-6.1.26.patch" size="1076" author="thw" created="Thu, 22 Sep 2011 17:56:39 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 22 Sep 2011 18:12:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3062</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyawk7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>97586</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>