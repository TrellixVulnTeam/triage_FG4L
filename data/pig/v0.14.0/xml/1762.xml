<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:50:15 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-1762/PIG-1762.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-1762] Logic simplification does not work on map key referenced values</title>
                <link>https://issues.apache.org/jira/browse/PIG-1762</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;Logical expression simplification, introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-1399&quot; title=&quot;Logical Optimizer: Expression optimizor rule&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-1399&quot;&gt;&lt;del&gt;PIG-1399&lt;/del&gt;&lt;/a&gt;, can not handle the map key referenced value in such expressions. For instance, the following statement causes exception  thrown:&lt;/p&gt;

&lt;p&gt;b = filter (load &apos;d.txt&apos; as (k1, k2, k3, v1, v2, v3)) by k2#&apos;f1&apos;#&apos;f&apos; is not null and (v2#&apos;f&apos;#&apos;f1&apos; is not null or v2#&apos;f&apos;#&apos;f2&apos; is not null;&lt;/p&gt;

&lt;p&gt;The problem is that if the operand of AND/OR is not a terminal, the current use of stack to store the operand&apos;s results won&apos;t work because the the used AllSameExpressionVisitor is inadequate in that it visits all expressions while we only need to visit both children of AND/OR.&lt;/p&gt;

&lt;p&gt;Another problem is that MapLookupExpression.isEqual method only checks for the top level map references. For instance, m#k1 and m#k2 will be regarded equal. We need to check recursively if nested map key reference is present.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12492962">PIG-1762</key>
            <summary>Logic simplification does not work on map key referenced values</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yanz">Yan Zhou</assignee>
                                    <reporter username="yanz">Yan Zhou</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Dec 2010 17:30:57 +0000</created>
                <updated>Fri, 17 Dec 2010 22:47:09 +0000</updated>
                            <resolved>Sat, 11 Dec 2010 04:00:43 +0000</resolved>
                                    <version>0.8.0</version>
                                    <fixVersion>0.8.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12970263" author="daijy" created="Fri, 10 Dec 2010 18:47:16 +0000"  >&lt;p&gt;+1. Please commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="12970375" author="yanz" created="Sat, 11 Dec 2010 04:00:43 +0000"  >&lt;p&gt;test-patch and test-core pass cleanly. Committed to both trunk and the 0.8 branch.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12466007" name="PIG-1762.patch" size="6666" author="yanz" created="Fri, 10 Dec 2010 18:08:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 10 Dec 2010 18:47:16 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>165180</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyatl3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>97104</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>