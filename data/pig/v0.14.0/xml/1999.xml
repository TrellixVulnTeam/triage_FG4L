<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:48:26 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-1999/PIG-1999.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-1999] Macro alias masker should consider schema context </title>
                <link>https://issues.apache.org/jira/browse/PIG-1999</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;Macro alias masker doesn&apos;t consider the current schema context. This results errors when deciding with alias to mask. Here is an example:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
define toBytearray(in, intermediate) returns e { 
   a = load &apos;$in&apos; as (name:chararray, age:&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;, gpa: &lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt;);
   b = group a by  name;
   c = foreach b generate a, (1,2,3);
   store c into &apos;$intermediate&apos; using BinStorage();
   d = load &apos;$intermediate&apos; using BinStorage() as (b:bag{t:tuple(x,y,z)}, t2:tuple(a,b,c));
   $e = foreach d generate COUNT(b), t2.a, t2.b, t2.c;
};
 
f = toBytearray (&apos;data&apos;, &apos;output1&apos;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 

&lt;p&gt;Now the alias masker mistakes b in COUNT(b) as an alias instead of b in the current schema.&lt;/p&gt;

&lt;p&gt;The workaround is to not use alias as as names in the schema definition. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12504598">PIG-1999</key>
            <summary>Macro alias masker should consider schema context </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rding">Richard Ding</assignee>
                                    <reporter username="rding">Richard Ding</reporter>
                        <labels>
                    </labels>
                <created>Mon, 18 Apr 2011 21:51:08 +0100</created>
                <updated>Thu, 4 Aug 2011 01:34:58 +0100</updated>
                            <resolved>Thu, 5 May 2011 18:05:44 +0100</resolved>
                                    <version>0.9.0</version>
                                    <fixVersion>0.9.0</fixVersion>
                                    <component>impl</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13023457" author="rding" created="Sat, 23 Apr 2011 00:29:31 +0100"  >&lt;p&gt;The proposed solution is, in 0.9 release, disallow user defined schema inside a macro to have names that conflict with alias in the macro. Parser will throw an exception when it detects a name conflict in macro.&lt;/p&gt;

&lt;p&gt;This is not a perfect solution. But this kind of name-conflict is not common in Pig scripts and any conflict can be easily fixed with clear error messages.&lt;/p&gt;

&lt;p&gt;As mentioned before, we need schema context to solve this problem. Now schema resolution happens after parsing. If needed, we&apos;ll address this problem in future release.&lt;/p&gt;

</comment>
                            <comment id="13025911" author="rding" created="Wed, 27 Apr 2011 18:39:35 +0100"  >&lt;p&gt;Rebase the patch.&lt;/p&gt;</comment>
                            <comment id="13027735" author="rding" created="Mon, 2 May 2011 18:26:09 +0100"  >&lt;p&gt;test-patch result:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
     [exec] +1 overall.  
     [exec] 
     [exec]     +1 @author.  The patch does not contain any @author tags.
     [exec] 
     [exec]     +1 tests included.  The patch appears to include 3 &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; or modified tests.
     [exec] 
     [exec]     +1 javadoc.  The javadoc tool did not generate any warning messages.
     [exec] 
     [exec]     +1 javac.  The applied patch does not increase the total number of javac compiler warnings.
     [exec] 
     [exec]     +1 findbugs.  The patch does not introduce any &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Findbugs warnings.
     [exec] 
     [exec]     +1 release audit.  The applied patch does not increase the total number of release audit warnings.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13027938" author="xuefuz" created="Tue, 3 May 2011 01:04:17 +0100"  >&lt;p&gt;+1 Patch &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-1999&quot; title=&quot;Macro alias masker should consider schema context &quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-1999&quot;&gt;&lt;del&gt;PIG-1999&lt;/del&gt;&lt;/a&gt;_2.patch looks good.&lt;/p&gt;</comment>
                            <comment id="13029439" author="rding" created="Thu, 5 May 2011 18:05:44 +0100"  >&lt;p&gt;Unit tests pass. Patch committed to trunk and 0.9 branch.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12477344" name="PIG-1999_1.patch" size="5867" author="rding" created="Tue, 26 Apr 2011 01:20:18 +0100"/>
                            <attachment id="12477567" name="PIG-1999_2.patch" size="6076" author="rding" created="Wed, 27 Apr 2011 18:39:35 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 3 May 2011 00:04:17 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>66188</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyauzj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>97331</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>