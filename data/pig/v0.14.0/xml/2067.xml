<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:08:50 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-2067/PIG-2067.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-2067] FilterLogicExpressionSimplifier removed some branches in some cases</title>
                <link>https://issues.apache.org/jira/browse/PIG-2067</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;The following script produce wrong result:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
A = load &apos;a.dat&apos; as (cookie);
B = load &apos;b.dat&apos; as (cookie);
C = cogroup A by cookie, B by cookie;
E = filter C by COUNT(B)&amp;gt;0 AND COUNT(A)&amp;gt;0;
explain E;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;a.dat:&lt;br/&gt;
1       1&lt;br/&gt;
2       2&lt;br/&gt;
3       3&lt;br/&gt;
4       4&lt;br/&gt;
5       5&lt;br/&gt;
6       6&lt;br/&gt;
7       7&lt;/p&gt;

&lt;p&gt;b.dat:&lt;br/&gt;
3       3&lt;br/&gt;
4       4&lt;br/&gt;
5       5&lt;br/&gt;
6       6&lt;br/&gt;
7       7&lt;br/&gt;
8       8&lt;/p&gt;

&lt;p&gt;Expected output:&lt;br/&gt;
(3,&lt;/p&gt;
{(3)},{(3)}
&lt;p&gt;)&lt;br/&gt;
(4,&lt;/p&gt;
{(4)},{(4)}
&lt;p&gt;)&lt;br/&gt;
(5,&lt;/p&gt;
{(5)},{(5)}
&lt;p&gt;)&lt;br/&gt;
(6,&lt;/p&gt;
{(6)},{(6)}
&lt;p&gt;)&lt;br/&gt;
(7,&lt;/p&gt;
{(7)},{(7)}
&lt;p&gt;)&lt;/p&gt;

&lt;p&gt;We get:&lt;br/&gt;
(3,&lt;/p&gt;
{(3)},{(3)}
&lt;p&gt;)&lt;br/&gt;
(4,&lt;/p&gt;
{(4)},{(4)}
&lt;p&gt;)&lt;br/&gt;
(5,&lt;/p&gt;
{(5)},{(5)}
&lt;p&gt;)&lt;br/&gt;
(6,&lt;/p&gt;
{(6)},{(6)}
&lt;p&gt;)&lt;br/&gt;
(7,&lt;/p&gt;
{(7)},{(7)}
&lt;p&gt;)&lt;br/&gt;
(8,{},&lt;/p&gt;
{(8)}
&lt;p&gt;)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12507050">PIG-2067</key>
            <summary>FilterLogicExpressionSimplifier removed some branches in some cases</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="daijy">Daniel Dai</assignee>
                                    <reporter username="daijy">Daniel Dai</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 May 2011 23:31:21 +0100</created>
                <updated>Wed, 21 Sep 2011 23:47:29 +0100</updated>
                            <resolved>Fri, 13 May 2011 21:38:43 +0100</resolved>
                                    <version>0.8.1</version>
                    <version>0.9.0</version>
                                    <fixVersion>0.9.0</fixVersion>
                                    <component>impl</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13032722" author="daijy" created="Thu, 12 May 2011 23:33:12 +0100"  >&lt;p&gt;The logical plan after LogicExpressionSimplifier is wrong:&lt;/p&gt;

&lt;p&gt;E: (Name: LOStore Schema: group#29:bytearray,A#30:bag&lt;/p&gt;
{#240:tuple(cookie#10:bytearray)}
&lt;p&gt;,B#32:bag&lt;/p&gt;
{#241:tuple(cookie#11:bytearray)}
&lt;p&gt;)&lt;/p&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;---E: (Name: LOFilter Schema: group#29:bytearray,A#30:bag
{#240:tuple(cookie#10:bytearray)}
&lt;p&gt;,B#32:bag&lt;/p&gt;
{#241:tuple(cookie#11:bytearray)}
&lt;p&gt;)&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   (Name: And Type: boolean Uid: 41)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;---(Name: GreaterThan Type: boolean Uid: 37)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;---(Name: UserFunc(org.apache.pig.builtin.COUNT) Type: long Uid: 34)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;---B:(Name: Project Type: bag Uid: 32 Input: 0 Column: 2)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;---(Name: Cast Type: long Uid: 35)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;---(Name: Constant Type: int Uid: 35)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;---(Name: GreaterThan Type: boolean Uid: 40)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;---(Name: Cast Type: int Uid: 29)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;---group:(Name: Project Type: bytearray Uid: 29 Input: 0 Column: 0)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;---(Name: Constant Type: int Uid: 39)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;---C: (Name: LOCogroup Schema: group#29:bytearray,A#30:bag
{#240:tuple(cookie#10:bytearray)}
&lt;p&gt;,B#32:bag&lt;/p&gt;
{#241:tuple(cookie#11:bytearray)}
&lt;p&gt;)&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   cookie:(Name: Project Type: bytearray Uid: 10 Input: 0 Column: 0)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   cookie:(Name: Project Type: bytearray Uid: 11 Input: 1 Column: 0)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;---A: (Name: LOLoad Schema: cookie#10:bytearray)RequiredFields:null&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;---B: (Name: LOLoad Schema: cookie#11:bytearray)RequiredFields:null&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;


&lt;p&gt;One branch of GreaterThan is on group rather than A.&lt;/p&gt;</comment>
                            <comment id="13032723" author="daijy" created="Thu, 12 May 2011 23:34:19 +0100"  >&lt;p&gt;The format mess up:&lt;br/&gt;
Here is the logical plan:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
E: (Name: LOStore Schema: group#29:bytearray,A#30:bag{#240:tuple(cookie#10:bytearray)},B#32:bag{#241:tuple(cookie#11:bytearray)})
|
|---E: (Name: LOFilter Schema: group#29:bytearray,A#30:bag{#240:tuple(cookie#10:bytearray)},B#32:bag{#241:tuple(cookie#11:bytearray)})
    |   |
    |   (Name: And Type: &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; Uid: 41)
    |   |
    |   |---(Name: GreaterThan Type: &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; Uid: 37)
    |   |   |
    |   |   |---(Name: UserFunc(org.apache.pig.builtin.COUNT) Type: &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; Uid: 34)
    |   |   |   |
    |   |   |   |---B:(Name: Project Type: bag Uid: 32 Input: 0 Column: 2)
    |   |   |
    |   |   |---(Name: Cast Type: &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; Uid: 35)
    |   |       |
    |   |       |---(Name: Constant Type: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; Uid: 35)
    |   |
    |   |---(Name: GreaterThan Type: &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; Uid: 40)
    |       |
    |       |---(Name: Cast Type: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; Uid: 29)
    |       |   |
    |       |   |---group:(Name: Project Type: bytearray Uid: 29 Input: 0 Column: 0)
    |       |
    |       |---(Name: Constant Type: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; Uid: 39)
    |
    |---C: (Name: LOCogroup Schema: group#29:bytearray,A#30:bag{#240:tuple(cookie#10:bytearray)},B#32:bag{#241:tuple(cookie#11:bytearray)})
        |   |
        |   cookie:(Name: Project Type: bytearray Uid: 10 Input: 0 Column: 0)
        |   |
        |   cookie:(Name: Project Type: bytearray Uid: 11 Input: 1 Column: 0)
        |
        |---A: (Name: LOLoad Schema: cookie#10:bytearray)RequiredFields:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
        |
        |---B: (Name: LOLoad Schema: cookie#11:bytearray)RequiredFields:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;One branch of GreaterThan is on group rather than A.&lt;/p&gt;</comment>
                            <comment id="13032739" author="daijy" created="Fri, 13 May 2011 00:06:21 +0100"  >&lt;p&gt;Actually it erroneously remove one branch:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
#-----------------------------------------------
# New Logical Plan:
#-----------------------------------------------
E: (Name: LOStore Schema: group#30:bytearray,A#31:bag{#242:tuple(cookie#10:bytearray)},B#33:bag{#243:tuple(cookie#11:bytearray)})
|
|---E: (Name: LOFilter Schema: group#30:bytearray,A#31:bag{#242:tuple(cookie#10:bytearray)},B#33:bag{#243:tuple(cookie#11:bytearray)})
    |   |
    |   (Name: GreaterThan Type: &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; Uid: 38)
    |   |
    |   |---(Name: UserFunc(org.apache.pig.builtin.COUNT) Type: &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; Uid: 35)
    |   |   |
    |   |   |---B:(Name: Project Type: bag Uid: 33 Input: 0 Column: 2)
    |   |
    |   |---(Name: Cast Type: &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; Uid: 36)
    |       |
    |       |---(Name: Constant Type: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; Uid: 36)
    |
    |---C: (Name: LOCogroup Schema: group#30:bytearray,A#31:bag{#242:tuple(cookie#10:bytearray)},B#33:bag{#243:tuple(cookie#11:bytearray)})
        |   |
        |   cookie:(Name: Project Type: bytearray Uid: 10 Input: 0 Column: 0)
        |   |
        |   cookie:(Name: Project Type: bytearray Uid: 11 Input: 1 Column: 0)
        |
        |---A: (Name: LOLoad Schema: cookie#10:bytearray)RequiredFields:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
        |
        |---B: (Name: LOLoad Schema: cookie#11:bytearray)RequiredFields:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13032774" author="daijy" created="Fri, 13 May 2011 01:48:24 +0100"  >&lt;p&gt;This issue happens when:&lt;br/&gt;
1. We have AND in filter plan&lt;br/&gt;
2. Two branch of AND is the same UDF, but the input for the UDF is different&lt;/p&gt;

&lt;p&gt;LogicExpressionSimplifier will erroneously believe two branches are the same and merge them.&lt;/p&gt;</comment>
                            <comment id="13032802" author="daijy" created="Fri, 13 May 2011 03:27:03 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2067&quot; title=&quot;FilterLogicExpressionSimplifier removed some branches in some cases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2067&quot;&gt;&lt;del&gt;PIG-2067&lt;/del&gt;&lt;/a&gt;-1-0.8.patch is for 0.8 branch.&lt;/p&gt;</comment>
                            <comment id="13033127" author="jiraposter@reviews.apache.org" created="Fri, 13 May 2011 17:59:47 +0100"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/743/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/743/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for pig and Richard Ding.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2067&quot; title=&quot;FilterLogicExpressionSimplifier removed some branches in some cases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2067&quot;&gt;&lt;del&gt;PIG-2067&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2067&quot; title=&quot;FilterLogicExpressionSimplifier removed some branches in some cases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2067&quot;&gt;&lt;del&gt;PIG-2067&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2067&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/PIG-2067&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  &lt;a href=&quot;http://svn.apache.org/repos/asf/pig/trunk/src/org/apache/pig/newplan/logical/expression/ProjectExpression.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/pig/trunk/src/org/apache/pig/newplan/logical/expression/ProjectExpression.java&lt;/a&gt; 1102169 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/pig/trunk/src/org/apache/pig/newplan/logical/expression/UserFuncExpression.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/pig/trunk/src/org/apache/pig/newplan/logical/expression/UserFuncExpression.java&lt;/a&gt; 1102169 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/pig/trunk/src/org/apache/pig/newplan/logical/rules/LogicalExpressionSimplifier.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/pig/trunk/src/org/apache/pig/newplan/logical/rules/LogicalExpressionSimplifier.java&lt;/a&gt; 1102169 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/pig/trunk/test/org/apache/pig/test/TestFilterSimplification.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/pig/trunk/test/org/apache/pig/test/TestFilterSimplification.java&lt;/a&gt; 1102169 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/743/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/743/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Unit test:&lt;br/&gt;
    all pass&lt;/p&gt;

&lt;p&gt;End-to-end test:&lt;br/&gt;
    all pass&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Daniel&lt;/p&gt;
</comment>
                            <comment id="13033151" author="rding" created="Fri, 13 May 2011 18:44:40 +0100"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13033172" author="jiraposter@reviews.apache.org" created="Fri, 13 May 2011 19:19:47 +0100"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/743/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/743/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-05-13 18:13:38.714903)&lt;/p&gt;


&lt;p&gt;Review request for pig and Richard Ding.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2067&quot; title=&quot;FilterLogicExpressionSimplifier removed some branches in some cases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2067&quot;&gt;&lt;del&gt;PIG-2067&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2067&quot; title=&quot;FilterLogicExpressionSimplifier removed some branches in some cases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2067&quot;&gt;&lt;del&gt;PIG-2067&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2067&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/PIG-2067&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  &lt;a href=&quot;http://svn.apache.org/repos/asf/pig/trunk/src/org/apache/pig/newplan/logical/expression/ProjectExpression.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/pig/trunk/src/org/apache/pig/newplan/logical/expression/ProjectExpression.java&lt;/a&gt; 1102169 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/pig/trunk/src/org/apache/pig/newplan/logical/expression/UserFuncExpression.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/pig/trunk/src/org/apache/pig/newplan/logical/expression/UserFuncExpression.java&lt;/a&gt; 1102169 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/pig/trunk/src/org/apache/pig/newplan/logical/rules/LogicalExpressionSimplifier.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/pig/trunk/src/org/apache/pig/newplan/logical/rules/LogicalExpressionSimplifier.java&lt;/a&gt; 1102169 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/pig/trunk/test/org/apache/pig/test/TestFilterSimplification.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/pig/trunk/test/org/apache/pig/test/TestFilterSimplification.java&lt;/a&gt; 1102169 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/743/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/743/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing (updated)&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Test-patch:&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; -1 overall.  &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 @author.  The patch does not contain any @author tags.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 tests included.  The patch appears to include 3 new or modified tests.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     -1 release audit.  The applied patch generated 562 release audit warnings (more than the trunk&apos;s current 561 warnings).&lt;br/&gt;
Ignore release audit warning since no new file is added.&lt;/p&gt;

&lt;p&gt;Unit test:&lt;br/&gt;
    all pass&lt;/p&gt;

&lt;p&gt;End-to-end test:&lt;br/&gt;
    all pass&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Daniel&lt;/p&gt;
</comment>
                            <comment id="13033267" author="daijy" created="Fri, 13 May 2011 21:38:43 +0100"  >&lt;p&gt;Patch committed to 0.8, 0.9, trunk.&lt;/p&gt;</comment>
                            <comment id="13109321" author="tlipcon" created="Wed, 21 Sep 2011 08:35:42 +0100"  >&lt;p&gt;This fix isn&apos;t in the 0.8.1 release - perhaps it&apos;s on the 0.8 branch post-0.8.1&lt;/p&gt;</comment>
                            <comment id="13112191" author="daijy" created="Wed, 21 Sep 2011 23:47:29 +0100"  >&lt;p&gt;Yes, this is in 0.8 branch but not 0.8.1 release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12479054" name="PIG-2067-1-0.8.patch" size="5638" author="daijy" created="Fri, 13 May 2011 03:27:03 +0100"/>
                            <attachment id="12479043" name="PIG-2067-1.patch" size="5514" author="daijy" created="Fri, 13 May 2011 01:43:15 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 13 May 2011 16:59:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35764</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyave7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>97397</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>