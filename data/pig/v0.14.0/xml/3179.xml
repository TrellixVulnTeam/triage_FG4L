<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:11:02 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-3179/PIG-3179.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-3179] Task Information Header only prints out the first split for each task</title>
                <link>https://issues.apache.org/jira/browse/PIG-3179</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;When a task&apos;s PigSplit is containing more than wrappedSplit, it only logs the first fileinfo.&lt;/p&gt;

&lt;p&gt;When debugging, I saw &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;===== Task Information Header =====
Command: bash ....
Start time: Mon Feb 11 16:41:21 UTC 2013
Input-split file: hdfs://abc.bcd.efg:8020/tmp/hij/part-r-00000.bz2
Input-split start-offset: 0Input-split length: 11854247
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;but the actual error was happing while reading part-r-00007.bz2.  It would have been nice if the log showed all the info that task was going to read.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12631751">PIG-3179</key>
            <summary>Task Information Header only prints out the first split for each task</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.png">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="knoguchi">Koji Noguchi</assignee>
                                    <reporter username="knoguchi">Koji Noguchi</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Feb 2013 17:01:41 +0000</created>
                <updated>Mon, 14 Oct 2013 17:46:01 +0100</updated>
                            <resolved>Wed, 13 Feb 2013 19:33:20 +0000</resolved>
                                                    <fixVersion>0.12.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13575902" author="knoguchi" created="Mon, 11 Feb 2013 17:07:00 +0000"  >&lt;p&gt;Added for-loop to print all the splits.&lt;/p&gt;</comment>
                            <comment id="13575923" author="rohini" created="Mon, 11 Feb 2013 17:33:36 +0000"  >&lt;p&gt;Input-split file: hdfs://gridx.yahoo.com:8020/tmp/bz-6086044/msh_grouped.bz2/part-r-00032.bz2&lt;br/&gt;
Input-split start-offset: 0&lt;br/&gt;
Input-split length: 11814548&lt;br/&gt;
Input-split file: hdfs://gridx.ygrid.yahoo.com:8020/tmp/bz-6086044/msh_grouped.bz2/part-r-00033.bz2&lt;br/&gt;
Input-split start-offset: 0&lt;br/&gt;
Input-split length: 11953088&lt;/p&gt;

&lt;p&gt;Since we are printing all splits can we avoid the duplication of Input-split in each line and combine them into one statement to save log space? &lt;/p&gt;</comment>
                            <comment id="13575972" author="rohini" created="Mon, 11 Feb 2013 18:59:05 +0000"  >&lt;p&gt;I meant something like this. &lt;br/&gt;
Input-split: file=hdfs://gridx.yahoo.com:8020/tmp/bz-6086044/msh_grouped.bz2/part-r-00032.bz2, start-offset=0,length=11814548&lt;br/&gt;
Each input split in a single line.&lt;/p&gt;

&lt;p&gt;Question to folks -  Is someone one parsing this log information? This is something that can also be logged to a hdfs file apart from stderr of the map task. Just asking to know whether this will cause any backward incompatibility issues?&lt;/p&gt;</comment>
                            <comment id="13575997" author="knoguchi" created="Mon, 11 Feb 2013 19:13:09 +0000"  >&lt;p&gt;Changed based on Rohini&apos;s suggestion.&lt;br/&gt;
Added extra line printing out the number of input splits.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;PigSplit contains 11 wrappedSplits.
Input-split: file=hdfs://abc.def.com:8020/tmp/hij/part-r-00032.bz2 start-offset=0 length=11814548
Input-split: file=hdfs://abc.def.com:8020/tmp/hij/part-r-00033.bz2 start-offset=0 length=11953088
Input-split: file=hdfs://abc.def.com:8020/tmp/hij/part-r-00034.bz2 start-offset=0 length=12122182
Input-split: file=hdfs://abc.def...
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13576006" author="rohini" created="Mon, 11 Feb 2013 19:21:25 +0000"  >&lt;p&gt;Thanks Koji. Its a log message and people should not be relying on parsing it. But just in case I will wait a day to commit to see if anyone raises any objection w.r.t to backward compatibility.&lt;/p&gt;</comment>
                            <comment id="13576068" author="prkommireddi" created="Mon, 11 Feb 2013 20:07:51 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=knoguchi&quot; class=&quot;user-hover&quot; rel=&quot;knoguchi&quot;&gt;Koji Noguchi&lt;/a&gt;, minor thing - calling toString on Path might be redundant? I see it was present in the earlier revision as well, may be we could change it with this checkin.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
sb.append(mapInputFileSplit.getPath());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13576089" author="knoguchi" created="Mon, 11 Feb 2013 20:27:08 +0000"  >&lt;blockquote&gt;&lt;p&gt;Hi Koji Noguchi, minor thing - calling toString on Path might be redundant?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Thanks Prashant.  Updated patch.&lt;/p&gt;</comment>
                            <comment id="13577120" author="rohini" created="Tue, 12 Feb 2013 22:35:55 +0000"  >&lt;p&gt;Koji,&lt;br/&gt;
   Another minor comment. Can you reuse the StringBuilder. i.e move StringBuilder sb = new StringBuilder(); outside of the loop and inside the loop set sb.setLength(0);&lt;/p&gt;</comment>
                            <comment id="13577715" author="knoguchi" created="Wed, 13 Feb 2013 17:03:04 +0000"  >&lt;blockquote&gt;&lt;p&gt;Can you reuse the StringBuilder. i.e move StringBuilder sb = new StringBuilder(); outside of the loop and inside the loop set sb.setLength(0);&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Attaching an updated patch.&lt;/p&gt;</comment>
                            <comment id="13577856" author="rohini" created="Wed, 13 Feb 2013 19:33:42 +0000"  >&lt;p&gt;Committed to trunk. Thanks Prashant for the review. Thanks Koji for the patch. &lt;/p&gt;</comment>
                            <comment id="13577874" author="prkommireddi" created="Wed, 13 Feb 2013 19:47:56 +0000"  >&lt;p&gt;Thanks Koji, Rohini.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12568848" name="pig-3179-v01.patch" size="2006" author="knoguchi" created="Mon, 11 Feb 2013 17:07:00 +0000"/>
                            <attachment id="12568866" name="pig-3179-v02.patch" size="2187" author="knoguchi" created="Mon, 11 Feb 2013 19:13:09 +0000"/>
                            <attachment id="12568881" name="pig-3179-v03.patch" size="2176" author="knoguchi" created="Mon, 11 Feb 2013 20:27:08 +0000"/>
                            <attachment id="12569225" name="pig-3179-v04.patch" size="2208" author="knoguchi" created="Wed, 13 Feb 2013 17:03:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 11 Feb 2013 17:33:36 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>312247</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzbqhr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>312593</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>