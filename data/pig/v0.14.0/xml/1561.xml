<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:10:10 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-1561/PIG-1561.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-1561] XMLLoader in Piggybank does not support bz2 or gzip compressed XML files</title>
                <link>https://issues.apache.org/jira/browse/PIG-1561</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;I have a simple Pig script which uses the XMLLoader after the Piggybank is built.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
register piggybank.jar;
A = load &apos;/user/viraj/capacity-scheduler.xml.gz&apos; using org.apache.pig.piggybank.storage.XMLLoader(&apos;property&apos;) as (docs:chararray);
B = limit A 1;
dump B;
--store B into &apos;/user/viraj/handlegz&apos; using PigStorage();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;returns empty tuple&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you supply the uncompressed XML file, you get&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
(&amp;lt;property&amp;gt;
    &amp;lt;name&amp;gt;mapred.capacity-scheduler.queue.my.capacity&amp;lt;/name&amp;gt;
    &amp;lt;value&amp;gt;10&amp;lt;/value&amp;gt;
    &amp;lt;description&amp;gt;Percentage of the number of slots in the cluster that are
      guaranteed to be available &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; jobs in &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; queue.
    &amp;lt;/description&amp;gt;    
  &amp;lt;/property&amp;gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12472317">PIG-1561</key>
            <summary>XMLLoader in Piggybank does not support bz2 or gzip compressed XML files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vivekp">Vivek Padmanabhan</assignee>
                                    <reporter username="viraj">Viraj Bhat</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Aug 2010 01:50:27 +0100</created>
                <updated>Mon, 25 Apr 2011 22:27:12 +0100</updated>
                            <resolved>Thu, 20 Jan 2011 01:17:51 +0000</resolved>
                                    <version>0.7.0</version>
                    <version>0.8.0</version>
                                    <fixVersion>0.8.1</fixVersion>
                                    <component>impl</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12981739" author="vivekp" created="Fri, 14 Jan 2011 12:43:16 +0000"  >&lt;p&gt;Attaching an initial patch for the issue. Please review. &lt;/p&gt;</comment>
                            <comment id="12981914" author="daijy" created="Fri, 14 Jan 2011 20:25:08 +0000"  >&lt;p&gt;Patch looks good. The only concern is we mark it unsplitable. Did you find out why we cannot split? Neither bz2 and gz is splittable?&lt;/p&gt;</comment>
                            <comment id="12983758" author="vivekp" created="Wed, 19 Jan 2011 15:35:16 +0000"  >&lt;p&gt;In the current XML loader, the behavior is that, the XMLLoaderBufferedPositionedInputStream reads the entire XML file without considering the split start and end locations.&lt;br/&gt;
 Hence if there is an XML &amp;gt; block size, the MR will execute multiple mappers but in all the mappers the loaders will load the entire XML file. &lt;br/&gt;
 ie If i have an XML of size 256mb and the block size is 128mb there will be two mappers , but because of the loader, both the mappers will read the entire file regardless of the split boundaries . This is functionally wrong. This is the reason why I marked it as unsplitable.&lt;/p&gt;</comment>
                            <comment id="12983979" author="daijy" created="Thu, 20 Jan 2011 01:17:51 +0000"  >&lt;p&gt;All tests pass. Patch committed to trunk. Thanks Vivek!&lt;/p&gt;</comment>
                            <comment id="12983994" author="daijy" created="Thu, 20 Jan 2011 01:59:00 +0000"  >&lt;p&gt;Also commit to 0.8 branch.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12468366" name="PIG-1561-1.patch" size="6485" author="vivekp" created="Fri, 14 Jan 2011 12:43:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 14 Jan 2011 12:43:16 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>165037</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyarrz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>96811</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>