<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:09:47 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-3182/PIG-3182.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-3182] Pig currently lacks functions to trim the whitespace only on one side</title>
                <link>https://issues.apache.org/jira/browse/PIG-3182</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;Pig currently lacks function to trim the whitespace only on the left hand side of a given word&lt;br/&gt;
ltrim(&apos; lorem &apos;) = &apos;lorem &apos;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12632168">PIG-3182</key>
            <summary>Pig currently lacks functions to trim the whitespace only on one side</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sarutak">Kousuke Saruta</assignee>
                                    <reporter username="477786">Padma Ravindran</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Wed, 13 Feb 2013 09:14:13 +0000</created>
                <updated>Mon, 14 Oct 2013 17:46:48 +0100</updated>
                            <resolved>Wed, 24 Jul 2013 17:05:26 +0100</resolved>
                                                    <fixVersion>0.12.0</fixVersion>
                                    <component>internal-udfs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13578230" author="477786" created="Thu, 14 Feb 2013 08:33:39 +0000"  >&lt;p&gt;Patch available&lt;/p&gt;</comment>
                            <comment id="13578256" author="prkommireddi" created="Thu, 14 Feb 2013 09:24:33 +0000"  >&lt;p&gt;Thanks a lot for the patch Padma. A few comments:&lt;/p&gt;

&lt;p&gt;1. Can you please name the UDF LTRIM? All caps will keep it in-sync with the builtin UDF TRIM.&lt;br/&gt;
2. Package name should be &quot;org.apache.pig.piggybank.evaluation.string&quot;&lt;br/&gt;
3. Pig uses space and not tabs for indentation. Could you please correct the same?&lt;br/&gt;
4. You could implement outputSchema(Schema) to specify what the expected output type of the UDF is, in this case a chararray.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    @Override
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Schema outputSchema(Schema input) {
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Schema(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Schema.FieldSchema(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, DataType.CHARARRAY));
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;5. UDF does not have a description for the class. You could probably move exec(Tuple) method&apos;s description to be the Class/UDF description. &lt;br/&gt;
6. Do you think the function &quot;Lefttrim(String col)&quot; could be made private? Also, you could avoid the code in there with a simpler regex may be?&lt;br/&gt;
7. You might just want to warn and return null in case of an ExecException. Throwing an IOException would cause the script to fail on a few bad records. Here is an example from the UDF TRIM().&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (ExecException e) {
            warn(&lt;span class=&quot;code-quote&quot;&gt;&quot;Error reading input: &quot;&lt;/span&gt; + e.getMessage(), PigWarning.UDF_WARNING_1);
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Thanks again for working on this.&lt;/p&gt;</comment>
                            <comment id="13581311" author="jcoveney" created="Tue, 19 Feb 2013 14:36:45 +0000"  >&lt;p&gt;Removing patch status until Prashant&apos;s comments are addressed.&lt;/p&gt;</comment>
                            <comment id="13714733" author="sarutak" created="Sun, 21 Jul 2013 17:33:02 +0100"  >&lt;p&gt;Hi&lt;/p&gt;

&lt;p&gt;I refined the patch, which is considered Prashant&apos;s comments and existing implementation of TRIM.&lt;br/&gt;
Additionally, I wrote test codes for LTRIM.&lt;br/&gt;
Could you review that?&lt;/p&gt;</comment>
                            <comment id="13714797" author="cheolsoo" created="Sun, 21 Jul 2013 21:18:42 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sarutak&quot; class=&quot;user-hover&quot; rel=&quot;sarutak&quot;&gt;Kousuke Saruta&lt;/a&gt;, thank you very much for the patch! It looks good!&lt;/p&gt;

&lt;p&gt;Do you mind making this be a built-in UDF? I think it&apos;s better because TRIM is a built-in. It can be added to the org.apache.pig.builtin package like TRIM, and the test case can be added to TestStringUDF.java.&lt;/p&gt;

&lt;p&gt;Let me know what you think.&lt;/p&gt;
</comment>
                            <comment id="13714852" author="sarutak" created="Mon, 22 Jul 2013 02:13:51 +0100"  >&lt;p&gt;Thank you for your comment, Cheolsoo!&lt;/p&gt;

&lt;p&gt;Prashant said that should be piggybank, but I think it&apos;s natural that is a builtin UDF.&lt;br/&gt;
Can I add that as builtin UDF?&lt;/p&gt;</comment>
                            <comment id="13714853" author="cheolsoo" created="Mon, 22 Jul 2013 02:20:37 +0100"  >&lt;p&gt;Yes, please. Also, can you please update the &lt;a href=&quot;http://pig.apache.org/docs/r0.11.0/func.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;doc&lt;/a&gt; if you&apos;re going to make it a built-in? &lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="13714871" author="sarutak" created="Mon, 22 Jul 2013 03:37:22 +0100"  >&lt;p&gt;OK. I&apos;ll try it.&lt;/p&gt;</comment>
                            <comment id="13714877" author="prkommireddi" created="Mon, 22 Jul 2013 04:18:32 +0100"  >&lt;p&gt;Thanks Kousuke for picking this up. &lt;/p&gt;

&lt;p&gt;My comment regarding the package name was with respect to an incorrect one being specified in the earlier patch. It makes sense to move this to builtin rather as Cheolsoo proposed.&lt;/p&gt;</comment>
                            <comment id="13716189" author="sarutak" created="Tue, 23 Jul 2013 08:18:19 +0100"  >&lt;p&gt;Hi,&lt;br/&gt;
I have modified LTRIM as a builtin and added descriptions about LTRIM to doc.&lt;/p&gt;

&lt;p&gt;BTW, I thought if LTRIM is going to be added as a builtin, the function which removes tailing white spaces from string is also needed so I added RTRIM .&lt;/p&gt;

&lt;p&gt;The patch I attached last includes RTRIM.&lt;/p&gt;

&lt;p&gt;How do you think?&lt;/p&gt;</comment>
                            <comment id="13716244" author="sarutak" created="Tue, 23 Jul 2013 09:59:51 +0100"  >&lt;p&gt;Sorry, I found some bugs in my patch.&lt;br/&gt;
Now, I&apos;ve canceled submission and will re-submit after correction.&lt;/p&gt;</comment>
                            <comment id="13716252" author="sarutak" created="Tue, 23 Jul 2013 10:26:10 +0100"  >&lt;p&gt;I&apos;ve modified RTRIM.&lt;/p&gt;</comment>
                            <comment id="13716571" author="cheolsoo" created="Tue, 23 Jul 2013 17:40:05 +0100"  >&lt;p&gt;Thank you Kousuke! I think you made a mistake in your test case:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Testcase: testRtrim took 0.004 sec 
    FAILED
expected:&amp;lt;[]spaces both&amp;gt; but was:&amp;lt;[    ]spaces both&amp;gt;
junit.framework.AssertionFailedError: expected:&amp;lt;[]spaces both&amp;gt; but was:&amp;lt;[    ]spaces both&amp;gt;
    at org.apache.pig.test.TestStringUDFs.testRtrim(TestStringUDFs.java:179)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Your assertion in TestStringUDFs#testRtrim is incorrect. Can you please correct it?&lt;/p&gt;</comment>
                            <comment id="13717653" author="sarutak" created="Tue, 23 Jul 2013 22:38:41 +0100"  >&lt;p&gt;Cheolsoo, thank you for letting me know the defact.&lt;br/&gt;
I&apos;ve modified what you pointed and I found a little bit at first statement of TestStringUDFs#testEqualsIgnoreCase ( tab is used instead of white space ) so I&apos;ve also modified it.&lt;/p&gt;</comment>
                            <comment id="13718516" author="cheolsoo" created="Wed, 24 Jul 2013 17:03:27 +0100"  >&lt;p&gt;+1. Thank you Kousuke!&lt;/p&gt;

&lt;p&gt;Since you added both RTrim and LTrim, I updated the title of the jira properly.&lt;/p&gt;</comment>
                            <comment id="13718519" author="cheolsoo" created="Wed, 24 Jul 2013 17:05:26 +0100"  >&lt;p&gt;Committed to trunk.&lt;/p&gt;</comment>
                            <comment id="13718879" author="sarutak" created="Wed, 24 Jul 2013 22:43:45 +0100"  >&lt;p&gt;Thank you for updating the title and description of this JIRA, Cheolsoo!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12569325" name="LTrim.java.patch" size="3538" author="477786" created="Thu, 14 Feb 2013 08:34:18 +0000"/>
                            <attachment id="12593788" name="PIG-3182.patch" size="14574" author="sarutak" created="Tue, 23 Jul 2013 22:38:41 +0100"/>
                            <attachment id="12593668" name="PIG-3182.patch" size="13439" author="sarutak" created="Tue, 23 Jul 2013 10:26:10 +0100"/>
                            <attachment id="12593416" name="PIG-3182.patch" size="5606" author="sarutak" created="Sun, 21 Jul 2013 17:33:02 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 14 Feb 2013 09:24:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>312664</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzbt2f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>313010</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>LTRIM and RTRIM are new built-in UDFs that trim the whitespace of a string on the left and right hand side respectively.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>