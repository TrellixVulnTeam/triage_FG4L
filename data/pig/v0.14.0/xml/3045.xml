<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:03:57 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-3045/PIG-3045.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-3045] Specifying sorting field(s) at nightly.conf - fix sortArgs</title>
                <link>https://issues.apache.org/jira/browse/PIG-3045</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2782&quot; title=&quot;Specifying sorting field(s) at nightly.conf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2782&quot;&gt;&lt;del&gt;PIG-2782&lt;/del&gt;&lt;/a&gt; fixed a number of tests where the parameters passed to the verification sort was incorrect.&lt;br/&gt;
However, there are still problems with the patch in &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2782&quot; title=&quot;Specifying sorting field(s) at nightly.conf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2782&quot;&gt;&lt;del&gt;PIG-2782&lt;/del&gt;&lt;/a&gt; where it introduced new errors while checking. E.g. the pig script sorts on column one and two, but the verification only checks that output is sorted on column one.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12615809">PIG-3045</key>
            <summary>Specifying sorting field(s) at nightly.conf - fix sortArgs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rohini">Rohini Palaniswamy</assignee>
                                    <reporter username="esoren">Egil Sorensen</reporter>
                        <labels>
                            <label>test</label>
                    </labels>
                <created>Mon, 12 Nov 2012 21:57:52 +0000</created>
                <updated>Fri, 22 Feb 2013 04:53:44 +0000</updated>
                            <resolved>Wed, 14 Nov 2012 06:22:42 +0000</resolved>
                                    <version>0.11</version>
                                    <fixVersion>0.11</fixVersion>
                    <fixVersion>0.12.0</fixVersion>
                                    <component>e2e harness</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13496489" author="cheolsoo" created="Tue, 13 Nov 2012 19:58:24 +0000"  >&lt;p&gt;Hi Egil,&lt;/p&gt;

&lt;p&gt;I think that you&apos;re totally right. Do you want to put up a patch for this? &lt;a href=&quot;https://cwiki.apache.org/confluence/display/PIG/HowToContribute#HowToContribute-Creatingapatch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/PIG/HowToContribute#HowToContribute-Creatingapatch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I am asking because you already provided the fix so deserve a credit, but please let me know if you don&apos;t have time.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="13496498" author="rohini" created="Tue, 13 Nov 2012 20:05:34 +0000"  >&lt;p&gt;Moving the description from Egil outlining the issues to Comment section as it is too long. The line numbers in the diff come from applying the patch of &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2782&quot; title=&quot;Specifying sorting field(s) at nightly.conf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2782&quot;&gt;&lt;del&gt;PIG-2782&lt;/del&gt;&lt;/a&gt; to branch-0.10. &lt;/p&gt;


&lt;p&gt;For file test/e2e/pig/tests/nightly.conf:&lt;br/&gt;
===================&lt;/p&gt;

&lt;p&gt;@@ -1728,7 +1728,7 @@&lt;br/&gt;
                                &apos;pig&apos; =&amp;gt;q\a = load&lt;br/&gt;
&apos;:INPATH:/singlefile/studentnulltab10k&apos; as (name:chararray, age:int,&lt;br/&gt;
gpa:double);&lt;br/&gt;
 b = order a by name, age, gpa;&lt;br/&gt;
 store b into &apos;:OUTPATH:&apos;;\,&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&apos;sortArgs&apos; =&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;-t&amp;#39;, &amp;#39; &amp;#39;, &amp;#39;+0&amp;#39;, &amp;#39;-1&amp;#39;, &amp;#39;+1n&amp;#39;, &amp;#39;-2&amp;#39;&amp;#93;&lt;/span&gt;,&lt;br/&gt;
+                &apos;sortArgs&apos; =&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;-t&amp;#39;, &amp;#39; &amp;#39;, &amp;#39;-k&amp;#39;, &amp;#39;1,1&amp;#39;, &amp;#39;-k&amp;#39;, &amp;#39;2n,2n&amp;#39;&amp;#93;&lt;/span&gt;,&lt;br/&gt;
                        },&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Should have been: &lt;br/&gt;
+                &apos;sortArgs&apos; =&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;-t&amp;#39;, &amp;#39; &amp;#39;, &amp;#39;-k&amp;#39;, &amp;#39;1,1&amp;#39;, &amp;#39;-k&amp;#39;, &amp;#39;2n,3n&amp;#39;&amp;#93;&lt;/span&gt;,&lt;/p&gt;

&lt;p&gt;===================&lt;/p&gt;

&lt;p&gt;Similar&lt;/p&gt;

&lt;p&gt;@@ -1736,7 +1736,7 @@&lt;br/&gt;
                                &apos;pig&apos; =&amp;gt;q\a = load&lt;br/&gt;
&apos;:INPATH:/singlefile/studentnulltab10k&apos; as (name:chararray, age:int,&lt;br/&gt;
gpa:double);&lt;br/&gt;
 b = order a by name desc, age desc, gpa desc;&lt;br/&gt;
 store b into &apos;:OUTPATH:&apos;;\,&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&apos;sortArgs&apos; =&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;-t&amp;#39;, &amp;#39; &amp;#39;, &amp;#39;+0r&amp;#39;, &amp;#39;-1&amp;#39;, &amp;#39;+1nr&amp;#39;, &amp;#39;-2&amp;#39;&amp;#93;&lt;/span&gt;,&lt;br/&gt;
+                &apos;sortArgs&apos; =&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;-t&amp;#39;, &amp;#39; &amp;#39;, &amp;#39;-k&amp;#39;, &amp;#39;1r,1r&amp;#39;, &amp;#39;-k&amp;#39;, &amp;#39;2nr,2nr&amp;#39;&amp;#93;&lt;/span&gt;,&lt;br/&gt;
                        },&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;Should have been: &lt;br/&gt;
+                &apos;sortArgs&apos; =&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;-t&amp;#39;, &amp;#39; &amp;#39;, &amp;#39;-k&amp;#39;, &amp;#39;1r,1r&amp;#39;, &amp;#39;-k&amp;#39;, &amp;#39;2nr,3nr&amp;#39;&amp;#93;&lt;/span&gt;,&lt;/p&gt;

&lt;p&gt;===================&lt;/p&gt;

&lt;p&gt;and &lt;/p&gt;

&lt;p&gt;@@ -1752,7 +1752,7 @@&lt;br/&gt;
                                &apos;pig&apos; =&amp;gt;q\a = load&lt;br/&gt;
&apos;:INPATH:/singlefile/studentnulltab10k&apos; as (name, age:long, gpa:float);&lt;br/&gt;
 b = order a by name desc, age desc, gpa desc;&lt;br/&gt;
 store b into &apos;:OUTPATH:&apos;;\,&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&apos;sortArgs&apos; =&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;-t&amp;#39;, &amp;#39; &amp;#39;, &amp;#39;+0r&amp;#39;, &amp;#39;-1&amp;#39;, &amp;#39;+1nr&amp;#39;, &amp;#39;-2&amp;#39;&amp;#93;&lt;/span&gt;,&lt;br/&gt;
+                &apos;sortArgs&apos; =&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;-t&amp;#39;, &amp;#39; &amp;#39;, &amp;#39;-k&amp;#39;, &amp;#39;1r,1r&amp;#39;, &amp;#39;-k&amp;#39;, &amp;#39;2nr,2nr&amp;#39;&amp;#93;&lt;/span&gt;,&lt;br/&gt;
                        },&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Should have been: &lt;br/&gt;
+                &apos;sortArgs&apos; =&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;-t&amp;#39;, &amp;#39; &amp;#39;, &amp;#39;-k&amp;#39;, &amp;#39;1r,1r&amp;#39;, &amp;#39;-k&amp;#39;, &amp;#39;2nr,3nr&amp;#39;&amp;#93;&lt;/span&gt;,&lt;/p&gt;

&lt;p&gt;===================&lt;/p&gt;

&lt;p&gt;@@ -1847,7 +1847,7 @@&lt;br/&gt;
                                &apos;pig&apos; =&amp;gt; q\a = load&lt;br/&gt;
&apos;:INPATH:/singlefile/studentnulltab10k&apos; as (name:chararray, age:int,&lt;br/&gt;
gpa:double);&lt;br/&gt;
 b = order a by *;&lt;br/&gt;
 store b into &apos;:OUTPATH:&apos;;\,&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&apos;sortArgs&apos; =&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;-t&amp;#39;, &amp;#39; &amp;#39;, &amp;#39;+0&amp;#39;, &amp;#39;-1&amp;#39;, &amp;#39;+1n&amp;#39;, &amp;#39;-2&amp;#39;&amp;#93;&lt;/span&gt;,&lt;br/&gt;
+                &apos;sortArgs&apos; =&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;-t&amp;#39;, &amp;#39; &amp;#39;, &amp;#39;-k&amp;#39;, &amp;#39;1,1&amp;#39;, &amp;#39;-k&amp;#39;, &amp;#39;2n,2n&amp;#39;&amp;#93;&lt;/span&gt;,&lt;br/&gt;
                        },&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Should have been: &lt;br/&gt;
+                &apos;sortArgs&apos; =&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;-t&amp;#39;, &amp;#39; &amp;#39;, &amp;#39;-k&amp;#39;, &amp;#39;1,1&amp;#39;, &amp;#39;-k&amp;#39;, &amp;#39;2n,3n&amp;#39;&amp;#93;&lt;/span&gt;,&lt;/p&gt;

&lt;p&gt;===================&lt;/p&gt;

&lt;p&gt;@@ -1855,7 +1855,7 @@&lt;br/&gt;
                                &apos;pig&apos; =&amp;gt; q\a = load&lt;br/&gt;
&apos;:INPATH:/singlefile/studentnulltab10k&apos; as (name:chararray, age:int,&lt;br/&gt;
gpa:double);&lt;br/&gt;
 b = order a by * desc;&lt;br/&gt;
 store b into &apos;:OUTPATH:&apos;;\,&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&apos;sortArgs&apos; =&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;-t&amp;#39;, &amp;#39; &amp;#39;, &amp;#39;+0r&amp;#39;, &amp;#39;-1&amp;#39;, &amp;#39;+1nr&amp;#39;, &amp;#39;-2&amp;#39;&amp;#93;&lt;/span&gt;,&lt;br/&gt;
+                &apos;sortArgs&apos; =&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;-t&amp;#39;, &amp;#39; &amp;#39;, &amp;#39;-k&amp;#39;, &amp;#39;1r,1r&amp;#39;, &amp;#39;-k&amp;#39;, &amp;#39;2nr,2nr&amp;#39;&amp;#93;&lt;/span&gt;,&lt;br/&gt;
                        },&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Should have been: &lt;br/&gt;
+                &apos;sortArgs&apos; =&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;-t&amp;#39;, &amp;#39; &amp;#39;, &amp;#39;-k&amp;#39;, &amp;#39;1,1&amp;#39;, &amp;#39;-k&amp;#39;, &amp;#39;2nr,3nr&amp;#39;&amp;#93;&lt;/span&gt;,&lt;/p&gt;

&lt;p&gt;===================&lt;/p&gt;

&lt;p&gt;@@ -1943,7 +1943,7 @@&lt;br/&gt;
 c = filter b by $0 &amp;gt; &apos;a&apos;; &amp;#8211; break the sort/limit optimization&lt;br/&gt;
 d = limit c 100;&lt;br/&gt;
 store d into &apos;:OUTPATH:&apos;;\,&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&apos;sortArgs&apos; =&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;-t&amp;#39;, &amp;#39;  &amp;#39;, &amp;#39;+0&amp;#39;, &amp;#39;-1&amp;#39;&amp;#93;&lt;/span&gt;,&lt;br/&gt;
+               &apos;sortArgs&apos; =&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;-t&amp;#39;, &amp;#39;  &amp;#39;, &amp;#39;-k&amp;#39;, &amp;#39;1,1&amp;#39;&amp;#93;&lt;/span&gt;,&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Should have been: &lt;br/&gt;
+               &apos;sortArgs&apos; =&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;-t&amp;#39;, &amp;#39;  &amp;#39;, &amp;#39;-k&amp;#39;, &amp;#39;1,2&amp;#39;&amp;#93;&lt;/span&gt;,&lt;/p&gt;

&lt;p&gt;===================&lt;/p&gt;

&lt;p&gt;@@ -1952,7 +1952,7 @@&lt;br/&gt;
 b = order a by $0, $1;&lt;br/&gt;
 c = limit b 100;&lt;br/&gt;
 store c into &apos;:OUTPATH:&apos;;\,&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&apos;sortArgs&apos; =&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;-t&amp;#39;, &amp;#39;  &amp;#39;, &amp;#39;+0&amp;#39;, &amp;#39;-1&amp;#39;&amp;#93;&lt;/span&gt;,&lt;br/&gt;
+               &apos;sortArgs&apos; =&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;-t&amp;#39;, &amp;#39;  &amp;#39;, &amp;#39;-k&amp;#39;, &amp;#39;1,1&amp;#39;&amp;#93;&lt;/span&gt;,&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Should have been: &lt;br/&gt;
+               &apos;sortArgs&apos; =&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;-t&amp;#39;, &amp;#39;  &amp;#39;, &amp;#39;-k&amp;#39;, &amp;#39;1,2&amp;#39;&amp;#93;&lt;/span&gt;,&lt;/p&gt;

&lt;p&gt;===================&lt;/p&gt;

&lt;p&gt;@@ -2222,7 +2222,7 @@&lt;br/&gt;
 D = order B by age, extra;&lt;br/&gt;
 store D into &apos;:OUTPATH:&apos;;\,&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&apos;sortArgs&apos; =&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;-t&amp;#39;, &amp;#39;  &amp;#39;, &amp;#39;+1n&amp;#39;, &amp;#39;-2&amp;#39;&amp;#93;&lt;/span&gt;,&lt;br/&gt;
+                       &apos;sortArgs&apos; =&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;-t&amp;#39;, &amp;#39;  &amp;#39;, &amp;#39;-k&amp;#39;, &amp;#39;2n,2n&amp;#39;&amp;#93;&lt;/span&gt;,&lt;br/&gt;
                        },&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Should have been: &lt;br/&gt;
+                       &apos;sortArgs&apos; =&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;-t&amp;#39;, &amp;#39;  &amp;#39;, &amp;#39;-k&amp;#39;, &amp;#39;2n,2n&amp;#39;, &amp;#39;-k&amp;#39;, &amp;#39;4,4&amp;#39;&amp;#93;&lt;/span&gt;,&lt;/p&gt;

&lt;p&gt;(This last is decidedly minor, as the &apos;extra&apos; column is empty, but for sake of consistency...) &lt;/p&gt;

</comment>
                            <comment id="13496719" author="rohini" created="Wed, 14 Nov 2012 00:56:08 +0000"  >&lt;p&gt;Ran the e2e tests with -Dtests.to.run=&quot;-t Types -t Limit -t MissingColumns&quot; to test the attached patch. &lt;/p&gt;</comment>
                            <comment id="13496872" author="cheolsoo" created="Wed, 14 Nov 2012 05:26:25 +0000"  >&lt;p&gt;+1. I will commit it after running the tests.&lt;/p&gt;</comment>
                            <comment id="13496893" author="cheolsoo" created="Wed, 14 Nov 2012 06:22:42 +0000"  >&lt;p&gt;Committed to trunk/0.11. Thanks Rohini!&lt;/p&gt;</comment>
                            <comment id="13497268" author="esoren" created="Wed, 14 Nov 2012 17:46:00 +0000"  >&lt;p&gt;Thanks, Rohini.&lt;br/&gt;
And, thanks Cheolsoo, for you consideration in #comment-13496489; It is just fine that Rohini took this one, as it was her who got me looking at these tests in the first place. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                            <outwardlinks description="is a clone of">
                                        <issuelink>
            <issuekey id="12596654">PIG-2782</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12540590">PIG-2498</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12626283">PIG-3116</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12553415" name="PIG-3045.patch" size="3426" author="rohini" created="Wed, 14 Nov 2012 00:56:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 13 Nov 2012 19:58:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>257288</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyds3z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>114363</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>