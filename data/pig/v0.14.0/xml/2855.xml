<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:52:53 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-2855/PIG-2855.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-2855] Provide a method to measure time spent in UDFs</title>
                <link>https://issues.apache.org/jira/browse/PIG-2855</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;When debugging slow jobs, it is often useful to know whether time is being spent in UDFs, and in which UDFs. This is easy to measure from within the framework, we should let users optionally track these metrics.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12601163">PIG-2855</key>
            <summary>Provide a method to measure time spent in UDFs</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dvryaboy">Dmitriy V. Ryaboy</assignee>
                                    <reporter username="dvryaboy">Dmitriy V. Ryaboy</reporter>
                        <labels>
                    </labels>
                <created>Thu, 2 Aug 2012 06:29:01 +0100</created>
                <updated>Fri, 22 Feb 2013 04:53:40 +0000</updated>
                            <resolved>Wed, 8 Aug 2012 18:28:16 +0100</resolved>
                                                    <fixVersion>0.11</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13427124" author="dvryaboy" created="Thu, 2 Aug 2012 06:30:42 +0100"  >&lt;p&gt;Attaching patch, complete with docs.&lt;/p&gt;

&lt;p&gt;Pasting usage here:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Use this option to turn on UDF timers. This will cause two&lt;/li&gt;
	&lt;li&gt;counters to be tracked for every UDF and LoadFunc in your script:&lt;/li&gt;
	&lt;li&gt;approx_microsecs measures approximate time spent inside a UDF&lt;/li&gt;
	&lt;li&gt;approx_invocations reports the approximate number of times the UDF was invoked&lt;/li&gt;
	&lt;li&gt;pig.udf.profile=false&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="13427141" author="dvryaboy" created="Thu, 2 Aug 2012 07:27:16 +0100"  >&lt;p&gt;Forgot to add the new PigConfiguration file.&lt;/p&gt;</comment>
                            <comment id="13428409" author="jcoveney" created="Fri, 3 Aug 2012 22:59:04 +0100"  >&lt;p&gt;Love the idea.&lt;/p&gt;

&lt;p&gt;One potential issue... with POUser func, it looks like your counter group is FuncSpec#toString, which means multiple invocations of the same UDF in different parts of the code will go to the same counter.&lt;/p&gt;</comment>
                            <comment id="13428415" author="dvryaboy" created="Fri, 3 Aug 2012 23:07:18 +0100"  >&lt;p&gt;I don&apos;t know a way around that one &amp;#8211; I could use the object id, but then the counters wouldn&apos;t get aggregated across mappers and we&apos;d have a ridiculous counter explosion.&lt;br/&gt;
At least with FuncSpec (rather than class name) different invocations with different initialization args go to different groups.&lt;/p&gt;</comment>
                            <comment id="13431209" author="jcoveney" created="Wed, 8 Aug 2012 17:41:59 +0100"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13431231" author="dvryaboy" created="Wed, 8 Aug 2012 18:28:17 +0100"  >&lt;p&gt;Committed to trunk.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12538873" name="PIG-2855.2.patch" size="8728" author="dvryaboy" created="Thu, 2 Aug 2012 07:27:16 +0100"/>
                            <attachment id="12538867" name="PIG-2855.patch" size="8728" author="dvryaboy" created="Thu, 2 Aug 2012 06:30:42 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 3 Aug 2012 21:59:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>256458</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyb0kn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>98236</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>New Feature: Timing your UDFs&lt;br/&gt;
&lt;br/&gt;
The first step to improving performance and efficiency is measuring where the time is going. Pig provides a light-weight method for approximately measuring how much time is spent in different user-defined functions (UDFs) and Loaders. Simply set the pig.udf.profile property to true. This will cause new counters to be tracked for all Map-Reduce jobs generated by your script: approx_microsecs measures the approximate amount of time spent in a UDF, and approx_invocations measures the approximate number of times the UDF was invoked. Note that this may produce a large number of counters (two per UDF). Excessive amounts of counters can lead to poor JobTracker performance, so use this feature carefully, and preferably on a test cluster.&lt;br/&gt;
</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>