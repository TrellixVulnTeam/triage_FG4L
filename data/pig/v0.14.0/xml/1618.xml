<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:49:57 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-1618/PIG-1618.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-1618] Switch to new parser generator technology</title>
                <link>https://issues.apache.org/jira/browse/PIG-1618</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;There are many bugs in Pig related to the parser, particularly to bad error messages.  After review of Java CC we feel these will be difficult to address using that tool.  Also, the .jjt files used by JavaCC are hard to understand and maintain.  &lt;/p&gt;

&lt;p&gt;ANTLR is being reviewed as the most likely choice to move to, but other parsers will be reviewed as well.&lt;/p&gt;

&lt;p&gt;This JIRA will act as an umbrella issue for other parser issues.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12474396">PIG-1618</key>
            <summary>Switch to new parser generator technology</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="xuefuz">Xuefu Zhang</assignee>
                                    <reporter username="alangates">Alan Gates</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 Sep 2010 16:55:42 +0100</created>
                <updated>Thu, 2 May 2013 03:29:35 +0100</updated>
                            <resolved>Fri, 18 Mar 2011 00:34:20 +0000</resolved>
                                    <version>0.8.0</version>
                                    <fixVersion>0.9.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                            <comments>
                            <comment id="12925611" author="xuefuz" created="Thu, 28 Oct 2010 01:16:29 +0100"  >&lt;p&gt;First patch to address the issue. With this patch, the generated parse can parse pig script and generate a flat AST.&lt;/p&gt;

&lt;p&gt;The patch contains antlr lib, but the lib may not be applied when it&apos;s patched. (for me, it didn&apos;t.) In that case, so the attached lib, antlr-3.2.jar can be put under pig lib directory.&lt;/p&gt;</comment>
                            <comment id="12925880" author="xuefuz" created="Thu, 28 Oct 2010 18:24:55 +0100"  >&lt;p&gt;Updated to remove some code duplication.&lt;/p&gt;</comment>
                            <comment id="12925958" author="gkesavan" created="Thu, 28 Oct 2010 22:42:39 +0100"  >&lt;p&gt;could we use ivy for resolving/retrieving antlr-3.2.jar ?&lt;/p&gt;</comment>
                            <comment id="12925962" author="xuefuz" created="Thu, 28 Oct 2010 22:52:12 +0100"  >&lt;p&gt;Tried but the jar available in the public repos seems having some issue. However, this will be re-addressed at a later time.&lt;/p&gt;</comment>
                            <comment id="12925980" author="thejas" created="Thu, 28 Oct 2010 23:49:01 +0100"  >&lt;p&gt;+1&lt;br/&gt;
Looks great, now one can understand the grammar from the parser rules !&lt;/p&gt;</comment>
                            <comment id="12925984" author="thejas" created="Fri, 29 Oct 2010 00:09:14 +0100"  >&lt;p&gt;NewParser-2.patch and 	antlr-3.2.jar committed to trunk .&lt;/p&gt;</comment>
                            <comment id="12929605" author="thejas" created="Mon, 8 Nov 2010 16:05:03 +0000"  >&lt;p&gt;Earlier patch introduced javadoc warnings. This patch (javadoc.patch) fixes it. It passes test-patch. Running unit tests.&lt;/p&gt;
</comment>
                            <comment id="12930293" author="thejas" created="Tue, 9 Nov 2010 21:32:26 +0000"  >&lt;p&gt;Unit tests have passed with javadoc.patch . The javadoc warnings were caused by absence of antlr jar in javadoc classpath -&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
     [exec]   [javadoc] Constructing Javadoc information...
     [exec]   [javadoc] /tmp/patchtestthejas/trunk/src/org/apache/pig/parser/QueryParserFileStream.java:23: &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; org.antlr.runtime does not exist
     [exec]   [javadoc] &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.antlr.runtime.ANTLRFileStream;
     [exec]   [javadoc]                         ^
     [exec]   [javadoc] /tmp/patchtestthejas/trunk/src/org/apache/pig/parser/QueryParserFileStream.java:29: cannot find symbol
     [exec]   [javadoc] symbol: class ANTLRFileStream
     [exec]   [javadoc] &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; class QueryParserFileStream &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; ANTLRFileStream {
     [exec]   [javadoc]                                            ^

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12930302" author="xuefuz" created="Tue, 9 Nov 2010 21:55:03 +0000"  >&lt;p&gt;+1&lt;br/&gt;
Patch looks good.&lt;/p&gt;</comment>
                            <comment id="12930317" author="thejas" created="Tue, 9 Nov 2010 22:14:00 +0000"  >&lt;p&gt;javadoc.patch committed to trunk.&lt;/p&gt;</comment>
                            <comment id="12933276" author="xuefuz" created="Thu, 18 Nov 2010 01:18:18 +0000"  >&lt;p&gt;Test-Patch run result is shown below, and the javadoc warning was due to the instability of the sun java site.&lt;/p&gt;

&lt;p&gt;     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; -1 overall.  &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 @author.  The patch does not contain any @author tags.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 tests included.  The patch appears to include 9 new or modified tests.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     -1 javadoc.  The javadoc tool appears to have generated 1 warning messages.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;</comment>
                            <comment id="12933294" author="thejas" created="Thu, 18 Nov 2010 02:32:11 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12933461" author="thejas" created="Thu, 18 Nov 2010 16:08:21 +0000"  >&lt;p&gt;NewParser-4.patch committed to trunk  .&lt;/p&gt;</comment>
                            <comment id="12934068" author="xuefuz" created="Sat, 20 Nov 2010 00:39:44 +0000"  >&lt;p&gt;Tree Parser, DefaultDataTypeInserter&lt;/p&gt;</comment>
                            <comment id="12934069" author="xuefuz" created="Sat, 20 Nov 2010 00:42:28 +0000"  >&lt;p&gt;For NewParser-5.patch, the following is the test-patch run result. Note that additional javac warnings come from the generated code.&lt;/p&gt;

&lt;p&gt;     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; -1 overall.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 @author.  The patch does not contain any @author tags.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 tests included.  The patch appears to include 10 new or modified tests.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     -1 javac.  The applied patch generated 741 javac compiler warnings (more than the trunk&apos;s current 730 warnings).&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;</comment>
                            <comment id="12965316" author="alangates" created="Tue, 30 Nov 2010 18:08:55 +0000"  >&lt;p&gt;There was a question on whether the default type inserter should be done as a visitor on the AST or on the logical plan.  We want to limit the number of visitors we create on the AST since they require a definition of the grammar in each visitor.  But I think the default type inserter makes sense on the AST.  Moving this to the logical plan would most likely involve putting information in the logical plan that shouldn&apos;t be there (like whether there was an AS defined on this clause).  Since the AST already has this information it makes more sense to do that processing there.&lt;/p&gt;</comment>
                            <comment id="12965954" author="thejas" created="Thu, 2 Dec 2010 01:31:52 +0000"  >&lt;p&gt;+1 &lt;br/&gt;
NewParser-5.patch committed to trunk.&lt;/p&gt;</comment>
                            <comment id="12966658" author="xuefuz" created="Fri, 3 Dec 2010 20:25:59 +0000"  >&lt;p&gt;For NewParser-6.patch, the following is the test-patch run result. Note that additional javac warnings come from the generated code. &lt;/p&gt;

&lt;p&gt;     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; -1 overall.  &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 @author.  The patch does not contain any @author tags.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 tests included.  The patch appears to include 8 new or modified tests.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     -1 javac.  The applied patch generated 742 javac compiler warnings (more than the trunk&apos;s current 741 warnings).&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;</comment>
                            <comment id="12966662" author="xuefuz" created="Fri, 3 Dec 2010 20:41:01 +0000"  >&lt;p&gt;Patch NewParser-6.patch added schema alias name validation. The code was refactored to combine two visitors into one.&lt;/p&gt;</comment>
                            <comment id="12966725" author="thejas" created="Fri, 3 Dec 2010 23:16:27 +0000"  >&lt;p&gt;Review comments on NewParser-6.patch -&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;AstValidator.g - HashSet would be a better choice than HashMap for keeping track of unique schema aliases&lt;/li&gt;
	&lt;li&gt;ParserTestingUtils.java -  insertDefaultDataType and checkSchemaAlias do the same thing. We can  consolidate them together into getValidatedAST().&lt;/li&gt;
	&lt;li&gt;TestAstValidator.java-  insertDefaultDataType is also not used currently, i think it will be good to call the consolidated function (getValidatedAST() ? ) from testDefaultDataTypeInsertion&lt;/li&gt;
	&lt;li&gt;TestAstValidator.java - can we also check for line and column number in the error message ?&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12967265" author="xuefuz" created="Mon, 6 Dec 2010 17:25:17 +0000"  >&lt;p&gt;Updated the patch (#6) based on some of the feedback.&lt;/p&gt;

&lt;p&gt;Line number/column number is not asserted because of Antlr&apos;s recovery feature. The numbers are shown in the error messages, but it&apos;s not available without turning the recovery off, which requires some additional work. Will provide the capability later.&lt;/p&gt;</comment>
                            <comment id="12969952" author="thejas" created="Thu, 9 Dec 2010 21:19:59 +0000"  >&lt;p&gt;+1 for NewParser-7.patch&lt;br/&gt;
Patch committed to trunk.&lt;/p&gt;</comment>
                            <comment id="12970907" author="xuefuz" created="Mon, 13 Dec 2010 17:27:56 +0000"  >&lt;p&gt;Patch includes first portion of logical plan generation. This is not complete and subject to subsequent changes. We need to get it in to make the whole process incremental. &lt;/p&gt;

&lt;p&gt;The following is the test-patch run result. The additional javac warnings are due to generated code.&lt;/p&gt;

&lt;p&gt;     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; -1 overall.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 @author.  The patch does not contain any @author tags.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 tests included.  The patch appears to include 7 new or modified tests.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     -1 javac.  The applied patch generated 924 javac compiler warnings (more than the trunk&apos;s current 742 warnings).&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;</comment>
                            <comment id="12971305" author="thejas" created="Tue, 14 Dec 2010 16:43:09 +0000"  >&lt;p&gt;+1 for NewParser-8.patches .&lt;br/&gt;
I also ran the unit tests, all passed.&lt;br/&gt;
Patch committed to trunk.&lt;/p&gt;</comment>
                            <comment id="12972283" author="xuefuz" created="Thu, 16 Dec 2010 23:19:10 +0000"  >&lt;p&gt;Patch NewParser-9.patch includes second portion of logical plan generation. Still, work is not complete and subject to subsequent changes. &lt;/p&gt;

&lt;p&gt;The following is the test-patch run result. The additional javac warnings are due to generated code. Ant test passed.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; -1 overall.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 @author.  The patch does not contain any @author tags.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 tests included.  The patch appears to include 6 new or modified tests.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     -1 javac.  The applied patch generated 943 javac compiler warnings (more than the trunk&apos;s current 924 warnings).&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;
</comment>
                            <comment id="12972694" author="thejas" created="Sat, 18 Dec 2010 00:02:17 +0000"  >&lt;p&gt;+1 for NewParser-9.patch&lt;br/&gt;
Patch committed to trunk.&lt;/p&gt;</comment>
                            <comment id="12977041" author="xuefuz" created="Tue, 4 Jan 2011 00:33:18 +0000"  >&lt;p&gt;NewParser-10.patch is the 3rd patch of logical plan generation. &lt;/p&gt;</comment>
                            <comment id="12977043" author="xuefuz" created="Tue, 4 Jan 2011 00:35:28 +0000"  >&lt;p&gt;NewParser-10.patch is the 3rd patch for logical plan generation.&lt;/p&gt;</comment>
                            <comment id="12977045" author="xuefuz" created="Tue, 4 Jan 2011 00:37:54 +0000"  >&lt;p&gt;Test patch run result is below. New javacc warnings are from the generated parser code.&lt;br/&gt;
Nightly test is in progress.&lt;/p&gt;

&lt;p&gt;     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; -1 overall.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 @author.  The patch does not contain any @author tags.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 tests included.  The patch appears to include 6 new or modified tests.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     -1 javac.  The applied patch generated 954 javac compiler warnings (more than the trunk&apos;s current 943 warnings).&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;</comment>
                            <comment id="12977362" author="xuefuz" created="Tue, 4 Jan 2011 17:27:45 +0000"  >&lt;p&gt;Nightly test (ant test) passed for patch NewParser-10.patch.&lt;/p&gt;</comment>
                            <comment id="12977509" author="thejas" created="Tue, 4 Jan 2011 22:33:57 +0000"  >&lt;p&gt;+1 for NewParser-10.patch&lt;br/&gt;
Patch committed to trunk. &lt;/p&gt;</comment>
                            <comment id="12981051" author="xuefuz" created="Thu, 13 Jan 2011 00:50:34 +0000"  >&lt;p&gt;Further patch for logical plan generation, mostly about foreach inner plan.&lt;/p&gt;</comment>
                            <comment id="12981053" author="xuefuz" created="Thu, 13 Jan 2011 00:52:06 +0000"  >&lt;p&gt;Further work for logical plan generation. Largely about foreach inner plan generation.&lt;/p&gt;</comment>
                            <comment id="12981057" author="xuefuz" created="Thu, 13 Jan 2011 01:02:17 +0000"  >&lt;p&gt;Test-pathc run result. Additional javac warnings coming from the generated parser code. Release audit warnings seemed coming from new methods added to the existing classes. Both kinds of warnings can be ignored.&lt;/p&gt;

&lt;p&gt;     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; -1 overall.  &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 @author.  The patch does not contain any @author tags.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 tests included.  The patch appears to include 3 new or modified tests.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     -1 javac.  The applied patch generated 969 javac compiler warnings (more than the trunk&apos;s current 953 warnings).&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     -1 release audit.  The applied patch generated 482 release audit warnings (more than the trunk&apos;s current 478 warnings).&lt;/p&gt;
</comment>
                            <comment id="12981375" author="xuefuz" created="Thu, 13 Jan 2011 17:15:52 +0000"  >&lt;p&gt;&quot;Ant test&quot; passed for patch NewParser-11.patch.&lt;/p&gt;</comment>
                            <comment id="12981990" author="thejas" created="Sat, 15 Jan 2011 00:56:27 +0000"  >&lt;p&gt;NewParser-11.patch committed to trunk with some additional comments to describe LogicalPlanBuilder.processExpressionPlan(..)&lt;/p&gt;</comment>
                            <comment id="12983374" author="xuefuz" created="Tue, 18 Jan 2011 21:05:53 +0000"  >&lt;p&gt;This patch is about schema specification cleanup (as clause in pig statements). It also includes various fixes including union onschema support (partial).&lt;/p&gt;

&lt;p&gt;Test-patch run:&lt;/p&gt;

&lt;p&gt;     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; +1 overall.  &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 @author.  The patch does not contain any @author tags.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 tests included.  The patch appears to include 7 new or modified tests.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;
</comment>
                            <comment id="12983452" author="thejas" created="Wed, 19 Jan 2011 00:04:25 +0000"  >&lt;p&gt;NewParser-12.patch review comment :  &lt;br/&gt;
For bag schema specification, the parser is ignoring the tuple name. ie in case of bag schema such as &quot;a : &lt;/p&gt;
{ t : (x : int)}
&lt;p&gt;&quot;, the tuple name &quot;t&quot; is being ignored.&lt;br/&gt;
The name of the tuple in the bag is not useful because it cannot be accessed with that name, so it makes sense to make it optional. But if we plan to ignore the name (ie, describe command will not show the tuple name), i think we should deprecate that syntax and warn the user.&lt;/p&gt;

&lt;p&gt;ie something like -&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
grunt&amp;gt; l = load &apos;file&apos; as (a : { t : (a : &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;)});
WARN: specifying name of the tuple  in a bag is deprecated, the tuple name will be ignored. Tuple inside the bag &lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt; has been named &lt;span class=&quot;code-quote&quot;&gt;&quot;t&quot;&lt;/span&gt;.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This change can be part of the next patch.&lt;br/&gt;
Committed NewParser-12.patch to trunk. &lt;/p&gt;</comment>
                            <comment id="12984854" author="xuefuz" created="Fri, 21 Jan 2011 18:43:15 +0000"  >&lt;p&gt;Patch includes:&lt;br/&gt;
1. Union OnSchema migration from the old plan&lt;br/&gt;
2. Repackaging for new logical plan visitors.&lt;/p&gt;

&lt;p&gt;TestPatch run: ( Release audit warnings due to new folder/file)&lt;/p&gt;

&lt;p&gt;     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; -1 overall.  &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 @author.  The patch does not contain any @author tags.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 tests included.  The patch appears to include 3 new or modified tests.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     -1 release audit.  The applied patch generated 484 release audit warnings (more than the trunk&apos;s current 482 warnings).&lt;/p&gt;

&lt;p&gt;Ant test passed.&lt;/p&gt;</comment>
                            <comment id="12986717" author="thejas" created="Tue, 25 Jan 2011 22:06:16 +0000"  >&lt;p&gt;Made a minor change to NewParser-13.patch (see NewParser-13.2.patch), to move package org.apache.pig.newplan.visitor to src.org.apache.pig.newplan.logical.visitor .&lt;br/&gt;
Committed patch to trunk.&lt;/p&gt;</comment>
                            <comment id="12987134" author="xuefuz" created="Wed, 26 Jan 2011 18:16:18 +0000"  >&lt;p&gt;A visitor for new logical plan. It does some schema validations, but it mainly converts column alias in projection and de-reference  to column index. However, this patch doesn&apos;t process scalar projection yet.&lt;/p&gt;

&lt;p&gt;Test-Patch run result:&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; +1 overall.  &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 @author.  The patch does not contain any @author tags.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 tests included.  The patch appears to include 3 new or modified tests.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;Ant test passes except a zebra test failure which doesn&apos;t seem to be related.&lt;/p&gt;</comment>
                            <comment id="12987313" author="thejas" created="Thu, 27 Jan 2011 00:31:52 +0000"  >&lt;p&gt;+1 &lt;br/&gt;
NewParser-14.patch committed to trunk.&lt;/p&gt;</comment>
                            <comment id="12988982" author="xuefuz" created="Tue, 1 Feb 2011 01:07:05 +0000"  >&lt;p&gt;Includes:&lt;br/&gt;
1. Scalar support&lt;br/&gt;
2. Minor parser grammar fixes&lt;br/&gt;
3. Better schema validation and more test case.&lt;/p&gt;</comment>
                            <comment id="12989280" author="xuefuz" created="Tue, 1 Feb 2011 17:06:08 +0000"  >&lt;p&gt;Test-patch run result for patch NewParser-15.patch: (release warning is due to new files added.)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; -1 overall.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 @author.  The patch does not contain any @author tags.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 tests included.  The patch appears to include 6 new or modified tests.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     -1 release audit.  The applied patch generated 499 release audit warnings (more than the trunk&apos;s current 496 warnings).&lt;/p&gt;

&lt;p&gt;Ant test passed.&lt;/p&gt;</comment>
                            <comment id="12989940" author="thejas" created="Thu, 3 Feb 2011 01:39:07 +0000"  >&lt;p&gt;+1 NewParser-15.patch&lt;br/&gt;
Patch committed to trunk.&lt;/p&gt;

&lt;p&gt;Some comments about the patch which can be addressed in next patch -&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;in LogicalPlanGenerator.g, the exception InvalidScalarProjectionException should include a useful error message as well.
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+                     &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;( schema != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; pos &amp;gt;= schema.size() ) {
+                         &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; InvalidScalarProjectionException( input, scalarExpr );
+                     }

should be something like -
+                     &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;( schema != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; pos &amp;gt;= schema.size() ) {
+                         &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; InvalidScalarProjectionException( input, scalarExpr, &lt;span class=&quot;code-quote&quot;&gt;&quot;Position &quot;&lt;/span&gt; + pos + &lt;span class=&quot;code-quote&quot;&gt;&quot; is greater that schema size :&quot;&lt;/span&gt; + schema.size() );
+                     }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;ScalarVisitor class description needs to be corrected.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13001790" author="daijy" created="Thu, 3 Mar 2011 01:17:04 +0000"  >&lt;p&gt;Review for NewParser-18.patch: &lt;a href=&quot;https://reviews.apache.org/r/459/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/459/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13002732" author="thejas" created="Fri, 4 Mar 2011 17:30:57 +0000"  >&lt;p&gt;NewParser-19.3.patch has fixes for findbugs, release audit warnings in NewParser-19.patch.&lt;/p&gt;</comment>
                            <comment id="13002763" author="thejas" created="Fri, 4 Mar 2011 18:22:19 +0000"  >&lt;p&gt;Review comments in &lt;a href=&quot;https://reviews.apache.org/r/459/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/459/&lt;/a&gt; for NewParser-18.patch/NewParser-19.*.patch will be addressed in another patch in this jira.&lt;br/&gt;
Committed NewParser-19.3.patch to trunk.&lt;/p&gt;</comment>
                            <comment id="13003588" author="thejas" created="Mon, 7 Mar 2011 20:52:49 +0000"  >&lt;p&gt;The new parser changes also fixes one behavior seen in earlier versions including 0.8 .&lt;br/&gt;
With the changes in trunk - flatten of bag with null schema will result in a null schema.&lt;/p&gt;

&lt;p&gt;For example,&lt;br/&gt;
in 0.8 -&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
grunt&amp;gt; describe g;
g: {group: bytearray,a: {&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}}
grunt&amp;gt; f = foreach g generate $0 , flatten(a);
grunt&amp;gt; describe f;
f: {group: bytearray,bytearray}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;in trunk with new parser changes -&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
grunt&amp;gt; describe g;
g: {group: bytearray,a: {(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)}}
grunt&amp;gt; f = foreach g generate $0 , flatten(a);
grunt&amp;gt; describe f;
Schema &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; f unknown.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="13003597" author="olgan" created="Mon, 7 Mar 2011 20:58:51 +0000"  >&lt;p&gt;is this only changes describe output or does it have other non-backward comptible changes?&lt;/p&gt;</comment>
                            <comment id="13003615" author="thejas" created="Mon, 7 Mar 2011 21:16:14 +0000"  >&lt;blockquote&gt;&lt;p&gt;is this only changes describe output or does it have other non-backward comptible changes?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;It changes the schema of the statement, so any statements that relies on a non null schema of foreach statement will not work any more.&lt;br/&gt;
But I think the new behavior is correct.&lt;/p&gt;

&lt;p&gt;For example -&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
grunt&amp;gt; describe g;
g: {group: bytearray,a: {(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)}}
grunt&amp;gt; f = foreach g generate $0 , flatten(a);
grunt&amp;gt; f2 = foreach f generate group; -- &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; would give an error - Projected field [group] does not exist in schema: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It also affects lineage tracing, in case of co-group where inputs don&apos;t have schema.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
a = load &apos;a&apos; using PigStorage(&apos;a&apos;) ;
b = load &apos;a&apos; using PigStorage(&apos;b&apos;) ;
c = cogroup a by $0, b by $0 ;
d = foreach c generate group, flatten(a), flatten(b)  ;
e = foreach d generate $1 + 1, $2 + 1  ;
-- in 0.8 the load func spec of a would have been associated with $1, and that of b with $2 .
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This also means that some valid statements that would not work with 0.8 will now work -&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
a = load &apos;a&apos; using PigStorage(&apos;a&apos;) ;
b = group a by $0;
c = foreach b generate group, flatten(b);
d = foreach c generate $2; 
-- in 0.8 &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; would have given an error - Error during parsing. Out of bound access. Trying to access non-existent column: 2. Schema {group: bytearray,bytearray} has 2 column(s).
-- in trunk &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; will work as it should

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="13003663" author="xuefuz" created="Mon, 7 Mar 2011 22:33:38 +0000"  >&lt;p&gt;I think the behavior change was largely due to the way we interpret the schema, probably having nothing to do with parser.&lt;/p&gt;

&lt;p&gt;It&apos;s basically a question of how we treat a schema partially known (unknown). It doesn&apos;t seem easy to correctly address the issue. However, treating a schema partially known as unknown seems fine: user can always use $0 instead of &quot;group&quot; to access the known field.&lt;/p&gt;

&lt;p&gt;On the other hand, treating flattan( a ) as one field of byte array seems misleading.&lt;/p&gt;</comment>
                            <comment id="13004152" author="xuefuz" created="Tue, 8 Mar 2011 19:33:34 +0000"  >&lt;p&gt;For NewParser-21.patch:&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; +1 overall.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 @author.  The patch does not contain any @author tags.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 tests included.  The patch appears to include 18 new or modified tests.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;Nightly and unit tests all passed.&lt;/p&gt;
</comment>
                            <comment id="13004193" author="thejas" created="Tue, 8 Mar 2011 20:34:38 +0000"  >&lt;p&gt;+1 for NewParser-22.patch. &lt;br/&gt;
Patch committed to trunk.&lt;/p&gt;
</comment>
                            <comment id="13004308" author="thejas" created="Wed, 9 Mar 2011 00:39:25 +0000"  >&lt;p&gt;NewParser-23.patch&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Re-enables test cases in TestSchema,TestTypeCheckingValidatorNewLP&lt;/li&gt;
	&lt;li&gt;Moves ProjectStarExpander invocation to LogicalPlanBuilder, so that it happens before relation-as-scalar determination.&lt;/li&gt;
	&lt;li&gt;address review comments in BinCondExpression, LogicalSchema,Util&lt;/li&gt;
	&lt;li&gt;Fixes issues in typechecking/lineage tracing.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;test-patch has been successful. unit tests are still running. &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; +1 overall.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 @author.  The patch does not contain any @author tags.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 tests included.  The patch appears to include 6 new or modified tests.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;</comment>
                            <comment id="13004822" author="xuefuz" created="Wed, 9 Mar 2011 22:03:01 +0000"  >&lt;p&gt;Add SchemaAliasVisitor&lt;br/&gt;
Improve new parser error message and handling.&lt;/p&gt;

&lt;p&gt;Unit test and end2end test passed.&lt;/p&gt;

&lt;p&gt;test-patch run results: (javacc warning are caused by generated code)&lt;/p&gt;

&lt;p&gt;     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; -1 overall.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 @author.  The patch does not contain any @author tags.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 tests included.  The patch appears to include 3 new or modified tests.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     -1 javac.  The applied patch generated 863 javac compiler warnings (more than the trunk&apos;s current 860 warnings).&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;</comment>
                            <comment id="13004868" author="thejas" created="Wed, 9 Mar 2011 23:18:10 +0000"  >&lt;p&gt;Review of NewParser-24.patch -&lt;br/&gt;
in SchemaAliasVisitor.validate() the check could be done in single loop if the alias is stored in a HashSet and its presence is checked. That will reduce the complexity.&lt;br/&gt;
I will make the change in a new patch.&lt;br/&gt;
NewParser-23.patch has unit test failure, I will submit new patch with fix, which will include this change.&lt;/p&gt;</comment>
                            <comment id="13004869" author="thejas" created="Wed, 9 Mar 2011 23:18:26 +0000"  >&lt;p&gt;NewParser-24.patch committed to trunk.&lt;/p&gt;</comment>
                            <comment id="13004936" author="thejas" created="Thu, 10 Mar 2011 01:46:37 +0000"  >&lt;p&gt;NewParser-23.2.patch - NewParser-23.patch with fixes for unit tests (support for project-star with alias).&lt;/p&gt;</comment>
                            <comment id="13004944" author="mridulm@yahoo-inc.com" created="Thu, 10 Mar 2011 02:02:14 +0000"  >&lt;p&gt;Not sure what the scope of this JIRA is, but it will be a good idea to get rid of the pre-processor and integrate that into the parser.&lt;br/&gt;
This will lead to consistent error messages (so no need to muck around with -debug, etc) while allowing for easier integration of pig in embedded mode.&lt;/p&gt;

&lt;p&gt;Regards,&lt;br/&gt;
Mridul&lt;/p&gt;</comment>
                            <comment id="13005436" author="daijy" created="Fri, 11 Mar 2011 00:51:38 +0000"  >&lt;p&gt;Review comments for typechecker, lineage, projectStarExpander:&lt;br/&gt;
Patch looks very good. Only two minor comments:&lt;br/&gt;
1. We need to print out CompilationMessageCollector warnings in PigServer&lt;br/&gt;
2. Seems we does not handle the case &quot;foreach generate *, *&quot;. It is not a major use case, but should be addressed for completeness.&lt;/p&gt;</comment>
                            <comment id="13005703" author="thejas" created="Fri, 11 Mar 2011 16:27:43 +0000"  >&lt;blockquote&gt;&lt;p&gt;1. We need to print out CompilationMessageCollector warnings in PigServer&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I will address this in a new patch.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;2. Seems we does not handle the case &quot;foreach generate *, *&quot;. It is not a major use case, but should be addressed for completeness.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Created &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-1897&quot; title=&quot;multiple star projection in a statement does not produce the right plan&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-1897&quot;&gt;&lt;del&gt;PIG-1897&lt;/del&gt;&lt;/a&gt; to address this.&lt;/p&gt;</comment>
                            <comment id="13005708" author="thejas" created="Fri, 11 Mar 2011 16:30:22 +0000"  >&lt;p&gt;Unit test and test-patch succeeded with NewParser-23.2.patch . Patch committed to trunk.&lt;/p&gt;</comment>
                            <comment id="13005973" author="arov" created="Sat, 12 Mar 2011 02:10:10 +0000"  >&lt;p&gt;As of now when I import pig-trunk into eclipse I get the following error: &lt;br/&gt;
Project &apos;pig-trunk&apos; is missing required library: &apos;lib/antlr-3.2.jar&apos;	pig-trunk		Build path	Build Path Problem&lt;/p&gt;

&lt;p&gt;From what I understand it has to do with PIG project switching over to antlr but no dependency has been define in ivy?&lt;/p&gt;</comment>
                            <comment id="13005987" author="xuefuz" created="Sat, 12 Mar 2011 05:13:38 +0000"  >&lt;p&gt;Yes, Pig now requires antlr jars and the dependency is set on ivy. Make sure that you&apos;re on the latest trunk. If you go to the top-level directory and do &quot;ant jar&quot;, it should get all the required jars thru ivy. Dependency on &quot;lib/antlr-3.2.jar&quot; used to be there, but now these jars are pulled by ivy.&lt;/p&gt;

&lt;p&gt;I&apos;m not sure if this is the best place for this discussion. If the problem remains, you can send an email on pig user list to get help there.&lt;/p&gt;</comment>
                            <comment id="13006058" author="arov" created="Sat, 12 Mar 2011 15:53:43 +0000"  >&lt;p&gt;I am using latest trunk version: &lt;a href=&quot;http://svn.apache.org/repos/asf/pig/trunk&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/pig/trunk&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;After further digging it seems that this issue is there because of .eclipse.templates/.classpath&lt;/p&gt;

&lt;p&gt;This file has an entry to antlr thats pointing to the wrong path: &amp;lt;classpathentry exported=&quot;true&quot; kind=&quot;lib&quot; path=&quot;lib/antlr-3.2.jar&quot;/&amp;gt;&lt;br/&gt;
I believe correct entry should be:       &amp;lt;classpathentry exported=&quot;true&quot; kind=&quot;lib&quot; path=&quot;build/ivy/lib/Pig/antlr-3.2.jar&quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;Another suspect is that antlr dependency in ivy.xml is commented out.&lt;/p&gt;

&lt;p&gt;I will try to verify both of the suspects right now and post a patch if successful. &lt;/p&gt;
</comment>
                            <comment id="13007255" author="xuefuz" created="Tue, 15 Mar 2011 22:55:19 +0000"  >&lt;p&gt;Fix an issue where parallel should be set to 1 when pig is in local mode. Minor fix, so no test case is provided.&lt;/p&gt;</comment>
                            <comment id="13007256" author="xuefuz" created="Tue, 15 Mar 2011 22:56:19 +0000"  >&lt;p&gt;Run test locally, and it passed. (for NewParser-25.patch.&lt;/p&gt;</comment>
                            <comment id="13007261" author="daijy" created="Tue, 15 Mar 2011 23:01:10 +0000"  >&lt;p&gt;+1 for NewParser-25.patch. NewParser-25.patch committed to trunk.&lt;/p&gt;</comment>
                            <comment id="13008243" author="olgan" created="Fri, 18 Mar 2011 00:34:20 +0000"  >&lt;p&gt;Major work on this is done. Lets track bugs that we find in separate tickets&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12474413">PIG-1622</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12394654">PIG-217</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12402957">PIG-394</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12411313">PIG-579</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12427255">PIG-838</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12432072">PIG-900</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12460743">PIG-1339</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12381749">PIG-19</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12401615">PIG-356</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12402337">PIG-377</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12409572">PIG-548</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12411434">PIG-583</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12474417">PIG-1623</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12475664">PIG-1663</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12419360">PIG-731</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12411548">PIG-596</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12412238">PIG-618</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12443336">PIG-1152</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12467658">PIG-1462</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12471591">PIG-1545</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12493526">PIG-1774</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12390511">PIG-144</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12414687">PIG-670</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12414702">PIG-674</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12416852">PIG-719</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12440641">PIG-1092</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12472877">PIG-1581</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12474404">PIG-1619</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12474405">PIG-1620</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12474409">PIG-1621</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12456735">PIG-1244</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12469176">PIG-1499</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12462609">PIG-1387</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12458209" name="NewParser-1.patch" size="37691" author="xuefuz" created="Thu, 28 Oct 2010 01:16:29 +0100"/>
                            <attachment id="12467382" name="NewParser-10.patch" size="51356" author="xuefuz" created="Tue, 4 Jan 2011 00:35:28 +0000"/>
                            <attachment id="12468195" name="NewParser-11.patch" size="62620" author="xuefuz" created="Thu, 13 Jan 2011 00:52:06 +0000"/>
                            <attachment id="12468681" name="NewParser-12.patch" size="12136" author="xuefuz" created="Tue, 18 Jan 2011 21:05:53 +0000"/>
                            <attachment id="12469341" name="NewParser-13.2.patch" size="35896" author="thejas" created="Tue, 25 Jan 2011 22:06:16 +0000"/>
                            <attachment id="12468997" name="NewParser-13.patch" size="35844" author="xuefuz" created="Fri, 21 Jan 2011 18:43:15 +0000"/>
                            <attachment id="12469452" name="NewParser-14.patch" size="16860" author="xuefuz" created="Wed, 26 Jan 2011 18:16:18 +0000"/>
                            <attachment id="12469881" name="NewParser-15.patch" size="44703" author="xuefuz" created="Tue, 1 Feb 2011 01:07:05 +0000"/>
                            <attachment id="12472454" name="NewParser-18.patch" size="907130" author="xuefuz" created="Wed, 2 Mar 2011 19:37:47 +0000"/>
                            <attachment id="12472689" name="NewParser-19.3.patch" size="988357" author="thejas" created="Fri, 4 Mar 2011 17:30:57 +0000"/>
                            <attachment id="12472598" name="NewParser-19.patch" size="901945" author="xuefuz" created="Thu, 3 Mar 2011 20:06:08 +0000"/>
                            <attachment id="12458264" name="NewParser-2.patch" size="38942" author="xuefuz" created="Thu, 28 Oct 2010 18:24:54 +0100"/>
                            <attachment id="12473009" name="NewParser-21.patch" size="32472" author="xuefuz" created="Tue, 8 Mar 2011 17:11:05 +0000"/>
                            <attachment id="12473025" name="NewParser-22.patch" size="29560" author="xuefuz" created="Tue, 8 Mar 2011 18:50:45 +0000"/>
                            <attachment id="12473231" name="NewParser-23.2.patch" size="198281" author="thejas" created="Thu, 10 Mar 2011 01:46:37 +0000"/>
                            <attachment id="12473080" name="NewParser-23.patch" size="189308" author="thejas" created="Wed, 9 Mar 2011 00:39:25 +0000"/>
                            <attachment id="12473207" name="NewParser-24.patch" size="20017" author="xuefuz" created="Wed, 9 Mar 2011 22:03:01 +0000"/>
                            <attachment id="12473746" name="NewParser-25.patch" size="812" author="xuefuz" created="Tue, 15 Mar 2011 22:55:19 +0000"/>
                            <attachment id="12459648" name="NewParser-3.patch" size="16843" author="xuefuz" created="Mon, 15 Nov 2010 22:31:48 +0000"/>
                            <attachment id="12459644" name="NewParser-3.patch" size="15541" author="xuefuz" created="Mon, 15 Nov 2010 22:23:09 +0000"/>
                            <attachment id="12459864" name="NewParser-4.patch" size="17323" author="xuefuz" created="Thu, 18 Nov 2010 01:15:23 +0000"/>
                            <attachment id="12460077" name="NewParser-5.patch" size="21150" author="xuefuz" created="Sat, 20 Nov 2010 00:39:44 +0000"/>
                            <attachment id="12465267" name="NewParser-6.patch" size="35631" author="xuefuz" created="Fri, 3 Dec 2010 19:37:22 +0000"/>
                            <attachment id="12465396" name="NewParser-7.patch" size="34570" author="xuefuz" created="Mon, 6 Dec 2010 17:25:17 +0000"/>
                            <attachment id="12466150" name="NewParser-8.patches" size="42906" author="xuefuz" created="Mon, 13 Dec 2010 17:27:56 +0000"/>
                            <attachment id="12466422" name="NewParser-9.patch" size="36104" author="xuefuz" created="Thu, 16 Dec 2010 23:16:57 +0000"/>
                            <attachment id="12458210" name="antlr-3.2.jar" size="1928009" author="xuefuz" created="Thu, 28 Oct 2010 01:16:29 +0100"/>
                            <attachment id="12459060" name="javadoc.patch" size="2373" author="thejas" created="Mon, 8 Nov 2010 16:05:03 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12493122">PIG-1765</subtask>
                            <subtask id="12495150">PIG-1795</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>28.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 28 Oct 2010 00:16:29 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>66150</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyasdr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>96909</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>