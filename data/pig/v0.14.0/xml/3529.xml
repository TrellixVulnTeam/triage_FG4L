<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:49:46 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-3529/PIG-3529.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-3529] Upgrade HBase dependency from 0.95-SNAPSHOT to 0.96</title>
                <link>https://issues.apache.org/jira/browse/PIG-3529</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;HBase has recently released version 0.96, so we should upgrade from the 0.95.3-SNAPSHOT that has been introduced via &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3390&quot; title=&quot;Make pig working with HBase 0.95&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3390&quot;&gt;&lt;del&gt;PIG-3390&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12674849">PIG-3529</key>
            <summary>Upgrade HBase dependency from 0.95-SNAPSHOT to 0.96</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jarcec">Jarek Jarcec Cecho</assignee>
                                    <reporter username="jarcec">Jarek Jarcec Cecho</reporter>
                        <labels>
                    </labels>
                <created>Mon, 21 Oct 2013 18:37:04 +0100</created>
                <updated>Tue, 15 Apr 2014 21:45:01 +0100</updated>
                            <resolved>Wed, 23 Oct 2013 22:03:15 +0100</resolved>
                                    <version>0.12.0</version>
                                    <fixVersion>0.12.1</fixVersion>
                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13802066" author="jarcec" created="Tue, 22 Oct 2013 18:57:01 +0100"  >&lt;p&gt;Just upgrading the version is not working for me, I&apos;ll investigate the failures that I&apos;m seeing.&lt;/p&gt;</comment>
                            <comment id="13802221" author="jarcec" created="Tue, 22 Oct 2013 21:24:44 +0100"  >&lt;p&gt;The issue was in following exception: &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Caused by: java.lang.NullPointerException
	at org.apache.hadoop.hbase.replication.regionserver.Replication.decorateMasterConfiguration(Replication.java:295)
	at org.apache.hadoop.hbase.master.HMaster.&amp;lt;init&amp;gt;(HMaster.java:461)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The problem is that property HBASE_MASTER_LOGCLEANER_PLUGINS that is being access in Replication.java:295 is not defined when it&apos;s expected to be. I&apos;ve investigated the issue and found out that &lt;tt&gt;hbase-default.xml&lt;/tt&gt; won&apos;t get it into the configuration. So, I&apos;ve added call for &lt;tt&gt;HBaseConfiguration.create&lt;/tt&gt; to propagate all HBase resources to the used configuration object. This wasn&apos;t an issue with 0.94 and 0.95 because the code in question will be executed only if replication is enabled which is not the case on those versions. The replication got enabled by default in 0.96 via &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9505&quot; title=&quot;Enable replication by default&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9505&quot;&gt;&lt;del&gt;HBASE-9505&lt;/del&gt;&lt;/a&gt;. I don&apos;t think that NPE is correct way how to handle this, so I&apos;ll follow up on HBase suggesting to be more careful in the code.&lt;/p&gt;

&lt;p&gt;Verification steps for HBase 0.95 profile:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
ant clean test -Dtestcase=TestHBaseStorage -Dhbaseversion=95 -Dprotobuf-java.version=2.5.0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Verification steps for HBase 0.94 profile:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
ant clean test -Dtestcase=TestHBaseStorage
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I&apos;ll file a follow up JIRA to tweak the ant build for fetching proper dependencies in order to get the HBase tests working on Hadoop 2 (e.g. that is not included in this patch).&lt;/p&gt;</comment>
                            <comment id="13803303" author="daijy" created="Wed, 23 Oct 2013 21:47:55 +0100"  >&lt;p&gt;Hi, Jarek,&lt;br/&gt;
According to &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3390&quot; title=&quot;Make pig working with HBase 0.95&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3390&quot;&gt;&lt;del&gt;PIG-3390&lt;/del&gt;&lt;/a&gt;, we also want to include hbase-hadoop2-compat once 0.96.0 released. Do you also want to address that?&lt;/p&gt;</comment>
                            <comment id="13803313" author="jarcec" created="Wed, 23 Oct 2013 21:55:59 +0100"  >&lt;p&gt;Thank you for taking a look on this patch &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=daijy&quot; class=&quot;user-hover&quot; rel=&quot;daijy&quot;&gt;Daniel Dai&lt;/a&gt;! I&apos;ve opened follow up JIRA &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3537&quot; title=&quot;Tweak build to support HBase with Hadoop 23 profile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3537&quot;&gt;&lt;del&gt;PIG-3537&lt;/del&gt;&lt;/a&gt; for exactly this &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13803326" author="daijy" created="Wed, 23 Oct 2013 22:03:15 +0100"  >&lt;p&gt;Oh, that&apos;s great! Let&apos;s commit this patch first.&lt;/p&gt;</comment>
                            <comment id="13803369" author="jarcec" created="Wed, 23 Oct 2013 22:35:25 +0100"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=daijy&quot; class=&quot;user-hover&quot; rel=&quot;daijy&quot;&gt;Daniel Dai&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="13900965" author="daijy" created="Fri, 14 Feb 2014 00:36:05 +0000"  >&lt;p&gt;We are still using 0.95-SNAPSHOT in pig 0.12.0 release. I am goint to commit this patch to 0.12 branch so 0.12.1 we can use a released hbase.&lt;/p&gt;</comment>
                            <comment id="13905832" author="daijy" created="Wed, 19 Feb 2014 18:41:06 +0000"  >&lt;p&gt;Patch committed to 0.12 branch.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12675124">PIG-3537</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12675120">HBASE-9820</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12609718" name="PIG-3529.patch" size="1465" author="jarcec" created="Tue, 22 Oct 2013 21:24:44 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 23 Oct 2013 20:47:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>354471</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hziyen:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>354761</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>