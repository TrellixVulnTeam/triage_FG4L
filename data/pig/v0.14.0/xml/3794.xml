<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:54:05 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-3794/PIG-3794.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-3794] pig -useHCatalog fails using pig command line interface on HDInsight</title>
                <link>https://issues.apache.org/jira/browse/PIG-3794</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;When you connect to an HDP 1.3 version HDINSIGHT cluster with remote desktop, if you try this:&lt;/p&gt;

&lt;p&gt;c:\apps\dist\pig-0.11.0.1.3.2.0-05&amp;gt;bin\pig -useHCatalog&lt;/p&gt;

&lt;p&gt;you get this:&lt;/p&gt;

&lt;p&gt;&quot;HCAT_HOME should be defined&quot;&lt;/p&gt;

&lt;p&gt;but you should not get an error.&lt;/p&gt;

&lt;p&gt;It appears that pig.cmd should use &quot;HCATALOG_HOME&quot; instead of &quot;HCAT_HOME&quot;.&lt;/p&gt;

&lt;p&gt;The same problem exists on the 1.3 one-box installation for Windows. A quick look at the source code indicates it is still a problem on trunk.&lt;/p&gt;

&lt;p&gt;In addition, if you set hive.metastore.uris to &apos;&apos;, this is supposed to create an embedded metastore instead of going to the metastore service. This fails on Azure HDINSIGHT and Windows because of missing datanucleus and sqljdbc4 jars. &lt;/p&gt;

&lt;p&gt;Finally, if you submit a pig job from WebHCat, due to argument quoting for windows, -useHCatalog comes in as &quot;-useHCatalog&quot; into pig.cmd. This causes -useHCatalog to never work on Windows from WebHCat.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows Azure HDINSIGHT&lt;br/&gt;
c:\apps\dist\pig-0.11.0.1.3.2.0-05&lt;/p&gt;</environment>
        <key id="12698551">PIG-3794</key>
            <summary>pig -useHCatalog fails using pig command line interface on HDInsight</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ehans">Eric Hanson</assignee>
                                    <reporter username="ehans">Eric Hanson</reporter>
                        <labels>
                    </labels>
                <created>Tue, 4 Mar 2014 01:51:35 +0000</created>
                <updated>Tue, 15 Apr 2014 21:45:01 +0100</updated>
                            <resolved>Tue, 25 Mar 2014 00:24:14 +0000</resolved>
                                    <version>0.11</version>
                    <version>0.12.0</version>
                    <version>0.13.0</version>
                                    <fixVersion>0.12.1</fixVersion>
                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13918949" author="ehans" created="Tue, 4 Mar 2014 02:20:07 +0000"  >&lt;p&gt;Fix for both issues (Monarch &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-125&quot; title=&quot;improve exception handling and expressivness around tuple field access&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-125&quot;&gt;&lt;del&gt;PIG-125&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-126&quot; title=&quot;custom storage ( LOAD with USING) doesn&amp;#39;t work with inner classes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-126&quot;&gt;&lt;del&gt;PIG-126&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="13919814" author="ehans" created="Tue, 4 Mar 2014 19:27:07 +0000"  >&lt;p&gt;Code review available at: &lt;a href=&quot;https://reviews.apache.org/r/18744/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/18744/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13921464" author="ehans" created="Wed, 5 Mar 2014 21:44:08 +0000"  >&lt;p&gt;Updating to included necessary jars for embedded metastore case, plus check for quoted -useHCatalog argument that can come from WebHCat.&lt;/p&gt;</comment>
                            <comment id="13921480" author="ehans" created="Wed, 5 Mar 2014 21:55:01 +0000"  >&lt;p&gt;fix typo in comment&lt;/p&gt;</comment>
                            <comment id="13925312" author="daijy" created="Sun, 9 Mar 2014 20:24:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ehans&quot; class=&quot;user-hover&quot; rel=&quot;ehans&quot;&gt;Eric Hanson&lt;/a&gt;, do you know why in Windows pig.cmd should use HCATALOG_HOME instead? It should follow the same convention as Unix for better maintenance. &lt;/p&gt;</comment>
                            <comment id="13926147" author="ehans" created="Mon, 10 Mar 2014 20:18:49 +0000"  >&lt;p&gt;I just know that HCAT_HOME is not defined on HDINSIGHT or our windows one-box setup. &lt;/p&gt;</comment>
                            <comment id="13930051" author="daijy" created="Tue, 11 Mar 2014 07:28:42 +0000"  >&lt;p&gt;Sounds like HDINSIGHT should define HCAT_HOME. I see it defined in other Azure installation, not sure how it is different than the one-box setup.&lt;/p&gt;</comment>
                            <comment id="13931160" author="ehans" created="Tue, 11 Mar 2014 23:36:56 +0000"  >&lt;p&gt;What version of Azure HDINSIGHT installation were you looking at when you saw HCAT_HOME defined?&lt;/p&gt;</comment>
                            <comment id="13931200" author="ehans" created="Wed, 12 Mar 2014 00:30:06 +0000"  >&lt;p&gt;Updated patch to use HCAT_HOME but conditionally set it from HCATALOG_HOME. This will allow us to phase out use of HCATALOG_HOME and use HCAT_HOME. Chasing down all uses of HCATALOG_HOME is beyond the scope of this patch.&lt;/p&gt;</comment>
                            <comment id="13945726" author="ehans" created="Mon, 24 Mar 2014 21:32:47 +0000"  >&lt;p&gt;Added comment to say use of HCATALOG_HOME is deprecated.&lt;/p&gt;</comment>
                            <comment id="13945909" author="daijy" created="Tue, 25 Mar 2014 00:24:14 +0000"  >&lt;p&gt;+1. Patch committed to trunk. We can remove HCATALOG_HOME later. Thanks Eric!&lt;/p&gt;</comment>
                            <comment id="13945913" author="daijy" created="Tue, 25 Mar 2014 00:28:22 +0000"  >&lt;p&gt;Also commit to 0.12 branch.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12632425" name="PIG-3794.01.patch" size="873" author="ehans" created="Tue, 4 Mar 2014 02:20:07 +0000"/>
                            <attachment id="12632920" name="PIG-3794.02.patch" size="1705" author="ehans" created="Wed, 5 Mar 2014 21:44:08 +0000"/>
                            <attachment id="12632922" name="PIG-3794.03.patch" size="1701" author="ehans" created="Wed, 5 Mar 2014 21:55:01 +0000"/>
                            <attachment id="12634063" name="PIG-3794.04.patch" size="1694" author="ehans" created="Wed, 12 Mar 2014 00:30:06 +0000"/>
                            <attachment id="12636437" name="PIG-3794.05.patch" size="1833" author="ehans" created="Mon, 24 Mar 2014 21:32:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 9 Mar 2014 20:24:48 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>376909</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzmsun:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>377204</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>