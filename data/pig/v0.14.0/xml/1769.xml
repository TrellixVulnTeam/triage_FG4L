<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:50:14 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-1769/PIG-1769.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-1769] Consistency for HBaseStorage</title>
                <link>https://issues.apache.org/jira/browse/PIG-1769</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;In our load statement we are allowed to prefix the table name with &quot;hbase://&quot; but when we call&lt;br/&gt;
store it throws an exception unless we remove hbase:// from the table&lt;br/&gt;
name:&lt;/p&gt;

&lt;p&gt;this works:&lt;br/&gt;
store raw into &apos;piggytest2&apos; USING&lt;br/&gt;
org.apache.pig.backend.hadoop.hbase.HBaseStorage(&apos;content2:field1&lt;br/&gt;
anchor2:field1a anchor2:field2a&apos;);&lt;/p&gt;

&lt;p&gt;this won&apos;t&lt;br/&gt;
store raw into &apos;hbase://piggytest2&apos;&lt;/p&gt;

&lt;p&gt;Exception:&lt;br/&gt;
Caused by: java.lang.IllegalArgumentException:&lt;br/&gt;
java.net.URISyntaxException: Relative path in absolute URI:&lt;br/&gt;
hbase://piggytest2_logs&lt;/p&gt;

&lt;p&gt;Would be nice to be able to prefix the store with hbase:// so it&apos;s consistent with the load syntax&lt;/p&gt;</description>
                <environment></environment>
        <key id="12493348">PIG-1769</key>
            <summary>Consistency for HBaseStorage</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dvryaboy">Dmitriy V. Ryaboy</assignee>
                                    <reporter username="choenes">Corbin Hoenes</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Dec 2010 17:36:29 +0000</created>
                <updated>Tue, 25 Jan 2011 05:50:25 +0000</updated>
                            <resolved>Tue, 25 Jan 2011 05:50:01 +0000</resolved>
                                    <version>0.8.0</version>
                                    <fixVersion>0.9.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12979245" author="dvryaboy" created="Sun, 9 Jan 2011 01:12:48 +0000"  >&lt;p&gt;Hm. setStoreLocation does the right thing but I probably need to do something in relativeToAbsolutePathForStoreLocation.&lt;/p&gt;

&lt;p&gt;Complete stack trace:&lt;/p&gt;

&lt;p&gt; ================================================================================&lt;br/&gt;
Pig Stack Trace&lt;br/&gt;
---------------&lt;br/&gt;
ERROR 2017: Internal error creating job configuration.&lt;/p&gt;

&lt;p&gt;org.apache.pig.impl.logicalLayer.FrontendException: ERROR 1002: Unable to store alias 1&lt;br/&gt;
	at org.apache.pig.PigServer$Graph.registerQuery(PigServer.java:1569)&lt;br/&gt;
	at org.apache.pig.PigServer.registerQuery(PigServer.java:523)&lt;br/&gt;
	at org.apache.pig.tools.grunt.GruntParser.processPig(GruntParser.java:868)&lt;br/&gt;
	at org.apache.pig.tools.pigscript.parser.PigScriptParser.parse(PigScriptParser.java:388)&lt;br/&gt;
	at org.apache.pig.tools.grunt.GruntParser.parseStopOnError(GruntParser.java:165)&lt;br/&gt;
	at org.apache.pig.tools.grunt.GruntParser.parseStopOnError(GruntParser.java:141)&lt;br/&gt;
	at org.apache.pig.tools.grunt.Grunt.run(Grunt.java:76)&lt;br/&gt;
	at org.apache.pig.Main.run(Main.java:465)&lt;br/&gt;
	at org.apache.pig.Main.main(Main.java:107)&lt;br/&gt;
Caused by: org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobCreationException: ERROR 2017: Internal error creating job configuration.&lt;br/&gt;
	at org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.getJob(JobControlCompiler.java:667)&lt;br/&gt;
	at org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.compile(JobControlCompiler.java:256)&lt;br/&gt;
	at org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.MapReduceLauncher.launchPig(MapReduceLauncher.java:147)&lt;br/&gt;
	at org.apache.pig.backend.hadoop.executionengine.HExecutionEngine.execute(HExecutionEngine.java:378)&lt;br/&gt;
	at org.apache.pig.PigServer.executeCompiledLogicalPlan(PigServer.java:1198)&lt;br/&gt;
	at org.apache.pig.PigServer.execute(PigServer.java:1190)&lt;br/&gt;
	at org.apache.pig.PigServer.access$100(PigServer.java:128)&lt;br/&gt;
	at org.apache.pig.PigServer$Graph.execute(PigServer.java:1517)&lt;br/&gt;
	at org.apache.pig.PigServer$Graph.registerQuery(PigServer.java:1564)&lt;br/&gt;
	... 8 more&lt;br/&gt;
Caused by: java.lang.IllegalArgumentException: java.net.URISyntaxException: Relative path in absolute URI: hbase://foo_logs&lt;br/&gt;
	at org.apache.hadoop.fs.Path.initialize(Path.java:140)&lt;br/&gt;
	at org.apache.hadoop.fs.Path.&amp;lt;init&amp;gt;(Path.java:71)&lt;br/&gt;
	at org.apache.hadoop.fs.Path.&amp;lt;init&amp;gt;(Path.java:45)&lt;br/&gt;
	at org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.JobControlCompiler.getJob(JobControlCompiler.java:470)&lt;br/&gt;
	... 16 more&lt;br/&gt;
Caused by: java.net.URISyntaxException: Relative path in absolute URI: hbase://foo_logs&lt;br/&gt;
	at java.net.URI.checkPath(URI.java:1787)&lt;br/&gt;
	at java.net.URI.&amp;lt;init&amp;gt;(URI.java:735)&lt;br/&gt;
	at org.apache.hadoop.fs.Path.initialize(Path.java:137)&lt;br/&gt;
	... 19 more&lt;/p&gt;</comment>
                            <comment id="12979269" author="dvryaboy" created="Sun, 9 Jan 2011 08:02:33 +0000"  >&lt;p&gt;The attached patch fixes the issue &amp;#8211; the problem was that we try to set the location of the _logs directory for Stores regardless of whether we are writing into HDFS or not. Instead I check for path starting with hdfs:// or not containing &quot;://&quot; at all, and if it does, set the _logs directory to a temp location.&lt;/p&gt;

&lt;p&gt;It&apos;s a bit hacky... if someone else has a better idea, please jump in.&lt;/p&gt;</comment>
                            <comment id="12979270" author="dvryaboy" created="Sun, 9 Jan 2011 08:03:09 +0000"  >&lt;p&gt;Submitting as a fix fo 0.9 although this can easily be applied to 0.8 as well.&lt;/p&gt;</comment>
                            <comment id="12985879" author="alangates" created="Mon, 24 Jan 2011 18:30:08 +0000"  >&lt;p&gt;+1, changes look good.  I&apos;ll run the test-patch and unit tests on it.&lt;/p&gt;</comment>
                            <comment id="12986071" author="alangates" created="Mon, 24 Jan 2011 22:44:13 +0000"  >&lt;p&gt;     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; +1 overall.  &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 @author.  The patch does not contain any @author tags.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 tests included.  The patch appears to include 3 new or modified tests.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;/p&gt;</comment>
                            <comment id="12986236" author="dvryaboy" created="Tue, 25 Jan 2011 05:50:25 +0000"  >&lt;p&gt;committed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12467824" name="PIG_1769.patch" size="3983" author="dvryaboy" created="Sun, 9 Jan 2011 08:02:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 9 Jan 2011 01:12:48 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37466</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxzd0n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30092</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>