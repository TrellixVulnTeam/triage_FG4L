<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:53:32 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-438/PIG-438.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-438] Handle realiasing of existing Alias (A=B;) </title>
                <link>https://issues.apache.org/jira/browse/PIG-438</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;We do not handle re-aliasing of an existing alias - this should be handled correctly.&lt;/p&gt;

&lt;p&gt;The following script should work:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;

a = load &apos;studenttab10k&apos;;
b = filter a by $1 &amp;gt; &apos;25&apos;;
c = b;

-- use b
d = cogroup b by $0, a by $0;
e = foreach d generate flatten(b), flatten(a);
dump e

-- use c
f = cogroup c by $0, a by $0;
g = foreach f generate flatten(c), flatten(a);
dump g;

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12404685">PIG-438</key>
            <summary>Handle realiasing of existing Alias (A=B;) </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jcoveney">Jonathan Coveney</assignee>
                                    <reporter username="pkamath">Pradeep Kamath</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Sep 2008 22:49:43 +0100</created>
                <updated>Thu, 26 Apr 2012 21:32:38 +0100</updated>
                            <resolved>Fri, 16 Mar 2012 23:46:44 +0000</resolved>
                                    <version>0.2.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                    <fixVersion>0.11</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13205655" author="jcoveney" created="Fri, 10 Feb 2012 19:14:24 +0000"  >&lt;p&gt;I actually have a patch that does this pretty trivially. It just takes B = A; and converts it to B = FOREACH A GENERATE *; The only issue is that this affects some error messages and whatnot, and I wasn&apos;t able to fix that. Attaching.&lt;/p&gt;</comment>
                            <comment id="13205656" author="jcoveney" created="Fri, 10 Feb 2012 19:15:04 +0000"  >&lt;p&gt;It works to realias, but some tests fail and I&apos;m not sure how to best fix them.&lt;/p&gt;</comment>
                            <comment id="13205729" author="russell.jurney" created="Fri, 10 Feb 2012 20:34:54 +0000"  >&lt;p&gt;This is pretty cool.  This would address some of my issues outlined in &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2511&quot; title=&quot;Enable &amp;#39;*&amp;#39; to skip any fields that have already been generated and cast in other parts of the GENERATE, as in: foo = FOREACH my_relation GENERATE manipulate(foo1) as foo1, *;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2511&quot;&gt;PIG-2511&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="13205812" author="jcoveney" created="Fri, 10 Feb 2012 22:28:44 +0000"  >&lt;p&gt;For clarification, the tests that fail have nothing to do with correctness, but rather that some error messages get changed by the changes in the parser.&lt;/p&gt;</comment>
                            <comment id="13208174" author="jcoveney" created="Wed, 15 Feb 2012 01:08:31 +0000"  >&lt;p&gt;The only test that fails is:&lt;/p&gt;

&lt;p&gt;testMissingSemicolon in TestLogicalPlanBuilder&lt;/p&gt;

&lt;p&gt;The issue is that now that new_relation = old_relation; is valid, if you leave off the semicolon, it sees the error there, instead of elsewhere. Is it ok to change this accordingly, or should I try and finagle it so that the error will be the same? (no clue how I&apos;d do that)&lt;/p&gt;

&lt;p&gt;I can add some tests as well, but that&apos;s the blocker for me.&lt;/p&gt;</comment>
                            <comment id="13213001" author="dvryaboy" created="Tue, 21 Feb 2012 21:56:22 +0000"  >&lt;p&gt;Jonathan, what&apos;s the error that is now being thrown in testMissingSemicolon? If it&apos;s a sensible message , we can change the test to that. If it&apos;s something that totally obscures the actual missing semicolon error, we should consider how to make errors for this kind of case more meaningful.&lt;/p&gt;</comment>
                            <comment id="13213014" author="jcoveney" created="Tue, 21 Feb 2012 22:14:05 +0000"  >&lt;p&gt;Ah, I thought I had included that.&lt;/p&gt;

&lt;p&gt;The old:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
mismatched input &apos;B&apos; expecting SEMI_COLON
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The new:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
ERROR org.apache.pig.tools.grunt.Grunt - ERROR 1200: &amp;lt;line 1, column 4&amp;gt;  Syntax error, unexpected symbol at or near &apos;load&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13228578" author="daijy" created="Tue, 13 Mar 2012 18:45:37 +0000"  >&lt;p&gt;Attach a different fix.&lt;/p&gt;</comment>
                            <comment id="13228601" author="jcoveney" created="Tue, 13 Mar 2012 19:05:19 +0000"  >&lt;p&gt;Daniel: in general, is it a better practice to add operators instead of expressing them in terms of other operators?&lt;/p&gt;</comment>
                            <comment id="13228612" author="daijy" created="Tue, 13 Mar 2012 19:13:20 +0000"  >&lt;p&gt;Not in general, but in this case, adding a foreach seems to be unnecessary, we only need to update the alias map.&lt;/p&gt;</comment>
                            <comment id="13230611" author="thejas" created="Thu, 15 Mar 2012 22:03:46 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13231739" author="daijy" created="Fri, 16 Mar 2012 23:46:44 +0000"  >&lt;p&gt;test-patch:&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; -1 overall.  &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 @author.  The patch does not contain any @author tags.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 tests included.  The patch appears to include 9 new or modified tests.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     -1 javadoc.  The javadoc tool appears to have generated 1 warning messages.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;javadoc warning is not related.&lt;/p&gt;

&lt;p&gt;Patch committed to 0.10/trunk.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12518213" name="PIG-438-2.patch" size="6970" author="daijy" created="Tue, 13 Mar 2012 18:45:37 +0000"/>
                            <attachment id="12514143" name="PIG-438.patch" size="860" author="jcoveney" created="Fri, 10 Feb 2012 19:15:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 10 Feb 2012 19:14:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>46119</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyaesf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>94707</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>