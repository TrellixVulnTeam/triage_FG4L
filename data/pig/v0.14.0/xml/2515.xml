<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:51:00 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-2515/PIG-2515.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-2515] Make CustomFormatToISO return null on Exception in parsing dates</title>
                <link>https://issues.apache.org/jira/browse/PIG-2515</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;Dates are often ugly and malformed, and it is highly inconvenient for CustomFormatToISO to kill an entire run because a single date does not format.  As other string utilities in piggybank return null on error, so should CustomFormatToISO.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12541554">PIG-2515</key>
            <summary>Make CustomFormatToISO return null on Exception in parsing dates</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="russell.jurney">Russell Jurney</assignee>
                                    <reporter username="russell.jurney">Russell Jurney</reporter>
                        <labels>
                            <label>date</label>
                            <label>datetime</label>
                            <label>datetimes</label>
                            <label>fun</label>
                            <label>happy</label>
                            <label>pants</label>
                            <label>pig</label>
                            <label>piggybank</label>
                    </labels>
                <created>Tue, 7 Feb 2012 03:00:40 +0000</created>
                <updated>Fri, 22 Jun 2012 04:36:24 +0100</updated>
                            <resolved>Sat, 17 Mar 2012 00:09:27 +0000</resolved>
                                    <version>0.9.1</version>
                    <version>0.9.2</version>
                    <version>0.10.0</version>
                    <version>0.11</version>
                                    <fixVersion>0.10.0</fixVersion>
                    <fixVersion>0.11</fixVersion>
                                    <component>piggybank</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13202034" author="russell.jurney" created="Tue, 7 Feb 2012 03:01:54 +0000"  >&lt;p&gt;Patch to make CustomFormatToISO catch exceptions on parsing dates and return null instead of dying.&lt;/p&gt;</comment>
                            <comment id="13206547" author="dvryaboy" created="Sun, 12 Feb 2012 22:51:27 +0000"  >&lt;p&gt;Attaching a version of the patch with a test.&lt;br/&gt;
Russ, please start writing tests &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;

&lt;p&gt;All piggybank tests pass.&lt;/p&gt;

&lt;p&gt;Committing to 10 and trunk.&lt;/p&gt;</comment>
                            <comment id="13206625" author="russell.jurney" created="Mon, 13 Feb 2012 02:22:50 +0000"  >&lt;p&gt;Will do re: tests.  Does this patch complain/warn about the problem records?&lt;/p&gt;</comment>
                            <comment id="13206638" author="prkommireddi" created="Mon, 13 Feb 2012 02:47:00 +0000"  >&lt;p&gt;Does not look like there is a warning Russell, it would be good to include that so the Counters pick it up automatically.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
        DateTime result;
        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
            result = parser.parseDateTime(date);
        } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt;(Exception e) {
            &lt;span class=&quot;code-comment&quot;&gt;//warn(message, PigWarning)
&lt;/span&gt;            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="13217772" author="russell.jurney" created="Tue, 28 Feb 2012 00:58:58 +0000"  >&lt;p&gt;What is the API to use to throw warnings?&lt;/p&gt;</comment>
                            <comment id="13217775" author="prkommireddi" created="Tue, 28 Feb 2012 01:05:45 +0000"  >&lt;p&gt;&lt;a href=&quot;http://pig.apache.org/docs/r0.9.1/api/org/apache/pig/EvalFunc.html#warn%28java.lang.String,%20java.lang.Enum%29&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://pig.apache.org/docs/r0.9.1/api/org/apache/pig/EvalFunc.html#warn%28java.lang.String,%20java.lang.Enum%29&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13217798" author="russell.jurney" created="Tue, 28 Feb 2012 01:26:41 +0000"  >&lt;p&gt;Adding log warnings for returning null on an erroneous parse fail execution exception submodule problem definition.&lt;/p&gt;</comment>
                            <comment id="13217804" author="russell.jurney" created="Tue, 28 Feb 2012 01:32:25 +0000"  >&lt;p&gt;This patches CustomFormatToISO to log warning before returning null on a parse error exception.&lt;/p&gt;

&lt;p&gt;This patch does not include the test Dmitriy wrote.  I am not good at git and patch.  I wish I could just submit a pull request.  Down with svn, up with github.&lt;/p&gt;</comment>
                            <comment id="13217805" author="russell.jurney" created="Tue, 28 Feb 2012 01:33:45 +0000"  >&lt;p&gt;This patch adds log errors before returning null on a parse exception.&lt;/p&gt;

&lt;p&gt;This patch does not include the test that is in .2.patch.  I don&apos;t know how to combine patches and I already committed that one locally.  Poop.&lt;/p&gt;</comment>
                            <comment id="13217923" author="prkommireddi" created="Tue, 28 Feb 2012 05:46:49 +0000"  >&lt;p&gt;Thanks Russell, just looked at the new patch. It does not use warn(String msg, Enum warningEnum) from EvalFunc. Rather commons logging is being used. &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
            result = parser.parseDateTime(date);
        } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt;(Exception e) {
            warn(&lt;span class=&quot;code-quote&quot;&gt;&quot;Could not parse date: &quot;&lt;/span&gt; + date + &lt;span class=&quot;code-quote&quot;&gt;&quot; with format: &quot;&lt;/span&gt; + format, PigWarning.UDF_WARNING_1);  &lt;span class=&quot;code-comment&quot;&gt;//Use appropriate warning &lt;span class=&quot;code-keyword&quot;&gt;enum&lt;/span&gt;
&lt;/span&gt;            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Using commons logging could very easily fill up disk space on each of the data nodes (rendering the cluster inoperable until disk space is cleared) if there were a large number of parse exceptions.&lt;/p&gt;</comment>
                            <comment id="13218689" author="russell.jurney" created="Tue, 28 Feb 2012 23:22:43 +0000"  >&lt;p&gt;I can&apos;t find docs on the actual meaning of PigWarning.UDF_WARNING_1 or the others, so I am using that one.&lt;/p&gt;</comment>
                            <comment id="13218712" author="russell.jurney" created="Tue, 28 Feb 2012 23:47:00 +0000"  >&lt;p&gt;Changed from log to warn, again missing tests that are included in previous commit.&lt;/p&gt;</comment>
                            <comment id="13218713" author="russell.jurney" created="Tue, 28 Feb 2012 23:47:30 +0000"  >&lt;p&gt;The previous patch IS intended for inclusion.&lt;/p&gt;</comment>
                            <comment id="13218728" author="russell.jurney" created="Wed, 29 Feb 2012 00:01:28 +0000"  >&lt;p&gt;The previous patch fails to build. Oh man I suck at JIRA.&lt;/p&gt;</comment>
                            <comment id="13218734" author="prkommireddi" created="Wed, 29 Feb 2012 00:08:17 +0000"  >&lt;p&gt;Minor - don&apos;t need this anymore. &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Log log = LogFactory.getLog(CustomFormatToISO.class);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="13218744" author="russell.jurney" created="Wed, 29 Feb 2012 00:17:37 +0000"  >&lt;p&gt;This patch works.  It does warnings, but I can&apos;t see them.  It still doesn&apos;t include Dmitriy&apos;s unit tests, but the other patch from him does.&lt;/p&gt;</comment>
                            <comment id="13218747" author="russell.jurney" created="Wed, 29 Feb 2012 00:19:23 +0000"  >&lt;p&gt;Ok, patch 4 has the code for main/, and part of patch 2 contains the unit tests.&lt;/p&gt;</comment>
                            <comment id="13229775" author="daijy" created="Thu, 15 Mar 2012 00:00:32 +0000"  >&lt;p&gt;Patch does not apply. Is some part of the patch already committed?&lt;/p&gt;</comment>
                            <comment id="13231746" author="daijy" created="Sat, 17 Mar 2012 00:09:27 +0000"  >&lt;p&gt;Patch is already committed to 0.10/trunk.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12516466" name="PIG-2505.3.patch" size="2380" author="russell.jurney" created="Tue, 28 Feb 2012 23:46:58 +0000"/>
                            <attachment id="12516473" name="PIG-2505.4.patch" size="2653" author="russell.jurney" created="Wed, 29 Feb 2012 00:17:37 +0000"/>
                            <attachment id="12514290" name="PIG-2515.2.patch" size="3366" author="dvryaboy" created="Sun, 12 Feb 2012 22:51:27 +0000"/>
                            <attachment id="12516253" name="PIG-2515.logs.patch" size="2358" author="russell.jurney" created="Tue, 28 Feb 2012 01:32:24 +0000"/>
                            <attachment id="12513562" name="PIG-2515.patch" size="998" author="russell.jurney" created="Tue, 7 Feb 2012 03:01:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 12 Feb 2012 22:51:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>226841</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyaxl3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>97752</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>