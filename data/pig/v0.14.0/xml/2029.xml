<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:01:38 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-2029/PIG-2029.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-2029] Inconsistency in Pig Stats reports </title>
                <link>https://issues.apache.org/jira/browse/PIG-2029</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;I have a Pig script which reports varying Stats for the same M/R job (same inputs). Sometimes the PigStats reports all the stats (such as Maps,Reduces,MaxMapTime,MinMapTime,AvgMapTime,MaxReduceTime, MinReduceTime and AvgReduceTime) for the M/R job as 0. Sometimes it reports it correctly.&lt;/p&gt;

&lt;p&gt;Enclosed are the stderr logs for 2 runs, you can notice that for Run 1 job_201103091134_556600 from Run 1; has 0 against all the columns whereas in Run 2, Hadoop job job_201104272229_75693 has some valid values. &lt;/p&gt;

&lt;p&gt;The actual Job Tracker link shows that they are non empty. This points to a bug in the interaction of the PigStats module with the Jobtracker.&lt;/p&gt;

&lt;p&gt;Run 1:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Job Stats (time in seconds):&lt;br/&gt;
JobId	Maps	Reduces	MaxMapTime	MinMapTIme	AvgMapTime	MaxReduceTime	MinReduceTime	AvgReduceTime	Alias	Feature	Outputs&lt;br/&gt;
job_201103091134_556458	160	100	552	191	368	1257	371	392	IN,SP10P,SP11P,SP12P,SP13P,SP16P,SP17P,SP18P,SP20P,SP21P,SP22P,SP23P,SP24P,SP26P,SP27P,SP28P,SP29P,SP30P,SP31P,SP32P,SP33P,SP34P,SP4P,SP6P,SP7P,SP8P,SP9P	DISTINCT,MULTI_QUERY	&lt;br/&gt;
job_201103091134_556600	0	0	0	0	0	0	0	0	UNION5	    MULTI_QUERY,MAP_ONLY	/user/viraj/dir,,&lt;br/&gt;
job_201103091134_556601	7	100	17	8	14	200	15	27	CNJOIN25,GNJOIN25,sampleNJOIN25	GROUP_BY,COMBINER	&lt;br/&gt;
job_201103091134_556602	0	0	0	0	0	0	0	0	CNJOIN3,GNJOIN3,sampleNJOIN3	GROUP_BY,COMBINER	&lt;br/&gt;
job_201103091134_556603	0	0	0	0	0	0	0	0	CNJOIN15,GNJOIN15,sampleNJOIN15	GROUP_BY,COMBINER	&lt;br/&gt;
job_201103091134_556604	2	100	13	7	10	34	13	31	CNJOIN19,GNJOIN19,sampleNJOIN19	GROUP_BY,COMBINER	&lt;br/&gt;
job_201103091134_556644	0	0	0	0	0	0	0	0	ONJOIN15	SAMPLER	&lt;br/&gt;
job_201103091134_556645	0	0	0	0	0	0	0	0	ONJOIN25	SAMPLER	&lt;br/&gt;
job_201103091134_556646	0	0	0	0	0	0	0	0	ONJOIN3	SAMPLER	&lt;br/&gt;
job_201103091134_556654	0	0	0	0	0	0	0	0	ONJOIN19	SAMPLER	&lt;br/&gt;
job_201103091134_556662	0	0	0	0	0	0	0	0	ONJOIN19	ORDER_BY,COMBINER&lt;br/&gt;
..&lt;/p&gt;&lt;/blockquote&gt;


&lt;p&gt;Run 2:&lt;/p&gt;
&lt;blockquote&gt;

&lt;p&gt;Job Stats (time in seconds):&lt;br/&gt;
JobId	Maps	Reduces	MaxMapTime	MinMapTIme	AvgMapTime	MaxReduceTime	MinReduceTime	AvgReduceTime	Alias	Feature	Outputs&lt;br/&gt;
job_201104272229_75503	159	100	484	192	353	396	308	321	IN,SP10P,SP11P,SP12P,SP13P,SP16P,SP17P,SP18P,SP20P,SP21P,SP22P,SP23P,SP24P,SP26P,SP27P,SP28P,SP29P,SP30P,SP31P,SP32P,SP33P,SP34P,SP4P,SP6P,SP7P,SP8P,SP9P	DISTINCT,MULTI_QUERY	&lt;br/&gt;
job_201104272229_75693	18	0	31	14	24	0	0	            UNION5	   MULTI_QUERY,MAP_ONLY	/user/viraj/dir,&lt;br/&gt;
job_201104272229_75694	7	100	34	13	22	46	20	25	CNJOIN25,GNJOIN25,sampleNJOIN25	GROUP_BY,COMBINER	&lt;br/&gt;
job_201104272229_75695	125	100	19	11	15	32	18	26	CNJOIN3,GNJOIN3,sampleNJOIN3	GROUP_BY,COMBINER	&lt;br/&gt;
job_201104272229_75698	1	100	12	12	12	13	9	11	CNJOIN15,GNJOIN15,sampleNJOIN15	GROUP_BY,COMBINER	&lt;br/&gt;
job_201104272229_75702	2	100	21	5	13	35	22	26	CNJOIN19,GNJOIN19,sampleNJOIN19	GROUP_BY,COMBINER	&lt;br/&gt;
job_201104272229_75724	1	1	4	4	4	11	11	11	ONJOIN15	SAMPLER	&lt;br/&gt;
job_201104272229_75725	0	0	0	0	0	0	0	            ONJOIN25	SAMPLER	&lt;br/&gt;
job_201104272229_75726	6	1	8	6	8	24	24	24	ONJOIN3	SAMPLER	&lt;br/&gt;
job_201104272229_75729	0	0	0	0	0	0	0	            ONJOIN19	SAMPLER	&lt;br/&gt;
job_201104272229_75752	1	100	5	5	5	12	9	11	ONJOIN19	ORDER_BY,COMBINER&lt;br/&gt;
..&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Viraj&lt;/p&gt;</description>
                <environment></environment>
        <key id="12505996">PIG-2029</key>
            <summary>Inconsistency in Pig Stats reports </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rding">Richard Ding</assignee>
                                    <reporter username="viraj">Viraj Bhat</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 May 2011 01:26:10 +0100</created>
                <updated>Thu, 4 Aug 2011 01:35:01 +0100</updated>
                            <resolved>Fri, 20 May 2011 20:24:59 +0100</resolved>
                                    <version>0.8.1</version>
                    <version>0.9.0</version>
                                    <fixVersion>0.9.0</fixVersion>
                                    <component>impl</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13028297" author="olgan" created="Tue, 3 May 2011 17:27:21 +0100"  >&lt;p&gt;I do not believe it is a P1 issue so don&apos;t think it belongs on 0.8 branch. Even for 0.9 I do not see it as a blocker. If we can find a quick reproducible case, we will fix it in 0.9. Otherwise will delay till we can reproduce. Also, this could be a potential issue with Hadoop.&lt;/p&gt;</comment>
                            <comment id="13035010" author="rding" created="Tue, 17 May 2011 20:58:54 +0100"  >&lt;p&gt;Currently Pig prints out zero (0) if max/min/avg map/reduce time isn&apos;t available by querying hadoop using hadoop client API. This is misleading. I propose that we change those values to &apos;n/a&apos; as following:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Job Stats (time in seconds):
JobId	Maps	Reduces	MaxMapTime	MinMapTIme	AvgMapTime	MaxReduceTime	MinReduceTime	AvgReduceTime	Alias	Feature	Outputs
job_201104272229_434232	2	10	354	220	287	168	149	163	IN,SP10P,SP11P,SP12P,SP13P,SP16P,SP17P,SP18P,SP20P,SP21P,SP22P,SP23P,SP24P,SP26P,SP27P,SP28P,SP29P,SP30P,SP31P,SP32P,SP33P,SP34P,SP4P,SP6P,SP7P,SP8P,SP9P	DISTINCT,MULTI_QUERY	
job_201104272229_434319	2	0	9	3	6	0	0	0	UNION5	MULTI_QUERY,MAP_ONLY	/user/rding/verifypigstats2-UNION5,
job_201104272229_434320	2	10	n/a	n/a	n/a	n/a	n/a	n/a	CNJOIN3,GNJOIN3,sampleNJOIN3	GROUP_BY,COMBINER	
job_201104272229_434321	1	10	5	5	5	23	9	17	CNJOIN25,GNJOIN25,sampleNJOIN25	GROUP_BY,COMBINER	
job_201104272229_434322	2	10	n/a	n/a	n/a	n/a	n/a	n/a	CNJOIN15,GNJOIN15,sampleNJOIN15	GROUP_BY,COMBINER	
job_201104272229_434323	2	10	n/a	n/a	n/a	n/a	n/a	n/a	CNJOIN19,GNJOIN19,sampleNJOIN19	GROUP_BY,COMBINER	
job_201104272229_434331	2	1	n/a	n/a	n/a	n/a	n/a	n/a	ONJOIN15	SAMPLER	
job_201104272229_434332	2	1	n/a	n/a	n/a	n/a	n/a	n/a	ONJOIN3	SAMPLER	
job_201104272229_434333	1	1	2	2	2	13	13	13	ONJOIN25	SAMPLER	
job_201104272229_434334	1	1	1	1	1	12	12	12	ONJOIN19	SAMPLER	
job_201104272229_434342	1	10	2	2	2	16	8	11	ONJOIN25	ORDER_BY,COMBINER	
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13036315" author="thejas" created="Thu, 19 May 2011 18:37:36 +0100"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13036403" author="rding" created="Thu, 19 May 2011 20:45:27 +0100"  >&lt;p&gt;Patch committed to trunk and 0.9 branch.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12479504" name="PIG-2029.patch" size="3428" author="rding" created="Tue, 17 May 2011 21:08:00 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 3 May 2011 16:27:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>66180</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyav67:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>97361</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>