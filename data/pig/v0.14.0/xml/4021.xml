<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:47:42 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-4021/PIG-4021.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-4021] Fix TestHBaseStorage failure after auto local mode change (PIG-3463)</title>
                <link>https://issues.apache.org/jira/browse/PIG-4021</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;There are 5 failures and 1 abort after &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3463&quot; title=&quot;Pig should use hadoop local mode for small jobs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3463&quot;&gt;&lt;del&gt;PIG-3463&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aniket486&quot; class=&quot;user-hover&quot; rel=&quot;aniket486&quot;&gt;Aniket Mokashi&lt;/a&gt;, do you know if HBaseStorage suppose to work in auto local mode?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12722360">PIG-4021</key>
            <summary>Fix TestHBaseStorage failure after auto local mode change (PIG-3463)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="daijy">Daniel Dai</assignee>
                                    <reporter username="daijy">Daniel Dai</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Jun 2014 23:14:12 +0100</created>
                <updated>Mon, 7 Jul 2014 19:07:57 +0100</updated>
                            <resolved>Sun, 22 Jun 2014 04:09:03 +0100</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                    <fixVersion>0.14.0</fixVersion>
                                    <component>impl</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="14036714" author="aniket486" created="Thu, 19 Jun 2014 01:20:10 +0100"  >&lt;p&gt;I do not know why it should not. I may have also seen it work in production (although later we disabled it). What&apos;s the failure? I will try to investigate more.&lt;/p&gt;</comment>
                            <comment id="14037028" author="daijy" created="Thu, 19 Jun 2014 07:27:45 +0100"  >&lt;p&gt;The test only fail on Hadoop 1.&lt;/p&gt;

&lt;p&gt;The test runs with local mode before &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3463&quot; title=&quot;Pig should use hadoop local mode for small jobs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3463&quot;&gt;&lt;del&gt;PIG-3463&lt;/del&gt;&lt;/a&gt;, but now it runs with MiniCluster mode. The attached patch force the test run with local mode, and test pass. Still don&apos;t have an explanation why. However, the test is written in a mixed mode which is not typical, this does not seems something we need to worry.&lt;/p&gt;</comment>
                            <comment id="14037900" author="rohini" created="Thu, 19 Jun 2014 22:15:42 +0100"  >&lt;p&gt;I think we should make the tests all minicluster mode instead of this change. Even though it works, it is really confusing and I am not sure how cluster.getConfiguration() with mapred.job.tracker=local is even supposed to behave. We might hit other problems later.&lt;/p&gt;</comment>
                            <comment id="14037951" author="daijy" created="Thu, 19 Jun 2014 22:49:01 +0100"  >&lt;p&gt;Believe it is originally in MiniCluster mode and intentionally change to local mode to speedup test. I actually less concern about the test itself. The change just force local mode and nothing tricky. I worry about &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3463&quot; title=&quot;Pig should use hadoop local mode for small jobs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3463&quot;&gt;&lt;del&gt;PIG-3463&lt;/del&gt;&lt;/a&gt; must change sequence of configuration propagation, and might lead to some other issue.&lt;/p&gt;</comment>
                            <comment id="14037969" author="aniket486" created="Thu, 19 Jun 2014 22:56:11 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3463&quot; title=&quot;Pig should use hadoop local mode for small jobs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3463&quot;&gt;&lt;del&gt;PIG-3463&lt;/del&gt;&lt;/a&gt; is optional feature that is turned off by default.&lt;/p&gt;</comment>
                            <comment id="14037972" author="daijy" created="Thu, 19 Jun 2014 22:59:13 +0100"  >&lt;p&gt;The test fail even after disabling auto local mode. Seems there is some side effect when we change the way propagating the configuration.&lt;/p&gt;</comment>
                            <comment id="14038123" author="daijy" created="Fri, 20 Jun 2014 00:53:32 +0100"  >&lt;p&gt;Attach another patch to fix the configuration propagation. I will run all tests to make sure it does not break anything.&lt;/p&gt;</comment>
                            <comment id="14039441" author="daijy" created="Fri, 20 Jun 2014 23:08:35 +0100"  >&lt;p&gt;Unit test all clear with the patch.&lt;/p&gt;</comment>
                            <comment id="14039880" author="cheolsoo" created="Sat, 21 Jun 2014 17:01:33 +0100"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14040017" author="daijy" created="Sun, 22 Jun 2014 04:09:03 +0100"  >&lt;p&gt;Patch committed to both 0.13 branch and trunk. Thanks Cheolsoo for review!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12669121">PIG-3463</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12651373" name="PIG-4021-1.patch" size="563" author="daijy" created="Thu, 19 Jun 2014 07:27:45 +0100"/>
                            <attachment id="12651558" name="PIG-4021-2.patch" size="1632" author="daijy" created="Fri, 20 Jun 2014 00:53:32 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 19 Jun 2014 00:20:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>400551</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzqt1z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>400645</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>