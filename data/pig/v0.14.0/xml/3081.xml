<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:08:05 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-3081/PIG-3081.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-3081] Pig progress stays at 0% for the first job in hadoop 23</title>
                <link>https://issues.apache.org/jira/browse/PIG-3081</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;  We are seeing that for many scripts if there are multiple jobs in the job graph, progress stays at 0% for the first job and jumps to 33% when the first job completes. There is no intermediate progress. After that intermediate progress gets reported for the subsequent jobs. Noticed this with jobs that do filtering and order by. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12618939">PIG-3081</key>
            <summary>Pig progress stays at 0% for the first job in hadoop 23</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rohini">Rohini Palaniswamy</assignee>
                                    <reporter username="rohini">Rohini Palaniswamy</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Dec 2012 20:26:47 +0000</created>
                <updated>Mon, 14 Oct 2013 17:46:20 +0100</updated>
                            <resolved>Tue, 5 Mar 2013 13:01:53 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.12.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13510749" author="rohini" created="Wed, 5 Dec 2012 20:45:41 +0000"  >&lt;p&gt;calculateProgress=(mapprog+reduceprog)/2&lt;br/&gt;
prog=calculateProgress/totalMRJobs  (Pig displays progress as a percentage of&lt;br/&gt;
all the jobs combined together and not per job)&lt;/p&gt;

&lt;p&gt;mapprog=0.6962389945983887, reduceprog=0.0&lt;br/&gt;
numMRJobsCompl=0,totalMRJobs=3,calculateProgress=0.34811949729919434&lt;br/&gt;
prog=0.11603983243306477,lastProg=0.11490649978319804&lt;br/&gt;
mapprog=0.7032797336578369, reduceprog=0.0&lt;br/&gt;
numMRJobsCompl=0,totalMRJobs=3,calculateProgress=0.35163986682891846&lt;br/&gt;
prog=0.11721328894297282,lastProg=0.11603983243306477&lt;br/&gt;
.....&lt;br/&gt;
mapprog=0.7190613150596619, reduceprog=0.0&lt;br/&gt;
numMRJobsCompl=0,totalMRJobs=3,calculateProgress=0.35953065752983093&lt;br/&gt;
prog=0.11984355250994365,lastProg=0.1190514365832011&lt;br/&gt;
mapprog=0.725161075592041, reduceprog=0.0&lt;br/&gt;
numMRJobsCompl=0,totalMRJobs=3,calculateProgress=0.3625805377960205&lt;br/&gt;
prog=0.12086017926534016,lastProg=0.11984355250994365&lt;/p&gt;

&lt;p&gt;if(prog&amp;gt;=(lastProg+0.01)){&lt;br/&gt;
            int perCom = (int)(prog * 100);&lt;br/&gt;
            if(perCom!=100) &lt;/p&gt;
{
                log.info( perCom + &quot;% complete&quot;);
        }
&lt;p&gt;  &lt;/p&gt;

&lt;p&gt;  The job progress is checked every 500ms. Since the frequency of checking is&lt;br/&gt;
very often and the prog is never &amp;gt; lastProg by more than 0.01 , it stays at 0%&lt;br/&gt;
and goes directly to 33% when the first job completed.&lt;/p&gt;</comment>
                            <comment id="13510821" author="rohini" created="Wed, 5 Dec 2012 21:57:45 +0000"  >&lt;p&gt;Took out the sleep added in the first patch.&lt;/p&gt;</comment>
                            <comment id="13592783" author="cheolsoo" created="Mon, 4 Mar 2013 23:14:18 +0000"  >&lt;p&gt;+1. LGTM.&lt;/p&gt;</comment>
                            <comment id="13593373" author="rohini" created="Tue, 5 Mar 2013 13:01:53 +0000"  >&lt;p&gt;Committed to trunk. Thanks Cheolsoo.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12556156" name="PIG-3081-1.patch" size="1571" author="rohini" created="Wed, 5 Dec 2012 21:57:45 +0000"/>
                            <attachment id="12556141" name="PIG-3081.patch" size="1805" author="rohini" created="Wed, 5 Dec 2012 20:45:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 4 Mar 2013 23:14:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>296205</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyy1in:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>232587</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>