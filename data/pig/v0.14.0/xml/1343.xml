<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:07:55 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-1343/PIG-1343.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-1343] pig_log file missing even though Main tells it is creating one and an M/R job fails </title>
                <link>https://issues.apache.org/jira/browse/PIG-1343</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;There is a particular case where I was running with the latest trunk of Pig.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
$java -cp pig.jar:/home/path/hadoop20cluster org.apache.pig.Main testcase.pig

[main] INFO  org.apache.pig.Main - Logging error messages to: /homes/viraj/pig_1263420012601.log

$ls -l pig_1263420012601.log
ls: pig_1263420012601.log: No such file or directory
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The job failed and the log file did not contain anything, the only way to debug was to look into the Jobtracker logs.&lt;/p&gt;

&lt;p&gt;Here are some reasons which would have caused this behavior:&lt;br/&gt;
1) The underlying filer/NFS had some issues. In that case do we not error on stdout?&lt;br/&gt;
2) There are some errors from the backend which are not being captured&lt;/p&gt;

&lt;p&gt;Viraj&lt;/p&gt;</description>
                <environment></environment>
        <key id="12460762">PIG-1343</key>
            <summary>pig_log file missing even though Main tells it is creating one and an M/R job fails </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nrai">niraj rai</assignee>
                                    <reporter username="viraj">Viraj Bhat</reporter>
                        <labels>
                    </labels>
                <created>Wed, 31 Mar 2010 01:26:17 +0100</created>
                <updated>Fri, 17 Dec 2010 22:44:01 +0000</updated>
                            <resolved>Mon, 30 Aug 2010 18:44:46 +0100</resolved>
                                    <version>0.6.0</version>
                                    <fixVersion>0.8.0</fixVersion>
                                    <component>impl</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12871511" author="daijy" created="Wed, 26 May 2010 06:46:50 +0100"  >&lt;p&gt;This script will reproduce the issue:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
a = load &apos;1.txt&apos; as (a0:&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;);
b = foreach a generate StringSize(a0);
store b into &apos;111&apos;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;However, if we change store with dump, we get log file.&lt;/p&gt;</comment>
                            <comment id="12874115" author="ashitosh" created="Tue, 1 Jun 2010 18:24:36 +0100"  >&lt;p&gt;When we use store , the exception is not  thrown when a job is failed .&lt;br/&gt;
I have checked for the job&apos;s status in registerQuery method of PigServer.java and threw the exceptions accordingly.&lt;br/&gt;
looking for suggestions &lt;/p&gt;</comment>
                            <comment id="12874269" author="daijy" created="Tue, 1 Jun 2010 23:01:22 +0100"  >&lt;p&gt;In this case hadoop does not give a meaningful message in MapReduceLauncher:282, backendException is null. But take a look why in &quot;dump&quot;, this &quot;null backendException&quot; actually trigger a message into pig log, but in &quot;store&quot;, Pig silently stop without a trace.&lt;/p&gt;</comment>
                            <comment id="12892466" author="olgan" created="Mon, 26 Jul 2010 22:12:18 +0100"  >&lt;p&gt;Ashitosh, are you planning to finish working on this JIRA or should we re-assign in to somebody else? Thanks!&lt;/p&gt;</comment>
                            <comment id="12892800" author="ashitosh" created="Tue, 27 Jul 2010 15:42:38 +0100"  >&lt;p&gt;Hi .. I&apos;m really sorry for such a long delay .. I&apos;ll resume my work on this issue.. thanks &lt;/p&gt;</comment>
                            <comment id="12894075" author="daijy" created="Fri, 30 Jul 2010 17:57:09 +0100"  >&lt;p&gt;Hi, Ashitosh,&lt;br/&gt;
As you know, Pig 0.8 will code freeze by the end of August. Are you able to finish the patch by the mid of Aug? Thanks.&lt;/p&gt;</comment>
                            <comment id="12894806" author="ashitosh" created="Tue, 3 Aug 2010 04:47:34 +0100"  >&lt;p&gt;Hi sir, Could you please assign this task to someone else for now .. though i would try to submit the patch. thanks&lt;/p&gt;</comment>
                            <comment id="12901922" author="nrai" created="Tue, 24 Aug 2010 16:28:49 +0100"  >&lt;p&gt;This patch will generate an error, where a job has failed but MR does not return any exception.&lt;/p&gt;</comment>
                            <comment id="12902030" author="rding" created="Tue, 24 Aug 2010 20:27:54 +0100"  >&lt;p&gt;The log file is created when running in batch mode, but not in interactive mode.&lt;/p&gt;</comment>
                            <comment id="12903004" author="nrai" created="Thu, 26 Aug 2010 20:44:10 +0100"  >&lt;p&gt;Implemented the interactive mode logging as well.&lt;/p&gt;</comment>
                            <comment id="12903072" author="rding" created="Thu, 26 Aug 2010 22:18:20 +0100"  >
&lt;p&gt;The new patch logs NPE instead of the intended message:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[main] ERROR org.apache.pig.tools.grunt.Grunt - ERROR 2999: Unexpected internal error. &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12903523" author="rding" created="Fri, 27 Aug 2010 19:42:54 +0100"  >
&lt;p&gt;I run above script in local mode, both batch mode and interactive mode now generate the expected result:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
ERROR 2244: Job failed, hadoop does not &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; any error message
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12904267" author="rding" created="Mon, 30 Aug 2010 18:42:00 +0100"  >&lt;p&gt;Patch is committed to the trunk. Thanks Niraj.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12452940" name="1343.patch" size="1614" author="nrai" created="Tue, 24 Aug 2010 16:28:49 +0100"/>
                            <attachment id="12446033" name="PIG-1343-1.patch" size="1507" author="ashitosh" created="Tue, 1 Jun 2010 18:12:27 +0100"/>
                            <attachment id="12453444" name="PIG-1343_6.patch" size="16193" author="rding" created="Mon, 30 Aug 2010 18:43:42 +0100"/>
                            <attachment id="12453197" name="PIG_1343_5.patch" size="4384" author="nrai" created="Fri, 27 Aug 2010 02:20:53 +0100"/>
                            <attachment id="12453159" name="pig_1343_2.patch" size="2780" author="nrai" created="Thu, 26 Aug 2010 20:44:10 +0100"/>
                            <attachment id="12453182" name="pig_1343_4.patch" size="3074" author="nrai" created="Thu, 26 Aug 2010 23:51:52 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 26 May 2010 05:46:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164838</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyapdb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>96421</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>