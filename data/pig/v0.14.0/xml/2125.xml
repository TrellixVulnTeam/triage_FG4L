<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:07:01 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-2125/PIG-2125.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-2125] Make Pig work with hadoop .NEXT</title>
                <link>https://issues.apache.org/jira/browse/PIG-2125</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;We need to make Pig work with hadoop .NEXT, the svn branch currently is: &lt;a href=&quot;https://svn.apache.org/repos/asf/hadoop/common/branches/MR-279&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/repos/asf/hadoop/common/branches/MR-279&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12510475">PIG-2125</key>
            <summary>Make Pig work with hadoop .NEXT</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="daijy">Daniel Dai</assignee>
                                    <reporter username="daijy">Daniel Dai</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Jun 2011 18:32:07 +0100</created>
                <updated>Thu, 2 May 2013 03:29:47 +0100</updated>
                            <resolved>Thu, 3 Nov 2011 00:25:55 +0000</resolved>
                                    <version>0.9.1</version>
                    <version>0.10.0</version>
                                    <fixVersion>0.9.2</fixVersion>
                    <fixVersion>0.10.0</fixVersion>
                                    <component>impl</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>10</watches>
                                                                <comments>
                            <comment id="13049933" author="daijy" created="Wed, 15 Jun 2011 19:17:49 +0100"  >&lt;p&gt;Attach initial patch &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2125&quot; title=&quot;Make Pig work with hadoop .NEXT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2125&quot;&gt;&lt;del&gt;PIG-2125&lt;/del&gt;&lt;/a&gt;-1.patch solving some issues we find. There are still areas under working, such as illustrator, MiniCluster, MergedJoin.&lt;/p&gt;</comment>
                            <comment id="13049942" author="dvryaboy" created="Wed, 15 Jun 2011 19:34:24 +0100"  >&lt;p&gt;are you guys planning on skipping 22 altogether?&lt;/p&gt;</comment>
                            <comment id="13049970" author="olgan" created="Wed, 15 Jun 2011 20:26:45 +0100"  >&lt;p&gt;We don&apos;t have any current plans to use 22 at Yahoo or for Yahoo engineers to do the port. But of course a patch is welcome from anybody interested in taking this project on.&lt;/p&gt;</comment>
                            <comment id="13056884" author="daijy" created="Wed, 29 Jun 2011 00:33:06 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2125&quot; title=&quot;Make Pig work with hadoop .NEXT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2125&quot;&gt;&lt;del&gt;PIG-2125&lt;/del&gt;&lt;/a&gt;-2.patch tested against MR-279 branch. All Pig end-to-end test pass. Unit test still fail. Zebra test still have a few failures.&lt;/p&gt;

&lt;p&gt;The patch borrow some ideas from &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-924&quot; title=&quot;Make Pig work with multiple versions of Hadoop&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-924&quot;&gt;&lt;del&gt;PIG-924&lt;/del&gt;&lt;/a&gt;. However, a dynamic shims layer is not possible due to some static dependencies. Here we use a static shims layer, so for different hadoop version, we need to recompile.&lt;/p&gt;

&lt;p&gt;Since hadoop.Next maven artifacts is not available, so we need to simulate it by copying all libraries to lib. &lt;/p&gt;</comment>
                            <comment id="13058650" author="daijy" created="Fri, 1 Jul 2011 17:55:47 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2125&quot; title=&quot;Make Pig work with hadoop .NEXT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2125&quot;&gt;&lt;del&gt;PIG-2125&lt;/del&gt;&lt;/a&gt;-3.patch is additional patch to make Zebra work.&lt;/p&gt;</comment>
                            <comment id="13064053" author="alangates" created="Tue, 12 Jul 2011 19:17:32 +0100"  >&lt;p&gt;In general the patch looks good.  I have a few questions/comments.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;How does one build a 0.23 compatible version of Pig?  Do you have to download the 0.23 jar yourself?  It looked like if you did this, build.xml would manage the rest properly.  The answer to this question will need to be added to the release notes field of this JIRA.&lt;/li&gt;
	&lt;li&gt;Javadocs explaining what the classes do would be very helpful.  PigMapReduce, PigMapBase, HadoopShims all could use class level comments.  HadoopShims in particular should have extensive comments on how the shims layer works and what needs to be shimmed.&lt;/li&gt;
	&lt;li&gt;I wonder if HadoopShims should go in a separate package.  I know it&apos;s just one class, but it performs a unique function.  This would also allow many of the design and build comments I referenced in the last point to be covered in a package level doc.  I don&apos;t feel strongly about this, so feel free to keep it where it is if you think that&apos;s better.&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="13064268" author="daijy" created="Wed, 13 Jul 2011 01:58:42 +0100"  >&lt;blockquote&gt;&lt;p&gt;1. How does one build a 0.23 compatible version of Pig? Do you have to download the 0.23 jar yourself? It looked like if you did this, build.xml would manage the rest properly. The answer to this question will need to be added to the release notes field of this JIRA.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;They need to copy all hadoop 23 jars and dependencies into lib. This step should go away once hadoop 23 publish maven artifacts&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;2. Javadocs explaining what the classes do would be very helpful. PigMapReduce, PigMapBase, HadoopShims all could use class level comments. HadoopShims in particular should have extensive comments on how the shims layer works and what needs to be shimmed.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Sure. I will add&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;3. I wonder if HadoopShims should go in a separate package. I know it&apos;s just one class, but it performs a unique function. This would also allow many of the design and build comments I referenced in the last point to be covered in a package level doc. I don&apos;t feel strongly about this, so feel free to keep it where it is if you think that&apos;s better.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;How about org.apache.pig.backend.hadoop.shims?&lt;/p&gt;</comment>
                            <comment id="13066783" author="daijy" created="Mon, 18 Jul 2011 05:38:26 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2125&quot; title=&quot;Make Pig work with hadoop .NEXT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2125&quot;&gt;&lt;del&gt;PIG-2125&lt;/del&gt;&lt;/a&gt;-4.patch merge &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2125&quot; title=&quot;Make Pig work with hadoop .NEXT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2125&quot;&gt;&lt;del&gt;PIG-2125&lt;/del&gt;&lt;/a&gt;-2.patch and &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2125&quot; title=&quot;Make Pig work with hadoop .NEXT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2125&quot;&gt;&lt;del&gt;PIG-2125&lt;/del&gt;&lt;/a&gt;-3.PATCH, address comments from Alan, fix unit test failures and test-patch failures.&lt;/p&gt;</comment>
                            <comment id="13067428" author="daijy" created="Tue, 19 Jul 2011 02:15:05 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2125&quot; title=&quot;Make Pig work with hadoop .NEXT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2125&quot;&gt;&lt;del&gt;PIG-2125&lt;/del&gt;&lt;/a&gt;-4.patch committed to both trunk and 0.9 branch. This is the first phase work (mapreduce and local mode end-to-end), I will continue work on the next phase (unit test).&lt;/p&gt;</comment>
                            <comment id="13068735" author="daijy" created="Thu, 21 Jul 2011 01:12:14 +0100"  >&lt;p&gt;There are some piggybank and zebra test failures, attach &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2125&quot; title=&quot;Make Pig work with hadoop .NEXT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2125&quot;&gt;&lt;del&gt;PIG-2125&lt;/del&gt;&lt;/a&gt;-5.patch for the fix.&lt;/p&gt;</comment>
                            <comment id="13068739" author="rding" created="Thu, 21 Jul 2011 01:25:24 +0100"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13068744" author="daijy" created="Thu, 21 Jul 2011 01:36:50 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2125&quot; title=&quot;Make Pig work with hadoop .NEXT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2125&quot;&gt;&lt;del&gt;PIG-2125&lt;/del&gt;&lt;/a&gt;-5.patch committed to both trunk and 0.9 branch.&lt;/p&gt;</comment>
                            <comment id="13069124" author="daijy" created="Thu, 21 Jul 2011 19:41:36 +0100"  >&lt;p&gt;Steps to build pig.jar for hadoop 23:&lt;br/&gt;
1. change &quot;build.xml&quot;, modify &quot;hadoopversion&quot; to &quot;23&quot;&lt;br/&gt;
2. change &quot;ivy.xml&quot;, remove the lines:&lt;br/&gt;
    &amp;lt;dependency org=&quot;org.apache.hadoop&quot; name=&quot;hadoop-core&quot; rev=&quot;$&lt;/p&gt;
{hadoop-core.version}
&lt;p&gt;&quot;&lt;br/&gt;
      conf=&quot;compile-&amp;gt;default;test-&amp;gt;default&quot;/&amp;gt;&lt;br/&gt;
    &amp;lt;dependency org=&quot;org.apache.hadoop&quot; name=&quot;hadoop-test&quot; rev=&quot;$&lt;/p&gt;
{hadoop-test.version}
&lt;p&gt;&quot;&lt;br/&gt;
      conf=&quot;compile-&amp;gt;default;test-&amp;gt;default&quot;/&amp;gt;&lt;br/&gt;
3. Build hadoop 23, copy hadoop 23 libraries into lib, here is a list:&lt;br/&gt;
aopalliance-1.0.jar&lt;br/&gt;
commons-cli-1.2.jar&lt;br/&gt;
commons-codec-1.4.jar&lt;br/&gt;
commons-collections-3.2.1.jar&lt;br/&gt;
commons-configuration-1.6.jar&lt;br/&gt;
commons-httpclient-3.1.jar&lt;br/&gt;
guice-2.0.jar&lt;br/&gt;
guice-servlet-2.0.jar&lt;br/&gt;
hadoop-common-0.22.0-SNAPSHOT.jar&lt;br/&gt;
hadoop-common-test-0.22.0-SNAPSHOT.jar&lt;br/&gt;
hadoop-hdfs-0.22.0-SNAPSHOT.jar&lt;br/&gt;
hadoop-hdfs-test-0.22.0-SNAPSHOT.jar&lt;br/&gt;
hadoop-mapreduce-client-app-1.0-SNAPSHOT.jar&lt;br/&gt;
hadoop-mapreduce-client-common-1.0-SNAPSHOT.jar&lt;br/&gt;
hadoop-mapreduce-client-core-1.0-SNAPSHOT.jar&lt;br/&gt;
hadoop-mapreduce-client-hs-1.0-SNAPSHOT.jar&lt;br/&gt;
hadoop-mapreduce-client-jobclient-1.0-SNAPSHOT.jar&lt;br/&gt;
hadoop-mapreduce-client-jobclient-1.0-SNAPSHOT-tests.jar&lt;br/&gt;
hadoop-mapreduce-client-shuffle-1.0-SNAPSHOT.jar&lt;br/&gt;
hadoop-metrics2-0.22.0-SNAPSHOT.jar&lt;br/&gt;
jetty-6.1.26.jar&lt;br/&gt;
log4j-1.2.16.jar&lt;br/&gt;
protobuf-java-2.4.0a.jar&lt;br/&gt;
servlet-api-2.5-20081211.jar&lt;br/&gt;
slf4j-api-1.6.1.jar&lt;br/&gt;
slf4j-log4j12-1.6.1.jar&lt;br/&gt;
yarn-api-1.0-SNAPSHOT.jar&lt;br/&gt;
yarn-common-1.0-SNAPSHOT.jar&lt;br/&gt;
yarn-server-common-1.0-SNAPSHOT.jar&lt;br/&gt;
yarn-server-nodemanager-1.0-SNAPSHOT.jar&lt;br/&gt;
yarn-server-resourcemanager-1.0-SNAPSHOT.jar&lt;br/&gt;
yarn-server-tests-1.0-SNAPSHOT-tests.jar&lt;/p&gt;

&lt;p&gt;4. Then, do an &quot;ant clean jar&quot;&lt;br/&gt;
5. You may also need to recompile your udf with the new hadoop libraries.&lt;/p&gt;</comment>
                            <comment id="13078303" author="daijy" created="Tue, 2 Aug 2011 18:39:59 +0100"  >&lt;p&gt;Attach ContextFactory.java which eventually will be in hadoop&apos;s codebase. But for now, we need to put it in Pig&apos;s source tree in order to compile.&lt;/p&gt;</comment>
                            <comment id="13078313" author="daijy" created="Tue, 2 Aug 2011 18:56:08 +0100"  >&lt;p&gt;Put ContextFactory.java into $PIG_HOME/src/org/apache/hadoop/mapreduce, then compile.&lt;/p&gt;</comment>
                            <comment id="13086652" author="daijy" created="Wed, 17 Aug 2011 23:33:45 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2125&quot; title=&quot;Make Pig work with hadoop .NEXT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2125&quot;&gt;&lt;del&gt;PIG-2125&lt;/del&gt;&lt;/a&gt;-6.patch fixed many of core unit test failures for hadoop 23. There are still 20 failures left. I am working with Hadoop 23 team on these issues:&lt;br/&gt;
I am running Pig unit tests with hadoop 23. Here is some issues I current find:&lt;/p&gt;

&lt;p&gt;1. Stability issue in MiniMRCluster. Some are intermittent, some fails consistently. Here is the stack I saw:&lt;br/&gt;
java.io.FileNotFoundException:&lt;br/&gt;
&lt;a href=&quot;file:/home/daniel/pig/target/PigMiniCluster/PigMiniCluster-localDir/usercache/daniel/appcache/application_1313021517794_0001/container_1313021517794_0002_000001.tokens&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:/home/daniel/pig/target/PigMiniCluster/PigMiniCluster-localDir/usercache/daniel/appcache/application_1313021517794_0001/container_1313021517794_0002_000001.tokens&lt;/a&gt;&lt;br/&gt;
at org.apache.hadoop.fs.RawLocalFileSystem.open(RawLocalFileSystem.java:187)&lt;br/&gt;
at org.apache.hadoop.fs.DelegateToFileSystem.open(DelegateToFileSystem.java:150)&lt;br/&gt;
at org.apache.hadoop.fs.AbstractFileSystem.open(AbstractFileSystem.java:595)&lt;br/&gt;
at org.apache.hadoop.fs.FilterFs.open(FilterFs.java:188)&lt;br/&gt;
at org.apache.hadoop.fs.FileContext$6.next(FileContext.java:736)&lt;br/&gt;
at org.apache.hadoop.fs.FileContext$6.next(FileContext.java:733)&lt;br/&gt;
at org.apache.hadoop.fs.FileContext$FSLinkResolver.resolve(FileContext.java:2278)&lt;br/&gt;
at org.apache.hadoop.fs.FileContext.open(FileContext.java:733)&lt;br/&gt;
at org.apache.hadoop.yarn.server.nodemanager.containermanager.localizer.ContainerLocalizer.runLocalization(ContainerLocalizer.java:137)&lt;br/&gt;
at org.apache.hadoop.yarn.server.nodemanager.DefaultContainerExecutor.startLocalizer(DefaultContainerExecutor.java:85)&lt;br/&gt;
at org.apache.hadoop.yarn.server.nodemanager.containermanager.localizer.ResourceLocalizationService$LocalizerRunner.run(ResourceLocalizationService.java:779)&lt;/p&gt;

&lt;p&gt;If success, I didn&apos;t see it in the log&lt;/p&gt;

&lt;p&gt;2. Couter issue. Seems most counter tests fail.&lt;br/&gt;
JobClient.getJob(job.getAssignedJobID()) always give me null.&lt;/p&gt;

&lt;p&gt;3. MiniMRYarnCluster.getConfig() give me this entry:&lt;br/&gt;
&quot;mapreduce.job.hdfs-servers=$&lt;/p&gt;
{fs.default.name}
&lt;p&gt;&quot;, which should have done the variable substitution.&lt;/p&gt;

&lt;p&gt;4. Failure to start MiniHBaseCluster, all HBase tests fail.&lt;/p&gt;</comment>
                            <comment id="13116913" author="daijy" created="Thu, 29 Sep 2011 01:25:42 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2125&quot; title=&quot;Make Pig work with hadoop .NEXT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2125&quot;&gt;&lt;del&gt;PIG-2125&lt;/del&gt;&lt;/a&gt;-7.patch catch up with Pig trunk, and compilable against Hadoop 0.23 brach.&lt;/p&gt;</comment>
                            <comment id="13117644" author="daijy" created="Thu, 29 Sep 2011 22:50:51 +0100"  >&lt;p&gt;e2e-hadoop23.patch is a separable patch from &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2125&quot; title=&quot;Make Pig work with hadoop .NEXT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2125&quot;&gt;&lt;del&gt;PIG-2125&lt;/del&gt;&lt;/a&gt;-7.patch which enable e2e test only.&lt;/p&gt;</comment>
                            <comment id="13117783" author="daijy" created="Fri, 30 Sep 2011 01:33:06 +0100"  >&lt;p&gt;Missing one file in &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2125&quot; title=&quot;Make Pig work with hadoop .NEXT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2125&quot;&gt;&lt;del&gt;PIG-2125&lt;/del&gt;&lt;/a&gt;-7.patch, reattach.&lt;/p&gt;</comment>
                            <comment id="13117803" author="daijy" created="Fri, 30 Sep 2011 02:08:34 +0100"  >&lt;p&gt;The same patch for 0.9 branch.&lt;/p&gt;</comment>
                            <comment id="13119759" author="acmurthy" created="Tue, 4 Oct 2011 00:41:18 +0100"  >&lt;p&gt;I&apos;ll get ContextFactory committed to branch-0.23 so that Pig doesn&apos;t need to own this.&lt;/p&gt;</comment>
                            <comment id="13119812" author="acmurthy" created="Tue, 4 Oct 2011 01:45:14 +0100"  >&lt;p&gt;I&apos;ve committed &lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-3138&quot; title=&quot;Allow for applications to deal with MAPREDUCE-954&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAPREDUCE-3138&quot;&gt;&lt;del&gt;MAPREDUCE-3138&lt;/del&gt;&lt;/a&gt; i.e. the ContextFactory patch to Hadoop MapReduce. Thanks.&lt;/p&gt;</comment>
                            <comment id="13121130" author="thw" created="Wed, 5 Oct 2011 17:54:58 +0100"  >&lt;p&gt;This patch is to support hadoopversion=23 to resolve dependencies through maven.&lt;/p&gt;

&lt;p&gt;Note that currently mapreduce does not have the jar files in maven, so you will still need to copy those into lib/ &lt;/p&gt;</comment>
                            <comment id="13121670" author="thw" created="Thu, 6 Oct 2011 03:00:04 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2125&quot; title=&quot;Make Pig work with hadoop .NEXT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2125&quot;&gt;&lt;del&gt;PIG-2125&lt;/del&gt;&lt;/a&gt;-buildxml-0.9.patch - Changes to build.xml for buildJar target. Verified changes for .20 build via diff of jar tv ... before and after.&lt;/p&gt;

&lt;p&gt;File list for .23 fat jar needs to be tuned once all maven dependencies are in place and tests compile/pass. &lt;/p&gt;</comment>
                            <comment id="13126153" author="daijy" created="Wed, 12 Oct 2011 22:03:31 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2125&quot; title=&quot;Make Pig work with hadoop .NEXT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2125&quot;&gt;&lt;del&gt;PIG-2125&lt;/del&gt;&lt;/a&gt;-commitJob.patch is to address incompatibility change introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-2702&quot; title=&quot;[MR-279] OutputCommitter changes for MR Application Master recovery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAPREDUCE-2702&quot;&gt;&lt;del&gt;MAPREDUCE-2702&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13126756" author="daijy" created="Thu, 13 Oct 2011 18:50:15 +0100"  >&lt;p&gt;Tests pass for &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2125&quot; title=&quot;Make Pig work with hadoop .NEXT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2125&quot;&gt;&lt;del&gt;PIG-2125&lt;/del&gt;&lt;/a&gt;-commitJob.patch. No test included since it solve the problem only in hadoop 23, which is not released.&lt;/p&gt;</comment>
                            <comment id="13126785" author="olgan" created="Thu, 13 Oct 2011 19:22:23 +0100"  >&lt;p&gt;Did the tests pass for both .Next and 20.x version?&lt;/p&gt;</comment>
                            <comment id="13126928" author="daijy" created="Thu, 13 Oct 2011 22:12:25 +0100"  >&lt;p&gt;All tests done on 20.X. I only did sanity tests on .Next, since I don&apos;t have the facility to run the whole thing currently. &lt;/p&gt;</comment>
                            <comment id="13126945" author="olgan" created="Thu, 13 Oct 2011 22:22:55 +0100"  >&lt;p&gt;I think that is good enough. As long as we do not regress on the current Hadoop I think we are good. Just need a review then.&lt;/p&gt;</comment>
                            <comment id="13126955" author="thejas" created="Thu, 13 Oct 2011 22:28:16 +0100"  >&lt;p&gt;+1 for &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2125&quot; title=&quot;Make Pig work with hadoop .NEXT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2125&quot;&gt;&lt;del&gt;PIG-2125&lt;/del&gt;&lt;/a&gt;-commitJob.patch&lt;/p&gt;</comment>
                            <comment id="13128562" author="daijy" created="Mon, 17 Oct 2011 02:37:45 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2125&quot; title=&quot;Make Pig work with hadoop .NEXT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2125&quot;&gt;&lt;del&gt;PIG-2125&lt;/del&gt;&lt;/a&gt;-zebra.patch fix zebra test failures introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2125&quot; title=&quot;Make Pig work with hadoop .NEXT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2125&quot;&gt;&lt;del&gt;PIG-2125&lt;/del&gt;&lt;/a&gt;-commitJob.patch&lt;/p&gt;</comment>
                            <comment id="13130315" author="thw" created="Wed, 19 Oct 2011 03:08:30 +0100"  >&lt;p&gt;Update to the mapreduce dependencies (replaces previous patch).&lt;/p&gt;</comment>
                            <comment id="13130829" author="thw" created="Wed, 19 Oct 2011 19:03:47 +0100"  >&lt;p&gt;Modified ivy patch to pull compile-test dependencies correctly. Currently the snapshots are outdated, compile-test should pass once they are refreshed.&lt;/p&gt;</comment>
                            <comment id="13140845" author="daijy" created="Tue, 1 Nov 2011 02:12:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2125&quot; title=&quot;Make Pig work with hadoop .NEXT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2125&quot;&gt;&lt;del&gt;PIG-2125&lt;/del&gt;&lt;/a&gt;-8.patch makes Pig compile and run against both 23 and 20 using maven artifacts. The only exception is hadoop-mapreduce.jar, which hadoop still fail to publish, and we need to copy it into lib. &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2125&quot; title=&quot;Make Pig work with hadoop .NEXT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2125&quot;&gt;&lt;del&gt;PIG-2125&lt;/del&gt;&lt;/a&gt;-8.patch include all changes in &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2125&quot; title=&quot;Make Pig work with hadoop .NEXT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2125&quot;&gt;&lt;del&gt;PIG-2125&lt;/del&gt;&lt;/a&gt;-7.patch, &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2125&quot; title=&quot;Make Pig work with hadoop .NEXT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2125&quot;&gt;&lt;del&gt;PIG-2125&lt;/del&gt;&lt;/a&gt;-buildxml-0.9.patch and &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2125&quot; title=&quot;Make Pig work with hadoop .NEXT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2125&quot;&gt;&lt;del&gt;PIG-2125&lt;/del&gt;&lt;/a&gt;-ivy-0.9-3.patch.&lt;/p&gt;</comment>
                            <comment id="13141760" author="daijy" created="Tue, 1 Nov 2011 23:31:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2125&quot; title=&quot;Make Pig work with hadoop .NEXT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2125&quot;&gt;&lt;del&gt;PIG-2125&lt;/del&gt;&lt;/a&gt;-9.patch &amp;amp; &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2125&quot; title=&quot;Make Pig work with hadoop .NEXT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2125&quot;&gt;&lt;del&gt;PIG-2125&lt;/del&gt;&lt;/a&gt;-9_0.9.patch compile and run Pig without any manual intervention. &lt;/p&gt;</comment>
                            <comment id="13141787" author="thw" created="Wed, 2 Nov 2011 00:03:55 +0000"  >&lt;p&gt;+1 ant compile-test is good on branch-0.9 now&lt;/p&gt;</comment>
                            <comment id="13142478" author="daijy" created="Wed, 2 Nov 2011 20:17:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2125&quot; title=&quot;Make Pig work with hadoop .NEXT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2125&quot;&gt;&lt;del&gt;PIG-2125&lt;/del&gt;&lt;/a&gt;-10.patch, &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2125&quot; title=&quot;Make Pig work with hadoop .NEXT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2125&quot;&gt;&lt;del&gt;PIG-2125&lt;/del&gt;&lt;/a&gt;-10_0.9.patch fix test-patch warnings:&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; -1 overall.  &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 @author.  The patch does not contain any @author tags.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 tests included.  The patch appears to include 46 new or modified tests.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     -1 release audit.  The applied patch generated 462 release audit warnings (more than the trunk&apos;s current 447 warnings).&lt;/p&gt;

&lt;p&gt;All new files has proper header.&lt;/p&gt;

&lt;p&gt;Unit test pass.&lt;/p&gt;

&lt;p&gt;Committed to trunk, 0.10 branch and 0.9 branch.&lt;/p&gt;</comment>
                            <comment id="13142483" author="daijy" created="Wed, 2 Nov 2011 20:22:22 +0000"  >&lt;p&gt;After &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2125&quot; title=&quot;Make Pig work with hadoop .NEXT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2125&quot;&gt;&lt;del&gt;PIG-2125&lt;/del&gt;&lt;/a&gt;-10.patch, we can compile and run end-to-end tests on 23. There are still ~20 unit tests fail on 23 and we are working on that. &lt;/p&gt;

&lt;p&gt;Since all patches attached to the Jira is committed, and this thread is becoming big and confusing, I would suggest to close this ticket and create a separate ticket to track unit test fixes for hadoop 23, agree?&lt;/p&gt;</comment>
                            <comment id="13142720" author="daijy" created="Thu, 3 Nov 2011 00:25:55 +0000"  >&lt;p&gt;Move the remaining work to &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2347&quot; title=&quot;Fix Pig Unit tests for hadoop 23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2347&quot;&gt;&lt;del&gt;PIG-2347&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12525600">MAPREDUCE-3138</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                            <outwardlinks description="incorporates">
                                        <issuelink>
            <issuekey id="12529984">PIG-2347</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12522489">PIG-2277</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12533044">PIG-2388</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12524588">HIVE-2468</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12385453">MAPREDUCE-279</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12534089">HCATALOG-179</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12489093" name="ContextFactory.java" size="9559" author="daijy" created="Tue, 2 Aug 2011 18:39:59 +0100"/>
                            <attachment id="12482695" name="PIG-2125-1.patch" size="19995" author="daijy" created="Wed, 15 Jun 2011 19:17:49 +0100"/>
                            <attachment id="12502024" name="PIG-2125-10.patch" size="86393" author="daijy" created="Wed, 2 Nov 2011 20:17:57 +0000"/>
                            <attachment id="12502025" name="PIG-2125-10_0.9.patch" size="85690" author="daijy" created="Wed, 2 Nov 2011 20:17:57 +0000"/>
                            <attachment id="12484575" name="PIG-2125-2.patch" size="173103" author="daijy" created="Wed, 29 Jun 2011 00:33:06 +0100"/>
                            <attachment id="12484903" name="PIG-2125-3.patch" size="794" author="daijy" created="Fri, 1 Jul 2011 17:55:47 +0100"/>
                            <attachment id="12486790" name="PIG-2125-4.patch" size="187771" author="daijy" created="Mon, 18 Jul 2011 05:38:26 +0100"/>
                            <attachment id="12487240" name="PIG-2125-5.patch" size="2599" author="daijy" created="Thu, 21 Jul 2011 01:12:13 +0100"/>
                            <attachment id="12490706" name="PIG-2125-6.patch" size="73348" author="daijy" created="Wed, 17 Aug 2011 23:33:45 +0100"/>
                            <attachment id="12497099" name="PIG-2125-7.patch" size="75572" author="daijy" created="Fri, 30 Sep 2011 01:33:06 +0100"/>
                            <attachment id="12497103" name="PIG-2125-7_0.9.patch" size="73222" author="daijy" created="Fri, 30 Sep 2011 02:08:34 +0100"/>
                            <attachment id="12501721" name="PIG-2125-8.patch" size="86450" author="daijy" created="Tue, 1 Nov 2011 02:12:35 +0000"/>
                            <attachment id="12501872" name="PIG-2125-9.patch" size="85907" author="daijy" created="Tue, 1 Nov 2011 23:31:49 +0000"/>
                            <attachment id="12501876" name="PIG-2125-9_0.9.patch" size="85074" author="daijy" created="Tue, 1 Nov 2011 23:54:00 +0000"/>
                            <attachment id="12497937" name="PIG-2125-buildxml-0.9.patch" size="3417" author="thw" created="Thu, 6 Oct 2011 03:00:04 +0100"/>
                            <attachment id="12498903" name="PIG-2125-commitJob.patch" size="2774" author="daijy" created="Thu, 13 Oct 2011 18:47:58 +0100"/>
                            <attachment id="12499724" name="PIG-2125-ivy-0.9-3.patch" size="4507" author="thw" created="Wed, 19 Oct 2011 19:03:47 +0100"/>
                            <attachment id="12499231" name="PIG-2125-zebra.patch" size="2228" author="daijy" created="Mon, 17 Oct 2011 02:37:45 +0100"/>
                            <attachment id="12497067" name="e2e-hadoop23.patch" size="476" author="daijy" created="Thu, 29 Sep 2011 22:50:50 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 15 Jun 2011 18:34:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37580</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy3tyv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56179</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>