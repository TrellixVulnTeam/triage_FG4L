<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:06:22 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-1241/PIG-1241.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-1241] Accumulator is turned on when a map is used with a non-accumulative UDF</title>
                <link>https://issues.apache.org/jira/browse/PIG-1241</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;Exception is thrown for a script like the following:&lt;/p&gt;

&lt;p&gt;register /homes/yinghe/owl/string.jar;&lt;br/&gt;
a = load &apos;a.txt&apos; as (id, url);&lt;br/&gt;
b = group  a by (id, url);&lt;br/&gt;
c = foreach b generate  COUNT(a), (CHARARRAY) string.URLPARSE(group.url)#&apos;url&apos;;&lt;br/&gt;
dump c;&lt;/p&gt;

&lt;p&gt;In this query, URLPARSE() is not accumulative, and it returns a map. &lt;/p&gt;

&lt;p&gt;The accumulator optimizer failed to check UDF in this case, and tries to run the job in accumulative mode. ClassCastException is thrown when trying to cast UDF into Accumulator interface.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12456490">PIG-1241</key>
            <summary>Accumulator is turned on when a map is used with a non-accumulative UDF</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yinghe">Ying He</assignee>
                                    <reporter username="yinghe">Ying He</reporter>
                        <labels>
                    </labels>
                <created>Tue, 16 Feb 2010 23:46:59 +0000</created>
                <updated>Fri, 14 May 2010 07:46:58 +0100</updated>
                            <resolved>Sat, 20 Feb 2010 02:26:32 +0000</resolved>
                                    <version>0.6.0</version>
                                    <fixVersion>0.7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12834552" author="yinghe" created="Tue, 16 Feb 2010 23:47:58 +0000"  >&lt;p&gt;patch to check UDF when it&apos;s with map operation&lt;/p&gt;</comment>
                            <comment id="12834635" author="hadoopqa" created="Wed, 17 Feb 2010 04:15:54 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12436056/accum.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12436056/accum.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 909921.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h8.grid.sp2.yahoo.net/212/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h8.grid.sp2.yahoo.net/212/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h8.grid.sp2.yahoo.net/212/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h8.grid.sp2.yahoo.net/212/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h8.grid.sp2.yahoo.net/212/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h8.grid.sp2.yahoo.net/212/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12834947" author="olgan" created="Wed, 17 Feb 2010 19:24:07 +0000"  >&lt;p&gt;Ying, I thought that accumlate is on by default but it looks like you are setting it on only if the property is present. Is this true?&lt;/p&gt;</comment>
                            <comment id="12834955" author="yinghe" created="Wed, 17 Feb 2010 19:39:44 +0000"  >&lt;p&gt;no, by default it is on.&lt;/p&gt;

&lt;p&gt;boolean isAccum = &quot;true&quot;.equalsIgnoreCase(pc.getProperties().getProperty(&quot;opt.accumulator&quot;,&quot;true&quot;));&lt;/p&gt;

&lt;p&gt;means if &quot;opt.accumulator&quot; is not present, the default value is &quot;true&quot;&lt;/p&gt;</comment>
                            <comment id="12836105" author="olgan" created="Sat, 20 Feb 2010 02:26:32 +0000"  >&lt;p&gt;patch committed to the trunk. Thanks, Ying&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12436056" name="accum.patch" size="8079" author="yinghe" created="Tue, 16 Feb 2010 23:47:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 17 Feb 2010 04:15:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164754</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyao6n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>96229</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>