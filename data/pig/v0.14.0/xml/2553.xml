<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:57:36 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-2553/PIG-2553.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-2553] Pig shouldn&apos;t allow attempts to write multiple relations into same directory</title>
                <link>https://issues.apache.org/jira/browse/PIG-2553</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;We&apos;ve seen multiple occasions where users accidentally try to store 2 or more different relations to the same destination directory. Currently, this passes the Pig planner and fails on MR side due to concurrent attempts to create the same part file on the reducer. This is extremely confusing to the user, and hard to debug.&lt;br/&gt;
We should instead fail their scripts before they are even submitted, since we can identify the erroneous condition from the beginning.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12543965">PIG-2553</key>
            <summary>Pig shouldn&apos;t allow attempts to write multiple relations into same directory</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prkommireddi">Prashant Kommireddi</assignee>
                                    <reporter username="dvryaboy">Dmitriy V. Ryaboy</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 Feb 2012 08:16:34 +0000</created>
                <updated>Mon, 14 Oct 2013 17:46:27 +0100</updated>
                            <resolved>Mon, 18 Feb 2013 01:38:28 +0000</resolved>
                                                    <fixVersion>0.12.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13489001" author="prkommireddi" created="Thu, 1 Nov 2012 20:30:06 +0000"  >&lt;p&gt;Looks like we can place a check in &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; Graph.postProcess() &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; to make sure a script does not contain multiple stores pointing to the same output location. Does that seem like a fair approach? Any corner cases to watch out for?&lt;/p&gt;</comment>
                            <comment id="13489836" author="prkommireddi" created="Fri, 2 Nov 2012 23:27:41 +0000"  >&lt;p&gt;First attempt at this. Reviewers, please take a look. Basically checking for the LOStore(s) in a LogicalPlan to ensure no 2 output locations are the same.&lt;/p&gt;</comment>
                            <comment id="13495260" author="cheolsoo" created="Mon, 12 Nov 2012 13:45:56 +0000"  >&lt;p&gt;Hi Prashant,&lt;/p&gt;

&lt;p&gt;Thank you very much for the patch! I tested it in local and mr mode, and it works fine. Can you please add a unit test probably in TestPigServer?&lt;/p&gt;</comment>
                            <comment id="13495554" author="rohini" created="Mon, 12 Nov 2012 19:46:07 +0000"  >&lt;p&gt;  This might break some existing custom StoreFuncs. Currently you can write a custom storer which allows to write into same directory, but with different file names. We have users who have written that kind of Storers. &lt;/p&gt;</comment>
                            <comment id="13495586" author="prkommireddi" created="Mon, 12 Nov 2012 20:09:15 +0000"  >&lt;p&gt;Thanks for the feedback Rohini and Cheolsoo.&lt;/p&gt;

&lt;p&gt;Rohini, what does such a StoreFunc look like? May be the following?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
STORE alias1 INTO &apos;output&apos; using MyStoreFunc(&apos;filename1&apos;);
STORE alias2 INTO &apos;output&apos; using MyStoreFunc(&apos;filename2&apos;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="13495629" author="rohini" created="Mon, 12 Nov 2012 20:59:03 +0000"  >&lt;p&gt;Yes. That would be a simple one. &lt;/p&gt;
</comment>
                            <comment id="13495705" author="prkommireddi" created="Mon, 12 Nov 2012 22:35:12 +0000"  >&lt;p&gt;StoreFuncs using setStoreLocation/relToAbsPathForStoreLocation to append filenames make it difficult to handle this. Any other ideas since the earlier approach is not safe?&lt;/p&gt;</comment>
                            <comment id="13495729" author="rohini" created="Mon, 12 Nov 2012 22:58:42 +0000"  >&lt;p&gt;PiggyBank also has a MultiStorage - &lt;a href=&quot;http://svn.apache.org/viewvc/pig/trunk/contrib/piggybank/java/src/main/java/org/apache/pig/piggybank/storage/MultiStorage.java?revision=1145447&amp;amp;view=markup&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc/pig/trunk/contrib/piggybank/java/src/main/java/org/apache/pig/piggybank/storage/MultiStorage.java?revision=1145447&amp;amp;view=markup&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt; One thing we could do is print a warning message instead of throwing a error. I don&apos;t see a way to correctly determine and throw an error. And in cases like MultiStorage the filename is not even static. The output dir name/file name is dynamic and depends on the value of a field in the record.  &lt;/p&gt;</comment>
                            <comment id="13495765" author="dvryaboy" created="Mon, 12 Nov 2012 23:54:19 +0000"  >&lt;p&gt;Rohini, what if we hide this behind a property, something like &quot;pig.location.check.strict&quot;?&lt;br/&gt;
I see accidental writes to the same output path causing problems all the time.. would love to have this feature.&lt;/p&gt;

&lt;p&gt;Prashant &amp;#8211; I haven&apos;t looked at the patch yet, but just something to check: it does allow writes of multiple relations to, say, the same HBase table?&lt;/p&gt;</comment>
                            <comment id="13495808" author="rohini" created="Tue, 13 Nov 2012 01:14:22 +0000"  >&lt;p&gt;Thanks for bringing up hbase Dmitriy. HCat table is another case. &lt;/p&gt;

&lt;p&gt;  Would that property be true by default? I am fine making the property true by default as long as it checks only for filesystem locations. HCat and HBase tables are going to be more common going forward, and it would not be nice to ask the users to launch pig every time with that property set to false.&lt;/p&gt;</comment>
                            <comment id="13495811" author="prkommireddi" created="Tue, 13 Nov 2012 01:16:42 +0000"  >&lt;p&gt;That&apos;s a good point Dmitriy. The patch does not handle multiple relations being written to hbase. Is it sufficient to check for the schema (hdfs://, hbase://, &lt;a href=&quot;file://&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file://&lt;/a&gt;,...) ?&lt;/p&gt;

&lt;p&gt;Rohini, you are right. Any implementation of StoreFunc similar to Hadoop MultipleOutputFormat would break this. As Dmitriy suggested, I think it makes sense to provide an option to users, in addition to logging a warning message?&lt;/p&gt;</comment>
                            <comment id="13495887" author="dvryaboy" created="Tue, 13 Nov 2012 03:00:44 +0000"  >&lt;p&gt;I think it should be set to false by default so that current scripts that use fancy storers, etc, can keep running without change (the scripts that have bugs, which we are trying to address with this, don&apos;t run correctly at all, so we don&apos;t have to worry about being backwards compatible with them). Individual pig admins / script authors can decide to turn it on by default if they notice this happening a lot.&lt;/p&gt;

&lt;p&gt;We are piling up quite the list of exceptions, though. Between hcat, hbase, unknown other schemas, and hdfs/s3/kfs/mapr cases, I&apos;m getting concerned that maybe this wasn&apos;t such a well thought out feature wish on my part! &lt;/p&gt;

&lt;p&gt;What do you guys think?&lt;/p&gt;</comment>
                            <comment id="13496011" author="prkommireddi" created="Tue, 13 Nov 2012 07:01:22 +0000"  >&lt;p&gt;I feel like we could treat this as file-based vs non-file based storage locations, similar to &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2924&quot; title=&quot;PigStats should not be assuming all Storage classes to be file-based storage&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2924&quot;&gt;&lt;del&gt;PIG-2924&lt;/del&gt;&lt;/a&gt;. The patch there uses a default FileBasedOutputSizeReader to determine output size and &quot;pig.stats.output.size.reader&quot; to compute size based on a different implementation.&lt;/p&gt;

&lt;p&gt;For this JIRA, can we also use a similar idea and handle file-based schemes with UriUtil.isHDFSFileOrLocalOrS3N(String uri)? For all other schemes (hbase, hcat, ...) we can allow multiple relations writing to same location.&lt;/p&gt;

&lt;p&gt;1. Check if pig.location.check.strict is set&lt;br/&gt;
2. If not set, just log a warning if scheme is file-based&lt;br/&gt;
3. If set, check if scheme is file-based and report an error&lt;br/&gt;
4. If set but not a file-based scheme, continue without any warning/error message&lt;/p&gt;

&lt;p&gt;Thoughts?&lt;/p&gt;</comment>
                            <comment id="13496013" author="prkommireddi" created="Tue, 13 Nov 2012 07:09:21 +0000"  >&lt;p&gt;Also, we could add kfs and maprfs to the list of file-based schemes. I agree the list could keep growing, but I suspect most users facing this issue to be hdfs:// and &lt;a href=&quot;file://&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file://&lt;/a&gt; users. What do you guys think of this for a start?&lt;/p&gt;</comment>
                            <comment id="13498450" author="prkommireddi" created="Thu, 15 Nov 2012 23:44:40 +0000"  >&lt;p&gt;Ping!&lt;/p&gt;</comment>
                            <comment id="13498583" author="rohini" created="Fri, 16 Nov 2012 03:58:10 +0000"  >&lt;p&gt;Sounds good to me Prashant. I can&apos;t think of any objections to having pig.location.check.strict default as false and the 4 point proposal you have outlined. &lt;/p&gt;</comment>
                            <comment id="13499276" author="prkommireddi" created="Sat, 17 Nov 2012 00:34:47 +0000"  >&lt;p&gt;Thanks Rohini. Dmitriy, you ok with the approach?&lt;/p&gt;</comment>
                            <comment id="13499304" author="dvryaboy" created="Sat, 17 Nov 2012 01:19:13 +0000"  >&lt;p&gt;I wouldn&apos;t even log a warning in 2.&lt;br/&gt;
The approach sounds good overall.&lt;br/&gt;
Patch should include changes to pig docs that instruct admins to set this unless they know something creative is happening.&lt;/p&gt;</comment>
                            <comment id="13500726" author="prkommireddi" created="Mon, 19 Nov 2012 23:20:32 +0000"  >&lt;p&gt;Should we add support for kfs and maprfs?&lt;/p&gt;</comment>
                            <comment id="13500910" author="prkommireddi" created="Tue, 20 Nov 2012 08:17:44 +0000"  >&lt;p&gt;Rohini, Dmitriy - adding a new patch with the discussed changes. &lt;/p&gt;</comment>
                            <comment id="13503656" author="prkommireddi" created="Mon, 26 Nov 2012 08:06:48 +0000"  >&lt;p&gt;Ping!&lt;/p&gt;</comment>
                            <comment id="13530588" author="cheolsoo" created="Thu, 13 Dec 2012 01:32:28 +0000"  >&lt;p&gt;Sorry for the delay. Here are some comments. Please let me know what you think.&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Wouldn&apos;t it make more sense to make it public since this property is a public property, and this variable may be reused somewhere else in the future? Do you agree?
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; PIG_LOCATION_CHECK_STRICT = &lt;span class=&quot;code-quote&quot;&gt;&quot;pig.location.check.strict&quot;&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;Can you check whether &lt;tt&gt;PIG_LOCATION_CHECK_STRICT&lt;/tt&gt; is enabled before calling &lt;tt&gt;getStoreLocIfInvalid(storeOps)&lt;/tt&gt; since then we can avoid calling it when unnecessary?
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
LOStore invalidStore = getStoreLocIfInvalid(storeOps);
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (invalidStore != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;.equals(pigContext.getProperties().getProperty(PIG_LOCATION_CHECK_STRICT))) {
    &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RuntimeException(&lt;span class=&quot;code-quote&quot;&gt;&quot;Script contains 2 or more STORE statements writing to same location : &quot;&lt;/span&gt;+ invalidStore.getFileSpec().getFileName());
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;Wouldn&apos;t it make more sense for &lt;tt&gt;getStoreLocIfInvalid()&lt;/tt&gt; to return the filename as &lt;tt&gt;String&lt;/tt&gt; instead of &lt;tt&gt;LOStore&lt;/tt&gt;? &lt;tt&gt;LOStore&lt;/tt&gt; seems unnecessary to me.&lt;/li&gt;
	&lt;li&gt;I am not sure if creating the &lt;tt&gt;admin&lt;/tt&gt; section in the docs makes sense. Even if admin sets this property, users always can override it running Pig with &lt;tt&gt;-Dpig.location.check.strict=false&lt;/tt&gt;. So I don&apos;t think that this property is different from any other user properties. Can we document it in &lt;tt&gt;conf/pig.property&lt;/tt&gt; like we did for other properties? Do you agree?&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13531401" author="prkommireddi" created="Thu, 13 Dec 2012 19:52:08 +0000"  >&lt;p&gt;Hi Cheolsoo, please see my comments below&lt;/p&gt;

&lt;p&gt;1. Should we hold off on making this variable public until when needed? One could always modify scope in the future.&lt;br/&gt;
2. Good point. Will do&lt;br/&gt;
3. Returning String makes sense.&lt;br/&gt;
4. I feel like the new section would be a useful place for admins to go to, and we could keep adding properties that admins could/should be aware of. If its an overkill, I am fine with documenting pig.properties only. Let me know.&lt;/p&gt;

&lt;p&gt;Again, thanks for reviewing.&lt;/p&gt;</comment>
                            <comment id="13531449" author="cheolsoo" created="Thu, 13 Dec 2012 20:34:19 +0000"  >&lt;p&gt;Hi Prashant,&lt;/p&gt;

&lt;p&gt;Thanks for your responses:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Agreed.&lt;/li&gt;
	&lt;li&gt;Thanks.&lt;/li&gt;
	&lt;li&gt;On a second thought, how about simplifying it even further?
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;.equals(pigContext.getProperties().getProperty(PIG_LOCATION_CHECK_STRICT))) {
    checkDuplicateStoreLoc(storeOps);
}
...
/**
 * This method checks whether the multiple sinks (STORE) use the same
 * &lt;span class=&quot;code-quote&quot;&gt;&quot;file-based&quot;&lt;/span&gt; location. If yes, &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; a runtime exception.
 * 
 * @param storeOps
 */
&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; void checkDuplicateStoreLoc(Set&amp;lt;LOStore&amp;gt; storeOps) {
    Set&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; uniqueStoreLoc = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HashSet&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt;();
    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;(LOStore store : storeOps) {
        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; filename = store.getFileSpec().getFileName();
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(!uniqueStoreLoc.add(filename) &amp;amp;&amp;amp; UriUtil.isHDFSFileOrLocalOrS3N(filename))
            &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RuntimeException(&lt;span class=&quot;code-quote&quot;&gt;&quot;Script contains 2 or more STORE statements writing to same location : &quot;&lt;/span&gt;+ filename);
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;Sure. That sounds reasonable. But can you add the new property to &lt;tt&gt;pig.properties&lt;/tt&gt; as well? I like to have a single place where all properties are listed. As far as I know, &lt;tt&gt;pig.properties&lt;/tt&gt; is only such a place as of now.&lt;/li&gt;
	&lt;li&gt;I can&apos;t build &lt;tt&gt;admin.xml&lt;/tt&gt;. I get the following error when running &lt;tt&gt;ant docs&lt;/tt&gt;:
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
     [exec] /home/cheolsoo/workspace/pig/src/docs/src/documentation/content/xdocs/admin.xml:33:66: Element type &lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt; must be declared.
     [exec] /home/cheolsoo/workspace/pig/src/docs/src/documentation/content/xdocs/admin.xml:33:194: The content of element type &lt;span class=&quot;code-quote&quot;&gt;&quot;p&quot;&lt;/span&gt; must match &lt;span class=&quot;code-quote&quot;&gt;&quot;(strong|em|code|sub|sup|br|img|icon|acronym|map|xi:include|a)&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Replacing &lt;tt&gt;&amp;lt;b&amp;gt;&amp;lt;/b&amp;gt;&lt;/tt&gt; with &lt;tt&gt;&amp;lt;strong&amp;gt;&amp;lt;/strong&amp;gt;&lt;/tt&gt; works for me. Also, it would be nice if you could avoid using tabs for indentation. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="13560142" author="prkommireddi" created="Tue, 22 Jan 2013 22:56:12 +0000"  >&lt;p&gt;Hey Cheolsoo, been out on vacation all this while. Will be getting back to this soon.&lt;/p&gt;</comment>
                            <comment id="13574316" author="prkommireddi" created="Fri, 8 Feb 2013 08:32:01 +0000"  >&lt;p&gt;Hey &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cheolsoo&quot; class=&quot;user-hover&quot; rel=&quot;cheolsoo&quot;&gt;Cheolsoo Park&lt;/a&gt; attaching a patch. Please note I have made changes to UriUtil.java in removing unused imports. Rest is as we discussed, except that I did not find broken indentation (other than docs, not sure if that needs to be indented too?). Let me know if the indentation needs to be adjusted.&lt;/p&gt;</comment>
                            <comment id="13578832" author="prkommireddi" created="Fri, 15 Feb 2013 00:14:40 +0000"  >&lt;p&gt;Ping!&lt;/p&gt;</comment>
                            <comment id="13579552" author="cheolsoo" created="Fri, 15 Feb 2013 22:31:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prkommireddi&quot; class=&quot;user-hover&quot; rel=&quot;prkommireddi&quot;&gt;Prashant Kommireddi&lt;/a&gt;, sorry for the delay. I am looking at it now.&lt;/p&gt;</comment>
                            <comment id="13579579" author="cheolsoo" created="Fri, 15 Feb 2013 23:04:51 +0000"  >&lt;p&gt;Looks good to me. I am running full unit test to make sure nothing is broken.&lt;/p&gt;</comment>
                            <comment id="13580010" author="prkommireddi" created="Sat, 16 Feb 2013 19:57:13 +0000"  >&lt;p&gt;Thanks @cheolsoo&lt;/p&gt;</comment>
                            <comment id="13580126" author="cheolsoo" created="Sun, 17 Feb 2013 05:45:49 +0000"  >&lt;p&gt;+1. I ran full unit test and found no additional failures.&lt;/p&gt;

&lt;p&gt;There are failing unit test case in trunk, but they&apos;re all known issues.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2994&quot; title=&quot;Grunt shortcuts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2994&quot;&gt;&lt;del&gt;PIG-2994&lt;/del&gt;&lt;/a&gt;:&lt;br/&gt;
org.apache.pig.test.TestGrunt.testExplainDot&lt;br/&gt;
org.apache.pig.test.TestGrunt.testExplainOut&lt;br/&gt;
org.apache.pig.test.TestGrunt.testExplainBrief&lt;br/&gt;
org.apache.pig.test.TestGrunt.testExplainScript&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3138&quot; title=&quot;Decouple PigServer.executeBatch() from compilation of batch&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3138&quot;&gt;&lt;del&gt;PIG-3138&lt;/del&gt;&lt;/a&gt;:&lt;br/&gt;
org.apache.pig.test.TestPigRunner.simpleTest&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3153&quot; title=&quot;TestScriptUDF.testJavascriptExampleScript fails in trunk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3153&quot;&gt;&lt;del&gt;PIG-3153&lt;/del&gt;&lt;/a&gt;:&lt;br/&gt;
org.apache.pig.test.TestScriptUDF.testJavascriptExampleScript &lt;/p&gt;</comment>
                            <comment id="13580363" author="cheolsoo" created="Mon, 18 Feb 2013 01:38:28 +0000"  >&lt;p&gt;Committed to trunk. Thanks Prashant!&lt;/p&gt;</comment>
                            <comment id="13580437" author="prkommireddi" created="Mon, 18 Feb 2013 06:04:48 +0000"  >&lt;p&gt;Thanks for the review/commit, Cheolsoo. Thanks for pitching-in Dmitriy, Rohini.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12551946" name="PIG-2553.patch" size="1827" author="prkommireddi" created="Fri, 2 Nov 2012 23:27:41 +0000"/>
                            <attachment id="12554307" name="PIG-2553_1.patch" size="8463" author="prkommireddi" created="Tue, 20 Nov 2012 08:17:44 +0000"/>
                            <attachment id="12568542" name="PIG-2553_2.patch" size="9369" author="prkommireddi" created="Fri, 8 Feb 2013 08:32:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 1 Nov 2012 20:30:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>229203</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy7zlr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>80579</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>To enforce strict checking of output location, set &amp;quot;pig.location.check.strict=true&amp;quot;. By default, it is false.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>