<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:51:44 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-3039/PIG-3039.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-3039] Not possible to use custom version of jackson jars</title>
                <link>https://issues.apache.org/jira/browse/PIG-3039</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;User is trying&lt;/p&gt;

&lt;p&gt;register jackson_core_asl-1.9.4_1.jar;&lt;br/&gt;
register jackson_mapper_asl-1.9.4_1.jar;&lt;br/&gt;
register jackson_xc-1.9.4_1.jar;&lt;/p&gt;

&lt;p&gt;But pig.jar/pig-withouthadoop.jar has jackson jars and JarManager packages the jackson from pig.jar into job.jar(&lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2457&quot; title=&quot;JsonLoaderStorage tests is broken for e2e&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2457&quot;&gt;&lt;del&gt;PIG-2457&lt;/del&gt;&lt;/a&gt;). We could not find any possible workaround with mapreduce framework to put the user jar first in the classpath as job.jar always takes precedence.&lt;/p&gt;

&lt;p&gt; The pig script works fine with 0.9 and is a regression in 0.10.  &lt;/p&gt;</description>
                <environment></environment>
        <key id="12615217">PIG-3039</key>
            <summary>Not possible to use custom version of jackson jars</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rohini">Rohini Palaniswamy</assignee>
                                    <reporter username="rohini">Rohini Palaniswamy</reporter>
                        <labels>
                    </labels>
                <created>Wed, 7 Nov 2012 19:44:58 +0000</created>
                <updated>Fri, 22 Feb 2013 04:53:59 +0000</updated>
                            <resolved>Mon, 19 Nov 2012 12:02:29 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.11</fixVersion>
                    <fixVersion>0.12.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13493690" author="rohini" created="Fri, 9 Nov 2012 02:35:29 +0000"  >&lt;p&gt;Attached patch fixes the scenario. Patch does not include jackson jars that need to be added to test/resources directory.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ls test/resources/
jackson-core-asl-1.9.9.jar	jackson-mapper-asl-1.9.9.jar	org
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alangates&quot; class=&quot;user-hover&quot; rel=&quot;alangates&quot;&gt;Alan Gates&lt;/a&gt;,&lt;br/&gt;
   The test case I added needs a specific version of jackson jars in the test/resources folder. Just wanted to check with you if there is any restriction to checking in jars like that.&lt;/p&gt;</comment>
                            <comment id="13493691" author="rohini" created="Fri, 9 Nov 2012 02:36:48 +0000"  >&lt;p&gt;  I would also like to include this in 0.11 if others agree as this is a regression from 0.9. &lt;/p&gt;</comment>
                            <comment id="13494318" author="julienledem" created="Fri, 9 Nov 2012 21:22:15 +0000"  >&lt;p&gt;Could you explain how it was working before ? Were the classes from the registered jar added to the same job jar and overwriting the pig.jar classes?&lt;/p&gt;</comment>
                            <comment id="13494320" author="rohini" created="Fri, 9 Nov 2012 21:25:42 +0000"  >&lt;p&gt;You mean how it works in 0.9? It is simple. Before &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2457&quot; title=&quot;JsonLoaderStorage tests is broken for e2e&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2457&quot;&gt;&lt;del&gt;PIG-2457&lt;/del&gt;&lt;/a&gt;, jackson was not packaged as part of pig.jar. So users could register their version of jackson jar in pig with mapreduce.user.classpath.first=true to avoid hadoop&apos;s jackson jars being in classpath.  &lt;/p&gt;</comment>
                            <comment id="13494325" author="julienledem" created="Fri, 9 Nov 2012 21:29:13 +0000"  >&lt;p&gt;I see. Thanks!&lt;/p&gt;</comment>
                            <comment id="13495311" author="cheolsoo" created="Mon, 12 Nov 2012 15:00:35 +0000"  >&lt;p&gt;Hi Rohini,&lt;/p&gt;

&lt;p&gt;The patch looks good. My only concern is that we have to remember this test case when we bump jackson to 1.9.9 in future.&lt;/p&gt;

&lt;p&gt;I suggest that we should at least make a comment in ivy/libraries.properties regarding this test case so that we won&apos;t forget to update this test case when we update the version of jackson.&lt;/p&gt;

&lt;p&gt;In addition, wouldn&apos;t it better to download the jackson 1.9.9 binaries using ant instead of checking them in? I made a quick patch that does this, so please feel free to use it if you like to. This is just a suggestion, and I won&apos;t insist.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="13499153" author="rohini" created="Fri, 16 Nov 2012 21:20:18 +0000"  >&lt;p&gt;Thanks Cheolsoo. I will use your patch while checking in. Its more clean and better. Tested it out and it works fine.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I would also like to include this in 0.11 if others agree as this is a regression from 0.9.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;  Any thoughts on this?&lt;/p&gt;</comment>
                            <comment id="13499156" author="cheolsoo" created="Fri, 16 Nov 2012 21:29:43 +0000"  >&lt;p&gt;I am +1 for adding this to 0.11. In fact, I ran a full unit test and e2e with your patch and didn&apos;t find any regression.&lt;/p&gt;</comment>
                            <comment id="13499313" author="dvryaboy" created="Sat, 17 Nov 2012 01:38:18 +0000"  >&lt;p&gt;Doesn&apos;t &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3043&quot; title=&quot;Modify the UrlClassloader in PigContext so that classes from the same classloader are used first instead of the parent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3043&quot;&gt;PIG-3043&lt;/a&gt; solve the problem in a general way?&lt;/p&gt;</comment>
                            <comment id="13499351" author="julienledem" created="Sat, 17 Nov 2012 05:39:11 +0000"  >&lt;p&gt;Pig-3039 solves it in the backend while pig-3043 solves in the frontend&lt;/p&gt;

&lt;p&gt;Julien&lt;/p&gt;

</comment>
                            <comment id="13500186" author="rohini" created="Mon, 19 Nov 2012 12:02:29 +0000"  >&lt;p&gt;Thanks Cheolsoo for the ivy download patch and the review. Committed the patch to 0.11 and trunk.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12615387">PIG-3043</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12553121" name="PIG-3039-download-jackson.patch" size="3907" author="cheolsoo" created="Mon, 12 Nov 2012 15:00:34 +0000"/>
                            <attachment id="12552760" name="PIG-3039-trunk.patch" size="6932" author="rohini" created="Fri, 9 Nov 2012 02:35:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 9 Nov 2012 21:22:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>255816</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy9pnz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>90637</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>