<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:01:13 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-1871/PIG-1871.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-1871] Dont throw exception if partition filters  cannot be pushed up. </title>
                <link>https://issues.apache.org/jira/browse/PIG-1871</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;Instead don&apos;t try to push partition filters up and continue execution.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12499773">PIG-1871</key>
            <summary>Dont throw exception if partition filters  cannot be pushed up. </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rding">Richard Ding</assignee>
                                    <reporter username="ashutoshc">Ashutosh Chauhan</reporter>
                        <labels>
                    </labels>
                <created>Fri, 25 Feb 2011 22:43:24 +0000</created>
                <updated>Thu, 4 Aug 2011 01:34:38 +0100</updated>
                            <resolved>Mon, 18 Apr 2011 18:38:31 +0100</resolved>
                                                    <fixVersion>0.9.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12999630" author="ashutoshc" created="Fri, 25 Feb 2011 23:14:00 +0000"  >&lt;p&gt;a = load &apos;mydata&apos; USING MyLoader();&lt;br/&gt;
b0 = filter a BY&lt;br/&gt;
    (   (ds &amp;lt; &apos;20091103&apos; )&lt;br/&gt;
     or (action == &apos;continue&apos; )&lt;br/&gt;
    );&lt;br/&gt;
b = filter b0 BY&lt;br/&gt;
    (   (ds &amp;lt; &apos;20091103&apos; and age &amp;lt; 50)&lt;br/&gt;
     or (action == &apos;continue&apos; and age &amp;gt; 100)&lt;br/&gt;
    );&lt;br/&gt;
c = foreach b generate ds, action, age, data;&lt;br/&gt;
store c into &apos;:OUTPATH:&apos;;&lt;br/&gt;
...&lt;/p&gt;

&lt;p&gt;fails with message:&lt;/p&gt;

&lt;p&gt;Grunt - ERROR 1112: &lt;br/&gt;
Unsupported query: &lt;br/&gt;
You have an partition column (datestamp ) in a construction like: (pcond  and ...) or (pcond and ...) where pcond is a condition on a partition column.&lt;/p&gt;

&lt;p&gt;In this testcase ds and action are partition columns while age is not. So, pig decided it cannot split the filter and can&apos;t push the partition filter to the loader. In such a condition instead of dying, Pig should disable partition filter push up and continue.&lt;/p&gt;</comment>
                            <comment id="12999643" author="dvryaboy" created="Fri, 25 Feb 2011 23:33:44 +0000"  >&lt;p&gt;Agreed with the spirit of the thing, but for the particular example &amp;#8211; why not push up the ds and action filters as (ds &amp;lt; &apos;20091103&apos; or action == &apos;continue&apos;) and then apply the original filters in Pig? You still get the benefits of whatever partition pushdown can do, and don&apos;t sacrifice correctness.&lt;/p&gt;</comment>
                            <comment id="12999649" author="ashutoshc" created="Fri, 25 Feb 2011 23:43:38 +0000"  >&lt;p&gt;Yes, that is the most appropriate thing to do in this case.&lt;br/&gt;
Additionally, The query works as is when using older version of Pig:&lt;/p&gt;

&lt;p&gt;Apache Pig version 0.7.0.20.10.0.1006041903 (r951530)&lt;br/&gt;
compiled Jun 04 2010, 19:03:37&lt;/p&gt;</comment>
                            <comment id="12999654" author="ashutoshc" created="Fri, 25 Feb 2011 23:54:57 +0000"  >&lt;p&gt;In Pig 0.8 following succeeds:&lt;br/&gt;
a = load &apos;mydata&apos; USING MyLoader();&lt;br/&gt;
b0 = filter a BY&lt;br/&gt;
( (ds &amp;lt; &apos;20091103&apos; )&lt;br/&gt;
or (action == &apos;continue&apos; )&lt;br/&gt;
);&lt;br/&gt;
c = foreach b0 generate ds, action, age, data;&lt;br/&gt;
store c into &apos;:OUTPATH:&apos;;&lt;/p&gt;

&lt;p&gt;This implies that in 0.8, b0 and b got combined first. Then, Pig tried to weed out partitioning columns from the combined expression and bailed out. But clearly, b0 can be pushed up and is separated by &apos;AND&apos; in combined expression so should have been pushed up. There will still be the cases where partition columns can&apos;t be weeded out easily from an expression. In those cases, don&apos;t try to push up anything and continue.&lt;/p&gt;</comment>
                            <comment id="13020041" author="rding" created="Thu, 14 Apr 2011 22:31:29 +0100"  >&lt;p&gt;Attaching patch that wouldn&apos;t throw exceptions if partition filter can&apos;t be pushed down. Now warnings are logged instead.&lt;/p&gt;</comment>
                            <comment id="13021132" author="daijy" created="Mon, 18 Apr 2011 18:28:26 +0100"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13021137" author="rding" created="Mon, 18 Apr 2011 18:38:31 +0100"  >&lt;p&gt;Patch committed to trunk.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12476377" name="PIG-1871_1.patch" size="25671" author="rding" created="Thu, 14 Apr 2011 22:31:29 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 25 Feb 2011 23:33:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>66322</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyau87:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>97208</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>