<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:59:06 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-3679/PIG-3679.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-3679] e2e StreamingPythonUDFs_10 fails in trunk</title>
                <link>https://issues.apache.org/jira/browse/PIG-3679</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;The e2e test StreamingPythonUDFs_10 fails in trunk with NPE-&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Caused by: java.lang.NullPointerException
        at org.apache.pig.builtin.DoubleRound.exec(DoubleRound.java:45)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The test query is as follows-&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
a = load &apos;/user/pig/tests/data/singlefile/allscalar10k&apos; using PigStorage() as (name:chararray, age:&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;, gpa:&lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;, instate:chararray);
b = foreach a generate name, ((&lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;)ROUND((instate==&apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;?gpa:gpa+1)*10000)) / 10000.0;
store b into &apos;/user/pig/out/cheolsoop-1390330024-nightly.conf-StreamingPythonUDFs/StreamingPythonUDFs_10_benchmark.out&apos;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12690085">PIG-3679</key>
            <summary>e2e StreamingPythonUDFs_10 fails in trunk</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cheolsoo">Cheolsoo Park</assignee>
                                    <reporter username="cheolsoo">Cheolsoo Park</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Jan 2014 19:05:49 +0000</created>
                <updated>Mon, 7 Jul 2014 19:08:03 +0100</updated>
                            <resolved>Fri, 30 May 2014 01:48:53 +0100</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13877778" author="cheolsoo" created="Tue, 21 Jan 2014 19:38:19 +0000"  >&lt;p&gt;The problem is that random-generated allscalar10k may contain null values for instate and gpa columns. For eg,&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
(fred hernandez,44,0.28,)
(calvin brown,22,1.73,)
(priscilla carson,71,0.0,)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;That causes &quot;instate==&apos;true&apos;?gpa:gpa+1&quot; to become null.&lt;/p&gt;

&lt;p&gt;Attaching a fix that adds a filter-by that filters out null values on those two columns. Confirmed the test passes with the fix.&lt;/p&gt;</comment>
                            <comment id="13877951" author="daijy" created="Tue, 21 Jan 2014 22:51:01 +0000"  >&lt;p&gt;A little suprised why we not see it before. We should always has some null in instate and gpa.&lt;/p&gt;</comment>
                            <comment id="13877957" author="cheolsoo" created="Tue, 21 Jan 2014 22:55:25 +0000"  >&lt;p&gt;Good question. I don&apos;t know.&lt;/p&gt;</comment>
                            <comment id="13881561" author="rohini" created="Sat, 25 Jan 2014 00:36:15 +0000"  >&lt;p&gt;In 0.11, null or non-numbers are ignored.&lt;/p&gt;

&lt;p&gt;ROUND.java&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;{
            &lt;span class=&quot;code-object&quot;&gt;Double&lt;/span&gt; d =  DataType.toDouble(input.get(0));
		    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.round(d);
        } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (NumberFormatException nfe){
            &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.err.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Failed to process input; error - &quot;&lt;/span&gt; + nfe.getMessage());
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
        } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Exception e){
            &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IOException(&lt;span class=&quot;code-quote&quot;&gt;&quot;Caught exception processing input row &quot;&lt;/span&gt;, e);
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13881564" author="cheolsoo" created="Sat, 25 Jan 2014 00:43:01 +0000"  >&lt;p&gt;But ROUND.java hasn&apos;t changed in trunk, has it?&lt;/p&gt;</comment>
                            <comment id="13889253" author="cheolsoo" created="Mon, 3 Feb 2014 06:10:42 +0000"  >&lt;p&gt;OK, I found this is a regression of &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3568&quot; title=&quot;Define the semantics of POStatus.STATUS_NULL&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3568&quot;&gt;&lt;del&gt;PIG-3568&lt;/del&gt;&lt;/a&gt; (Define the semantics of POStatus.STATUS_NULL). If I drop &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3568&quot; title=&quot;Define the semantics of POStatus.STATUS_NULL&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3568&quot;&gt;&lt;del&gt;PIG-3568&lt;/del&gt;&lt;/a&gt; in trunk, the test passes. In shorts, the exec() in DoubleRound was never called with nulls in 0.12, whereas it is in trunk resulting in NPE.&lt;/p&gt;

&lt;p&gt;In terms of the fix, I think we should explicitly handle NullPointerException in addition to NumberFormatException in ROUND, DoubleRound, and FloatRound. Currently, if input.get(0) returns null, Math.round() will throw NPE.&lt;/p&gt;

&lt;p&gt;I am attaching a new patch that adds a null check before calling Math.round(). I also copied the handler for NumberFormatException from ROUND to DoubleRound and FloadRound since it was missing in those functions.&lt;/p&gt;</comment>
                            <comment id="13889262" author="daijy" created="Mon, 3 Feb 2014 06:42:15 +0000"  >&lt;p&gt;Thanks for pursuing this.&lt;/p&gt;

&lt;p&gt;Did a quick check, seems I cannot find another UDF like this. +1 for the patch.&lt;/p&gt;</comment>
                            <comment id="13889285" author="rohini" created="Mon, 3 Feb 2014 07:40:35 +0000"  >&lt;p&gt; If the previous behavior was to not execute in case of null and if we are executing now, isn&apos;t that a big behavior change? There might be other user written UDFs which might encounter issues even if there are no builtin ones. &lt;/p&gt;</comment>
                            <comment id="13889668" author="daijy" created="Mon, 3 Feb 2014 17:37:37 +0000"  >&lt;p&gt;Yes, agree this might break some UDF. We should bring the old behavior.&lt;/p&gt;</comment>
                            <comment id="13889725" author="daijy" created="Mon, 3 Feb 2014 18:37:02 +0000"  >&lt;p&gt;Put up a patch to restore old behavior.&lt;/p&gt;</comment>
                            <comment id="13889752" author="rohini" created="Mon, 3 Feb 2014 19:01:52 +0000"  >&lt;p&gt;Wouldn&apos;t it be better for us to check for POStatus.STATUS_NULL instead of temp.result == null ?&lt;/p&gt;</comment>
                            <comment id="13889762" author="daijy" created="Mon, 3 Feb 2014 19:06:21 +0000"  >&lt;p&gt;With Mark&apos;s change, POStatus.STATUS_NULL is changed into POStatus.STATUS_OK with result.result == null. This is actually more natural, however, we need to bring backward compatibility for POUserFunc.&lt;/p&gt;</comment>
                            <comment id="13892625" author="cheolsoo" created="Wed, 5 Feb 2014 21:58:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=daijy&quot; class=&quot;user-hover&quot; rel=&quot;daijy&quot;&gt;Daniel Dai&lt;/a&gt;, unfortunately, you patch introduces another issue. The e2e test still fails but for a different reason. Here is the stack trace-&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
org.apache.pig.backend.executionengine.ExecException: ERROR 0: Failed adding input to inputQueue
    at org.apache.pig.impl.builtin.StreamingUDF.getOutput(StreamingUDF.java:328)
    at org.apache.pig.impl.builtin.StreamingUDF.exec(StreamingUDF.java:150)
    at org.apache.pig.backend.hadoop.executionengine.physicalLayer.expressionOperators.POUserFunc.getNext(POUserFunc.java:328)
    at org.apache.pig.backend.hadoop.executionengine.physicalLayer.expressionOperators.POUserFunc.getNextDouble(POUserFunc.java:394)
    at org.apache.pig.backend.hadoop.executionengine.physicalLayer.PhysicalOperator.getNext(PhysicalOperator.java:318)
    at org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POForEach.processPlan(POForEach.java:378)
    at org.apache.pig.backend.hadoop.executionengine.physicalLayer.relationalOperators.POForEach.getNextTuple(POForEach.java:298)
    at org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigGenericMapBase.runPipeline(PigGenericMapBase.java:282)
    at org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigGenericMapBase.map(PigGenericMapBase.java:277)
    at org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigGenericMapBase.map(PigGenericMapBase.java:64)
    at org.apache.hadoop.mapreduce.Mapper.run(Mapper.java:144)
    at org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:771)
    at org.apache.hadoop.mapred.MapTask.run(MapTask.java:375)
    at org.apache.hadoop.mapred.Child$4.run(Child.java:255)
    at java.security.AccessController.doPrivileged(Native Method)
    at javax.security.auth.Subject.doAs(Subject.java:415)
    at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1132)
    at org.apache.hadoop.mapred.Child.main(Child.java:249)
Caused by: java.lang.NullPointerException
    at java.util.concurrent.ArrayBlockingQueue.checkNotNull(ArrayBlockingQueue.java:145)
    at java.util.concurrent.ArrayBlockingQueue.put(ArrayBlockingQueue.java:319)
    at org.apache.pig.impl.builtin.StreamingUDF.getOutput(StreamingUDF.java:326)
    ... 17 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;To be clear, I don&apos;t think POUserFunc used to filter out nulls before &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3568&quot; title=&quot;Define the semantics of POStatus.STATUS_NULL&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3568&quot;&gt;&lt;del&gt;PIG-3568&lt;/del&gt;&lt;/a&gt; because it didn&apos;t modify POUserFunc. I believe&amp;#40;?&amp;#41; it&apos;s one of expression operators that filtered out nulls in the following plan-&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    |   POUserFunc(org.apache.pig.builtin.DoubleRound)[&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;] - scope-25
    |   |   
    |   |---Multiply[&lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;] - scope-24
    |       |   
    |       |---POBinCond[&lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;] - scope-21
    |       |   |   
    |       |   |---Equal To[&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt;] - scope-15
    |       |   |   |   
    |       |   |   |---Project[chararray][2] - scope-13
    |       |   |   |   
    |       |   |   |---Constant(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;) - scope-14
    |       |   |   
    |       |   |---Project[&lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;][1] - scope-16
    |       |   |   
    |       |   |---Add[&lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;] - scope-20
    |       |       |   
    |       |       |---Project[&lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;][1] - scope-17
    |       |       |   
    |       |       |---Cast[&lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;] - scope-19
    |       |           |   
    |       |           |---Constant(1) - scope-18
    |       |   
    |       |---Cast[&lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;] - scope-23
    |           |   
    |           |---Constant(10000) - scope-22
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I am not entirely sure whether we can bring the old behavior in every case where &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3568&quot; title=&quot;Define the semantics of POStatus.STATUS_NULL&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3568&quot;&gt;&lt;del&gt;PIG-3568&lt;/del&gt;&lt;/a&gt; breaks backward compatibility. We discovered this particular one, but we don&apos;t know how many cases like this exist.&lt;/p&gt;</comment>
                            <comment id="13892966" author="cheolsoo" created="Thu, 6 Feb 2014 03:08:26 +0000"  >&lt;p&gt;I am uploading yet another patch that fixes the e2e test. This time, I took Daniel&apos;s patch and added a null check to the exec() of StreamingUDF.&lt;/p&gt;

&lt;p&gt;On a second thought about backward incompatibility of &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3568&quot; title=&quot;Define the semantics of POStatus.STATUS_NULL&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3568&quot;&gt;&lt;del&gt;PIG-3568&lt;/del&gt;&lt;/a&gt;, looks like we&apos;re safe with changing POUserFunc to filter out nulls for the following reasons-&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;The changes in all the other PO operators except POUserFunc should be transparent to users because in the end, the result remains unchanged. The only difference is whether nulls travel the full or part of pipeline.&lt;/li&gt;
	&lt;li&gt;Since POUserFunc now filters out nulls, some UDFs that used to throw NPE will no longer throw NPE (e.g. DoubleRound). But this is more of an improvement than an backward incompatible change.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;So I will commit &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3679&quot; title=&quot;e2e StreamingPythonUDFs_10 fails in trunk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3679&quot;&gt;&lt;del&gt;PIG-3679&lt;/del&gt;&lt;/a&gt;-4.patch if there is no objection. Thanks!&lt;/p&gt;</comment>
                            <comment id="13893091" author="daijy" created="Thu, 6 Feb 2014 06:12:57 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13893819" author="cheolsoo" created="Thu, 6 Feb 2014 21:18:24 +0000"  >&lt;p&gt;Actually, the latest patch is still no good. I see a dozen of e2e test cases fail with NPE. To name a few, EvalFunc_5, Types_3, 4, and more. Apparently, short-circuiting nulls in POUserFunc has a side effect.&lt;/p&gt;

&lt;p&gt;I will need to debug them more carefully once I get back to work. Hard to debug them in a hotel room. Canceling patch for now.&lt;/p&gt;</comment>
                            <comment id="13910092" author="cheolsoo" created="Mon, 24 Feb 2014 08:25:34 +0000"  >&lt;p&gt;Here is yet another attempt to fix the issue. I confirmed that all the affected test cases pass now.&lt;/p&gt;

&lt;p&gt;This time I made the logic more explicitly such that the invocation of UDF will be skipped only if all the fields in the input tuple are null. I am running full e2e test suites.&lt;/p&gt;</comment>
                            <comment id="13912097" author="cheolsoo" created="Tue, 25 Feb 2014 21:35:45 +0000"  >&lt;p&gt;I fixed one more minor issue in the latest patch (&lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3679&quot; title=&quot;e2e StreamingPythonUDFs_10 fails in trunk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3679&quot;&gt;&lt;del&gt;PIG-3679&lt;/del&gt;&lt;/a&gt;-6.patch).&lt;/p&gt;

&lt;p&gt;If the output schema of UDF is tuple, POUserFunc should return a tuple whose fields are null instead of a null. I ran into this issue with &quot;Scripting_5&quot;, and I fixed it in the new patch.&lt;/p&gt;

&lt;p&gt;All e2e test cases pass except a known failure (Warning_4). Ready for review.&lt;/p&gt;</comment>
                            <comment id="13913261" author="cheolsoo" created="Wed, 26 Feb 2014 18:15:42 +0000"  >&lt;p&gt;RB link-&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/18525/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/18525/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13914120" author="rohini" created="Thu, 27 Feb 2014 06:14:00 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13914132" author="cheolsoo" created="Thu, 27 Feb 2014 06:41:42 +0000"  >&lt;p&gt;Committed to trunk. Thank you Rohini for the review!&lt;/p&gt;</comment>
                            <comment id="14012694" author="aniket486" created="Thu, 29 May 2014 19:43:27 +0100"  >&lt;p&gt;During investigation of &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3739&quot; title=&quot;The Warning_4 e2e test is broken in trunk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3739&quot;&gt;&lt;del&gt;PIG-3739&lt;/del&gt;&lt;/a&gt;, we identified that this still does not bring back the full backwards compatibility. &lt;/p&gt;</comment>
                            <comment id="14012836" author="aniket486" created="Thu, 29 May 2014 21:27:16 +0100"  >&lt;p&gt;I tried fix as per Daniel&apos;s suggestion (&lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3739&quot; title=&quot;The Warning_4 e2e test is broken in trunk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3739&quot;&gt;&lt;del&gt;PIG-3739&lt;/del&gt;&lt;/a&gt;), I have attached &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3679&quot; title=&quot;e2e StreamingPythonUDFs_10 fails in trunk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3679&quot;&gt;&lt;del&gt;PIG-3679&lt;/del&gt;&lt;/a&gt;-backward-compatibility.patch with fix. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=daijy&quot; class=&quot;user-hover&quot; rel=&quot;daijy&quot;&gt;Daniel Dai&lt;/a&gt; can you check e2e after this fix?&lt;/p&gt;

&lt;p&gt;Results of manual testing-&lt;/p&gt;

&lt;p&gt;Old counters (with pig11)&lt;/p&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Group &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Name &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Map &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Reduce &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Total &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.&#8203;apache.&#8203;pig.&#8203;PigWarning	&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;UDF_WARNING_3	&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 10989&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;	 0&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;	 10989&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.&#8203;apache.&#8203;pig.&#8203;PigWarning	&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;UDF_WARNING_4	 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;22	 &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;0&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;	 22&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;


&lt;p&gt;New counters (with the fix)&lt;br/&gt;
New counters&lt;/p&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Group &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Name &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Map &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Reduce &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Total &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.&#8203;apache.&#8203;pig.&#8203;test.&#8203;udf.&#8203;evalfunc.&#8203;TestWarningFunc &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; UDF_WARNING_3&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;	 10989	&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 0	&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 10989&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;org.&#8203;apache.&#8203;pig.&#8203;test.&#8203;udf.&#8203;evalfunc.&#8203;TestWarningFunc &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; UDF_WARNING_4	&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 22&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;	 0	&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 22&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
</comment>
                            <comment id="14012840" author="cheolsoo" created="Thu, 29 May 2014 21:31:48 +0100"  >&lt;p&gt;+1 to &lt;tt&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3679&quot; title=&quot;e2e StreamingPythonUDFs_10 fails in trunk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3679&quot;&gt;&lt;del&gt;PIG-3679&lt;/del&gt;&lt;/a&gt;-backward-compatibility.patch&lt;/tt&gt;. Thank you Aniket for fixing it.&lt;/p&gt;
</comment>
                            <comment id="14012843" author="cheolsoo" created="Thu, 29 May 2014 21:32:39 +0100"  >&lt;p&gt;I just ran StreamingPythonUDFs_10. It passes since the issue was with a tuple with a single null field.&lt;/p&gt;</comment>
                            <comment id="14012851" author="daijy" created="Thu, 29 May 2014 21:36:46 +0100"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14013163" author="cheolsoo" created="Fri, 30 May 2014 01:48:53 +0100"  >&lt;p&gt;Committed the addendum patch to both trunk and branch-0.13.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12692696">PIG-3739</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12678923">PIG-3568</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12624182" name="PIG-3679-1.patch" size="1305" author="cheolsoo" created="Tue, 21 Jan 2014 19:38:19 +0000"/>
                            <attachment id="12626609" name="PIG-3679-2.patch" size="2776" author="cheolsoo" created="Mon, 3 Feb 2014 06:10:42 +0000"/>
                            <attachment id="12626708" name="PIG-3679-3.patch" size="907" author="daijy" created="Mon, 3 Feb 2014 18:37:02 +0000"/>
                            <attachment id="12627282" name="PIG-3679-4.patch" size="1547" author="cheolsoo" created="Thu, 6 Feb 2014 03:08:26 +0000"/>
                            <attachment id="12630627" name="PIG-3679-5.patch" size="2806" author="cheolsoo" created="Mon, 24 Feb 2014 08:25:34 +0000"/>
                            <attachment id="12631047" name="PIG-3679-6.patch" size="3830" author="cheolsoo" created="Tue, 25 Feb 2014 21:35:45 +0000"/>
                            <attachment id="12631464" name="PIG-3679-7.patch" size="4714" author="cheolsoo" created="Thu, 27 Feb 2014 06:41:25 +0000"/>
                            <attachment id="12647434" name="PIG-3679-backward-compatibility.patch" size="1378" author="aniket486" created="Thu, 29 May 2014 21:13:11 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 21 Jan 2014 22:51:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369042</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzlghj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369347</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>