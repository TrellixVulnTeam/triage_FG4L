<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:06:15 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-1334/PIG-1334.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-1334] Make pig artifacts available through maven</title>
                <link>https://issues.apache.org/jira/browse/PIG-1334</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description></description>
                <environment></environment>
        <key id="12460397">PIG-1334</key>
            <summary>Make pig artifacts available through maven</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nrai">niraj rai</assignee>
                                    <reporter username="olgan">Olga Natkovich</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 Mar 2010 21:23:25 +0000</created>
                <updated>Fri, 17 Dec 2010 22:44:00 +0000</updated>
                            <resolved>Fri, 20 Aug 2010 19:39:49 +0100</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                        <due></due>
                            <votes>2</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="12867725" author="scott_carey" created="Fri, 14 May 2010 23:56:22 +0100"  >&lt;p&gt;This would be very nice.  It does not have to be in a future release however &amp;#8211; one can package 0.7 and/or 0.6 and make an official release for a maven repository after the fact.&lt;/p&gt;

&lt;p&gt;Don&apos;t forget to package and publish the javadoc and source too &amp;#8211; its wonderful when a development environment automatically pulls those down for reference too!&lt;/p&gt;</comment>
                            <comment id="12869585" author="jrussek" created="Thu, 20 May 2010 13:30:37 +0100"  >&lt;p&gt;agreed! I would love to pull in PigServer etc from a maven repository &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; +1!&lt;/p&gt;</comment>
                            <comment id="12875751" author="jeromatron" created="Fri, 4 Jun 2010 21:59:24 +0100"  >&lt;p&gt;Yes - 0.7.0 would be very nice to have in the public maven repos.&lt;/p&gt;</comment>
                            <comment id="12875766" author="jeromatron" created="Fri, 4 Jun 2010 22:37:01 +0100"  >&lt;p&gt;To clarify our need - the Cassandra project would like to use pig 0.7.0 using ivy as a build dependency.&lt;/p&gt;</comment>
                            <comment id="12880938" author="olgan" created="Mon, 21 Jun 2010 19:36:22 +0100"  >&lt;p&gt;We need to look at how this is done by hadoop. build.xml in the hadoop-0.20 branch have the right information.&lt;/p&gt;

&lt;p&gt;We also need to update our release process similarly to Hadoop&apos;s:  &lt;a href=&quot;http://wiki.apache.org/hadoop/HowToRelease&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/hadoop/HowToRelease&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12885882" author="nrai" created="Wed, 7 Jul 2010 09:37:21 +0100"  >&lt;p&gt;Hi,&lt;br/&gt;
     I have made change to copy the core pig.jar available to the maven repository. I have made it dependent on hadoop jar so that it pulls the hadoop jar. Please send me your feedback.&lt;br/&gt;
Thanks&lt;br/&gt;
Niraj&lt;/p&gt;</comment>
                            <comment id="12886263" author="nrai" created="Thu, 8 Jul 2010 07:49:49 +0100"  >&lt;p&gt;Based on the feedback, I am renaming the pig jars to the old names. I had changed names to make them compatible with the maven naming standard. I am also putting pig.jar to maven repository rather than the pig-core-&lt;/p&gt;
{version}
&lt;p&gt;.jar to the maven repo as the udf builders need the full jar rather than just the core jar.&lt;/p&gt;</comment>
                            <comment id="12890568" author="nrai" created="Wed, 21 Jul 2010 07:27:21 +0100"  >&lt;p&gt;New patch after the review recommendations.&lt;/p&gt;</comment>
                            <comment id="12892953" author="nrai" created="Tue, 27 Jul 2010 22:59:58 +0100"  >&lt;p&gt;Added mvn-deploy task to load the jar in the apache repos.&lt;br/&gt;
Giri, can you test this patch as I don&apos;t have permission to run this test.&lt;/p&gt;</comment>
                            <comment id="12893581" author="gkesavan" created="Thu, 29 Jul 2010 11:59:27 +0100"  >&lt;p&gt;patch fails with current trunk.&lt;/p&gt;</comment>
                            <comment id="12895775" author="nrai" created="Thu, 5 Aug 2010 21:02:05 +0100"  >&lt;p&gt;implemented pgp signature &lt;/p&gt;</comment>
                            <comment id="12895802" author="rding" created="Thu, 5 Aug 2010 21:58:44 +0100"  >
&lt;p&gt;I ran mvn-deploy target. It succeeded and the pig jar and other artifacts were deployed to &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
https:&lt;span class=&quot;code-comment&quot;&gt;//repository.apache.org/content/repositories/snapshots/org/apache/hadoop/pig/0.8.0-SNAPSHOT/&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Giri, can you review the new patch?&lt;/p&gt;</comment>
                            <comment id="12895804" author="jeromatron" created="Thu, 5 Aug 2010 22:00:17 +0100"  >&lt;p&gt;is there a reason why this couldn&apos;t be used on 0.7 as well as 0.8+?&lt;/p&gt;</comment>
                            <comment id="12895806" author="olgan" created="Thu, 5 Aug 2010 22:07:15 +0100"  >&lt;p&gt;This will be supported with all releases of 0.8 and later. For 0.7, we need a volunteer to backport it to 0.7 branch&lt;/p&gt;</comment>
                            <comment id="12895807" author="jeromatron" created="Thu, 5 Aug 2010 22:10:42 +0100"  >&lt;p&gt;I can take a look at backporting the patch once it is accepted as part of 0.8.&lt;/p&gt;</comment>
                            <comment id="12895808" author="olgan" created="Thu, 5 Aug 2010 22:12:41 +0100"  >&lt;p&gt;Sounds great!&lt;/p&gt;</comment>
                            <comment id="12899007" author="scott_carey" created="Mon, 16 Aug 2010 18:49:25 +0100"  >&lt;p&gt;-1, based on the output at &lt;a href=&quot;https://repository.apache.org/content/repositories/snapshots/org/apache/hadoop/pig/0.8.0-SNAPSHOT/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://repository.apache.org/content/repositories/snapshots/org/apache/hadoop/pig/0.8.0-SNAPSHOT/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Some problems here:  &lt;/p&gt;

&lt;p&gt;1.  There are no -sources and -javadoc jars generated.&lt;br/&gt;
2.  This jar is 11MB and includes a bunch of dependencies, many of which are optional:&lt;br/&gt;
 com.jcraft stuff, com.google stuff, and some com.sun stuff.&lt;br/&gt;
 It also includes,  slf4j, modkito, junit, hamcrest, etc etc etc.  Oh, and of course some javax.servlet that will break using it in a webapp container.&lt;/p&gt;

&lt;p&gt;In short, this is an improperly packaged maven/ivy jar.&lt;/p&gt;

&lt;p&gt;It should have only org.apache.pig, and specify other things as dependencies.  Users can optionally package multiple things up into one jar.    Pig can package a jar file that has all the required dependencies in it for the command line use (pig.jar).  But the maven repo jars (pig-0.8.0.jar, pig-0.8.0-sources.jar, and pig-0.8.0-javadoc.jar) need to be pig and pig only.&lt;/p&gt;

&lt;p&gt;3.  Any artifacts that are not needed at runtime should not be ordinary dependencies.  Junit must be specified as test scope, webapp stuff (javax.*) is typically &apos;included&apos; scope (the container provides it).&lt;/p&gt;
</comment>
                            <comment id="12899053" author="rding" created="Mon, 16 Aug 2010 20:49:54 +0100"  >&lt;blockquote&gt;&lt;p&gt;2. This jar is 11MB and includes a bunch of dependencies, many of which are optional:&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;We should deploy &lt;em&gt;pig-0.8.0-SNAPSHOT-core.jar (which contains only Pig classes) instead of _pig-0.8.0-SNAPSHOT.jar&lt;/em&gt; (which also contains dependent jars).&lt;/p&gt;</comment>
                            <comment id="12899064" author="jeromatron" created="Mon, 16 Aug 2010 21:04:45 +0100"  >&lt;p&gt;Maybe I&apos;m missing something but why not take the required dependencies and make them into transitive dependencies and leave the optional ones out.&lt;/p&gt;</comment>
                            <comment id="12899593" author="scott_carey" created="Tue, 17 Aug 2010 22:20:24 +0100"  >&lt;p&gt;Sure, pig-&amp;lt;version&amp;gt;&lt;del&gt;core.jar can be deployed to address this.   deploying pig&lt;/del&gt;&amp;lt;version&amp;gt;.jar with packaged dependencies in addition to -core OK but non-standard practice.  A -sources and -javadoc is trivial to add and very high value (My IDE will automatically link source and javadoc, for example).&lt;/p&gt;

&lt;p&gt;Maven/Ivy has &quot;optional&quot; dependencies, where a consumer must opt-in to pulling them but a direct build of pig will pull them.  There is also &apos;included&apos; scope which has a slightly different meaning with similar effect.&lt;/p&gt;

&lt;p&gt;Other things like JUnit are clearly test scope and should not be in any published jar.&lt;/p&gt;

&lt;p&gt;I am coming at this from the POV of a developer that wants to have Pig as a dependency for writing LoadFuncs and UDFs.  For that, I only need the pig classes which should be available without baggage via a quick Ivy/Maven dependency declaration. &lt;/p&gt;</comment>
                            <comment id="12900121" author="nrai" created="Thu, 19 Aug 2010 01:23:28 +0100"  >&lt;p&gt;Attaching the patch with source jar. Source jar also includes docs. I have also changed to pigwithouthadoop jar.&lt;/p&gt;</comment>
                            <comment id="12900399" author="nrai" created="Thu, 19 Aug 2010 19:56:46 +0100"  >&lt;p&gt;Attaching another patch after merging with the latest build.xml&lt;/p&gt;</comment>
                            <comment id="12900516" author="nrai" created="Thu, 19 Aug 2010 23:59:45 +0100"  >&lt;p&gt;Attaching the source, core and the pom jar . It also has staging attachment url.&lt;/p&gt;</comment>
                            <comment id="12900518" author="rding" created="Fri, 20 Aug 2010 00:05:54 +0100"  >&lt;p&gt;The new output is at &lt;a href=&quot;https://repository.apache.org/content/repositories/snapshots/org/apache/hadoop/pig/0.8.0-SNAPSHOT/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://repository.apache.org/content/repositories/snapshots/org/apache/hadoop/pig/0.8.0-SNAPSHOT/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12900818" author="rding" created="Fri, 20 Aug 2010 19:39:49 +0100"  >&lt;p&gt;The patch is committed to the trunk. Thanks Niraj for making this feature available.&lt;/p&gt;</comment>
                            <comment id="12905736" author="scott_carey" created="Fri, 3 Sep 2010 00:41:16 +0100"  >&lt;p&gt;This ticket is incomplete.   &lt;br/&gt;
*It did not properly package javadoc.&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;JUnit, is not marked as a test-time dependency, but as a runtime dependency.&lt;/li&gt;
	&lt;li&gt;I suspect HBase is not a runtime dependency, but an &apos;optional&apos; (non-transitive) or &apos;provided&apos; dependency.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Should this be re-opened or make a new ticket?&lt;/p&gt;


&lt;p&gt;There is a -sources.jar that has java source and additionally other documentation, but no javadoc that I can find, and if it is in there it doesn&apos;t have the right folder structure.&lt;/p&gt;

&lt;p&gt;A properly packaged Maven javadoc jar has a file structure like this:&lt;br/&gt;
&lt;a href=&quot;https://repository.apache.org/content/repositories/public/org/apache/avro/avro/1.4.0-SNAPSHOT/avro-1.4.0-20100825.231911-4-javadoc.jar&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://repository.apache.org/content/repositories/public/org/apache/avro/avro/1.4.0-SNAPSHOT/avro-1.4.0-20100825.231911-4-javadoc.jar&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;When packaged properly, third party tools (IDE&apos;s like Eclipse) will automatically import the javadoc and java sources for the dependency, making them automatically available in the IDE when coding or debugging.   &lt;/p&gt;</comment>
                            <comment id="12905744" author="rding" created="Fri, 3 Sep 2010 01:15:36 +0100"  >&lt;p&gt;Scott,&lt;/p&gt;

&lt;p&gt;Please create a new Jira for this. Another follow-up jira (&lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-1562&quot; title=&quot;Fix the version for the dependent packages for the maven &quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-1562&quot;&gt;&lt;del&gt;PIG-1562&lt;/del&gt;&lt;/a&gt;) has already been opened. &lt;/p&gt;

&lt;p&gt;-Richard&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12448865" name="mvn-pig.patch" size="8206" author="nrai" created="Wed, 7 Jul 2010 09:37:21 +0100"/>
                            <attachment id="12448957" name="mvn_pig_2.patch" size="6620" author="nrai" created="Thu, 8 Jul 2010 07:49:49 +0100"/>
                            <attachment id="12450637" name="mvn_pig_3.patch" size="7058" author="nrai" created="Tue, 27 Jul 2010 22:59:58 +0100"/>
                            <attachment id="12451360" name="mvn_pig_4.patch" size="8843" author="nrai" created="Thu, 5 Aug 2010 21:02:05 +0100"/>
                            <attachment id="12452474" name="mvn_pig_5.patch" size="10709" author="nrai" created="Thu, 19 Aug 2010 01:23:28 +0100"/>
                            <attachment id="12452590" name="mvn_pig_6.patch" size="10202" author="nrai" created="Thu, 19 Aug 2010 23:59:45 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 14 May 2010 22:56:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164831</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyap9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>96404</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>ant mvn-install   :To install artifact to the local filesystem&lt;br/&gt;
ant mvn-deploy  : To deploy snapshots to the apache nexus repo (looks for authentication in the ~/.m2/settings.xml)&lt;br/&gt;
ant mvn-deploy -Drepo=staging  :To deploy artifacts for voting before release , this also requires authentication configured in ~/.m2/settings.xml&lt;br/&gt;
Deploying artifacts to the staging repository requires signing the artifacts with gpg keys, mvn-deploy target takes care of signing the artifacts. While executing mvn-deploy target with -Drepo=staging it would ask for gpg passphrase which need to be keyed in. Once the deployment is successful, to make the artifact available in the staging repository , login into the staging repository and close the staging by right clicking on the staged artifact at http:/repository.apache.org&lt;br/&gt;
</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>