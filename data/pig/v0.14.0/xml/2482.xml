<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:08:33 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-2482/PIG-2482.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-2482] Integrate HCat DDL command into Pig</title>
                <link>https://issues.apache.org/jira/browse/PIG-2482</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;We would like to run hcat DDL command inside Pig script or Grunt. We can use a similar approach as &quot;fs&quot; or &quot;sh&quot;.&lt;/p&gt;

&lt;p&gt;Grunt&amp;gt; hcat create table .....&lt;/p&gt;

&lt;p&gt;Similar to &quot;fs&quot; and &quot;sh&quot;, we don&apos;t plan to add Java API in PigServer for it.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12538872">PIG-2482</key>
            <summary>Integrate HCat DDL command into Pig</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="daijy">Daniel Dai</assignee>
                                    <reporter username="daijy">Daniel Dai</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Jan 2012 19:59:41 +0000</created>
                <updated>Fri, 22 Feb 2013 04:53:57 +0000</updated>
                            <resolved>Mon, 30 Jan 2012 21:16:58 +0000</resolved>
                                                    <fixVersion>0.11</fixVersion>
                                    <component>impl</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13189189" author="alangates" created="Thu, 19 Jan 2012 16:47:01 +0000"  >&lt;p&gt;I think it&apos;s fine not to add commands for it to PigServer.  But what about o.a.p.scripting.Pig object?  It has a fs() call.  It seems like it should have an hcat() call as well.&lt;/p&gt;

&lt;p&gt;Also, should we say &quot;hcat&quot; or &quot;sql&quot;?  The latter would leave us open to extend this to exporting full SQL statements later.  It is also more generic and in keeping with our goal of keeping Hadoop specifics out of Pig Latin.&lt;/p&gt;</comment>
                            <comment id="13189386" author="daijy" created="Thu, 19 Jan 2012 21:23:32 +0000"  >&lt;blockquote&gt;&lt;p&gt;I think it&apos;s fine not to add commands for it to PigServer. But what about o.a.p.scripting.Pig object? It has a fs() call. It seems like it should have an hcat() call as well.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes, I can include it in scription.Pig&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Also, should we say &quot;hcat&quot; or &quot;sql&quot;? The latter would leave us open to extend this to exporting full SQL statements later. It is also more generic and in keeping with our goal of keeping Hadoop specifics out of Pig Latin.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;That&apos;s better for future extension. I will name it as &quot;sql&quot;.&lt;/p&gt;</comment>
                            <comment id="13195271" author="alangates" created="Sat, 28 Jan 2012 00:20:10 +0000"  >&lt;p&gt;In general looks good.  A couple of comments/questions:&lt;/p&gt;

&lt;p&gt;In GruntParser.processSQLCommand(), the error message in the following code looks incomplete:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;

&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&quot;hcat.bin&quot;&lt;/span&gt;).exists()) {
    &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IOException(hcatBin + &lt;span class=&quot;code-quote&quot;&gt;&quot; does not &quot;&lt;/span&gt;);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;How does removing HADOOP_CLASSPATH from the environment variable solve the problem of antlr version clashes?  Doesn&apos;t hcat need HADOOP_CLASSPATH set in order to work properly?&lt;/p&gt;</comment>
                            <comment id="13195289" author="daijy" created="Sat, 28 Jan 2012 00:38:58 +0000"  >&lt;p&gt;Sure I can improve the error message.&lt;/p&gt;

&lt;p&gt;For HADOOP_CLASSPATH, when we run pig, bin/pig script will put pig-withouthadoop.jar into HADOOP_CLASSPATH, which contains antlr.jar. hcat script will take HADOOP_CLASSPATH and use its antlr.jar instead of Hive&apos;s version. That&apos;s why we need to unset HADOOP_CLASSPATH before launching hcat.&lt;/p&gt;</comment>
                            <comment id="13195293" author="daijy" created="Sat, 28 Jan 2012 00:41:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2482&quot; title=&quot;Integrate HCat DDL command into Pig&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2482&quot;&gt;&lt;del&gt;PIG-2482&lt;/del&gt;&lt;/a&gt;-2.patch fix the error message.&lt;/p&gt;</comment>
                            <comment id="13195319" author="alangates" created="Sat, 28 Jan 2012 01:11:12 +0000"  >&lt;p&gt;+1, looks good.&lt;/p&gt;</comment>
                            <comment id="13196421" author="daijy" created="Mon, 30 Jan 2012 21:14:04 +0000"  >&lt;p&gt;Add scripting.Pig part in &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2482&quot; title=&quot;Integrate HCat DDL command into Pig&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2482&quot;&gt;&lt;del&gt;PIG-2482&lt;/del&gt;&lt;/a&gt;-3.patch. &lt;/p&gt;</comment>
                            <comment id="13196424" author="daijy" created="Mon, 30 Jan 2012 21:16:58 +0000"  >&lt;p&gt;Unit test pass. test-patch:&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; -1 overall.  &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 @author.  The patch does not contain any @author tags.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 tests included.  The patch appears to include 10 new or modified tests.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     -1 javadoc.  The javadoc tool appears to have generated 1 warning messages.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;     -1 release audit.  The applied patch generated 526 release audit warnings (more than the trunk&apos;s current 517 warnings).&lt;/p&gt;

&lt;p&gt;javadoc warning seems unrelated. All new file has proper head, ignore release audit warning.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12512221" name="PIG-2482-1.patch" size="9184" author="daijy" created="Fri, 27 Jan 2012 19:57:14 +0000"/>
                            <attachment id="12512265" name="PIG-2482-2.patch" size="9246" author="daijy" created="Sat, 28 Jan 2012 00:41:44 +0000"/>
                            <attachment id="12512465" name="PIG-2482-3.patch" size="12696" author="daijy" created="Mon, 30 Jan 2012 21:14:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 19 Jan 2012 16:47:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>224375</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy3tlr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56120</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Pig support sql command in script/grunt/embedding.&lt;br/&gt;
&lt;br/&gt;
Script/grunt:&lt;br/&gt;
sql create table ......;&lt;br/&gt;
&lt;br/&gt;
Note the sql statement end with a &amp;quot;;&amp;quot;&lt;br/&gt;
&lt;br/&gt;
embedding:&lt;br/&gt;
from org.apache.pig.scripting import Pig&lt;br/&gt;
ret = Pig.sql(&amp;quot;&amp;quot;&amp;quot;drop table if exists table_1;&amp;quot;&amp;quot;&amp;quot;)&lt;br/&gt;
if ret==0:&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;#success&lt;br/&gt;
&lt;br/&gt;
Configuration:&lt;br/&gt;
pig.sql.type=hcat (backend of sql, hcat is the only sql backend now)&lt;br/&gt;
hcat.bin=/usr/local/hcat/bin/hcat (binary location for hcat)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>