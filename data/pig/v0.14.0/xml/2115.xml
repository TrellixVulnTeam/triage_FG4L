<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:01:22 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-2115/PIG-2115.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-2115] Pig HBaseStorage configuration and setup issues</title>
                <link>https://issues.apache.org/jira/browse/PIG-2115</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;HBase storage currently configures child MapR jobs assuming that the HBase jars and cluster configuration are present on the hadoop cluster that will run the pig program. In some circumstances, and for some configurations this causes problems with both the configuration suddenly becoming defaulted during a job run as well as ClassNotFound exceptions occurring due to the child MapReduce job being incorrectly configured.&lt;/p&gt;

&lt;p&gt;As such, the hbase built in configuration is merged with the job configuration using the inbuilt pig classes for this functionality, this prevents the jobs configuration from being overwritten by defaults.&lt;/p&gt;

&lt;p&gt;At the same time this change has been mirrored in the relevant setup methods called when the HBaseStorage is used as a StoreFunc; this means that the StoreFunc also correctly sets up the relevant classpath preventing ClassNotFound exceptions in clusters that are not adding the HBase classes to the HADOOP_CLASSPATH.  &lt;/p&gt;

&lt;p&gt;Attached is a patch that hopefully fixes these issues for others.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12509697">PIG-2115</key>
            <summary>Pig HBaseStorage configuration and setup issues</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gbowyer@fastmail.co.uk">Greg Bowyer</assignee>
                                    <reporter username="gbowyer@fastmail.co.uk">Greg Bowyer</reporter>
                        <labels>
                            <label>hbase</label>
                            <label>load</label>
                            <label>storage</label>
                    </labels>
                <created>Thu, 9 Jun 2011 11:53:16 +0100</created>
                <updated>Thu, 27 Sep 2012 22:26:00 +0100</updated>
                            <resolved>Mon, 5 Sep 2011 01:15:42 +0100</resolved>
                                    <version>0.9.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13046694" author="dvryaboy" created="Thu, 9 Jun 2011 18:43:08 +0100"  >&lt;p&gt;Great, thanks for doing that. Looks reasonable.&lt;br/&gt;
I&apos;ll give it a spin and commit if it works.&lt;/p&gt;</comment>
                            <comment id="13065460" author="dvryaboy" created="Thu, 14 Jul 2011 19:56:25 +0100"  >&lt;p&gt;Sorry for the long wait.&lt;br/&gt;
This looks fine, but stylistically, I don&apos;t see a reason for the &quot;import static&quot; construct being used. The use of import static is discouraged by its own documentation (&lt;a href=&quot;http://download.oracle.com/javase/1.5.0/docs/guide/language/static-import.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://download.oracle.com/javase/1.5.0/docs/guide/language/static-import.html&lt;/a&gt; &amp;#8211; see &quot;when should I use import static&quot;), because it makes it unclear where a given method is implemented. &lt;/p&gt;</comment>
                            <comment id="13065619" author="gbowyer@fastmail.co.uk" created="Fri, 15 Jul 2011 00:50:56 +0100"  >&lt;p&gt;Fine point, do you want me to change the patch ?&lt;/p&gt;</comment>
                            <comment id="13065634" author="dvryaboy" created="Fri, 15 Jul 2011 01:29:13 +0100"  >&lt;p&gt;ifn&apos; you don&apos;t mind. I can do it if you are unable to, but I am about to go offline for a week, and have a bunch of other patches in flight &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;</comment>
                            <comment id="13071903" author="gbowyer@fastmail.co.uk" created="Wed, 27 Jul 2011 19:40:51 +0100"  >&lt;p&gt;Sorry it took so long to make these changes, I guess my life also went offline :S&lt;/p&gt;

&lt;p&gt;Static import removed&lt;/p&gt;</comment>
                            <comment id="13084250" author="alangates" created="Fri, 12 Aug 2011 17:59:36 +0100"  >&lt;p&gt;Marking as submit patch so this gets reviewed.&lt;/p&gt;</comment>
                            <comment id="13084278" author="dvryaboy" created="Fri, 12 Aug 2011 18:42:19 +0100"  >&lt;p&gt;It&apos;s on my list, I&apos;ll take a look this weekend.&lt;/p&gt;</comment>
                            <comment id="13094130" author="gbowyer@fastmail.co.uk" created="Tue, 30 Aug 2011 22:51:49 +0100"  >&lt;p&gt;did we get this looked at ? I just found this patch at the end of my todo list :S&lt;/p&gt;</comment>
                            <comment id="13094961" author="dvryaboy" created="Wed, 31 Aug 2011 23:28:17 +0100"  >&lt;p&gt;Code drifted a bit since this was written (my fault), I had to modify the patch slightly.&lt;/p&gt;

&lt;p&gt;Tests pass.&lt;/p&gt;

&lt;p&gt;Greg can you take a look and let me know if this looks ok?&lt;/p&gt;</comment>
                            <comment id="13096970" author="dvryaboy" created="Mon, 5 Sep 2011 01:15:42 +0100"  >&lt;p&gt;Committed to trunk.&lt;/p&gt;</comment>
                            <comment id="13465112" author="dvryaboy" created="Thu, 27 Sep 2012 22:26:00 +0100"  >&lt;p&gt;credit where credit&apos;s due &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12481910" name="HBaseStorage-correctly-configure-child-MapR-task-v1.patch" size="4333" author="gbowyer@fastmail.co.uk" created="Thu, 9 Jun 2011 11:55:40 +0100"/>
                            <attachment id="12488006" name="HBaseStorage-correctly-configure-child-MapR-task-v2.patch" size="3015" author="gbowyer@fastmail.co.uk" created="Wed, 27 Jul 2011 19:40:51 +0100"/>
                            <attachment id="12492539" name="PIG-2115.3.patch" size="3152" author="dvryaboy" created="Wed, 31 Aug 2011 23:28:17 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 9 Jun 2011 17:43:08 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35763</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxwcy7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12585</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>