<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:51:38 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-1154/PIG-1154.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-1154] local mode fails when hadoop config directory is specified in classpath</title>
                <link>https://issues.apache.org/jira/browse/PIG-1154</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;In local mode, the hadoop configuration should not be taken from the classpath . &lt;/p&gt;</description>
                <environment></environment>
        <key id="12443433">PIG-1154</key>
            <summary>local mode fails when hadoop config directory is specified in classpath</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ankit.modi">Ankit Modi</assignee>
                                    <reporter username="thejas">Thejas M Nair</reporter>
                        <labels>
                    </labels>
                <created>Tue, 15 Dec 2009 18:51:24 +0000</created>
                <updated>Fri, 14 May 2010 07:46:31 +0100</updated>
                            <resolved>Thu, 4 Feb 2010 00:46:39 +0000</resolved>
                                    <version>0.7.0</version>
                                    <fixVersion>0.7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12790880" author="thejas" created="Tue, 15 Dec 2009 18:52:42 +0000"  >&lt;p&gt;It is difficult to identify the problem from the exception thrown -&lt;/p&gt;

&lt;p&gt;Backend error message during job submission&lt;br/&gt;
-------------------------------------------&lt;br/&gt;
org.apache.hadoop.util.Shell$ExitCodeException: chmod: cannot access `/mapredsystem/hadoop/mapredsystem/job_local_0001&apos;: No such file or directory&lt;/p&gt;

&lt;p&gt;        at org.apache.hadoop.util.Shell.runCommand(Shell.java:245)&lt;br/&gt;
        at org.apache.hadoop.util.Shell.run(Shell.java:172)&lt;br/&gt;
        at org.apache.hadoop.util.Shell$ShellCommandExecutor.execute(Shell.java:365)&lt;br/&gt;
        at org.apache.hadoop.util.Shell.execCommand(Shell.java:451)&lt;br/&gt;
        at org.apache.hadoop.util.Shell.execCommand(Shell.java:434)&lt;br/&gt;
        at org.apache.hadoop.fs.RawLocalFileSystem.execCommand(RawLocalFileSystem.java:481)&lt;br/&gt;
        at org.apache.hadoop.fs.RawLocalFileSystem.setPermission(RawLocalFileSystem.java:473)&lt;br/&gt;
        at org.apache.hadoop.fs.FilterFileSystem.setPermission(FilterFileSystem.java:280)&lt;br/&gt;
        at org.apache.hadoop.fs.FileSystem.mkdirs(FileSystem.java:261)&lt;br/&gt;
        at org.apache.hadoop.mapred.JobClient.configureCommandLineOptions(JobClient.java:573)&lt;br/&gt;
        at org.apache.hadoop.mapred.JobClient.submitJobInternal(JobClient.java:761)&lt;br/&gt;
        at org.apache.hadoop.mapred.JobClient.submitJob(JobClient.java:730)&lt;br/&gt;
        at org.apache.hadoop.mapred.jobcontrol.Job.submit(Job.java:378)&lt;br/&gt;
        at org.apache.hadoop.mapred.jobcontrol.JobControl.startReadyJobs(JobControl.java:247)&lt;br/&gt;
        at org.apache.hadoop.mapred.jobcontrol.JobControl.run(JobControl.java:279)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:619)&lt;/p&gt;

&lt;p&gt;Error before Pig is launched&lt;br/&gt;
----------------------------&lt;br/&gt;
ERROR 1951: Caught exception&lt;/p&gt;

&lt;p&gt;org.apache.pig.impl.logicalLayer.FrontendException: ERROR 1951: Caught exception&lt;br/&gt;
        at org.apache.pig.PigServer.genStorePlanAndExecute(PigServer.java:594)&lt;br/&gt;
        at org.apache.pig.PigServer.openInputStream(PigServer.java:511)&lt;br/&gt;
        at org.apache.pig.impl.logicalLayer.SQLParser.QueryProcessor.executeAndWriteToSTDOUT(QueryProcessor.java:251)&lt;br/&gt;
        at org.apache.pig.impl.logicalLayer.SQLParser.QueryProcessor.execute(QueryProcessor.java:203)&lt;br/&gt;
        at org.apache.pig.SQLDriver.execute(SQLDriver.java:56)&lt;br/&gt;
        at org.apache.pig.Main.processSQL(Main.java:465)&lt;br/&gt;
        at org.apache.pig.Main.main(Main.java:400)&lt;br/&gt;
Caused by: java.io.IOException: Job terminated with anomalous status FAILED&lt;br/&gt;
        at org.apache.pig.PigServer.genStorePlanAndExecute(PigServer.java:584)&lt;br/&gt;
        ... 6 more&lt;br/&gt;
================================================================================&lt;/p&gt;</comment>
                            <comment id="12828822" author="ankit.modi" created="Tue, 2 Feb 2010 23:05:21 +0000"  >&lt;p&gt;It looks like the problem is caused by overwritten value of mapred.system.dir from mapred-default.xml and the path mentioned above &quot;/mapredsystem/hadoop/mapredsystem/&quot; may not exist.&lt;/p&gt;

&lt;p&gt;This cannot be solved in local mode as it is not possible to change classpath at runtime.&lt;/p&gt;

&lt;p&gt;I&apos;ll provide a patch which would&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Provide a warning whenever classpath contains mapred-site.xml or hdfs-site.xml.&lt;/li&gt;
	&lt;li&gt;It&apos;ll exit pig with an error message if above case is encountered.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12828826" author="alangates" created="Tue, 2 Feb 2010 23:16:04 +0000"  >&lt;p&gt;I&apos;m assuming you mean it will provide a warning and error out when the user is in local mode and mapred-site.xml or hdfs-site.xml are found in the classpath?&lt;/p&gt;</comment>
                            <comment id="12828831" author="ankit.modi" created="Tue, 2 Feb 2010 23:22:49 +0000"  >&lt;p&gt;It will provide warning whenever the files are encountered in Local Mode.&lt;/p&gt;

&lt;p&gt;On top of that it will exit with error if mapred.system.dir is different from the default one and it does not exist.&lt;/p&gt;</comment>
                            <comment id="12828833" author="ankit.modi" created="Tue, 2 Feb 2010 23:26:47 +0000"  >&lt;p&gt;Patch according to comments mentioned above.&lt;/p&gt;</comment>
                            <comment id="12828834" author="ankit.modi" created="Tue, 2 Feb 2010 23:28:18 +0000"  >&lt;p&gt;This patch only affects only Local Mode in pig.&lt;/p&gt;</comment>
                            <comment id="12828966" author="hadoopqa" created="Wed, 3 Feb 2010 05:59:28 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12434613/pig_1154.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12434613/pig_1154.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 905377.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/188/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/188/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/188/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/188/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/188/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/188/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12829349" author="alangates" created="Thu, 4 Feb 2010 00:46:39 +0000"  >&lt;p&gt;Patch checked in.  Thanks Ankit.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12434613" name="pig_1154.patch" size="6326" author="ankit.modi" created="Tue, 2 Feb 2010 23:26:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 2 Feb 2010 23:05:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164673</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyan67:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>96065</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>