<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:05:48 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-1085/PIG-1085.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-1085] Pass JobConf and UDF specific configuration information to UDFs</title>
                <link>https://issues.apache.org/jira/browse/PIG-1085</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;Users have long asked for a way to get the JobConf structure in their UDFs.  It would also be nice to have a way to pass properties between the front end and back end so that UDFs can store state during parse time and use it at runtime.&lt;/p&gt;

&lt;p&gt;This patch does part of what is proposed in &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-602&quot; title=&quot;Pass global configurations to UDF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-602&quot;&gt;&lt;del&gt;PIG-602&lt;/del&gt;&lt;/a&gt;, but not all of it.  It does not provide a way to give user specified configuration files to UDFs.  So I will mark 602 as depending on this bug, but it isn&apos;t a duplicate.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12440368">PIG-1085</key>
            <summary>Pass JobConf and UDF specific configuration information to UDFs</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="alangates">Alan Gates</assignee>
                                    <reporter username="alangates">Alan Gates</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Nov 2009 01:00:21 +0000</created>
                <updated>Thu, 2 May 2013 03:29:21 +0100</updated>
                            <resolved>Mon, 16 Nov 2009 21:55:01 +0000</resolved>
                                                    <fixVersion>0.6.0</fixVersion>
                                    <component>impl</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12776213" author="alangates" created="Wed, 11 Nov 2009 01:23:11 +0000"  >&lt;p&gt;The attached patch creates a new singleton class UDFContext.  This class contains the JobConf (on the backend) and thus can be used by UDFs to obtain the JobConf.&lt;/p&gt;

&lt;p&gt;It also allows UDFs to get their own properties object that they can use to store UDF specific information.  UDFs must use a signature to get the properties object.  They can either use their Class, in which case all instances of the UDF in the Pig Latin script will get the same properties object; or they can use their Class plus a String[].  This second option will allow different instances of the UDF to obtain different properties objects.&lt;/p&gt;</comment>
                            <comment id="12776285" author="hadoopqa" created="Wed, 11 Nov 2009 05:17:05 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12424546/udfconf.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12424546/udfconf.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 834285.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 12 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    -1 javac.  The applied patch generated 204 javac compiler warnings (more than the trunk&apos;s current 199 warnings).&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    -1 release audit.  The applied patch generated 323 release audit warnings (more than the trunk&apos;s current 318 warnings).&lt;/p&gt;

&lt;p&gt;    -1 core tests.  The patch failed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h8.grid.sp2.yahoo.net/43/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h8.grid.sp2.yahoo.net/43/testReport/&lt;/a&gt;&lt;br/&gt;
Release audit warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h8.grid.sp2.yahoo.net/43/artifact/trunk/patchprocess/releaseAuditDiffWarnings.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h8.grid.sp2.yahoo.net/43/artifact/trunk/patchprocess/releaseAuditDiffWarnings.txt&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h8.grid.sp2.yahoo.net/43/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h8.grid.sp2.yahoo.net/43/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h8.grid.sp2.yahoo.net/43/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h8.grid.sp2.yahoo.net/43/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12776782" author="alangates" created="Thu, 12 Nov 2009 01:25:38 +0000"  >&lt;p&gt;Uploading new patch that addresses javac warnings and release audit issues.  If I read the output correctly all of pig&apos;s unit tests passed on the previous test.&lt;/p&gt;</comment>
                            <comment id="12776897" author="hadoopqa" created="Thu, 12 Nov 2009 08:06:17 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12424686/udfconf-2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12424686/udfconf-2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 835189.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 12 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    -1 javac.  The applied patch generated 204 javac compiler warnings (more than the trunk&apos;s current 199 warnings).&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/150/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/150/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/150/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/150/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/150/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/150/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12777307" author="daijy" created="Fri, 13 Nov 2009 00:48:22 +0000"  >&lt;p&gt;+1. Patch looks good.&lt;/p&gt;</comment>
                            <comment id="12778577" author="alangates" created="Mon, 16 Nov 2009 21:55:01 +0000"  >&lt;p&gt;Patch checked in.&lt;/p&gt;</comment>
                            <comment id="12778599" author="alangates" created="Mon, 16 Nov 2009 22:17:32 +0000"  >&lt;p&gt;Documentation for this patch:&lt;/p&gt;

&lt;p&gt;The singleton UDFContext class provides two features to UDF writers.  First, on the backend, it allows UDFs to get access to the JobConf object, by calling getJobConf.  This is only available on the backend (at run time) as the JobConf has not yet been constructed on the front end (during planning time).&lt;/p&gt;

&lt;p&gt;Second, it allows UDFs to pass configuration information between instantiations of the UDF on the front and backends.  UDFs can store information in a configuration object when they are constructed on the front end, or during other front end calls such as describeSchema.  They can then read that information on the backend when exec (for EvalFunc) or getNext (for LoadFunc) is called.  Note that information will not be passed bewteen instantiations of the function on the backend.  The communication channel only works from front end to back end.&lt;/p&gt;

&lt;p&gt;To store information, the UDF calls getUDFProperties.  This returns a Properties object which the UDF can record the information in or read the information from.  To avoid name space conflicts UDFs are required to provide a signature when obtaining a Properties object.  This can be done in two ways.  The UDF can provide its Class object (via this.getClass()).  In this case, every instantiation of the UDF will be given the same Properties object.  The UDF can also provide its Class plus an array of Strings.  The UDF can pass its constructor arguments, or some other identifying strings.  This allows each instantiation of the UDF to have a different properties object thus avoiding name space collisions between instantiations of the UDF.&lt;/p&gt;</comment>
                            <comment id="12780313" author="alangates" created="Thu, 19 Nov 2009 22:35:01 +0000"  >&lt;p&gt;Applied the patch to the 0.6 branch as well.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12411880">PIG-602</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12424686" name="udfconf-2.patch" size="20316" author="alangates" created="Thu, 12 Nov 2009 01:24:49 +0000"/>
                            <attachment id="12424546" name="udfconf.patch" size="16312" author="alangates" created="Wed, 11 Nov 2009 01:23:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 11 Nov 2009 05:17:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164611</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyamcv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>95933</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>