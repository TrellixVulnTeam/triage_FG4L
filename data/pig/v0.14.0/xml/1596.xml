<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:08:29 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-1596/PIG-1596.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-1596] NPE&apos;s thrown when attempting to load hbase columns containing null values</title>
                <link>https://issues.apache.org/jira/browse/PIG-1596</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;I&apos;m not a committer, but I&apos;d like to suggest the attached patch to handle loading hbase rows containing null cell values (since hbase is all about sparsly populated data rows). As it stands, a DataByteArray can be created with a null mData if a cell has no value, which causes NPEs by simply attempting to load a row containing the null cell in question.&lt;/p&gt;

&lt;p&gt;PS: the attached patch also contains a slight change to the bin/pig executable to point to the build/pig&amp;#45;&amp;#42;&amp;#45;SNAPSHOT.jar and not the build/pig&amp;#45;&amp;#42;&amp;#45;dev.jar (the latter no longer seems to exist). If you prefer a separate patch for this, I&apos;ll be happy to submit it.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12473101">PIG-1596</key>
            <summary>NPE&apos;s thrown when attempting to load hbase columns containing null values</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="gstathis">George P. Stathis</reporter>
                        <labels>
                    </labels>
                <created>Thu, 2 Sep 2010 02:49:20 +0100</created>
                <updated>Fri, 17 Dec 2010 22:45:32 +0000</updated>
                            <resolved>Mon, 6 Sep 2010 03:07:10 +0100</resolved>
                                    <version>0.7.0</version>
                                    <fixVersion>0.8.0</fixVersion>
                                    <component>data</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12905388" author="zjffdu" created="Thu, 2 Sep 2010 04:38:06 +0100"  >&lt;p&gt;George, thanks for your suggestion. And I believe you are using latest HBaseStorage in trunk. What you pointed at is really a problem, and I have another solution for this. If the cell is null,  we put an empty byte array in DataByteArray, I think it should been the LoadFunc&apos;s reponponslibity to handle null cell.&lt;/p&gt;

</comment>
                            <comment id="12905389" author="zjffdu" created="Thu, 2 Sep 2010 04:40:16 +0100"  >&lt;p&gt;Attach patch (modify HBaseStorage and add new TestCase)&lt;/p&gt;</comment>
                            <comment id="12905393" author="gstathis" created="Thu, 2 Sep 2010 05:17:02 +0100"  >&lt;p&gt;Works just as well with less files modified. Thanks Jeff. How about the bin/pig modification? Is it ok or am I missing a step in my build process? Without it, when I download trunk and build, I get NoClassDefFoundError errors out of the box when I attempt to rum in grunt mode.&lt;/p&gt;</comment>
                            <comment id="12905404" author="dvryaboy" created="Thu, 2 Sep 2010 06:01:07 +0100"  >&lt;p&gt;Jeff,&lt;br/&gt;
I think it&apos;s clearer if you insert null into the tuple, not an empty DataByteArray (and assertNull in the test)&lt;/p&gt;

&lt;p&gt;George, the SNAPSHOT thing is a real bug, thanks for catching that, this happened when pig was made available through maven in &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-1334&quot; title=&quot;Make pig artifacts available through maven&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-1334&quot;&gt;&lt;del&gt;PIG-1334&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I&apos;ll create a separate ticket for that.&lt;/p&gt;</comment>
                            <comment id="12905416" author="zjffdu" created="Thu, 2 Sep 2010 06:45:48 +0100"  >&lt;p&gt;Dmitriy, you are right. I updated the patch according your suggestion.&lt;/p&gt;
</comment>
                            <comment id="12905818" author="dvryaboy" created="Fri, 3 Sep 2010 08:18:17 +0100"  >&lt;p&gt;I will review on Friday.&lt;/p&gt;</comment>
                            <comment id="12906305" author="dvryaboy" created="Sun, 5 Sep 2010 00:12:30 +0100"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;before committing, do you mind combining the new test with one of the existing ones? Trying to keep the test suite at under 24 hours &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12906418" author="zjffdu" created="Mon, 6 Sep 2010 03:06:40 +0100"  >&lt;p&gt;Combine the new test case with existing ones. And commit the patch to both trunk and branch-0.8&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12453651" name="PIG_1596.patch" size="2669" author="zjffdu" created="Thu, 2 Sep 2010 04:40:16 +0100"/>
                            <attachment id="12453654" name="PIG_1596_2.patch" size="2676" author="zjffdu" created="Thu, 2 Sep 2010 06:45:48 +0100"/>
                            <attachment id="12453647" name="null_hbase_records.patch" size="1520" author="gstathis" created="Thu, 2 Sep 2010 02:49:53 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 2 Sep 2010 03:38:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>165063</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyas5r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>96873</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>