<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:55:54 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-2706/PIG-2706.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-2706] Add clear to list of grunt commands</title>
                <link>https://issues.apache.org/jira/browse/PIG-2706</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;grunt should be able to clear screen (similar to unix shell) on a command, we can call it &quot;clear&quot;. After typing in several lines in the interactive mode, it would be useful to be able to clear screen.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12556131">PIG-2706</key>
            <summary>Add clear to list of grunt commands</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="xalan">Allan Avenda&#241;o</assignee>
                                    <reporter username="prkommireddi">Prashant Kommireddi</reporter>
                        <labels>
                    </labels>
                <created>Wed, 16 May 2012 22:59:43 +0100</created>
                <updated>Fri, 22 Feb 2013 04:53:52 +0000</updated>
                            <resolved>Thu, 19 Jul 2012 15:21:09 +0100</resolved>
                                    <version>0.11</version>
                    <version>0.10.1</version>
                                    <fixVersion>0.11</fixVersion>
                                    <component>grunt</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13279892" author="xalan" created="Mon, 21 May 2012 00:17:26 +0100"  >&lt;p&gt;I think that it could be implemented with some break lines. Is it the expected functionality?&lt;/p&gt;</comment>
                            <comment id="13280365" author="prkommireddi" created="Mon, 21 May 2012 20:03:13 +0100"  >&lt;p&gt;Thanks for looking into this Allan. &lt;/p&gt;

&lt;p&gt;I was thinking more of what happens on a Unix shell when you hit &quot;clear&quot;. With your patch, the cursor might still be at the end of the grunt window after 14 new lines.&lt;/p&gt;</comment>
                            <comment id="13281225" author="daijy" created="Tue, 22 May 2012 22:28:17 +0100"  >&lt;p&gt;I think what &quot;clear&quot; does should be clearing the script cache. I feel wired if it only prints out a bunch of new lines. Thoughts?&lt;/p&gt;</comment>
                            <comment id="13281474" author="prkommireddi" created="Wed, 23 May 2012 10:21:30 +0100"  >&lt;p&gt;I agree, printing new lines is not right. However, would clearing the script cache clear out the history? The goal here should be just so that its easy for users to clear out the text (pig statements) on their terminal, and be able to start fresh from the top of the terminal (just as with &quot;clear&quot; command on unix shell).&lt;/p&gt;</comment>
                            <comment id="13281730" author="xalan" created="Wed, 23 May 2012 18:11:28 +0100"  >&lt;p&gt;I found that on this way it is possible to clear and to set the cursor to 0,0 (like Unix shell). There is just one problem, it works only on a terminal.&lt;br/&gt;
I have to look for a way to make it works on Eclipse console.&lt;/p&gt;</comment>
                            <comment id="13284806" author="azaroth" created="Tue, 29 May 2012 14:28:55 +0100"  >&lt;p&gt;I think we can be happy with terminal only, especially if this is the ANSI standard way of clearing the console.&lt;/p&gt;

&lt;p&gt;If the rest of the community agrees I would commit it once tests pass.&lt;/p&gt;</comment>
                            <comment id="13284934" author="prkommireddi" created="Tue, 29 May 2012 18:10:11 +0100"  >&lt;p&gt;Agree with you Gianmarco. I still need to test the patch, will report back once I am done with that.&lt;/p&gt;

&lt;p&gt;Thanks Allan again for the work.&lt;/p&gt;</comment>
                            <comment id="13285438" author="prkommireddi" created="Wed, 30 May 2012 07:56:45 +0100"  >&lt;p&gt;Hi Allan, patch looks good for the most part. Just a couple of minor things&lt;/p&gt;

&lt;p&gt;1. There seem to be a few extra newlines in printClear()&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    @Override
	&lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; void printClear() {
    	
    	&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.print(((&lt;span class=&quot;code-object&quot;&gt;char&lt;/span&gt;) 27)+&lt;span class=&quot;code-quote&quot;&gt;&quot;[2J&quot;&lt;/span&gt;);
    	&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.print(((&lt;span class=&quot;code-object&quot;&gt;char&lt;/span&gt;) 27)+&lt;span class=&quot;code-quote&quot;&gt;&quot;[;H&quot;&lt;/span&gt;);
    	
	}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;2. Same at the end of GruntParser.java&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
     &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; mNumSucceededJobs;
     &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; FsShell shell;
     &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; mScriptIllustrate;
-    
+
+       
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="13285447" author="xalan" created="Wed, 30 May 2012 08:10:26 +0100"  >&lt;p&gt;Thanks for the review. Minor changes done.&lt;/p&gt;</comment>
                            <comment id="13285450" author="prkommireddi" created="Wed, 30 May 2012 08:14:10 +0100"  >&lt;p&gt;A minor one again, indentation is off a bit with the method declaration (needs to shift left).&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
     @Override
+	&lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; void printClear() {
+    	&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.print(((&lt;span class=&quot;code-object&quot;&gt;char&lt;/span&gt;) 27)+&lt;span class=&quot;code-quote&quot;&gt;&quot;[2J&quot;&lt;/span&gt;);
+    	&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.print(((&lt;span class=&quot;code-object&quot;&gt;char&lt;/span&gt;) 27)+&lt;span class=&quot;code-quote&quot;&gt;&quot;[;H&quot;&lt;/span&gt;);
+    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13285922" author="daijy" created="Wed, 30 May 2012 20:06:08 +0100"  >&lt;p&gt;Can we also find a way for Windows? &lt;/p&gt;</comment>
                            <comment id="13414034" author="prkommireddi" created="Fri, 13 Jul 2012 21:44:35 +0100"  >&lt;p&gt;Allan, were you planning to continue working on this?&lt;/p&gt;</comment>
                            <comment id="13414420" author="xalan" created="Sat, 14 Jul 2012 15:20:41 +0100"  >&lt;p&gt;Really sorry for the delay, I was focused on GSOC implementation.&lt;/p&gt;

&lt;p&gt;While looking for an option on Windows, I found that Java doesn&apos;t provide a way to control the prompt. But, there exists a library: Jansi, which provides a simple way to clear the prompt/terminal. I tested on Windows and Mac, on a different project, and works properly.&lt;br/&gt;
Now, I have some problems on integrating the library while generating the pig.jar. How could I deal with it?&lt;/p&gt;</comment>
                            <comment id="13414421" author="xalan" created="Sat, 14 Jul 2012 15:21:15 +0100"  >&lt;p&gt;I forgot to add the url of Jansi: &lt;a href=&quot;http://jansi.fusesource.org/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://jansi.fusesource.org/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13414445" author="azaroth" created="Sat, 14 Jul 2012 17:53:35 +0100"  >&lt;p&gt;To use a library in Pig you need to create a new dependency in ivy.xml.&lt;br/&gt;
It should go something like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;dependency org=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.fusesource.jansi&quot;&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;jansi&quot;&lt;/span&gt; rev=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.9&quot;&lt;/span&gt; conf=&lt;span class=&quot;code-quote&quot;&gt;&quot;compile-&amp;gt;master&quot;&lt;/span&gt;/&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13414530" author="xalan" created="Sat, 14 Jul 2012 23:27:05 +0100"  >&lt;p&gt;As usual, thanks Gianmarco for the hint! &lt;/p&gt;

&lt;p&gt;I tested the code against Windows 7, Xubuntu and OSX Lion 10.7, and works properly. I attached the patch for your comments. &lt;/p&gt;</comment>
                            <comment id="13416079" author="azaroth" created="Tue, 17 Jul 2012 11:56:08 +0100"  >&lt;p&gt;Patch looks good.&lt;br/&gt;
A couple of minor things:&lt;/p&gt;

&lt;p&gt;We use spaces not tabs, can you regenerate the patch with proper formatting?&lt;br/&gt;
&lt;a href=&quot;https://cwiki.apache.org/confluence/display/PIG/HowToContribute#HowToContribute-MakingChanges&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/PIG/HowToContribute#HowToContribute-MakingChanges&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Do we need to separate the cases Windows/non-Windows in GruntParser.java? Isn&apos;t Jansi cross platform?&lt;/p&gt;

&lt;p&gt;I tested it manually and it works fine. I guess it is very hard to test it automatically so we can do without tests.&lt;/p&gt;</comment>
                            <comment id="13417072" author="xalan" created="Wed, 18 Jul 2012 14:27:29 +0100"  >&lt;p&gt;code formatted and cleaning prompt is done within Jansi&lt;/p&gt;</comment>
                            <comment id="13418317" author="azaroth" created="Thu, 19 Jul 2012 15:21:09 +0100"  >&lt;p&gt;+1 minus a small change:&lt;br/&gt;
I could not see the need of adding a resolver to ivy as jansi is already in maven2.&lt;br/&gt;
I removed the added resolver and the patch still works fine.&lt;/p&gt;

&lt;p&gt;Thanks for you contribution, Allan!&lt;/p&gt;</comment>
                            <comment id="13418319" author="azaroth" created="Thu, 19 Jul 2012 15:21:45 +0100"  >&lt;p&gt;The final patch I committed.&lt;/p&gt;</comment>
                            <comment id="13426818" author="prkommireddi" created="Wed, 1 Aug 2012 19:55:55 +0100"  >&lt;p&gt;Thanks Allan for the contribution.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12528363" name="PIG-2706" size="2102" author="xalan" created="Mon, 21 May 2012 00:17:26 +0100"/>
                            <attachment id="12528754" name="PIG-2706-2" size="2141" author="xalan" created="Wed, 23 May 2012 18:11:28 +0100"/>
                            <attachment id="12530170" name="PIG-2706-3" size="1990" author="xalan" created="Wed, 30 May 2012 08:10:26 +0100"/>
                            <attachment id="12536520" name="PIG-2706-4" size="6384" author="xalan" created="Sat, 14 Jul 2012 23:27:45 +0100"/>
                            <attachment id="12536984" name="PIG-2706-5" size="8230" author="xalan" created="Wed, 18 Jul 2012 14:27:29 +0100"/>
                            <attachment id="12537177" name="PIG-2706-6.patch" size="7979" author="azaroth" created="Thu, 19 Jul 2012 15:21:45 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 20 May 2012 23:17:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>256359</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyaz1z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>97990</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>