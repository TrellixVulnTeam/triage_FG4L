<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:59:14 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-2547/PIG-2547.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-2547] Easier UDFs: Convenient EvalFunc super-classes</title>
                <link>https://issues.apache.org/jira/browse/PIG-2547</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;We&apos;ve got a few abstract extensions of EvalFunc that make life easier. If people are interested we can push said classes into Pig.&lt;/p&gt;

&lt;p&gt;There are 3 classes, each extending the next. Class naming is all TBD.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;tt&gt;TypedOutputEvalFunc&amp;lt;OUT&amp;gt;&lt;/tt&gt; - Implements &lt;tt&gt;public Schema outputSchema(Schema input)&lt;/tt&gt; based on the generic type of the subclass. Provides common helper validation functions which increment counters for good and bad Tuple data passed. Useful where the input to be worked on is a tuple of size N or greater.&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;PrimitiveEvalFunc&amp;lt;IN, OUT&amp;gt;&lt;/tt&gt; - Same as above with helper validation allowing the ability it subclass and just implement &lt;tt&gt;public OUT exec(IN input)&lt;/tt&gt;, where IN and OUT are primitives. Useful when the input is a single primitive in position 0 of a tuple.&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;FunctionWrapperEvalFunc&lt;/tt&gt; - Wraps a Guava Function implementation (&lt;a href=&quot;http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/base/Function.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/base/Function.html&lt;/a&gt;) and allows UDFs to be used in Pig scripts like so, where &lt;tt&gt;MyFunction&lt;/tt&gt; is a class that implements &lt;tt&gt;Function&lt;/tt&gt;:&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;DEFINE myUdf org.apache.pig.FunctionWrapperEvalFunc(&apos;MyFunction&apos;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

</description>
                <environment></environment>
        <key id="12543584">PIG-2547</key>
            <summary>Easier UDFs: Convenient EvalFunc super-classes</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="billgraham">Bill Graham</assignee>
                                    <reporter username="billgraham">Bill Graham</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Feb 2012 23:02:36 +0000</created>
                <updated>Fri, 22 Feb 2013 04:54:03 +0000</updated>
                            <resolved>Sat, 12 May 2012 02:46:22 +0100</resolved>
                                                    <fixVersion>0.11</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13213146" author="dvryaboy" created="Wed, 22 Feb 2012 00:31:26 +0000"  >&lt;p&gt;This is kind of a group contrib &amp;#8211; Jimmy Lin, Self, Bill Graham, possibly even some Kevin Weil code in there.&lt;/p&gt;

&lt;p&gt;Can non-Twitter check this out and comment? We&apos;ve found this structure quite useful for making our UDFs light-weight. Abstracting common processing functionality into guava Functions lets us share business logic between multiple systems, instead of embedding it inside UDFs. We think it&apos;s pretty neat &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;</comment>
                            <comment id="13213163" author="billgraham" created="Wed, 22 Feb 2012 01:02:50 +0000"  >&lt;p&gt;No uploaded patch yet to look at, still in the process of refactoring.&lt;/p&gt;</comment>
                            <comment id="13214194" author="billgraham" created="Thu, 23 Feb 2012 01:55:51 +0000"  >&lt;p&gt;Here&apos;s a first pass at a patch. It includes a number of new files:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;src/org/apache/pig/ExceptionalFunction.java
src/org/apache/pig/Function.java
src/org/apache/pig/FunctionWrapperEvalFunc.java
src/org/apache/pig/PrimitiveEvalFunc.java
src/org/apache/pig/TypedOutputEvalFunc.java
test/org/apache/pig/TestFunctionWrapperEvalFunc.java
test/org/apache/pig/TestPrimitiveEvalFunc.java
test/org/apache/pig/TestTypedOutputEvalFunc.java
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The new Pig &lt;tt&gt;Function&lt;/tt&gt; interface was added as a common subinterface to Googles &lt;tt&gt;Function&lt;/tt&gt; and a new Pig &lt;tt&gt;ExceptionalFunction&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;I went through some pains to support all three interfaces in &lt;tt&gt;FunctionWrapperEvalFunc&lt;/tt&gt;. (Dmitriy, this is different than our impl, which doesn&apos;t include support for Google&apos;s &lt;tt&gt;Function&lt;/tt&gt;.)&lt;/p&gt;

&lt;p&gt;Please take a look and let me know what you think.&lt;/p&gt;</comment>
                            <comment id="13217411" author="billgraham" created="Mon, 27 Feb 2012 19:17:48 +0000"  >&lt;p&gt;Attaching a 2nd patch, please disregard the 1st.&lt;/p&gt;</comment>
                            <comment id="13257649" author="dvryaboy" created="Thu, 19 Apr 2012 19:10:51 +0100"  >&lt;p&gt;Bumping for review&lt;/p&gt;</comment>
                            <comment id="13260338" author="daijy" created="Tue, 24 Apr 2012 08:54:41 +0100"  >&lt;p&gt;Looks good, couple of comments:&lt;br/&gt;
1. TypedOutputEvalFunc: Get output schema from generic type is already part of EvalFunc, besides, EvalFunc.outputSchema can also handle annotation now, do we still need TypedOutputEvalFunc.outputSchema?&lt;br/&gt;
2. FunctionWrapperEvalFunc: better to be in builtin package, so that user can omit package name in Pig script. Also, there seems no coverage for wrapping guava function in TestFunctionWrapperEvalFunc, better to have some.&lt;/p&gt;</comment>
                            <comment id="13273657" author="billgraham" created="Fri, 11 May 2012 23:03:53 +0100"  >&lt;p&gt;Thanks Daniel, here&apos;s a 3rd parch with your comments incorporated. Note that there is a Guava Function unit test (see IntegerFloatFunction).&lt;/p&gt;</comment>
                            <comment id="13273673" author="daijy" created="Fri, 11 May 2012 23:27:53 +0100"  >&lt;p&gt;+1, please commit to trunk.&lt;/p&gt;</comment>
                            <comment id="13273790" author="billgraham" created="Sat, 12 May 2012 02:46:22 +0100"  >&lt;p&gt;Committed&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12526579" name="PIG-2547.3.patch" size="33712" author="billgraham" created="Fri, 11 May 2012 23:03:53 +0100"/>
                            <attachment id="12515676" name="PIG_2547.1.patch" size="39065" author="billgraham" created="Thu, 23 Feb 2012 01:55:51 +0000"/>
                            <attachment id="12516197" name="PIG_2547.2.patch" size="33838" author="billgraham" created="Mon, 27 Feb 2012 19:17:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 22 Feb 2012 00:31:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>228823</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyaxqf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>97776</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>New superclasses to make it easier to implement UDFs.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>