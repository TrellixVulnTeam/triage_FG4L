<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:59:04 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-3851/PIG-3851.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-3851] Upgrade jline to 2.11</title>
                <link>https://issues.apache.org/jira/browse/PIG-3851</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;jline has released 2.11 which has good i18n support. Please consider to upgrade jline version to 2.11 in Pig.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12704201">PIG-3851</key>
            <summary>Upgrade jline to 2.11</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png" description="A patch for this issue has been uploaded to JIRA by a contributor.">Patch Available</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="daijy">Daniel Dai</assignee>
                                    <reporter username="wjun">Jun Wang</reporter>
                        <labels>
                    </labels>
                <created>Fri, 28 Mar 2014 08:32:06 +0000</created>
                <updated>Wed, 29 Apr 2015 00:08:06 +0100</updated>
                                                            <fixVersion>0.16.0</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13957181" author="daijy" created="Wed, 2 Apr 2014 01:20:57 +0100"  >&lt;p&gt;Should be straight forward. Do you have a specific use case which works with 2.11 but fail with 1.0?&lt;/p&gt;</comment>
                            <comment id="13964028" author="wjun" created="Wed, 9 Apr 2014 12:21:10 +0100"  >&lt;p&gt;When we integrate pig.jar into our command line tool which is also based on jline, we found this jline conflict(we use jline 2.11, and pig use 0.9.94). Since jline 2.11 has many improvement including i18n support, it would be great for pig.jar to upgrade to 2.11 as well so other tools will not have this version conflict.&lt;/p&gt;</comment>
                            <comment id="13966110" author="daijy" created="Fri, 11 Apr 2014 02:19:26 +0100"  >&lt;p&gt;I did a try, I didn&apos;t see any problem in compiling and running. I am going to check in the upgrade if no objection.&lt;/p&gt;</comment>
                            <comment id="13968773" author="daijy" created="Mon, 14 Apr 2014 21:10:01 +0100"  >&lt;p&gt;Upgraded on trunk.&lt;/p&gt;</comment>
                            <comment id="13978964" author="daijy" created="Wed, 23 Apr 2014 22:55:49 +0100"  >&lt;p&gt;Actually jython-standalone-2.5.3.jar/jruby-complete-1.6.7.jar contains jline classes which will cause conflicts with jline-2.11.jar (manifest by build pig then remove build directory, and run some Pig script in Grunt). Need to revert it until we solve the conflicts.&lt;/p&gt;</comment>
                            <comment id="14163628" author="yash360@gmail.com" created="Wed, 8 Oct 2014 16:39:43 +0100"  >&lt;p&gt;I am facing a similar problem while using Sqlline 1.1.6 with Pig. Sqlline internally uses Jline 2.10 and therefore I am hitting:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;java.lang.IncompatibleClassChangeError: Found class jline.Terminal, but interface was expected&lt;br/&gt;
	at jline.TerminalFactory.create(TerminalFactory.java:101)&lt;br/&gt;
	at jline.TerminalFactory.get(TerminalFactory.java:159)&lt;br/&gt;
	at sqlline.SqlLine$Opts.&amp;lt;init&amp;gt;(SqlLine.java:4930)&lt;br/&gt;
	at sqlline.SqlLine.&amp;lt;init&amp;gt;(SqlLine.java:181)&lt;br/&gt;
	at sqlline.SqlLine.start(SqlLine.java:497)&lt;br/&gt;
	at sqlline.SqlLine.main(SqlLine.java:460)&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="14283410" author="daijy" created="Tue, 20 Jan 2015 05:19:05 +0000"  >&lt;p&gt;Attach patch. Note in some Hadoop version, you may hit &quot;Found class jline.Terminal, but interface was expected&quot;. This is because a conflicting jline.jar in Hadoop. To solve it, using &quot;export HADOOP_USER_CLASSPATH_FIRST=true&quot;. (Hive has the same issue and same solution)&lt;/p&gt;

&lt;p&gt;Before the patch, Pig does not accept utf8 character in Grunt. This patch also fix this issue.&lt;/p&gt;</comment>
                            <comment id="14284557" author="daijy" created="Tue, 20 Jan 2015 22:39:55 +0000"  >&lt;p&gt;Resync with trunk and add test case.&lt;/p&gt;</comment>
                            <comment id="14284631" author="rohini" created="Tue, 20 Jan 2015 23:23:30 +0000"  >&lt;blockquote&gt;&lt;p&gt;Note in some Hadoop version, you may hit &quot;Found class jline.Terminal, but interface was expected&quot;. This is because a conflicting jline.jar in Hadoop. To solve it, using &quot;export HADOOP_USER_CLASSPATH_FIRST=true&quot;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt; Even Hadoop 2.6 still has jline-0.9.94.jar. So wouldn&apos;t changing the default for pig always cause conflict and always require &quot;export HADOOP_USER_CLASSPATH_FIRST=true&quot;?&lt;/p&gt;</comment>
                            <comment id="14286480" author="daijy" created="Wed, 21 Jan 2015 22:57:39 +0000"  >&lt;p&gt;Yes, Hive also have this issue: &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Hive+on+Spark%3A+Getting+Started&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/Hive+on+Spark%3A+Getting+Started&lt;/a&gt;. Hive upgrade to jline 2.11 anyway.&lt;/p&gt;</comment>
                            <comment id="14367424" author="daijy" created="Wed, 18 Mar 2015 16:36:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/YARN-3338&quot; title=&quot;Exclude jline dependency from YARN&quot; class=&quot;issue-link&quot; data-issue-key=&quot;YARN-3338&quot;&gt;&lt;del&gt;YARN-3338&lt;/del&gt;&lt;/a&gt; exclude jline from Hadoop distribution in 2.7&lt;/p&gt;</comment>
                            <comment id="14486879" author="kaveenbigdata" created="Thu, 9 Apr 2015 08:17:08 +0100"  >&lt;p&gt;After Upgrading Pig-.14.0 to Jline-2.11. &lt;br/&gt;
I got the ISSUE while using char &lt;b&gt;&apos;!&apos;&lt;/b&gt; (not symbol)&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;java.lang.IllegalArgumentException:&lt;font color=&quot;red&quot;&gt; != &apos;10&apos;;:&lt;/font&gt; event not found&lt;br/&gt;
	at jline.console.ConsoleReader.expandEvents(ConsoleReader.java:779)&lt;br/&gt;
	at jline.console.ConsoleReader.finishBuffer(ConsoleReader.java:631)&lt;br/&gt;
	at jline.console.ConsoleReader.accept(ConsoleReader.java:2019)&lt;br/&gt;
	at jline.console.ConsoleReader.readLine(ConsoleReader.java:2666)&lt;br/&gt;
	at jline.console.ConsoleReader.readLine(ConsoleReader.java:2269)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Jline ConsoleReader is initialized with &apos;expandEvents&apos;. It fixes the issue for me, giving it a try to see if it breaks anything else in Main.java tests.&lt;br/&gt;
This is also mentioned in a Jline issue: &lt;a href=&quot;https://github.com/jline/jline2/issues/96&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/jline/jline2/issues/96&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14486889" author="kaveenbigdata" created="Thu, 9 Apr 2015 08:23:46 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3851&quot; title=&quot;Upgrade jline to 2.11&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3851&quot;&gt;PIG-3851&lt;/a&gt;-3.patch is applied for &lt;b&gt;java.lang.IllegalArgumentException: != &apos;10&apos;;: event not found&lt;/b&gt;&lt;br/&gt;
Jline ConsoleReader is initialized with &apos;expandEvents&apos;. It fixes the issue for me, giving it a try to see if it breaks anything else in Main.java tests.&lt;br/&gt;
This is also mentioned in a Jline issue: &lt;a href=&quot;https://github.com/jline/jline2/issues/96&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/jline/jline2/issues/96&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12781410">YARN-3338</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12693218" name="PIG-3851-1.patch" size="12426" author="daijy" created="Tue, 20 Jan 2015 05:19:05 +0000"/>
                            <attachment id="12693418" name="PIG-3851-2.patch" size="13133" author="daijy" created="Tue, 20 Jan 2015 22:39:55 +0000"/>
                            <attachment id="12724172" name="PIG-3851-3.patch" size="13181" author="KaveenBigdata" created="Thu, 9 Apr 2015 08:23:46 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 2 Apr 2014 00:20:57 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382535</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hznrav:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382803</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>