<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:58:44 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-3100/PIG-3100.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-3100] If a .pig_schema file is present, can get an index out of bounds error</title>
                <link>https://issues.apache.org/jira/browse/PIG-3100</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;In the case that a .pig_schema file is present, if you have a record with fewer than expected fields, pig errors out with an index out of bounds exception that is annoying, unnecessary, and unhelpful.&lt;/p&gt;

&lt;p&gt;Instead of improving logging, I decided to just do what pig should do, which is fill in the records.&lt;/p&gt;

&lt;p&gt;Patch will include a test and the fix.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12624683">PIG-3100</key>
            <summary>If a .pig_schema file is present, can get an index out of bounds error</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jcoveney">Jonathan Coveney</assignee>
                                    <reporter username="jcoveney">Jonathan Coveney</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Dec 2012 19:04:47 +0000</created>
                <updated>Mon, 14 Oct 2013 17:46:04 +0100</updated>
                            <resolved>Thu, 20 Dec 2012 18:51:31 +0000</resolved>
                                                    <fixVersion>0.12.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13536317" author="jcoveney" created="Wed, 19 Dec 2012 19:07:09 +0000"  >&lt;p&gt;Here is the patch with test and fix.&lt;/p&gt;</comment>
                            <comment id="13537142" author="rohini" created="Thu, 20 Dec 2012 16:42:41 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13537256" author="jcoveney" created="Thu, 20 Dec 2012 18:51:31 +0000"  >&lt;p&gt;Committed. Thanks Rohini!&lt;/p&gt;</comment>
                            <comment id="13537287" author="knoguchi" created="Thu, 20 Dec 2012 19:21:59 +0000"  >&lt;p&gt;I should have commented on &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3056&quot; title=&quot;CLONE - PigStorageSchema need to deal with missing field&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3056&quot;&gt;&lt;del&gt;PIG-3056&lt;/del&gt;&lt;/a&gt;, but when our users hit this issue, those affected records tend to contain a record-separator as part of the data by mistake. And that resulted in a single record separated into two incomplete ones.&lt;/p&gt;

&lt;p&gt;For that case, I wasn&apos;t sure if we wanted to fill the incomplete records with null or have an option like &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3059&quot; title=&quot;Global configurable minimum &amp;#39;bad record&amp;#39; thresholds&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3059&quot;&gt;PIG-3059&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13537290" author="jcoveney" created="Thu, 20 Dec 2012 19:25:49 +0000"  >&lt;p&gt;Hah, I didn&apos;t see that ticket. Whoops!&lt;/p&gt;

&lt;p&gt;I think it is risky to be too clever about trying to figure out  delimiters and whatnot, but I can see why we might want to be. Hmm. Perhaps there can be a flag or setting for PigStorage that is a &quot;strict&quot; mode. IE throw an error if a record does not conform to the schema. If it&apos;s not see, pad nulls (or cut off extra columns). I think that might be a good compromise?&lt;/p&gt;</comment>
                            <comment id="13537302" author="knoguchi" created="Thu, 20 Dec 2012 19:40:54 +0000"  >&lt;blockquote&gt;&lt;p&gt;Perhaps there can be a flag or setting for PigStorage that is a &quot;strict&quot; mode&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;That sounds like a nice feature to have.  Come to think of it, problem of delimiters are not unique to this .pig_schema file loading. &lt;/p&gt;</comment>
                            <comment id="13537325" author="jcoveney" created="Thu, 20 Dec 2012 20:00:33 +0000"  >&lt;p&gt;Want to make a ticket for it and link it to this one for the discussion?&lt;/p&gt;</comment>
                            <comment id="13537348" author="knoguchi" created="Thu, 20 Dec 2012 20:20:40 +0000"  >&lt;blockquote&gt;&lt;p&gt;Want to make a ticket for it and link it to this one for the discussion?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sure. Created &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3102&quot; title=&quot;Option for PigStorage load to error out when input record is incomplete (instead of filling in null)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3102&quot;&gt;PIG-3102&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12616781">PIG-3056</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12624888">PIG-3102</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12561767" name="PIG-3100-0.patch" size="42816" author="jcoveney" created="Wed, 19 Dec 2012 19:07:09 +0000"/>
                            <attachment id="12561766" name="PIG-3100-0_nows.patch" size="5114" author="jcoveney" created="Wed, 19 Dec 2012 19:07:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 20 Dec 2012 16:42:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>300537</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hz0ab3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>245677</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>