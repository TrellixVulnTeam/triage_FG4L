<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:00:22 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-3117/PIG-3117.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-3117] A debug mode in which pig does not delete temporary files</title>
                <link>https://issues.apache.org/jira/browse/PIG-3117</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;when we debug our pig jobs on pre-production data, we usually find bugs we couldn&apos;t detect in our UT, as env and data are not quite the same.&lt;/p&gt;

&lt;p&gt;when the final output of a script is not quite what we expect, we start divide-and-conquer, running it line by line and inspecting the intermediate output of each stage. &lt;/p&gt;

&lt;p&gt;It would be great if we could simply configure pig not to delete the intermediate MR outputs, and store them as plaintext instead of snappy format.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12626350">PIG-3117</key>
            <summary>A debug mode in which pig does not delete temporary files</summary>
                <type id="5" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Wish</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ihadanny">Ido Hadanny</assignee>
                                    <reporter username="ihadanny">Ido Hadanny</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Jan 2013 13:43:35 +0000</created>
                <updated>Mon, 7 Jul 2014 19:08:00 +0100</updated>
                            <resolved>Sat, 19 Oct 2013 05:50:52 +0100</resolved>
                                    <version>0.10.0</version>
                    <version>0.11.1</version>
                                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>2</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13547519" author="daijy" created="Wed, 9 Jan 2013 01:40:33 +0000"  >&lt;p&gt;Pig intermediate file is not snappy. By default it is InterStorage. For your request:&lt;br/&gt;
1. It should be fairly easy to retain temp files, just don&apos;t call FileLocalizer.deleteTempFiles() in Main&lt;br/&gt;
2. To retain plain text, you may need to change Utils.getTmpFileCompressorName, not sure if that&apos;s enough. Another approach is to write a decoder which invoke InterStorage to decode the tmp files&lt;/p&gt;</comment>
                            <comment id="13623426" author="ihadanny" created="Fri, 5 Apr 2013 08:15:33 +0100"  >&lt;p&gt;If someone&apos;s taking this, it would also be great if the temp file names would be human-readable, e.g. they should contain the name of the last logic pig alias included in this MR step (or all pig aliases contained in this MR step). &lt;br/&gt;
Something that resembles the &quot;alias&quot; column printed in the report pig emits after the execution is complete.&lt;/p&gt;</comment>
                            <comment id="13746047" author="ihadanny" created="Wed, 21 Aug 2013 14:51:03 +0100"  >&lt;p&gt;patch introduces pig.delete.intermediate.files property that keeps all intermediate files when set to false&lt;/p&gt;</comment>
                            <comment id="13746048" author="ihadanny" created="Wed, 21 Aug 2013 14:51:52 +0100"  >&lt;p&gt;patch introduces pig.delete.intermediate.files property that keeps all intermediate files when set to false&lt;/p&gt;</comment>
                            <comment id="13753136" author="daijy" created="Thu, 29 Aug 2013 01:59:10 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ihadanny&quot; class=&quot;user-hover&quot; rel=&quot;ihadanny&quot;&gt;Ido Hadanny&lt;/a&gt;, the patch is empty.&lt;/p&gt;</comment>
                            <comment id="13757045" author="cheolsoo" created="Tue, 3 Sep 2013 21:41:32 +0100"  >&lt;p&gt;Canceling the patch since it&apos;s empty. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ihadanny&quot; class=&quot;user-hover&quot; rel=&quot;ihadanny&quot;&gt;Ido Hadanny&lt;/a&gt;, Please upload a patch again.&lt;/p&gt;</comment>
                            <comment id="13774001" author="ihadanny" created="Sun, 22 Sep 2013 12:36:31 +0100"  >&lt;p&gt;resubmitting, this time with contents :0&lt;/p&gt;</comment>
                            <comment id="13797170" author="cheolsoo" created="Wed, 16 Oct 2013 20:38:27 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ihadanny&quot; class=&quot;user-hover&quot; rel=&quot;ihadanny&quot;&gt;Ido Hadanny&lt;/a&gt;, sorry for the late review. It looks good to me.&lt;/p&gt;

&lt;p&gt;I made some minor changes to your patch as follows:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Added a static variable for the new property name to PigConfiguration.&lt;/li&gt;
	&lt;li&gt;Moved the documentation from src/pig-default.properties to conf/pig.properties.&lt;/li&gt;
	&lt;li&gt;Simplified the unit test.&lt;/li&gt;
	&lt;li&gt;Replaced tabs with 4 blank spaces.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;If this looks good to you, I will commit it (&lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3117&quot; title=&quot;A debug mode in which pig does not delete temporary files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3117&quot;&gt;&lt;del&gt;PIG-3117&lt;/del&gt;&lt;/a&gt;-1.patch). Let me know!&lt;/p&gt;</comment>
                            <comment id="13797990" author="ihadanny" created="Thu, 17 Oct 2013 16:18:11 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cheolsoo&quot; class=&quot;user-hover&quot; rel=&quot;cheolsoo&quot;&gt;Cheolsoo Park&lt;/a&gt; - thanks, looks great. &lt;br/&gt;
One question: for TestRemoveIntermediateResults.tearDown you used the Before annotation, maybe you meant &quot;After&quot; (Or instead of tearDown you meant to use setUp)?&lt;/p&gt;
</comment>
                            <comment id="13798088" author="cheolsoo" created="Thu, 17 Oct 2013 17:59:07 +0100"  >&lt;p&gt;You&apos;re absolutely right. It should be after. I meant to delete tmp files after each test case by calling PigServer.shutdown although before happened to have the same effect in this case. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Thank you for pointing it out. Uploaded a new patch.&lt;/p&gt;</comment>
                            <comment id="13798090" author="cheolsoo" created="Thu, 17 Oct 2013 17:59:49 +0100"  >&lt;p&gt;Given Ido&apos;s comments, I will commit this patch. Please let me know anyone has concerns.&lt;/p&gt;</comment>
                            <comment id="13798815" author="aniket486" created="Fri, 18 Oct 2013 06:44:41 +0100"  >&lt;p&gt;Does this mean that files will be saved in InterStorage format?&lt;/p&gt;</comment>
                            <comment id="13799039" author="ihadanny" created="Fri, 18 Oct 2013 12:42:42 +0100"  >&lt;p&gt;Yes, as usual. It&apos;s easy for the user to read them using InterStorage. Do&lt;br/&gt;
you see that as a problem?&lt;/p&gt;






&lt;p&gt;&amp;#8211; &lt;br/&gt;
Sent from my androido&lt;/p&gt;</comment>
                            <comment id="13799766" author="aniket486" created="Sat, 19 Oct 2013 04:47:06 +0100"  >&lt;p&gt;Nope. I was curious if we plan to make it store in plain text.&lt;/p&gt;</comment>
                            <comment id="13799772" author="cheolsoo" created="Sat, 19 Oct 2013 05:01:51 +0100"  >&lt;p&gt;Cool. I will go ahead commit the patch then. Thank you Aniket for taking a look!&lt;/p&gt;</comment>
                            <comment id="13799782" author="cheolsoo" created="Sat, 19 Oct 2013 05:50:52 +0100"  >&lt;p&gt;Committed to trunk. Thank you Ido for the contribution!&lt;/p&gt;

&lt;p&gt;Note that I didn&apos;t commit the test case because I didn&apos;t want to add a 3 minute long unit test given that unit tests already run too long. However, I think we should add a test case to the e2e test suite. I will file a jira to create an e2e test case for this.&lt;/p&gt;</comment>
                            <comment id="13799783" author="cheolsoo" created="Sat, 19 Oct 2013 05:55:53 +0100"  >&lt;p&gt;Filed &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-3528&quot; title=&quot;Add e2e test for PIG-3117&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-3528&quot;&gt;PIG-3528&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12686086">PIG-3640</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12674638">PIG-3528</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12608785" name="PIG-3117-1.patch" size="6629" author="cheolsoo" created="Wed, 16 Oct 2013 20:38:27 +0100"/>
                            <attachment id="12608967" name="PIG-3117-2.patch" size="6569" author="cheolsoo" created="Thu, 17 Oct 2013 17:59:07 +0100"/>
                            <attachment id="12604428" name="remove_intermediate_results.diff" size="6078" author="ihadanny" created="Sun, 22 Sep 2013 12:52:17 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 9 Jan 2013 01:40:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302940</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hz119z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>250049</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>