<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:10:21 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-2477/PIG-2477.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-2477] TestBuiltin testLFText/testSFPig failing against 23 due to invalid test setup -- InvalidInputException</title>
                <link>https://issues.apache.org/jira/browse/PIG-2477</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;I see the following exception when running against hadoop 23: (all test-commit tests pass except for these two)&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.mapreduce.lib.input.InvalidInputException: Input path does not exist: file:/var/lib/hudson/workspace/CDH4-Pig-0.9.2-test-commit/testSFPig-output.txt
	at org.apache.hadoop.mapreduce.lib.input.FileInputFormat.listStatus(FileInputFormat.java:243)
	at org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigTextInputFormat.listStatus(PigTextInputFormat.java:36)
	at org.apache.hadoop.mapreduce.lib.input.FileInputFormat.getSplits(FileInputFormat.java:269)
	at org.apache.pig.impl.io.ReadToEndLoader.init(ReadToEndLoader.java:154)
	at org.apache.pig.impl.io.ReadToEndLoader.&amp;lt;init&amp;gt;(ReadToEndLoader.java:116)
	at org.apache.pig.test.TestBuiltin.testSFPig(TestBuiltin.java:2177)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This happens in both testLFText/testSFPig.&lt;/p&gt;

&lt;p&gt;Looking at these two tests it seems that toConfiguration is being called improperly, I have a patch (momentarily) that will address this similar to:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;-                toConfiguration(new Properties()), &quot;testLFTest-input1.txt&quot;, 0);
+            toConfiguration(cluster.getProperties()), &quot;testLFTest-input1.txt&quot;, 0);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;ubuntu, hadoop23&lt;/p&gt;</environment>
        <key id="12538692">PIG-2477</key>
            <summary>TestBuiltin testLFText/testSFPig failing against 23 due to invalid test setup -- InvalidInputException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="phunt">Patrick Hunt</assignee>
                                    <reporter username="phunt">Patrick Hunt</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Jan 2012 20:07:31 +0000</created>
                <updated>Mon, 23 Jan 2012 07:31:24 +0000</updated>
                            <resolved>Wed, 18 Jan 2012 00:15:08 +0000</resolved>
                                    <version>0.9.2</version>
                                    <fixVersion>0.9.2</fixVersion>
                    <fixVersion>0.10.0</fixVersion>
                    <fixVersion>0.11</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13187961" author="phunt" created="Tue, 17 Jan 2012 20:10:39 +0000"  >&lt;p&gt;This patch fixes the issue in my environment.&lt;/p&gt;</comment>
                            <comment id="13187997" author="daijy" created="Tue, 17 Jan 2012 21:02:14 +0000"  >&lt;p&gt;Thanks, I will commit the patch to 0.9 branch.&lt;/p&gt;</comment>
                            <comment id="13188057" author="azaroth" created="Tue, 17 Jan 2012 22:02:27 +0000"  >&lt;p&gt;I see similar problems in trunk, I think we need to apply the patch also there.&lt;/p&gt;</comment>
                            <comment id="13188071" author="dvryaboy" created="Tue, 17 Jan 2012 22:18:29 +0000"  >&lt;p&gt;I just had a different patch of mine get the exact opposite treatment from Daniel because tests were failing when doing cluster.getProperties().&lt;/p&gt;

&lt;p&gt;Daniel, how does one determine when to use which method?&lt;/p&gt;</comment>
                            <comment id="13188083" author="daijy" created="Tue, 17 Jan 2012 22:38:07 +0000"  >&lt;p&gt;Hi, Dmitriy,&lt;br/&gt;
The affected tests seems still test against MiniCluster, right? Then we should use cluster.getProperties() in this case. Sorry I miss it when I review the patch.&lt;/p&gt;</comment>
                            <comment id="13188088" author="dvryaboy" created="Tue, 17 Jan 2012 22:44:32 +0000"  >&lt;p&gt;My mistake. The change I had in mind was replacing System.getProperties() with &quot;new Properties()&quot;, not cluster.getProperties() (in &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2448&quot; title=&quot;Convert more tests to use LOCAL mode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2448&quot;&gt;&lt;del&gt;PIG-2448&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13188146" author="daijy" created="Wed, 18 Jan 2012 00:15:08 +0000"  >&lt;p&gt;Patch committed to 0.9/0.10/trunk. Thanks Patrick!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12510889" name="PIG-2477.patch" size="1792" author="phunt" created="Tue, 17 Jan 2012 20:10:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 17 Jan 2012 21:02:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>224195</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyaxfb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>97726</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>