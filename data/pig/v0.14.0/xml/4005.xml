<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:08:14 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-4005/PIG-4005.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-4005] depend on hbase-hadoop2-compat rather than hbase-hadoop1-compat when hbaseversion is 95</title>
                <link>https://issues.apache.org/jira/browse/PIG-4005</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;If users set hbaseversion to 95, shall we use hbase-hadoop2-compat instead of hbase-hadoop1-compat?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12720363">PIG-4005</key>
            <summary>depend on hbase-hadoop2-compat rather than hbase-hadoop1-compat when hbaseversion is 95</summary>
                <type id="5" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Wish</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="daijy">Daniel Dai</assignee>
                                    <reporter username="in-chief">Xiaoshuang LU</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Jun 2014 16:18:52 +0100</created>
                <updated>Mon, 7 Jul 2014 19:07:51 +0100</updated>
                            <resolved>Mon, 23 Jun 2014 22:10:11 +0100</resolved>
                                    <version>0.12.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                    <fixVersion>0.14.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="14026575" author="jarcec" created="Tue, 10 Jun 2014 16:28:04 +0100"  >&lt;p&gt;That depends on Hadoop version that you&apos;re using and not on HBase version. If you&apos;re using Hadoop 1.x, then you should use &lt;tt&gt;hbase-hadoop1-compat&lt;/tt&gt;, if you&apos;re using Hadoop 2.x then you should use &lt;tt&gt;hbase-hadoop2-compat&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="14027524" author="in-chief" created="Wed, 11 Jun 2014 08:54:06 +0100"  >&lt;p&gt;Thanks Jarek. `hbase-hadoop1-compat&apos; and `hbase-hadoop2-compat&apos; have the same functionality and interface, right?&lt;/p&gt;</comment>
                            <comment id="14036948" author="daijy" created="Thu, 19 Jun 2014 05:37:05 +0100"  >&lt;p&gt;Attach patch. Also change default hbaseversion to 95 since it has been out for a while, and it works with both hadoop 1 &amp;amp; 2 which will make Pig&apos;s life easier. With this change, I enabled TestHBaseStorage when hadoopversion=23, but note if hbaseversion=94 and hadoopversion=23, the test will fail. In the future, we can hardcode hbaseversion to 95 and simplify the build.xml.&lt;/p&gt;</comment>
                            <comment id="14041195" author="rohini" created="Mon, 23 Jun 2014 20:49:05 +0100"  >&lt;p&gt;Two minor comments:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Can we rename hbase95.hadoop.version to hbase.hadoop.version? I guess it can be common even if another version like hbase98 is added to the mix.&lt;/li&gt;
	&lt;li&gt;+hbase95.version=0.96.0-$
{hbase95.hadoop.version}
&lt;p&gt; - It is confusing to call it hbase95.version when it is hbase96. Can we rename references of hbase95 to hbase96?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14041214" author="daijy" created="Mon, 23 Jun 2014 21:01:36 +0100"  >&lt;p&gt;Actually I want to remove the hbaseversion in future release and stick with hbaseversion=95 layout. Maintaining both hbase layout is costly. &quot;hbase95.hadoop.version&quot; is temporary, I am opening to rename it to &quot;hbase.hadoop.version&quot; but that&apos;s also confusing since this flag only works with hbaseversion=95 layout.&lt;/p&gt;

&lt;p&gt;I can change hbase95.version to hbase96.version, again, that is still confusing since user will use -Dhbaseversion=95 to compile.&lt;/p&gt;</comment>
                            <comment id="14041222" author="rohini" created="Mon, 23 Jun 2014 21:06:25 +0100"  >&lt;p&gt;Ok. I guess it is ok to leave hbase95.version as it was that way before. We should rename hbase.hadoop.version though. We will soon be adding hbase98 and does not make sense to add hbase98.hadoop.version then. &lt;/p&gt;</comment>
                            <comment id="14041237" author="daijy" created="Mon, 23 Jun 2014 21:14:54 +0100"  >&lt;p&gt;Addressing Rohini&apos;s review comments.&lt;/p&gt;</comment>
                            <comment id="14041242" author="rohini" created="Mon, 23 Jun 2014 21:17:04 +0100"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14041319" author="daijy" created="Mon, 23 Jun 2014 22:10:11 +0100"  >&lt;p&gt;Patch committed to both 0.13 branch and trunk. Thanks Rohini for review!&lt;/p&gt;</comment>
                            <comment id="14042611" author="rohini" created="Tue, 24 Jun 2014 21:13:36 +0100"  >&lt;p&gt;Test fails with class org.apache.hadoop.hbase.protobuf.generated.FSProtos$HBaseVersionFileContent overrides final method getUnknownFields.()Lcom/google/protobuf/UnknownFieldSet; in branch-0.13 with hadoopversion=23 as it has protobuf 2.4.  I guess that is ok as we never had TestHBaseStorage running for hadoopversion=23 till now and more testing will be required if we change protobuf version on branch now. &lt;/p&gt;

&lt;p&gt;In trunk I see - Tests run: 26, Failures: 5, Errors: 1, Skipped: 0, Time elapsed: 80.308 sec. Created &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-4037&quot; title=&quot;TestHBaseStorage, TestAccumuloPigCluster has failures with hadoopversion=23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-4037&quot;&gt;&lt;del&gt;PIG-4037&lt;/del&gt;&lt;/a&gt; for that.&lt;/p&gt;</comment>
                            <comment id="14042935" author="daijy" created="Wed, 25 Jun 2014 02:32:13 +0100"  >&lt;p&gt;On trunk, it is still due to mixed mode in TestHBaseStorage. Attach a fix.&lt;/p&gt;

&lt;p&gt;On 0.13 branch, I don&apos;t have a solution unless we upgrade hadoop version, but that seems too late for 0.13.&lt;/p&gt;</comment>
                            <comment id="14045547" author="daijy" created="Fri, 27 Jun 2014 06:29:50 +0100"  >&lt;p&gt;Note on 0.13 branch, TestHBaseStorage is still disabled for Hadoop 2, in that:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;When hbaseversion=94, we don&apos;t have hbase build for Hadoop 2, test fail&lt;/li&gt;
	&lt;li&gt;When hbaseversion=95, test fail due to protobuf version conflict, need to upgrade hadoop from 2.0.3-alpha to 2.4.0, but it is too late for 0.13.0 (we upgrade that on trunk)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12651362" name="PIG-4005-1.patch" size="2625" author="daijy" created="Thu, 19 Jun 2014 05:37:05 +0100"/>
                            <attachment id="12652050" name="PIG-4005-2.patch" size="2589" author="daijy" created="Mon, 23 Jun 2014 21:14:54 +0100"/>
                            <attachment id="12652325" name="PIG-4005-3.patch" size="1063" author="daijy" created="Wed, 25 Jun 2014 02:32:13 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 10 Jun 2014 15:28:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>398562</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzqh1j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>398687</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>