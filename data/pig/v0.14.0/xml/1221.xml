<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 04:55:11 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-1221/PIG-1221.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-1221] Filter equality does not work for tuples</title>
                <link>https://issues.apache.org/jira/browse/PIG-1221</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;From the documentation I understand that it should be possible to  filter a relation based on the equality of tuples. &lt;a href=&quot;http://wiki.apache.org/pig/PigTypesFunctionalSpec&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/pig/PigTypesFunctionalSpec&lt;/a&gt; , &lt;a href=&quot;http://hadoop.apache.org/pig/docs/r0.5.0/piglatin_reference.html#deref:&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoop.apache.org/pig/docs/r0.5.0/piglatin_reference.html#deref:&lt;/a&gt;&lt;/p&gt;

&lt;p&gt; However with this data file&lt;/p&gt;

&lt;p&gt;&amp;#8211; indext.txt:&lt;br/&gt;
(1,one) (1,ONE)&lt;br/&gt;
(2,two) (22, twentytwo)&lt;br/&gt;
(3,three)       (3,three)&lt;/p&gt;

&lt;p&gt;I run this pig script:&lt;br/&gt;
A = LOAD &apos;indext.txt&apos; AS (t1:(a:int, b:chararray), t2:(a:int, b:chararray)); B = FILTER A BY t1==t2; DUMP B;&lt;br/&gt;
Expecting the output:&lt;br/&gt;
((3,three),(3,three))&lt;/p&gt;

&lt;p&gt;However there is an error:&lt;br/&gt;
2010-02-03 09:05:20,523 &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; ERROR org.apache.pig.tools.grunt.Grunt &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;ERROR 2067: EqualToExpr does not know how to handle type: tuple&lt;br/&gt;
&amp;gt; Pig Stack Trace&lt;br/&gt;
&amp;gt; ---------------&lt;br/&gt;
&amp;gt; ERROR 2067: EqualToExpr does not know how to handle type: tuple&lt;br/&gt;
&amp;gt; org.apache.pig.impl.logicalLayer.FrontendException: ERROR 1066:  &lt;br/&gt;
&amp;gt; Unable to&lt;br/&gt;
&amp;gt; open iterator for alias B&lt;br/&gt;
&amp;gt;        at org.apache.pig.PigServer.openIterator(PigServer.java:475)&lt;br/&gt;
&amp;gt;        at&lt;br/&gt;
&amp;gt; org.apache.pig.tools.grunt.GruntParser.processDump(GruntParser.java: &lt;br/&gt;
&amp;gt; 532)&lt;br/&gt;
&amp;gt;        at&lt;br/&gt;
&amp;gt; org&lt;br/&gt;
&amp;gt; .apache&lt;br/&gt;
&amp;gt; .pig.tools.pigscript.parser.PigScriptParser.parse(PigScriptParser.&lt;br/&gt;
&amp;gt; java:190)&lt;br/&gt;
&amp;gt;        at&lt;br/&gt;
&amp;gt; org&lt;br/&gt;
&amp;gt; .apache&lt;br/&gt;
&amp;gt; .pig.tools.grunt.GruntParser.parseStopOnError(GruntParser.java:166&lt;br/&gt;
&amp;gt; )&lt;br/&gt;
&amp;gt;        at&lt;br/&gt;
&amp;gt; org&lt;br/&gt;
&amp;gt; .apache&lt;br/&gt;
&amp;gt; .pig.tools.grunt.GruntParser.parseStopOnError(GruntParser.java:142&lt;br/&gt;
&amp;gt; )&lt;br/&gt;
&amp;gt;        at org.apache.pig.tools.grunt.Grunt.exec(Grunt.java:89)&lt;br/&gt;
&amp;gt;        at org.apache.pig.Main.main(Main.java:397)&lt;br/&gt;
&amp;gt; Caused by: org.apache.pig.impl.logicalLayer.FrontendException: ERROR&lt;br/&gt;
&amp;gt; 1002:&lt;br/&gt;
&amp;gt; Unable to store alias B&lt;br/&gt;
&amp;gt;        at org.apache.pig.PigServer.store(PigServer.java:530)&lt;br/&gt;
&amp;gt;        at org.apache.pig.PigServer.openIterator(PigServer.java:458)&lt;br/&gt;
&amp;gt;        ... 6 more&lt;br/&gt;
&amp;gt; Caused by: org.apache.pig.backend.executionengine.ExecException:  &lt;br/&gt;
&amp;gt; ERROR 2067:&lt;br/&gt;
&amp;gt; EqualToExpr does not know how to handle type: tuple&lt;br/&gt;
&amp;gt;        at&lt;br/&gt;
&amp;gt; org&lt;br/&gt;
&amp;gt; .apache&lt;br/&gt;
&amp;gt; .pig.backend.hadoop.executionengine.physicalLayer.expressionOperat&lt;br/&gt;
&amp;gt; ors.EqualToExpr.getNext(EqualToExpr.java:108)&lt;br/&gt;
&amp;gt;        at&lt;br/&gt;
&amp;gt; org&lt;br/&gt;
&amp;gt; .apache&lt;br/&gt;
&amp;gt; .pig.backend.hadoop.executionengine.physicalLayer.relationalOperat&lt;br/&gt;
&amp;gt; ors.POFilter.getNext(POFilter.java:148)&lt;br/&gt;
&amp;gt;        at&lt;br/&gt;
&amp;gt; org&lt;br/&gt;
&amp;gt; .apache&lt;br/&gt;
&amp;gt; .pig.backend.hadoop.executionengine.physicalLayer.PhysicalOperator&lt;br/&gt;
&amp;gt; .processInput(PhysicalOperator.java:231)&lt;br/&gt;
&amp;gt;        at&lt;br/&gt;
&amp;gt; org&lt;br/&gt;
&amp;gt; .apache&lt;br/&gt;
&amp;gt; .pig.backend.local.executionengine.physicalLayer.counters.POCounte&lt;br/&gt;
&amp;gt; r.getNext(POCounter.java:71)&lt;br/&gt;
&amp;gt;        at&lt;br/&gt;
&amp;gt; org&lt;br/&gt;
&amp;gt; .apache&lt;br/&gt;
&amp;gt; .pig.backend.hadoop.executionengine.physicalLayer.PhysicalOperator&lt;br/&gt;
&amp;gt; .processInput(PhysicalOperator.java:231)&lt;br/&gt;
&amp;gt;        at&lt;br/&gt;
&amp;gt; org&lt;br/&gt;
&amp;gt; .apache&lt;br/&gt;
&amp;gt; .pig.backend.hadoop.executionengine.physicalLayer.relationalOperat&lt;br/&gt;
&amp;gt; ors.POStore.getNext(POStore.java:117)&lt;br/&gt;
&amp;gt;        at&lt;br/&gt;
&amp;gt; org&lt;br/&gt;
&amp;gt; .apache&lt;br/&gt;
&amp;gt; .pig.backend.local.executionengine.LocalPigLauncher.runPipeline(Lo&lt;br/&gt;
&amp;gt; calPigLauncher.java:146)&lt;br/&gt;
&amp;gt;        at&lt;br/&gt;
&amp;gt; org&lt;br/&gt;
&amp;gt; .apache&lt;br/&gt;
&amp;gt; .pig.backend.local.executionengine.LocalPigLauncher.launchPig(Loca&lt;br/&gt;
&amp;gt; lPigLauncher.java:109)&lt;br/&gt;
&amp;gt;        at&lt;br/&gt;
&amp;gt; org&lt;br/&gt;
&amp;gt; .apache&lt;br/&gt;
&amp;gt; .pig.backend.local.executionengine.LocalExecutionEngine.execute(Lo&lt;br/&gt;
&amp;gt; calExecutionEngine.java:165)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Thanks&lt;br/&gt;
Neil&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows and Linux. Java 1.6 hadoop 0.20.1&lt;/p&gt;</environment>
        <key id="12455287">PIG-1221</key>
            <summary>Filter equality does not work for tuples</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zjffdu">Jeff Zhang</assignee>
                                    <reporter username="neilblue-bw">Neil Blue</reporter>
                        <labels>
                            <label>equality</label>
                            <label>filter</label>
                            <label>tuple</label>
                    </labels>
                <created>Thu, 4 Feb 2010 09:20:54 +0000</created>
                <updated>Fri, 17 Dec 2010 22:43:18 +0000</updated>
                            <resolved>Mon, 21 Jun 2010 03:14:35 +0100</resolved>
                                    <version>0.8.0</version>
                                    <fixVersion>0.8.0</fixVersion>
                                    <component>impl</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12829618" author="ashutoshc" created="Thu, 4 Feb 2010 15:14:19 +0000"  >&lt;p&gt;Looking at code it seems we don&apos;t support equality on maps either, while specification tells us we should. &lt;/p&gt;</comment>
                            <comment id="12879694" author="zjffdu" created="Thu, 17 Jun 2010 07:46:31 +0100"  >&lt;p&gt;Attach the patch for make Tuple and Map supported in filter statement&lt;br/&gt;
 (both equal to and not equal to). I do not make tuple and map supported in  GreaterThanExpr and LessThanExpr. Because I think the comparison meaning in less than and greater than is not clear for tuple and map.&lt;/p&gt;</comment>
                            <comment id="12879765" author="hadoopqa" created="Thu, 17 Jun 2010 13:40:09 +0100"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12447317/PIG_1221.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12447317/PIG_1221.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 955028.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    -1 contrib tests.  The patch failed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/340/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/340/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/340/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/340/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/340/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/340/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12880035" author="zjffdu" created="Fri, 18 Jun 2010 02:38:47 +0100"  >&lt;p&gt;I checked the test log, the errors from contrib tests do not related with this patch.&lt;/p&gt;</comment>
                            <comment id="12880271" author="alangates" created="Fri, 18 Jun 2010 19:09:02 +0100"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12880704" author="zjffdu" created="Mon, 21 Jun 2010 03:11:27 +0100"  >&lt;p&gt;patch committed&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12447317" name="PIG_1221.patch" size="14381" author="zjffdu" created="Thu, 17 Jun 2010 07:46:31 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 4 Feb 2010 15:14:19 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164735</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyanyf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>96192</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tuple filter equality</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>