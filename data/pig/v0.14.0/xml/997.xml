<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:08:37 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/PIG-997/PIG-997.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[PIG-997] [zebra] Sorted Table Support by Zebra</title>
                <link>https://issues.apache.org/jira/browse/PIG-997</link>
                <project id="12310730" key="PIG">Pig</project>
                    <description>&lt;p&gt;This new feature is for Zebra to support sorted data in storage. As a storage library, Zebra will not sort the data by itself. But it will support creation and use of sorted data either through PIG  or through map/reduce tasks that use Zebra as storage format.&lt;/p&gt;

&lt;p&gt;The sorted table keeps the data in a &quot;totally sorted&quot; manner across all TFiles created by potentially all mappers or reducers.&lt;/p&gt;

&lt;p&gt;For sorted data creation through PIG&apos;s STORE operator ,  if the input data is sorted through &quot;ORDER BY&quot;, the new Zebra table will be marked as sorted on the sorted columns;&lt;/p&gt;

&lt;p&gt;For sorted data creation though Map/Reduce tasks,  three new static methods of the BasicTableOutput class will be provided to allow or help the user to achieve the goal. &quot;setSortInfo&quot; allows the user to specify the sorted columns of the input tuple to be stored; &quot;getSortKeyGenerator&quot; and &quot;getSortKey&quot; help the user to generate the key acceptable by Zebra as a sorted key based upon the schema, sorted columns and the input tuple.&lt;/p&gt;

&lt;p&gt;For sorted data read through PIG&apos;s LOAD operator, pass string &quot;sorted&quot; as an extra argument to the TableLoader constructor to ask for sorted table to be loaded;&lt;/p&gt;

&lt;p&gt;For sorted data read through Map/Reduce tasks, a new static method of TableInputFormat class, requireSortedTable, can be called to ask for a sorted table to be read. Additionally, an overloaded version of the new method can be called to ask for a sorted table on specified sort columns and comparator.&lt;/p&gt;

&lt;p&gt;For this release, sorted table only supported sorting in ascending order, not in descending order. In addition, the sort keys must be of simple types not complex types such as RECORD, COLLECTION and MAP. &lt;/p&gt;

&lt;p&gt;Multiple-key sorting is supported. But the ordering of the multiple sort keys is significant with the first sort column being the primary sort key, the second being the secondary sort key, etc.&lt;/p&gt;

&lt;p&gt;In this release, the sort keys are stored along with the sort columns where the keys were originally created from, resulting in some data storage redundancy.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12437445">PIG-997</key>
            <summary>[zebra] Sorted Table Support by Zebra</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yanz">Yan Zhou</assignee>
                                    <reporter username="yanz">Yan Zhou</reporter>
                        <labels>
                    </labels>
                <created>Wed, 7 Oct 2009 01:01:01 +0100</created>
                <updated>Fri, 22 Feb 2013 22:28:37 +0000</updated>
                            <resolved>Thu, 5 Nov 2009 21:03:58 +0000</resolved>
                                                    <fixVersion>0.6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="12772177" author="gauravj" created="Fri, 30 Oct 2009 23:34:37 +0000"  >&lt;p&gt;Reviewed&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12772219" author="hadoopqa" created="Sat, 31 Oct 2009 04:16:56 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12423724/SortedTable.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12423724/SortedTable.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 831481.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 173 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    -1 release audit.  The applied patch generated 355 release audit warnings (more than the trunk&apos;s current 337 warnings).&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/134/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/134/testReport/&lt;/a&gt;&lt;br/&gt;
Release audit warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/134/artifact/trunk/patchprocess/releaseAuditDiffWarnings.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/134/artifact/trunk/patchprocess/releaseAuditDiffWarnings.txt&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/134/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/134/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/134/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/134/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12772222" author="yanz" created="Sat, 31 Oct 2009 04:58:34 +0000"  >&lt;p&gt;will resubmit patch with 18 missing release notes&lt;/p&gt;</comment>
                            <comment id="12772225" author="yanz" created="Sat, 31 Oct 2009 05:36:44 +0000"  >&lt;p&gt;Add  missing APACHE license agreements in 18 new source files&lt;/p&gt;</comment>
                            <comment id="12772228" author="hadoopqa" created="Sat, 31 Oct 2009 08:49:24 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12423753/SortedTable.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12423753/SortedTable.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 831481.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 173 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h8.grid.sp2.yahoo.net/38/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h8.grid.sp2.yahoo.net/38/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h8.grid.sp2.yahoo.net/38/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h8.grid.sp2.yahoo.net/38/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h8.grid.sp2.yahoo.net/38/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h8.grid.sp2.yahoo.net/38/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12773192" author="alangates" created="Tue, 3 Nov 2009 21:03:53 +0000"  >&lt;p&gt;After applying this patch TestColumnSecurity fails.  The output of the failed test is:&lt;/p&gt;

&lt;p&gt;Testsuite: org.apache.hadoop.zebra.types.TestColumnSecurity&lt;br/&gt;
Tests run: 0, Failures: 0, Errors: 1, Time elapsed: 0.15 sec&lt;br/&gt;
------------- Standard Output ---------------&lt;br/&gt;
SUPERUSER NAME: gates&lt;br/&gt;
------------- ---------------- ---------------&lt;br/&gt;
------------- Standard Error -----------------&lt;br/&gt;
log4j:WARN No appenders could be found for logger (org.apache.hadoop.conf.Configuration).&lt;br/&gt;
log4j:WARN Please initialize the log4j system properly.&lt;br/&gt;
------------- ---------------- ---------------&lt;/p&gt;

&lt;p&gt;Testcase: org.apache.hadoop.zebra.types.TestColumnSecurity took 0 sec&lt;br/&gt;
    Caused an ERROR&lt;br/&gt;
chmod: cannot access `/user/jing1234&apos;: No such file or directory&lt;/p&gt;

&lt;p&gt;org.apache.hadoop.util.Shell$ExitCodeException: chmod: cannot access `/user/jing1234&apos;: No such file or directory&lt;/p&gt;

&lt;p&gt;    at org.apache.hadoop.util.Shell.runCommand(Shell.java:195)&lt;br/&gt;
    at org.apache.hadoop.util.Shell.run(Shell.java:134)&lt;br/&gt;
    at org.apache.hadoop.util.Shell$ShellCommandExecutor.execute(Shell.java:286)&lt;br/&gt;
    at org.apache.hadoop.util.Shell.execCommand(Shell.java:354)&lt;br/&gt;
    at org.apache.hadoop.util.Shell.execCommand(Shell.java:337)&lt;br/&gt;
    at org.apache.hadoop.fs.RawLocalFileSystem.execCommand(RawLocalFileSystem.java:481)&lt;br/&gt;
    at org.apache.hadoop.fs.RawLocalFileSystem.setPermission(RawLocalFileSystem.java:473)&lt;br/&gt;
    at org.apache.hadoop.fs.FilterFileSystem.setPermission(FilterFileSystem.java:280)&lt;br/&gt;
    at org.apache.hadoop.zebra.types.TestColumnSecurity.setUpOnce(TestColumnSecurity.java:105)&lt;/p&gt;</comment>
                            <comment id="12773337" author="yanz" created="Wed, 4 Nov 2009 01:43:10 +0000"  >&lt;p&gt;The failure is due to a misplaced test in the nightly suite. I&apos;m going to exclude that in next patch.&lt;/p&gt;</comment>
                            <comment id="12773453" author="hadoopqa" created="Wed, 4 Nov 2009 11:18:02 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12423995/SortedTable.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12423995/SortedTable.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision 832599.&lt;/p&gt;

&lt;p&gt;    +1 @author.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    +1 tests included.  The patch appears to include 177 new or modified tests.&lt;/p&gt;

&lt;p&gt;    +1 javadoc.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    +1 findbugs.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    +1 release audit.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    +1 core tests.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    +1 contrib tests.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/138/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/138/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/138/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/138/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/138/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Pig-Patch-h7.grid.sp2.yahoo.net/138/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12774073" author="alangates" created="Thu, 5 Nov 2009 21:03:58 +0000"  >&lt;p&gt;All the nightly tests now pass.  Patch checked in.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12633697">PIG-3213</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12423995" name="SortedTable.patch" size="379926" author="yanz" created="Wed, 4 Nov 2009 02:10:10 +0000"/>
                            <attachment id="12423753" name="SortedTable.patch" size="377820" author="yanz" created="Sat, 31 Oct 2009 05:36:44 +0000"/>
                            <attachment id="12423724" name="SortedTable.patch" size="363149" author="yanz" created="Fri, 30 Oct 2009 22:07:46 +0000"/>
                            <attachment id="12423330" name="SortedTable.patch" size="330537" author="yanz" created="Tue, 27 Oct 2009 16:28:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 30 Oct 2009 23:34:37 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164532</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyalbz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>95767</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>