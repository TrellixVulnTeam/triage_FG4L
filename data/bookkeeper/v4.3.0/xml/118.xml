<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat May 16 23:32:23 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/BOOKKEEPER-118/BOOKKEEPER-118.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[BOOKKEEPER-118] Hedwig client doesn&apos;t kill and remove old subscription channel after redirection.</title>
                <link>https://issues.apache.org/jira/browse/BOOKKEEPER-118</link>
                <project id="12311293" key="BOOKKEEPER">Bookkeeper</project>
                    <description>&lt;p&gt;Currently we found that hedwig cpp client doesn&apos;t kill and remove old subscription channels after redirection, so there is lots of unused channels.&lt;/p&gt;

&lt;p&gt;Not sure whether hedwig java client has the same issue, need to check it.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12532451">BOOKKEEPER-118</key>
            <summary>Hedwig client doesn&apos;t kill and remove old subscription channel after redirection.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ikelly">Ivan Kelly</assignee>
                                    <reporter username="hustlmsp">Sijie Guo</reporter>
                        <labels>
                    </labels>
                <created>Wed, 23 Nov 2011 10:36:02 +0000</created>
                <updated>Wed, 7 Dec 2011 15:56:13 +0000</updated>
                            <resolved>Mon, 28 Nov 2011 12:16:10 +0000</resolved>
                                    <version>4.0.0</version>
                                    <fixVersion>4.0.0</fixVersion>
                                    <component>hedwig-client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13155800" author="hustlmsp" created="Wed, 23 Nov 2011 10:44:58 +0000"  >&lt;p&gt;attach a patch to close old subscription channels during redirection in hedwig cpp client. &lt;/p&gt;</comment>
                            <comment id="13155808" author="hustlmsp" created="Wed, 23 Nov 2011 11:18:20 +0000"  >&lt;p&gt;in hedwig java client, we did close old subscription channels in SubscribeResponseHandler when it is not a SUCCESS response.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-comment&quot;&gt;// Main method to handle Subscribe responses from the server that we sent
&lt;/span&gt;    &lt;span class=&quot;code-comment&quot;&gt;// a Subscribe Request to.
&lt;/span&gt;    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void handleSubscribeResponse(PubSubResponse response, PubSubData pubSubData, Channel channel)
            &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
        &lt;span class=&quot;code-comment&quot;&gt;// If &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; was not a successful response to the Subscribe request, we
&lt;/span&gt;        &lt;span class=&quot;code-comment&quot;&gt;// won&apos;t be using the Netty Channel created so just close it.
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!response.getStatusCode().equals(StatusCode.SUCCESS)) {
            HedwigClientImpl.getResponseHandlerFromChannel(channel).channelClosedExplicitly = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
            channel.close();
        }
        ...
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;this issue just happens in hedwig cpp client.&lt;/p&gt;</comment>
                            <comment id="13155809" author="hustlmsp" created="Wed, 23 Nov 2011 11:19:41 +0000"  >&lt;p&gt;submit the patch since we only needs to fix it in hedwig cpp client.&lt;/p&gt;</comment>
                            <comment id="13158363" author="ikelly" created="Mon, 28 Nov 2011 12:01:44 +0000"  >&lt;p&gt;This patch wasn&apos;t generated with --no-prefix. It&apos;s not a problem, but it&apos;s preferable to have patchs apply with -p0.&lt;/p&gt;</comment>
                            <comment id="13158364" author="ikelly" created="Mon, 28 Nov 2011 12:03:44 +0000"  >&lt;p&gt;lgtm +1, will commit now.&lt;/p&gt;</comment>
                            <comment id="13158369" author="ikelly" created="Mon, 28 Nov 2011 12:16:10 +0000"  >&lt;p&gt;Committed as r1207099&lt;/p&gt;</comment>
                            <comment id="13158388" author="hudson" created="Mon, 28 Nov 2011 12:47:41 +0000"  >&lt;p&gt;Integrated in bookkeeper-trunk #241 (See &lt;a href=&quot;https://builds.apache.org/job/bookkeeper-trunk/241/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/bookkeeper-trunk/241/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-118&quot; title=&quot;Hedwig client doesn&amp;#39;t kill and remove old subscription channel after redirection.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-118&quot;&gt;&lt;del&gt;BOOKKEEPER-118&lt;/del&gt;&lt;/a&gt;: Hedwig client doesn&apos;t kill and remove old subscription channel after redirection. (Sijie Guo via ivank)&lt;/p&gt;

&lt;p&gt;ivank : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/hedwig-client/src/main/cpp/lib/clientimpl.cpp&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12525162">BOOKKEEPER-70</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12504862" name="BOOKKEEPER-118.possiblefix.patch" size="1023" author="hustlmsp" created="Wed, 23 Nov 2011 10:44:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 28 Nov 2011 12:01:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>218184</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hynzsf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>173985</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>