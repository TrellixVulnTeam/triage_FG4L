<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat May 16 23:30:23 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/BOOKKEEPER-367/BOOKKEEPER-367.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[BOOKKEEPER-367] Server-Side Message Delivery Flow Control</title>
                <link>https://issues.apache.org/jira/browse/BOOKKEEPER-367</link>
                <project id="12311293" key="BOOKKEEPER">Bookkeeper</project>
                    <description>&lt;p&gt;Currently the message delivery flow control is proceed in client side. For multiplexing, we had to move the flow control to sever side.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12603723">BOOKKEEPER-367</key>
            <summary>Server-Side Message Delivery Flow Control</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12525162">BOOKKEEPER-70</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hustlmsp">Sijie Guo</assignee>
                                    <reporter username="hustlmsp">Sijie Guo</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Aug 2012 13:48:39 +0100</created>
                <updated>Wed, 13 Feb 2013 15:46:42 +0000</updated>
                            <resolved>Thu, 4 Oct 2012 16:01:55 +0100</resolved>
                                                    <fixVersion>4.2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13457033" author="hustlmsp" created="Mon, 17 Sep 2012 15:00:33 +0100"  >&lt;p&gt;attach a patch to enable server-side delivery throttle, which is required for multiplexing.&lt;/p&gt;

&lt;p&gt;the fix is quite straightforward, which checks the gap between lastConsumedSeqId and lastDeliveredSeqId, whether it is over the throttle value. we stopped the delivery process until receiving new consume request which moves the consume ptr. If the gap reduced, we added the active subscriber to the delivery queue to deliver the message again.&lt;/p&gt;

&lt;p&gt;the patch is generated based on &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-364&quot; title=&quot;re-factor hedwig java client to support both one-subscription-per-channel and multiplex-subscriptions-per-channel.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-364&quot;&gt;&lt;del&gt;BOOKKEEPER-364&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13459696" author="hustlmsp" created="Thu, 20 Sep 2012 16:58:59 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-367&quot; title=&quot;Server-Side Message Delivery Flow Control&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-367&quot;&gt;&lt;del&gt;BOOKKEEPER-367&lt;/del&gt;&lt;/a&gt; could still be applied based on new &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-364&quot; title=&quot;re-factor hedwig java client to support both one-subscription-per-channel and multiplex-subscriptions-per-channel.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-364&quot;&gt;&lt;del&gt;BOOKKEEPER-364&lt;/del&gt;&lt;/a&gt;&apos;s patch.&lt;/p&gt;</comment>
                            <comment id="13469433" author="ikelly" created="Thu, 4 Oct 2012 16:01:55 +0100"  >&lt;p&gt;Change is good. Committed as r1394066. &lt;/p&gt;

&lt;p&gt;I think the option needs renaming though, so I&apos;ve opened a JIRA &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-415&quot; title=&quot;Rename DeliveryThrottle to MessageWindowSize&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-415&quot;&gt;&lt;del&gt;BOOKKEEPER-415&lt;/del&gt;&lt;/a&gt; to handle it.&lt;/p&gt;</comment>
                            <comment id="13469508" author="hudson" created="Thu, 4 Oct 2012 18:00:01 +0100"  >&lt;p&gt;Integrated in bookkeeper-trunk #739 (See &lt;a href=&quot;https://builds.apache.org/job/bookkeeper-trunk/739/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/bookkeeper-trunk/739/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-367&quot; title=&quot;Server-Side Message Delivery Flow Control&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-367&quot;&gt;&lt;del&gt;BOOKKEEPER-367&lt;/del&gt;&lt;/a&gt;: Server-Side Message Delivery Flow Control (sijie via ivank) (Revision 1394066)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
ivank : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/hedwig-client/src/main/java/org/apache/hedwig/client/netty/NetUtils.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/hedwig-protocol/src/main/java/org/apache/hedwig/protocol/PubSubProtocol.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/hedwig-protocol/src/main/protobuf/PubSubProtocol.proto&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/hedwig-server/src/main/java/org/apache/hedwig/server/common/ServerConfiguration.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/hedwig-server/src/main/java/org/apache/hedwig/server/delivery/DeliveryManager.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/hedwig-server/src/main/java/org/apache/hedwig/server/delivery/FIFODeliveryManager.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/hedwig-server/src/main/java/org/apache/hedwig/server/handlers/SubscribeHandler.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/hedwig-server/src/main/java/org/apache/hedwig/server/subscriptions/AbstractSubscriptionManager.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/hedwig-server/src/main/java/org/apache/hedwig/server/subscriptions/InMemorySubscriptionState.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/hedwig-server/src/test/java/org/apache/hedwig/server/TestBackwardCompat.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/hedwig-server/src/test/java/org/apache/hedwig/server/delivery/StubDeliveryManager.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/hedwig-server/src/test/java/org/apache/hedwig/server/delivery/TestThrottlingDelivery.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12545417" name="BOOKKEEPER-367.diff" size="59175" author="hustlmsp" created="Mon, 17 Sep 2012 15:00:33 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 4 Oct 2012 15:01:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>240192</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxusrr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3480</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>