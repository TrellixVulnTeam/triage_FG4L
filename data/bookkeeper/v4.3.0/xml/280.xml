<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat May 16 23:31:46 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/BOOKKEEPER-280/BOOKKEEPER-280.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[BOOKKEEPER-280] LedgerHandle.addEntry() should return an entryId</title>
                <link>https://issues.apache.org/jira/browse/BOOKKEEPER-280</link>
                <project id="12311293" key="BOOKKEEPER">Bookkeeper</project>
                    <description>&lt;p&gt;LedgerHandle.asyncAddEntry callback provides the entryId of the newly added entry, but the synchronous version return void. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12558835">BOOKKEEPER-280</key>
            <summary>LedgerHandle.addEntry() should return an entryId</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mmerli">Matteo Merli</assignee>
                                    <reporter username="mmerli">Matteo Merli</reporter>
                        <labels>
                    </labels>
                <created>Thu, 31 May 2012 19:06:38 +0100</created>
                <updated>Wed, 13 Feb 2013 15:46:35 +0000</updated>
                            <resolved>Fri, 29 Jun 2012 17:44:19 +0100</resolved>
                                    <version>4.2.0</version>
                                    <fixVersion>4.2.0</fixVersion>
                                    <component>bookkeeper-client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13287129" author="hustlmsp" created="Fri, 1 Jun 2012 04:39:35 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mmerli&quot; class=&quot;user-hover&quot; rel=&quot;mmerli&quot;&gt;Matteo Merli&lt;/a&gt; the patch seems good to me. only one place, it would be better to change -1 to use a constant define in &quot;long entryId = -1;&quot;. The constant define you could refer &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-260&quot; title=&quot;Define constant for -1 (invalid entry id)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-260&quot;&gt;&lt;del&gt;BOOKKEEPER-260&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;But one thing that I concerned is that changing return value breaks binary compatibility (i.e. bytecodes that was previously compiled against the old API will no longer run).&lt;br/&gt;
&lt;a href=&quot;http://stackoverflow.com/questions/3589946/retrofitting-void-methods-to-return-its-argument-to-facilitate-fluency-breaking&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://stackoverflow.com/questions/3589946/retrofitting-void-methods-to-return-its-argument-to-facilitate-fluency-breaking&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;In order not to block &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-220&quot; title=&quot;Managed Ledger proposal&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-220&quot;&gt;BOOKKEEPER-220&lt;/a&gt;, I would suggest you implement sync addEntry based on bookkeeper&apos;s asyncAddEntry first to get the entry id.&lt;/p&gt;</comment>
                            <comment id="13294339" author="ikelly" created="Wed, 13 Jun 2012 11:41:29 +0100"  >&lt;p&gt;Patch looks fine except for the magic number Sijie mentioned. &lt;/p&gt;

&lt;p&gt;Re: binary compability, I think it&apos;s fine to break, as people tend to recompile when they dump a dependency version anyhow. Its source compatibility we need to worry about, and compatibility between nodes running different versions.&lt;/p&gt;</comment>
                            <comment id="13401976" author="hustlmsp" created="Wed, 27 Jun 2012 06:35:11 +0100"  >&lt;p&gt;I am OK for the binary compability. +1 for the patch.&lt;/p&gt;</comment>
                            <comment id="13404016" author="ikelly" created="Fri, 29 Jun 2012 17:44:19 +0100"  >&lt;p&gt;Committed r1355467. Thanks Matteo&lt;/p&gt;</comment>
                            <comment id="13404031" author="hudson" created="Fri, 29 Jun 2012 18:08:23 +0100"  >&lt;p&gt;Integrated in bookkeeper-trunk #585 (See &lt;a href=&quot;https://builds.apache.org/job/bookkeeper-trunk/585/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/bookkeeper-trunk/585/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-280&quot; title=&quot;LedgerHandle.addEntry() should return an entryId&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-280&quot;&gt;&lt;del&gt;BOOKKEEPER-280&lt;/del&gt;&lt;/a&gt;: LedgerHandle.addEntry() should return an entryId (mmerli via ivank) (Revision 1355467)&lt;/p&gt;

&lt;p&gt;     Result = UNSTABLE&lt;br/&gt;
ivank : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/bookkeeper-server/src/main/java/org/apache/bookkeeper/client/LedgerHandle.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/bookkeeper-server/src/main/java/org/apache/bookkeeper/client/ReadOnlyLedgerHandle.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12530425" name="0001-BOOKKEEPER-280-LedgerHandle.addEntry-should-return-a.patch" size="4081" author="mmerli" created="Thu, 31 May 2012 19:41:23 +0100"/>
                            <attachment id="12530423" name="0001-BOOKKEEPER-280-LedgerHandle.addEntry-should-return-a.patch" size="2883" author="mmerli" created="Thu, 31 May 2012 19:10:04 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 1 Jun 2012 03:39:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>293567</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyn6wf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169305</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>