<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat May 16 23:29:25 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/BOOKKEEPER-329/BOOKKEEPER-329.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[BOOKKEEPER-329] provide stop scripts for hub server</title>
                <link>https://issues.apache.org/jira/browse/BOOKKEEPER-329</link>
                <project id="12311293" key="BOOKKEEPER">Bookkeeper</project>
                    <description>&lt;p&gt;as what we did in &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-296&quot; title=&quot;It&amp;#39;s better provide stop script for bookie&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-296&quot;&gt;&lt;del&gt;BOOKKEEPER-296&lt;/del&gt;&lt;/a&gt;, it would be better to provide similar script to start/stop hub server.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12597971">BOOKKEEPER-329</key>
            <summary>provide stop scripts for hub server</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hustlmsp">Sijie Guo</assignee>
                                    <reporter username="hustlmsp">Sijie Guo</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 Jul 2012 03:32:39 +0100</created>
                <updated>Wed, 13 Feb 2013 15:47:01 +0000</updated>
                            <resolved>Wed, 11 Jul 2012 18:25:48 +0100</resolved>
                                    <version>4.0.0</version>
                    <version>4.1.0</version>
                                    <fixVersion>4.2.0</fixVersion>
                    <fixVersion>4.1.1</fixVersion>
                                    <component>hedwig-server</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13409134" author="hustlmsp" created="Mon, 9 Jul 2012 03:36:46 +0100"  >&lt;p&gt;attach a patch to provide script to stop hub server.&lt;/p&gt;</comment>
                            <comment id="13410462" author="ikelly" created="Tue, 10 Jul 2012 17:00:51 +0100"  >&lt;p&gt;The script doesn&apos;t work as I would expect it to (this also holds for bookkeeper-daemon.sh).&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;$ sh hedwig-server/bin/hedwig-daemon.sh start&lt;br/&gt;
starting , logging to /Users/test/src/bookkeeper/hedwig-server/logs/hedwig--sweetgreat-lm.log&lt;br/&gt;
JMX enabled by default&lt;br/&gt;
Usage: hedwig &amp;lt;command&amp;gt;&lt;br/&gt;
where command is one of:&lt;br/&gt;
    server           Run the hedwig server&lt;br/&gt;
    console          Run the hedwig admin console&lt;br/&gt;
    help             This help message&lt;/p&gt;

&lt;p&gt;or command is the full name of a class with a defined main() method.&lt;/p&gt;

&lt;p&gt;Environment variables:&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Being a daemon only makes sense for the server command, in this case, and in the bookkeeper case.  The behaviour I expect from this script is that I run:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;$ bin/hedwig-daemon.sh start&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;and the daemon starts. &lt;/p&gt;

&lt;p&gt;I run&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;$ bin/hedwig-daemon.sh stop&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;and the daemon stops.&lt;/p&gt;

&lt;p&gt;There should not be any other commandline arguments. Any configuration should be through hwenv.sh. Could you make the same changes for bookkeeper-daemon.sh also? &lt;/p&gt;</comment>
                            <comment id="13410489" author="hustlmsp" created="Tue, 10 Jul 2012 17:28:32 +0100"  >&lt;p&gt;actually for bookkeeper-daemon.sh, you could use it to start a bookie server or a localbookie instance. if changed to what you suggested, we had to use it to just start a bookie server.&lt;/p&gt;

&lt;p&gt;to keep consistent style, I provided similar start/stop script as bookkeeper for hedwig.&lt;/p&gt;</comment>
                            <comment id="13410515" author="ikelly" created="Tue, 10 Jul 2012 17:45:45 +0100"  >&lt;p&gt;Hmmm, i disagree with needing it for localbookie, but we will need it for auditor pretty soon. The error needs to be more explicit though. If the &amp;lt;service&amp;gt; is not provided, we should error early and error loudly. Also, there are things which we should never ever ever daemonize, such as console. &lt;/p&gt;

&lt;p&gt;I think for there should be a list of approved daemonizable commands, &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; $command in 
    bookie|auditor)
	echo doing $command
	;;
    *)
	echo service must be one of bookie,auditor
	;;
esac
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13411149" author="hustlmsp" created="Wed, 11 Jul 2012 03:06:23 +0100"  >&lt;p&gt;agreed on checking service. would do the changes in the new patch.&lt;/p&gt;</comment>
                            <comment id="13411222" author="umamaheswararao" created="Wed, 11 Jul 2012 05:22:36 +0100"  >&lt;blockquote&gt;
&lt;p&gt;Also, there are things which we should never ever ever daemonize, such as console. &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Excellent point you have raised Ivan. Agree, accepting console options in daemon scripts will not be good. We should have restricted to accept only required stuff from daemon scripts.&lt;/p&gt;

&lt;p&gt;Shall I reopen BK-296 for the amendment patch (instead of giving here for addressing Ivan&apos;s comments in BK scripts)? because relevant changes will be with the correct JIRA.&lt;/p&gt;</comment>
                            <comment id="13411262" author="hustlmsp" created="Wed, 11 Jul 2012 07:02:29 +0100"  >&lt;p&gt;attach a new patch to check service in hedwig-daemon.sh&lt;/p&gt;</comment>
                            <comment id="13411263" author="hustlmsp" created="Wed, 11 Jul 2012 07:03:33 +0100"  >&lt;p&gt;@Uma, I am ok to reopen BK-296 if it made changes more clearly.&lt;/p&gt;</comment>
                            <comment id="13411745" author="ikelly" created="Wed, 11 Jul 2012 18:25:48 +0100"  >&lt;p&gt;New script looks good. &lt;/p&gt;

&lt;p&gt;Committed revision 1360311. Good work Sijie.&lt;/p&gt;

&lt;p&gt;I was also thinking, should we put this and bookkeeper-daemon.sh into 4.1.1 also?&lt;/p&gt;</comment>
                            <comment id="13411781" author="hudson" created="Wed, 11 Jul 2012 19:03:00 +0100"  >&lt;p&gt;Integrated in bookkeeper-trunk #601 (See &lt;a href=&quot;https://builds.apache.org/job/bookkeeper-trunk/601/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/bookkeeper-trunk/601/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-329&quot; title=&quot;provide stop scripts for hub server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-329&quot;&gt;&lt;del&gt;BOOKKEEPER-329&lt;/del&gt;&lt;/a&gt;: provide stop scripts for hub server (sijie via ivank) (Revision 1360311)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
ivank : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/bookkeeper-server/bin/bookkeeper-daemon.sh&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/hedwig-server/bin/hedwig&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/hedwig-server/bin/hedwig-daemon.sh&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/hedwig-server/conf/hwenv.sh&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/hedwig-server/conf/log4j.properties&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13412365" author="hustlmsp" created="Thu, 12 Jul 2012 00:43:56 +0100"  >&lt;p&gt;@Ivan. +1 for 4.1.1. these scripts are useful for users. and they are newly added scripts, which are easy to put them in 4.1.1.&lt;/p&gt;</comment>
                            <comment id="13450385" author="hustlmsp" created="Fri, 7 Sep 2012 06:54:53 +0100"  >&lt;p&gt;committed as r1381890 in branch 4.1.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12560620">BOOKKEEPER-296</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12535608" name="BOOKKEEPER-329.diff" size="7951" author="hustlmsp" created="Mon, 9 Jul 2012 03:36:45 +0100"/>
                            <attachment id="12535989" name="BOOKKEEPER-329.diff_v2" size="8347" author="hustlmsp" created="Wed, 11 Jul 2012 07:02:29 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 10 Jul 2012 16:00:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>293529</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyn5zz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169159</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>