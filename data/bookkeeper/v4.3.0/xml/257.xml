<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat May 16 23:30:56 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/BOOKKEEPER-257/BOOKKEEPER-257.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[BOOKKEEPER-257] Ability to list all ledgers</title>
                <link>https://issues.apache.org/jira/browse/BOOKKEEPER-257</link>
                <project id="12311293" key="BOOKKEEPER">Bookkeeper</project>
                    <description>&lt;p&gt;When an application is using bookkeeper it must keep a copy of the ledger ids it creates so that they can be used later, and once they are no longer useful, deleted. However, in the case of a crash between ledger creation and persisting the application copy of the id, the ledger will be dangling. Therefore I propose we have the ability to get a list of all ledger ids, which clients can use for garbage collection. However, I don&apos;t think it should be part of the BookKeeper class, rather part of a new BookKeeperAdmin class.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12555143">BOOKKEEPER-257</key>
            <summary>Ability to list all ledgers</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fpj">Flavio Junqueira</assignee>
                                    <reporter username="ikelly">Ivan Kelly</reporter>
                        <labels>
                    </labels>
                <created>Mon, 14 May 2012 16:27:48 +0100</created>
                <updated>Wed, 3 Jul 2013 15:53:54 +0100</updated>
                            <resolved>Wed, 3 Jul 2013 15:53:53 +0100</resolved>
                                                    <fixVersion>4.2.2</fixVersion>
                    <fixVersion>4.3.0</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="13573998" author="wsorenson" created="Thu, 7 Feb 2013 22:32:45 +0000"  >&lt;p&gt;I need ledger ids for a different reason; simply:&lt;/p&gt;

&lt;p&gt;I have multiple writers writing multiple ledgers.&lt;/p&gt;

&lt;p&gt;I have separate readers reading those ledgers.&lt;/p&gt;

&lt;p&gt;I don&apos;t want to maintain state between them about what the list of all ledgers are, since BK already has this state.&lt;/p&gt;

&lt;p&gt;I am currently using some gross code that reads the ledgers directly from ZK.&lt;/p&gt;</comment>
                            <comment id="13612433" author="jiannan" created="Mon, 25 Mar 2013 07:03:20 +0000"  >&lt;p&gt;In my understanding, the LedgerManager#asyncProcessLedgers API is enough for it. Is there anything I miss?&lt;/p&gt;</comment>
                            <comment id="13632799" author="fpj" created="Tue, 16 Apr 2013 13:42:21 +0100"  >&lt;p&gt;Jiannan&apos;s proposal sounds like a good one. How do you see it, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=wsorenson&quot; class=&quot;user-hover&quot; rel=&quot;wsorenson&quot;&gt;Whitney Sorenson&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="13633650" author="hustlmsp" created="Wed, 17 Apr 2013 02:25:33 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jiannan&quot; class=&quot;user-hover&quot; rel=&quot;jiannan&quot;&gt;Jiannan Wang&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fpj&quot; class=&quot;user-hover&quot; rel=&quot;fpj&quot;&gt;Flavio Junqueira&lt;/a&gt; LedgerManager#asyncProcessLedgers is not exposed as an API for clients. Do you guys want to expose LedgerManager to application directly?&lt;/p&gt;</comment>
                            <comment id="13636216" author="ikelly" created="Fri, 19 Apr 2013 10:44:40 +0100"  >&lt;p&gt;It would be nice to expose something a little more user friendly for clients. Perhaps on BookKeeper admin.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Iterable&amp;lt;&lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;&amp;gt; BookKeeperAdmin#listLedgers()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13636274" author="fpj" created="Fri, 19 Apr 2013 12:03:17 +0100"  >&lt;blockquote&gt;&lt;p&gt;LedgerManager#asyncProcessLedgers is not exposed as an API for clients. Do you guys want to expose LedgerManager to application directly?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Agreed, if we do it, it might be a good idea to wrap it in some way.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;It would be nice to expose something a little more user friendly for clients. Perhaps on BookKeeper admin.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;In the way I interpreted &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jiannan&quot; class=&quot;user-hover&quot; rel=&quot;jiannan&quot;&gt;Jiannan Wang&lt;/a&gt;&apos;s observation, he was saying that &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=wsorenson&quot; class=&quot;user-hover&quot; rel=&quot;wsorenson&quot;&gt;Whitney Sorenson&lt;/a&gt; could process the ledgers directly. According to the description of the jira, they want a list to iterate over the ledgers, so perhaps they could do their processing there directly. There is the issue of exposing internals as &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hustlmsp&quot; class=&quot;user-hover&quot; rel=&quot;hustlmsp&quot;&gt;Sijie Guo&lt;/a&gt; has pointed out. &lt;/p&gt;</comment>
                            <comment id="13644854" author="fpj" created="Mon, 29 Apr 2013 21:53:35 +0100"  >&lt;p&gt;Since this jira seems to be stalled, I&apos;ll have a first cut.&lt;/p&gt;</comment>
                            <comment id="13649180" author="fpj" created="Sat, 4 May 2013 22:39:15 +0100"  >&lt;p&gt;Attaching a preliminary patch, I haven&apos;t tested it yet, but I was wondering if something along these lines is ok.&lt;/p&gt;</comment>
                            <comment id="13649728" author="ikelly" created="Mon, 6 May 2013 14:09:32 +0100"  >&lt;p&gt;This will give an OutOfMemory in the case where there&apos;s a lot of ledgers. It would be better to implement iterable like &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
LedgerRangeIterator iterator = bkc.getLedgerManager().getLedgerRanges();
&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Iterable&amp;lt;&lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;&amp;gt;() {
    Iterator&amp;lt;&lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;&amp;gt; iterator() {
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Iterator&amp;lt;&lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;&amp;gt;() {
            LedgerRange currentRange = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
            &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; hasNext() {
                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (currentRange == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; iterator.hasNext()) {
                    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
                } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (currentRange.hasNext() || iterator.hasNext()) {
                    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
                } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
                    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
                }
            }

            &lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt; next() {
                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (currentRange == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
                    currentRange = iterator.next();
                }
                &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; currentRange.next();
            }
        }
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13650159" author="fpj" created="Mon, 6 May 2013 23:04:29 +0100"  >&lt;p&gt;What about this one?&lt;/p&gt;</comment>
                            <comment id="13650582" author="hadoopqa" created="Tue, 7 May 2013 08:43:08 +0100"  >&lt;p&gt;Testing JIRA &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-257&quot; title=&quot;Ability to list all ledgers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-257&quot;&gt;&lt;del&gt;BOOKKEEPER-257&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Patch &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12581972/BOOKKEEPER-257.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;BOOKKEEPER-257.patch&lt;/a&gt; downloaded at Tue May  7 07:12:38 UTC 2013&lt;/p&gt;

&lt;p&gt;----------------------------&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 PATCH_APPLIES&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 CLEAN&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;-1 RAW_PATCH_ANALYSIS&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any @author tags&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any tabs&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; the patch contains 22 line(s) with trailing spaces&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any line longer than 120&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does adds/modifies 1 testcase(s)&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 RAT&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new RAT warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 JAVADOC&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new Javadoc warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 COMPILE&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; HEAD compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; patch compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new javac warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 FINDBUGS&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new Findbugs warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 TESTS&lt;/font&gt;&lt;br/&gt;
.    Tests run: 842&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 DISTRO&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; distro tarball builds with the patch &lt;/p&gt;

&lt;p&gt;----------------------------&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;&lt;b&gt;-1 Overall result, please check the reported -1(s)&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;


&lt;p&gt;The full output of the test-patch run is available at&lt;/p&gt;

&lt;p&gt;.   &lt;a href=&quot;https://builds.apache.org/job/bookkeeper-trunk-precommit-build/332/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/bookkeeper-trunk-precommit-build/332/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13652839" author="ikelly" created="Thu, 9 May 2013 10:38:49 +0100"  >&lt;p&gt;Patch looks good. The @return javadoc should have a description or not be there at all. Likewise with the throws, @throws IOException doesn&apos;t add any more information that the javadoc tool cannot infer from the declaration. It would be better to specify as,&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
/**
 * Get the list of available ledgers
 * @&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; an iterable list of ledger ids
 * @&lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the ledger id list cannot be read from metadata storage
 */
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Also, there&apos;s a lot of trailing whitespace. It should be possible to have eclipse automatically remove this in the lines you modify.&lt;/p&gt;</comment>
                            <comment id="13652910" author="fpj" created="Thu, 9 May 2013 13:39:41 +0100"  >&lt;p&gt;Second attempt, all comments addressed. &lt;/p&gt;</comment>
                            <comment id="13652912" author="fpj" created="Thu, 9 May 2013 13:44:01 +0100"  >&lt;p&gt;Removed a few more trailing spaces. I&apos;m trying to be conservative with respect to removing trailing spaces because I don&apos;t want to touch parts of the code that do not correspond to this patch.&lt;/p&gt;</comment>
                            <comment id="13652948" author="hadoopqa" created="Thu, 9 May 2013 14:16:57 +0100"  >&lt;p&gt;Testing JIRA &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-257&quot; title=&quot;Ability to list all ledgers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-257&quot;&gt;&lt;del&gt;BOOKKEEPER-257&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Patch &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12582461/BOOKKEEPER-257.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;BOOKKEEPER-257.patch&lt;/a&gt; downloaded at Thu May  9 12:46:31 UTC 2013&lt;/p&gt;

&lt;p&gt;----------------------------&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 PATCH_APPLIES&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 CLEAN&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;-1 RAW_PATCH_ANALYSIS&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any @author tags&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any tabs&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; the patch contains 3 line(s) with trailing spaces&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any line longer than 120&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does adds/modifies 1 testcase(s)&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 RAT&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new RAT warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 JAVADOC&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new Javadoc warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 COMPILE&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; HEAD compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; patch compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new javac warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 FINDBUGS&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new Findbugs warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 TESTS&lt;/font&gt;&lt;br/&gt;
.    Tests run: 842&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 DISTRO&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; distro tarball builds with the patch &lt;/p&gt;

&lt;p&gt;----------------------------&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;&lt;b&gt;-1 Overall result, please check the reported -1(s)&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;


&lt;p&gt;The full output of the test-patch run is available at&lt;/p&gt;

&lt;p&gt;.   &lt;a href=&quot;https://builds.apache.org/job/bookkeeper-trunk-precommit-build/335/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/bookkeeper-trunk-precommit-build/335/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13653184" author="hadoopqa" created="Thu, 9 May 2013 21:57:56 +0100"  >&lt;p&gt;Testing JIRA &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-257&quot; title=&quot;Ability to list all ledgers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-257&quot;&gt;&lt;del&gt;BOOKKEEPER-257&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Patch &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12582502/BOOKKEEPER-257.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;BOOKKEEPER-257.patch&lt;/a&gt; downloaded at Thu May  9 20:27:32 UTC 2013&lt;/p&gt;

&lt;p&gt;----------------------------&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 PATCH_APPLIES&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 CLEAN&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 RAW_PATCH_ANALYSIS&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any @author tags&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any tabs&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any trailing spaces&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any line longer than 120&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does adds/modifies 1 testcase(s)&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 RAT&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new RAT warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 JAVADOC&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new Javadoc warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 COMPILE&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; HEAD compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; patch compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new javac warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 FINDBUGS&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new Findbugs warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 TESTS&lt;/font&gt;&lt;br/&gt;
.    Tests run: 842&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 DISTRO&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; distro tarball builds with the patch &lt;/p&gt;

&lt;p&gt;----------------------------&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;&lt;b&gt;+1 Overall result, good!, no -1s&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;


&lt;p&gt;The full output of the test-patch run is available at&lt;/p&gt;

&lt;p&gt;.   &lt;a href=&quot;https://builds.apache.org/job/bookkeeper-trunk-precommit-build/336/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/bookkeeper-trunk-precommit-build/336/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13654351" author="ikelly" created="Fri, 10 May 2013 11:46:49 +0100"  >&lt;p&gt;New patch is good. +1&lt;/p&gt;

&lt;p&gt;Committed r1480978. Thanks Flavio.&lt;/p&gt;</comment>
                            <comment id="13654383" author="hudson" created="Fri, 10 May 2013 12:29:42 +0100"  >&lt;p&gt;Integrated in bookkeeper-trunk #201 (See &lt;a href=&quot;https://builds.apache.org/job/bookkeeper-trunk/201/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/bookkeeper-trunk/201/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-257&quot; title=&quot;Ability to list all ledgers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-257&quot;&gt;&lt;del&gt;BOOKKEEPER-257&lt;/del&gt;&lt;/a&gt;: Ability to list all ledgers (fpj via ivank) (Revision 1480978)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
ivank : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/bookkeeper-server/src/main/java/org/apache/bookkeeper/client/BookKeeperAdmin.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/bookkeeper-server/src/test/java/org/apache/bookkeeper/client/ListLedgersTest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13675322" author="fpj" created="Tue, 4 Jun 2013 23:03:25 +0100"  >&lt;p&gt;Patch for branch 4.2. Unfortunately, ListLedgersTest does not pass, it seems that getLedgerRanges returns something when there are not ledgers, which makes testEmptyList fail.&lt;/p&gt;</comment>
                            <comment id="13676428" author="fpj" created="Wed, 5 Jun 2013 23:17:24 +0100"  >&lt;p&gt;I found the problem. FlatLedgerManager#getLedgerRanges() has been fixed in trunk due to the changes in &lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-596&quot; title=&quot;The last logged zxid calculated by zookeeper servers could cause problems in leader election if data gets corrupted.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-596&quot;&gt;&lt;del&gt;ZOOKEEPER-596&lt;/del&gt;&lt;/a&gt;. The version of FlatLedgerManager#getLedgerRanges() in the 4.2 branch does not work with one of the tests in the b4.2 patch because the iterator initially returns that there is an element even when there is no ledger. I&apos;ll see if I can port the changes to getLedgerRanges().&lt;/p&gt;</comment>
                            <comment id="13677248" author="ikelly" created="Thu, 6 Jun 2013 18:10:02 +0100"  >&lt;p&gt;I assume you mean &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-596&quot; title=&quot;Ledgers are gc&amp;#39;ed by mistake in MSLedgerManagerFactory.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-596&quot;&gt;&lt;del&gt;BOOKKEEPER-596&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="13677439" author="fpj" created="Thu, 6 Jun 2013 21:02:47 +0100"  >&lt;p&gt;New patch for branch 4.2. Test passes now.&lt;/p&gt;

&lt;p&gt;Right, I meant to say &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-596&quot; title=&quot;Ledgers are gc&amp;#39;ed by mistake in MSLedgerManagerFactory.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-596&quot;&gt;&lt;del&gt;BOOKKEEPER-596&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13678124" author="fpj" created="Fri, 7 Jun 2013 17:30:46 +0100"  >&lt;p&gt;Reopening for 4.2.2.&lt;/p&gt;</comment>
                            <comment id="13699042" author="ikelly" created="Wed, 3 Jul 2013 15:53:54 +0100"  >&lt;p&gt;Committed revision 1499429 to branch-4.2 using the patch from 5 jun, which applied cleanly as &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-596&quot; title=&quot;Ledgers are gc&amp;#39;ed by mistake in MSLedgerManagerFactory.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-596&quot;&gt;&lt;del&gt;BOOKKEEPER-596&lt;/del&gt;&lt;/a&gt; is in branch-4.2 now also.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12586563" name="BOOKKEEPER-257-b4.2.patch" size="11693" author="fpj" created="Thu, 6 Jun 2013 21:02:47 +0100"/>
                            <attachment id="12586190" name="BOOKKEEPER-257-b4.2.patch" size="7855" author="fpj" created="Tue, 4 Jun 2013 23:03:25 +0100"/>
                            <attachment id="12582502" name="BOOKKEEPER-257.patch" size="7774" author="fpj" created="Thu, 9 May 2013 20:54:26 +0100"/>
                            <attachment id="12582461" name="BOOKKEEPER-257.patch" size="7778" author="fpj" created="Thu, 9 May 2013 13:44:01 +0100"/>
                            <attachment id="12582460" name="BOOKKEEPER-257.patch" size="7829" author="fpj" created="Thu, 9 May 2013 13:39:41 +0100"/>
                            <attachment id="12581972" name="BOOKKEEPER-257.patch" size="7786" author="fpj" created="Mon, 6 May 2013 23:04:29 +0100"/>
                            <attachment id="12581809" name="BOOKKEEPER-257.patch" size="1604" author="fpj" created="Sat, 4 May 2013 22:39:15 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 7 Feb 2013 22:32:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>239395</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hympsn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>166534</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>