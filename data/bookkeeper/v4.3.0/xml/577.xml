<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat May 16 23:30:46 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/BOOKKEEPER-577/BOOKKEEPER-577.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[BOOKKEEPER-577] BookieFailureTest uses sync/wait()/notify() incorrectly</title>
                <link>https://issues.apache.org/jira/browse/BOOKKEEPER-577</link>
                <project id="12311293" key="BOOKKEEPER">Bookkeeper</project>
                    <description>&lt;p&gt;This makes it susceptible to spurious wakeup issues, which seem to hit very regularly on my laptop.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12634164">BOOKKEEPER-577</key>
            <summary>BookieFailureTest uses sync/wait()/notify() incorrectly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ikelly">Ivan Kelly</assignee>
                                    <reporter username="ikelly">Ivan Kelly</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Feb 2013 14:36:01 +0000</created>
                <updated>Mon, 10 Jun 2013 09:30:23 +0100</updated>
                            <resolved>Tue, 7 May 2013 20:49:57 +0100</resolved>
                                                    <fixVersion>4.2.2</fixVersion>
                    <fixVersion>4.3.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13597374" author="fpj" created="Fri, 8 Mar 2013 18:24:18 +0000"  >&lt;p&gt;I think it is there because we expected sync.value to be true after a second. But, I agree with you that it is a little shaky because the while loop around it is there to keep trying. However, if you move the assertion in the way you&apos;re proposing, the assertion will trivially hold. The while loop will only exit if sync.value is true.&lt;/p&gt;</comment>
                            <comment id="13619851" author="ikelly" created="Tue, 2 Apr 2013 15:30:03 +0100"  >&lt;p&gt;The assertion will should always hold. Otherwise the failureOccurred assertion will trigger. The while loop will exit in one way or another if the callback has been triggered. The movement of the assertion, while redundant is the correct way to check this. We shouldn&apos;t have assertions dependent on an action completing within a small time window in tests which have nothing to do with timeouts.&lt;/p&gt;</comment>
                            <comment id="13649169" author="fpj" created="Sat, 4 May 2013 21:52:30 +0100"  >&lt;p&gt;I&apos;m sorry for taking some time to respond, I missed that you have added a comment here. &lt;/p&gt;

&lt;p&gt;I&apos;m not sure I get your point. This assertion:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;assertTrue(&quot;Haven&apos;t received entries&quot;, sync.value);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;will always hold after the while loop, otherwise it will keep looping. What&apos;s the point of having the assertion after the loop then? I&apos;m thinking that we should perhaps just remove that assertion altogether instead of moving it.&lt;/p&gt;</comment>
                            <comment id="13649733" author="ikelly" created="Mon, 6 May 2013 14:14:54 +0100"  >&lt;p&gt;Actually, a better solution is to get rid of the loop. If we haven&apos;t received a response in 10 seconds we can assume we have failed.&lt;/p&gt;</comment>
                            <comment id="13649738" author="fpj" created="Mon, 6 May 2013 14:19:33 +0100"  >&lt;p&gt;Sure, this is good for me, +1.&lt;/p&gt;</comment>
                            <comment id="13650592" author="hadoopqa" created="Tue, 7 May 2013 09:13:44 +0100"  >&lt;p&gt;Testing JIRA &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-577&quot; title=&quot;BookieFailureTest uses sync/wait()/notify() incorrectly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-577&quot;&gt;&lt;del&gt;BOOKKEEPER-577&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Patch &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12581882/0001-BOOKKEEPER-577-BookieFailureTest-uses-sync-wait-noti.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;0001-BOOKKEEPER-577-BookieFailureTest-uses-sync-wait-noti.patch&lt;/a&gt; downloaded at Tue May  7 07:43:18 UTC 2013&lt;/p&gt;

&lt;p&gt;----------------------------&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 PATCH_APPLIES&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 CLEAN&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 RAW_PATCH_ANALYSIS&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any @author tags&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any tabs&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any trailing spaces&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any line longer than 120&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does adds/modifies 1 testcase(s)&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 RAT&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new RAT warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 JAVADOC&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new Javadoc warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 COMPILE&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; HEAD compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; patch compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new javac warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 FINDBUGS&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new Findbugs warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 TESTS&lt;/font&gt;&lt;br/&gt;
.    Tests run: 836&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 DISTRO&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; distro tarball builds with the patch &lt;/p&gt;

&lt;p&gt;----------------------------&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;&lt;b&gt;+1 Overall result, good!, no -1s&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;


&lt;p&gt;The full output of the test-patch run is available at&lt;/p&gt;

&lt;p&gt;.   &lt;a href=&quot;https://builds.apache.org/job/bookkeeper-trunk-precommit-build/333/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/bookkeeper-trunk-precommit-build/333/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13651228" author="fpj" created="Tue, 7 May 2013 20:49:57 +0100"  >&lt;p&gt;Committed revision 1480051. Thanks, Ivan.&lt;/p&gt;</comment>
                            <comment id="13651262" author="hudson" created="Tue, 7 May 2013 21:29:51 +0100"  >&lt;p&gt;Integrated in bookkeeper-trunk #197 (See &lt;a href=&quot;https://builds.apache.org/job/bookkeeper-trunk/197/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/bookkeeper-trunk/197/&lt;/a&gt;)&lt;br/&gt;
    BOOKkEEPER-577: BookieFailureTest uses sync/wait()/notify() incorrectly (ivank via fpj) (Revision 1480051)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;/p&gt;</comment>
                            <comment id="13679380" author="ikelly" created="Mon, 10 Jun 2013 09:30:23 +0100"  >&lt;p&gt;Committed revision 1491372 in branch-4.2&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12581882" name="0001-BOOKKEEPER-577-BookieFailureTest-uses-sync-wait-noti.patch" size="1883" author="ikelly" created="Mon, 6 May 2013 14:14:54 +0100"/>
                            <attachment id="12570984" name="0001-BOOKKEEPER-577-BookieFailureTest-uses-sync-wait-noti.patch" size="1648" author="ikelly" created="Tue, 26 Feb 2013 14:49:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 8 Mar 2013 18:24:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314657</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzc5d3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315001</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>