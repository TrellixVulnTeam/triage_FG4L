<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat May 16 23:31:02 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/BOOKKEEPER-736/BOOKKEEPER-736.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[BOOKKEEPER-736] Stats for AutoRecovery</title>
                <link>https://issues.apache.org/jira/browse/BOOKKEEPER-736</link>
                <project id="12311293" key="BOOKKEEPER">Bookkeeper</project>
                    <description>&lt;p&gt;Idea of this JIRA is to provide jmx interfaces to get the statistics of the auto recovery activities.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12696854">BOOKKEEPER-736</key>
            <summary>Stats for AutoRecovery</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hustlmsp">Sijie Guo</assignee>
                                    <reporter username="rakeshr">Rakesh R</reporter>
                        <labels>
                    </labels>
                <created>Mon, 24 Feb 2014 07:39:02 +0000</created>
                <updated>Sat, 6 Sep 2014 11:12:38 +0100</updated>
                            <resolved>Sat, 6 Sep 2014 06:59:07 +0100</resolved>
                                                    <fixVersion>4.3.0</fixVersion>
                                    <component>bookkeeper-auto-recovery</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                            <comments>
                            <comment id="13910086" author="rakeshr" created="Mon, 24 Feb 2014 08:01:40 +0000"  >&lt;p&gt;I&apos;ve just done one initial prototyping and attaching the snapshot/image of the exposed jmx beans and their relationship to understand more on the approach.&lt;/p&gt;</comment>
                            <comment id="13917793" author="hustlmsp" created="Mon, 3 Mar 2014 07:23:57 +0000"  >&lt;p&gt;I would suggest that if you want to add stats support for autorecovery. please link it with &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-398&quot; title=&quot;Improving stats collection in bookkeeper&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-398&quot;&gt;&lt;del&gt;BOOKKEEPER-398&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13925194" author="rakeshr" created="Sun, 9 Mar 2014 13:20:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hustlmsp&quot; class=&quot;user-hover&quot; rel=&quot;hustlmsp&quot;&gt;Sijie Guo&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=i0exception&quot; class=&quot;user-hover&quot; rel=&quot;i0exception&quot;&gt;Aniruddha&lt;/a&gt; Could you please give some insight on few things:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;I failed to see any testcases to know the usage pattern.&lt;/li&gt;
	&lt;li&gt;My usecase is to link JMX beans to the existing monitoring tool - How does the &apos;opStatsLogger&apos; interact with JMX. I&apos;ve got confused by seeing the following deprecation comments.
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    /**
     * @&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; Returns an OpStatsData object with necessary values. We need &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; function
     * to support JMX exports. This should be deprecated sometime in the near &lt;span class=&quot;code-keyword&quot;&gt;future&lt;/span&gt;.
     * populated.
     */
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; OpStatsData toOpStatsData();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;I could see OpStatsData is the entity used by OpStatsLogger, but I think it is well designed for the latency attributes. Is there any plan to extend this to support more attributes. I&apos;ve added the metrics which autorecovery module is interested, please see it once.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-737?focusedCommentId=13910091&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13910091&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;AutoRecovery feature interested metrics&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13925381" author="hustlmsp" created="Mon, 10 Mar 2014 01:26:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rakeshr&quot; class=&quot;user-hover&quot; rel=&quot;rakeshr&quot;&gt;Rakesh R&lt;/a&gt; &lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;you could check &lt;a href=&quot;https://github.com/apache/bookkeeper/blob/trunk/bookkeeper-server/src/main/java/org/apache/bookkeeper/client/BookKeeper.java#L81&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/bookkeeper/blob/trunk/bookkeeper-server/src/main/java/org/apache/bookkeeper/client/BookKeeper.java#L81&lt;/a&gt; for the usage for new stats api.&lt;/li&gt;
	&lt;li&gt;the #toOpStatsData is there, is for backward compatibility for the existing jmx beans. it would be removed completely when we deprecated the existing jmx beans.&lt;/li&gt;
	&lt;li&gt;for any new metrics going to be added, please use the new stats api. you could still expose the stats as jmx beans, if you use codahale stats provider:  &lt;a href=&quot;https://github.com/apache/bookkeeper/tree/trunk/bookkeeper-stats-providers/codahale-metrics-provider&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/bookkeeper/tree/trunk/bookkeeper-stats-providers/codahale-metrics-provider&lt;/a&gt; &lt;a href=&quot;http://metrics.codahale.com/getting-started/#reporting-via-jmx&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://metrics.codahale.com/getting-started/#reporting-via-jmx&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13933230" author="ikelly" created="Thu, 13 Mar 2014 13:29:38 +0000"  >&lt;p&gt;I&apos;ve added the jmx reporter to the codahale provider. I&apos;ll upload a patch.&lt;/p&gt;</comment>
                            <comment id="13936037" author="rakeshr" created="Sat, 15 Mar 2014 06:54:43 +0000"  >&lt;p&gt;Thats great!&lt;/p&gt;</comment>
                            <comment id="14075882" author="hustlmsp" created="Mon, 28 Jul 2014 05:26:50 +0100"  >&lt;p&gt;change the title to &apos;Stats for AutoRecovery&apos; since we don&apos;t encourage user to add JMX beans directly, adding stats should use bookkeeper-stats library.&lt;/p&gt;</comment>
                            <comment id="14075893" author="hustlmsp" created="Mon, 28 Jul 2014 05:48:09 +0100"  >&lt;p&gt;attach a patch to add stats for auto recovery.&lt;/p&gt;</comment>
                            <comment id="14075896" author="hustlmsp" created="Mon, 28 Jul 2014 05:49:51 +0100"  >&lt;p&gt;the patch is generated based on &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-697&quot; title=&quot;stats collection on bookkeeper server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-697&quot;&gt;&lt;del&gt;BOOKKEEPER-697&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14082998" author="hadoopqa" created="Fri, 1 Aug 2014 22:35:28 +0100"  >&lt;p&gt;Testing JIRA &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-736&quot; title=&quot;Stats for AutoRecovery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-736&quot;&gt;&lt;del&gt;BOOKKEEPER-736&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Patch &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12658071/BOOKKEEPER-736.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;BOOKKEEPER-736.patch&lt;/a&gt; downloaded at Fri Aug  1 21:30:19 UTC 2014&lt;/p&gt;

&lt;p&gt;----------------------------&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; Patch failed to apply to head of branch&lt;/p&gt;

&lt;p&gt;----------------------------&lt;/p&gt;</comment>
                            <comment id="14087445" author="hadoopqa" created="Wed, 6 Aug 2014 10:06:08 +0100"  >&lt;p&gt;Testing JIRA &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-736&quot; title=&quot;Stats for AutoRecovery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-736&quot;&gt;&lt;del&gt;BOOKKEEPER-736&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Patch &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12660076/BOOKKEEPER-736.v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;BOOKKEEPER-736.v2.patch&lt;/a&gt; downloaded at Wed Aug  6 08:01:50 UTC 2014&lt;/p&gt;

&lt;p&gt;----------------------------&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 PATCH_APPLIES&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 CLEAN&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;-1 RAW_PATCH_ANALYSIS&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any @author tags&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any tabs&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any trailing spaces&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any line longer than 120&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; the patch does not add/modify any testcase&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 RAT&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new RAT warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 JAVADOC&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new Javadoc warnings&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;WARNING&lt;/font&gt;: the current HEAD has 23 Javadoc warning(s)&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 COMPILE&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; HEAD compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; patch compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new javac warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 FINDBUGS&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new Findbugs warnings&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;WARNING: the current HEAD has  Findbugs warning(s), they should be addressed ASAP&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;-1 TESTS&lt;/font&gt;&lt;br/&gt;
.    Tests run: 859&lt;br/&gt;
.    Tests failed: 16&lt;br/&gt;
.    Tests errors: 20&lt;/p&gt;

&lt;p&gt;.    The patch failed the following testcases:&lt;/p&gt;

&lt;p&gt;.      testAsyncSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testSyncUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testAsyncUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testSyncHubSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testAsyncHubSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testSyncHubUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testAsyncHubUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testPublishWithBookKeeperError&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testAsyncSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testSyncUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testAsyncUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testSyncHubSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testAsyncHubSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testSyncHubUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testAsyncHubUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testPublishWithBookKeeperError&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 DISTRO&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; distro tarball builds with the patch &lt;/p&gt;

&lt;p&gt;----------------------------&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;&lt;b&gt;-1 Overall result, please check the reported -1(s)&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;.   There is at least one warning, please check&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;The full output of the test-patch run is available at&lt;/p&gt;

&lt;p&gt;.   &lt;a href=&quot;https://builds.apache.org/job/bookkeeper-trunk-precommit-build/664/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/bookkeeper-trunk-precommit-build/664/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14087591" author="rakeshr" created="Wed, 6 Aug 2014 13:14:57 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hustlmsp&quot; class=&quot;user-hover&quot; rel=&quot;hustlmsp&quot;&gt;Sijie Guo&lt;/a&gt; thanks for the patch. Could you please look at the snapshot image I had attached earlier in this JIRA. Here I tried to expose few details(attributes) where user might be interested. What do you think of including these too.&lt;/p&gt;</comment>
                            <comment id="14087594" author="hadoopqa" created="Wed, 6 Aug 2014 13:22:38 +0100"  >&lt;p&gt;Testing JIRA &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-736&quot; title=&quot;Stats for AutoRecovery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-736&quot;&gt;&lt;del&gt;BOOKKEEPER-736&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Patch &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12660076/BOOKKEEPER-736.v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;BOOKKEEPER-736.v2.patch&lt;/a&gt; downloaded at Wed Aug  6 11:18:53 UTC 2014&lt;/p&gt;

&lt;p&gt;----------------------------&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 PATCH_APPLIES&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 CLEAN&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;-1 RAW_PATCH_ANALYSIS&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any @author tags&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any tabs&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any trailing spaces&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any line longer than 120&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; the patch does not add/modify any testcase&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 RAT&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new RAT warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 JAVADOC&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new Javadoc warnings&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;WARNING&lt;/font&gt;: the current HEAD has 23 Javadoc warning(s)&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 COMPILE&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; HEAD compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; patch compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new javac warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 FINDBUGS&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new Findbugs warnings&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;WARNING: the current HEAD has  Findbugs warning(s), they should be addressed ASAP&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;-1 TESTS&lt;/font&gt;&lt;br/&gt;
.    Tests run: 859&lt;br/&gt;
.    Tests failed: 17&lt;br/&gt;
.    Tests errors: 20&lt;/p&gt;

&lt;p&gt;.    The patch failed the following testcases:&lt;/p&gt;

&lt;p&gt;.      testAsyncSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testSyncUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testAsyncUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testSyncHubSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testAsyncHubSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testSyncHubUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testAsyncHubUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testPublishWithBookKeeperError&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testAsyncSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testSyncUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testAsyncUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testSyncHubSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testAsyncHubSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testSyncHubUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testAsyncHubUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testPublishWithBookKeeperError&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testReadOnlyBookieExclusionFromURLedgersCheck&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;(org.apache.bookkeeper.replication.AuditorLedgerCheckerTest)&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 DISTRO&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; distro tarball builds with the patch &lt;/p&gt;

&lt;p&gt;----------------------------&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;&lt;b&gt;-1 Overall result, please check the reported -1(s)&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;.   There is at least one warning, please check&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;The full output of the test-patch run is available at&lt;/p&gt;

&lt;p&gt;.   &lt;a href=&quot;https://builds.apache.org/job/bookkeeper-trunk-precommit-build/665/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/bookkeeper-trunk-precommit-build/665/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14087672" author="hadoopqa" created="Wed, 6 Aug 2014 14:41:51 +0100"  >&lt;p&gt;Testing JIRA &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-736&quot; title=&quot;Stats for AutoRecovery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-736&quot;&gt;&lt;del&gt;BOOKKEEPER-736&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Patch &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12660076/BOOKKEEPER-736.v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;BOOKKEEPER-736.v2.patch&lt;/a&gt; downloaded at Wed Aug  6 12:38:17 UTC 2014&lt;/p&gt;

&lt;p&gt;----------------------------&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 PATCH_APPLIES&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 CLEAN&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;-1 RAW_PATCH_ANALYSIS&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any @author tags&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any tabs&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any trailing spaces&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any line longer than 120&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; the patch does not add/modify any testcase&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 RAT&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new RAT warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 JAVADOC&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new Javadoc warnings&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;WARNING&lt;/font&gt;: the current HEAD has 23 Javadoc warning(s)&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 COMPILE&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; HEAD compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; patch compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new javac warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 FINDBUGS&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new Findbugs warnings&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;WARNING: the current HEAD has  Findbugs warning(s), they should be addressed ASAP&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;-1 TESTS&lt;/font&gt;&lt;br/&gt;
.    Tests run: 800&lt;br/&gt;
.    Tests failed: 8&lt;br/&gt;
.    Tests errors: 10&lt;/p&gt;

&lt;p&gt;.    The patch failed the following testcases:&lt;/p&gt;

&lt;p&gt;.      testAsyncSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testSyncUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testAsyncUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testSyncHubSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testAsyncHubSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testSyncHubUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testAsyncHubUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testPublishWithBookKeeperError&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 DISTRO&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; distro tarball builds with the patch &lt;/p&gt;

&lt;p&gt;----------------------------&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;&lt;b&gt;-1 Overall result, please check the reported -1(s)&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;.   There is at least one warning, please check&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;The full output of the test-patch run is available at&lt;/p&gt;

&lt;p&gt;.   &lt;a href=&quot;https://builds.apache.org/job/bookkeeper-trunk-precommit-build/666/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/bookkeeper-trunk-precommit-build/666/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14087919" author="hustlmsp" created="Wed, 6 Aug 2014 18:30:17 +0100"  >&lt;blockquote&gt;
&lt;p&gt;Here I tried to expose few details(attributes) where user might be interested. What do you think of including these too.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The stats library currently doesn&apos;t have the ability to expose attributes. Although I am not sure it is worth to expose them (e.g. startTime, checkInterval), which they never changed and could be found by logs and configurations. Why you need them to be exposed as a stat?&lt;/p&gt;</comment>
                            <comment id="14088815" author="rakeshr" created="Thu, 7 Aug 2014 05:24:49 +0100"  >&lt;p&gt;Yeah, I agree the config items can be ignored. But I think it would be useful to see the information like - NumUrLedgers, NumRereplicatedLedgers, NumPendingReplicationLedgers ?&lt;/p&gt;</comment>
                            <comment id="14094630" author="hadoopqa" created="Tue, 12 Aug 2014 21:39:52 +0100"  >&lt;p&gt;Testing JIRA &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-736&quot; title=&quot;Stats for AutoRecovery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-736&quot;&gt;&lt;del&gt;BOOKKEEPER-736&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Patch &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12660076/BOOKKEEPER-736.v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;BOOKKEEPER-736.v2.patch&lt;/a&gt; downloaded at Tue Aug 12 19:36:21 UTC 2014&lt;/p&gt;

&lt;p&gt;----------------------------&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 PATCH_APPLIES&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 CLEAN&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;-1 RAW_PATCH_ANALYSIS&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any @author tags&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any tabs&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any trailing spaces&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any line longer than 120&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; the patch does not add/modify any testcase&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 RAT&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new RAT warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 JAVADOC&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new Javadoc warnings&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;WARNING&lt;/font&gt;: the current HEAD has 23 Javadoc warning(s)&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 COMPILE&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; HEAD compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; patch compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new javac warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 FINDBUGS&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new Findbugs warnings&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;WARNING: the current HEAD has  Findbugs warning(s), they should be addressed ASAP&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;-1 TESTS&lt;/font&gt;&lt;br/&gt;
.    Tests run: 859&lt;br/&gt;
.    Tests failed: 16&lt;br/&gt;
.    Tests errors: 21&lt;/p&gt;

&lt;p&gt;.    The patch failed the following testcases:&lt;/p&gt;

&lt;p&gt;.      testAsyncSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testSyncUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testAsyncUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testSyncHubSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testAsyncHubSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testSyncHubUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testAsyncHubUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testPublishWithBookKeeperError&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testAsyncSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testSyncUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testAsyncUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testSyncHubSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testAsyncHubSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testSyncHubUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testAsyncHubUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testPublishWithBookKeeperError&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 DISTRO&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; distro tarball builds with the patch &lt;/p&gt;

&lt;p&gt;----------------------------&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;&lt;b&gt;-1 Overall result, please check the reported -1(s)&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;.   There is at least one warning, please check&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;The full output of the test-patch run is available at&lt;/p&gt;

&lt;p&gt;.   &lt;a href=&quot;https://builds.apache.org/job/bookkeeper-trunk-precommit-build/669/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/bookkeeper-trunk-precommit-build/669/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14095941" author="hadoopqa" created="Wed, 13 Aug 2014 20:01:13 +0100"  >&lt;p&gt;Testing JIRA &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-736&quot; title=&quot;Stats for AutoRecovery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-736&quot;&gt;&lt;del&gt;BOOKKEEPER-736&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Patch &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12660076/BOOKKEEPER-736.v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;BOOKKEEPER-736.v2.patch&lt;/a&gt; downloaded at Wed Aug 13 17:57:29 UTC 2014&lt;/p&gt;

&lt;p&gt;----------------------------&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 PATCH_APPLIES&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 CLEAN&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;-1 RAW_PATCH_ANALYSIS&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any @author tags&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any tabs&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any trailing spaces&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any line longer than 120&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; the patch does not add/modify any testcase&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 RAT&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new RAT warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 JAVADOC&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new Javadoc warnings&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;WARNING&lt;/font&gt;: the current HEAD has 23 Javadoc warning(s)&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 COMPILE&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; HEAD compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; patch compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new javac warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 FINDBUGS&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new Findbugs warnings&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;WARNING: the current HEAD has  Findbugs warning(s), they should be addressed ASAP&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;-1 TESTS&lt;/font&gt;&lt;br/&gt;
.    Tests run: 859&lt;br/&gt;
.    Tests failed: 16&lt;br/&gt;
.    Tests errors: 20&lt;/p&gt;

&lt;p&gt;.    The patch failed the following testcases:&lt;/p&gt;

&lt;p&gt;.      testAsyncSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testSyncUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testAsyncUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testSyncHubSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testAsyncHubSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testSyncHubUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testAsyncHubUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testPublishWithBookKeeperError&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testAsyncSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testSyncUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testAsyncUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testSyncHubSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testAsyncHubSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testSyncHubUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testAsyncHubUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testPublishWithBookKeeperError&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 DISTRO&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; distro tarball builds with the patch &lt;/p&gt;

&lt;p&gt;----------------------------&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;&lt;b&gt;-1 Overall result, please check the reported -1(s)&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;.   There is at least one warning, please check&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;The full output of the test-patch run is available at&lt;/p&gt;

&lt;p&gt;.   &lt;a href=&quot;https://builds.apache.org/job/bookkeeper-trunk-precommit-build/674/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/bookkeeper-trunk-precommit-build/674/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14098134" author="hustlmsp" created="Fri, 15 Aug 2014 05:39:52 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rakeshr&quot; class=&quot;user-hover&quot; rel=&quot;rakeshr&quot;&gt;Rakesh R&lt;/a&gt; I don&apos;t know if NumUrLedgers, NumRereplicatedLedgers is useful, since it doesn&apos;t indicated the number of under replicated ledgers in the cluster at a given point. I would suggest leave them out and re-consider adding them back if there is a use case that need them.&lt;/p&gt;</comment>
                            <comment id="14098208" author="rakeshr" created="Fri, 15 Aug 2014 06:46:44 +0100"  >&lt;blockquote&gt;&lt;p&gt;I don&apos;t know if NumUrLedgers, NumRereplicatedLedgers is useful, since it doesn&apos;t indicated the number of under replicated ledgers in the cluster at a given point&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;At a given point of time the following autorecovery stats gives :&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;&lt;em&gt;NumUrLedgers&lt;/em&gt; -&amp;gt; the total number of under replicated ledgers in the BK cluster&lt;/li&gt;
	&lt;li&gt;&lt;em&gt;NumRereplicatedLedgers&lt;/em&gt; -&amp;gt; the total number of ledgers which a bookie(say BK1) has successfully re-replicated to itself.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;IMHO these statistics would be helpful to the administrators to watch the stability of the BK cluster.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I would suggest leave them out and re-consider adding them back if there is a use case that need them.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;It would be good to expose these info. Also, welcome others opinion.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Rakesh&lt;/p&gt;</comment>
                            <comment id="14098218" author="hustlmsp" created="Fri, 15 Aug 2014 06:58:38 +0100"  >&lt;blockquote&gt;
&lt;p&gt;the total number of ledgers which a bookie(say BK1) has successfully re-replicated to itself.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;the stats of re-replication already gives what you want.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;NumUrLedgers -&amp;gt; the total number of under replicated ledgers in the BK cluster&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;as I said, the only place that have total number of under replicated ledgers in the bk cluster is the zookeeper metadata. the counter that you have just indicated that under replicated ledgers that the bookie process found during it is running. it doest provide any useful info.&lt;/p&gt;</comment>
                            <comment id="14098979" author="rakeshr" created="Fri, 15 Aug 2014 20:33:10 +0100"  >&lt;blockquote&gt;&lt;p&gt;the stats of re-replication already gives what you want.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Are you pointing me to rereplicateOpStats.registerSuccessfulEvent(latencyMillis);. Does this gives NumRereplicatedLedgers ?&lt;br/&gt;
If I&apos;m wrong please point me to the correct one. Thanks.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;as I said, the only place that have total number of under replicated ledgers in the bk cluster is the zookeeper metadata. the counter that you have just indicated that under replicated ledgers that the bookie process found during it is running. it doest provide any useful info.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;If there are UrLedgers it gives hint that the BK cluster has to be carefully observed to see its successful recovery, because there are missing replicas and could be a concern for critical data like Namenode WAL. I agree there is an alternative path by just querying through bookie shell command &quot;listunderreplicated&quot;. But I&apos;m trying to see any possibilities of exposing it as stats.&lt;/p&gt;</comment>
                            <comment id="14100109" author="hustlmsp" created="Sun, 17 Aug 2014 22:06:13 +0100"  >&lt;blockquote&gt;
&lt;p&gt;rereplicateOpStats.registerSuccessfulEvent(latencyMillis)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;rereplicate op stats already has a counter for the re-replication operations.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;If there are UrLedgers it gives hint that the BK cluster has to be carefully observed to see its successful recovery, because there are missing replicas and could be a concern for critical data like Namenode WAL&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;as I said that, the counter dosn&apos;t provided any meaningful info on underreplicated ledgers. for example, &lt;/p&gt;

&lt;p&gt;bookie process starts up, it marks 3 ledgers as underreplicated, the counter is 3.&lt;br/&gt;
bookie failed and restarted, the counter was reset to 0. those 3 ledgers are marked as replicated after re-replicated. so the counter becomes -3. what does -3 mean? it means nothing. &lt;/p&gt;

&lt;p&gt;if you strongly want to put those stats in, please provide the mechanism that could provide a meaningful stat for them. otherwise, we just end up arguing on meaningless things.&lt;/p&gt;</comment>
                            <comment id="14105737" author="rakeshr" created="Thu, 21 Aug 2014 19:29:09 +0100"  >&lt;blockquote&gt;&lt;p&gt;rereplicate op stats already has a counter for the re-replication operations.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;ok, its counter for re-replication attempts. Actually ReplicationWorker#rereplicate() is a blocking call and will not return until a ledger is available for rereplication. It will not give the latency of the replication attempt if we keep the logic over the #rereplicate() call. Can we think of moving the latency computation inside #rereplicate() call like below:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; void rereplicate() {
     &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; ledgerIdToReplicate = underreplicationManager
                .getLedgerToRereplicate();
     stopwatch.reset().start();
     &lt;span class=&quot;code-comment&quot;&gt;//....
&lt;/span&gt;     &lt;span class=&quot;code-comment&quot;&gt;//....replication logic
&lt;/span&gt;     &lt;span class=&quot;code-comment&quot;&gt;//....
&lt;/span&gt;     &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; latencyMillis = stopwatch.stop().elapsedMillis();
     underreplicationManager.markLedgerReplicated(ledgerIdToReplicate);
     &lt;span class=&quot;code-comment&quot;&gt;//...
&lt;/span&gt;}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;&lt;p&gt;bookie process starts up, it marks 3 ledgers as underreplicated, the counter is 3.&lt;br/&gt;
bookie failed and restarted, the counter was reset to 0. those 3 ledgers are marked as replicated after re-replicated. so the counter becomes -3. what does -3 mean? it means nothing.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Thank you for your patience. Yeah, &quot;UrLedgers&quot; could not be able to manage as counter. This has to be queried to the ZooKeeper for accuracy. I have one last doubt,  is there any way to represent a flag &quot;UrLedgersExists&quot; true/false in StatsLogger? If yes, one idea to implement this is - ReplicationWorker can maintain this flag. He has the knowledge of under replicated ledgers in bk cluster. Using this information he can set the flag to true or false during his re-replication attempts.&lt;/p&gt;

&lt;p&gt;If you feel this is not meaningful, I agree to leave this part now and move ahead with other areas rather than spending time on this&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14108817" author="hustlmsp" created="Mon, 25 Aug 2014 07:40:20 +0100"  >&lt;p&gt;k. I will fix the rereplicate stat. for the urledgers counter, I don&apos;t want to add this counter. as it is hard and doesn&apos;t make any sense to collect an inaccurate counter.&lt;/p&gt;</comment>
                            <comment id="14108833" author="rakeshr" created="Mon, 25 Aug 2014 08:10:21 +0100"  >&lt;p&gt;Make sense +1.&lt;/p&gt;</comment>
                            <comment id="14108840" author="hustlmsp" created="Mon, 25 Aug 2014 08:21:28 +0100"  >&lt;p&gt;attach a new patch improving re-replicate stat collection&lt;/p&gt;</comment>
                            <comment id="14108937" author="hadoopqa" created="Mon, 25 Aug 2014 10:22:10 +0100"  >&lt;p&gt;Testing JIRA &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-736&quot; title=&quot;Stats for AutoRecovery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-736&quot;&gt;&lt;del&gt;BOOKKEEPER-736&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Patch &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12664111/BOOKKEEPER-736.v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;BOOKKEEPER-736.v3.patch&lt;/a&gt; downloaded at Mon Aug 25 08:17:54 UTC 2014&lt;/p&gt;

&lt;p&gt;----------------------------&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 PATCH_APPLIES&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 CLEAN&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;-1 RAW_PATCH_ANALYSIS&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any @author tags&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any tabs&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any trailing spaces&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any line longer than 120&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; the patch does not add/modify any testcase&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 RAT&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new RAT warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 JAVADOC&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new Javadoc warnings&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;WARNING&lt;/font&gt;: the current HEAD has 23 Javadoc warning(s)&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 COMPILE&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; HEAD compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; patch compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new javac warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 FINDBUGS&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new Findbugs warnings&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;WARNING: the current HEAD has  Findbugs warning(s), they should be addressed ASAP&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;-1 TESTS&lt;/font&gt;&lt;br/&gt;
.    Tests run: 745&lt;br/&gt;
.    Tests failed: 0&lt;br/&gt;
.    Tests errors: 1&lt;/p&gt;

&lt;p&gt;.    The patch failed the following testcases:&lt;/p&gt;

&lt;p&gt;.      &lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 DISTRO&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; distro tarball builds with the patch &lt;/p&gt;

&lt;p&gt;----------------------------&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;&lt;b&gt;-1 Overall result, please check the reported -1(s)&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;.   There is at least one warning, please check&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;The full output of the test-patch run is available at&lt;/p&gt;

&lt;p&gt;.   &lt;a href=&quot;https://builds.apache.org/job/bookkeeper-trunk-precommit-build/681/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/bookkeeper-trunk-precommit-build/681/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14109000" author="hadoopqa" created="Mon, 25 Aug 2014 11:35:26 +0100"  >&lt;p&gt;Testing JIRA &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-736&quot; title=&quot;Stats for AutoRecovery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-736&quot;&gt;&lt;del&gt;BOOKKEEPER-736&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Patch &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12664111/BOOKKEEPER-736.v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;BOOKKEEPER-736.v3.patch&lt;/a&gt; downloaded at Mon Aug 25 09:31:44 UTC 2014&lt;/p&gt;

&lt;p&gt;----------------------------&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 PATCH_APPLIES&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 CLEAN&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;-1 RAW_PATCH_ANALYSIS&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any @author tags&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any tabs&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any trailing spaces&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any line longer than 120&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; the patch does not add/modify any testcase&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 RAT&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new RAT warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 JAVADOC&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new Javadoc warnings&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;WARNING&lt;/font&gt;: the current HEAD has 23 Javadoc warning(s)&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 COMPILE&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; HEAD compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; patch compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new javac warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 FINDBUGS&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new Findbugs warnings&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;WARNING: the current HEAD has  Findbugs warning(s), they should be addressed ASAP&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;-1 TESTS&lt;/font&gt;&lt;br/&gt;
.    Tests run: 804&lt;br/&gt;
.    Tests failed: 8&lt;br/&gt;
.    Tests errors: 10&lt;/p&gt;

&lt;p&gt;.    The patch failed the following testcases:&lt;/p&gt;

&lt;p&gt;.      testAsyncSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testSyncUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testAsyncUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testSyncHubSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testAsyncHubSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testSyncHubUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testAsyncHubUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testPublishWithBookKeeperError&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 DISTRO&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; distro tarball builds with the patch &lt;/p&gt;

&lt;p&gt;----------------------------&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;&lt;b&gt;-1 Overall result, please check the reported -1(s)&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;.   There is at least one warning, please check&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;The full output of the test-patch run is available at&lt;/p&gt;

&lt;p&gt;.   &lt;a href=&quot;https://builds.apache.org/job/bookkeeper-trunk-precommit-build/682/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/bookkeeper-trunk-precommit-build/682/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14110313" author="rakeshr" created="Tue, 26 Aug 2014 06:41:46 +0100"  >&lt;p&gt;Thanks Sijie, latest patch looks better. &lt;/p&gt;

&lt;p&gt;There are few more comments from me. Sorry, I failed to include this previously.&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;It would be better to categorize success and failure based on the re-replica operation. For this, please modify rereplicate(long ledgerIdToReplicate) method by returning boolean status. Then return &apos;true&apos; only if the underreplicationManager.markLedgerReplicated(ledgerIdToReplicate); call succeeds, all other places we can return &apos;false&apos;.&lt;/li&gt;
	&lt;li&gt;Should we retain the existing constructors for ReplicationWorker, AuditorElector. I couldn&apos;t see any usage of these, please remove.&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="14110364" author="hustlmsp" created="Tue, 26 Aug 2014 07:25:14 +0100"  >&lt;p&gt;&amp;gt; 1&lt;/p&gt;

&lt;p&gt;will fix it.&lt;/p&gt;


&lt;p&gt;&amp;gt; 2&lt;/p&gt;

&lt;p&gt;The way to keep a default constructor with a NullStatsLogger. I don&apos;t see a strong reason to remove them. so I will keep them around.&lt;/p&gt;</comment>
                            <comment id="14110377" author="hustlmsp" created="Tue, 26 Aug 2014 07:34:43 +0100"  >&lt;p&gt;attach the new patch&lt;/p&gt;</comment>
                            <comment id="14110379" author="rakeshr" created="Tue, 26 Aug 2014 07:36:22 +0100"  >&lt;blockquote&gt;&lt;p&gt;The way to keep a default constructor with a NullStatsLogger. I don&apos;t see a strong reason to remove them. so I will keep them around.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;ReplicationWorker, AuditorElector - both are internal entities to the AutoRecovery module and is used only inside AutoRecoveryMain. I was thinking in that way.&lt;/p&gt;</comment>
                            <comment id="14110394" author="hustlmsp" created="Tue, 26 Aug 2014 07:45:11 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rakeshr&quot; class=&quot;user-hover&quot; rel=&quot;rakeshr&quot;&gt;Rakesh R&lt;/a&gt; please consider tests.&lt;/p&gt;</comment>
                            <comment id="14110451" author="rakeshr" created="Tue, 26 Aug 2014 08:50:07 +0100"  >&lt;blockquote&gt;&lt;p&gt;please consider tests.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Tests can be modified using NullStatsLogger. Since it is not exposed to anyone, won&apos;t be a problem.&lt;/p&gt;</comment>
                            <comment id="14110454" author="hadoopqa" created="Tue, 26 Aug 2014 08:53:00 +0100"  >&lt;p&gt;Testing JIRA &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-736&quot; title=&quot;Stats for AutoRecovery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-736&quot;&gt;&lt;del&gt;BOOKKEEPER-736&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Patch &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12664327/BOOKKEEPER-736.v4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;BOOKKEEPER-736.v4.patch&lt;/a&gt; downloaded at Tue Aug 26 06:48:54 UTC 2014&lt;/p&gt;

&lt;p&gt;----------------------------&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 PATCH_APPLIES&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 CLEAN&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;-1 RAW_PATCH_ANALYSIS&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any @author tags&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any tabs&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any trailing spaces&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any line longer than 120&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; the patch does not add/modify any testcase&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 RAT&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new RAT warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 JAVADOC&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new Javadoc warnings&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;WARNING&lt;/font&gt;: the current HEAD has 23 Javadoc warning(s)&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 COMPILE&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; HEAD compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; patch compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new javac warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 FINDBUGS&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new Findbugs warnings&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;WARNING: the current HEAD has  Findbugs warning(s), they should be addressed ASAP&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;-1 TESTS&lt;/font&gt;&lt;br/&gt;
.    Tests run: 804&lt;br/&gt;
.    Tests failed: 8&lt;br/&gt;
.    Tests errors: 10&lt;/p&gt;

&lt;p&gt;.    The patch failed the following testcases:&lt;/p&gt;

&lt;p&gt;.      testAsyncSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testSyncUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testAsyncUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testSyncHubSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testAsyncHubSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testSyncHubUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testAsyncHubUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testPublishWithBookKeeperError&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 DISTRO&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; distro tarball builds with the patch &lt;/p&gt;

&lt;p&gt;----------------------------&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;&lt;b&gt;-1 Overall result, please check the reported -1(s)&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;.   There is at least one warning, please check&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;The full output of the test-patch run is available at&lt;/p&gt;

&lt;p&gt;.   &lt;a href=&quot;https://builds.apache.org/job/bookkeeper-trunk-precommit-build/683/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/bookkeeper-trunk-precommit-build/683/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14110471" author="hustlmsp" created="Tue, 26 Aug 2014 09:12:05 +0100"  >&lt;p&gt;it doesn&apos;t make any sense to spread NullStatsLogger to every places to construct them. so a constructor with NullStatsLogger is necessary for sure.&lt;/p&gt;</comment>
                            <comment id="14110504" author="rakeshr" created="Tue, 26 Aug 2014 09:49:20 +0100"  >&lt;p&gt;There is a nice way to to differentiate things. I&apos;ve seen @VisibleForTesting annotations &apos;com.google.common.annotations.VisibleForTesting&apos; in hadoop projects.&lt;br/&gt;
Do you mind add this for the existing constructors which we are discussing.  Apart from this +1 for the patch.&lt;/p&gt;</comment>
                            <comment id="14110528" author="hadoopqa" created="Tue, 26 Aug 2014 10:15:43 +0100"  >&lt;p&gt;Testing JIRA &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-736&quot; title=&quot;Stats for AutoRecovery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-736&quot;&gt;&lt;del&gt;BOOKKEEPER-736&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Patch &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12664327/BOOKKEEPER-736.v4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;BOOKKEEPER-736.v4.patch&lt;/a&gt; downloaded at Tue Aug 26 08:11:45 UTC 2014&lt;/p&gt;

&lt;p&gt;----------------------------&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 PATCH_APPLIES&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 CLEAN&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;-1 RAW_PATCH_ANALYSIS&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any @author tags&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any tabs&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any trailing spaces&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any line longer than 120&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; the patch does not add/modify any testcase&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 RAT&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new RAT warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 JAVADOC&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new Javadoc warnings&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;WARNING&lt;/font&gt;: the current HEAD has 23 Javadoc warning(s)&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 COMPILE&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; HEAD compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; patch compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new javac warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 FINDBUGS&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new Findbugs warnings&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;WARNING: the current HEAD has  Findbugs warning(s), they should be addressed ASAP&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;-1 TESTS&lt;/font&gt;&lt;br/&gt;
.    Tests run: 863&lt;br/&gt;
.    Tests failed: 16&lt;br/&gt;
.    Tests errors: 20&lt;/p&gt;

&lt;p&gt;.    The patch failed the following testcases:&lt;/p&gt;

&lt;p&gt;.      testAsyncSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testSyncUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testAsyncUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testSyncHubSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testAsyncHubSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testSyncHubUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testAsyncHubUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testPublishWithBookKeeperError&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testAsyncSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testSyncUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testAsyncUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testSyncHubSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testAsyncHubSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testSyncHubUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testAsyncHubUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testPublishWithBookKeeperError&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 DISTRO&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; distro tarball builds with the patch &lt;/p&gt;

&lt;p&gt;----------------------------&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;&lt;b&gt;-1 Overall result, please check the reported -1(s)&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;.   There is at least one warning, please check&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;The full output of the test-patch run is available at&lt;/p&gt;

&lt;p&gt;.   &lt;a href=&quot;https://builds.apache.org/job/bookkeeper-trunk-precommit-build/684/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/bookkeeper-trunk-precommit-build/684/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14110678" author="hadoopqa" created="Tue, 26 Aug 2014 14:15:58 +0100"  >&lt;p&gt;Testing JIRA &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-736&quot; title=&quot;Stats for AutoRecovery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-736&quot;&gt;&lt;del&gt;BOOKKEEPER-736&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Patch &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12664327/BOOKKEEPER-736.v4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;BOOKKEEPER-736.v4.patch&lt;/a&gt; downloaded at Tue Aug 26 12:11:45 UTC 2014&lt;/p&gt;

&lt;p&gt;----------------------------&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 PATCH_APPLIES&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 CLEAN&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;-1 RAW_PATCH_ANALYSIS&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any @author tags&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any tabs&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any trailing spaces&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any line longer than 120&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; the patch does not add/modify any testcase&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 RAT&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new RAT warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 JAVADOC&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new Javadoc warnings&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;WARNING&lt;/font&gt;: the current HEAD has 23 Javadoc warning(s)&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 COMPILE&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; HEAD compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; patch compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new javac warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 FINDBUGS&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new Findbugs warnings&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;WARNING: the current HEAD has  Findbugs warning(s), they should be addressed ASAP&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;-1 TESTS&lt;/font&gt;&lt;br/&gt;
.    Tests run: 863&lt;br/&gt;
.    Tests failed: 16&lt;br/&gt;
.    Tests errors: 20&lt;/p&gt;

&lt;p&gt;.    The patch failed the following testcases:&lt;/p&gt;

&lt;p&gt;.      testAsyncSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testSyncUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testAsyncUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testSyncHubSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testAsyncHubSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testSyncHubUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testAsyncHubUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testPublishWithBookKeeperError&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubRegular)&lt;br/&gt;
.      testAsyncSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testSyncUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testAsyncUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testSyncHubSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testAsyncHubSubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testSyncHubUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testAsyncHubUnsubscribeWithInvalidSubscriberId&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;br/&gt;
.      testPublishWithBookKeeperError&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.hedwig.server.integration.TestHedwigHubSSL)&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 DISTRO&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; distro tarball builds with the patch &lt;/p&gt;

&lt;p&gt;----------------------------&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;&lt;b&gt;-1 Overall result, please check the reported -1(s)&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;.   There is at least one warning, please check&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;The full output of the test-patch run is available at&lt;/p&gt;

&lt;p&gt;.   &lt;a href=&quot;https://builds.apache.org/job/bookkeeper-trunk-precommit-build/685/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/bookkeeper-trunk-precommit-build/685/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14110859" author="hustlmsp" created="Tue, 26 Aug 2014 16:52:49 +0100"  >&lt;p&gt;as I said, the default constructor is a shortcut constructor for instantiating an object with default NullStatsLogger. it is useful everywhere not just for testing and to keep backward compatible if needed. I don&apos;t like the idea to mark every this kind of constructor to be visible for testing, which doesn&apos;t seems to be exposed only for testing. &lt;/p&gt;</comment>
                            <comment id="14110935" author="rakeshr" created="Tue, 26 Aug 2014 17:47:42 +0100"  >&lt;blockquote&gt;&lt;p&gt;I don&apos;t like the idea to mark every this kind of constructor to be visible for testing, which doesn&apos;t seems to be exposed only for testing.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;ok. its just a suggestion, please feel free to ignore if nobody complains this.&lt;/p&gt;</comment>
                            <comment id="14124346" author="hustlmsp" created="Sat, 6 Sep 2014 06:59:07 +0100"  >&lt;p&gt;committed as r1622832.&lt;/p&gt;</comment>
                            <comment id="14124375" author="hudson" created="Sat, 6 Sep 2014 08:08:24 +0100"  >&lt;p&gt;FAILURE: Integrated in bookkeeper-trunk #766 (See &lt;a href=&quot;https://builds.apache.org/job/bookkeeper-trunk/766/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/bookkeeper-trunk/766/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-736&quot; title=&quot;Stats for AutoRecovery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-736&quot;&gt;&lt;del&gt;BOOKKEEPER-736&lt;/del&gt;&lt;/a&gt;: Stats for AutoRecovery (sijie) (sijie: rev 1622832)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/bookkeeper-server/src/main/java/org/apache/bookkeeper/proto/BookieServer.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/bookkeeper-server/src/main/java/org/apache/bookkeeper/replication/AuditorElector.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/bookkeeper-server/src/main/java/org/apache/bookkeeper/replication/AutoRecoveryMain.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/bookkeeper-server/src/main/java/org/apache/bookkeeper/replication/ReplicationStats.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/bookkeeper-server/src/main/java/org/apache/bookkeeper/replication/ReplicationWorker.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14124413" author="rakeshr" created="Sat, 6 Sep 2014 11:12:38 +0100"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hustlmsp&quot; class=&quot;user-hover&quot; rel=&quot;hustlmsp&quot;&gt;Sijie Guo&lt;/a&gt;. Nice work&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12676278">BOOKKEEPER-697</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12658071" name="BOOKKEEPER-736.patch" size="18367" author="hustlmsp" created="Mon, 28 Jul 2014 05:48:08 +0100"/>
                            <attachment id="12660076" name="BOOKKEEPER-736.v2.patch" size="19155" author="hustlmsp" created="Wed, 6 Aug 2014 08:12:05 +0100"/>
                            <attachment id="12664111" name="BOOKKEEPER-736.v3.patch" size="18983" author="hustlmsp" created="Mon, 25 Aug 2014 08:21:28 +0100"/>
                            <attachment id="12664327" name="BOOKKEEPER-736.v4.patch" size="20931" author="hustlmsp" created="Tue, 26 Aug 2014 07:34:25 +0100"/>
                            <attachment id="12630622" name="Prototype-JMX-beans-for-standalone-autorecovery-process.png" size="22930" author="rakeshr" created="Mon, 24 Feb 2014 08:01:40 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12696855">BOOKKEEPER-737</subtask>
                            <subtask id="12696856">BOOKKEEPER-738</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 3 Mar 2014 07:23:57 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>375329</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzmj4f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>375625</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>