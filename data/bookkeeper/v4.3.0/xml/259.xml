<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat May 16 23:32:05 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/BOOKKEEPER-259/BOOKKEEPER-259.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[BOOKKEEPER-259] Create a topic manager using versioned write for leader election</title>
                <link>https://issues.apache.org/jira/browse/BOOKKEEPER-259</link>
                <project id="12311293" key="BOOKKEEPER">Bookkeeper</project>
                    <description>&lt;p&gt;currently, ZkTopicManager use zookeeper ephemeral node to store the owner information of a topic. so the znode will disappear when the owner hub server is down, the leader election is quite simple based on this model.&lt;/p&gt;

&lt;p&gt;but for most key-value storage, there is no similar concepts like ephemeral node, but just providing versioned writes. so it would be better to provide a topic manager using versioned writes.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12555276">BOOKKEEPER-259</key>
            <summary>Create a topic manager using versioned write for leader election</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12545436">BOOKKEEPER-181</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hustlmsp">Sijie Guo</assignee>
                                    <reporter username="hustlmsp">Sijie Guo</reporter>
                        <labels>
                    </labels>
                <created>Tue, 15 May 2012 04:10:55 +0100</created>
                <updated>Thu, 2 May 2013 03:29:53 +0100</updated>
                            <resolved>Mon, 6 Aug 2012 12:02:15 +0100</resolved>
                                                    <fixVersion>4.2.0</fixVersion>
                                    <component>hedwig-server</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13275156" author="hustlmsp" created="Tue, 15 May 2012 04:18:21 +0100"  >&lt;p&gt;it would be part of the metadata manager interface in Hedwig.&lt;/p&gt;</comment>
                            <comment id="13292652" author="hustlmsp" created="Mon, 11 Jun 2012 06:54:11 +0100"  >&lt;p&gt;attach a new patch rebased on lastest trunk. the patch provide a topic manager using versioned write, so read/write owner info would be part to metadata manager as in &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-250&quot; title=&quot;Need a ledger manager like interface to manage metadata operations in Hedwig&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-250&quot;&gt;&lt;del&gt;BOOKKEEPER-250&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13294276" author="hustlmsp" created="Wed, 13 Jun 2012 09:48:48 +0100"  >&lt;p&gt;new patch similar as &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-203&quot; title=&quot;improve ledger manager interface to remove zookeeper dependency on metadata operations.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-203&quot;&gt;&lt;del&gt;BOOKKEEPER-203&lt;/del&gt;&lt;/a&gt;, to remove zookeeper integer version dependency.&lt;/p&gt;</comment>
                            <comment id="13295175" author="ikelly" created="Thu, 14 Jun 2012 18:26:04 +0100"  >&lt;p&gt;I haven&apos;t reviewed this a great deal (pending questions on 250), but one issue is that HubInfo should be protobuf.&lt;/p&gt;</comment>
                            <comment id="13409290" author="hustlmsp" created="Mon, 9 Jul 2012 10:31:51 +0100"  >&lt;p&gt;attach a new patch addressing Ivan&apos;s comments in both &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-250&quot; title=&quot;Need a ledger manager like interface to manage metadata operations in Hedwig&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-250&quot;&gt;&lt;del&gt;BOOKKEEPER-250&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-259&quot; title=&quot;Create a topic manager using versioned write for leader election&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-259&quot;&gt;&lt;del&gt;BOOKKEEPER-259&lt;/del&gt;&lt;/a&gt;. this patch is generated based on &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-250&quot; title=&quot;Need a ledger manager like interface to manage metadata operations in Hedwig&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-250&quot;&gt;&lt;del&gt;BOOKKEEPER-250&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13412681" author="ikelly" created="Thu, 12 Jul 2012 11:39:29 +0100"  >&lt;p&gt;Looks good. I have a couple of comments...&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;MMTopicManager#ownerHubId is unused.&lt;/li&gt;
	&lt;li&gt;MMGetOwnerOp#shouldClaim is never used&lt;/li&gt;
	&lt;li&gt;Load data should be a protobuf message&lt;/li&gt;
	&lt;li&gt;PubSubServer#instantiateTopicManager: The message should warn that this could cause scalability issues. Tense of use is incorrect also.&lt;br/&gt;
&quot;Uses {} to store hedwig metadata, but uses zookeeper ephemeral znodes to store topic ownershop. Check your configuration as this could lead to scalability issues.&quot;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Once fixed it should be ready to go.&lt;/p&gt;</comment>
                            <comment id="13414663" author="hustlmsp" created="Sun, 15 Jul 2012 16:20:53 +0100"  >&lt;p&gt;attach a new patch to address Ivan&apos; comments.&lt;/p&gt;

&lt;p&gt;make load info to be protobuf encoded. also extract common parts from ZkTopicManager and MMTopicManager as HubServerManager, which handles register/unregister hub server to zookkeeper and choose least loaded hub server from available hub server list.&lt;/p&gt;</comment>
                            <comment id="13414665" author="hustlmsp" created="Sun, 15 Jul 2012 16:24:05 +0100"  >&lt;p&gt;review board: &lt;a href=&quot;https://reviews.apache.org/r/5964/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/5964/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13429079" author="ikelly" created="Mon, 6 Aug 2012 12:02:15 +0100"  >&lt;p&gt;Committed as r1369778. Good work Sijie&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12559119">BOOKKEEPER-283</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12554602">BOOKKEEPER-250</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12555971">BOOKKEEPER-262</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12531637" name="BOOKKEEPER-259.diff" size="85186" author="hustlmsp" created="Mon, 11 Jun 2012 06:54:11 +0100"/>
                            <attachment id="12531937" name="BOOKKEEPER-259.diff_v2" size="87248" author="hustlmsp" created="Wed, 13 Jun 2012 09:48:48 +0100"/>
                            <attachment id="12535640" name="BOOKKEEPER-259.diff_v3" size="101280" author="hustlmsp" created="Mon, 9 Jul 2012 10:31:50 +0100"/>
                            <attachment id="12536559" name="BOOKKEEPER-259.diff_v4" size="149697" author="hustlmsp" created="Sun, 15 Jul 2012 16:20:53 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 14 Jun 2012 17:26:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>293524</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyn5t3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169128</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>