<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat May 16 23:25:49 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/BOOKKEEPER-715/BOOKKEEPER-715.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[BOOKKEEPER-715] bookie: delay dropping journal cached pages</title>
                <link>https://issues.apache.org/jira/browse/BOOKKEEPER-715</link>
                <project id="12311293" key="BOOKKEEPER">Bookkeeper</project>
                    <description>&lt;p&gt;As journal writes aren&apos;t aligned to sector size, if bookie drops cached pages immediately, journal has to read those pages again, which would impact journal write performance.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12686824">BOOKKEEPER-715</key>
            <summary>bookie: delay dropping journal cached pages</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12659256">BOOKKEEPER-656</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hustlmsp">Sijie Guo</assignee>
                                    <reporter username="hustlmsp">Sijie Guo</reporter>
                        <labels>
                    </labels>
                <created>Tue, 31 Dec 2013 07:58:00 +0000</created>
                <updated>Fri, 7 Mar 2014 13:15:31 +0000</updated>
                            <resolved>Fri, 7 Mar 2014 12:31:15 +0000</resolved>
                                                    <fixVersion>4.3.0</fixVersion>
                                    <component>bookkeeper-server</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13888853" author="hustlmsp" created="Sun, 2 Feb 2014 06:59:20 +0000"  >&lt;p&gt;attach a patch to introduce LAG for dropping cached pages. otherwise, it might drop the pages that might be accessed in next appends.&lt;/p&gt;

&lt;p&gt;BTW, refactor NativeIO to use fd, not use FileDescriptor&lt;/p&gt;

&lt;p&gt;this change is based on &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-717&quot; title=&quot;journal should look forward to group time-out entries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-717&quot;&gt;&lt;del&gt;BOOKKEEPER-717&lt;/del&gt;&lt;/a&gt;. attach a diff based on &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-717&quot; title=&quot;journal should look forward to group time-out entries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-717&quot;&gt;&lt;del&gt;BOOKKEEPER-717&lt;/del&gt;&lt;/a&gt;. and attach a diff based on trunk (which includes &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-717&quot; title=&quot;journal should look forward to group time-out entries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-717&quot;&gt;&lt;del&gt;BOOKKEEPER-717&lt;/del&gt;&lt;/a&gt;) for pre-commit job.&lt;/p&gt;</comment>
                            <comment id="13888863" author="hadoopqa" created="Sun, 2 Feb 2014 08:29:18 +0000"  >&lt;p&gt;Testing JIRA &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-715&quot; title=&quot;bookie: delay dropping journal cached pages&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-715&quot;&gt;&lt;del&gt;BOOKKEEPER-715&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Patch &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12626515/BOOKKEEPER-715.diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;BOOKKEEPER-715.diff&lt;/a&gt; downloaded at Sun Feb  2 08:01:13 UTC 2014&lt;/p&gt;

&lt;p&gt;----------------------------&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 PATCH_APPLIES&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 CLEAN&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;-1 RAW_PATCH_ANALYSIS&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any @author tags&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any tabs&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any trailing spaces&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any line longer than 120&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; the patch does not add/modify any testcase&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;-1 RAT&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; the patch seems to introduce 1 new RAT warning(s)&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 JAVADOC&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new Javadoc warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 COMPILE&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; HEAD compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; patch compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new javac warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 FINDBUGS&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new Findbugs warnings&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;-1 TESTS&lt;/font&gt;&lt;br/&gt;
.    Tests run: 893&lt;br/&gt;
.    Tests failed: 1&lt;br/&gt;
.    Tests errors: 0&lt;/p&gt;

&lt;p&gt;.    The patch failed the following testcases:&lt;/p&gt;

&lt;p&gt;.      testIndexCorruption(org.apache.bookkeeper.replication.AuditorPeriodicCheckTest)&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 DISTRO&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; distro tarball builds with the patch &lt;/p&gt;

&lt;p&gt;----------------------------&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;&lt;b&gt;-1 Overall result, please check the reported -1(s)&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;


&lt;p&gt;The full output of the test-patch run is available at&lt;/p&gt;

&lt;p&gt;.   &lt;a href=&quot;https://builds.apache.org/job/bookkeeper-trunk-precommit-build/573/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/bookkeeper-trunk-precommit-build/573/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13923841" author="ikelly" created="Fri, 7 Mar 2014 12:31:15 +0000"  >&lt;p&gt;Committed r1575246. Thanks Sijie.&lt;/p&gt;</comment>
                            <comment id="13923866" author="hudson" created="Fri, 7 Mar 2014 13:15:31 +0000"  >&lt;p&gt;SUCCESS: Integrated in bookkeeper-trunk #574 (See &lt;a href=&quot;https://builds.apache.org/job/bookkeeper-trunk/574/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/bookkeeper-trunk/574/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-715&quot; title=&quot;bookie: delay dropping journal cached pages&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-715&quot;&gt;&lt;del&gt;BOOKKEEPER-715&lt;/del&gt;&lt;/a&gt;: bookie: delay dropping journal cached pages (sijie via ivank) (ivank: rev 1575246)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/bookkeeper-server/src/main/java/org/apache/bookkeeper/bookie/JournalChannel.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/bookkeeper-server/src/main/java/org/apache/bookkeeper/util/NativeIO.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12626515" name="BOOKKEEPER-715.diff" size="22813" author="hustlmsp" created="Sun, 2 Feb 2014 06:59:20 +0000"/>
                            <attachment id="12626514" name="BOOKKEEPER-715_717.diff" size="7821" author="hustlmsp" created="Sun, 2 Feb 2014 06:59:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 2 Feb 2014 08:29:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>365817</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzkwnr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>366124</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>