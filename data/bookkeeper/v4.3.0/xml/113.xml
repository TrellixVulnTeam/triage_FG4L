<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat May 16 23:32:21 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/BOOKKEEPER-113/BOOKKEEPER-113.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[BOOKKEEPER-113] NPE In BookKeeper test</title>
                <link>https://issues.apache.org/jira/browse/BOOKKEEPER-113</link>
                <project id="12311293" key="BOOKKEEPER">Bookkeeper</project>
                    <description>&lt;p&gt;This is not correctness issue, but it is ugly to throw an NPE there. &lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Running org.apache.bookkeeper.test.BookieFailureTest
Nov 17, 2011 2:48:28 PM org.jboss.netty.channel.DefaultChannelFuture
WARNING: An exception was thrown by ChannelFutureListener.
java.lang.NullPointerException
	at org.apache.bookkeeper.proto.PerChannelBookieClient.addEntry(PerChannelBookieClient.java:231)
	at org.apache.bookkeeper.proto.BookieClient$1.operationComplete(BookieClient.java:85)
	at org.apache.bookkeeper.proto.BookieClient$1.operationComplete(BookieClient.java:78)
	at org.apache.bookkeeper.proto.PerChannelBookieClient$1.operationComplete(PerChannelBookieClient.java:158)
	at org.jboss.netty.channel.DefaultChannelFuture.notifyListener(DefaultChannelFuture.java:381)
	at org.jboss.netty.channel.DefaultChannelFuture.notifyListeners(DefaultChannelFuture.java:372)
	at org.jboss.netty.channel.DefaultChannelFuture.setSuccess(DefaultChannelFuture.java:316)
	at org.jboss.netty.channel.socket.nio.NioWorker$RegisterTask.run(NioWorker.java:767)
	at org.jboss.netty.channel.socket.nio.NioWorker.processRegisterTaskQueue(NioWorker.java:256)
	at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:198)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:680)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The fix should be trivial, though.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12531791">BOOKKEEPER-113</key>
            <summary>NPE In BookKeeper test</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ikelly">Ivan Kelly</assignee>
                                    <reporter username="fpj">Flavio Junqueira</reporter>
                        <labels>
                    </labels>
                <created>Thu, 17 Nov 2011 13:50:36 +0000</created>
                <updated>Mon, 22 Oct 2012 15:50:18 +0100</updated>
                            <resolved>Fri, 24 Feb 2012 19:08:38 +0000</resolved>
                                                    <fixVersion>4.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13210403" author="fpj" created="Fri, 17 Feb 2012 17:40:04 +0000"  >&lt;p&gt;Simple patch to solve this problem. I&apos;m essentially catching runtime exceptions and erroring out the respective key.&lt;/p&gt;</comment>
                            <comment id="13211749" author="ikelly" created="Mon, 20 Feb 2012 09:59:41 +0000"  >&lt;p&gt;why not just check for null? If I remember correctly, it&apos;s the getBufferFactory() which is returning it.&lt;/p&gt;</comment>
                            <comment id="13211752" author="fpj" created="Mon, 20 Feb 2012 10:08:32 +0000"  >&lt;p&gt;In that long call chain, it looks like there are multiple places where we can get an NPE from. Also, checking for null and executing the operation are not atomic, so it can still break. That&apos;s my rationale at least...&lt;/p&gt;</comment>
                            <comment id="13212068" author="fpj" created="Mon, 20 Feb 2012 20:57:57 +0000"  >&lt;p&gt;Cancel patch until we sort out Ivan&apos;s issue.&lt;/p&gt;</comment>
                            <comment id="13214507" author="ikelly" created="Thu, 23 Feb 2012 09:42:42 +0000"  >&lt;p&gt;I think the current approach is good, but the catch should be broader (Throwable).&lt;/p&gt;</comment>
                            <comment id="13214869" author="fpj" created="Thu, 23 Feb 2012 17:30:07 +0000"  >&lt;p&gt;Made it catch Throwable.&lt;/p&gt;</comment>
                            <comment id="13215826" author="ikelly" created="Fri, 24 Feb 2012 19:08:38 +0000"  >&lt;p&gt;committed as r1293383. Thanks Flavio.&lt;/p&gt;</comment>
                            <comment id="13215852" author="hudson" created="Fri, 24 Feb 2012 19:46:10 +0000"  >&lt;p&gt;Integrated in bookkeeper-trunk #377 (See &lt;a href=&quot;https://builds.apache.org/job/bookkeeper-trunk/377/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/bookkeeper-trunk/377/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-113&quot; title=&quot;NPE In BookKeeper test&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-113&quot;&gt;&lt;del&gt;BOOKKEEPER-113&lt;/del&gt;&lt;/a&gt;: NPE In BookKeeper test (fpj via ivank) (Revision 1293383)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
ivank : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/bookkeeper-server/src/main/java/org/apache/bookkeeper/proto/PerChannelBookieClient.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12515763" name="BOOKKEEPER-113.patch" size="6370" author="fpj" created="Thu, 23 Feb 2012 17:30:07 +0000"/>
                            <attachment id="12515000" name="BOOKKEEPER-113.patch" size="6384" author="fpj" created="Fri, 17 Feb 2012 17:39:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 20 Feb 2012 09:59:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>217527</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy4ru7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>61666</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>