<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat May 16 23:29:17 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/BOOKKEEPER-659/BOOKKEEPER-659.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[BOOKKEEPER-659] LRU page management in ledger cache.</title>
                <link>https://issues.apache.org/jira/browse/BOOKKEEPER-659</link>
                <project id="12311293" key="BOOKKEEPER">Bookkeeper</project>
                    <description>&lt;p&gt;better ledger page management.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12659259">BOOKKEEPER-659</key>
            <summary>LRU page management in ledger cache.</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12659256">BOOKKEEPER-656</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="robindhamankar">Robin Dhamankar</assignee>
                                    <reporter username="hustlmsp">Sijie Guo</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Jul 2013 06:24:52 +0100</created>
                <updated>Tue, 22 Oct 2013 15:59:51 +0100</updated>
                            <resolved>Tue, 22 Oct 2013 15:22:16 +0100</resolved>
                                                    <fixVersion>4.3.0</fixVersion>
                                    <component>bookkeeper-server</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13719237" author="hustlmsp" created="Thu, 25 Jul 2013 06:15:35 +0100"  >&lt;p&gt;attach the patch generated based on &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-658&quot; title=&quot;ledger cache refactor&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-658&quot;&gt;&lt;del&gt;BOOKKEEPER-658&lt;/del&gt;&lt;/a&gt;. this patch includes the changes twitter made for ledger cache (it is difficult to generate the change by commits).&lt;/p&gt;

&lt;p&gt;this patch includes two major changes:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;improve the page eviction to use a LRU strategy. (thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=robindhamankar&quot; class=&quot;user-hover&quot; rel=&quot;robindhamankar&quot;&gt;Robin Dhamankar&lt;/a&gt;)&lt;/li&gt;
	&lt;li&gt;changed the structures used in ledger cache into concurrent structures to improve performance (thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=i0exception&quot; class=&quot;user-hover&quot; rel=&quot;i0exception&quot;&gt;Aniruddha&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13719239" author="hustlmsp" created="Thu, 25 Jul 2013 06:18:48 +0100"  >&lt;p&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; JIRA can&apos;t assign to more than two persons. so I just marked the assignee to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=robindhamankar&quot; class=&quot;user-hover&quot; rel=&quot;robindhamankar&quot;&gt;Robin Dhamankar&lt;/a&gt;. will add &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=i0exception&quot; class=&quot;user-hover&quot; rel=&quot;i0exception&quot;&gt;Aniruddha&lt;/a&gt; &amp;amp; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=robindhamankar&quot; class=&quot;user-hover&quot; rel=&quot;robindhamankar&quot;&gt;Robin Dhamankar&lt;/a&gt; when committing this.&lt;/p&gt;</comment>
                            <comment id="13719275" author="hadoopqa" created="Thu, 25 Jul 2013 07:06:29 +0100"  >&lt;p&gt;Testing JIRA &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-659&quot; title=&quot;LRU page management in ledger cache.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-659&quot;&gt;&lt;del&gt;BOOKKEEPER-659&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Patch &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12594100/BOOKKEEPER-659.diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;BOOKKEEPER-659.diff&lt;/a&gt; downloaded at Thu Jul 25 06:04:32 UTC 2013&lt;/p&gt;

&lt;p&gt;----------------------------&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; Patch failed to apply to head of branch&lt;/p&gt;

&lt;p&gt;----------------------------&lt;/p&gt;</comment>
                            <comment id="13792678" author="ikelly" created="Fri, 11 Oct 2013 15:58:17 +0100"  >&lt;p&gt;I&apos;ve rebased onto current trunk. It&apos;s failing some test though (output attached), with an IllegalStateException&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;2013-10-11 16:52:17,047 - INFO  - &lt;span class=&quot;error&quot;&gt;&amp;#91;New I/O client worker #36-3:PerChannelBookieClient$1@135&amp;#93;&lt;/span&gt; - Successfully connected to bookie: &lt;span class=&quot;error&quot;&gt;&amp;#91;id: 0x08c1e4d5, /10.78.36.43:51868 =&amp;gt; /10.78.36.43:15004&amp;#93;&lt;/span&gt;&lt;br/&gt;
2013-10-11 16:52:17,047 - INFO  - &lt;span class=&quot;error&quot;&gt;&amp;#91;New I/O server worker #7-4:IndexInMemPageMgr@449&amp;#93;&lt;/span&gt; - Could not grab a clean page for ledger 4, entry 0, force flushing dirty ledgers.&lt;br/&gt;
2013-10-11 16:52:17,054 - ERROR - &lt;span class=&quot;error&quot;&gt;&amp;#91;New I/O server worker #9-4:BookieRequestHandler@82&amp;#93;&lt;/span&gt; - Unhandled exception occurred in I/O thread or handler&lt;br/&gt;
java.lang.IllegalStateException: Use count has gone below 0&lt;br/&gt;
	at org.apache.bookkeeper.bookie.LedgerEntryPage.releasePage(LedgerEntryPage.java:86)&lt;br/&gt;
	at org.apache.bookkeeper.bookie.IndexInMemPageMgr.grabLedgerEntryPage(IndexInMemPageMgr.java:406)&lt;br/&gt;
	at org.apache.bookkeeper.bookie.IndexInMemPageMgr.getEntryOffset(IndexInMemPageMgr.java:526)&lt;br/&gt;
	at org.apache.bookkeeper.bookie.LedgerCacheImpl.getEntryOffset(LedgerCacheImpl.java:74)&lt;br/&gt;
	at org.apache.bookkeeper.bookie.InterleavedLedgerStorage.getEntry(InterleavedLedgerStorage.java:158)&lt;br/&gt;
	at org.apache.bookkeeper.bookie.LedgerDescriptorImpl.readEntry(LedgerDescriptorImpl.java:85)&lt;br/&gt;
	at org.apache.bookkeeper.bookie.Bookie.readEntry(Bookie.java:991)&lt;br/&gt;
	at org.apache.bookkeeper.proto.BookieRequestHandler.handleRead(BookieRequestHandler.java:236)&lt;br/&gt;
	at org.apache.bookkeeper.proto.BookieRequestHandler.messageReceived(BookieRequestHandler.java:121)&lt;br/&gt;
	at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:302)&lt;br/&gt;
	at org.jboss.netty.handler.codec.oneone.OneToOneDecoder.handleUpstream(OneToOneDecoder.java:76)&lt;br/&gt;
	at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:302)&lt;br/&gt;
	at org.jboss.netty.handler.codec.frame.FrameDecoder.unfoldAndFireMessageReceived(FrameDecoder.java:317)&lt;br/&gt;
	at org.jboss.netty.handler.codec.frame.FrameDecoder.callDecode(FrameDecoder.java:299)&lt;br/&gt;
	at org.jboss.netty.handler.codec.frame.FrameDecoder.messageReceived(FrameDecoder.java:216)&lt;br/&gt;
	at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:274)&lt;br/&gt;
	at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:261)&lt;br/&gt;
	at org.jboss.netty.channel.socket.nio.NioWorker.read(NioWorker.java:349)&lt;br/&gt;
	at org.jboss.netty.channel.socket.nio.NioWorker.processSelectedKeys(NioWorker.java:280)&lt;br/&gt;
	at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:200)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:662)&lt;br/&gt;
2013-10-11 16:52:17,055 - INFO  - &lt;span class=&quot;error&quot;&gt;&amp;#91;New I/O server worker #9-4:IndexInMemPageMgr@449&amp;#93;&lt;/span&gt; - Could not grab a clean page for ledger 4, entry 0, force flushing dirty ledgers.&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="13792682" author="hadoopqa" created="Fri, 11 Oct 2013 16:02:51 +0100"  >&lt;p&gt;Testing JIRA &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-659&quot; title=&quot;LRU page management in ledger cache.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-659&quot;&gt;&lt;del&gt;BOOKKEEPER-659&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Patch &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12608011/TEST-org.apache.bookkeeper.replication.AuditorPeriodicCheckTest.xml&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;TEST-org.apache.bookkeeper.replication.AuditorPeriodicCheckTest.xml&lt;/a&gt; downloaded at Fri Oct 11 15:01:00 UTC 2013&lt;/p&gt;

&lt;p&gt;----------------------------&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; Patch failed to apply to head of branch&lt;/p&gt;

&lt;p&gt;----------------------------&lt;/p&gt;</comment>
                            <comment id="13793578" author="hustlmsp" created="Sun, 13 Oct 2013 07:11:20 +0100"  >&lt;p&gt;the useCount issue is somehow related to grabCleanPage. we should set lep to null each iteration. otherwise, it might return a lep without calling #usePage.&lt;/p&gt;

&lt;p&gt;attach the new patch.&lt;/p&gt;</comment>
                            <comment id="13793581" author="hadoopqa" created="Sun, 13 Oct 2013 07:40:13 +0100"  >&lt;p&gt;Testing JIRA &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-659&quot; title=&quot;LRU page management in ledger cache.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-659&quot;&gt;&lt;del&gt;BOOKKEEPER-659&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Patch &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12608186/BOOKKEEPER-659.diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;BOOKKEEPER-659.diff&lt;/a&gt; downloaded at Sun Oct 13 06:12:04 UTC 2013&lt;/p&gt;

&lt;p&gt;----------------------------&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 PATCH_APPLIES&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 CLEAN&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;-1 RAW_PATCH_ANALYSIS&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any @author tags&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any tabs&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any trailing spaces&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any line longer than 120&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; the patch does not add/modify any testcase&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 RAT&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new RAT warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 JAVADOC&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new Javadoc warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 COMPILE&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; HEAD compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; patch compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new javac warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 FINDBUGS&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new Findbugs warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 TESTS&lt;/font&gt;&lt;br/&gt;
.    Tests run: 880&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 DISTRO&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; distro tarball builds with the patch &lt;/p&gt;

&lt;p&gt;----------------------------&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;&lt;b&gt;-1 Overall result, please check the reported -1(s)&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;


&lt;p&gt;The full output of the test-patch run is available at&lt;/p&gt;

&lt;p&gt;.   &lt;a href=&quot;https://builds.apache.org/job/bookkeeper-trunk-precommit-build/510/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/bookkeeper-trunk-precommit-build/510/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13794148" author="ikelly" created="Mon, 14 Oct 2013 15:30:04 +0100"  >&lt;p&gt;Still getting the error on the same test. Could be something to do with the synchronization around useCount, though isn&apos;t quite clear to me.&lt;/p&gt;</comment>
                            <comment id="13794287" author="hustlmsp" created="Mon, 14 Oct 2013 18:16:43 +0100"  >&lt;p&gt;what error? same error? are you using the latest patch?&lt;/p&gt;</comment>
                            <comment id="13795048" author="ikelly" created="Tue, 15 Oct 2013 11:23:23 +0100"  >&lt;p&gt;The log is attached. Im going to look deeper, since I guess it doesn&apos;t repro on your machine.&lt;/p&gt;</comment>
                            <comment id="13795110" author="ikelly" created="Tue, 15 Oct 2013 13:09:29 +0100"  >&lt;p&gt;It seems to be a race condition with writeBuffers and the allocation of pages. It happens in particular with #testPeriodicCheckWhenDisabled, but I guess it could happen in any case where there&apos;s a high write rate. It triggers in these tests because pageCount is set to 1, so pages are getting flushed very often. It seems that, when a ledger is flushed, the list of pages for that ledger are sent to writeBuffers, along with the number of pages to flush. If, in the background, something changes the pages for that ledger, what is written in writeBuffers will not match the passed count and we get this IOException, which takes the bookie down, which causes the NotEnoughBookiesException.&lt;/p&gt;
</comment>
                            <comment id="13796488" author="hustlmsp" created="Wed, 16 Oct 2013 08:13:31 +0100"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ikelly&quot; class=&quot;user-hover&quot; rel=&quot;ikelly&quot;&gt;Ivan Kelly&lt;/a&gt;. It sounds like flushing same ledger when grabbing a clean page. will try to see if I could write a simple test case to reproduce this case tomorrow.&lt;/p&gt;</comment>
                            <comment id="13801550" author="hustlmsp" created="Tue, 22 Oct 2013 08:02:12 +0100"  >&lt;p&gt;seems that the race is between checking ledgersToFlush.isEmpty and adding to ledgersToFlush. since the pageLimit is setting to 1, the same ledger might be added twice in ledgersToFlush, which cause the case as Ivan&apos;s comment.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    void flushOneOrMoreLedgers(&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; doAll) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (ledgersToFlush.isEmpty()) {
            ledgersToFlush.addAll(pageMapAndList.getActiveLedgers());
        }
        &lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt; potentiallyDirtyLedger = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
        &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; != (potentiallyDirtyLedger = ledgersToFlush.poll())) {
            flushSpecificLedger(potentiallyDirtyLedger);
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!doAll) {
                &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
            }
        }
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13801589" author="hadoopqa" created="Tue, 22 Oct 2013 09:00:37 +0100"  >&lt;p&gt;Testing JIRA &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-659&quot; title=&quot;LRU page management in ledger cache.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-659&quot;&gt;&lt;del&gt;BOOKKEEPER-659&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Patch &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12609600/BOOKKEEPER-659.diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;BOOKKEEPER-659.diff&lt;/a&gt; downloaded at Tue Oct 22 07:32:02 UTC 2013&lt;/p&gt;

&lt;p&gt;----------------------------&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 PATCH_APPLIES&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 CLEAN&lt;/font&gt;&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;-1 RAW_PATCH_ANALYSIS&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any @author tags&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any tabs&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any trailing spaces&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not introduce any line longer than 120&lt;br/&gt;
.    &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; the patch does not add/modify any testcase&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 RAT&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new RAT warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 JAVADOC&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new Javadoc warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 COMPILE&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; HEAD compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; patch compiles&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new javac warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 FINDBUGS&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; the patch does not seem to introduce new Findbugs warnings&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 TESTS&lt;/font&gt;&lt;br/&gt;
.    Tests run: 882&lt;br/&gt;
&lt;font color=&quot;green&quot;&gt;+1 DISTRO&lt;/font&gt;&lt;br/&gt;
.    &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; distro tarball builds with the patch &lt;/p&gt;

&lt;p&gt;----------------------------&lt;br/&gt;
&lt;font color=&quot;red&quot;&gt;&lt;b&gt;-1 Overall result, please check the reported -1(s)&lt;/b&gt;&lt;/font&gt;&lt;/p&gt;


&lt;p&gt;The full output of the test-patch run is available at&lt;/p&gt;

&lt;p&gt;.   &lt;a href=&quot;https://builds.apache.org/job/bookkeeper-trunk-precommit-build/513/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/bookkeeper-trunk-precommit-build/513/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13801847" author="ikelly" created="Tue, 22 Oct 2013 15:22:16 +0100"  >&lt;p&gt;Latest patch is good. Committed r1534640. Thanks for the great work guys. (btw, ignore any cancel patch notifications, I misclicked).&lt;/p&gt;</comment>
                            <comment id="13801884" author="hudson" created="Tue, 22 Oct 2013 15:59:51 +0100"  >&lt;p&gt;SUCCESS: Integrated in bookkeeper-trunk #411 (See &lt;a href=&quot;https://builds.apache.org/job/bookkeeper-trunk/411/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/bookkeeper-trunk/411/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-659&quot; title=&quot;LRU page management in ledger cache.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-659&quot;&gt;&lt;del&gt;BOOKKEEPER-659&lt;/del&gt;&lt;/a&gt;: LRU page management in ledger cache. (Aniruddha, Robin Dhamankar &amp;amp; sijie via ivank) (ivank: rev 1534640)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/bookkeeper-server/src/main/java/org/apache/bookkeeper/bookie/Bookie.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/bookkeeper-server/src/main/java/org/apache/bookkeeper/bookie/BookieShell.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/bookkeeper-server/src/main/java/org/apache/bookkeeper/bookie/BufferedChannel.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/bookkeeper-server/src/main/java/org/apache/bookkeeper/bookie/EntryKey.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/bookkeeper-server/src/main/java/org/apache/bookkeeper/bookie/FileInfo.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/bookkeeper-server/src/main/java/org/apache/bookkeeper/bookie/HandleFactoryImpl.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/bookkeeper-server/src/main/java/org/apache/bookkeeper/bookie/IndexInMemPageMgr.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/bookkeeper-server/src/main/java/org/apache/bookkeeper/bookie/IndexPersistenceMgr.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/bookkeeper-server/src/main/java/org/apache/bookkeeper/bookie/LEPStateChangeCallback.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/bookkeeper-server/src/main/java/org/apache/bookkeeper/bookie/LedgerCacheImpl.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/bookkeeper-server/src/main/java/org/apache/bookkeeper/bookie/LedgerCacheMXBean.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/bookkeeper-server/src/main/java/org/apache/bookkeeper/bookie/LedgerEntryPage.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/bookkeeper-server/src/main/java/org/apache/bookkeeper/util/ZeroBuffer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12659258">BOOKKEEPER-658</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12608010" name="0001-BOOKKEEPER-659-LRU-page-management-in-ledger-cache.patch" size="77056" author="ikelly" created="Fri, 11 Oct 2013 15:58:17 +0100"/>
                            <attachment id="12609600" name="BOOKKEEPER-659.diff" size="73821" author="hustlmsp" created="Tue, 22 Oct 2013 08:31:18 +0100"/>
                            <attachment id="12608186" name="BOOKKEEPER-659.diff" size="73300" author="hustlmsp" created="Sun, 13 Oct 2013 07:11:20 +0100"/>
                            <attachment id="12594100" name="BOOKKEEPER-659.diff" size="75296" author="hustlmsp" created="Thu, 25 Jul 2013 06:15:35 +0100"/>
                            <attachment id="12608281" name="TEST-org.apache.bookkeeper.replication.AuditorPeriodicCheckTest.xml" size="814078" author="ikelly" created="Mon, 14 Oct 2013 15:30:04 +0100"/>
                            <attachment id="12608011" name="TEST-org.apache.bookkeeper.replication.AuditorPeriodicCheckTest.xml" size="1854718" author="ikelly" created="Fri, 11 Oct 2013 15:59:06 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 25 Jul 2013 06:06:29 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>339452</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzge3r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>339772</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>