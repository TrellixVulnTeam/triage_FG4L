<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat May 16 23:26:53 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/BOOKKEEPER-334/BOOKKEEPER-334.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[BOOKKEEPER-334] client-side message filter for java client.</title>
                <link>https://issues.apache.org/jira/browse/BOOKKEEPER-334</link>
                <project id="12311293" key="BOOKKEEPER">Bookkeeper</project>
                    <description>&lt;p&gt;Support running message filter on java client-side.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12597998">BOOKKEEPER-334</key>
            <summary>client-side message filter for java client.</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12596057">BOOKKEEPER-321</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hustlmsp">Sijie Guo</assignee>
                                    <reporter username="hustlmsp">Sijie Guo</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 Jul 2012 10:00:45 +0100</created>
                <updated>Wed, 13 Feb 2013 15:46:35 +0000</updated>
                            <resolved>Mon, 3 Sep 2012 16:15:08 +0100</resolved>
                                                    <fixVersion>4.2.0</fixVersion>
                                    <component>hedwig-client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13410441" author="hustlmsp" created="Tue, 10 Jul 2012 16:34:23 +0100"  >&lt;p&gt;attach the draft patch to run client-side filter on java client.&lt;/p&gt;</comment>
                            <comment id="13410442" author="hustlmsp" created="Tue, 10 Jul 2012 16:34:43 +0100"  >&lt;p&gt;the patch is generated based on &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-333&quot; title=&quot;server-side message filter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-333&quot;&gt;&lt;del&gt;BOOKKEEPER-333&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13435990" author="hustlmsp" created="Thu, 16 Aug 2012 15:18:24 +0100"  >&lt;p&gt;attach a new patch to run message filter in client-side. the patch is generated based on &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-333&quot; title=&quot;server-side message filter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-333&quot;&gt;&lt;del&gt;BOOKKEEPER-333&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13443157" author="hustlmsp" created="Tue, 28 Aug 2012 14:23:39 +0100"  >&lt;p&gt;rebase the patch to latest trunk after &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-371&quot; title=&quot;NPE in hedwig hub client causes hedwig hub to shut down.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-371&quot;&gt;&lt;del&gt;BOOKKEEPER-371&lt;/del&gt;&lt;/a&gt; is in.&lt;/p&gt;</comment>
                            <comment id="13445794" author="ikelly" created="Fri, 31 Aug 2012 10:21:10 +0100"  >&lt;p&gt;I think startDeliveryWithFilter would be a better name.&lt;/p&gt;

&lt;p&gt;There&apos;s new functionallity which replaces the provided subscriptionpreferences which that on the server. This should be documented in the javadoc, that any SubscriptionPreferences specified for an ATTACH will be be ignored in favour of those specified in the first CREATE.&lt;/p&gt;

&lt;p&gt;What is the usecase? Why is this necessary if there are filters on the server?&lt;/p&gt;

&lt;p&gt;startDelivery should throw an exception if messageFilter or messageHandler is null.&lt;/p&gt;

&lt;p&gt;Otherwise, the patch looks good.&lt;/p&gt;</comment>
                            <comment id="13445798" author="ikelly" created="Fri, 31 Aug 2012 10:30:51 +0100"  >&lt;p&gt;Also, I think it would be better to change the filter class hierarchy a bit, to make it clear if a filter can be serverside, clientside or both. So have&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; MessageFilterBase {
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; MessageFilter setSubscriptionPreferences(ByteString topic, ByteString subscriberId,
                                                    SubscriptionPreferences preferences);
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; testMessage(Message message);
}

&lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; ClientMessageFilter &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; MessageFilterBase {
}

&lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; ServerMessageFilter &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; MessageFilterBase {
    ServerMessageFilter initialize(Configuration conf);
    void uninitialized();
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13447271" author="hustlmsp" created="Mon, 3 Sep 2012 14:33:08 +0100"  >&lt;p&gt;attach a new patch addressing Ivan&apos;s comments.&lt;/p&gt;</comment>
                            <comment id="13447311" author="ikelly" created="Mon, 3 Sep 2012 16:15:08 +0100"  >&lt;p&gt;Committed as r1380268. Good work Sijie.&lt;/p&gt;</comment>
                            <comment id="13447321" author="hudson" created="Mon, 3 Sep 2012 16:35:41 +0100"  >&lt;p&gt;Integrated in bookkeeper-trunk #687 (See &lt;a href=&quot;https://builds.apache.org/job/bookkeeper-trunk/687/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/bookkeeper-trunk/687/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-334&quot; title=&quot;client-side message filter for java client.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-334&quot;&gt;&lt;del&gt;BOOKKEEPER-334&lt;/del&gt;&lt;/a&gt;: client-side message filter for java client. (sijie via ivank) (Revision 1380268)&lt;/p&gt;

&lt;p&gt;     Result = UNSTABLE&lt;br/&gt;
ivank : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/hedwig-client/src/main/java/org/apache/hedwig/client/api/Subscriber.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/hedwig-client/src/main/java/org/apache/hedwig/client/handlers/SubscribeResponseHandler.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/hedwig-client/src/main/java/org/apache/hedwig/client/netty/FilterableMessageHandler.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/hedwig-client/src/main/java/org/apache/hedwig/client/netty/HedwigSubscriber.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/hedwig-client/src/main/java/org/apache/hedwig/filter/ClientMessageFilter.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/hedwig-client/src/main/java/org/apache/hedwig/filter/MessageFilter.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/hedwig-client/src/main/java/org/apache/hedwig/filter/MessageFilterBase.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/hedwig-client/src/main/java/org/apache/hedwig/filter/PipelineFilter.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/hedwig-client/src/main/java/org/apache/hedwig/filter/ServerMessageFilter.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/hedwig-protocol/src/main/java/org/apache/hedwig/protocol/PubSubProtocol.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/hedwig-protocol/src/main/java/org/apache/hedwig/protoextensions/PubSubResponseUtils.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/hedwig-protocol/src/main/protobuf/PubSubProtocol.proto&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/hedwig-server/src/main/java/org/apache/hedwig/server/delivery/DeliveryManager.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/hedwig-server/src/main/java/org/apache/hedwig/server/delivery/FIFODeliveryManager.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/hedwig-server/src/main/java/org/apache/hedwig/server/handlers/SubscribeHandler.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/hedwig-server/src/main/java/org/apache/hedwig/server/subscriptions/AllToAllTopologyFilter.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/hedwig-server/src/test/java/org/apache/hedwig/server/TestBackwardCompat.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/hedwig-server/src/test/java/org/apache/hedwig/server/delivery/StubDeliveryManager.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/hedwig-server/src/test/java/org/apache/hedwig/server/filter/TestMessageFilter.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                                                <inwardlinks description="is required by">
                                        <issuelink>
            <issuekey id="12597999">BOOKKEEPER-335</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12543546" name="BOOKKEEPER-334.patch" size="99993" author="hustlmsp" created="Mon, 3 Sep 2012 14:33:08 +0100"/>
                            <attachment id="12542768" name="BOOKKEEPER-334.patch" size="75729" author="hustlmsp" created="Tue, 28 Aug 2012 14:23:39 +0100"/>
                            <attachment id="12541221" name="BOOKKEEPER-334.patch" size="75605" author="hustlmsp" created="Thu, 16 Aug 2012 15:18:24 +0100"/>
                            <attachment id="12535858" name="BOOKKEEPER-334.patch" size="94179" author="hustlmsp" created="Tue, 10 Jul 2012 16:34:23 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 31 Aug 2012 09:21:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>293543</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hyn6dz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169222</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>