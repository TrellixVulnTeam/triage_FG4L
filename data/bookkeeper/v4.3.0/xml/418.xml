<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat May 16 23:30:11 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/BOOKKEEPER-418/BOOKKEEPER-418.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[BOOKKEEPER-418] Store hostname of locker in replication lock</title>
                <link>https://issues.apache.org/jira/browse/BOOKKEEPER-418</link>
                <project id="12311293" key="BOOKKEEPER">Bookkeeper</project>
                    <description>&lt;p&gt;This is a debugging shortcut. If a ledger isn&apos;t being processed for a long time, this allows us to find which host is trying to rereplicate, and go look at the logs there.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12610363">BOOKKEEPER-418</key>
            <summary>Store hostname of locker in replication lock</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12553925">BOOKKEEPER-237</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ikelly">Ivan Kelly</assignee>
                                    <reporter username="ikelly">Ivan Kelly</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Oct 2012 18:27:44 +0100</created>
                <updated>Wed, 13 Feb 2013 15:46:54 +0000</updated>
                            <resolved>Wed, 10 Oct 2012 11:30:10 +0100</resolved>
                                                    <fixVersion>4.2.0</fixVersion>
                                    <component>bookkeeper-auto-recovery</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13470013" author="rakeshr" created="Fri, 5 Oct 2012 05:25:12 +0100"  >&lt;p&gt;Thanks for identifying, will be very useful.&lt;/p&gt;

&lt;p&gt;Auditor has similar stuff, here its using bookieId.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
                &lt;span class=&quot;code-comment&quot;&gt;// update the auditor bookie id in the election path. This is
&lt;/span&gt;                &lt;span class=&quot;code-comment&quot;&gt;// done &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; debugging purpose
&lt;/span&gt;                zkc.setData(getVotePath(&quot;&quot;), bookieId.getBytes(), -1);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13470182" author="ikelly" created="Fri, 5 Oct 2012 10:07:17 +0100"  >&lt;p&gt;Yes, I was surprised we didn&apos;t have it already as I remember discussing it before. I think ip address is a better thing to store though, as it removes one lookup from the debugging process. Both these things (locks and auditor votes) should be protobuf structures for future compatibility.&lt;/p&gt;</comment>
                            <comment id="13470191" author="umamaheswararao" created="Fri, 5 Oct 2012 10:24:00 +0100"  >&lt;p&gt;We discussed it while we are implementing CurrentInprogress in BKJM. Somehow we missed it here.&lt;/p&gt;</comment>
                            <comment id="13471687" author="ikelly" created="Mon, 8 Oct 2012 18:31:37 +0100"  >&lt;p&gt;Added LockInfo to node. Can&apos;t put port in there as it&apos;s not available. Class can only be configured with an AbstractConfiguration, not a ServerConfiguration.&lt;/p&gt;</comment>
                            <comment id="13471702" author="umamaheswararao" created="Mon, 8 Oct 2012 19:00:22 +0100"  >&lt;p&gt;I have looked at the patch. Patch looks good to me.&lt;br/&gt;
Generally in real clusters this would be fine. If we want to debug any issue in Jenkins/CI then this information may not help as all will in same host.&lt;br/&gt;
But I also don&apos;t see any clean way to include port.&lt;/p&gt;

&lt;p&gt;+1 &lt;/p&gt;</comment>
                            <comment id="13472271" author="rakeshr" created="Tue, 9 Oct 2012 12:09:20 +0100"  >&lt;p&gt;+1. I was thinking about Auditor part. Anyway you have created separate jira &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-426&quot; title=&quot;Make auditor Vote znode store a protobuf containing the host that voted&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-426&quot;&gt;&lt;del&gt;BOOKKEEPER-426&lt;/del&gt;&lt;/a&gt; for this&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13473144" author="ikelly" created="Wed, 10 Oct 2012 11:30:11 +0100"  >&lt;p&gt;Committed as r1396536, thanks for reviewing guys&lt;/p&gt;</comment>
                            <comment id="13473437" author="hudson" created="Wed, 10 Oct 2012 19:24:18 +0100"  >&lt;p&gt;Integrated in bookkeeper-trunk #748 (See &lt;a href=&quot;https://builds.apache.org/job/bookkeeper-trunk/748/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/bookkeeper-trunk/748/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-418&quot; title=&quot;Store hostname of locker in replication lock&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-418&quot;&gt;&lt;del&gt;BOOKKEEPER-418&lt;/del&gt;&lt;/a&gt;: Store hostname of locker in replication lock (ivank) (Revision 1396536)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
ivank : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/bookkeeper-server/src/main/java/org/apache/bookkeeper/meta/ZkLedgerUnderreplicationManager.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/bookkeeper-server/src/main/java/org/apache/bookkeeper/proto/DataFormats.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/bookkeeper-server/src/main/proto/DataFormats.proto&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12548260" name="BOOKKEEPER-418.diff" size="19811" author="ikelly" created="Mon, 8 Oct 2012 18:31:37 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 5 Oct 2012 04:25:12 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>240545</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxuxsf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4297</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>