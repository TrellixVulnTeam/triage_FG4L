<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat May 16 23:26:20 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/BOOKKEEPER-441/BOOKKEEPER-441.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[BOOKKEEPER-441] InMemorySubscriptionManager should back up top2sub2seq before change it</title>
                <link>https://issues.apache.org/jira/browse/BOOKKEEPER-441</link>
                <project id="12311293" key="BOOKKEEPER">Bookkeeper</project>
                    <description>&lt;p&gt;On topic loss, InMemorySubscriptionManager currently does not clear top2sub2seq. The intent is to allow readSubscription to get the information there. This introduce dependency outside the class, evidence is that general ReleaseOp has to use a boolean parameter which targets this implementation detail. Further, this prevents Acquire-topic to notify listeners (notifyFirstLocalSubscribe is not called) of first subscription to act appropriately.&lt;/p&gt;</description>
                <environment>&lt;p&gt;unix&lt;/p&gt;</environment>
        <key id="12613298">BOOKKEEPER-441</key>
            <summary>InMemorySubscriptionManager should back up top2sub2seq before change it</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yx3zhu@gmail.com">Yixue (Andrew) Zhu</assignee>
                                    <reporter username="yx3zhu@gmail.com">Yixue (Andrew) Zhu</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Wed, 24 Oct 2012 17:37:10 +0100</created>
                <updated>Wed, 13 Feb 2013 15:46:40 +0000</updated>
                            <resolved>Fri, 26 Oct 2012 11:13:38 +0100</resolved>
                                    <version>4.2.0</version>
                                    <fixVersion>4.2.0</fixVersion>
                                    <component>hedwig-server</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13483378" author="yx3zhu@gmail.com" created="Wed, 24 Oct 2012 17:44:43 +0100"  >&lt;p&gt;I cannot assign the issue to myself for some reason (Edit/More Actions do not have the option).&lt;/p&gt;</comment>
                            <comment id="13483384" author="fpj" created="Wed, 24 Oct 2012 17:51:35 +0100"  >&lt;p&gt;I have added you to the list of contributors and assigned it to you. You have marked the fix version to 4.3.0. Is it right?&lt;/p&gt;</comment>
                            <comment id="13483398" author="yx3zhu@gmail.com" created="Wed, 24 Oct 2012 18:05:03 +0100"  >&lt;p&gt;Thanks Flavio, the target version is 4.3.0.&lt;/p&gt;</comment>
                            <comment id="13483717" author="hustlmsp" created="Thu, 25 Oct 2012 00:19:23 +0100"  >&lt;p&gt;Hmm, 4.2.0 is current release. 4.3.0 is next release. Is it OK for you?&lt;/p&gt;</comment>
                            <comment id="13483741" author="yx3zhu@gmail.com" created="Thu, 25 Oct 2012 00:53:29 +0100"  >&lt;p&gt;4.2.0 sounds good. will update it.&lt;/p&gt;</comment>
                            <comment id="13483989" author="ikelly" created="Thu, 25 Oct 2012 09:55:54 +0100"  >&lt;p&gt;Patch looks good, and its a nice cleanup. Two comments, could you rename _top2sub2seq to top2seq2subBackup. Underscores are not very informative. Also, since after readSubscriptions, the sub info is put back into top2sub2seq, _top2sub2seq.get() in readSubscriptions should be _top2sub2seq.remove()&lt;/p&gt;</comment>
                            <comment id="13484267" author="yx3zhu@gmail.com" created="Thu, 25 Oct 2012 17:48:28 +0100"  >&lt;p&gt;The consideration of not removing from _top2sub2seq was that operation could fail afterwards. Given that InMemorySubscriptionManager is for test only, agreed with the change.&lt;br/&gt;
Updated patch. &lt;/p&gt;</comment>
                            <comment id="13484827" author="ikelly" created="Fri, 26 Oct 2012 11:13:38 +0100"  >&lt;p&gt;Committed r1402459. Thanks Yixue.&lt;/p&gt;</comment>
                            <comment id="13484889" author="hudson" created="Fri, 26 Oct 2012 13:57:14 +0100"  >&lt;p&gt;Integrated in bookkeeper-trunk #774 (See &lt;a href=&quot;https://builds.apache.org/job/bookkeeper-trunk/774/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/bookkeeper-trunk/774/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/BOOKKEEPER-441&quot; title=&quot;InMemorySubscriptionManager should back up top2sub2seq before change it&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BOOKKEEPER-441&quot;&gt;&lt;del&gt;BOOKKEEPER-441&lt;/del&gt;&lt;/a&gt;: InMemorySubscriptionManager should back up top2sub2seq before change it (Yixue via ivank) (Revision 1402459)&lt;/p&gt;

&lt;p&gt;     Result = UNSTABLE&lt;br/&gt;
ivank : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/hedwig-server/src/main/java/org/apache/hedwig/server/subscriptions/AbstractSubscriptionManager.java&lt;/li&gt;
	&lt;li&gt;/zookeeper/bookkeeper/trunk/hedwig-server/src/main/java/org/apache/hedwig/server/subscriptions/InMemorySubscriptionManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12550799" name="BackupTop2Sub2Seq.patch" size="4811" author="yx3zhu@gmail.com" created="Thu, 25 Oct 2012 17:48:12 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 24 Oct 2012 16:51:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>250788</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy4w1b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>62351</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>