The test code executes java processes by just executing java instead of using a full path. This may cause the wrong java to be picked up.