The toSQL method of the org.apache.derby.vti.Restriction class does not output correct constants for VARCHAR, Timestamp, Date, Time, or CHAR FOR BIT DATA types.  This method is useful for building the WHERE clause when implementing a Restricted Table Function.  The result of calling the toSQL method with restrictions on columns of these types does not produce valid SQL constants.  For example with a VARCHAR column being restricted the single quote characters are not placed round the string constant.