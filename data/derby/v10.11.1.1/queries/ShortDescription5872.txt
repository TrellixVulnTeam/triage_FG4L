Inconsistency between isWrapperFor() and unwrap() in logical statements