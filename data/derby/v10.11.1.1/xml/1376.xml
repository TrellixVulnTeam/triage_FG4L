<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:10:05 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-1376/DERBY-1376.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-1376] File java/engine/org/apache/derby/loc/messages_en.properties - Message XSLAT.D</title>
                <link>https://issues.apache.org/jira/browse/DERBY-1376</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;The message XSLAT.D (String LOG_SEGMENT_EXIST = &quot;XSLAT.D&quot;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; states:&lt;/p&gt;

&lt;p&gt;XSLAT.D=Log directory &lt;/p&gt;
{0} exists. Please make sure specified logDevice location is correct.&lt;br/&gt;
&lt;br/&gt;
But it seems by the source code that the problem is not that this directory exists, but the fact that it is not empty (// make sure log directory is empty, in LogToFile.java). So it seems to me that the following message would be better:&lt;br/&gt;
&lt;br/&gt;
XSLAT.D=Log directory {0}
&lt;p&gt; is not empty. Please make sure specified logDevice location is correct.&lt;/p&gt;</description>
                <environment>Text for exceptions</environment>
        <key id="12343940">DERBY-1376</key>
            <summary>File java/engine/org/apache/derby/loc/messages_en.properties - Message XSLAT.D</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="halleypo">Halley Pacheco de Oliveira</assignee>
                                    <reporter username="halleypo">Halley Pacheco de Oliveira</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Jun 2006 21:08:31 +0100</created>
                <updated>Wed, 12 Jul 2006 01:55:31 +0100</updated>
                            <resolved>Sun, 11 Jun 2006 11:25:17 +0100</resolved>
                                    <version>10.1.3.1</version>
                                    <fixVersion>10.1.3.1</fixVersion>
                    <fixVersion>10.2.1.6</fixVersion>
                                    <component>Localization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12415026" author="tsuresh" created="Wed, 7 Jun 2006 04:00:27 +0100"  >&lt;p&gt;XSLAT.D=Log directory &lt;/p&gt;
{0}
&lt;p&gt; is not empty. Please make sure specified logDevice location is correct. &lt;/p&gt;

&lt;p&gt;Check for the log dir  at  the specified location is empty is added as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1039&quot; title=&quot;Database creation should fail if specified log device path already exists&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1039&quot;&gt;&lt;del&gt;DERBY-1039&lt;/del&gt;&lt;/a&gt; fix.   Although one can create a database at a  log device location if the log dir is empty,  I think throwing an error that says  log dir is NOT EMPTY  if there are files in the log directory  can be misleading/dangerous.   Say if the  log directory  at  the user specified location actually  belong s to an another database,  if user deletes&lt;br/&gt;
the  files by accident  it can lead a inconsistent/corrupt databases.&lt;/p&gt;

&lt;p&gt;I understant error message is not a real  protection.  But I think if   we say it is not empty ; users may delete the files in hurry to setup a new database.  My hope is , if they see a error  that says  log directory exists. They may specify a different location or  make sure  that no &lt;br/&gt;
other database is  using the  specified log location path before deleting the log directory. &lt;/p&gt;


&lt;p&gt;Thanks&lt;br/&gt;
-suresht&lt;/p&gt;












</comment>
                            <comment id="12415058" author="halleypo" created="Wed, 7 Jun 2006 05:55:58 +0100"  >&lt;p&gt;Hi Suresht,&lt;/p&gt;

&lt;p&gt;Reading the text of the message I couldn&apos;t devise the concern about the directory belonging to other database.&lt;/p&gt;

&lt;p&gt;By this reason, I liked what David Van Couvering wrote in Derby Developers discussion list (Re: &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1376&quot; title=&quot;File java/engine/org/apache/derby/loc/messages_en.properties - Message XSLAT.D&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1376&quot;&gt;&lt;del&gt;DERBY-1376&lt;/del&gt;&lt;/a&gt; - Text for exceptions - File java/engine/org/apache/derby/loc/messages_en.properties):&lt;/p&gt;

&lt;p&gt;&quot;At one project in Sun you actually had an API that &lt;b&gt;required&lt;/b&gt; you to provide the error messages, the probable cause, and a recommended course of action as three separate messages.&quot;&lt;/p&gt;

&lt;p&gt;Using this guideline for writing error messages, the message could be:&lt;/p&gt;

&lt;p&gt;Error message: Log directory &lt;/p&gt;
{0}
&lt;p&gt; exists.&lt;br/&gt;
Probable cause: Maybe the directory belongs to other database.&lt;br/&gt;
Recommended course of action: Make sure specified logDevice location is correct.&lt;/p&gt;

&lt;p&gt;So, using this guideline what is missing in the text of the message is the probable cause.&lt;/p&gt;

&lt;p&gt;halley&lt;/p&gt;</comment>
                            <comment id="12415060" author="davidvc" created="Wed, 7 Jun 2006 06:10:16 +0100"  >&lt;p&gt;I like Halley&apos;s recommendation, but I would suggest that providing the format Halley suggests may be difficult given our current message framework (that is, provide a message with multiple lines).  It might be sufficient to say&lt;/p&gt;

&lt;p&gt;Log directory &lt;/p&gt;
{0}
&lt;p&gt; exists.   The directory may belong to another database.  Please make sure the specified logDevice location is correct. &lt;/p&gt;

&lt;p&gt;(I do like to say &quot;please&quot;, it doesn&apos;t hurt to be polite to our users).&lt;/p&gt;

&lt;p&gt;Also, it would be helpful to say &lt;b&gt;where&lt;/b&gt; you specify logDevice (e.g. &quot;please make sure the derby.foo.logDevice property is set to the correct location.&quot;)&lt;/p&gt;

&lt;p&gt;David&lt;/p&gt;</comment>
                            <comment id="12415639" author="fuzzylogic" created="Sat, 10 Jun 2006 13:06:38 +0100"  >&lt;p&gt;Is there agreement that the following text for message XSLAT is acceptable:&lt;/p&gt;

&lt;p&gt;The log directory &lt;/p&gt;
{0}
&lt;p&gt; exists. The directory might belong to another database. Check that the location specified for the logDevice attribute is correct.&lt;/p&gt;

&lt;p&gt;If so, I can update the message and the one test where this appears and get this in to 10.1.3.&lt;/p&gt;

&lt;p&gt;If I don&apos;t hear any consensus from the people involved in the issue by Monday morning, I will punt this to a later release.&lt;/p&gt;</comment>
                            <comment id="12415666" author="halleypo" created="Sat, 10 Jun 2006 20:57:14 +0100"  >&lt;p&gt;To trow this error message I executed the test shown below, that uses the same directory for the logDevice of two databases:&lt;/p&gt;

&lt;p&gt;#java -cp classes/ -Dij.protocol=jdbc:derby: org.apache.derby.tools.ij&lt;br/&gt;
ij version 10.2&lt;br/&gt;
ij&amp;gt; CONNECT &apos;jdbc:derby:firstdb;create=true;logDevice=/var/log/derby&apos;;&lt;br/&gt;
ij&amp;gt; CONNECT &apos;jdbc:derby:seconddb;create=true;logDevice=/var/log/derby&apos;;&lt;br/&gt;
ERROR XJ041: Failed to create database &apos;seconddb&apos;, see the next exception for details. &lt;br/&gt;
ERROR XSLAT: The log directory /var/log/derby/log exists. The directory might belong to another database. Check that the location specified for the logDevice attribute is correct.&lt;/p&gt;

&lt;p&gt;I think the text of the error mesage is fine, but it could include single quotation marks to delimit the directory name:&lt;/p&gt;

&lt;p&gt;The log directory &apos;&apos;&lt;/p&gt;
{0}
&lt;p&gt;&apos;&apos; exists. The directory might belong to another database. Check that the location specified for the logDevice attribute is correct. &lt;/p&gt;</comment>
                            <comment id="12415727" author="fuzzylogic" created="Sun, 11 Jun 2006 11:25:17 +0100"  >&lt;p&gt;Committed to trunk with revision 413409 and to 10.1 with revision 413410.&lt;/p&gt;</comment>
                            <comment id="12415728" author="fuzzylogic" created="Sun, 11 Jun 2006 11:25:48 +0100"  >&lt;p&gt;add snapshot version to fixin&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 7 Jun 2006 03:00:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>29968</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy15nr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40567</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>