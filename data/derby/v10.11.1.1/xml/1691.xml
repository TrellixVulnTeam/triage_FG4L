<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:32:24 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-1691/DERBY-1691.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-1691] jdbcapi/blobclob4BLOB.java fails under DerbyNet framework with JCC 2.6</title>
                <link>https://issues.apache.org/jira/browse/DERBY-1691</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;With JCC 2.6, the jdbcapi/blobclob4BLOB.java fails.  The diff did not show anything alarming, so I am guessing it&lt;br/&gt;
may be a master update. The test passed fine with DerbyClient&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;Start: blobclob4BLOB jdk1.5.0_06 DerbyNet derbynetmats:jdbcapi 2006-08-11 23:29:48 ***&lt;br/&gt;
466a467,474&lt;br/&gt;
&amp;gt; EXPECTED SQLSTATE(22018): Invalid character string format for type INTEGER.&lt;br/&gt;
&amp;gt; end clobTest54&lt;br/&gt;
&amp;gt; START: clobTest6&lt;br/&gt;
&amp;gt; EXPECTED SQLSTATE(null): Invalid position 0 or length 5&lt;br/&gt;
&amp;gt; EXPECTED SQLSTATE(null): Invalid position 1 or length -76&lt;br/&gt;
&amp;gt; EXPECTED SQLSTATE(null): Invalid position 1 or length -1&lt;br/&gt;
&amp;gt; EXPECTED SQLSTATE(null): Invalid position 0 or length 0&lt;br/&gt;
&amp;gt; FAIL &amp;#8211; unexpected exception:java.lang.StringIndexOutOfBoundsException: String index out of range: -1&lt;br/&gt;
468,475d475&lt;br/&gt;
&amp;lt; EXPECTED SQLSTATE(22018): Invalid character string format for type INTEGER.&lt;br/&gt;
&amp;lt; end clobTest54&lt;br/&gt;
&amp;lt; START: clobTest6&lt;br/&gt;
&amp;lt; EXPECTED SQLSTATE(null): Invalid position 0 or length 5&lt;br/&gt;
&amp;lt; EXPECTED SQLSTATE(null): Invalid position 1 or length -76&lt;br/&gt;
&amp;lt; EXPECTED SQLSTATE(null): Invalid position 1 or length -1&lt;br/&gt;
&amp;lt; EXPECTED SQLSTATE(null): Invalid position 0 or length 0&lt;br/&gt;
&amp;lt; FAIL &amp;#8211; unexpected exception:java.lang.StringIndexOutOfBoundsException: String index out of range: -1&lt;br/&gt;
775a776,782&lt;br/&gt;
&amp;gt; blobTest54 finished&lt;br/&gt;
&amp;gt; START: blobTest6&lt;br/&gt;
&amp;gt; EXPECTED SQLSTATE(null): Invalid position 0 or length 5&lt;br/&gt;
&amp;gt; EXPECTED SQLSTATE(null): Invalid position 1 or length -76&lt;br/&gt;
&amp;gt; EXPECTED SQLSTATE(null): Invalid position 1 or length -1&lt;br/&gt;
&amp;gt; EXPECTED SQLSTATE(null): Invalid position 0 or length 0&lt;br/&gt;
&amp;gt; FAIL &amp;#8211; unexpected exception:java.lang.NegativeArraySizeException&lt;br/&gt;
777,783d783&lt;br/&gt;
&amp;lt; blobTest54 finished&lt;br/&gt;
&amp;lt; START: blobTest6&lt;br/&gt;
&amp;lt; EXPECTED SQLSTATE(null): Invalid position 0 or length 5&lt;br/&gt;
&amp;lt; EXPECTED SQLSTATE(null): Invalid position 1 or length -76&lt;br/&gt;
&amp;lt; EXPECTED SQLSTATE(null): Invalid position 1 or length -1&lt;br/&gt;
&amp;lt; EXPECTED SQLSTATE(null): Invalid position 0 or length 0&lt;br/&gt;
&amp;lt; FAIL &amp;#8211; unexpected exception:java.lang.NegativeArraySizeException&lt;br/&gt;
789 del&lt;br/&gt;
&amp;lt; com.ibm.db2.jcc.c.SqlException: Operation &apos;CREATE TRIGGER&apos; cannot be performed on object &apos;TESTBLOB&apos; because there is an open ResultSet dependent on that object.&lt;br/&gt;
789a789&lt;br/&gt;
&amp;gt; com.ibm.db2.jcc.a.SqlException: Operation &apos;CREATE TRIGGER&apos; cannot be performed on object &apos;TESTBLOB&apos; because there is an open ResultSet dependent on that object.&lt;br/&gt;
Test Failed.&lt;/li&gt;
			&lt;li&gt;End:   blobclob4BLOB jdk1.5.0_06 DerbyNet derbynetmats:jdbcapi 2006-08-11 23:30:46 ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment>Linux 2.6.9-5.ELsmp Sun jdk 1.5.0_07-b03</environment>
        <key id="12347932">DERBY-1691</key>
            <summary>jdbcapi/blobclob4BLOB.java fails under DerbyNet framework with JCC 2.6</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oysteing">&#216;ystein Gr&#248;vlen</assignee>
                                    <reporter username="kartha">Rajesh Kartha</reporter>
                        <labels>
                    </labels>
                <created>Mon, 14 Aug 2006 22:49:49 +0100</created>
                <updated>Mon, 29 Jun 2009 23:42:56 +0100</updated>
                            <resolved>Mon, 11 Sep 2006 13:45:19 +0100</resolved>
                                    <version>10.2.1.6</version>
                                    <fixVersion>10.2.1.6</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12427973" author="kartha" created="Mon, 14 Aug 2006 22:56:21 +0100"  >&lt;p&gt;The failure was seen with the  build  - 10.2.1.0 beta - (430903), the beta candidate posted)&lt;/p&gt;</comment>
                            <comment id="12427978" author="davidvc" created="Mon, 14 Aug 2006 23:58:56 +0100"  >&lt;p&gt;The problem is I don&apos;t get this diff on my machine.  I am not even sure that the differences are.-- if you look at them, the text looks exactly the same.  Guidance much appreciated.&lt;/p&gt;</comment>
                            <comment id="12428191" author="davidvc" created="Tue, 15 Aug 2006 19:33:53 +0100"  >&lt;p&gt;I&apos;ve committed revision 431663, hopefully this should make the diff go away.&lt;/p&gt;</comment>
                            <comment id="12428209" author="clr" created="Tue, 15 Aug 2006 21:00:51 +0100"  >&lt;p&gt;There is a tiny difference in the message text for:&lt;/p&gt;

&lt;p&gt;com.ibm.db2.jcc.c.SqlException&lt;br/&gt;
com.ibm.db2.jcc.a.SqlException&lt;/p&gt;

&lt;p&gt;Is the difference something needs to be explained? &lt;/p&gt;

&lt;p&gt;Craig&lt;/p&gt;</comment>
                            <comment id="12428596" author="johnemb" created="Thu, 17 Aug 2006 09:08:51 +0100"  >&lt;p&gt;This test is still failing in the Tinderbox runs, but because of the master file update in SVN 431663, the diff is different:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;
			&lt;ul&gt;
				&lt;li&gt;
				&lt;ul&gt;
					&lt;li&gt;
					&lt;ul&gt;
						&lt;li&gt;
						&lt;ul&gt;
							&lt;li&gt;
							&lt;ul&gt;
								&lt;li&gt;
								&lt;ul&gt;
									&lt;li&gt;Diff file derbyall/derbynetmats/DerbyNet/jdbcapi/blobclob4BLOB.diff&lt;/li&gt;
								&lt;/ul&gt;
								&lt;/li&gt;
							&lt;/ul&gt;
							&lt;/li&gt;
						&lt;/ul&gt;
						&lt;/li&gt;
					&lt;/ul&gt;
					&lt;/li&gt;
				&lt;/ul&gt;
				&lt;/li&gt;
			&lt;/ul&gt;
			&lt;/li&gt;
			&lt;li&gt;Start: blobclob4BLOB jdk1.5.0_04 DerbyNet derbynetmats:jdbcapi 2006-08-17 00:43:40 ***&lt;br/&gt;
474a475&lt;br/&gt;
&amp;gt; java.lang.StringIndexOutOfBoundsException: String index out of range: -1&lt;br/&gt;
476d476&lt;br/&gt;
&amp;lt; java.lang.StringIndexOutOfBoundsException: String index out of range: -1&lt;br/&gt;
782a783&lt;br/&gt;
&amp;gt; java.lang.NegativeArraySizeException&lt;br/&gt;
784d784&lt;br/&gt;
&amp;lt; java.lang.NegativeArraySizeException&lt;br/&gt;
Test Failed.&lt;/li&gt;
			&lt;li&gt;End:   blobclob4BLOB jdk1.5.0_04 DerbyNet derbynetmats:jdbcapi 2006-08-17 00:44:12 ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;I think simply changing the master file may not be the right solution in this case, but I have not looked at it enough to suggest an alternative yet.&lt;/p&gt;</comment>
                            <comment id="12428638" author="johnemb" created="Thu, 17 Aug 2006 13:41:35 +0100"  >&lt;p&gt;The first diff mentioned in this issue started occurring in the daily Sun DBTG test results on August 11 (SVN 430835), and are most likely caused by the fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1516&quot; title=&quot;Inconsistent behavior for getBytes and getSubString for embedded versus network&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1516&quot;&gt;&lt;del&gt;DERBY-1516&lt;/del&gt;&lt;/a&gt;, SVN 430825. Linking the issues.&lt;/p&gt;</comment>
                            <comment id="12428710" author="mikem" created="Thu, 17 Aug 2006 18:26:21 +0100"  >&lt;p&gt;I am also seeing the following diffs in my nightly runs against sun jdk1.4.2, on xp.  reopening as it seems like this issue was not fully fixed rather than a new issue.  If I am wrong, let me know and I can open a new issue:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;Start: blobclob4BLOB jdk1.4.2_07 DerbyNet derbynetmats:jdbcapi 2006-08-16 20&lt;br/&gt;
:05:11 ***&lt;br/&gt;
466a467&lt;br/&gt;
&amp;gt; java.lang.StringIndexOutOfBoundsException: String index out of range: -1&lt;br/&gt;
476d476&lt;br/&gt;
&amp;lt; java.lang.StringIndexOutOfBoundsException: String index out of range: -1&lt;br/&gt;
775a776&lt;br/&gt;
&amp;gt; java.lang.NegativeArraySizeException&lt;br/&gt;
784d784&lt;br/&gt;
&amp;lt; java.lang.NegativeArraySizeException&lt;br/&gt;
Test Failed.&lt;/li&gt;
			&lt;li&gt;End:   blobclob4BLOB jdk1.4.2_07 DerbyNet derbynetmats:jdbcapi 2006-08-16 20&lt;br/&gt;
:07:29 ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12428736" author="davidvc" created="Thu, 17 Aug 2006 19:38:57 +0100"  >&lt;p&gt;Sigh...  I&apos;ll look at this. Really, it passed on my platform.  Craig, this is the &lt;b&gt;last&lt;/b&gt; time I&apos;ll commit a patch for you &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12428831" author="davidvc" created="Fri, 18 Aug 2006 00:37:45 +0100"  >&lt;p&gt;Ok, I downloaded JCC 1.6 and tried again.  I filtered out the strange obfuscated class path diffs using a sed file.  It now passes with&lt;br/&gt;
JCC 1.6.  I don&apos;t feel obligated to get this to work on other versions of JCC.&lt;/p&gt;

&lt;p&gt;Checked in revision 432432.  I&apos;ll check the next test run and see if this solves the problem.&lt;/p&gt;</comment>
                            <comment id="12428986" author="oysteing" created="Fri, 18 Aug 2006 12:40:18 +0100"  >&lt;p&gt;David,   the test is now failing with the same diff as two fixes ago.  It seems like you have been toggling back and forth between two different master files that both creates problems.  From what I can see from the diffs, the problem is that the sequence of output is not always the same.  This can not be solved by switching from one sequence to another in the master file.  One will have to fix the test so that the output sequence is deterministic.&lt;/p&gt;</comment>
                            <comment id="12429965" author="johnemb" created="Wed, 23 Aug 2006 12:00:12 +0100"  >&lt;p&gt;With revision 433790, Andrew McIntyre tried to fix this issue by adding and modifying master files:&lt;/p&gt;

&lt;p&gt;------------------------------------------------------------------------&lt;br/&gt;
r433790 | fuzzylogic | 2006-08-23 00:54:32 +0200 (Wed, 23 Aug 2006) | 3 lines&lt;/p&gt;

&lt;p&gt;Add some JCC and JDK version specific masters in the hopes of fixing the&lt;br/&gt;
blobclob4BLOB test.&lt;/p&gt;

&lt;p&gt;------------------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Changed files:&lt;/p&gt;

&lt;p&gt;trunk/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNet/blobclob4BLOB.out 	(modified , text changed)&lt;br/&gt;
trunk/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNet/jdk15/blobclob4BLOB.out 	(added)&lt;br/&gt;
trunk/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNet/ver2.6/blobclob4BLOB.out 	(added)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.nabble.com/Re%3A-svn-commit%3A-r433790---in--db-derby-code-trunk-java-testing-org-apache-derbyTesting-functionTests-master-DerbyNet%3A-blobclob4BLOB.out-jdk15-blobclob4BLOB.out-ver2.6-blobclob4BLOB.out-t2149648.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.nabble.com/Re%3A-svn-commit%3A-r433790---in--db-derby-code-trunk-java-testing-org-apache-derbyTesting-functionTests-master-DerbyNet%3A-blobclob4BLOB.out-jdk15-blobclob4BLOB.out-ver2.6-blobclob4BLOB.out-t2149648.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Unfortunately, this effort was not successful:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.nabble.com/Regression-Test-Failure%21---TinderBox_Derby-433825---Sun-DBTG-t2150345.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.nabble.com/Regression-Test-Failure%21---TinderBox_Derby-433825---Sun-DBTG-t2150345.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This test should probably be excluded from the DerbyNet framework until we have a working solution.&lt;/p&gt;</comment>
                            <comment id="12430137" author="fuzzylogic" created="Thu, 24 Aug 2006 00:21:03 +0100"  >&lt;p&gt;blobclob4BLOB excluded from running against JCC with revision 434245.&lt;/p&gt;</comment>
                            <comment id="12430605" author="rhillegas" created="Fri, 25 Aug 2006 21:06:56 +0100"  >&lt;p&gt;Ported &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1691&quot; title=&quot;jdbcapi/blobclob4BLOB.java fails under DerbyNet framework with JCC 2.6&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1691&quot;&gt;&lt;del&gt;DERBY-1691&lt;/del&gt;&lt;/a&gt; (434245) to 10.2 branch at subversion revision 436921.&lt;/p&gt;</comment>
                            <comment id="12433798" author="oysteing" created="Mon, 11 Sep 2006 09:20:26 +0100"  >&lt;p&gt;The problem here is that output to stdout and stderr gets merge in&lt;br/&gt;
different ways in different test runs.  This problem can not be solved&lt;br/&gt;
by just updating the master files!  I plan to fix this by making sure&lt;br/&gt;
all output goes to stdout. &lt;/p&gt;</comment>
                            <comment id="12433801" author="oysteing" created="Mon, 11 Sep 2006 09:39:59 +0100"  >&lt;p&gt;derby-1651.diff fixes the problem of merged output by making sure all&lt;br/&gt;
stack traces are written to stdout and not stderr.  It also removes&lt;br/&gt;
the version-specific and jvm-specific canons that failed to solve this&lt;br/&gt;
problem, and re-enables the test for the DerbyNet framework.  In my&lt;br/&gt;
environment and for all frameworks, the test now runs without&lt;br/&gt;
failures.&lt;/p&gt;

&lt;p&gt;Changed files:&lt;br/&gt;
M java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/blobclob4BLOB.java&lt;br/&gt;
D java/testing/org/apache/derbyTesting/functionTests/master/DerbyNet/ver2.6/blobclob4BLOB.out&lt;br/&gt;
D java/testing/org/apache/derbyTesting/functionTests/master/DerbyNet/jdk15/blobclob4BLOB.out&lt;br/&gt;
M java/testing/org/apache/derbyTesting/functionTests/suites/DerbyNet.exclude&lt;/p&gt;</comment>
                            <comment id="12433805" author="andreask" created="Mon, 11 Sep 2006 10:18:02 +0100"  >&lt;p&gt;Patch looks good. Got one conflict in DerbyNet.exclude, which I resolved. I will run some tests and commit.&lt;/p&gt;
</comment>
                            <comment id="12433840" author="andreask" created="Mon, 11 Sep 2006 13:45:19 +0100"  >&lt;p&gt;Committed revision 442199.&lt;/p&gt;</comment>
                            <comment id="12551397" author="fuzzylogic" created="Thu, 13 Dec 2007 09:05:09 +0000"  >&lt;p&gt;This issue has been resolved for over a year with no further movement. Closing.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12349774">DERBY-1844</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12346058">DERBY-1516</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12340557" name="derby-1651.diff" size="87489" author="oysteing" created="Mon, 11 Sep 2006 09:39:59 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10369"><![CDATA[Regression Test Failure]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 14 Aug 2006 22:58:56 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22641</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0w7r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39037</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>