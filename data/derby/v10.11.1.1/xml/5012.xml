<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:27:27 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-5012/DERBY-5012.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-5012] [patch] bad allocation guard in ResultSet#resetUpdatedColumnsForInsert</title>
                <link>https://issues.apache.org/jira/browse/DERBY-5012</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;code checks to see if an array is &lt;em&gt;not&lt;/em&gt; null, and if so allocates the array. This is backwards. Should check to see if the array is null.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12497951">DERBY-5012</key>
            <summary>[patch] bad allocation guard in ResultSet#resetUpdatedColumnsForInsert</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.png">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dbrosius">Dave Brosius</assignee>
                                    <reporter username="dbrosius@apache.org">Dave Brosius</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Feb 2011 05:37:15 +0000</created>
                <updated>Tue, 19 Apr 2011 13:39:08 +0100</updated>
                            <resolved>Wed, 9 Feb 2011 07:51:14 +0000</resolved>
                                    <version>10.7.1.1</version>
                                    <fixVersion>10.8.1.2</fixVersion>
                                    <component>Network Client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <timeoriginalestimate seconds="3600">1h</timeoriginalestimate>
                            <timeestimate seconds="3600">1h</timeestimate>
                                        <comments>
                            <comment id="12991885" author="knutanders" created="Tue, 8 Feb 2011 10:23:19 +0000"  >&lt;p&gt;The patch looks correct to me. The reason why it still works, even if the check is backwards, is that the call to updateColumn() in the loop below will allocate the array if it is null.&lt;/p&gt;

&lt;p&gt;Since both of the arrays will be allocated lazily by updateColumn() anyways, I&apos;m thinking that it may make sense to stop allocating them in resetUpdatedColumnsForInsert() altogether. See the attached patch (no-alloc.diff), which simplifies that method a bit.&lt;/p&gt;</comment>
                            <comment id="12992266" author="dagw" created="Wed, 9 Feb 2011 01:15:24 +0000"  >&lt;p&gt;+1 to no-alloc.diff&lt;/p&gt;</comment>
                            <comment id="12992368" author="knutanders" created="Wed, 9 Feb 2011 07:51:14 +0000"  >&lt;p&gt;Thanks, Dag. All the regression tests ran cleanly with the no-alloc.diff patch. Committed revision 1068772.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12470549" name="bad_allocation_guard.diff" size="645" author="dbrosius@apache.org" created="Tue, 8 Feb 2011 05:50:23 +0000"/>
                            <attachment id="12470579" name="no-alloc.diff" size="961" author="knutanders" created="Tue, 8 Feb 2011 10:23:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 8 Feb 2011 10:23:19 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>24594</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0gnr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36517</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310050" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Urgency</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10052"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>