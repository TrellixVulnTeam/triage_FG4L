<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:19:02 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-4356/DERBY-4356.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-4356] testStartStopManagementFromApplication(org.apache.derbyTesting.functionTests.tests.management.ManagementMBeanTest)junit.framework.AssertionFailedError: expected:&lt;2&gt; but was:&lt;%&gt;</title>
                <link>https://issues.apache.org/jira/browse/DERBY-4356</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Seen with svn r805448 on tinderbox/trunk ( &lt;a href=&quot;http://dbtg.foundry.sun.com/derby/test/tinderbox_trunk16/jvm1.6/testing/Limited/index.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dbtg.foundry.sun.com/derby/test/tinderbox_trunk16/jvm1.6/testing/Limited/index.html&lt;/a&gt; ).&lt;/p&gt;

&lt;p&gt;See e.g. &lt;br/&gt;
&lt;a href=&quot;http://dbtg.foundry.sun.com/derby/test/tinderbox_trunk16/jvm1.6/testing/Limited/testSummary-805576.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dbtg.foundry.sun.com/derby/test/tinderbox_trunk16/jvm1.6/testing/Limited/testSummary-805576.html&lt;/a&gt; ,&lt;br/&gt;
&lt;a href=&quot;http://dbtg.foundry.sun.com/derby/test/Daily/jvm1.6/testing/Limited/testSummary-805470.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dbtg.foundry.sun.com/derby/test/Daily/jvm1.6/testing/Limited/testSummary-805470.html&lt;/a&gt; .&lt;/p&gt;

&lt;p&gt;The failure signature is&lt;/p&gt;

&lt;p&gt;testStartStopManagementFromApplication(org.apache.derbyTesting.functionTests.tests.management.ManagementMBeanTest)junit.framework.AssertionFailedError: expected:&amp;lt;2&amp;gt; but was:&amp;lt;14&amp;gt;&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.management.ManagementMBeanTest.startStopManagement(ManagementMBeanTest.java:86)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.management.ManagementMBeanTest.testStartStopManagementFromApplication(ManagementMBeanTest.java:56)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:109)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;/p&gt;

&lt;p&gt;This seems to be a similar failure signature as for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3561&quot; title=&quot;testStartStopManagementFromApplication(org.apache.derbyTesting.functionTests.tests.management.ManagementMBeanTest)junit.framework.AssertionFailedError: expected:&amp;lt;2&amp;gt; but was:&amp;lt;5&amp;gt;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3561&quot;&gt;&lt;del&gt;DERBY-3561&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3499&quot; title=&quot;testStartStopManagementFromApplication junit test failure in nightly test suite.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3499&quot;&gt;&lt;del&gt;DERBY-3499&lt;/del&gt;&lt;/a&gt;. I choose to create a new issue for the new occurrences.&lt;/p&gt;</description>
                <environment>All</environment>
        <key id="12433427">DERBY-4356</key>
            <summary>testStartStopManagementFromApplication(org.apache.derbyTesting.functionTests.tests.management.ManagementMBeanTest)junit.framework.AssertionFailedError: expected:&lt;2&gt; but was:&lt;%&gt;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rhillegas">Rick Hillegas</assignee>
                                    <reporter username="olesolberg">Ole Solberg</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Aug 2009 08:53:16 +0100</created>
                <updated>Fri, 21 Jan 2011 17:52:33 +0000</updated>
                            <resolved>Tue, 25 Aug 2009 17:14:16 +0100</resolved>
                                    <version>10.4.2.1</version>
                    <version>10.5.3.1</version>
                    <version>10.6.1.0</version>
                                    <fixVersion>10.4.2.1</fixVersion>
                    <fixVersion>10.5.3.1</fixVersion>
                    <fixVersion>10.6.1.0</fixVersion>
                                    <component>JMX</component>
                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12744963" author="olesolberg" created="Wed, 19 Aug 2009 10:10:59 +0100"  >&lt;p&gt;On Windows platforms we also see&lt;/p&gt;

&lt;p&gt;testDefault(org.apache.derbyTesting.functionTests.tests.engine.ErrorStreamTest)junit.framework.AssertionFailedError: File C:\cygwin\export\home\tmp\os136789\testingDerbyJDK16Jvm1.6\CYGWIN_NT-5.1_i686-unknown\org.apache.derbyTesting.functionTests.suites.All\system\derby.log could not be deleted&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.engine.ErrorStreamTest.testDefault(ErrorStreamTest.java:135)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:109)&lt;/p&gt;

&lt;p&gt;which is similar to &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3202&quot; title=&quot;&amp;#39;AccessControlException: access denied (java.io.FilePermission C:\....\file-2.log read)&amp;#39; in ErrorStreamTest.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3202&quot;&gt;&lt;del&gt;DERBY-3202&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="12744969" author="knutanders" created="Wed, 19 Aug 2009 10:44:22 +0100"  >&lt;p&gt;I&apos;ve posted a comment about these failures on &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-700&quot; title=&quot;Derby does not prevent dual boot of database from different classloaders on Linux and Mac OS X&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-700&quot;&gt;&lt;del&gt;DERBY-700&lt;/del&gt;&lt;/a&gt; since they started when the patch for that issue went in.&lt;/p&gt;</comment>
                            <comment id="12745466" author="rhillegas" created="Thu, 20 Aug 2009 16:55:05 +0100"  >&lt;p&gt;Attaching z.diff. This adds a dummy script class, ZSuite which is useful for reproducing instances of this bug. To use this class:&lt;/p&gt;

&lt;p&gt;1) Apply the patch&lt;/p&gt;

&lt;p&gt;2) Edit ZSuite to replace ClassLoaderBootTest with whatever upstream test has left the cruft which is causing these downstream diffs.&lt;/p&gt;

&lt;p&gt;3) Run the script like so:&lt;/p&gt;

&lt;p&gt;java -Xmx512m junit.textui.TestRunner org.apache.derbyTesting.functionTests.tests.management.ZSuite&lt;/p&gt;</comment>
                            <comment id="12747005" author="rhillegas" created="Mon, 24 Aug 2009 19:45:21 +0100"  >&lt;p&gt;Attaching derby-4356-01-aa-noCanary.diff. This patch tries to make ManagementBeanTest defensively insulate itself from artifacts left over from other tests. The test now runs cleanly both standalone and in a suite in which a preceding test (ClassLoaderBootTest) leaves some cruft hanging around. I will run the full regression suite next.&lt;/p&gt;

&lt;p&gt;ManagementBeanTest has turned out to be very noisy. This patch attempts to make the test less sensitive to cruft left over from previous tests. Instead of expecting a fixed number of MBeans, the test now measures differences in the number of MBeans produced by the start and stop operations.&lt;/p&gt;

&lt;p&gt;Along the way, I discovered how many of each kind of MBean we expect to start and stop. I coded this information into the assertions. Previously the test just measured the total number of MBeans.&lt;/p&gt;

&lt;p&gt;I hope that these changes make the test&lt;/p&gt;

&lt;p&gt;1) More sensitive to facts which it is trying to measure.&lt;/p&gt;

&lt;p&gt;2) Less sensitive to facts which it is not trying to measure.&lt;/p&gt;


&lt;p&gt;Touches the following file:&lt;/p&gt;

&lt;p&gt;M      java/testing/org/apache/derbyTesting/functionTests/tests/management/ManagementMBeanTest.java&lt;/p&gt;</comment>
                            <comment id="12747041" author="dagw" created="Mon, 24 Aug 2009 20:46:57 +0100"  >&lt;p&gt;I verified that the test fails when run with ZSuite and works after applying the patch.&lt;br/&gt;
The changes look good to me; +1&lt;br/&gt;
Minor comment:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;The new private methods of test do have Javadoc comments, but lack @params and @throws tags.&lt;/li&gt;
	&lt;li&gt;some lines are &amp;gt; 80 long&lt;/li&gt;
&lt;/ul&gt;

</comment>
                            <comment id="12747475" author="rhillegas" created="Tue, 25 Aug 2009 17:11:17 +0100"  >&lt;p&gt;Thanks for the quick sanity check, Dag. Committed at subversion revision 807685.&lt;/p&gt;</comment>
                            <comment id="12747479" author="myrna" created="Tue, 25 Aug 2009 17:43:39 +0100"  >&lt;p&gt;Rick, did you mean to backport this to 10.5 and 10.4? The test fails there too, I think...&lt;br/&gt;
If you didn&apos;t plan on doing that, I can do it...&lt;/p&gt;</comment>
                            <comment id="12747484" author="rhillegas" created="Tue, 25 Aug 2009 17:56:43 +0100"  >&lt;p&gt;Thanks for the reminder, Myrna. Ported 807685 from trunk to 10.5 at subversion revision 807713.&lt;/p&gt;</comment>
                            <comment id="12747486" author="rhillegas" created="Tue, 25 Aug 2009 18:01:49 +0100"  >&lt;p&gt;Ported 807685 from trunk to 10.4 at subversion revision 807715.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12491791">DERBY-4925</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12325539">DERBY-700</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12390304">DERBY-3499</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12391990">DERBY-3561</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12417504" name="derby-4356-01-aa-noCanary.diff" size="6178" author="rhillegas" created="Mon, 24 Aug 2009 19:45:21 +0100"/>
                            <attachment id="12417143" name="z.diff" size="2363" author="rhillegas" created="Thu, 20 Aug 2009 16:55:05 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 19 Aug 2009 09:44:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>24206</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0kzb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37217</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>