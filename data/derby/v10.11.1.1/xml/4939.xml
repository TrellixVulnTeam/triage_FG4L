<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:38:37 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-4939/DERBY-4939.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-4939] Enable istat daemon and tests</title>
                <link>https://issues.apache.org/jira/browse/DERBY-4939</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Enable automatic updates and creations of index cardinality statistics, and wire the tests into the regression suite.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12492660">DERBY-4939</key>
            <summary>Enable istat daemon and tests</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12492655">DERBY-4934</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kristwaa">Kristian Waagan</assignee>
                                    <reporter username="kristwaa">Kristian Waagan</reporter>
                        <labels>
                    </labels>
                <created>Tue, 7 Dec 2010 21:15:15 +0000</created>
                <updated>Wed, 25 May 2011 22:50:10 +0100</updated>
                            <resolved>Wed, 2 Mar 2011 12:51:05 +0000</resolved>
                                    <version>10.8.1.2</version>
                                    <fixVersion>10.8.1.2</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12993254" author="kristwaa" created="Thu, 10 Feb 2011 22:49:35 +0000"  >&lt;p&gt;Attached patch 1a, which enables the feature.&lt;/p&gt;

&lt;p&gt;I expect there will be issues to deal with, please bring them up on derby-dev and/or file JIRA issues.&lt;/p&gt;

&lt;p&gt;To disable the feature use derby.storage.indexStats.auto=false.&lt;br/&gt;
See &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4938?focusedCommentId=12992769&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12992769&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/DERBY-4938?focusedCommentId=12992769&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12992769&lt;/a&gt; (or &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4771&quot; title=&quot;Continue investigation of automatic creation/update of index statistics&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4771&quot;&gt;&lt;del&gt;DERBY-4771&lt;/del&gt;&lt;/a&gt;) for more information on the available experimental (debug/troubleshooting) knobs.&lt;/p&gt;

&lt;p&gt;Committed to trunk with revision 1069598.&lt;/p&gt;</comment>
                            <comment id="12999572" author="kristwaa" created="Fri, 25 Feb 2011 21:10:31 +0000"  >&lt;p&gt;Closing issue.&lt;br/&gt;
The feature has been enabled, and the first batch of errors has been partially addressed.&lt;br/&gt;
I consider the situation as good enough such that there is no need to disable the feature at this point.&lt;/p&gt;</comment>
                            <comment id="13001405" author="knutanders" created="Wed, 2 Mar 2011 12:50:42 +0000"  >&lt;p&gt;Reopening to allow attaching a release note.&lt;/p&gt;</comment>
                            <comment id="13001407" author="knutanders" created="Wed, 2 Mar 2011 12:53:25 +0000"  >&lt;p&gt;Uploading a first attempt on a release note. Feel free to improve as needed.&lt;/p&gt;</comment>
                            <comment id="13001594" author="rhillegas" created="Wed, 2 Mar 2011 20:15:11 +0000"  >&lt;p&gt;Thanks for the release note, Knut. It looks good. It may need to be adjusted if you go ahead and disable the logging of statistics update events. Thanks.&lt;/p&gt;</comment>
                            <comment id="13001925" author="knutanders" created="Thu, 3 Mar 2011 09:02:30 +0000"  >&lt;p&gt;Updated the release note to reflect that logging is now disabled by default.&lt;/p&gt;</comment>
                            <comment id="13003544" author="kristwaa" created="Mon, 7 Mar 2011 19:51:00 +0000"  >&lt;p&gt;I added a bunch of links, with the following groups:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;incorporates : bugs in the feature itself or in the new tests&lt;/li&gt;
	&lt;li&gt;breaks : existing tests broken by the new feature&lt;/li&gt;
	&lt;li&gt;is related to : various follow-up work, or changes required due to side-effects caused by the new feature&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13006421" author="rhillegas" created="Mon, 14 Mar 2011 14:16:37 +0000"  >&lt;p&gt;Attaching a new version of the release note. This version describes the default 10.8.1 behavior: by default the istat daemon does not run automatically in 10.8.1.&lt;/p&gt;</comment>
                            <comment id="13009127" author="rhillegas" created="Mon, 21 Mar 2011 13:53:39 +0000"  >&lt;p&gt;Re-attaching the 2011-03-03 release note since we have re-enabled istat=on as the default behavior for 10.8.1.&lt;/p&gt;</comment>
                            <comment id="13009602" author="fuzzylogic" created="Tue, 22 Mar 2011 10:17:05 +0000"  ></comment>
                            <comment id="13010703" author="dagw" created="Thu, 24 Mar 2011 15:20:26 +0000"  >&lt;p&gt;Small comment on the release notes:&lt;/p&gt;

&lt;p&gt;&amp;gt; &quot;During query compilation, Derby now checks if the index cardinality statistics for the tables involved in the query are out of date. If &amp;gt; the statistics are outdated, the query compiler will schedule a job that updates them in a separate thread. &quot;&lt;/p&gt;

&lt;p&gt;Strictly speaking, &quot;out-of-date&quot; is an elusive goal, we can&apos;t really claim more than a best shot using heuristics. So maybe we should&lt;br/&gt;
qualify this statement to say something like &quot;deemed out of date&quot;, and add a sentence to say that one can always force an update using SYSCS_UTIL.SYSCS_UPDATE_STATISTICS if the automation doesn&apos;t work well enough for an application?&lt;/p&gt;</comment>
                            <comment id="13010938" author="rhillegas" created="Thu, 24 Mar 2011 21:27:48 +0000"  >&lt;p&gt;Hi Dag,&lt;/p&gt;

&lt;p&gt;Those sound like reasonable improvements to the detailed release note for this issue. Feel free to post an improved note. Thanks.&lt;/p&gt;</comment>
                            <comment id="13039358" author="kristwaa" created="Wed, 25 May 2011 22:50:10 +0100"  >&lt;p&gt;Closing issue, the feature has been enabled and most of the resulting problems have been resolved.&lt;br/&gt;
I think we have JIRAs for the remaining bugs that surfaced when the feature was first enabled, none of which were considered show-stoppers for the release.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                            <outwardlinks description="incorporates">
                                        <issuelink>
            <issuekey id="12498403">DERBY-5026</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12498427">DERBY-5030</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12498432">DERBY-5031</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12498544">DERBY-5037</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12498592">DERBY-5040</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12499054">DERBY-5057</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12500174">DERBY-5082</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12498753">DERBY-5046</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12500239">DERBY-5087</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12500242">DERBY-5088</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12493638">DERBY-4947</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12492663">DERBY-4940</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12499612">DERBY-5067</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12500208">DERBY-5086</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12500245">DERBY-5089</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12500186">DERBY-5083</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12501351">DERBY-5131</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12498557">DERBY-5038</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12498561">DERBY-5039</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12498732">DERBY-5045</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12470808" name="derby-4939-1a-enable_istat.diff" size="3290" author="kristwaa" created="Thu, 10 Feb 2011 22:49:35 +0000"/>
                            <attachment id="12474176" name="releaseNote.html" size="4771" author="rhillegas" created="Mon, 21 Mar 2011 13:53:39 +0000"/>
                            <attachment id="12473566" name="releaseNote.html" size="4776" author="rhillegas" created="Mon, 14 Mar 2011 14:16:37 +0000"/>
                            <attachment id="12472517" name="releaseNote.html" size="4771" author="knutanders" created="Thu, 3 Mar 2011 09:02:30 +0000"/>
                            <attachment id="12472423" name="releaseNote.html" size="4774" author="knutanders" created="Wed, 2 Mar 2011 12:53:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 2 Mar 2011 12:50:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31449</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10101"><![CDATA[Release Note Needed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0g73:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36442</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>