<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:11:03 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-2050/DERBY-2050.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-2050] Manipulating CachedItems could be more efficient</title>
                <link>https://issues.apache.org/jira/browse/DERBY-2050</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;CachedItem&apos;s state is currently recorded in bit fields of an integer variable. Changing this to 6 boolean member variables reduces cpu usage. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12354934">DERBY-2050</key>
            <summary>Manipulating CachedItems could be more efficient</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.png">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dyret">Dyre Tjeldvoll</assignee>
                                    <reporter username="dyret">Dyre Tjeldvoll</reporter>
                        <labels>
                    </labels>
                <created>Tue, 7 Nov 2006 13:15:28 +0000</created>
                <updated>Mon, 29 Jun 2009 15:25:04 +0100</updated>
                            <resolved>Thu, 9 Nov 2006 07:47:06 +0000</resolved>
                                    <version>10.2.1.6</version>
                                    <fixVersion>10.3.1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12447828" author="djd" created="Tue, 7 Nov 2006 15:19:52 +0000"  >&lt;p&gt;How would memory usage compare with six booleans to one integer?&lt;/p&gt;</comment>
                            <comment id="12447836" author="knutanders" created="Tue, 7 Nov 2006 15:56:13 +0000"  >&lt;p&gt;I don&apos;t think this should affect memory usage much since the JVM seems to allocate multiples of 8 bytes. I used DTrace to compare the object sizes for one class with 2 ints and one object reference (like CachedItem), and one class with one int, six booleans and one object reference. Both object types used 24 bytes.&lt;/p&gt;</comment>
                            <comment id="12447963" author="dyret" created="Tue, 7 Nov 2006 23:12:42 +0000"  >
&lt;p&gt;   [[ Old comment, sent from unregistered email on Tue, 07 Nov 2006 16:46:58 +0100 ]]&lt;/p&gt;



&lt;p&gt;2 bytes more per CachedItem. If that is REALLY critical, why wasn&apos;t&lt;br/&gt;
the the six bit fields coded as a byte (rather than an int)?&lt;/p&gt;

&lt;p&gt;&amp;#8211; &lt;br/&gt;
dt&lt;/p&gt;
</comment>
                            <comment id="12448097" author="dyret" created="Wed, 8 Nov 2006 10:47:42 +0000"  >&lt;p&gt;Seems like this change was possibly more controversial than I thought, but I&apos;m attaching a patch anyway. Maybe those who are interested can look at the patch. Personally I found it very enlightening to compare the bytecode (using javap) generated for bitfield access with that generated for access to booleans .&lt;/p&gt;</comment>
                            <comment id="12448155" author="knutanders" created="Wed, 8 Nov 2006 14:49:33 +0000"  >&lt;p&gt;I haven&apos;t tested the performance impact, but I definitely think the patch makes the code cleaner. A couple of small comments:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;The final keyword has been removed from the definition of isKept() and isValid(). Was that intentional?&lt;/li&gt;
	&lt;li&gt;The comment in settingIdentityComplete() was deleted, but I think it&apos;s still relevant.&lt;/li&gt;
	&lt;li&gt;White-space changes in unkeep() and use(). Blanks inserted in front of the tabs.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12448183" author="dyret" created="Wed, 8 Nov 2006 16:08:52 +0000"  >&lt;p&gt;New patch which &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;restores the deleted comment&lt;/li&gt;
	&lt;li&gt;removes unintended white space changes&lt;/li&gt;
	&lt;li&gt;restores the deleted final keywords&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Deletion was not intentional. I wanted to remove the final keywords that I had added myself, and did not notice that I removed some of the existing ones. I decided to remove the final keywords I which I had added since I noticed that the class itself was declared final. Is there some added benefit to declaring methods in a final class as final?&lt;/p&gt;</comment>
                            <comment id="12448386" author="knutanders" created="Thu, 9 Nov 2006 07:47:06 +0000"  >&lt;p&gt;Thanks Dyre. Derbyall and the JUnit tests ran cleanly (except a couple of known issues). Committed revision 472803.&lt;/p&gt;</comment>
                            <comment id="12551439" author="fuzzylogic" created="Thu, 13 Dec 2007 09:05:18 +0000"  >&lt;p&gt;This issue has been resolved for over a year with no further movement. Closing.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12344565" name="derby-2050.diff" size="4513" author="dyret" created="Wed, 8 Nov 2006 10:47:42 +0000"/>
                            <attachment id="12344566" name="derby-2050.stat" size="285" author="dyret" created="Wed, 8 Nov 2006 10:47:42 +0000"/>
                            <attachment id="12344596" name="derby-2050.v2.diff" size="3764" author="dyret" created="Wed, 8 Nov 2006 16:08:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10362"><![CDATA[Performance]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 7 Nov 2006 15:19:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30255</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0wkv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39096</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>