<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:17:09 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-4515/DERBY-4515.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-4515] Document and clarify the use of DataValueDescriptor.setValue(InputStream,int)</title>
                <link>https://issues.apache.org/jira/browse/DERBY-4515</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;The usage of the method DataValueDescriptor.setValue(InputStream stream, int length) is unclear. The intended use seems to be to pass on the known length of an input stream set from the JDBC-layer (i.e. setBinaryStream).&lt;br/&gt;
There seems to be two distinct cases:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the logical length of the stream is known&lt;/li&gt;
	&lt;li&gt;the logical length of the stream is not known&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Using -1 when the length is not known seems to be an established pattern.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12445630">DERBY-4515</key>
            <summary>Document and clarify the use of DataValueDescriptor.setValue(InputStream,int)</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kristwaa">Kristian Waagan</assignee>
                                    <reporter username="kristwaa">Kristian Waagan</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 Jan 2010 12:48:33 +0000</created>
                <updated>Thu, 21 Jan 2010 10:59:50 +0000</updated>
                            <resolved>Thu, 21 Jan 2010 10:59:51 +0000</resolved>
                                    <version>10.6.1.0</version>
                                    <fixVersion>10.5.3.1</fixVersion>
                    <fixVersion>10.6.1.0</fixVersion>
                                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12800687" author="kristwaa" created="Fri, 15 Jan 2010 13:11:08 +0000"  >&lt;p&gt;Patch 1a cleans up the usage of DataValueDescriptor.setValue(InputStream,int) with the following changes:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;DataValueDescriptor&lt;br/&gt;
Added constant UNKNOWN_LOGICAL_LENGTH (has value -1).&lt;br/&gt;
Improved JavaDoc for the method setValue(InputStream,int).&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;EmbedResultSet&lt;br/&gt;
Used new constant to indicate unknown length.&lt;br/&gt;
Removed inaccurate comment stating the length variable isn&apos;t used.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;EmbedPreparedStatement&lt;br/&gt;
Used new constant to indicate unknown length.&lt;br/&gt;
Removed false comment (already wrong, but got even worse after the fix below).&lt;br/&gt;
Removed unneeded variable &apos;intLength&apos;.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;SQLChar &amp;amp; SQLBinary&lt;br/&gt;
Added mention of the new constant in the JavaDoc for the setValue method.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Regression tests passed.&lt;br/&gt;
Patch ready for review.&lt;/p&gt;

&lt;p&gt;An alternative to the patch, or maybe even follow-up work, is to investigate if the length argument is really needed. Most of the usage seem to be related to getting data into Derby, but there are &lt;b&gt;indications&lt;/b&gt; that in some cases it is used when dealing with streams coming from the store as well (or maybe when passing between different parts of the system).&lt;br/&gt;
Given that most of the patch is documentation and trivial changes, I think it is incremental improvement in any case.&lt;/p&gt;</comment>
                            <comment id="12802864" author="knutanders" created="Wed, 20 Jan 2010 15:33:50 +0000"  >&lt;p&gt;The patch looks like an improvement to me too. +1 to commit.&lt;/p&gt;</comment>
                            <comment id="12803252" author="kristwaa" created="Thu, 21 Jan 2010 10:59:50 +0000"  >&lt;p&gt;Committed to trunk with revision 901648, and back-ported to the 10.5 branch with revision 901651.&lt;/p&gt;

&lt;p&gt;I&apos;m closing the issue. Thank you for the feedback.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12441958">DERBY-4455</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12430396" name="derby-4515-1a-setValue_stream_clarification.diff" size="8100" author="kristwaa" created="Fri, 15 Jan 2010 13:11:08 +0000"/>
                            <attachment id="12430397" name="derby-4515-1a-setValue_stream_clarification.stat" size="339" author="kristwaa" created="Fri, 15 Jan 2010 13:11:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 20 Jan 2010 15:33:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31259</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0rc7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38247</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>