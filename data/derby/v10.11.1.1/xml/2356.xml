<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:41:49 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-2356/DERBY-2356.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-2356] Make SSL server authentication optional</title>
                <link>https://issues.apache.org/jira/browse/DERBY-2356</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Default SSL behaviour is to require serer authentication. For a database application this is not as important as it is for web browsers and also creates som extra hassle for the user/application programmer. Since the main objective for SSL in Derby is encryption on the wire, server authentication should be optional (the same way client authentication is).&lt;/p&gt;

&lt;p&gt;This also creates some symmetry which can be exploited to simplify the user interfce somewhat. This improvement to &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2108&quot; title=&quot;Implement SSL/TLS communication between client and server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2108&quot;&gt;&lt;del&gt;DERBY-2108&lt;/del&gt;&lt;/a&gt; is described in the attached functional specification. See the attachment for details.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12363141">DERBY-2356</key>
            <summary>Make SSL server authentication optional</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bernt">Bernt M. Johnsen</assignee>
                                    <reporter username="bernt">Bernt M. Johnsen</reporter>
                        <labels>
                    </labels>
                <created>Mon, 19 Feb 2007 14:21:17 +0000</created>
                <updated>Tue, 30 Jun 2009 01:14:41 +0100</updated>
                            <resolved>Mon, 26 Feb 2007 19:05:16 +0000</resolved>
                                    <version>10.3.1.4</version>
                                    <fixVersion>10.3.1.4</fixVersion>
                                    <component>Network Client</component>
                    <component>Network Server</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12474438" author="bernt" created="Tue, 20 Feb 2007 13:21:37 +0000"  >&lt;p&gt;Uploaded patch for this improvement. Comments are welcome&lt;/p&gt;</comment>
                            <comment id="12474512" author="kristwaa" created="Tue, 20 Feb 2007 17:54:16 +0000"  >&lt;p&gt;Just a few quick comments!&lt;/p&gt;

&lt;p&gt; 1) Typo in Property.java&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;drda.NaiveTrustManager&amp;#93;&lt;/span&gt;&lt;br/&gt;
 2) Strange sentence in JavaDoc for getSocketFactory()&lt;br/&gt;
 3) No JavaDoc for the other methods. Are these documented elsewhere? For instance, what form/value is authType supposed to have?&lt;br/&gt;
 4) Could getAcceptedIssuers() return an empty array instead of null?&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;NetworkServerControlImpl&amp;#93;&lt;/span&gt;&lt;br/&gt;
 5) I guess SSL_OFF and default are the same for now. It would be nice with a comment to document the fall-through.&lt;br/&gt;
 6) Long line/missing newline in getSSLModeValue&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;net.NaiveTrustManager&amp;#93;&lt;/span&gt;&lt;br/&gt;
 7) See items 2-4.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;NetConnection&amp;#93;&lt;/span&gt;&lt;br/&gt;
 8) Several long lines. Was long before, but maybe it is possible to break some of them?&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;OpenSocketAction&amp;#93;&lt;/span&gt;&lt;br/&gt;
 9) Document fall-through in switch?&lt;/p&gt;

&lt;p&gt;There also seems to be a mix of tabs and spaces in the changed code. Even though the code already contains both, it would be nice to stick to one alternative when adding/changing lines.&lt;/p&gt;

&lt;p&gt;I&apos;ll give the functionality a try tomorrow!&lt;br/&gt;
Thanks,&lt;/p&gt;</comment>
                            <comment id="12474990" author="johnemb" created="Thu, 22 Feb 2007 12:13:08 +0000"  >&lt;p&gt;A few comments after my first take at trying out the (v1) patch:&lt;/p&gt;

&lt;p&gt;(I have only tried ssl=basic so far...)&lt;/p&gt;

&lt;p&gt;1) No server commands (e.g. shutdown, ping, runtimeinfo) worked after the server was started with SSL on (basic) . The message I&apos;m getting is:&lt;/p&gt;

&lt;p&gt;    Invalid reply header from network server: Invalid string .&lt;/p&gt;

&lt;p&gt;2) Using -Dderby.drda.sslMode=basic (and ssl=basic in the client URL) seemed to work fine, although I did not actually inspect the network traffic to verify encryption.&lt;/p&gt;

&lt;p&gt;3) Using ssl=basic as an option to the NetworkServerControl start command did not work:&lt;/p&gt;

&lt;p&gt;    Command line: java &amp;lt;properties&amp;gt; -jar derbyrun.jar server start ssl=basic&lt;br/&gt;
    Result: Invalid number of arguments for command start.&lt;/p&gt;

&lt;p&gt;    Command line: java &amp;lt;properties&amp;gt; -jar derbyrun.jar server start -ssl=basic&lt;br/&gt;
    Result: Argument -ssl=basic is unknown.&lt;/p&gt;

&lt;p&gt;  I tried both with and without the -unsecure option/plain-text authentication.&lt;/p&gt;

&lt;p&gt;4) The funcSpec says:&lt;/p&gt;

&lt;p&gt;     SSL at the server side is activated with the property&lt;br/&gt;
    derby.drda.sslMode (default off) or the -ssl option for the server&lt;br/&gt;
    command.&lt;/p&gt;

&lt;p&gt;   By &quot;the server command&quot;, do you mean the start command of the server? This should perhaps be clarified in the funcSpec?&lt;/p&gt;

&lt;p&gt;5) The funcSpec also says:&lt;/p&gt;

&lt;p&gt;    The property may have three values: &quot;off&quot;, &quot;basic&quot; and&lt;br/&gt;
    &quot;peerAuthentication&quot;&lt;/p&gt;

&lt;p&gt;   However, the example in section 2.3 is using ssl=authenticate. Also, comments in the patch seem to indicate that &quot;false&quot;, &quot;true&quot; and &quot;auth&quot; are also valid property values. What is (or should be) the correct set of valid values?&lt;/p&gt;

&lt;p&gt;6) I verified that connection attempts against a server started with SSL off, but with ssl=basic in the client URL, resulted in an informative error message on the client side.&lt;/p&gt;
</comment>
                            <comment id="12475158" author="bernt" created="Thu, 22 Feb 2007 20:56:28 +0000"  >&lt;p&gt;Thanks John!&lt;br/&gt;
1) You need -ssl basic on these too, since they are clients. My mistake, it&apos;s not mentioned in the func spec, but it is implemented. This is also another argument for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2362&quot; title=&quot;Add checks to ensure security manager installed by network server by default is as expected.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2362&quot;&gt;DERBY-2362&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;3) This is in line with the other options, e.g.&lt;/p&gt;

&lt;p&gt;java -jar derbyrun.jar server start p=1234&lt;br/&gt;
Invalid number of arguments for command start.&lt;/p&gt;

&lt;p&gt;or&lt;/p&gt;

&lt;p&gt;java -jar derbyrun.jar server start -p=1234&lt;br/&gt;
Argument -p=1234 is unknown.&lt;/p&gt;

&lt;p&gt;4) I will clarify this&lt;/p&gt;

&lt;p&gt;5) Typo. I will fix them (some are already fixed in my sandbox)&lt;/p&gt;
</comment>
                            <comment id="12475279" author="johnemb" created="Fri, 23 Feb 2007 07:19:51 +0000"  >&lt;p&gt;Yes, using the -ssl basic option for the other NetworkServerControl commands as well worked just great, makes sense. So 4) would essentially be clear enough by just appending an &quot;s&quot; to &quot;the server command&quot; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Regarding 3), I only followed the examples in the funcSpec, thinking this was somehow implemented differently. The regular variant &lt;br/&gt;
&amp;lt;command&amp;gt; -ssl &amp;lt;sslMode&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;otherOptions&amp;#93;&lt;/span&gt;&lt;br/&gt;
works just fine.&lt;/p&gt;</comment>
                            <comment id="12475325" author="bernt" created="Fri, 23 Feb 2007 12:40:27 +0000"  >&lt;p&gt;Uploaded new funcspec and V2 of the patch. Thanks to John and Kristian for their comments.&lt;/p&gt;</comment>
                            <comment id="12475855" author="bernt" created="Mon, 26 Feb 2007 09:23:17 +0000"  >&lt;p&gt;Uploaded v3. Small change from v2: Avoid creating a new TrustManager for each connection.&lt;/p&gt;</comment>
                            <comment id="12475951" author="bernt" created="Mon, 26 Feb 2007 19:05:16 +0000"  >&lt;p&gt;Committed revision 511785.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12363266">DERBY-2363</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12356362">DERBY-2108</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12351885" name="SSLFuncSpect.txt" size="6020" author="bernt" created="Fri, 23 Feb 2007 12:40:27 +0000"/>
                            <attachment id="12351506" name="SSLFuncSpect.txt" size="5312" author="bernt" created="Mon, 19 Feb 2007 14:21:54 +0000"/>
                            <attachment id="12351581" name="derby-2356-v1.diff" size="21113" author="bernt" created="Tue, 20 Feb 2007 13:21:37 +0000"/>
                            <attachment id="12351582" name="derby-2356-v1.stat" size="667" author="bernt" created="Tue, 20 Feb 2007 13:21:37 +0000"/>
                            <attachment id="12351883" name="derby-2356-v2.diff" size="23157" author="bernt" created="Fri, 23 Feb 2007 12:40:26 +0000"/>
                            <attachment id="12351884" name="derby-2356-v2.stat" size="667" author="bernt" created="Fri, 23 Feb 2007 12:40:27 +0000"/>
                            <attachment id="12352023" name="derby-2356-v3.diff" size="23727" author="bernt" created="Mon, 26 Feb 2007 09:23:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10361"><![CDATA[Security]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 20 Feb 2007 17:54:16 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30397</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0v6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38869</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>