<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:42:28 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-2647/DERBY-2647.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-2647] .lang.ErrorCodeTest fails with &apos;Required Derby DataSource property {0} not set.&apos;</title>
                <link>https://issues.apache.org/jira/browse/DERBY-2647</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Seen in&lt;br/&gt;
&lt;a href=&quot;http://dbtg.thresher.com/derby/test/trunk16/jvmAll/testing/Limited/testSummary-537924.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dbtg.thresher.com/derby/test/trunk16/jvmAll/testing/Limited/testSummary-537924.html&lt;/a&gt; / &lt;br/&gt;
&lt;a href=&quot;http://dbtg.thresher.com/derby/test/trunk16/jvmAll/testing/testlog/JDK16Jvm1.5SunOS-5.10_i86pc-i386/537924-org.apache.derbyTesting.functionTests.suites.All_diff.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dbtg.thresher.com/derby/test/trunk16/jvmAll/testing/testlog/JDK16Jvm1.5SunOS-5.10_i86pc-i386/537924-org.apache.derbyTesting.functionTests.suites.All_diff.txt&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;1) test_errorcode(org.apache.derbyTesting.functionTests.tests.lang.ErrorCodeTest)junit.framework.AssertionFailedError: Column value mismatch @ column &apos;MESSAGE&apos;, row 2:&lt;br/&gt;
    Expected: &amp;gt;A connection could not be established because the security token is larger than the maximum allowed by the network protocol.&amp;lt;&lt;br/&gt;
    Found:    &amp;gt;Required Derby DataSource property &lt;/p&gt;
{0}
&lt;p&gt; not set.&amp;lt;&lt;br/&gt;
	at org.apache.derbyTesting.junit.JDBC.assertRowInResultSet(JDBC.java:847)&lt;br/&gt;
	at org.apache.derbyTesting.junit.JDBC.assertFullResultSet(JDBC.java:740)&lt;br/&gt;
	at org.apache.derbyTesting.junit.JDBC.assertFullResultSet(JDBC.java:682)&lt;br/&gt;
	at org.apache.derbyTesting.junit.JDBC.assertFullResultSet(JDBC.java:640)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.ErrorCodeTest.test_errorcode(ErrorCodeTest.java:244)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:88)&lt;/p&gt;
</description>
                <environment>OS: Solaris 10 11/06 s10x_u3wos_10 X86 64bits - SunOS 5.10 Generic_118855-33&lt;br/&gt;
JVM: Sun Microsystems Inc. 1.5.0_07-b03&lt;br/&gt;
Derby Information: JRE - JDBC: J2SE 5.0 - JDBC 3.0</environment>
        <key id="12369356">DERBY-2647</key>
            <summary>.lang.ErrorCodeTest fails with &apos;Required Derby DataSource property {0} not set.&apos;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="knutanders">Knut Anders Hatlen</assignee>
                                    <reporter username="olesolberg">Ole Solberg</reporter>
                        <labels>
                    </labels>
                <created>Tue, 15 May 2007 08:25:18 +0100</created>
                <updated>Mon, 29 Jun 2009 23:42:47 +0100</updated>
                            <resolved>Tue, 22 May 2007 15:49:45 +0100</resolved>
                                    <version>10.3.1.4</version>
                                    <fixVersion>10.3.1.4</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12496656" author="mikem" created="Thu, 17 May 2007 19:14:37 +0100"  >&lt;p&gt;I saw this on an XP machine runing ibm15 jvm, build 538785&lt;/p&gt;

&lt;p&gt;1) test_errorcode(org.apache.derbyTesting.functionTests.tests.lang.ErrorCodeTest)junit.framework.AssertionFailedError: Column value mismatch @ column &apos;MESSAGE&apos;, row 2:&lt;br/&gt;
    Expected: &amp;gt;A connection could not be established because the security token is larger than the maximum allowed by the network protocol.&amp;lt;&lt;br/&gt;
    Found:    &amp;gt;Required Derby DataSource property &lt;/p&gt;
{0}
&lt;p&gt; not set.&amp;lt;&lt;br/&gt;
	at org.apache.derbyTesting.junit.JDBC.assertRowInResultSet(JDBC.java:847)&lt;br/&gt;
	at org.apache.derbyTesting.junit.JDBC.assertFullResultSet(JDBC.java:740)&lt;br/&gt;
	at org.apache.derbyTesting.junit.JDBC.assertFullResultSet(JDBC.java:682)&lt;br/&gt;
	at org.apache.derbyTesting.junit.JDBC.assertFullResultSet(JDBC.java:640)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.ErrorCodeTest.test_errorcode(ErrorCodeTest.java:244)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:88)&lt;/p&gt;</comment>
                            <comment id="12497001" author="mikem" created="Fri, 18 May 2007 20:12:11 +0100"  >&lt;p&gt;This test also began failing against ibm15 machines with the following report, failed the next day also so seems consistent.  &lt;br/&gt;
It works against ibm1.4.2 jvm.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://people.apache.org/~fuzzylogic/derby_test_results/main/testlog/ibm15/538785-suites.All_diff.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://people.apache.org/~fuzzylogic/derby_test_results/main/testlog/ibm15/538785-suites.All_diff.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The checkins associated with this test run are:&lt;br/&gt;
SUBVERSION LOG FROM 538396 TO 538785:&lt;/p&gt;

&lt;p&gt;Subversion changes 538413 to 538770  by bpendleton, dag, kahatlen, Mamta, Myrna&lt;/p&gt;


&lt;p&gt;error:&lt;br/&gt;
1) test_errorcode(org.apache.derbyTesting.functionTests.tests.lang.ErrorCodeTest)junit.framework.AssertionFailedError: Column value mismatch @ column &apos;MESSAGE&apos;, row 2:&lt;br/&gt;
    Expected: &amp;gt;A connection could not be established because the security token is larger than the maximum allowed by the network protocol.&amp;lt;&lt;br/&gt;
    Found:    &amp;gt;Required Derby DataSource property &lt;/p&gt;
{0}
&lt;p&gt; not set.&amp;lt;&lt;br/&gt;
	at org.apache.derbyTesting.junit.JDBC.assertRowInResultSet(JDBC.java:847)&lt;br/&gt;
	at org.apache.derbyTesting.junit.JDBC.assertFullResultSet(JDBC.java:740)&lt;br/&gt;
	at org.apache.derbyTesting.junit.JDBC.assertFullResultSet(JDBC.java:682)&lt;br/&gt;
	at org.apache.derbyTesting.junit.JDBC.assertFullResultSet(JDBC.java:640)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.ErrorCodeTest.test_errorcode(ErrorCodeTest.java:244)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:88)&lt;/p&gt;</comment>
                            <comment id="12497081" author="mikem" created="Sat, 19 May 2007 00:21:48 +0100"  >&lt;p&gt;I posted the incorrect range of changes for when the bug was introduced.  I have narrowed down the problem to &lt;br/&gt;
the following change.  I reverted my client to just before the change and bug did not reproduce then added just this&lt;br/&gt;
change and the problem appeared:&lt;/p&gt;

&lt;p&gt;r537850 | kahatlen | 2007-05-14 07:09:51 -0700 (Mon, 14 May 2007) | 7 lines&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1828&quot; title=&quot;Access rule violations should use a SQL state starting with &amp;#39;42&amp;#39; according to the SQL standard.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1828&quot;&gt;&lt;del&gt;DERBY-1828&lt;/del&gt;&lt;/a&gt;: Access rule violations should use a SQL state starting&lt;br/&gt;
with &apos;42&apos; according to the SQL standard.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2633&quot; title=&quot;Authorization error codes have been moved. Translated messages must be moved accordingly.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2633&quot;&gt;&lt;del&gt;DERBY-2633&lt;/del&gt;&lt;/a&gt;: Authorization error codes have been moved. Translated&lt;br/&gt;
messages must be moved accordingly.&lt;/p&gt;

&lt;p&gt;Patch contributed by J_rgen L_land.&lt;/p&gt;</comment>
                            <comment id="12497090" author="knutanders" created="Sat, 19 May 2007 01:02:51 +0100"  >&lt;p&gt;I am not able to reproduce this failure in my environment (OpenSolaris snv_64, Sun Java 1.4.2, 1.5.0 and 1.6.0).&lt;/p&gt;

&lt;p&gt;The test that fails performs the following query&lt;br/&gt;
  select * from SYSCS_DIAG.Error_messages where SEVERITY &amp;gt;= 40000 order by SQL_STATE&lt;br/&gt;
and calls JDBC.assertFullResultSet() on the result.&lt;/p&gt;

&lt;p&gt;But even though it orders the results by SQL_STATE, the order of the rows in the result is not well-defined as many of them have the same SQL state. The two error messages mentioned in the expected/found string both have SQL state 08001.&lt;/p&gt;

&lt;p&gt;Attaching a patch which makes the test use JDBC.assertUnorderedResultSet() instead of assertFullResultSet(). I have no way of verifying that this fixes the problem, but I have committed what I think is a fix with revision 539642.&lt;/p&gt;</comment>
                            <comment id="12497098" author="mikem" created="Sat, 19 May 2007 01:38:27 +0100"  >&lt;p&gt;The most recent change fixes it in my codeline which reliably reproduced the problem before the change.  I won&apos;t be able to check our nightly runs until tommorow at earliest.  &lt;/p&gt;</comment>
                            <comment id="12497883" author="knutanders" created="Tue, 22 May 2007 15:49:45 +0100"  >&lt;p&gt;I haven&apos;t seen this failure in the nightly regression tests after the check-in. Marking the issue as resolved. I&apos;m also unchecking the regression flag since this seems to have been a bug in the test, not a product regression.&lt;/p&gt;</comment>
                            <comment id="12505795" author="olesolberg" created="Mon, 18 Jun 2007 13:23:22 +0100"  >&lt;p&gt;Not seen in our regression tests since 538986 2007-05-17 18:00:10 CEST&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12357664" name="2647.diff" size="727" author="knutanders" created="Sat, 19 May 2007 01:02:51 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10369"><![CDATA[Regression Test Failure]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 17 May 2007 18:14:37 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23151</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0wc7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39057</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>