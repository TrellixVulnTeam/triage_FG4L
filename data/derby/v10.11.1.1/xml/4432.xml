<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:34:39 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-4432/DERBY-4432.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-4432] Memory leak when attempting to boot non-existing database with the in-memory back end</title>
                <link>https://issues.apache.org/jira/browse/DERBY-4432</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;When attempting to boot a non-existing database with the in-memory back end, a DataStore is created and referenced by a map. Since the database doesn&apos;t exist, Derby won&apos;t use the DataStore again and it will hang around indefinitely in VFMemoryStorageFactory (or until the same database is actually created, in which case the data store will be used).&lt;/p&gt;

&lt;p&gt;FYI, storage factory instances are instantiated liberally, including for the same service (i.e. six instances of VFMemoryStorageFactory may be created to boot &quot;jdbc:derby:memory:myDB&quot;).&lt;/p&gt;</description>
                <environment>In-memory back end and large amount of boot attempts of non-existing databases.</environment>
        <key id="12439742">DERBY-4432</key>
            <summary>Memory leak when attempting to boot non-existing database with the in-memory back end</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kristwaa">Kristian Waagan</assignee>
                                    <reporter username="kristwaa">Kristian Waagan</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Nov 2009 09:39:49 +0000</created>
                <updated>Tue, 26 Jan 2010 07:17:42 +0000</updated>
                            <resolved>Thu, 12 Nov 2009 08:34:40 +0000</resolved>
                                    <version>10.5.3.0</version>
                    <version>10.6.1.0</version>
                                    <fixVersion>10.5.3.1</fixVersion>
                    <fixVersion>10.6.1.0</fixVersion>
                                    <component>Store</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12772997" author="kristwaa" created="Tue, 3 Nov 2009 10:11:18 +0000"  >&lt;p&gt;Patch 1a fixes the memory leak and adds a test for it.&lt;/p&gt;

&lt;p&gt;A &quot;dummy&quot; data store has been added. It will be used until Derby actually requests a database to be created (when a unique name is provided).&lt;br/&gt;
Directories for created databases will be created in the dummy data store, which means it will grow with the number of databases created. I don&apos;t think this will be a problem, because the space occupied by the databases themselves will be much larger than the bytes required to store a directory structure. Further, I intended to delete the directory structure in the dummy store for a database when the database itself is deleted (this patch will probably appear under &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4428&quot; title=&quot;Add proper delete mechanism for in-memory databases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4428&quot;&gt;&lt;del&gt;DERBY-4428&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;An alternative to the current patch is to use a bounded map where the oldest entry is deleted when the bound has been exceeded. I discarded this approach because the code got slightly more complex.&lt;/p&gt;

&lt;p&gt;Patch ready for review.&lt;/p&gt;</comment>
                            <comment id="12773006" author="kristwaa" created="Tue, 3 Nov 2009 10:27:45 +0000"  >&lt;p&gt;Forgot to mention that patch 1a changes the behavior slightly. The in-memory back end will now behave more like the on-disk back end in that you won&apos;t be able to create database &quot;/tmp/a&quot; if you have already created database &quot;/tmp/a/b&quot; (there may be some exceptions for both back ends when Derby is instructed to delete the existing service root). The reason is the check for whether the service root already exists or not.&lt;/p&gt;</comment>
                            <comment id="12775372" author="kristwaa" created="Tue, 10 Nov 2009 10:45:05 +0000"  >&lt;p&gt;Regression tests ran cleanly on trunk with patch 1a.&lt;br/&gt;
Committed patch 1a to trunk with revision 834418.&lt;/p&gt;

&lt;p&gt;Will check if it is suited for back-port and rerun tests on the 10.5 branch if that is the case.&lt;/p&gt;</comment>
                            <comment id="12776907" author="kristwaa" created="Thu, 12 Nov 2009 08:32:39 +0000"  >&lt;p&gt;Back-ported patch 1a to the 10.5 branch with revision 835290.&lt;br/&gt;
Attached first revision of a release note, as the change may break existing applications using the in-memory back end. The incompatibility will normally not be triggered, which is why I chose to back-port the fix.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12439397">DERBY-4428</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12423909" name="derby-4432-1a-mem_leak_fix.diff" size="7525" author="kristwaa" created="Tue, 3 Nov 2009 10:11:18 +0000"/>
                            <attachment id="12423910" name="derby-4432-1a-mem_leak_fix.stat" size="172" author="kristwaa" created="Tue, 3 Nov 2009 10:11:18 +0000"/>
                            <attachment id="12424709" name="releaseNote.html" size="4428" author="kristwaa" created="Thu, 12 Nov 2009 08:32:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>24250</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10101"><![CDATA[Release Note Needed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0rbr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38245</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>