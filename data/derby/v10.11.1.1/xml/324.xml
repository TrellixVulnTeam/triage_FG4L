<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:48:31 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-324/DERBY-324.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-324] AES encryption test fails on Solaris 10</title>
                <link>https://issues.apache.org/jira/browse/DERBY-324</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;The store/aes.sql test on Solaris 10 produces the following diff report:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;Start: aes jdk1.4.2_02 2005-05-30 12:13:17 ***&lt;br/&gt;
206 del&lt;br/&gt;
&amp;lt; ERROR XJ001: Java exception: &apos;Wrong keysize: must be equal to 128, 192 or 256: java.security.InvalidParameterException&apos;.&lt;br/&gt;
206a206&lt;br/&gt;
&amp;gt; ERROR XJ001: Java exception: &apos;AES key length must be 128, 192, or 256 bits: java.security.InvalidParameterException&apos;.&lt;br/&gt;
Test Failed.&lt;/li&gt;
			&lt;li&gt;End:   aes jdk1.4.2_02 2005-05-30 12:14:06 ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The cause of this problem is that on most OSs, the java.security.InvalidParameterException thrown by the JVM when an invalid encryption key length is requested contains a message with the following text:&lt;/p&gt;

&lt;p&gt;  Wrong keysize: must be equal to 128, 192 or 256&lt;/p&gt;

&lt;p&gt;while on Solaris 10 the message contained in the exception has been changed to:&lt;/p&gt;

&lt;p&gt;  AES key length must be 128, 192, or 256 bits&lt;/p&gt;

&lt;p&gt;The reason for this is most likely that a different encryption library is included in Solaris 10 compared&lt;br/&gt;
to the other OSs, either as part of the JVM or as a native library.&lt;/p&gt;

&lt;p&gt;The problem occurs on Solaris 10 running on both x86 and Sparc processors. It occurs both with jdk 1.4 and jdk 1.5.&lt;/p&gt;</description>
                <environment>Solaris 10 (both Sparc and x86) jdk 1.4 and 1.5.</environment>
        <key id="32972">DERBY-324</key>
            <summary>AES encryption test fails on Solaris 10</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="olav">Olav Sandstaa</assignee>
                                    <reporter username="olav">Olav Sandstaa</reporter>
                        <labels>
                    </labels>
                <created>Mon, 30 May 2005 23:55:10 +0100</created>
                <updated>Sat, 13 May 2006 22:35:23 +0100</updated>
                            <resolved>Sat, 13 May 2006 22:35:23 +0100</resolved>
                                    <version>10.1.1.0</version>
                                    <fixVersion>10.1.3.1</fixVersion>
                    <fixVersion>10.2.1.6</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="66807" author="myrna" created="Thu, 2 Jun 2005 09:15:39 +0100"  >&lt;p&gt;From this description I cannot find out if this is really ok behavior or not.&lt;/p&gt;

&lt;p&gt;If someone from Sun can pull some strings &amp;amp; find out it would help.&lt;/p&gt;

&lt;p&gt;If the behavior is OK, then we are seeing a false diff, and it could be worked around by modifying the store/aes_sed.properties file.&lt;br/&gt;
Something like: &lt;br/&gt;
currently:&lt;br/&gt;
substitute=ERROR XJ001: Java exception: &apos;Keysize must;ERROR XJ001: Java exception: &apos;Wrong keysize: must&lt;/p&gt;

&lt;p&gt;change it to:&lt;br/&gt;
substitute=ERROR XJ001: Java exception: &apos;Keysize must;ERROR XJ001: Java exception: &apos;Wrong keysize: must,ERROR XJ001: Java exception: &apos;AES key length must be 128, 192, or 256 bits: java.security.InvalidParameterException,ERROR XJ001: Java exception: &apos;Wrong keysize: must be equal to 128, 192 or 256: java.security.InvalidParameterException&lt;/p&gt;</comment>
                            <comment id="66808" author="skambha" created="Thu, 2 Jun 2005 09:30:40 +0100"  >&lt;p&gt;The behavior is OK. I think its only error message diff needs to be sed out.&lt;/p&gt;

&lt;p&gt;It would be great if someone who has access to the solaris machine/env where the diff occurred can test out by modifying the aes_sed.properties as Myrna suggested.   &lt;/p&gt;
</comment>
                            <comment id="66855" author="olav" created="Thu, 2 Jun 2005 22:38:52 +0100"  >&lt;p&gt;I too think this behavior is OK. The message text returned with the exception basically gives the&lt;br/&gt;
same explaination for why the operation failed. There is no reason for why we can expect message&lt;br/&gt;
strings like this be the same between platforms.&lt;/p&gt;

&lt;p&gt;I will test out the sed filter proposed by Myrna on a few Solaris 10 machines.&lt;/p&gt;</comment>
                            <comment id="12313394" author="olav" created="Mon, 13 Jun 2005 05:05:25 +0100"  >&lt;p&gt;I have tried to modify the aes_sed.properties file as suggested by Myrna. I had to trim down the size of the pattern/substitute parts to get rid of all the commas in the message strings. Unfortunately, I still have a problem with one comma. The original error message seen on most platforms contains the following sub-string:&lt;/p&gt;

&lt;p&gt;   128, 192 or 256&lt;/p&gt;

&lt;p&gt;while the new message string seen on Solaris 10 contains an extra comma:&lt;/p&gt;

&lt;p&gt;   128, 192, or 256&lt;/p&gt;

&lt;p&gt;Since neither the pattern nor the substitute part of the sed script are allowed to contain a comma, I am unable to get rid of the comma after 192. Any suggestions on how I can use the aes_sed.properties script to get rid of this or alternative ways to make the output from this test match the master file?&lt;/p&gt;</comment>
                            <comment id="12313813" author="olav" created="Thu, 16 Jun 2005 20:22:57 +0100"  >&lt;p&gt;This patch fixes a problem in the AES test when running it on Solaris 10.  The problem occurred due to a exception message text has been changed on Solaris 10. The problem is fixed by extending the substitute section of the aes_sed.properties file.&lt;/p&gt;

&lt;p&gt;derbyall has been run on Solaris10 (sparc and x86) to verify that the problem is gone and on Solaris9 (sparc and x86) and Linux to verify that the change&lt;br/&gt;
does not influence on JVM producing the original error message text.  Although some tests failed none of these seems related to this fix.&lt;/p&gt;</comment>
                            <comment id="12318897" author="bernt" created="Wed, 17 Aug 2005 00:17:16 +0100"  >&lt;p&gt;comitted&lt;/p&gt;</comment>
                            <comment id="12319335" author="olav" created="Fri, 19 Aug 2005 18:06:29 +0100"  >&lt;p&gt;The AES encryption test runs without errors on Solaris 10.&lt;/p&gt;</comment>
                            <comment id="12379052" author="bernt" created="Thu, 11 May 2006 17:15:23 +0100"  >&lt;p&gt;Merge to 10.1.3&lt;/p&gt;</comment>
                            <comment id="12383390" author="bernt" created="Sat, 13 May 2006 22:35:23 +0100"  >&lt;p&gt;Committed revision 406114 on 10.1 branch&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12310791" name="aes_sol10.diff" size="1088" author="" created="Thu, 16 Jun 2005 20:21:20 +0100"/>
                            <attachment id="12310792" name="aes_sol10.stat" size="89" author="" created="Thu, 16 Jun 2005 20:21:20 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 2 Jun 2005 08:15:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>21898</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy16gf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40696</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>