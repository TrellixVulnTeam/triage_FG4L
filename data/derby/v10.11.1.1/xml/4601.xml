<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:23:53 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-4601/DERBY-4601.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-4601] Shutting down just a single database should log a different message than shutting down the system</title>
                <link>https://issues.apache.org/jira/browse/DERBY-4601</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;When shutting down just a single database and not the Derby system, the log should print a message that just that database was shutdown as I believe Derby is still loaded.&lt;/p&gt;

&lt;p&gt;e.g.&lt;/p&gt;

&lt;p&gt;ij version 10.6&lt;br/&gt;
ij&amp;gt; run &apos;testMessages.sql&apos;;&lt;br/&gt;
ij&amp;gt; connect &apos;jdbc:derby:wombat&apos;;&lt;br/&gt;
ij&amp;gt; connect &apos;jdbc:derby:wombat2&apos;;&lt;br/&gt;
ij(CONNECTION1)&amp;gt; connect &apos;jdbc:derby:wombat2;shutdown=true&apos;;&lt;br/&gt;
ERROR 08006: Database &apos;wombat2&apos; shutdown.&lt;br/&gt;
ij(CONNECTION1)&amp;gt; connect &apos;jdbc:derby:;shutdown=true&apos;;&lt;br/&gt;
ERROR XJ015: Derby system shutdown.&lt;/p&gt;

&lt;p&gt;yields the following log:&lt;br/&gt;
2010-03-26 15:27:16.375 GMT:&lt;br/&gt;
 Booting Derby version The Apache Software Foundation - Apache Derby - 10.6.0.0 alpha - (927879M): instance a816c00e-0127-9b15-988d-0000002083e0 &lt;br/&gt;
on database directory C:\kmarsden\repro\&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4588&quot; title=&quot;Provide a diagnostic property that will print a stack trace on successful boot to help diagnose dual boot issues after the DERBY-700 fix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4588&quot;&gt;&lt;del&gt;DERBY-4588&lt;/del&gt;&lt;/a&gt;\wombat   with class loader sun.misc.Launcher$AppClassLoader@42c042c0&lt;/p&gt;


&lt;p&gt;Database Class Loader started - derby.database.classpath=&apos;&apos;&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;2010-03-26 15:27:16.921 GMT:&lt;br/&gt;
 Booting Derby version The Apache Software Foundation - Apache Derby - 10.6.0.0 alpha - (927879M): instance 601a400f-0127-9b15-988d-0000002083e0 &lt;br/&gt;
on database directory C:\kmarsden\repro\&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4588&quot; title=&quot;Provide a diagnostic property that will print a stack trace on successful boot to help diagnose dual boot issues after the DERBY-700 fix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4588&quot;&gt;&lt;del&gt;DERBY-4588&lt;/del&gt;&lt;/a&gt;\wombat2   with class loader sun.misc.Launcher$AppClassLoader@42c042c0&lt;/p&gt;


&lt;p&gt;Database Class Loader started - derby.database.classpath=&apos;&apos;&lt;/p&gt;


&lt;p&gt;2010-03-26 15:27:17.171 GMT:&lt;br/&gt;
Shutting down instance 601a400f-0127-9b15-988d-0000002083e0 with class loader sun.misc.Launcher$AppClassLoader@42c042c0 &lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;/p&gt;


&lt;p&gt;2010-03-26 15:27:17.218 GMT:&lt;br/&gt;
Shutting down instance a816c00e-0127-9b15-988d-0000002083e0 with class loader sun.misc.Launcher$AppClassLoader@42c042c0 &lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;The first shutdown should say that just the database wombat2 was shutdown, not the entire system.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12460365">DERBY-4601</key>
            <summary>Shutting down just a single database should log a different message than shutting down the system</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mamtas">Mamta A. Satoor</assignee>
                                    <reporter username="kmarsden">Kathey Marsden</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 Mar 2010 15:33:02 +0000</created>
                <updated>Mon, 17 Jun 2013 10:19:52 +0100</updated>
                            <resolved>Thu, 17 Feb 2011 04:00:10 +0000</resolved>
                                    <version>10.5.3.0</version>
                                    <fixVersion>10.5.3.2</fixVersion>
                    <fixVersion>10.6.2.4</fixVersion>
                    <fixVersion>10.7.1.1</fixVersion>
                                    <component>Services</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12855677" author="nirmal" created="Sun, 11 Apr 2010 06:59:27 +0100"  >&lt;p&gt;Hi Kathey,&lt;/p&gt;

&lt;p&gt;ij&amp;gt; connect &apos;jdbc:derby:wombat&apos;; &lt;br/&gt;
ij&amp;gt; connect &apos;jdbc:derby:wombat2&apos;; &lt;br/&gt;
ij(CONNECTION1)&amp;gt; connect &apos;jdbc:derby:wombat2;shutdown=true&apos;; &lt;br/&gt;
ERROR 08006: Database &apos;wombat2&apos; shutdown.                   &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;
			&lt;ul&gt;
				&lt;li&gt;
				&lt;ul&gt;
					&lt;li&gt;
					&lt;ul&gt;
						&lt;li&gt;
						&lt;ul&gt;
							&lt;li&gt;
							&lt;ul&gt;
								&lt;li&gt;
								&lt;ul&gt;
									&lt;li&gt;
									&lt;ul&gt;
										&lt;li&gt;
										&lt;ul&gt;
											&lt;li&gt;
											&lt;ul&gt;
												&lt;li&gt;
												&lt;ul&gt;
													&lt;li&gt;
													&lt;ul&gt;
														&lt;li&gt;
														&lt;ul&gt;
															&lt;li&gt;
															&lt;ul&gt;
																&lt;li&gt;
																&lt;ul&gt;
																	&lt;li&gt;
																	&lt;ul&gt;
																		&lt;li&gt;
																		&lt;ul&gt;
																			&lt;li&gt;
																			&lt;ul&gt;
																				&lt;li&gt;
																				&lt;ul&gt;
																					&lt;li&gt;
																					&lt;ul&gt;
																						&lt;li&gt;
																						&lt;ul&gt;
																							&lt;li&gt;
																							&lt;ul&gt;
																								&lt;li&gt;
																								&lt;ul&gt;
																									&lt;li&gt;
																									&lt;ul&gt;
																										&lt;li&gt;
																										&lt;ul&gt;
																											&lt;li&gt;
																											&lt;ul&gt;
																												&lt;li&gt;
																												&lt;ul&gt;
																													&lt;li&gt;
																													&lt;ul&gt;
																														&lt;li&gt;
																														&lt;ul&gt;
																															&lt;li&gt;
																															&lt;ul&gt;
																																&lt;li&gt;
																																&lt;ul&gt;
																																	&lt;li&gt;
																																	&lt;ul&gt;
																																		&lt;li&gt;
																																		&lt;ul&gt;
																																			&lt;li&gt;
																																			&lt;ul&gt;
																																				&lt;li&gt;
																																				&lt;ul&gt;
																																					&lt;li&gt;
																																					&lt;ul&gt;
																																						&lt;li&gt;
																																						&lt;ul&gt;
																																							&lt;li&gt;
																																							&lt;ul&gt;
																																								&lt;li&gt;
																																								&lt;ul&gt;
																																									&lt;li&gt;
																																									&lt;ul&gt;
																																										&lt;li&gt;
																																										&lt;ul&gt;
																																											&lt;li&gt;
																																											&lt;ul&gt;
																																												&lt;li&gt;
																																												&lt;ul&gt;
																																													&lt;li&gt;
																																													&lt;ul&gt;
																																														&lt;li&gt;
																																														&lt;ul&gt;
																																															&lt;li&gt;
																																															&lt;ul&gt;
																																																&lt;li&gt;
																																																&lt;ul&gt;
																																																	&lt;li&gt;
																																																	&lt;ul&gt;
																																																		&lt;li&gt;
																																																		&lt;ul&gt;
																																																			&lt;li&gt;
																																																			&lt;ul&gt;
																																																				&lt;li&gt;
																																																				&lt;ul&gt;
																																																					&lt;li&gt;
																																																					&lt;ul&gt;
																																																						&lt;li&gt;
																																																						&lt;ul&gt;
																																																							&lt;li&gt;
																																																							&lt;ul&gt;
																																																								&lt;li&gt;
																																																								&lt;ul&gt;
																																																									&lt;li&gt;
																																																									&lt;ul&gt;
																																																										&lt;li&gt;
																																																										&lt;ul&gt;
																																																											&lt;li&gt;
																																																											&lt;ul&gt;
																																																												&lt;li&gt;
																																																												&lt;ul&gt;
																																																													&lt;li&gt;
																																																													&lt;ul&gt;
																																																														&lt;li&gt;
																																																														&lt;ul&gt;
																																																															&lt;li&gt;
																																																															&lt;ul&gt;
																																																																&lt;li&gt;
																																																																&lt;ul&gt;
																																																																	&lt;li&gt;
																																																																	&lt;ul&gt;
																																																																		&lt;li&gt;
																																																																		&lt;ul&gt;
																																																																			&lt;li&gt;
																																																																			&lt;ul&gt;
																																																																				&lt;li&gt;
																																																																				&lt;ul&gt;
																																																																					&lt;li&gt;
																																																																					&lt;ul&gt;
																																																																						&lt;li&gt;
																																																																						&lt;ul&gt;
																																																																							&lt;li&gt;&lt;p&gt;************This is correct, isn&apos;t it? &lt;/p&gt;&lt;/li&gt;
																																																																						&lt;/ul&gt;
																																																																						&lt;/li&gt;
																																																																					&lt;/ul&gt;
																																																																					&lt;/li&gt;
																																																																				&lt;/ul&gt;
																																																																				&lt;/li&gt;
																																																																			&lt;/ul&gt;
																																																																			&lt;/li&gt;
																																																																		&lt;/ul&gt;
																																																																		&lt;/li&gt;
																																																																	&lt;/ul&gt;
																																																																	&lt;/li&gt;
																																																																&lt;/ul&gt;
																																																																&lt;/li&gt;
																																																															&lt;/ul&gt;
																																																															&lt;/li&gt;
																																																														&lt;/ul&gt;
																																																														&lt;/li&gt;
																																																													&lt;/ul&gt;
																																																													&lt;/li&gt;
																																																												&lt;/ul&gt;
																																																												&lt;/li&gt;
																																																											&lt;/ul&gt;
																																																											&lt;/li&gt;
																																																										&lt;/ul&gt;
																																																										&lt;/li&gt;
																																																									&lt;/ul&gt;
																																																									&lt;/li&gt;
																																																								&lt;/ul&gt;
																																																								&lt;/li&gt;
																																																							&lt;/ul&gt;
																																																							&lt;/li&gt;
																																																						&lt;/ul&gt;
																																																						&lt;/li&gt;
																																																					&lt;/ul&gt;
																																																					&lt;/li&gt;
																																																				&lt;/ul&gt;
																																																				&lt;/li&gt;
																																																			&lt;/ul&gt;
																																																			&lt;/li&gt;
																																																		&lt;/ul&gt;
																																																		&lt;/li&gt;
																																																	&lt;/ul&gt;
																																																	&lt;/li&gt;
																																																&lt;/ul&gt;
																																																&lt;/li&gt;
																																															&lt;/ul&gt;
																																															&lt;/li&gt;
																																														&lt;/ul&gt;
																																														&lt;/li&gt;
																																													&lt;/ul&gt;
																																													&lt;/li&gt;
																																												&lt;/ul&gt;
																																												&lt;/li&gt;
																																											&lt;/ul&gt;
																																											&lt;/li&gt;
																																										&lt;/ul&gt;
																																										&lt;/li&gt;
																																									&lt;/ul&gt;
																																									&lt;/li&gt;
																																								&lt;/ul&gt;
																																								&lt;/li&gt;
																																							&lt;/ul&gt;
																																							&lt;/li&gt;
																																						&lt;/ul&gt;
																																						&lt;/li&gt;
																																					&lt;/ul&gt;
																																					&lt;/li&gt;
																																				&lt;/ul&gt;
																																				&lt;/li&gt;
																																			&lt;/ul&gt;
																																			&lt;/li&gt;
																																		&lt;/ul&gt;
																																		&lt;/li&gt;
																																	&lt;/ul&gt;
																																	&lt;/li&gt;
																																&lt;/ul&gt;
																																&lt;/li&gt;
																															&lt;/ul&gt;
																															&lt;/li&gt;
																														&lt;/ul&gt;
																														&lt;/li&gt;
																													&lt;/ul&gt;
																													&lt;/li&gt;
																												&lt;/ul&gt;
																												&lt;/li&gt;
																											&lt;/ul&gt;
																											&lt;/li&gt;
																										&lt;/ul&gt;
																										&lt;/li&gt;
																									&lt;/ul&gt;
																									&lt;/li&gt;
																								&lt;/ul&gt;
																								&lt;/li&gt;
																							&lt;/ul&gt;
																							&lt;/li&gt;
																						&lt;/ul&gt;
																						&lt;/li&gt;
																					&lt;/ul&gt;
																					&lt;/li&gt;
																				&lt;/ul&gt;
																				&lt;/li&gt;
																			&lt;/ul&gt;
																			&lt;/li&gt;
																		&lt;/ul&gt;
																		&lt;/li&gt;
																	&lt;/ul&gt;
																	&lt;/li&gt;
																&lt;/ul&gt;
																&lt;/li&gt;
															&lt;/ul&gt;
															&lt;/li&gt;
														&lt;/ul&gt;
														&lt;/li&gt;
													&lt;/ul&gt;
													&lt;/li&gt;
												&lt;/ul&gt;
												&lt;/li&gt;
											&lt;/ul&gt;
											&lt;/li&gt;
										&lt;/ul&gt;
										&lt;/li&gt;
									&lt;/ul&gt;
									&lt;/li&gt;
								&lt;/ul&gt;
								&lt;/li&gt;
							&lt;/ul&gt;
							&lt;/li&gt;
						&lt;/ul&gt;
						&lt;/li&gt;
					&lt;/ul&gt;
					&lt;/li&gt;
				&lt;/ul&gt;
				&lt;/li&gt;
			&lt;/ul&gt;
			&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;***********************************************************************&lt;br/&gt;
ij(CONNECTION1)&amp;gt; connect &apos;jdbc:derby:;shutdown=true&apos;; &lt;br/&gt;
ERROR XJ015: Derby system shutdown. &lt;br/&gt;
***********************************************************************&lt;br/&gt;
************I think this also correct, since you have queried to shutdown &apos;jdbc:derby&apos; which is the Derby system, and if you queried,&lt;br/&gt;
                                 connect &apos;jdbc:derby:wombat;shutdown=true&apos;; this will result in following,&lt;br/&gt;
                                                 ERROR 08006: Database &apos;wombat&apos; shutdown.&lt;/p&gt;

&lt;p&gt;Thanks!!&lt;/p&gt;
</comment>
                            <comment id="12855686" author="asthiwanka" created="Sun, 11 Apr 2010 08:31:00 +0100"  >&lt;p&gt;Hi all,&lt;br/&gt;
             As I understood, Kathey focussed on the derby.log file.The ij tool is ok with the output it displays.But the thing is that the derby.log shows the same output for derby database shutdown and the system shutdown.It gives the results as follows:&lt;/p&gt;

&lt;p&gt;ij command to shutdown derby database : CONNECT &apos;jdbc:derby:firstdb;shutdown=true&apos;;&lt;br/&gt;
derby.log :&lt;br/&gt;
2010-04-11 04:44:27.682 GMT:&lt;br/&gt;
Shutting down instance a816c00e-0127-eb2d-9710-0000032be180 with class&lt;br/&gt;
loader sun.misc.Launcher$AppClassLoader@2c2bbd86&lt;/p&gt;

&lt;p&gt;ij command to shutdown system : CONNECT &apos;jdbc:derby:;shutdown=true&apos;;&lt;br/&gt;
derby.log :&lt;br/&gt;
2010-04-11 04:44:37.944 GMT:&lt;br/&gt;
Shutting down instance 601a400f-0127-eb2d-9710-0000032be180 with class&lt;br/&gt;
loader sun.misc.Launcher$AppClassLoader@2c2bbd86&lt;/p&gt;

&lt;p&gt;As this says both db and sys shutdowns gives the same output.The thing I need to know is, &quot;whether the Derby system is down even after the above second ij command is issued?&quot;&lt;br/&gt;
I need to clarify which derby.log output is correct in this case.Better if someone can explain this.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="12855697" author="nirmal" created="Sun, 11 Apr 2010 10:30:25 +0100"  >&lt;p&gt;Hi All,&lt;/p&gt;

&lt;p&gt;@Thiwanka: Yeah, I got it wrong !! Thanks for pointing it out !!&lt;/p&gt;

&lt;p&gt;Sorry about that. I issued some queries in order to check what has happened after issuing the above two shutting down commands.&lt;/p&gt;

&lt;p&gt;ij&amp;gt; connect &apos;jdbc:derby:myDB&apos;;&lt;br/&gt;
ij&amp;gt; connect &apos;jdbc:derby:myDB1&apos;;&lt;br/&gt;
ij(CONNECTION1)&amp;gt; connect &apos;jdbc:derby:myDB&apos;;     ************to check whether I can switch connections --&amp;gt; yes&lt;br/&gt;
ij(CONNECTION2)&amp;gt; connect &apos;jdbc:derby:;databaseName=myDB1;shutdown=true&apos;;  &lt;br/&gt;
ERROR 08006: Database &apos;myDB1&apos; shutdown.        ************this is fine&lt;br/&gt;
ij(CONNECTION2)&amp;gt; connect &apos;jdbc:derby:myDB&apos;;     ************I connected back to myDB&lt;br/&gt;
ij(CONNECTION3)&amp;gt; select * from t;                           ************it was ok --&amp;gt; Derby System has not shutdown ?? (Is this right?)&lt;br/&gt;
A          |B&lt;br/&gt;
-----------------------&lt;br/&gt;
1          |NULL&lt;br/&gt;
1          |NULL&lt;br/&gt;
NULL       |NULL&lt;br/&gt;
NULL       |NULL&lt;br/&gt;
NULL       |1&lt;/p&gt;

&lt;p&gt;5 rows selected&lt;/p&gt;


&lt;p&gt;***********************************************************************&lt;br/&gt;
ij(CONNECTION3)&amp;gt;&lt;br/&gt;
connect &apos;jdbc:derby:myDB&apos;;&lt;br/&gt;
ij(CONNECTION4)&amp;gt; connect &apos;jdbc:derby:myDB1&apos;;&lt;br/&gt;
ij(CONNECTION5)&amp;gt; connect &apos;jdbc:derby:;shutdown=true&apos;;  ***********I issued the command to shutdown the entire system&lt;br/&gt;
ERROR XJ015: Derby system shutdown.                               ***********fine !!&lt;br/&gt;
ij(CONNECTION5)&amp;gt; connect &apos;jdbc:derby:myDB&apos;;                   ***********I tried to establish a connection after shut downing the entire system --&amp;gt; This should fail right?? &lt;br/&gt;
ij(CONNECTION6)&amp;gt; select * from t;                                         ***********But it was successful !!&lt;/p&gt;

&lt;p&gt;A          |B&lt;br/&gt;
-----------------------&lt;br/&gt;
1          |NULL&lt;br/&gt;
1          |NULL&lt;br/&gt;
NULL       |NULL&lt;br/&gt;
NULL       |NULL&lt;br/&gt;
NULL       |1&lt;/p&gt;

&lt;p&gt;5 rows selected&lt;/p&gt;

&lt;p&gt;If my above assumptions are correct, this imply that the &quot;system shutdown&quot; was not actually done.&lt;/p&gt;

&lt;p&gt;Thanks !!&lt;/p&gt;</comment>
                            <comment id="12855830" author="asthiwanka" created="Mon, 12 Apr 2010 04:53:07 +0100"  >&lt;p&gt;Hi all,&lt;br/&gt;
            I think this is not a case of Derby system shutdown. It simply logs non-descriptive messages to separately identify the database shutdown and system shutdown in derby.log.&lt;/p&gt;

&lt;p&gt;CONNECT &apos;jdbc:derby:firstdb;create=true&apos;;&lt;/p&gt;

&lt;p&gt;This command creates a database if not existing one with name firstdb, with which the JDBC protocol specification for the Derby driver &quot;jdbc:derby&quot;.&lt;br/&gt;
So even if the Derby system is down it starts the Derby engine and create the database.&lt;/p&gt;

&lt;p&gt;So even we issue the command CONNECT &apos;jdbc:derby:firstdb;shutdown=true&apos;; and then issue the CONNECT &apos;jdbc:derby:firstdb;create=true&apos;;&lt;br/&gt;
the system shutdown first and then get started.So, as I understood there is not a problem with the Derby system shutdown.It is just a case of logging in the derby.log file.&lt;/p&gt;

&lt;p&gt;If there is any misunderstanding, please correct it...!&lt;/p&gt;

&lt;p&gt;Thank you all.&lt;/p&gt;</comment>
                            <comment id="12856537" author="eranda" created="Tue, 13 Apr 2010 19:22:16 +0100"  >&lt;p&gt;Hi Thiwanka,Nirmal, &lt;br/&gt;
Looking at the code at stop() method in BaseDataFileFactory will help you I think.&lt;/p&gt;

</comment>
                            <comment id="12857233" author="eranda" created="Thu, 15 Apr 2010 09:31:03 +0100"  >&lt;p&gt;Hi Kathey,&lt;br/&gt;
Here I found out something.&lt;br/&gt;
The log message is all about shutting down single database not the full system. When we shutdown full system it logs which database shuts. It don&apos;t print as as a system shut.&lt;/p&gt;

&lt;p&gt;Here I connect some database instances&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
2010-04-15 07:55:56.686 GMT:&lt;br/&gt;
 Booting Derby version The Apache Software Foundation - Apache Derby - 10.6.0.0 alpha - (1): instance a816c00e-0128-0077-9584-0000009e19d8 &lt;br/&gt;
on database directory E:\GSoC-2010\Derby-2785\trunk\wombat   with class loader sun.misc.Launcher$AppClassLoader@11b86e7&lt;/p&gt;

&lt;p&gt;Database Class Loader started - derby.database.classpath=&apos;&apos;&lt;br/&gt;
----------------------------------------------------------------&lt;br/&gt;
2010-04-15 07:56:00.828 GMT:&lt;br/&gt;
 Booting Derby version The Apache Software Foundation - Apache Derby - 10.6.0.0 alpha - (1): instance 601a400f-0128-0077-9584-0000009e19d8 &lt;br/&gt;
on database directory E:\GSoC-2010\Derby-2785\trunk\wombat2   with class loader sun.misc.Launcher$AppClassLoader@11b86e7&lt;/p&gt;

&lt;p&gt;Database Class Loader started - derby.database.classpath=&apos;&apos;&lt;br/&gt;
----------------------------------------------------------------&lt;br/&gt;
2010-04-15 07:56:03.966 GMT Thread&lt;span class=&quot;error&quot;&gt;&amp;#91;main,5,main&amp;#93;&lt;/span&gt; Cleanup action starting&lt;br/&gt;
2010-04-15 07:56:15.917 GMT:&lt;br/&gt;
 Booting Derby version The Apache Software Foundation - Apache Derby - 10.6.0.0 alpha - (1): instance f81e0010-0128-0077-9584-0000009e19d8 &lt;br/&gt;
on database directory E:\GSoC-2010\Derby-2785\trunk\wombat3   with class loader sun.misc.Launcher$AppClassLoader@11b86e7&lt;/p&gt;

&lt;p&gt;Database Class Loader started - derby.database.classpath=&apos;&apos;&lt;br/&gt;
----------------------------------------------------------------&lt;br/&gt;
2010-04-15 07:56:33.415 GMT:&lt;br/&gt;
 Booting Derby version The Apache Software Foundation - Apache Derby - 10.6.0.0 alpha - (1): instance d381409a-0128-0077-9584-0000009e19d8 &lt;br/&gt;
on database directory E:\GSoC-2010\Derby-2785\trunk\wombat4   with class loader sun.misc.Launcher$AppClassLoader@11b86e7&lt;/p&gt;

&lt;p&gt;Database Class Loader started - derby.database.classpath=&apos;&apos;&lt;/p&gt;


&lt;p&gt;And shut them at once with the path with the additional part of absolute path of the database directory. What I get in the log was   &lt;/p&gt;

&lt;p&gt;2010-04-15 07:57:09.015 GMT:&lt;br/&gt;
Shutting down instance E:\GSoC-2010\Derby-2785\trunk\wombat4 d381409a-0128-0077-9584-0000009e19d8 with class loader sun.misc.Launcher$AppClassLoader@11b86e7 &lt;br/&gt;
----------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;2010-04-15 07:57:09.104 GMT:&lt;br/&gt;
Shutting down instance E:\GSoC-2010\Derby-2785\trunk\wombat3 f81e0010-0128-0077-9584-0000009e19d8 with class loader sun.misc.Launcher$AppClassLoader@11b86e7 &lt;br/&gt;
----------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;2010-04-15 07:57:09.191 GMT:&lt;br/&gt;
Shutting down instance E:\GSoC-2010\Derby-2785\trunk\wombat2 601a400f-0128-0077-9584-0000009e19d8 with class loader sun.misc.Launcher$AppClassLoader@11b86e7 &lt;br/&gt;
----------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;2010-04-15 07:57:09.223 GMT:&lt;br/&gt;
Shutting down instance E:\GSoC-2010\Derby-2785\trunk\wombat a816c00e-0128-0077-9584-0000009e19d8 with class loader sun.misc.Launcher$AppClassLoader@11b86e7 &lt;br/&gt;
----------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;That means though we shut all the connection at once it shuts connections one by one and log separately.&lt;/p&gt;

&lt;p&gt;So I think the better way is to add the database name to the log. What you think?&lt;/p&gt;
</comment>
                            <comment id="12857252" author="eranda" created="Thu, 15 Apr 2010 10:55:37 +0100"  >&lt;p&gt;Hi,&lt;br/&gt;
I think this patch can be use if it need the modification of print database name on the log.&lt;br/&gt;
Thanks&lt;/p&gt;</comment>
                            <comment id="12890223" author="knutanders" created="Tue, 20 Jul 2010 10:40:00 +0100"  >&lt;p&gt;Mamta posted a patch for this issue on &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4610&quot; title=&quot;Error attempting delete with cascade and triggers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4610&quot;&gt;&lt;del&gt;DERBY-4610&lt;/del&gt;&lt;/a&gt;. I&apos;m adding my comments here:&lt;/p&gt;

&lt;p&gt;1) loc/messages.xml:&lt;/p&gt;

&lt;p&gt;+                &amp;lt;text&amp;gt;:Shutting down Derby Engine &amp;lt;/text&amp;gt;&lt;/p&gt;

&lt;p&gt;Is the colon before &quot;Shutting&quot; and the blank space after &quot;Engine&quot; intended? If so, would it be better to add those characters using literals in BaseMonitor.java (same way as we use a literal there to add an extra newline)? I think there&apos;s a good chance that translators will think the characters are not part of the message and will leave them out.&lt;/p&gt;

&lt;p&gt;2) BaseDataFileFactory.java:&lt;/p&gt;

&lt;p&gt;                 MessageService.getTextMessage(&lt;br/&gt;
                     MessageId.STORE_SHUTDOWN_MSG,&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;getIdentifier(),&lt;br/&gt;
+                    getIdentifier()+&quot; on database directory &quot;+getRootDirectory(),&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Hard-coding English text as an argument to an internationalized message like this will make the message look awkward when it&apos;s localized to another language. It would be better to change STORE_SHUTDOWN_MSG to take an extra argument (the root directory).&lt;/p&gt;</comment>
                            <comment id="12890317" author="mamtas" created="Tue, 20 Jul 2010 17:56:20 +0100"  >&lt;p&gt;Attaching a patch which will log the Engine shutdown message in derby.log. The existing message logging for each individual connection close which happen because of engine shutdown will still be logged but they will now print the name of the database being shutdown. &lt;/p&gt;

&lt;p&gt;The existing regression tests ran fine. If there is no objection to this patch, I will commit it by Wednesday morning. &lt;/p&gt;</comment>
                            <comment id="12890337" author="mamtas" created="Tue, 20 Jul 2010 18:29:23 +0100"  >&lt;p&gt;Thanks, Knut, for taking the time to review the patch. In loc/messages.xml, I have removed the blank space after the message. The colon is needed to separate the message from the timestamp header. I have changed BaseMonitor.java to take care of that colon rather than putting it directly in messages.xml. In BaseDataFileFactory.java, I have removed the english text and added it to the existing message in messages.xml.&lt;/p&gt;

&lt;p&gt;Please let me know if you have any further comments.&lt;/p&gt;</comment>
                            <comment id="12890616" author="knutanders" created="Wed, 21 Jul 2010 10:09:10 +0100"  >&lt;p&gt;Thanks Mamta. The latest patch looks good to me. +1&lt;/p&gt;</comment>
                            <comment id="12890745" author="chaase3" created="Wed, 21 Jul 2010 15:52:24 +0100"  >&lt;p&gt;If the changes to the output will affect the messages shown in the Getting Started guide and elsewhere &amp;#8211; for example, in &lt;a href=&quot;http://db.apache.org/derby/docs/dev/getstart/getstart-single.html#twwdactivity1&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://db.apache.org/derby/docs/dev/getstart/getstart-single.html#twwdactivity1&lt;/a&gt; and the sections after that &amp;#8211; please file a documentation issue after this issue is resolved, so we can get these fixed.&lt;/p&gt;</comment>
                            <comment id="12890866" author="mamtas" created="Wed, 21 Jul 2010 21:01:35 +0100"  >&lt;p&gt;Knut, I will go ahead and enter a jira for the doc changes. Committed the code changes for this jira with revision 966393&lt;/p&gt;</comment>
                            <comment id="12891738" author="mamtas" created="Fri, 23 Jul 2010 20:03:29 +0100"  >&lt;p&gt;By mistake, I was printing the timestamp twice in derby.log for engine shutdown. Fixed that with revision 967201.&lt;/p&gt;

&lt;p&gt;Also, created a jira for doc updates &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4755&quot; title=&quot;DERBY-4601 added a new message to derby.log during engine shutdown and it changed the database shutdown message. Need to update docs with that information&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4755&quot;&gt;&lt;del&gt;DERBY-4755&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12922859" author="mamtas" created="Wed, 20 Oct 2010 06:58:10 +0100"  >&lt;p&gt;Made couple more checkins to make the shutdown message more readable in derby.log I have attached a sample derby.log to see how the shutdown message will look like&lt;/p&gt;</comment>
                            <comment id="12989890" author="kmarsden" created="Wed, 2 Feb 2011 23:42:47 +0000"  >&lt;p&gt;Reopen for backport&lt;/p&gt;</comment>
                            <comment id="12995655" author="mamtas" created="Thu, 17 Feb 2011 04:00:10 +0000"  >&lt;p&gt;Kathey, I backported the issue to 10.6 and 10.5.&lt;/p&gt;</comment>
                            <comment id="13685382" author="knutanders" created="Mon, 17 Jun 2013 10:19:52 +0100"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;bulk update&amp;#93;&lt;/span&gt; Close all resolved issues that haven&apos;t been updated for more than one year.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12470036">DERBY-4755</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                                                <inwardlinks description="is required by">
                                        <issuelink>
            <issuekey id="12497378">DERBY-4994</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12441811" name="ASF.LICENSE.NOT.GRANTED--derby-4601.diff" size="825" author="eranda" created="Thu, 15 Apr 2010 10:55:37 +0100"/>
                            <attachment id="12449941" name="DERBY4601_patch1_diff.txt" size="3898" author="mamtas" created="Tue, 20 Jul 2010 17:56:20 +0100"/>
                            <attachment id="12449947" name="DERBY4601_patch2_diff.txt" size="4312" author="mamtas" created="Tue, 20 Jul 2010 18:29:23 +0100"/>
                            <attachment id="12449942" name="DERBY4601_stat1_diff.txt" size="292" author="mamtas" created="Tue, 20 Jul 2010 17:56:20 +0100"/>
                            <attachment id="12449948" name="DERBY4601_stat2_diff.txt" size="292" author="mamtas" created="Tue, 20 Jul 2010 18:29:23 +0100"/>
                            <attachment id="12457645" name="derby.log" size="4463" author="mamtas" created="Wed, 20 Oct 2010 06:58:10 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 11 Apr 2010 05:59:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>24359</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10423"><![CDATA[Newcomer]]></customfieldvalue>
    <customfieldvalue key="10424"><![CDATA[Repro attached]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0i0n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36737</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>