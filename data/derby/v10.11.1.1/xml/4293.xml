<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:16:19 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-4293/DERBY-4293.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-4293] Mutable public static variables</title>
                <link>https://issues.apache.org/jira/browse/DERBY-4293</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;There are quite a few instances of public static fields which appear to be intended to be constant, but which are not final.&lt;/p&gt;

&lt;p&gt;The code would be safer if all the constant fields were made final.&lt;/p&gt;

&lt;p&gt;Patch to follow for some of the problem fields.&lt;/p&gt;

&lt;p&gt;The following also ought to be fixed:&lt;/p&gt;

&lt;p&gt;org.apache.derby.iapi.services.property.PropertyUtil.servicePropertyList (e.g. use an accessor to lookup the values)&lt;br/&gt;
org.apache.derby.iapi.types.JSQLType.primitiveNames (ditto)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12429035">DERBY-4293</key>
            <summary>Mutable public static variables</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="knutanders">Knut Anders Hatlen</assignee>
                                    <reporter username="sebb@apache.org">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Sun, 28 Jun 2009 00:51:51 +0100</created>
                <updated>Fri, 21 Jan 2011 17:52:29 +0000</updated>
                            <resolved>Fri, 4 Dec 2009 00:44:28 +0000</resolved>
                                    <version>10.6.1.0</version>
                                    <fixVersion>10.6.1.0</fixVersion>
                                    <component>Build tools</component>
                    <component>Network Client</component>
                    <component>SQL</component>
                    <component>Store</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12725156" author="knutanders" created="Mon, 29 Jun 2009 13:56:36 +0100"  >&lt;p&gt;Thanks for the patch, Sebb! It looks fine to me. Committed revision 789313.&lt;/p&gt;</comment>
                            <comment id="12725266" author="sebb@apache.org" created="Mon, 29 Jun 2009 18:30:49 +0100"  >&lt;p&gt;More public static fields patched.&lt;br/&gt;
Note that it was necessary to make JSQLType.primitiveNames private and introduce a getter method to prevent write access to the array.&lt;/p&gt;

&lt;p&gt;Also, it was easier to make Configuration.dncProductVersionHolder__ private than to make it final as there was already a getter method.&lt;/p&gt;</comment>
                            <comment id="12725269" author="sebb@apache.org" created="Mon, 29 Jun 2009 18:34:11 +0100"  >&lt;p&gt;The Configuration class stilll has lots of mutable static public fields, and needs quite a lot more work to ensure that static fields cannot be arbitrarily changed at run-time.&lt;/p&gt;</comment>
                            <comment id="12725557" author="knutanders" created="Tue, 30 Jun 2009 11:14:27 +0100"  >&lt;p&gt;derbyfinal2.patch looks like a good improvement to me. I&apos;ll run the regression tests and hopefully commit it later today.&lt;/p&gt;

&lt;p&gt;Some of the fields touched in the Configuration class don&apos;t actually seem to be in use, except in the static block that initializes them. Those are jreLevel, jreLevelMajor, jreLevelMinor, dncPackageVersion and packageNameForDNC. Do you think it would be best just to get rid of them altogether?&lt;/p&gt;

&lt;p&gt;As to the other problematic fields in Configuration, I think many of them are unused an can be removed. dncPackageConsistencyToken, which is an array, should probably be moved to NetConfiguration, in which case it could be made package-private (then it cannot be accessed by external code since the package is sealed). dncCompatibleJREVersions is another public array, but since it&apos;s only used for debugging/tracing purposes, there&apos;s probably not much harm that could be done by maliciously changing it. (The current values in dncCompatibleJREVersions are not correct, though, since the client driver no longer works with 1.3, and it does work with 1.5 and 1.6. But that&apos;s a different issue, I guess.)&lt;/p&gt;</comment>
                            <comment id="12725579" author="knutanders" created="Tue, 30 Jun 2009 12:23:03 +0100"  >&lt;p&gt;derbyfinal2.patch was committed to trunk with revision 789684.&lt;/p&gt;</comment>
                            <comment id="12725580" author="sebb@apache.org" created="Tue, 30 Jun 2009 12:24:50 +0100"  >&lt;p&gt;Sorry, I&apos;ve no idea of whether the Configuration variables are needed or not.&lt;/p&gt;

&lt;p&gt;I just ran a PMD script that looks for mutable static variables and tried to make them final where possible. Defensive coding.&lt;/p&gt;</comment>
                            <comment id="12733225" author="kristwaa" created="Mon, 20 Jul 2009 15:09:16 +0100"  >&lt;p&gt;The state of this issue isn&apos;t quite clear to me, but I cleared the patch available flag as both patches have been committed.&lt;/p&gt;</comment>
                            <comment id="12785681" author="bryanpendleton" created="Fri, 4 Dec 2009 00:44:28 +0000"  >&lt;p&gt;Marked as resolved. I believe Knut committed both patches successfully.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12412002" name="derbyfinal.patch" size="3747" author="sebb@apache.org" created="Sun, 28 Jun 2009 00:52:51 +0100"/>
                            <attachment id="12412085" name="derbyfinal2.patch" size="11200" author="sebb@apache.org" created="Mon, 29 Jun 2009 18:30:49 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10361"><![CDATA[Security]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 29 Jun 2009 12:56:36 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31187</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0l1j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37227</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>