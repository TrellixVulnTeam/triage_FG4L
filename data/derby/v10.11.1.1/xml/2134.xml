<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:42:04 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-2134/DERBY-2134.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-2134] Add long running System test for Derby</title>
                <link>https://issues.apache.org/jira/browse/DERBY-2134</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;I will use this place to add 2 long running system tests for Derby.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12357411">DERBY-2134</key>
            <summary>Add long running System test for Derby</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mkutty">Manjula Kutty</assignee>
                                    <reporter username="mkutty">Manjula Kutty</reporter>
                        <labels>
                    </labels>
                <created>Thu, 30 Nov 2006 23:50:32 +0000</created>
                <updated>Mon, 5 Jul 2010 18:12:27 +0100</updated>
                            <resolved>Thu, 8 Feb 2007 20:39:40 +0000</resolved>
                                    <version>10.2.1.6</version>
                                    <fixVersion>10.2.2.1</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12456021" author="rhillegas" created="Wed, 6 Dec 2006 14:16:01 +0000"  >&lt;p&gt;Reassigning to 10.2.3.0.&lt;/p&gt;</comment>
                            <comment id="12462027" author="mkutty" created="Wed, 3 Jan 2007 19:00:19 +0000"  >&lt;p&gt;The Sttest.zip file has the source files and other datafiles to run the system test called Single Table test. It also includes a readme file which will give you an idea about the test and also how to run the test.&lt;/p&gt;

&lt;p&gt;The Scenario.zip file has the source files and other datafiles to run the Scenario test. This file also has the readme file which will help you to get an idea about the whole test and how to run the test.&lt;/p&gt;</comment>
                            <comment id="12462028" author="jta" created="Wed, 3 Jan 2007 19:03:23 +0000"  >&lt;p&gt;The software grant form that IBM faxed for this contribution has been recorded by the ASF secretary. I&apos;ll call a vote to accept the contribution.&lt;/p&gt;</comment>
                            <comment id="12462104" author="fuzzylogic" created="Thu, 4 Jan 2007 01:07:08 +0000"  >&lt;p&gt;A couple of minor notes:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the files in the top level of each zip file should be moved into the test level package, e.g. Resource.jar in sttest should be moved into org/apache/derbyTesting/system/sttest. The files at the top level in the Scenario zip should be moved similarly, and considering their size, they should probably also be put into a jar file to conserve space and bandwidth. Jarring them up reduced the total size from 20MB to 5MB.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the new packages will need buildfiles and then get hooked into the java/testing build file.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;These can be addressed after the files are committed.&lt;/p&gt;</comment>
                            <comment id="12462660" author="djd" created="Sat, 6 Jan 2007 00:55:36 +0000"  >&lt;p&gt;I think the &apos;scenario&apos; test could have a better name in its final resting place in the tree, it&apos;s a very general name.&lt;br/&gt;
Maybe some short name that could stand for &apos;email client test&apos;.&lt;/p&gt;

&lt;p&gt;Another possible improvement in the future would be to generate the text and images (BLOBs) dynamically rather than having 5-20Mb of test data checked into the code line.&lt;/p&gt;</comment>
                            <comment id="12462980" author="johnemb" created="Mon, 8 Jan 2007 09:20:48 +0000"  >&lt;p&gt;Sttest and Scenario look like useful additions to the collection of Derby tests. I agree with the proposal to change the name of Scenario. The main class is called &quot;MailJdbc&quot; - perhaps this can be used as a test name unless someone comes up with a better name? Or &quot;mailclient&quot; (works better as a package name than &quot;mailjdbc&quot;)...&lt;/p&gt;

&lt;p&gt;I&apos;m not sure what kind of comments are expected in this Jira issue - maybe implementation issues should wait until it has been committed? Anyway, I encountered a couple of issues when trying to run the tests in both embedded and client/server modes:&lt;/p&gt;


&lt;p&gt;Sttest:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Generated an awful lot of output. I ran the test for about 1 hr, and the output file was 4 MB (most of which was lines such as &quot;t1 inserted row with id 685055955&quot;). There should be a way to tune the amount of output...&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Scenario:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Tries to write backup DB to the &quot;/Scenario/mailbackup/&quot; directory. I think this would not work on most systems unless you run (unix) as root. Should be more generic and configurable.&lt;/li&gt;
	&lt;li&gt;The readme says &quot;Make the appropriate changes for derby client or jcc , if you are testing the netWorkServer&quot;. I&apos;m not sure what these changes should be, but here&apos;s a couple of issues I had using the client driver and the supplied derby.properties file:&lt;/li&gt;
	&lt;li&gt;The test was not able to create the schema due to authentication failures. When I added the user &quot;admin&quot; to the property file, this worked.&lt;/li&gt;
	&lt;li&gt;After doing the above, I got exceptions saying &quot;Schema &apos;REFRESH&apos; does not exist&quot;. I did not investigate further.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12463092" author="mkutty" created="Mon, 8 Jan 2007 18:29:16 +0000"  >&lt;p&gt;Thanks for all the comments received so far.&lt;/p&gt;

&lt;p&gt;Yes we can change the name from Scenario to MailclientApp or something similar. Also for the test to run in networkserver mode  , the test will run  fine if the user name fis Refresh. I will  fix this problem once the files are committed. I can change the existing backupdb  location to a location relative to the current directory. Again I can make this changes only after the files are committed.  Also I can refine the output generated for sttest. &lt;/p&gt;
</comment>
                            <comment id="12463095" author="jta" created="Mon, 8 Jan 2007 18:43:34 +0000"  >&lt;p&gt;Actually, changes can be made initially by whomever commits the contribution, after the process to accept the contribution has completed. I&apos;ll close the vote &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; to accept on Wednesday January 10, then will notify the Incubator. I doubt there will be any objections, so the code can be committed as early as Saturday, January 13 (according to &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;, we only have to wait 48 hours for a -1).&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/db-derby-dev/200701.mbox/%3c459C03C8.40600@apache.org%3e&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mail-archives.apache.org/mod_mbox/db-derby-dev/200701.mbox/%3c459C03C8.40600@apache.org%3e&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://incubator.apache.org/ip-clearance/ip-clearance-template.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://incubator.apache.org/ip-clearance/ip-clearance-template.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12464999" author="jta" created="Mon, 15 Jan 2007 22:03:16 +0000"  >&lt;p&gt;This code is cleared for import.&lt;br/&gt;
Incubator notice: &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/incubator-general/200701.mbox/%3c45A5BF4D.6010805@bristowhill.com%3e&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mail-archives.apache.org/mod_mbox/incubator-general/200701.mbox/%3c45A5BF4D.6010805@bristowhill.com%3e&lt;/a&gt;&lt;br/&gt;
Result:&lt;br/&gt;
&lt;a href=&quot;http://www.nabble.com/-RESULT--IP-CLEARANCE--IBM-contribution-to-Apache-Derby-p8380114.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.nabble.com/-RESULT--IP-CLEARANCE--IBM-contribution-to-Apache-Derby-p8380114.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12468829" author="myrna" created="Tue, 30 Jan 2007 23:53:03 +0000"  >&lt;p&gt;I committed the files with revision 501639. See &lt;a href=&quot;http://svn.apache.org/viewvc?view=rev&amp;amp;revision=501639&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc?view=rev&amp;amp;revision=501639&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I made the following changes from the original files attached to this issue:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;renamed the scenario package to mailjdbc; incl. renaming of references within the .java files&lt;/li&gt;
	&lt;li&gt;jar-ed up the .txt and .jpg files for scenario test into a Resource.jar, and placed this jar in a subdirectory data (i.e. java/testing/org/apache/derbyTesting/system/mailjdbc/data)&lt;/li&gt;
	&lt;li&gt;moved the sttest resource.jar into java/testing/org/apache/derbyTesting/system/sttest/data&lt;/li&gt;
	&lt;li&gt;modified Readme.txt of scenario.zip to README.txt to match the case of the one in sttest.zip&lt;/li&gt;
	&lt;li&gt;added License headers to the README.txt files&lt;/li&gt;
	&lt;li&gt;moved README.txt files down to java/testing/org/apache/derbyTesting/system/sttest and mailjdbc&lt;/li&gt;
	&lt;li&gt;changed NetworkServer url in mailjdbc/utils/DbTasks.java to have REFRESH/Refresh as user/password combination instead of admin,admin.&lt;/li&gt;
	&lt;li&gt;made a few tiny trivial editing changes in the README.txt files.&lt;/li&gt;
	&lt;li&gt;moved (scenario)/derby.properties to java/testing/org/apache/derbyTesting/system/mailjdbc&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I have not actually attempted to build and run the tests in their new spot.&lt;/p&gt;

&lt;p&gt;What is left to do:&lt;br/&gt;
0. Ensure all still works.&lt;br/&gt;
1. Add build.xml files.&lt;br/&gt;
2. improve the README.txt files so the tests can be run &apos;out of the box&apos;. They need to get adjusted for the location of the resource.jar, and derby.properties.&lt;br/&gt;
3. Generate the txt and blobs dynamically&lt;br/&gt;
4. Remove unwanted prints to sttest output&lt;br/&gt;
5. create backup directory relative to the current working dir&lt;/p&gt;</comment>
                            <comment id="12471477" author="mkutty" created="Thu, 8 Feb 2007 20:39:40 +0000"  >&lt;p&gt;The intention of this jira issue was to act as a place holder for the system test contribution.  I will open another jira issue to address the post commit tasks.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12362359">DERBY-2308</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12348216" name="Scenario.zip" size="5808430" author="mkutty" created="Wed, 3 Jan 2007 18:45:52 +0000"/>
                            <attachment id="12348217" name="Sttest.zip" size="1018820" author="mkutty" created="Wed, 3 Jan 2007 18:51:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 6 Dec 2006 14:16:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30289</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10102"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0pvr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38011</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>