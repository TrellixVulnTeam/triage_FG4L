<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:17:50 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-4684/DERBY-4684.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-4684] Correct the implicit casting of other types to BOOLEAN</title>
                <link>https://issues.apache.org/jira/browse/DERBY-4684</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Via a UNION query, it is possible to implicitly cast non-BOOLEAN types to BOOLEAN today. These implicit casts do not obey the SQL Standard rules defined in part 2, section 6.12 (&amp;lt;cast specification&amp;gt;). Derby should support the Standard rules.&lt;/p&gt;

&lt;p&gt;The following query shows how you can implicitly cast a non-BOOLEAN data type to BOOLEAN today:&lt;/p&gt;

&lt;p&gt;select isindex from sys.sysconglomerates where conglomeratename = &apos;foo&apos;&lt;br/&gt;
union&lt;br/&gt;
values ( 1 )&lt;/p&gt;</description>
                <environment></environment>
        <key id="12465874">DERBY-4684</key>
            <summary>Correct the implicit casting of other types to BOOLEAN</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rhillegas">Rick Hillegas</assignee>
                                    <reporter username="rhillegas">Rick Hillegas</reporter>
                        <labels>
                    </labels>
                <created>Tue, 1 Jun 2010 16:46:19 +0100</created>
                <updated>Fri, 23 May 2014 14:35:21 +0100</updated>
                            <resolved>Thu, 3 Jun 2010 17:11:08 +0100</resolved>
                                    <version>10.6.1.0</version>
                                    <fixVersion>10.7.1.1</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12874638" author="rhillegas" created="Wed, 2 Jun 2010 17:16:59 +0100"  >&lt;p&gt;Attaching derby-4684-01-ab-implicitCastsToBoolean.diff. This causes Derby to raise an exception if you try to implicitly cast to or from BOOLEAN in a way which violates the SQL Standard. Regression tests passed for me with this patch applied.&lt;/p&gt;

&lt;p&gt;This patch removes the ability to cast numerics to boolean. It also prevents String values from being cast to BOOLEAN unless they are the handful of legal values allowed by the Standard. I believe that most users won&apos;t even notice these changes, for the following reasons:&lt;/p&gt;

&lt;p&gt;1) Getting Derby to implicitly cast to BOOLEAN involves writing a very contrived query whose point is to trick Derby into returning an unsupported data type.&lt;/p&gt;

&lt;p&gt;2) No existing tests failed with this patch.&lt;/p&gt;


&lt;p&gt;Touches the following files:&lt;/p&gt;

&lt;p&gt;----------&lt;/p&gt;

&lt;p&gt;M      java/engine/org/apache/derby/impl/sql/compile/BooleanTypeCompiler.java&lt;/p&gt;

&lt;p&gt;Don&apos;t allow numerics to be stored in BOOLEANs.&lt;/p&gt;


&lt;p&gt;----------&lt;/p&gt;

&lt;p&gt;M      java/engine/org/apache/derby/iapi/types/SQLBoolean.java&lt;/p&gt;

&lt;p&gt;Raise an error if, at run time, you try to cast a bad String to BOOLEAN.&lt;/p&gt;


&lt;p&gt;----------&lt;/p&gt;

&lt;p&gt;M      java/testing/org/apache/derbyTesting/functionTests/tests/lang/BooleanValuesTest.java&lt;/p&gt;

&lt;p&gt;Regression test to verify the Standard behavior.&lt;/p&gt;</comment>
                            <comment id="12875175" author="rhillegas" created="Thu, 3 Jun 2010 17:10:56 +0100"  >&lt;p&gt;Committed derby-4684-01-ab-implicitCastsToBoolean.diff at subversion revision 951047.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12313174">DERBY-499</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12716315">DERBY-6584</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12466190">DERBY-4692</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12446151" name="derby-4684-01-ab-implicitCastsToBoolean.diff" size="9086" author="rhillegas" created="Wed, 2 Jun 2010 17:16:59 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10367"><![CDATA[Deviation from standard]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>24410</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0ouv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37845</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>