<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:16:46 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-220/DERBY-220.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-220] Javadoc build should include a timestamp and/or the svn revision number in a visible location.</title>
                <link>https://issues.apache.org/jira/browse/DERBY-220</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;In order to easily identify when a specific set of javadoc was built, and from what source, it would be useful to include a timestamp and/or the svn revision number at the time the javadoc is built. The footer is an excellent location to place this information, as it is visible on every generated page.&lt;/p&gt;</description>
                <environment></environment>
        <key id="31661">DERBY-220</key>
            <summary>Javadoc build should include a timestamp and/or the svn revision number in a visible location.</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dyret">Dyre Tjeldvoll</assignee>
                                    <reporter username="fuzzylogic">Andrew McIntyre</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Apr 2005 03:26:48 +0100</created>
                <updated>Thu, 2 Jun 2005 05:09:01 +0100</updated>
                            <resolved>Thu, 2 Jun 2005 05:09:01 +0100</resolved>
                                    <version>10.1.1.0</version>
                                    <fixVersion>10.1.1.0</fixVersion>
                                    <component>Build tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="65663" author="dyret" created="Thu, 19 May 2005 01:02:44 +0100"  >&lt;p&gt;I&apos;ve thought a bit about this, and I&apos;m wondering about exactly which revision and timestamp you want: &lt;/p&gt;

&lt;p&gt;a) Do you want the most recent revision for the repository, or the most recent revision in which something (in Derby) changed? The first one is already available as the changeversion property, and could easily be added to the javadoc footer. &lt;br/&gt;
(I guess that, ideally, one would want the revision in which something that affects the javadoc was changed. But I don&apos;t think that&apos;s feasible...) &lt;/p&gt;

&lt;p&gt;b) About the timestamp; do you mean the the time when the javadoc command was run, or the time when the revision in a) was committed to the repository?&lt;/p&gt;

&lt;p&gt;Consider the output from &quot;svn info&quot;, standing in trunk:&lt;/p&gt;

&lt;p&gt;dt136804@atum10~/local/d_rby-220$ svn info&lt;br/&gt;
Path: .&lt;br/&gt;
URL: &lt;a href=&quot;https://svn.apache.org/repos/asf/incubator/derby/code/trunk&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/repos/asf/incubator/derby/code/trunk&lt;/a&gt;&lt;br/&gt;
Repository UUID: 13f79535-47bb-0310-9956-ffa450edef68&lt;br/&gt;
Revision: 170751&lt;br/&gt;
--&amp;gt; This is the same as the &quot;changedversion&quot; property&lt;/p&gt;

&lt;p&gt;Node Kind: directory&lt;br/&gt;
Schedule: normal&lt;br/&gt;
Last Changed Author: bandaram&lt;br/&gt;
Last Changed Rev: 170695&lt;br/&gt;
--&amp;gt; This is the last revision in which something in trunk changed&lt;/p&gt;

&lt;p&gt;Last Changed Date: 2005-05-18 03:15:14 +0200 (Wed, 18 May 2005)&lt;br/&gt;
--&amp;gt; And this is the corresponding date&lt;/p&gt;

&lt;p&gt;Properties Last Updated: 2005-05-13 16:10:24 +0200 (Fri, 13 May 2005)&lt;br/&gt;
------------------------&lt;/p&gt;

&lt;p&gt;It is fairly simple to add the raw output from &quot;svn info&quot; to the javadoc footer, but this is probably overkill. It also clutters up the footer and takes up quite a bit of screen real-estate. It would be trivial to write a shell-script that filters the output, but this would not be portable. One could let a java program to do the filtering, but one would still be relying on the output from &quot;svn info&quot; being stable... I don&apos;t know if it is.&lt;/p&gt;

&lt;p&gt;A different approach would be to include the Subversion keywords (LastChangedRevision and LastChangedDate or Id) in the javadoc description for each class. You would have to change every file (and remember to set the svn:keyword property), but this could be done by a script. The diff would be huge, though...&lt;/p&gt;

&lt;p&gt;Does the reporter (or anyone else) have any comments on this?  &lt;/p&gt;</comment>
                            <comment id="65687" author="fuzzylogic" created="Thu, 19 May 2005 04:18:36 +0100"  >&lt;p&gt;For the svn revision, it should be the svn revision of the view from which the javadoc was built. This represents most closely the state of the javadoc at the time it is built. The svn revision can be retrieved using the svnversion command. See the jar build for an example of how the changenumber property is set. In fact, you could probably just reuse the initjars target to set the changenumber.&lt;/p&gt;

&lt;p&gt;For the timestamp, I suggest using Ant&apos;s internal timestamp properties. the &amp;lt;tstamp&amp;gt; task is called to set these properties in the init target. It&apos;s just a matter of using them.&lt;/p&gt;

&lt;p&gt;So, all that might need to be done is to call the right init targets before the build, and add $&lt;/p&gt;
{tstamp}
&lt;p&gt; and $&lt;/p&gt;
{changenumber}
&lt;p&gt; to the footer text.&lt;/p&gt;

&lt;p&gt;As for using the Subversion keywords in the java source files, I suppose it&apos;s probably most useful for determining who last changed the particular file, but I think for purposes of dating the build, putting the timestamp and revision in the footer achieves the same thing much less intrusively.&lt;/p&gt;</comment>
                            <comment id="65844" author="dyret" created="Fri, 20 May 2005 19:41:42 +0100"  >&lt;p&gt;A screenshot showing the javadoc with timestamp and revision.&lt;/p&gt;</comment>
                            <comment id="65846" author="dyret" created="Fri, 20 May 2005 19:54:13 +0100"  >&lt;p&gt;Thank you for your comments Andrew, they were very helpful. Please note that in my first comment I mistakenly referred to &lt;br/&gt;
the property &quot;changedversion&quot; when I meant &quot;changenumber&quot;. There is no property called &quot;changedversion&quot;, sorry about the confusion.&lt;/p&gt;

&lt;p&gt;I have added a preliminary patch and a screenshot. Feel free to review the patch, but please don&apos;t commit it until I have had a chance to run derbyall, (derbyall currently fails on a clean trunk, so I&apos;ll have to wait until that&apos;s sorted out...).&lt;/p&gt;</comment>
                            <comment id="66260" author="dyret" created="Wed, 25 May 2005 22:11:35 +0100"  >&lt;p&gt;New diff based on the latest revision&lt;/p&gt;</comment>
                            <comment id="66261" author="dyret" created="Wed, 25 May 2005 22:24:34 +0100"  >&lt;p&gt;I have tried to run derbyall for about a week, but some tests always fail.&lt;br/&gt;
I hope that a committer can look at derbyall_report.txt and perhaps consider the patch anyway...&lt;/p&gt;</comment>
                            <comment id="66767" author="fuzzylogic" created="Thu, 2 Jun 2005 05:09:01 +0100"  >&lt;p&gt;Committed, revision 179401.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="20225" name="derby-220.2.diff" size="1993" author="dyret" created="Wed, 25 May 2005 22:11:35 +0100"/>
                            <attachment id="20168" name="derby-220.diff" size="1993" author="" created="Fri, 20 May 2005 19:38:46 +0100"/>
                            <attachment id="20226" name="derbyall_report.txt" size="13508" author="dyret" created="Wed, 25 May 2005 22:24:34 +0100"/>
                            <attachment id="20169" name="javadoc-ts.jpg" size="553926" author="dyret" created="Fri, 20 May 2005 19:41:42 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 19 May 2005 00:02:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>29442</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy18dj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>41007</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>