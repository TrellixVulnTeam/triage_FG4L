<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:16:10 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-3814/DERBY-3814.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-3814] failure in testAssertFailureThreadDump with weme 6.1 / JSR 169</title>
                <link>https://issues.apache.org/jira/browse/DERBY-3814</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;suites.All resulted in (1 error and) 2 failures:&lt;/p&gt;

&lt;p&gt;1) testAssertFailureThreadDump(org.apache.derbyTesting.unitTests.junit.AssertFailureTest)junit.framework.ComparisonFailure: String not correct. expected:&amp;lt;......&amp;gt; but was:&amp;lt;...&lt;br/&gt;
...&amp;gt;&lt;br/&gt;
	at org.apache.derbyTesting.unitTests.junit.AssertFailureTest.testAssertFailureThreadDump(AssertFailureTest.java:102)&lt;br/&gt;
	at java.lang.reflect.AccessibleObject.invokeV(AccessibleObject.java:205)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:104)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
2) testAssertFailureNoThreadDump(org.apache.derbyTesting.unitTests.junit.AssertFailureTest)junit.framework.ComparisonFailure: String not correct. expected:&amp;lt;......&amp;gt; but was:&amp;lt;...&lt;br/&gt;
...&amp;gt;&lt;br/&gt;
	at org.apache.derbyTesting.unitTests.junit.AssertFailureTest.testAssertFailureNoThreadDump(AssertFailureTest.java:130)&lt;br/&gt;
	at java.lang.reflect.AccessibleObject.invokeV(AccessibleObject.java:205)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:104)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;/p&gt;</description>
                <environment>using weme6.1 / J2ME / JSR169 / CDCFoundation 1.1</environment>
        <key id="12401646">DERBY-3814</key>
            <summary>failure in testAssertFailureThreadDump with weme 6.1 / JSR 169</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="myrna">Myrna van Lunteren</assignee>
                                    <reporter username="myrna">Myrna van Lunteren</reporter>
                        <labels>
                    </labels>
                <created>Mon, 4 Aug 2008 21:10:03 +0100</created>
                <updated>Tue, 4 Aug 2009 02:13:39 +0100</updated>
                            <resolved>Tue, 14 Jul 2009 11:52:29 +0100</resolved>
                                    <version>10.5.1.1</version>
                                    <fixVersion>10.5.3.0</fixVersion>
                    <fixVersion>10.6.1.0</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12619683" author="myrna" created="Mon, 4 Aug 2008 21:12:41 +0100"  >&lt;p&gt;not sure exactly when this started failing; the nightly tests haven&apos;t been finishing before the next cycle kicks off (last good result: &lt;a href=&quot;http://people.apache.org/~myrnavl/derby_test_results/main/windows/testSummary-678612.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://people.apache.org/~myrnavl/derby_test_results/main/windows/testSummary-678612.html&lt;/a&gt;.)&lt;/p&gt;</comment>
                            <comment id="12709201" author="myrna" created="Thu, 14 May 2009 00:03:57 +0100"  >&lt;p&gt;I must&apos;ve been running with sane jars when I saw this. &lt;br/&gt;
There&apos;s been good nightly results since, but the test hasn&apos;t failed, because it gets skipped with insane jars. (See &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3618&quot; title=&quot;Perform thread dump with ASSERTS with jdk 1.5 or higher&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3618&quot;&gt;&lt;del&gt;DERBY-3618&lt;/del&gt;&lt;/a&gt;).&lt;br/&gt;
The test still fails.&lt;/p&gt;</comment>
                            <comment id="12730773" author="myrna" created="Tue, 14 Jul 2009 11:33:39 +0100"  >&lt;p&gt;Actually, I can make the same failure happen with sane jars and sun&apos;s jdk142.&lt;/p&gt;

&lt;p&gt;I think it&apos;s because of this characteristic of PrintWriter.println:&lt;br/&gt;
 (from the api doc&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
 println() methods use the platform&apos;s own notion of line separator rather than the newline character&lt;/p&gt;

&lt;p&gt;println is used in this section in org.apache.derby.shared.common.sanity.AssertFailure:&lt;br/&gt;
        } catch (NoSuchMethodException e) {&lt;br/&gt;
            p.println(&quot;(Skipping thread dump because it is not &quot; +&lt;br/&gt;
            &quot;supported on JVM 1.4)&quot;);&lt;br/&gt;
And then the comparison in AssertFailureTest fails on the windows platform because the line separator is different from what&apos;s given as expected:&lt;br/&gt;
            String expected = &quot;(Skipping thread dump because it is not &quot; +&lt;br/&gt;
            		&quot;supported on JVM 1.4)\n&quot;;&lt;br/&gt;
Using \r\n in the expected string makes the assertEquals pass on windows.&lt;/p&gt;

&lt;p&gt;A similar check for correct string returned passes for 1.5 and higher because the comparison there is using s.startsWith().&lt;/p&gt;

&lt;p&gt;The easiest solution is to trim() s before doing the comparison.&lt;/p&gt;</comment>
                            <comment id="12730778" author="myrna" created="Tue, 14 Jul 2009 11:52:29 +0100"  >&lt;p&gt;committed the change with revision 793848.&lt;/p&gt;</comment>
                            <comment id="12738727" author="myrna" created="Tue, 4 Aug 2009 02:13:39 +0100"  >&lt;p&gt;backported the fix to 10.5.2.1 with revision 800646.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12413411" name="DERBY-3814.diff" size="1059" author="myrna" created="Tue, 14 Jul 2009 11:48:34 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10369"><![CDATA[Regression Test Failure]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23857</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0rxr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38344</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>