<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:52:08 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-6126/DERBY-6126.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-6126] compatibility._Suite fails if derbyTesting.jar lives in different directory than product jars</title>
                <link>https://issues.apache.org/jira/browse/DERBY-6126</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Seen when testing the 10.10.1.1 release candidate. In the releases, derbyTesting.jar lives in the test sub-directory and the product jars live in the lib directory. This breaks an assumption in the compatibility test framework, and suites.All won&apos;t even start. It works fine if you move derbyTesting.jar into the same directory as the product jars.&lt;/p&gt;

&lt;p&gt;FAILED to invoke org.apache.derbyTesting.functionTests.tests.compatibility._Suite&lt;br/&gt;
java.lang.reflect.InvocationTargetException&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:601)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.suites.AllPackages.invokeSuite(AllPackages.java:179)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.suites.AllPackages.addSuiteByReflection(AllPackages.java:149)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.suites.AllPackages.suite(AllPackages.java:61)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.suites.All.suite(All.java:51)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:601)&lt;br/&gt;
	at junit.runner.BaseTestRunner.getTest(BaseTestRunner.java:126)&lt;br/&gt;
	at junit.textui.TestRunner.start(TestRunner.java:184)&lt;br/&gt;
	at junit.textui.TestRunner.main(TestRunner.java:143)&lt;br/&gt;
Caused by: java.lang.IllegalStateException: failed to get running distribution (programming error?)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.compatibility.VersionCombinationConfigurator.getRunningDistribution(VersionCombinationConfigurator.java:299)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.compatibility.VersionCombinationConfigurator.filterVersions(VersionCombinationConfigurator.java:266)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.compatibility.VersionCombinationConfigurator.addTests(VersionCombinationConfigurator.java:169)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.compatibility._Suite.addVersionCombinations(_Suite.java:81)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.compatibility._Suite.suite(_Suite.java:135)&lt;br/&gt;
	... 15 more&lt;/p&gt;</description>
                <environment></environment>
        <key id="12638461">DERBY-6126</key>
            <summary>compatibility._Suite fails if derbyTesting.jar lives in different directory than product jars</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kristwaa">Kristian Waagan</assignee>
                                    <reporter username="knutanders">Knut Anders Hatlen</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Mar 2013 09:05:09 +0000</created>
                <updated>Wed, 16 Apr 2014 03:41:00 +0100</updated>
                            <resolved>Thu, 20 Jun 2013 09:15:37 +0100</resolved>
                                    <version>10.10.1.1</version>
                                    <fixVersion>10.10.2.0</fixVersion>
                    <fixVersion>10.11.1.1</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13623940" author="mikem" created="Fri, 5 Apr 2013 19:50:33 +0100"  >&lt;p&gt;not sure if this is a regression, does anyone know?&lt;/p&gt;</comment>
                            <comment id="13624117" author="myrna" created="Fri, 5 Apr 2013 23:04:00 +0100"  >&lt;p&gt;This location/format for the compatibility test is new with 10.10. The tests were rewritten to conform to our current junit mechanism - see &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2067&quot; title=&quot;Assert failure in EmbedConnection.restoreContextStack() when running lang/closed.java&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2067&quot;&gt;&lt;del&gt;DERBY-2067&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
So I think we could see this as a regression.&lt;/p&gt;

&lt;p&gt;Note also that previous mishaps with the split location of derbyTesting.jar/other jars in the distribution have happened before, e.g. &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3602&quot; title=&quot;If derbytesting.jar is in a different directory than the derby jars SystemPrivilegesPermissionTest fails with java.security.AccessControlException &quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3602&quot;&gt;&lt;del&gt;DERBY-3602&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4806&quot; title=&quot;SysinfoCPCheckTest fail on different Windows platforms on 10.6.2.0 release candidate &quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4806&quot;&gt;&lt;del&gt;DERBY-4806&lt;/del&gt;&lt;/a&gt;; and it&apos;s related to enhancements in the build so the jars are always separate and we&apos;d catch these before release time (assuming we&apos;d start testing with the classpath set up that way), see &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1593&quot; title=&quot;Separate test jar files from the &amp;quot;product&amp;quot; jars in a distribution&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1593&quot;&gt;DERBY-1593&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1792&quot; title=&quot;Have the buildjars target layut the jars identically to a distribution, with test and lib folders.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1792&quot;&gt;DERBY-1792&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13643593" author="kristwaa" created="Sat, 27 Apr 2013 09:04:32 +0100"  >&lt;p&gt;Attaching patch 1a, which in addition to adding support for running off a distribution where the test jar is stored in a different directory than the production jars, cleans up some comments and renames a method getInstance to newInstance.&lt;/p&gt;

&lt;p&gt;Note that neither having old distributions with &quot;split jars&quot; nor having distributions where potentially all the jars are living in different directories are supported. It should however be easier now to add this support if required.&lt;/p&gt;

&lt;p&gt;Patch ready for review.&lt;/p&gt;</comment>
                            <comment id="13644343" author="knutanders" created="Mon, 29 Apr 2013 09:09:54 +0100"  >&lt;p&gt;Thanks, Kristian! I tested the patch and verified that the compatibility test now passes when derbyTesting.jar is in a separate directory. +1 to commit.&lt;/p&gt;</comment>
                            <comment id="13652394" author="myrna" created="Wed, 8 May 2013 22:53:05 +0100"  >&lt;p&gt;Kristian, did you intend to commit? Or should someone else do it?&lt;/p&gt;</comment>
                            <comment id="13688989" author="knutanders" created="Thu, 20 Jun 2013 08:57:58 +0100"  >&lt;p&gt;The patch has become stale because of other changes in the same tests. Uploading an updated patch (1b). I intend to commit it shortly.&lt;/p&gt;</comment>
                            <comment id="13688990" author="jira-bot" created="Thu, 20 Jun 2013 08:58:31 +0100"  >&lt;p&gt;Commit 1494883 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=knutanders&quot; class=&quot;user-hover&quot; rel=&quot;knutanders&quot;&gt;Knut Anders Hatlen&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1494883&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1494883&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6126&quot; title=&quot;compatibility._Suite fails if derbyTesting.jar lives in different directory than product jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6126&quot;&gt;&lt;del&gt;DERBY-6126&lt;/del&gt;&lt;/a&gt;: compatibility._Suite fails if derbyTesting.jar lives in different directory than product jars&lt;/p&gt;

&lt;p&gt;Based on fix contributed by Kristian Waagan.&lt;/p&gt;</comment>
                            <comment id="13688999" author="jira-bot" created="Thu, 20 Jun 2013 09:12:31 +0100"  >&lt;p&gt;Commit 1494884 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=knutanders&quot; class=&quot;user-hover&quot; rel=&quot;knutanders&quot;&gt;Knut Anders Hatlen&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1494884&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1494884&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6126&quot; title=&quot;compatibility._Suite fails if derbyTesting.jar lives in different directory than product jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6126&quot;&gt;&lt;del&gt;DERBY-6126&lt;/del&gt;&lt;/a&gt;: compatibility._Suite fails if derbyTesting.jar lives in different directory than product jars&lt;/p&gt;

&lt;p&gt;Merged revision 1494883 from trunk.&lt;/p&gt;</comment>
                            <comment id="13689000" author="knutanders" created="Thu, 20 Jun 2013 09:15:37 +0100"  >&lt;p&gt;The fix has been committed to trunk and 10.10, so I&apos;m closing the issue. Thanks, Kristian, for contributing the fix!&lt;/p&gt;</comment>
                            <comment id="13689077" author="jira-bot" created="Thu, 20 Jun 2013 10:57:57 +0100"  >&lt;p&gt;Commit 1494901 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=knutanders&quot; class=&quot;user-hover&quot; rel=&quot;knutanders&quot;&gt;Knut Anders Hatlen&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1494901&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1494901&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6126&quot; title=&quot;compatibility._Suite fails if derbyTesting.jar lives in different directory than product jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6126&quot;&gt;&lt;del&gt;DERBY-6126&lt;/del&gt;&lt;/a&gt;: Fix javadoc warning&lt;/p&gt;</comment>
                            <comment id="13689082" author="jira-bot" created="Thu, 20 Jun 2013 11:02:01 +0100"  >&lt;p&gt;Commit 1494903 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=knutanders&quot; class=&quot;user-hover&quot; rel=&quot;knutanders&quot;&gt;Knut Anders Hatlen&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1494903&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1494903&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6126&quot; title=&quot;compatibility._Suite fails if derbyTesting.jar lives in different directory than product jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6126&quot;&gt;&lt;del&gt;DERBY-6126&lt;/del&gt;&lt;/a&gt;: Fix javadoc warning&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12580828" name="derby-6126-1a-running_dist_jar_split_support.diff" size="8808" author="kristwaa" created="Sat, 27 Apr 2013 09:04:32 +0100"/>
                            <attachment id="12588780" name="derby-6126-1b.diff" size="9717" author="knutanders" created="Thu, 20 Jun 2013 08:57:58 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10420"><![CDATA[Regression]]></customfieldvalue>
    <customfieldvalue key="10369"><![CDATA[Regression Test Failure]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 5 Apr 2013 18:50:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318937</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzcvr3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>319278</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>