<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:08:13 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-2443/DERBY-2443.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-2443] Implement ResultSet updateClob/updateBlob methods  on the NetworkClient</title>
                <link>https://issues.apache.org/jira/browse/DERBY-2443</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Implement the following ResultSet methods on the Network Client&lt;/p&gt;

&lt;p&gt;updateBlob(int columnIndex, Blob x)&lt;br/&gt;
 updateBlob(String columnName, Blob x)&lt;/p&gt;

&lt;p&gt; updateClob(int columnIndex, Clob x)&lt;br/&gt;
 updateClob(String columnName, Clob x)&lt;/p&gt;

&lt;p&gt; updateBlob(int columnIndex, InputStream x, long length)&lt;br/&gt;
 updateBlob(String columnName, InputStream x, long length)&lt;/p&gt;

&lt;p&gt; updateClob(int columnIndex, Reader x, long length)&lt;br/&gt;
 updateClob(String columnName, Reader x, long length)&lt;/p&gt;</description>
                <environment>All</environment>
        <key id="12364635">DERBY-2443</key>
            <summary>Implement ResultSet updateClob/updateBlob methods  on the NetworkClient</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="narayanan">V.Narayanan</assignee>
                                    <reporter username="narayanan">V.Narayanan</reporter>
                        <labels>
                    </labels>
                <created>Sat, 10 Mar 2007 08:55:03 +0000</created>
                <updated>Mon, 2 Jul 2007 22:10:27 +0100</updated>
                            <resolved>Mon, 2 Jul 2007 22:10:28 +0100</resolved>
                                                    <fixVersion>10.3.1.4</fixVersion>
                                    <component>Network Client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12479814" author="narayanan" created="Sat, 10 Mar 2007 09:01:16 +0000"  >&lt;p&gt;&lt;b&gt;THIS PATCH IS NOT FOR COMMIT&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;EXPLN OF CHANGES&lt;br/&gt;
----------------&lt;br/&gt;
This patch is blocked by &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2430&quot; title=&quot; setObject(int targetType, Blob source) and setObject(int targetType, Clob source) should disallow updates on all targetTypes except BLOB and CLOB respectively&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2430&quot;&gt;&lt;del&gt;DERBY-2430&lt;/del&gt;&lt;/a&gt; and contains the diff&apos;s pertainining to that issue as the following files&lt;/p&gt;

&lt;p&gt;M      java/testing/org/apache/derbyTesting/functionTests/tests/lang/UpdatableResultSetTest.java&lt;br/&gt;
M      java/client/org/apache/derby/client/am/CrossConverters.java&lt;/p&gt;

&lt;p&gt;Tests for the updateClob/UpdateBlob that take a Clob/Blob as a parameter for the embedded case had been present in jdbc4/ResultSetTest.java. They are however present from earlier versions than JDBC 4.0. I have hence migrated tests for these to jdbcapi/UpdatableResultSetTest.java.&lt;/p&gt;

&lt;p&gt;I have however not deleted the tests from jdbc4/ResultSetTest. I simply enabled them for running with the Network Client also.&lt;/p&gt;

&lt;p&gt;The tests for the methods accepting InputStream/Reader can be found in jdbc4/ResultSetTest.&lt;/p&gt;

&lt;p&gt;M      java/testing/org/apache/derbyTesting/functionTests/tests/jdbc4/ResultSetTest.java&lt;br/&gt;
M      java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/UpdatableResultSetTest.java&lt;/p&gt;

&lt;p&gt;Post 2430 updateBlob and updateClob would fail with all types except BLOB and CLOB respectively. These methods have basically been forwarded to setObject. Moving these methods into ResultSet from NetResultSet40.&lt;/p&gt;

&lt;p&gt;M      java/client/org/apache/derby/client/net/NetResultSet40.java&lt;br/&gt;
M      java/client/org/apache/derby/client/am/ResultSet.java&lt;/p&gt;</comment>
                            <comment id="12480683" author="kristwaa" created="Wed, 14 Mar 2007 07:58:02 +0000"  >&lt;p&gt;In ResultSetJDBC30Test:&lt;br/&gt;
@@ -118,7 +118,7 @@&lt;br/&gt;
             if (usingEmbedded()) &lt;/p&gt;
{
                 assertSQLState(UPDATABLE_RESULTSET_API_DISALLOWED, se);
             }
&lt;p&gt; else &lt;/p&gt;
{
-                assertSQLState(NOT_IMPLEMENTED, se);
+                assertSQLState(UPDATABLE_RESULTSET_API_DISALLOWED, se);
             }

&lt;p&gt;Can&apos;t you just remove the if-else block and do the assert, which seems to be common for all cases?&lt;/p&gt;

&lt;p&gt;There are also some long lines in client/am/ResultSet.&lt;/p&gt;

&lt;p&gt;I haven&apos;t reviewed this patch thoroughly, so another pair of eyes would be good.&lt;/p&gt;</comment>
                            <comment id="12480708" author="narayanan" created="Wed, 14 Mar 2007 10:00:17 +0000"  >&lt;p&gt;Thank you for looking at the patch!!&lt;/p&gt;

&lt;p&gt;&amp;gt;Can&apos;t you just remove the if-else block and do the assert, which seems to be common for all cases? &lt;/p&gt;

&lt;p&gt;The existing code does it that way and I did not disturb it. I just changed the SQLState. However I agree to this and shall make this change in my follow-up patch.&lt;/p&gt;

&lt;p&gt;&amp;gt;There are also some long lines in client/am/ResultSet. &lt;/p&gt;

&lt;p&gt;I shall fix these formatting issues in a follow-up patch.&lt;/p&gt;</comment>
                            <comment id="12480711" author="narayanan" created="Wed, 14 Mar 2007 10:08:00 +0000"  >&lt;p&gt;I had placed this patch primarily to show how the update methods would be using the changes to setObject calls(2430). I generally look for formatting problems before submitting my patches. I however did not do a very detailed review of formatting related problems before doing this since I wanted it to show how the update methods would use the changes made as part of 2430. &lt;/p&gt;

&lt;p&gt;Pls pardon any formatting mistakes I would have committed here.&lt;/p&gt;

&lt;p&gt;Also this patch is not for a commit. I will be submitting a follow up patch.&lt;/p&gt;</comment>
                            <comment id="12481640" author="narayanan" created="Fri, 16 Mar 2007 15:09:05 +0000"  >&lt;p&gt;Attaching the latest patch. I have removed the changes pertaining to 2430 that was in the previously attached patch. I have also removed formatting mistakes I had made.&lt;/p&gt;

&lt;p&gt;I ran derbyall and Junit suites and fixed all the failures I encountered. All the tests are passing with this patch now.&lt;/p&gt;





</comment>
                            <comment id="12483917" author="knutanders" created="Sun, 25 Mar 2007 10:56:29 +0100"  >&lt;p&gt;The patch looks good to me. A couple of small comments:&lt;/p&gt;

&lt;p&gt;I get these warnings when generating javadoc:&lt;/p&gt;

&lt;p&gt;client/am/ResultSet.java:6100: warning - @param argument &quot;columnLabel&quot; is not a parameter name.&lt;br/&gt;
client/am/ResultSet.java:6125: warning - @param argument &quot;columnLabel&quot; is not a parameter name.&lt;/p&gt;

&lt;p&gt;The tests have much code similar to this:&lt;br/&gt;
+        Reader r1 = new java.io.StringReader(new String(BYTES1));&lt;br/&gt;
I&apos;m not sure how safe it is to use the String(byte[]) constructor without specifying the encoding. Perhaps it would be better to use a hard-coded string?&lt;/p&gt;

&lt;p&gt;I assume the changes to index.html were not supposed to be part of the patch?&lt;/p&gt;</comment>
                            <comment id="12484038" author="narayanan" created="Mon, 26 Mar 2007 07:46:30 +0100"  >&lt;p&gt;Thank You for the comments. The attached patch resolve the issues pointed.&lt;/p&gt;</comment>
                            <comment id="12484041" author="narayanan" created="Mon, 26 Mar 2007 07:50:43 +0100"  >&lt;p&gt;for v3 I ran only the tests modified as part of this patch. They passed. &lt;/p&gt;

&lt;p&gt;I did not run derbyall or junit since going from v2 to v3 I have made only javadoc changes to the main code line and I had already run derbyall and junit tests for v2 and they passed.&lt;/p&gt;</comment>
                            <comment id="12484437" author="knutanders" created="Tue, 27 Mar 2007 13:08:47 +0100"  >&lt;p&gt;Thanks for the new patch, Narayanan! I have committed it with revision 522873.&lt;/p&gt;

&lt;p&gt;One more minor comment: jdbcapi/UpdatableResultSetTest.java has two methods, fetch() and fetchUpd(), which create statements without closing them. I don&apos;t know if it&apos;s a problem here, but other JUnit tests have occasionally failed because statements or result sets were not closed and some resources were held until they were garbage collected. Perhaps it would be good to rewrite them so that the statements could be closed?&lt;/p&gt;</comment>
                            <comment id="12484443" author="narayanan" created="Tue, 27 Mar 2007 13:36:32 +0100"  >&lt;p&gt;I will do this. Thank You for the comments and commit Knut. Attempting &lt;br/&gt;
to send this comment as a email to jira@apache.org &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; .&lt;/p&gt;
</comment>
                            <comment id="12505121" author="narayanan" created="Fri, 15 Jun 2007 10:28:48 +0100"  >&lt;p&gt;I have raised &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2826&quot; title=&quot;re-write jdbcapi/UpdatableResultSetTest.java to close the statements used in the fetch and fetchUpd methods&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2826&quot;&gt;&lt;del&gt;DERBY-2826&lt;/del&gt;&lt;/a&gt; to address the&lt;br/&gt;
test re-writing follow-up required. The patch&lt;br/&gt;
submitted to this issue has been submitted&lt;br/&gt;
and committed.&lt;/p&gt;</comment>
                            <comment id="12505135" author="narayanan" created="Fri, 15 Jun 2007 11:20:45 +0100"  >&lt;p&gt;re-opening to attach release note&lt;/p&gt;</comment>
                            <comment id="12505156" author="narayanan" created="Fri, 15 Jun 2007 12:11:29 +0100"  >&lt;p&gt;The comments that were received for the release note in &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1341&quot; title=&quot;LOB set method(s) are currently no supported, but part of the Java 1.4 JDBC interface&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1341&quot;&gt;&lt;del&gt;DERBY-1341&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
seemed very relevant to the work I have done to.&lt;/p&gt;

&lt;p&gt;I have modified the release note to keep with the suggested changes&lt;/p&gt;</comment>
                            <comment id="12505190" author="narayanan" created="Fri, 15 Jun 2007 13:20:14 +0100"  >&lt;p&gt;attaching with the proper name of the release note!&lt;/p&gt;</comment>
                            <comment id="12505196" author="narayanan" created="Fri, 15 Jun 2007 13:25:28 +0100"  >&lt;p&gt;All patches submitted and committed and release note attached!&lt;/p&gt;</comment>
                            <comment id="12505480" author="rhillegas" created="Sat, 16 Jun 2007 17:03:13 +0100"  >&lt;p&gt;Re-open in order to scrub the release note.&lt;/p&gt;</comment>
                            <comment id="12505481" author="rhillegas" created="Sat, 16 Jun 2007 17:05:03 +0100"  >&lt;p&gt;Attaching a new release note which will hopefully fare better in the release note generator. Removed a lot of cruft which was added by an html editor. Replaced naked &amp;lt;br&amp;gt; tags with &amp;lt;br/&amp;gt;.&lt;/p&gt;</comment>
                            <comment id="12505729" author="narayanan" created="Mon, 18 Jun 2007 09:56:31 +0100"  >&lt;p&gt;Re-opening to fix mistake found in the release note.&lt;/p&gt;</comment>
                            <comment id="12505732" author="narayanan" created="Mon, 18 Jun 2007 09:58:12 +0100"  >&lt;p&gt;Changing  J2SE 6 to Java SE 6. Sorry for the late correction. &lt;/p&gt;</comment>
                            <comment id="12505739" author="narayanan" created="Mon, 18 Jun 2007 10:11:13 +0100"  >&lt;p&gt;I ran the Lint tool on the lates version and it said&lt;/p&gt;

&lt;p&gt;&quot;passes the currently known checks performed by the release note generator.&quot;&lt;/p&gt;</comment>
                            <comment id="12505740" author="narayanan" created="Mon, 18 Jun 2007 10:11:43 +0100"  >&lt;p&gt;updated the release note&lt;/p&gt;</comment>
                            <comment id="12506169" author="rhillegas" created="Tue, 19 Jun 2007 14:37:15 +0100"  >&lt;p&gt;Reattach releaseNote. Convert uppercase paragraph tags to lowercase. Because of the casing issue, the wrong summary line was plucked out by the release note generator.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12364533">DERBY-2430</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12353040" name="ResultSetNotImplMethods_v1.diff" size="54801" author="narayanan" created="Sat, 10 Mar 2007 09:01:16 +0000"/>
                            <attachment id="12353041" name="ResultSetNotImplMethods_v1.stat" size="671" author="narayanan" created="Sat, 10 Mar 2007 09:01:16 +0000"/>
                            <attachment id="12353510" name="ResultSetNotImplMethods_v2.diff" size="58042" author="narayanan" created="Fri, 16 Mar 2007 15:09:05 +0000"/>
                            <attachment id="12353511" name="ResultSetNotImplMethods_v2.stat" size="622" author="narayanan" created="Fri, 16 Mar 2007 15:09:05 +0000"/>
                            <attachment id="12354183" name="ResultSetNotImplMethods_v3.diff" size="51009" author="narayanan" created="Mon, 26 Mar 2007 07:46:30 +0100"/>
                            <attachment id="12354184" name="ResultSetNotImplMethods_v3.stat" size="604" author="narayanan" created="Mon, 26 Mar 2007 07:46:30 +0100"/>
                            <attachment id="12360112" name="releaseNote.html" size="4031" author="rhillegas" created="Tue, 19 Jun 2007 14:37:15 +0100"/>
                            <attachment id="12360003" name="releaseNote.html" size="4031" author="narayanan" created="Mon, 18 Jun 2007 09:58:12 +0100"/>
                            <attachment id="12359928" name="releaseNote.html" size="4027" author="rhillegas" created="Sat, 16 Jun 2007 17:05:03 +0100"/>
                            <attachment id="12359853" name="releaseNote.html" size="4181" author="narayanan" created="Fri, 15 Jun 2007 13:20:14 +0100"/>
                            <attachment id="12359826" name="releaseNote.html" size="4252" author="narayanan" created="Fri, 15 Jun 2007 11:21:25 +0100"/>
                            <attachment id="12359840" name="releaseNote_v2.html" size="4181" author="narayanan" created="Fri, 15 Jun 2007 12:11:29 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 14 Mar 2007 07:58:02 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30447</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10101"><![CDATA[Release Note Needed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy11j3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39898</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>