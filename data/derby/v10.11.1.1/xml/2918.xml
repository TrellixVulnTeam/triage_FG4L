<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:32:19 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-2918/DERBY-2918.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-2918] Errors in regression tests run against 10.3.1.1 release candidate</title>
                <link>https://issues.apache.org/jira/browse/DERBY-2918</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;I am seeing errors of the following sort in metadata, odbc_metadata, NSinSameJVM, and testProperties:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;Start: metadata jdk1.4.2_12 DerbyNetClient derbynetmats:derbynetmats 2007-07-10 12:55:29 ***&lt;br/&gt;
16 del&lt;br/&gt;
&amp;lt; JDBC Driver &apos;Apache Derby Network Client JDBC Driver&apos;, version 10.3 (10.3.1.1 -(EXPECTED SUBVERSION INFO))&lt;br/&gt;
16a16&lt;br/&gt;
&amp;gt; JDBC Driver &apos;Apache Derby Network Client JDBC Driver&apos;, version 10.3 (10.3.1.1 - (exported))&lt;br/&gt;
Test Failed.&lt;/li&gt;
			&lt;li&gt;End:   metadata jdk1.4.2_12 DerbyNetClient derbynetmats:derbynetmats 2007-07-10 12:55:41 ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I am also seeing errors like the following in the JUnit upgrade tests:&lt;/p&gt;

&lt;p&gt;1) noConnectionAfterHardUpgrade(org.apache.derbyTesting.functionTests.tests.upgradeTests.BasicSetup)junit.framework.ComparisonFailure: Unexpected SQL state. expected:&amp;lt;XSLA&lt;span class=&quot;error&quot;&gt;&amp;#91;P&amp;#93;&lt;/span&gt;&amp;gt; but was:&amp;lt;XSLA&lt;span class=&quot;error&quot;&gt;&amp;#91;N&amp;#93;&lt;/span&gt;&amp;gt;&lt;br/&gt;
        at org.apache.derbyTesting.junit.BaseJDBCTestCase.assertSQLState(BaseJDBCTestCase.java:562)&lt;br/&gt;
        at org.apache.derbyTesting.junit.BaseJDBCTestCase.assertSQLState(BaseJDBCTestCase.java:597)&lt;br/&gt;
        at org.apache.derbyTesting.junit.BaseJDBCTestCase.assertSQLState(BaseJDBCTestCase.java:611)&lt;br/&gt;
        at org.apache.derbyTesting.functionTests.tests.upgradeTests.BasicSetup.noConnectionAfterHardUpgrade(BasicSetup.java:144)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
        at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:88)&lt;br/&gt;
        at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
        at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
        at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
        at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
        at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
        at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
        at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
        at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
        at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
        at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
        at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
        at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
        at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
        at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
        at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
        at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
        at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
        at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
        at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
        at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
        at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
        at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
        at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
        at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
        at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
        at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
        at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
        at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
        at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
        at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
        at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
        at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
        at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
        at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
Caused by: SQL Exception: Database at /export/home/rh161140/derby/dummy/testRun/system/singleUse/oneuse27 has an incompatible format with the current version of the software.  The database was created by or upgraded by version 10.3.&lt;br/&gt;
        at org.apache.derby.impl.jdbc.Util.generateCsSQLException(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.EmbedConnection.bootDatabase(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.EmbedConnection30.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
        at org.apache.derby.jdbc.Driver30.getNewEmbedConnection(Unknown Source)&lt;br/&gt;
        at org.apache.derby.jdbc.InternalDriver.connect(Unknown Source)&lt;br/&gt;
        at org.apache.derby.jdbc.EmbeddedDataSource.getConnection(Unknown Source)&lt;br/&gt;
        at org.apache.derby.jdbc.EmbeddedDataSource.getConnection(Unknown Source)&lt;br/&gt;
        at org.apache.derbyTesting.junit.DataSourceConnector.openConnection(DataSourceConnector.java:54)&lt;br/&gt;
        at org.apache.derbyTesting.junit.TestConfiguration.openDefaultConnection(TestConfiguration.java:1006)&lt;br/&gt;
        at org.apache.derbyTesting.junit.BaseJDBCTestCase.openDefaultConnection(BaseJDBCTestCase.java:255)&lt;br/&gt;
        at org.apache.derbyTesting.junit.BaseJDBCTestCase.getConnection(BaseJDBCTestCase.java:92)&lt;br/&gt;
        at org.apache.derbyTesting.functionTests.tests.upgradeTests.BasicSetup.noConnectionAfterHardUpgrade(BasicSetup.java:140)&lt;br/&gt;
        ... 68 more&lt;/p&gt;</description>
                <environment></environment>
        <key id="12373456">DERBY-2918</key>
            <summary>Errors in regression tests run against 10.3.1.1 release candidate</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="myrna">Myrna van Lunteren</assignee>
                                    <reporter username="rhillegas">Rick Hillegas</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Jul 2007 23:56:30 +0100</created>
                <updated>Tue, 13 Jul 2010 20:22:53 +0100</updated>
                            <resolved>Sat, 14 Jul 2007 02:51:31 +0100</resolved>
                                    <version>10.3.1.4</version>
                                    <fixVersion>10.3.1.4</fixVersion>
                    <fixVersion>10.4.1.3</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12511604" author="myrna" created="Wed, 11 Jul 2007 00:31:49 +0100"  >&lt;p&gt;The upgrade test errors are logged as &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2915&quot; title=&quot;upgrade test fixture noConnnectionAfterHardUpgrade fails with 10.3.1.1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2915&quot;&gt;&lt;del&gt;DERBY-2915&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="12511670" author="myrna" created="Wed, 11 Jul 2007 07:23:12 +0100"  >&lt;p&gt;Extremely frustrating, but I don&apos;t see this! I tried the insane jars, the insane jars on my machine, the bin.zip on my machine, and downloaded the bin.zip and tried that.&lt;br/&gt;
I&apos;m just running the individual tests...&lt;br/&gt;
Which distribution did you use?&lt;br/&gt;
Who else is seeing / not seeing this?&lt;/p&gt;</comment>
                            <comment id="12511766" author="rhillegas" created="Wed, 11 Jul 2007 15:11:09 +0100"  >&lt;p&gt;Hi Myrna,&lt;/p&gt;

&lt;p&gt;I unpacked the source zip and built the sane jars from scratch. I have just repeated that experiment and can confirm that I am seeing these errors in the metadata test.&lt;/p&gt;</comment>
                            <comment id="12511789" author="myrna" created="Wed, 11 Jul 2007 17:30:35 +0100"  >&lt;p&gt;I will try that experiment, just to see, but at the same time, I&apos;ve been very irritated with the need to update those masters...&lt;/p&gt;

&lt;p&gt;I&apos;m thinking, now that we have the DatabaseMetaDataTest, which confirms the calls to get the version work, can we just do away with this check altogether, or mask the entire version string in *_sed.properties?&lt;/p&gt;</comment>
                            <comment id="12511791" author="rhillegas" created="Wed, 11 Jul 2007 17:39:14 +0100"  >&lt;p&gt;I share your frustration with these brittle, noisy tests.&lt;/p&gt;</comment>
                            <comment id="12512668" author="myrna" created="Sat, 14 Jul 2007 02:51:31 +0100"  >&lt;p&gt;I fixed up the 4 troublesome tests by modifying the _sed.properties files to sed out the string &apos;exported&apos; for &apos;EXPECTED SUBVERSION INFO&apos;.&lt;br/&gt;
I don&apos;t think this is a new problem with 10.3(.1.1), though, although I didn&apos;t actually bother to get a 10.2 src distr. and test.&lt;/p&gt;

&lt;p&gt;By the way, I don&apos;t know where the string &apos;exported&apos; comes from, eclipse nor os file search could find it in the code tree (except for in comments in the export tool classes and in java/testing/README.htm it is shown as something that&apos;s part of initjars, judging from this last, it&apos;s been like this for a long time.)&lt;br/&gt;
sysinfo does report &apos;exported&apos; as the version number if you build from the src distribution.&lt;/p&gt;

&lt;p&gt;committed to trunk with 556199, ported to 10.3 with 556205.&lt;/p&gt;</comment>
                            <comment id="12512686" author="fuzzylogic" created="Sat, 14 Jul 2007 07:37:24 +0100"  >&lt;p&gt;fyi, &apos;exported&apos; comes from svnversion. That is the revision reported by svnversion if it cannot find the svn metadata for the current directory. Since this is expected behavior for svnversion, sed&apos;ing out the string &apos;exported&apos; is the correct thing to do in this case.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 10 Jul 2007 23:31:49 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23320</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0pfr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37939</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>