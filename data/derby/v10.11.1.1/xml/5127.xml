<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:44:44 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-5127/DERBY-5127.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-5127] Convert madhare.sql to JUnit</title>
                <link>https://issues.apache.org/jira/browse/DERBY-5127</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Convert madhare.sql to JUnit&lt;/p&gt;</description>
                <environment></environment>
        <key id="12501235">DERBY-5127</key>
            <summary>Convert madhare.sql to JUnit</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="siddharthsrivastava">Siddharth Srivastava</assignee>
                                    <reporter username="siddharthsrivastava">Siddharth Srivastava</reporter>
                        <labels>
                    </labels>
                <created>Sat, 12 Mar 2011 07:55:30 +0000</created>
                <updated>Mon, 17 Jun 2013 10:19:26 +0100</updated>
                            <resolved>Wed, 14 Mar 2012 17:32:44 +0000</resolved>
                                                    <fixVersion>10.9.1.0</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13008809" author="siddharthsrivastava" created="Sat, 19 Mar 2011 19:28:08 +0000"  >&lt;p&gt;While building derby(ant -quiet all), I get this error:&lt;/p&gt;

&lt;p&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; Note: F:\eclipsework\trunk\java\testing\org\apache\derbyTesting\functionTests\tests\jdbc4\ConnectionTest.java uses unchecked or unsafe operations.&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; Note: Recompile with -Xlint:unchecked for details.&lt;/p&gt;

&lt;p&gt;May be some of the code is not compatible with java 4 ?&lt;/p&gt;</comment>
                            <comment id="13008823" author="dbrosius@apache.org" created="Sat, 19 Mar 2011 20:38:12 +0000"  >&lt;p&gt;No, typically this is because code is casting the value coming out of some collection without checking if it really is the type expected, like&lt;/p&gt;

&lt;p&gt;String s = (String)mycollection.get&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/information.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;;&lt;/p&gt;

&lt;p&gt;Since get() in 1.4 is declared to return java.lang.Object, the cast to String is a blind cast and &apos;potentially&apos; unchecked.&lt;/p&gt;
</comment>
                            <comment id="13009692" author="siddharthsrivastava" created="Tue, 22 Mar 2011 16:12:41 +0000"  >&lt;p&gt;Thanks Dave for clarifying. Just tried with the latest commit by Knut (of Derby-5143) and the warning isn&apos;t there anymore &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;  &lt;/p&gt;</comment>
                            <comment id="13010863" author="siddharthsrivastava" created="Thu, 24 Mar 2011 19:25:52 +0000"  >&lt;p&gt;This diff addresses the formatting issues and other issues addressed by Lily Wei and Kathey Marsden.&lt;/p&gt;

&lt;p&gt;I have run suites.All and derbyAll. No error were caused due to this patch. &lt;br/&gt;
suites.All produces these 3 failures:&lt;br/&gt;
1) AuthenticationTest&lt;br/&gt;
2) ReplicationRun_Local_1Indexing&lt;br/&gt;
3) ReplicationRun_Local_3_p3&lt;/p&gt;</comment>
                            <comment id="13014722" author="kmarsden" created="Fri, 1 Apr 2011 17:31:39 +0100"  >&lt;p&gt;I think the new patch looks fine except that the fixture throws an Exception instead of SQLException. Also the master/madhare.out (master file) needs to be removed with svn delete.  I will commit with these two small changes.  Normally I would say it would be good to have javadoc for each fixture but since this test just has one and there are comments in the class comments, I think that is ok.  For future conversions, however make sure each fixture has javadoc.&lt;/p&gt;
</comment>
                            <comment id="13014731" author="siddharthsrivastava" created="Fri, 1 Apr 2011 17:44:53 +0100"  >&lt;p&gt;thanks Kathey. I will keep these points in mind in future patches.&lt;/p&gt;</comment>
                            <comment id="13014807" author="knutanders" created="Fri, 1 Apr 2011 20:53:03 +0100"  >&lt;p&gt;The new test executes many SQL statements, but it doesn&apos;t check the results from any of them. Is that intentional? It looks like the original test verified that the select queries returned the expected set of rows.&lt;/p&gt;</comment>
                            <comment id="13015492" author="kmarsden" created="Mon, 4 Apr 2011 17:42:07 +0100"  >&lt;p&gt;You are absolutely right. I guess I got wrapped up in the minutia in the review and missed this major point.  Siddharth can you submit a new patch using org.apache.derbyTesting.junit.JDBC.assertFullResultSet()   to verify the results?  You can see sample usage in lang.SimpleTest and other tests.&lt;/p&gt;

&lt;p&gt;If the ResultSet is big I sometimes use org.apache.derbyTesting.junit.showResultSet() temporarily to print out the array to feed to assertFullResultSet().&lt;/p&gt;</comment>
                            <comment id="13015954" author="houxzhang" created="Tue, 5 Apr 2011 16:19:55 +0100"  >&lt;p&gt;Just some opinions:&lt;/p&gt;

&lt;p&gt;1. Is it better to split the testBasicMadhare() into several functions, and test only one point in each function? It will make the test more readable and maintainable.&lt;/p&gt;

&lt;p&gt;2. Why not use dropTable(String) directly to replace current st.executeUpdate( &quot;drop table t&quot;)  to keep the code clean?&lt;/p&gt;</comment>
                            <comment id="13016872" author="siddharthsrivastava" created="Thu, 7 Apr 2011 16:20:56 +0100"  >&lt;p&gt;this patch adds the code to check the result set of the SQL queries tested.&lt;/p&gt;</comment>
                            <comment id="13016877" author="siddharthsrivastava" created="Thu, 7 Apr 2011 16:30:37 +0100"  >&lt;p&gt;Thanks Knut, Kathey for pointing out the mistake.&lt;/p&gt;

&lt;p&gt;thanks Houx for your suggestions. I too initially thought of creating separate functions but it will only compromise with the simplicity of the code (with just permutations being tested in most of the cases)&lt;/p&gt;
</comment>
                            <comment id="13017510" author="kmarsden" created="Fri, 8 Apr 2011 17:14:20 +0100"  >&lt;p&gt;Hi Siddharth, since the test has already been committed, you should svn update  and then submit a patch with just the changes.  Please try to keep the lines to 80 characters.&lt;/p&gt;</comment>
                            <comment id="13017533" author="siddharthsrivastava" created="Fri, 8 Apr 2011 17:53:58 +0100"  >&lt;p&gt;changed the diff to contain the changed code from previous commit.&lt;br/&gt;
The patch now conforms to 80 character a line limit&lt;/p&gt;</comment>
                            <comment id="13017566" author="kmarsden" created="Fri, 8 Apr 2011 18:39:33 +0100"  >&lt;p&gt;Hi Siddharth,&lt;/p&gt;

&lt;p&gt;Thank you for the patch. I committed it at revison 1090359&lt;/p&gt;

&lt;p&gt;One thing I wonder from the original test is about this section from the test which tests not only JDBC prepared statements but also the ij prepare and execute support;&lt;/p&gt;

&lt;p&gt;ij&amp;gt; &amp;#8211; we do have prepare and execute support&lt;br/&gt;
prepare stmt as &apos;select i,n,t,e,g,r from s&apos;;&lt;br/&gt;
ij&amp;gt; execute stmt;&lt;br/&gt;
I          |N          |T          |E          |G          |R          &lt;br/&gt;
-----------------------------------------------------------------------&lt;br/&gt;
1          |2          |3          |4          |5          |6          &lt;br/&gt;
10         |11         |12         |13         |14         |15         &lt;br/&gt;
ij&amp;gt; &amp;#8211; execute can be done multiple times&lt;br/&gt;
execute stmt;&lt;/p&gt;

&lt;p&gt;I wonder if the prepare and execute ij commands are tested elsewhere specifically in the tools testing. If not it should be added there.&lt;/p&gt;
</comment>
                            <comment id="13018080" author="knutanders" created="Sun, 10 Apr 2011 14:37:29 +0100"  >&lt;p&gt;ij&apos;s prepare and execute commands are tested in tools/ij2.sql, so I think we are covered.&lt;/p&gt;</comment>
                            <comment id="13229409" author="myrna" created="Wed, 14 Mar 2012 17:32:44 +0000"  >&lt;p&gt;I&apos;m marking this as resolved, judging by the last communication between Kathey and Knut Anders there&apos;s nothing further needed here. Please reopen if I misread.&lt;/p&gt;</comment>
                            <comment id="13685243" author="knutanders" created="Mon, 17 Jun 2013 10:19:26 +0100"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;bulk update&amp;#93;&lt;/span&gt; Close all resolved issues that haven&apos;t been updated for more than one year.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12502097">DERBY-5147</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12500370">DERBY-5091</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12475824" name="Derby5127.diff" size="4760" author="siddharthsrivastava" created="Fri, 8 Apr 2011 17:53:58 +0100"/>
                            <attachment id="12475717" name="Derby5127.diff" size="8364" author="siddharthsrivastava" created="Thu, 7 Apr 2011 16:20:56 +0100"/>
                            <attachment id="12474903" name="d5127.diff" size="7907" author="siddharthsrivastava" created="Tue, 29 Mar 2011 18:13:33 +0100"/>
                            <attachment id="12474706" name="derby5127(2).diff" size="7744" author="siddharthsrivastava" created="Sat, 26 Mar 2011 19:37:59 +0000"/>
                            <attachment id="12475062" name="derby5127.diff" size="7913" author="siddharthsrivastava" created="Thu, 31 Mar 2011 07:24:07 +0100"/>
                            <attachment id="12474902" name="derby5127.diff" size="7907" author="siddharthsrivastava" created="Tue, 29 Mar 2011 18:08:03 +0100"/>
                            <attachment id="12474551" name="derby5127.diff" size="7907" author="siddharthsrivastava" created="Thu, 24 Mar 2011 19:25:52 +0000"/>
                            <attachment id="12474082" name="derby5127.diff" size="7744" author="siddharthsrivastava" created="Sat, 19 Mar 2011 19:26:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 19 Mar 2011 20:38:12 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31511</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10423"><![CDATA[Newcomer]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0cpj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35877</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>