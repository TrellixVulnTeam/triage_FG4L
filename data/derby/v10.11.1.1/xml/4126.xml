<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:48:55 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-4126/DERBY-4126.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-4126] You can&apos;t invoke a table function which is stored in a jar file inside the database</title>
                <link>https://issues.apache.org/jira/browse/DERBY-4126</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;You get a ClassNotFoundException when you try to invoke a table function which lives in a jar file stored inside the database. This is because FromVTI.implementsDerbyStyleVTICosting() looks up the class using Class.forName() rather than using the session classloader. A similar bug is in FromVTI.getVTICosting(). This bug was reported by Krzysztof N in the following user list thread: &lt;a href=&quot;http://www.nabble.com/Uinable-to-use-Table-function-due-to-java.lang.ClassNotFoundException--while-class-is-clearly-reachable..-td22478383.html#a22699492&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.nabble.com/Uinable-to-use-Table-function-due-to-java.lang.ClassNotFoundException--while-class-is-clearly-reachable..-td22478383.html#a22699492&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12419647">DERBY-4126</key>
            <summary>You can&apos;t invoke a table function which is stored in a jar file inside the database</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rhillegas">Rick Hillegas</assignee>
                                    <reporter username="rhillegas">Rick Hillegas</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Mar 2009 13:56:44 +0000</created>
                <updated>Tue, 14 Apr 2009 00:05:21 +0100</updated>
                            <resolved>Tue, 31 Mar 2009 17:49:46 +0100</resolved>
                                    <version>10.4.1.3</version>
                    <version>10.4.2.0</version>
                    <version>10.5.1.1</version>
                    <version>10.6.1.0</version>
                                    <fixVersion>10.4.2.1</fixVersion>
                    <fixVersion>10.5.1.1</fixVersion>
                    <fixVersion>10.6.1.0</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12689935" author="rhillegas" created="Fri, 27 Mar 2009 15:19:50 +0000"  >&lt;p&gt;Attaching derby-4126-01-aa-useSessionClassloader.diff. This patch causes Derby to lookup VTI optimizer overrides using the session&apos;s classloader. This fixes the bug. I will run regression tests now.&lt;/p&gt;

&lt;p&gt;Touches the following files:&lt;/p&gt;

&lt;p&gt;M      java/engine/org/apache/derby/impl/sql/compile/FromVTI.java&lt;/p&gt;

&lt;p&gt;Use the session class loader when looking for optimizer overrides.&lt;/p&gt;


&lt;p&gt;A      java/testing/org/apache/derbyTesting/functionTests/tests/lang/dummy_vti.jar&lt;br/&gt;
M      java/testing/org/apache/derbyTesting/functionTests/tests/lang/DatabaseClassLoadingTest.java&lt;/p&gt;

&lt;p&gt;New test to verify that this fixes the problem.&lt;/p&gt;</comment>
                            <comment id="12690007" author="rhillegas" created="Fri, 27 Mar 2009 19:02:16 +0000"  >&lt;p&gt;Attaching second rev of the patch. The regression tests turned up a follow-on problem: in order to determine if the VTI class implements VTICosting, we need to get the VTICosting class from the same classloader as the table function class. Running tests again...&lt;/p&gt;</comment>
                            <comment id="12690119" author="rhillegas" created="Fri, 27 Mar 2009 21:42:39 +0000"  >&lt;p&gt;Tests ran cleanly for me except for the heisenbug in the stress-multi tests. Committed second rev of the patch at subversion revision 759360.&lt;/p&gt;</comment>
                            <comment id="12690121" author="rhillegas" created="Fri, 27 Mar 2009 21:49:37 +0000"  >&lt;p&gt;Ported 759360 from main to 10.5 branch at subversion revision 759363.&lt;/p&gt;</comment>
                            <comment id="12693783" author="rhillegas" created="Mon, 30 Mar 2009 15:17:04 +0100"  >&lt;p&gt;Ported 759360 from main to 10.4 branch at subversion revision 759978.&lt;/p&gt;</comment>
                            <comment id="12694179" author="rhillegas" created="Tue, 31 Mar 2009 17:49:46 +0100"  >&lt;p&gt;Krzysztof, who reported this bug, says that the fix works for him. Closing this bug.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12421593">DERBY-4131</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12421638">DERBY-4133</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12403813" name="derby-4126-01-aa-useSessionClassloader.diff" size="5888" author="rhillegas" created="Fri, 27 Mar 2009 15:19:50 +0000"/>
                            <attachment id="12403834" name="derby-4126-01-ab-useSessionClassloader.diff" size="6285" author="rhillegas" created="Fri, 27 Mar 2009 19:02:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>24042</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0y8n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39365</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>