<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:23:18 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-205/DERBY-205.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-205] Rename  org.apache.derby.impl.drda.DB2jServerImpl to NetworkServerControlImpl</title>
                <link>https://issues.apache.org/jira/browse/DERBY-205</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;For historical reasons the class DB2jServerImpl, which implements the public NetworkServerControl interface is  inappropriately named.  It should be renamed to NetworkServerControlImpl&lt;/p&gt;</description>
                <environment></environment>
        <key id="31580">DERBY-205</key>
            <summary>Rename  org.apache.derby.impl.drda.DB2jServerImpl to NetworkServerControlImpl</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.png">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dagw">Dag H. Wanvik</assignee>
                                    <reporter username="kmarsden">Kathey Marsden</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Apr 2005 09:49:44 +0100</created>
                <updated>Sat, 11 Jun 2005 04:32:43 +0100</updated>
                            <resolved>Sat, 11 Jun 2005 04:10:57 +0100</resolved>
                                    <version>10.1.1.0</version>
                                    <fixVersion>10.1.1.0</fixVersion>
                                    <component>Network Server</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="64471" author="dagw" created="Thu, 5 May 2005 01:06:37 +0100"  >&lt;p&gt;In the soon-to-be NetworkServerControlImpl.java (was: DB2jServerImpl.java), I also found these &quot;db2&quot; identifiers:&lt;/p&gt;

&lt;p&gt;   startDB2j()&lt;br/&gt;
   DB2J_PROP_STREAM_ERROR_FIELD&lt;br/&gt;
   DB2J_PROP_STREAM_ERROR_METHOD&lt;br/&gt;
   DB2J_PROP_STREAM_ERROR_FILE&lt;/p&gt;

&lt;p&gt;Should these be renamed as well? &lt;br/&gt;
Also two comments mention &quot;db2j.log&quot;. I could not find any other reference to that file in the sources. Is this a historical reference to the present &quot;derby.log&quot;?&lt;/p&gt;</comment>
                            <comment id="66069" author="dagw" created="Tue, 24 May 2005 01:46:24 +0100"  >&lt;p&gt;This is the second patch for this issue.&lt;br/&gt;
I have sent in the ICLA. See mail thread:&lt;br/&gt;
&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/db-derby-dev/200505.mbox/%3c4278E9B2.9060503@sbcglobal.net%3e&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mail-archives.apache.org/mod_mbox/db-derby-dev/200505.mbox/%3c4278E9B2.9060503@sbcglobal.net%3e&lt;/a&gt;&lt;br/&gt;
for discussions leading up to this patch.&lt;/p&gt;</comment>
                            <comment id="66070" author="dagw" created="Tue, 24 May 2005 01:55:55 +0100"  >&lt;p&gt;205b.diff does this:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Removed the (redundant) reading of these stream name properties from&lt;br/&gt;
  NetworkServerControlImpl.java:&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;            derby.stream.error.file&lt;br/&gt;
	    derby.stream.error.method&lt;br/&gt;
	    derby.stream.error.field&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Modified DRDAConnThread.java to get the stream name via&lt;br/&gt;
  Monitor.getStream().getName (a new method). DRDAConnThread was the&lt;br/&gt;
  sole client and reason for the redundancy Kathey spotted.&lt;/li&gt;
	&lt;li&gt;Augmented HeaderPrintWriter interface with a new method, getName.&lt;/li&gt;
	&lt;li&gt;Augmented BasicHeaderPrintWriter to hold the stream name of the&lt;br/&gt;
  error log.&lt;/li&gt;
	&lt;li&gt;Moved hard coded constants for the stream name attributes from&lt;br/&gt;
  SingleStream.java to the Property interface and documented them there.&lt;/li&gt;
	&lt;li&gt;Removed the errorLogLocation field and the getErrorLogLocation from&lt;br/&gt;
  NetworkServerControlImpl.java&lt;/li&gt;
	&lt;li&gt;Cleaned up some Javadoc for the items I touched.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I have run derbyall with JDK1.4.2 on Solaris/x86. derbyall runs with&lt;br/&gt;
errors, but the same errors are present on a clean checkout as well&lt;br/&gt;
(parameterMapping, backupRestore1). Hope somebody cleans that up...&lt;/p&gt;

&lt;p&gt;I could not see that the tests tested either the &quot;.method&quot; or the&lt;br/&gt;
&quot;.field&quot; propeties in any way, and thus not the precedence relation&lt;br/&gt;
between them either. It could be a good idea to add tests for that,&lt;br/&gt;
perhaps.&lt;/p&gt;</comment>
                            <comment id="66804" author="dagw" created="Thu, 2 Jun 2005 08:44:36 +0100"  >&lt;p&gt;A revised version of the second patch for this issue.  &lt;/p&gt;

&lt;p&gt;What changed: A new test, errorStream.java, has been added. Otherwise,&lt;br/&gt;
the description of 205b.diff still applies.&lt;/p&gt;

&lt;p&gt;The test tests the correct operation of the error stream properties&lt;br/&gt;
touched by the code changes (see previous comment on this issue which&lt;br/&gt;
details code changes).&lt;/p&gt;

&lt;p&gt;I ran derbyall with two errors:&lt;/p&gt;

&lt;p&gt;derbyall/derbyall.fail:lang/wisconsin.sql&lt;br/&gt;
derbyall/derbynetclientmats/derbynetmats.fail:lang/updatableResultSet.java&lt;/p&gt;</comment>
                            <comment id="66847" author="kmarsden" created="Thu, 2 Jun 2005 20:44:45 +0100"  >&lt;p&gt;The cleanup of the error stream properties and the new test looks great, but I see this diff with the new lang/errorStream test.&lt;br/&gt;
------------------------------------------------------&lt;br/&gt;
Framework: embedded&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;Start: errorStream jdk1.4.2_07 2005-06-02 03:28:08 ***&lt;br/&gt;
3 del&lt;br/&gt;
&amp;lt; xxxxxxFILTERED-TIMESTAMPxxxxxGMT Thread&lt;span class=&quot;error&quot;&gt;&amp;#91;main,5,main&amp;#93;&lt;/span&gt; java.io.FileNotFoundException: xxxFILTERED_PATHxxx/Vombatus&lt;br/&gt;
UrsinusHirsutus-file-2.log (No such file or directory)&lt;br/&gt;
3a3&lt;br/&gt;
&amp;gt; xxxxxxFILTERED-TIMESTAMPxxxxxGMT Thread&lt;span class=&quot;error&quot;&gt;&amp;#91;main,5,main&amp;#93;&lt;/span&gt; java.io.FileNotFoundException: xxxFILTERED_PATHxxx/Vombatus&lt;br/&gt;
UrsinusHirsutus-file-2.log (The system cannot find the path specified)&lt;br/&gt;
7 del&lt;br/&gt;
&amp;lt; on database directory xxxFILTERED_PATHxxx/VombatusUrsinusHirsutus-2&lt;br/&gt;
7a7&lt;br/&gt;
&amp;gt; on database directory D:\testout\errorStream\VombatusUrsinusHirsutus-2&lt;br/&gt;
18 del&lt;br/&gt;
&amp;lt; on database directory xxxFILTERED_PATHxxx/VombatusUrsinusHirsutus-4&lt;br/&gt;
18a18&lt;br/&gt;
&amp;gt; on database directory D:\testout\errorStream\VombatusUrsinusHirsutus-4&lt;br/&gt;
29 del&lt;br/&gt;
&amp;lt; on database directory xxxFILTERED_PATHxxx/VombatusUrsinusHirsutus-6&lt;br/&gt;
29a29&lt;br/&gt;
&amp;gt; on database directory D:\testout\errorStream\VombatusUrsinusHirsutus-6&lt;br/&gt;
Test Failed.&lt;/li&gt;
			&lt;li&gt;End:   errorStream jdk1.4.2_07 2005-06-02 03:30:22 ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="66853" author="kmarsden" created="Thu, 2 Jun 2005 22:28:16 +0100"  >&lt;p&gt;I checked in all but the addition to the suite.&lt;br/&gt;
That can come as a follow up patch when the sed issue with the test is fixed.&lt;/p&gt;

&lt;p&gt;Sending        java\drda\org\apache\derby\impl\drda\DRDAConnThread.java&lt;br/&gt;
Sending        java\drda\org\apache\derby\impl\drda\NetworkServerControlImpl.java&lt;br/&gt;
Sending        java\engine\org\apache\derby\iapi\reference\Property.java&lt;br/&gt;
Sending        java\engine\org\apache\derby\iapi\services\stream\HeaderPrintWriter.java&lt;br/&gt;
Sending        java\engine\org\apache\derby\impl\services\stream\BasicHeaderPrintWriter.java&lt;br/&gt;
Sending        java\engine\org\apache\derby\impl\services\stream\SingleStream.java&lt;br/&gt;
Adding         java\testing\org\apache\derbyTesting\functionTests\master\errorStream.out&lt;br/&gt;
Sending        java\testing\org\apache\derbyTesting\functionTests\suites\DerbyNet.exclude&lt;br/&gt;
Sending        java\testing\org\apache\derbyTesting\functionTests\suites\DerbyNetClient.exclude&lt;br/&gt;
Sending        java\testing\org\apache\derbyTesting\functionTests\tests\lang\copyfiles.ant&lt;br/&gt;
Adding         java\testing\org\apache\derbyTesting\functionTests\tests\lang\errorStream.java&lt;br/&gt;
Adding         java\testing\org\apache\derbyTesting\functionTests\tests\lang\errorStream_sed.properties&lt;br/&gt;
Transmitting file data ............&lt;br/&gt;
Committed revision 179584.&lt;/p&gt;</comment>
                            <comment id="66951" author="dagw" created="Fri, 3 Jun 2005 12:12:33 +0100"  >&lt;p&gt;This patch is a follow-up to the new test (lang/errorStream.java)&lt;br/&gt;
introduced by derby-205 (second patch). Its sed script was deficient,&lt;br/&gt;
so the test was not initially included in the suites. This patch:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;eliminates a Unix dependency in its canon file&lt;/li&gt;
	&lt;li&gt;eliminates a locale dependent string in the canon file&lt;/li&gt;
	&lt;li&gt;adds the test to the derbylang suite&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I have run the test stand-alone (on Solaris and Windows), and as part&lt;br/&gt;
of the suite derbylang (on Solaris).&lt;/p&gt;</comment>
                            <comment id="12312537" author="kmarsden" created="Sat, 4 Jun 2005 03:53:07 +0100"  >&lt;p&gt;Committed revision 179840 for test update on side item with this issue.&lt;/p&gt;

&lt;p&gt;This patch is a follow-up to the new test (lang/errorStream.java)&lt;br/&gt;
introduced by derby-205 (second patch). Its sed script was deficient,&lt;br/&gt;
so the test was not initially included in the suites. This patch:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;eliminates a Unix dependency in its canon file&lt;/li&gt;
	&lt;li&gt;eliminates a locale dependent string in the canon file&lt;/li&gt;
	&lt;li&gt;adds the test to the derbylang suite&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Note: the test will fail on second run if the test directory is not cleaned up.&lt;/p&gt;


&lt;p&gt;                                        Contributed by Dag Wanvik&lt;/p&gt;

&lt;p&gt;Modified:&lt;br/&gt;
    incubator/derby/code/trunk/java/testing/org/apache/derbyTesting/functionTests/master/errorStream.out&lt;br/&gt;
    incubator/derby/code/trunk/java/testing/org/apache/derbyTesting/functionTests/suites/derbylang.runall&lt;br/&gt;
    incubator/derby/code/trunk/java/testing/org/apache/derbyTesting/functionTests/tests/lang/errorStream_sed.properties&lt;/p&gt;
</comment>
                            <comment id="12312538" author="kmarsden" created="Sat, 4 Jun 2005 03:57:23 +0100"  >&lt;p&gt;rename done and also added cleanup and testing of derby.stream.error properties&lt;/p&gt;

&lt;p&gt;Thanks Dag!&lt;/p&gt;</comment>
                            <comment id="12312614" author="fuzzylogic" created="Sat, 4 Jun 2005 14:21:33 +0100"  >&lt;p&gt;Reopening to close as fixed. previous closure did not update resolved field.&lt;/p&gt;</comment>
                            <comment id="12313105" author="dagw" created="Thu, 9 Jun 2005 08:33:25 +0100"  >&lt;p&gt;intermittent failures in test introduced by the issue; lang/errorStream.java&lt;/p&gt;</comment>
                            <comment id="12313107" author="dagw" created="Thu, 9 Jun 2005 08:39:31 +0100"  >&lt;p&gt;This patch (uploaded 205d.&lt;/p&gt;
{stat,diff}
&lt;p&gt;) modifies the test&lt;br/&gt;
lang/errorStream.java introduced as part of Derby-205 to remove the&lt;br/&gt;
intermittent failures seen (e.g. by Army).  The failures happen due to&lt;br/&gt;
slight variation in output merging of System.err and System.out, due&lt;br/&gt;
to this test&apos;s expected output to System.err (for its negative test&lt;br/&gt;
cases).&lt;/p&gt;

&lt;p&gt;I discussed this change with Kathey on IRC and I hope this captures&lt;br/&gt;
what we agreed on &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;

&lt;p&gt;The change temporarily redirects System.err for each test scenario to&lt;br/&gt;
capture the expected output on a scenario specific file (so no output&lt;br/&gt;
is expected via System.err to the test&apos;s normal output file).  The&lt;br/&gt;
scenario specific files are now checked for contents (or not,&lt;br/&gt;
according to the actual scenario), in the same way as similar files&lt;br/&gt;
for the positive test cases. The redirects happen around each Derby boot&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;shutdown sequence used in the test to verify correct behavior of&lt;br/&gt;
derby.stream.error.* flags.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The change has the added benefit of eliminating the need for a special&lt;br/&gt;
*_sed.properties file for the test.&lt;/p&gt;

&lt;p&gt;I have run the test successfully stand-alone on:&lt;/p&gt;

&lt;p&gt;  Solaris x86 (stand-alone and as part of derbylang suite), &lt;br/&gt;
  Linux (stand-alone) and &lt;br/&gt;
  Windows XP/Cygwin (stand-alone). &lt;/p&gt;

</comment>
                            <comment id="12313123" author="kmarsden" created="Thu, 9 Jun 2005 13:44:22 +0100"  >&lt;p&gt;Checked in this change&lt;/p&gt;

&lt;p&gt;Sending        java\testing\org\apache\derbyTesting\functionTests\master\errorStream.out&lt;br/&gt;
Sending        java\testing\org\apache\derbyTesting\functionTests\tests\lang\copyfiles.ant&lt;br/&gt;
Sending        java\testing\org\apache\derbyTesting\functionTests\tests\lang\errorStream.java&lt;br/&gt;
Transmitting file data ...&lt;br/&gt;
Committed revision 189696.&lt;br/&gt;
Deleting       java\testing\org\apache\derbyTesting\functionTests\tests\lang\errorStream_sed.properties&lt;/p&gt;

&lt;p&gt;Committed revision 189697.&lt;/p&gt;</comment>
                            <comment id="12313314" author="dagw" created="Sat, 11 Jun 2005 04:10:57 +0100"  >&lt;p&gt;i reopened this issue to handle the intermittent errors with the test, fixed now.&lt;/p&gt;</comment>
                            <comment id="12313315" author="dagw" created="Sat, 11 Jun 2005 04:12:49 +0100"  >&lt;p&gt;for reporter to close &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12313318" author="kmarsden" created="Sat, 11 Jun 2005 04:32:43 +0100"  >&lt;p&gt;all fixed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="20375" name="205b-rev1.diff" size="33018" author="dagw" created="Thu, 2 Jun 2005 08:26:15 +0100"/>
                            <attachment id="20374" name="205b-rev1.stat" size="1041" author="dagw" created="Thu, 2 Jun 2005 08:26:15 +0100"/>
                            <attachment id="20397" name="205c.diff" size="3827" author="dagw" created="Fri, 3 Jun 2005 12:12:33 +0100"/>
                            <attachment id="20396" name="205c.stat" size="259" author="dagw" created="Fri, 3 Jun 2005 12:12:33 +0100"/>
                            <attachment id="12310620" name="205d.diff" size="8366" author="dagw" created="Thu, 9 Jun 2005 08:39:31 +0100"/>
                            <attachment id="12310619" name="205d.stat" size="346" author="dagw" created="Thu, 9 Jun 2005 08:39:31 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 5 May 2005 00:06:37 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>29434</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy1813:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40951</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>