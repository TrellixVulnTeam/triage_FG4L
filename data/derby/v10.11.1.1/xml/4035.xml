<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:10:15 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-4035/DERBY-4035.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-4035] i18n tests fail with Lexical error on z/os </title>
                <link>https://issues.apache.org/jira/browse/DERBY-4035</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;On z/os  the following tests fail with a Lexical error e.g.&lt;br/&gt;
 ERROR 42X02: Lexical error at line 1, column 1.  Encountered: &quot;`&quot; (96), after : &quot;&quot;.  There also seems to be some garbage in the output.  The tests that fail with these errors are:&lt;br/&gt;
derbyall/derbyall.fail:i18n/JapanCodeConversion.sql&lt;br/&gt;
derbyall/derbyall.fail:i18n/UnicodeEscape_JP.sql&lt;br/&gt;
derbyall/derbyall.fail:i18n/I18NImportExport.sql&lt;br/&gt;
derbyall/derbyall.fail:i18n/urlLocale.sql&lt;br/&gt;
derbyall/derbyall.fail:i18n/messageLocale.sql&lt;br/&gt;
derbyall/derbyall.fail:i18n/caseI_tr_TR.sql&lt;br/&gt;
derbyall/derbyall.fail:i18n/iepnegativetests_ES.sql&lt;/p&gt;


&lt;p&gt;The error I think is coming from ij, it is not in the derby.log and there is not a stack trace anywhere.&lt;/p&gt;

</description>
                <environment>java version &amp;quot;1.6.0&amp;quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build pmz6460sr3-20081108_01(SR3))&lt;br/&gt;
IBM J9 VM (build 2.4, J2RE 1.6.0 IBM J9 2.4 z/OS s390x-64 jvmmz6460-20081107_25433 (JIT enabled, AOT enabled)&lt;br/&gt;
J9VM - 20081105_025433_BHdSMr&lt;br/&gt;
JIT  - r9_20081031_1330&lt;br/&gt;
GC   - 20081027_AB)&lt;br/&gt;
JCL  - 20081106_01&lt;br/&gt;
$</environment>
        <key id="12413546">DERBY-4035</key>
            <summary>i18n tests fail with Lexical error on z/os </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kmarsden">Kathey Marsden</assignee>
                                    <reporter username="kmarsden">Kathey Marsden</reporter>
                        <labels>
                            <label>derby_triage10_5_2</label>
                    </labels>
                <created>Thu, 29 Jan 2009 18:18:45 +0000</created>
                <updated>Wed, 21 Jan 2015 00:23:34 +0000</updated>
                            <resolved>Fri, 14 Jun 2013 17:56:09 +0100</resolved>
                                    <version>10.3.3.0</version>
                    <version>10.5.1.1</version>
                                    <fixVersion>10.10.2.0</fixVersion>
                    <fixVersion>10.11.1.1</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                            <comments>
                            <comment id="12668585" author="kmarsden" created="Thu, 29 Jan 2009 20:22:08 +0000"  >&lt;p&gt;This seems to be related to the fact that the i18n tests are run with derby.ui.codeset=UTF8.  The input sql file is EBCDIC on Z  so this really mangles things.  The change to have the i18n tests run with derby.ui.codeset=UTF8 was made as the fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-244&quot; title=&quot;with linux, depending on env setting $LANG and console encoding, some i18n tests fail&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-244&quot;&gt;&lt;del&gt;DERBY-244&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;If I force the derby.ui.codeset to EBCDIC the test doesn&apos;t pass but fails only with a bit of garbage of the form EnC:&amp;gt;65533&amp;lt;  EnC:&amp;gt;655533...  at the beginning of the file before the version prints.  The rest of the output is as expected.&lt;/p&gt;
</comment>
                            <comment id="12668806" author="knutanders" created="Fri, 30 Jan 2009 10:25:20 +0000"  >&lt;p&gt;Kathey, I&apos;m not sure I understand what you mean by &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;the&amp;#93;&lt;/span&gt; input sql file is EBCDIC on Z&quot;. Are there separate input sql files for Z for these tests, and if so, where can I find them?&lt;/p&gt;</comment>
                            <comment id="12668908" author="kmarsden" created="Fri, 30 Jan 2009 16:09:07 +0000"  >&lt;p&gt;The test harness rewrites the sql file in the native encoding to the test directory and then runs the test from there. So after you run the test (if it fails or if you run with keepfiels) you see in the test directory the sql file, for example: JapanCodeConversion.sql     &lt;/p&gt;

&lt;p&gt;It is this sql file that is in the native encoding and is causing the problem when fed to ij with derby.ui.codeset=UTF-8.&lt;/p&gt;

&lt;p&gt;In the RunTest code, this copy happens I think near line 710 where we have:&lt;br/&gt;
710:&lt;br/&gt;
    // Read the test file and copy it to the outDir&lt;br/&gt;
            // except for multi tests (for multi we just need to locate it)&lt;br/&gt;
            BufferedReader in = new BufferedReader(new InputStreamReader(is, &quot;UTF-8&quot;));&lt;br/&gt;
...&lt;br/&gt;
715&lt;br/&gt;
script = new File((new File(userdir, scriptFileName)).getCanonicalPath()); &lt;br/&gt;
...&lt;br/&gt;
732:&lt;br/&gt;
   PrintWriter pw = null;&lt;br/&gt;
            pw = new PrintWriter( new BufferedWriter&lt;br/&gt;
                (new FileWriter(script.getPath()), 10000), true );&lt;/p&gt;

&lt;p&gt;            String str = &quot;&quot;;&lt;br/&gt;
            while ( (str = in.readLine()) != null )&lt;/p&gt;
            {
                pw.println(str);
            }



</comment>
                            <comment id="12669635" author="knutanders" created="Mon, 2 Feb 2009 15:45:42 +0000"  >&lt;p&gt;RunTest also has a section which sets file.encoding to UTF-8 when running the i18n tests. What happens if you change that too to EBCDIC? (We&apos;re not really supposed to change file.encoding, so that might explain why we have problems with these tests.) I&apos;m not sure, but there may be some characters in the input files that are not possible to represent in EBCDIC so that we won&apos;t get these tests to run anyway as long as we copy the input files to the native encoding first (I don&apos;t remember, but I think that may have been the reason why we set file.encoding to UTF-8 for these tests, but apparently it didn&apos;t work as we had hoped).&lt;/p&gt;

&lt;p&gt;Now all the setting of different encoding flags in RunTest is getting very complex (derby.ui.codeset, console.encoding, file.encoding, derbyTesting.encoding all set to different values depending on platform, JVM, name of test), so I&apos;m beginning to think that it is easier to convert these tests to JUnit and control the encoding per test, rather than trying to clean up the mess in RunTest.&lt;/p&gt;</comment>
                            <comment id="12726904" author="knutanders" created="Fri, 3 Jul 2009 12:29:17 +0100"  >&lt;p&gt;Triaged for 10.5.2. Changing component to Test since the discussion indicates this is a problem with the old test harness.&lt;/p&gt;</comment>
                            <comment id="13680069" author="kmarsden" created="Tue, 11 Jun 2013 01:07:13 +0100"  >&lt;p&gt;Attaching patch (derby-4035_I18NImportExport_diff.txt) to bring i18n/I18NImportExport in as a ScriptTestCase. Not converting because ij functionality LOCALIZED DISPLAY ON is being tested.&lt;/p&gt;</comment>
                            <comment id="13681201" author="kmarsden" created="Wed, 12 Jun 2013 14:08:30 +0100"  >&lt;p&gt;derby-4035_I18NImportExport_ieptestsnegative_diff.txt brings in the conversion also for ieptestnegativetests_ES.sql and removes the i18n derbyall suite.&lt;/p&gt;

&lt;p&gt;Running suites.All and derbyall.&lt;/p&gt;</comment>
                            <comment id="13681545" author="jira-bot" created="Wed, 12 Jun 2013 20:30:51 +0100"  >&lt;p&gt;Commit 1492393 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kmarsden&quot; class=&quot;user-hover&quot; rel=&quot;kmarsden&quot;&gt;Kathey Marsden&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1492393&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1492393&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4035&quot; title=&quot;i18n tests fail with Lexical error on z/os &quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4035&quot;&gt;&lt;del&gt;DERBY-4035&lt;/del&gt;&lt;/a&gt; i18n tests fail with Lexical error on z/os&lt;/p&gt;

&lt;p&gt;Complete conversion of i18nTest suite.&lt;br/&gt;
I18NImportExport change to ScriptTestCase&lt;br/&gt;
iepnegativetests_ES changed to extend tools/ImportExportProcedureTest which has &lt;br/&gt;
conversion for iepnegativetests&lt;/p&gt;</comment>
                            <comment id="13682204" author="jira-bot" created="Thu, 13 Jun 2013 13:52:24 +0100"  >&lt;p&gt;Commit 1492652 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kmarsden&quot; class=&quot;user-hover&quot; rel=&quot;kmarsden&quot;&gt;Kathey Marsden&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1492652&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1492652&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4035&quot; title=&quot;i18n tests fail with Lexical error on z/os &quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4035&quot;&gt;&lt;del&gt;DERBY-4035&lt;/del&gt;&lt;/a&gt; i18n tests fail with Lexical error on z/os&lt;br/&gt;
merge from trunk ...&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6244&quot; title=&quot;convert i18n/caseI_tr_TR.sql to JUnit&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6244&quot;&gt;&lt;del&gt;DERBY-6244&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
convert i18n/caseI_tr_TR.sql to JUnit&lt;br/&gt;
1489924&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6246&quot; title=&quot;convert i18n/urlLocale.sql  to JUnit&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6246&quot;&gt;&lt;del&gt;DERBY-6246&lt;/del&gt;&lt;/a&gt; convert i18n/urlLocale.sql  to JUnit&lt;br/&gt;
1490716 &lt;br/&gt;
1491364 &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6255&quot; title=&quot;convert i18n/messageLocale.sql&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6255&quot;&gt;&lt;del&gt;DERBY-6255&lt;/del&gt;&lt;/a&gt; convert i18n/messageLocale.sql to JUnit&lt;br/&gt;
1491542 &lt;br/&gt;
1491590&lt;br/&gt;
1492088&lt;/p&gt;

&lt;p&gt;convert ieptestsnegative_ES and I18NImportExport&lt;br/&gt;
1492393&lt;/p&gt;</comment>
                            <comment id="14284823" author="myrna" created="Wed, 21 Jan 2015 00:23:34 +0000"  >&lt;p&gt;bulk change to close all issues resolved but not closed and not changed since June 1, 2014.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12352250">DERBY-1915</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12587172" name="derby-4035_I18NImportExport_diff.txt" size="5019" author="kmarsden" created="Tue, 11 Jun 2013 01:07:13 +0100"/>
                            <attachment id="12587432" name="derby-4035_I18NImportExport_ieptestsnegative_diff.txt" size="36615" author="kmarsden" created="Wed, 12 Jun 2013 14:08:30 +0100"/>
                    </attachments>
                <subtasks>
                            <subtask id="12650752">DERBY-6244</subtask>
                            <subtask id="12651136">DERBY-6246</subtask>
                            <subtask id="12651732">DERBY-6255</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10369"><![CDATA[Regression Test Failure]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 30 Jan 2009 10:25:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23980</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0ijj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36822</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310050" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Urgency</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10052"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>