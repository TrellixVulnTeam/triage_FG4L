<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:10:35 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-4720/DERBY-4720.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-4720] Allow boolean-valued expressions in select lists</title>
                <link>https://issues.apache.org/jira/browse/DERBY-4720</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;When the BOOLEAN datatype was disabled, the grammar was peppered with special checks to make sure that expressions like &quot;a &amp;gt; 10&quot; did not appear in the SELECT list. Perhaps this was done to reduce the number of cases in which BOOLEAN values could be materialized as columns in queries. That is, however, an unsatisfying reason because you could always materialize BOOLEAN columns by selecting from certain system tables. In any event, the SQL grammar allows these expressions in the SELECT list and we should re-enable them as part of exposing BOOLEAN as a full-fledged Derby datatype.&lt;/p&gt;

&lt;p&gt;I intend to re-enable these expressions per the SQL spec. If anyone knows of a reason why this should not be allowed, please speak up. Thanks.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12468086">DERBY-4720</key>
            <summary>Allow boolean-valued expressions in select lists</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rhillegas">Rick Hillegas</assignee>
                                    <reporter username="rhillegas">Rick Hillegas</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Jun 2010 20:53:01 +0100</created>
                <updated>Mon, 29 Nov 2010 14:20:51 +0000</updated>
                            <resolved>Fri, 2 Jul 2010 15:10:57 +0100</resolved>
                                    <version>10.6.1.0</version>
                                    <fixVersion>10.7.1.1</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12883925" author="rhillegas" created="Wed, 30 Jun 2010 14:46:57 +0100"  >&lt;p&gt;Attaching derby-4720-01-ac-allowBooleanExpressions.diff. This patch makes it possible to use boolean-valued expressions in several situations required by the SQL Standard. The tests ran cleanly for me.&lt;/p&gt;

&lt;p&gt;The grammar was changed as follows:&lt;/p&gt;

&lt;p&gt;1) The inSelectClause arguments were rototilled out of productions which return ValueNode. Those arguments were added when the BOOLEAN datatype was disabled. Their purpose was to reject BOOLEAN-valued expressions in the situations listed in (2) below. This rototill accounts for most of the changes to the parser.&lt;/p&gt;

&lt;p&gt;2) Calls to additiveExpression() were replaced by calls to orExpression() in the following productions. This allows unparenthesized boolean expressions to appear in SELECT lists, as columns in VALUES constructors, as arguments to FUNCTIONs and PROCEDUREs, and as targets of SET clauses. The Derby productions do not map exactly to the productions in the SQL grammar. The orExpression() production lies above additiveExpression() in Derby&apos;s grammar. That is, it is more general. It is possible that an even more general production might bring us even closer to the SQL Standard. However, orExpression() seemed to me to be the minimal production required to allow unparenthesized boolean-valued expressions. Generalizing this further seems to me to be beyond the scope of this JIRA.&lt;/p&gt;

&lt;p&gt;i) derivedColumn() (SELECT list)&lt;/p&gt;

&lt;p&gt;ii) rowValueConstructor() (VALUES clause)&lt;/p&gt;

&lt;p&gt;iii) methodParameter() (routine arguments)&lt;/p&gt;

&lt;p&gt;iv) updateSource() (SET clauses)&lt;/p&gt;


&lt;p&gt;Touches the following files:&lt;/p&gt;

&lt;p&gt;---------&lt;/p&gt;

&lt;p&gt;M      java/engine/org/apache/derby/impl/sql/compile/sqlgrammar.jj&lt;/p&gt;

&lt;p&gt;Grammar changes described above.&lt;/p&gt;

&lt;p&gt;---------&lt;/p&gt;

&lt;p&gt;M      java/testing/org/apache/derbyTesting/functionTests/tests/lang/BooleanValuesTest.java&lt;/p&gt;

&lt;p&gt;New test case. More extensive testing is provided by the revised tests below.&lt;/p&gt;

&lt;p&gt;---------&lt;/p&gt;

&lt;p&gt;M      java/testing/org/apache/derbyTesting/functionTests/tests/lang/logop.sql&lt;br/&gt;
M      java/testing/org/apache/derbyTesting/functionTests/tests/lang/valuesclause.sql&lt;br/&gt;
M      java/testing/org/apache/derbyTesting/functionTests/tests/lang/subquery2.sql&lt;br/&gt;
M      java/testing/org/apache/derbyTesting/functionTests/tests/lang/schemas.sql&lt;br/&gt;
M      java/testing/org/apache/derbyTesting/functionTests/master/subquery.out&lt;br/&gt;
M      java/testing/org/apache/derbyTesting/functionTests/master/logop.out&lt;br/&gt;
M      java/testing/org/apache/derbyTesting/functionTests/master/valuesclause.out&lt;br/&gt;
M      java/testing/org/apache/derbyTesting/functionTests/master/subquery2.out&lt;br/&gt;
M      java/testing/org/apache/derbyTesting/functionTests/master/schemas.out&lt;br/&gt;
M      java/testing/org/apache/derbyTesting/functionTests/master/aggregate.out&lt;/p&gt;

&lt;p&gt;Changes to existing tests to account for the fact that boolean expressions can now appear in other situations required by the SQL Standard.&lt;/p&gt;</comment>
                            <comment id="12884679" author="rhillegas" created="Fri, 2 Jul 2010 15:10:57 +0100"  >&lt;p&gt;Committed patch at subversion revision 959991.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12313174">DERBY-499</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12448397" name="derby-4720-01-ac-allowBooleanExpressions.diff" size="66430" author="rhillegas" created="Wed, 30 Jun 2010 14:46:56 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31346</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0oxb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37856</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>