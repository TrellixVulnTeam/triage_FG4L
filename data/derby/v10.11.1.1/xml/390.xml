<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:10:27 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-390/DERBY-390.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-390] Import/export  fails   with table names that are quoted in SQL  like import  to table  &quot;Order&quot;</title>
                <link>https://issues.apache.org/jira/browse/DERBY-390</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;import  fails   irrespective off whether the name is passed as  a quoted sttring or not:&lt;br/&gt;
ij&amp;gt; call SYSCS_UTIL.SYSCS_IMPORT_TABLE (null, &apos;&quot;ORDER&quot;&apos; , &apos;order.dat&apos; ,&lt;br/&gt;
                                      null, null, null, 0) ;&lt;br/&gt;
ERROR XIE0M: Table &apos;&quot;ORDER&quot;&apos; does not exist.&lt;br/&gt;
ij&amp;gt; call SYSCS_UTIL.SYSCS_IMPORT_TABLE (null, &apos;ORDER&apos; , &apos;order.dat&apos; ,&lt;br/&gt;
                                      null, null, null, 0) ;&lt;br/&gt;
ERROR 38000: The exception &apos;SQL Exception: Syntax error: Encountered &quot;ORDER&quot; at&lt;br/&gt;
line 1, column 13.&apos; was thrown while evaluating an expression.&lt;br/&gt;
ERROR 42X01: Syntax error: Encountered &quot;ORDER&quot; at line 1, column 13.&lt;/p&gt;

&lt;p&gt;Export works with  a quoted table name but fails if the name is not quoted :&lt;br/&gt;
call SYSCS_UTIL.SYSCS_EXPORT_TABLE (null, &apos;&quot;ORDER&quot;&apos; , &apos;order.dat&apos; ,&lt;br/&gt;
                                 null, null, null) ;   &amp;#8212; PASSES&lt;/p&gt;

&lt;p&gt;ij&amp;gt; call SYSCS_UTIL.SYSCS_EXPORT_TABLE (null, &apos;ORDER&apos; , &apos;order.dat&apos; ,&lt;br/&gt;
                                 null, null, null) ;&lt;br/&gt;
ERROR 38000: The exception &apos;SQL Exception: Syntax error: Encountered &quot;ORDER&quot; at&lt;br/&gt;
line 1, column 15.&apos; was thrown while evaluating an expression.&lt;br/&gt;
ERROR 42X01: Syntax error: Encountered &quot;ORDER&quot; at line 1, column 15.&lt;/p&gt;



&lt;p&gt;Repro:&lt;br/&gt;
connect &apos;jdbc:derby:wombat;create=true&apos;;&lt;br/&gt;
create table &quot;ORDER&quot;(a int ) ;&lt;br/&gt;
insert into &quot;ORDER&quot; values(1) ;&lt;br/&gt;
insert into &quot;ORDER&quot; values(2) ;&lt;br/&gt;
insert into &quot;ORDER&quot; values(3) ;&lt;br/&gt;
call SYSCS_UTIL.SYSCS_EXPORT_TABLE (null, &apos;&quot;ORDER&quot;&apos; , &apos;order.dat&apos; ,&lt;br/&gt;
                                 null, null, null) ;&lt;br/&gt;
&amp;#8211; Perform Import&lt;br/&gt;
call SYSCS_UTIL.SYSCS_IMPORT_TABLE (null, &apos;&quot;ORDER&quot;&apos; , &apos;order.dat&apos; ,&lt;br/&gt;
                                      null, null, null, 0) ;&lt;/p&gt;

&lt;p&gt;ERROR XIE0M: Table &apos;&quot;ORDER&quot;&apos; does not exist.&lt;br/&gt;
call SYSCS_UTIL.SYSCS_IMPORT_TABLE (null, &apos;ORDER&apos; , &apos;order.dat&apos; ,&lt;br/&gt;
                                      null, null, null, 0) ;&lt;br/&gt;
ERROR 38000: The exception &apos;SQL Exception: Syntax error: Encountered &quot;ORDER&quot; at&lt;br/&gt;
line 1, column 13.&apos; was thrown while evaluating an expression.&lt;br/&gt;
ERROR 42X01: Syntax error: Encountered &quot;ORDER&quot; at line 1, column 13.&lt;/p&gt;


&lt;p&gt;Note:  I think  the same problem will occur with  when  quoted schema Names and column names are passed to import/export procedures. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12311652">DERBY-390</key>
            <summary>Import/export  fails   with table names that are quoted in SQL  like import  to table  &quot;Order&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tsuresh">Suresh Thalamati</assignee>
                                    <reporter username="tsuresh">Suresh Thalamati</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 Jun 2005 03:45:18 +0100</created>
                <updated>Tue, 10 Oct 2006 10:31:21 +0100</updated>
                            <resolved>Wed, 13 Jul 2005 10:51:11 +0100</resolved>
                                    <version>10.0.2.1</version>
                                    <fixVersion>10.1.1.0</fixVersion>
                    <fixVersion>10.2.1.6</fixVersion>
                                    <component>Tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                            <comments>
                            <comment id="12314344" author="tsuresh" created="Fri, 24 Jun 2005 04:42:27 +0100"  >&lt;p&gt;There are  two ways to  fix  this problem:&lt;br/&gt;
1) Import/Export   should  treat   schema Names ,  table  Names , Column Names  as  case-insensitive , unless delimited by double quotes.   For  example ,   valid call for a quoted table name is :&lt;br/&gt;
call SYSCS_UTIL.SYSCS_IMPORT_TABLE (null, &apos;&quot;ORDER&quot;&apos; , &apos;order.dat&apos; ,  null, null, null, 0) ; &lt;br/&gt;
call SYSCS_UTIL.SYSCS_EXPORT_TABLE (null, &apos;&quot;ORDER&quot;&apos; , &apos;order.dat&apos; , null, null, null) ; &lt;/p&gt;

&lt;p&gt;Note that  table name is passed is delimited by double quotes. &lt;/p&gt;

&lt;p&gt;2) Import/Export   should  treat   schema Names ,  table  Names , Column Names  as  case sensitive.   Because &lt;br/&gt;
the   database  automatically translated the SQL identifier into uppercase by the system.    All unquoted &lt;br/&gt;
table names ..etc  should  be passed in   upper case.   For example:&lt;br/&gt;
To import/export into  a   table emp (create table emp(a int ) ) .&lt;br/&gt;
call SYSCS_UTIL.SYSCS_IMPORT_TABLE (null, &apos;EMP&apos; , &apos;emp.dat&apos; ,  null, null, null, 0) ; &lt;br/&gt;
call SYSCS_UTIL.SYSCS_EXPORT_TABLE (null, &apos;EMP&apos; , &apos;emp.dat&apos; , null, null, null) ; &lt;/p&gt;

&lt;p&gt;Note that  table name is passed in upper case. &lt;/p&gt;

&lt;p&gt;I like the first approach  because it  is more  consistent with SQL92 names and users need not  pass  upper case&lt;br/&gt;
names   for  all  unquoted names(cases insensitive  names).    and also will not break any existing application that&lt;br/&gt;
might be working becasue  current import/export procedures   accepts  names in case-insensitive form. &lt;br/&gt;
 I would like to  fix this problem with the first approach,   unless some one has objections. &lt;/p&gt;


</comment>
                            <comment id="12314415" author="tsuresh" created="Sat, 25 Jun 2005 04:08:54 +0100"  >&lt;p&gt;By  looking at other system procedures  and the way JDBC methods takes the table names,    it looks like following  the second approach is more consistent with other system procedures in Derby.   i.e&lt;br/&gt;
Import/Export should treat schema Names , table Names , Column Names as case sensitive. Because&lt;br/&gt;
the database automatically translated the SQL identifier into uppercase by the system. All unquoted&lt;br/&gt;
table names ..etc  should be passed in upper case to import/export procedure. &lt;/p&gt;

&lt;p&gt;Any comments ?&lt;/p&gt;
</comment>
                            <comment id="12314426" author="bandaram" created="Sat, 25 Jun 2005 07:25:45 +0100"  >&lt;p&gt;I agree with the suggestion for system procedures to treat arguments as case sensitive. This has the unwanted side-effect of requiring users to provide table/column names (unquoted identifiers) in upper case while calling system procedures and hence should be documented clearly. Can we add the documentation, where applicable, for 10.1 manuals?&lt;/p&gt;

&lt;p&gt;This should also go into release notes, I think.&lt;/p&gt;</comment>
                            <comment id="12314798" author="tsuresh" created="Fri, 1 Jul 2005 04:11:46 +0100"  >&lt;p&gt;patch to  handle case-sensitive SQL identifiers correctly.   Import/export procedure  parameters  for &lt;br/&gt;
table names , schema names , columns names should be passed in the case-sensitive form &lt;br/&gt;
if they are quoted identfiers and  in upper case if they are not quoted SQL identifiers. Import/export &lt;br/&gt;
will  generate   insert/select statements with quoted table names , schema name and column names &lt;br/&gt;
to be execute on the database after this patch.&lt;/p&gt;


&lt;p&gt;Ran debyall test suite  , all tests passed. &lt;/p&gt;

&lt;p&gt;I will create sub-task to modify the documentaion for import/export , once the patch is accepted. &lt;br/&gt;
I would like  this fix to  be ported to 10.1 also. &lt;/p&gt;
</comment>
                            <comment id="12314842" author="tsuresh" created="Fri, 1 Jul 2005 11:49:16 +0100"  >&lt;p&gt;Same patch (derby390.diff) also works fine for 10.1 branch also. Ran Derbyall on 10.1 after applying the patch for a 10.1 client ,  all tests passed. &lt;/p&gt;</comment>
                            <comment id="12315648" author="tsuresh" created="Wed, 13 Jul 2005 10:51:11 +0100"  >&lt;p&gt;patch was committed to 10.1 branch wiith svn  208776&lt;br/&gt;
patch was committed to 10.2 (main)  branch wiith svn  208770&lt;/p&gt;</comment>
                            <comment id="12420357" author="rhillegas" created="Wed, 12 Jul 2006 00:55:57 +0100"  >&lt;p&gt;Assigning to Tools component.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12311035" name="derby390.diff" size="184985" author="tsuresh" created="Fri, 1 Jul 2005 04:11:45 +0100"/>
                    </attachments>
                <subtasks>
                            <subtask id="12311851">DERBY-426</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 25 Jun 2005 06:25:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>21929</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy14br:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40351</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>