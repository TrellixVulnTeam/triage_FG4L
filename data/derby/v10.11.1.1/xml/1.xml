<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:46:12 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-1/DERBY-1.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-1] Can&apos;t create a new db on OS X</title>
                <link>https://issues.apache.org/jira/browse/DERBY-1</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;This problem does not occur when I use the same jars on Linux.&lt;/p&gt;

&lt;p&gt;I am unable to create a new database in ij by using the following command:&lt;/p&gt;

&lt;p&gt;connect &apos;jdbc:derby:testdb;create=true&apos;;&lt;/p&gt;

&lt;p&gt;I get the following output:&lt;/p&gt;

&lt;p&gt;ERROR XJ041: Failed to create database &apos;testdb&apos;, see the next exception for details.&lt;br/&gt;
ERROR XBM01: Startup failed due to an exception, see next exception for details.&lt;br/&gt;
ERROR XJ001: Java exception: &apos;/Users/tom/dev/java/derby-bin/lib/testdb/log/log1.dat (File exists): java.io.FileNotFoundException&apos;.&lt;/p&gt;

&lt;p&gt;All users have write permissions to the directory so it&apos;s not getting blocked there.  I&apos;m not sure what&apos;s going on.  I&apos;ve included the contents of derby.log below.  I&apos;ve also included the result of running sysinfo on my machine below that.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
2004-09-24 20:33:53.762 GMT:&lt;br/&gt;
 Booting Derby version IBM Corp. - Apache Derby - 10.0.2.0 - (30301): instance c013800d-00ff-3226-5601-00000015bd70&lt;br/&gt;
on database directory /Users/tom/dev/java/derby-bin/lib/testdb &lt;/p&gt;


&lt;p&gt;2004-09-24 20:33:53.821 GMT:&lt;br/&gt;
Shutting down instance c013800d-00ff-3226-5601-00000015bd70&lt;br/&gt;
----------------------------------------------------------------&lt;br/&gt;
2004-09-24 20:33:53.837 GMT Thread&lt;span class=&quot;error&quot;&gt;&amp;#91;main,5,main&amp;#93;&lt;/span&gt; Cleanup action starting&lt;br/&gt;
ERROR XBM01: Startup failed due to an exception, see next exception for details.&lt;br/&gt;
        at org.apache.derby.iapi.error.StandardException.newException(StandardException.java)&lt;br/&gt;
        at org.apache.derby.iapi.services.monitor.Monitor.exceptionStartingModule(Monitor.java)&lt;br/&gt;
        at org.apache.derby.impl.store.raw.log.LogToFile.boot(LogToFile.java)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.java)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.TopService.bootModule(TopService.java)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.startModule(BaseMonitor.java)&lt;br/&gt;
        at org.apache.derby.iapi.services.monitor.Monitor.bootServiceModule(Monitor.java)&lt;br/&gt;
        at org.apache.derby.impl.store.raw.data.BaseDataFileFactory.bootLogFactory(BaseDataFileFactory.java)&lt;br/&gt;
        at org.apache.derby.impl.store.raw.data.BaseDataFileFactory.setRawStoreFactory(BaseDataFileFactory.java)&lt;br/&gt;
        at org.apache.derby.impl.store.raw.RawStore.boot(RawStore.java)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.java)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.TopService.bootModule(TopService.java)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.startModule(BaseMonitor.java)&lt;br/&gt;
        at org.apache.derby.iapi.services.monitor.Monitor.bootServiceModule(Monitor.java)&lt;br/&gt;
        at org.apache.derby.impl.store.access.RAMAccessManager.boot(RAMAccessManager.java)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.java)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.TopService.bootModule(TopService.java)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.startModule(BaseMonitor.java)&lt;br/&gt;
        at org.apache.derby.iapi.services.monitor.Monitor.bootServiceModule(Monitor.java)&lt;br/&gt;
        at org.apache.derby.impl.db.BasicDatabase.bootStore(BasicDatabase.java)&lt;br/&gt;
        at org.apache.derby.impl.db.BasicDatabase.boot(BasicDatabase.java)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.java)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.TopService.bootModule(TopService.java)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.bootService(BaseMonitor.java)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.createPersistentService(BaseMonitor.java)&lt;br/&gt;
        at org.apache.derby.iapi.services.monitor.Monitor.createPersistentService(Monitor.java)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.EmbedConnection.createDatabase(EmbedConnection.java)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(EmbedConnection.java)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.EmbedConnection20.&amp;lt;init&amp;gt;(EmbedConnection20.java)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.EmbedConnection30.&amp;lt;init&amp;gt;(EmbedConnection30.java)&lt;br/&gt;
        at org.apache.derby.jdbc.Driver30.getNewEmbedConnection(Driver30.java)&lt;br/&gt;
        at org.apache.derby.jdbc.Driver169.connect(Driver169.java)&lt;br/&gt;
        at java.sql.DriverManager.getConnection(DriverManager.java:512)&lt;br/&gt;
        at java.sql.DriverManager.getConnection(DriverManager.java:140)&lt;br/&gt;
        at org.apache.derby.impl.tools.ij.ij.dynamicConnection(ij.java)&lt;br/&gt;
        at org.apache.derby.impl.tools.ij.ij.ConnectStatement(ij.java)&lt;br/&gt;
        at org.apache.derby.impl.tools.ij.ij.ijStatement(ij.java)&lt;br/&gt;
        at org.apache.derby.impl.tools.ij.utilMain.go(utilMain.java)&lt;br/&gt;
        at org.apache.derby.impl.tools.ij.Main.go(Main.java)&lt;br/&gt;
        at org.apache.derby.impl.tools.ij.Main.mainCore(Main.java)&lt;br/&gt;
        at org.apache.derby.impl.tools.ij.Main14.main(Main14.java)&lt;br/&gt;
        at org.apache.derby.tools.ij.main(ij.java)&lt;br/&gt;
============= begin nested exception, level (1) ===========&lt;br/&gt;
java.io.FileNotFoundException: /Users/tom/dev/java/derby-bin/lib/log/log1.dat (File exists)&lt;br/&gt;
        at java.io.RandomAccessFile.open(Native Method)&lt;br/&gt;
        at java.io.RandomAccessFile.&amp;lt;init&amp;gt;(RandomAccessFile.java:204)&lt;br/&gt;
        at org.apache.derby.impl.io.DirRandomAccessFile.&amp;lt;init&amp;gt;(DirRandomAccessFile.java)&lt;br/&gt;
        at org.apache.derby.impl.io.DirRandomAccessFile4.&amp;lt;init&amp;gt;(DirRandomAccessFile4.java)&lt;br/&gt;
        at org.apache.derby.impl.io.DirFile4.getRandomAccessFile(DirFile4.java)&lt;br/&gt;
        at org.apache.derby.impl.store.raw.log.LogToFile.run(LogToFile.java)&lt;br/&gt;
        at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
        at org.apache.derby.impl.store.raw.log.LogToFile.privRandomAccessFile(LogToFile.java)&lt;br/&gt;
        at org.apache.derby.impl.store.raw.log.LogToFile.boot(LogToFile.java)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.java)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.TopService.bootModule(TopService.java)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.startModule(BaseMonitor.java)&lt;br/&gt;
        at org.apache.derby.iapi.services.monitor.Monitor.bootServiceModule(Monitor.java)&lt;br/&gt;
        at org.apache.derby.impl.store.raw.data.BaseDataFileFactory.bootLogFactory(BaseDataFileFactory.java)&lt;br/&gt;
        at org.apache.derby.impl.store.raw.data.BaseDataFileFactory.setRawStoreFactory(BaseDataFileFactory.java)&lt;br/&gt;
        at org.apache.derby.impl.store.raw.RawStore.boot(RawStore.java)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.java)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.TopService.bootModule(TopService.java)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.startModule(BaseMonitor.java)&lt;br/&gt;
        at org.apache.derby.iapi.services.monitor.Monitor.bootServiceModule(Monitor.java)&lt;br/&gt;
        at org.apache.derby.impl.store.access.RAMAccessManager.boot(RAMAccessManager.java)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.java)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.TopService.bootModule(TopService.java)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.startModule(BaseMonitor.java)&lt;br/&gt;
        at org.apache.derby.iapi.services.monitor.Monitor.bootServiceModule(Monitor.java)&lt;br/&gt;
        at org.apache.derby.impl.db.BasicDatabase.bootStore(BasicDatabase.java)&lt;br/&gt;
        at org.apache.derby.impl.db.BasicDatabase.boot(BasicDatabase.java)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.java)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.TopService.bootModule(TopService.java)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.bootService(BaseMonitor.java)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.createPersistentService(BaseMonitor.java)&lt;br/&gt;
        at org.apache.derby.iapi.services.monitor.Monitor.createPersistentService(Monitor.java)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.EmbedConnection.createDatabase(EmbedConnection.java)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(EmbedConnection.java)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.EmbedConnection20.&amp;lt;init&amp;gt;(EmbedConnection20.java)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.EmbedConnection30.&amp;lt;init&amp;gt;(EmbedConnection30.java)&lt;br/&gt;
        at org.apache.derby.jdbc.Driver30.getNewEmbedConnection(Driver30.java)&lt;br/&gt;
        at org.apache.derby.jdbc.Driver169.connect(Driver169.java)&lt;br/&gt;
        at java.sql.DriverManager.getConnection(DriverManager.java:512)&lt;br/&gt;
        at java.sql.DriverManager.getConnection(DriverManager.java:140)&lt;br/&gt;
        at org.apache.derby.impl.tools.ij.ij.dynamicConnection(ij.java)&lt;br/&gt;
        at org.apache.derby.impl.tools.ij.ij.ConnectStatement(ij.java)&lt;br/&gt;
        at org.apache.derby.impl.tools.ij.ij.ijStatement(ij.java)&lt;br/&gt;
        at org.apache.derby.impl.tools.ij.utilMain.go(utilMain.java)&lt;br/&gt;
        at org.apache.derby.impl.tools.ij.Main.go(Main.java)&lt;br/&gt;
        at org.apache.derby.impl.tools.ij.Main.mainCore(Main.java)&lt;br/&gt;
        at org.apache.derby.impl.tools.ij.Main14.main(Main14.java)&lt;br/&gt;
        at org.apache.derby.tools.ij.main(ij.java)&lt;br/&gt;
============= end nested exception, level (1) ===========&lt;br/&gt;
Cleanup action completed&lt;/p&gt;


&lt;p&gt;------------------ Java Information ------------------&lt;br/&gt;
Java Version:    1.4.2_05&lt;br/&gt;
Java Vendor:     Apple Computer, Inc.&lt;br/&gt;
Java home:       /System/Library/Frameworks/JavaVM.framework/Versions/1.4.2/Home&lt;br/&gt;
Java classpath:  /Users/tom/dev/java/derby-bin/lib/derby.jar:/Users/tom/dev/java/derby-bin/lib/derbytools.jar:/Users/tom/dev/java/derby-bin/lib/derbynet.jar:/Users/tom/dev/java/derby-bin/lib/db2jcc.jar:/Users/tom/dev/java/derby-bin/lib/db2jcc_license_c.jar&lt;br/&gt;
OS name:         Mac OS X&lt;br/&gt;
OS architecture: ppc&lt;br/&gt;
OS version:      10.3.5&lt;br/&gt;
Java user name:  tom&lt;br/&gt;
Java user home:  /Users/tom&lt;br/&gt;
Java user dir:   /Users/tom/dev/java/derby-bin/lib&lt;br/&gt;
--------- Derby Information --------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;/Users/tom/dev/java/derby-bin/lib/derby.jar&amp;#93;&lt;/span&gt; 10.0.2.0 - (46005)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;/Users/tom/dev/java/derby-bin/lib/derbytools.jar&amp;#93;&lt;/span&gt; 10.0.2.0 - (46005)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;/Users/tom/dev/java/derby-bin/lib/derbynet.jar&amp;#93;&lt;/span&gt; 10.0.2.0 - (46005)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;/Users/tom/dev/java/derby-bin/lib/db2jcc.jar&amp;#93;&lt;/span&gt; 2.4 - (17)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;/Users/tom/dev/java/derby-bin/lib/db2jcc_license_c.jar&amp;#93;&lt;/span&gt; 2.4 - (17)&lt;br/&gt;
------------------------------------------------------&lt;br/&gt;
----------------- Locale Information -----------------&lt;br/&gt;
------------------------------------------------------&lt;/p&gt;
</description>
                <environment>OS X 10.3.5, Java 1.4.2_05, Dual G5</environment>
        <key id="27458">DERBY-1</key>
            <summary>Can&apos;t create a new db on OS X</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tsuresh">Suresh Thalamati</assignee>
                                    <reporter username="tsantos">Tom Santos</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 Sep 2004 22:22:40 +0100</created>
                <updated>Tue, 11 Jan 2011 16:36:09 +0000</updated>
                            <resolved>Wed, 19 Oct 2005 09:15:24 +0100</resolved>
                                    <version>10.0.2.0</version>
                                    <fixVersion>10.1.2.1</fixVersion>
                    <fixVersion>10.2.1.6</fixVersion>
                                    <component>Store</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="53405" author="occam" created="Sat, 25 Sep 2004 00:01:59 +0100"  >&lt;p&gt;This issue has been discussed on derby-dev including a patch which works on OSX and (I believe) should work elsewhere as well.  The relevant (thread and) post is:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://nagoya.apache.org/eyebrowse/ReadMsg?listName=derby-dev@db.apache.org&amp;amp;msgNo=233&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://nagoya.apache.org/eyebrowse/ReadMsg?listName=derby-dev@db.apache.org&amp;amp;msgNo=233&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It actually includes a fix for another (I suspect) bug as well.&lt;/p&gt;

&lt;p&gt;The gist of the fix is to change the write mode from &quot;rws&quot; (which causes an issue on OSX) to the less strenuous &quot;rwd&quot;.  The difference is that &quot;rws&quot; keeps metadata synchronously (as well as data) whereas &quot;rwd&quot; just does the data (and only the metadata &lt;em&gt;necessary&lt;/em&gt; to ensure the data is recoverable).  IOW, it&apos;s quite possible that &quot;rwd&quot; is the preferred mode for a high performance database.&lt;/p&gt;

&lt;p&gt;As for why &quot;rws&quot; has issues on OSX, the issue was unresolved as there are ambiguities in what OSX is doing, and what exactly &quot;rws&quot; should do under certain circumstances.  The interesting circumstance in this case is that a data file exists yet (presumably?) associated metadata files do not exist, possibly leading to the error.  That&apos;s my take on it anyway.  I have not had time to track it further, but it works with the patch on OSX.&lt;/p&gt;

&lt;p&gt;&lt;del&gt;=&lt;/del&gt;&lt;/p&gt;

&lt;p&gt;I&apos;m not sure what the process is to approve or disapprove my proposed patch.&lt;/p&gt;</comment>
                            <comment id="53406" author="hlavac" created="Sat, 25 Sep 2004 00:46:57 +0100"  >&lt;p&gt;Let me warn you though - we got suspiciously high throughput when using &quot;rwd&quot;, so we suspect it may not do what it is supposed to do, and crash recovery may not work as good as expected.&lt;/p&gt;</comment>
                            <comment id="53411" author="tsantos" created="Sun, 26 Sep 2004 00:30:07 +0100"  >&lt;p&gt;The &quot;rwd&quot; patch got it working for me.  Thanks much.&lt;/p&gt;</comment>
                            <comment id="53470" author="tsuresh" created="Tue, 28 Sep 2004 18:41:01 +0100"  >&lt;p&gt;There is a work around for this problem without applying any PATCH.&lt;br/&gt;
This problem occurs when &quot;write sync&quot; mechanisms (rws mode) is used to write log. Current system has a flag to disable write sync and use file sync to make sure logs are written to disk on commit. &lt;/p&gt;

&lt;p&gt;Write sync mode can be disabled by setting  &quot;derby.storage.fileSyncTransactionLog=true&quot; in derby.properties. When this property is set  to true  logging system does  file syncs on commits  similar to what happens on jvms before jdk142.&lt;/p&gt;


&lt;p&gt;My two cents on the patch:&lt;br/&gt;
As Jan mentioned before , I also don&apos;t believe &quot;rwd&quot; mode is doing sync writes on MAC OS. If syncs does not occur, users can have unrecoverable databases or lost data. Until Apple fixes &quot;rws/rwd&quot; bug.It would be safer for  users to use derby.storage.fileSyncTransactionLog  or have another PATCH that will identify MAC OS and make logging system use file sync until JVM bug is fixed. &lt;/p&gt;

&lt;p&gt;Although using &quot;rwd&quot; may provide better performance on some OS. I don&apos;t think it is safe to fix this problem. &lt;/p&gt;

&lt;p&gt;Having OS specific checks is not a clean solution, but I can not think of any other alternative way to fix this problem. Any ideas ?&lt;/p&gt;


</comment>
                            <comment id="53617" author="fuzzylogic" created="Sat, 2 Oct 2004 03:49:47 +0100"  >&lt;p&gt;FYI, I have reported the &quot;rws/rwd&quot; mode issue to Apple. It does not appear to have been fixed with the recent Java 1.4.2 Update 2 release.&lt;/p&gt;</comment>
                            <comment id="54067" author="djd" created="Thu, 14 Oct 2004 17:52:49 +0100"  >&lt;p&gt;Samuel Andrew McIntyre wrote:&lt;/p&gt;

&lt;p&gt;Here is a copy of the bug report I filed with Apple:&lt;br/&gt;
Summary:&lt;br/&gt;
java.io.RandomAccessFile in Java 1.4.2 Update 1 does not allow reopening files in &quot;rws&quot; mode if they have just been created. When a file is created with &quot;rw&quot; and then shortly thereafter a new RandomAccessFile object is instantiated for the same file in &quot;rws&quot; mode, the JVM throws a FileNotFoundException (File Exists). &quot;rw&quot; and &quot;rwd&quot; modes do not have this problem. This issue is hit when attempting to create or write to a&lt;br/&gt;
database with IBM Cloudscape/Apache Derby 10.0.&lt;/p&gt;


&lt;p&gt;The testcase referenced above is Suresh&apos;s TestWriteSync.java.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://nagoya.apache.org/eyebrowse/ReadMsg?listName=derby-dev@db.apache.org&amp;amp;msgNo=232&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://nagoya.apache.org/eyebrowse/ReadMsg?listName=derby-dev@db.apache.org&amp;amp;msgNo=232&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="54562" author="mzanier" created="Sun, 24 Oct 2004 20:58:46 +0100"  >&lt;p&gt;hi,&lt;/p&gt;

&lt;p&gt;where do i place this derby.properties file with derby.storage.fileSyncTransactionLog=true on os x, to create databases with bash or DBviz ?&lt;/p&gt;

&lt;p&gt;regards,&lt;br/&gt;
mario&lt;/p&gt;</comment>
                            <comment id="54632" author="ksaunders" created="Mon, 25 Oct 2004 21:26:44 +0100"  >&lt;p&gt;Mario,&lt;/p&gt;

&lt;p&gt;derby.properties must be placed in derby.system.home.  By default derby.system.home is your current directory when you start Derby.  You can read more about how to explicitly set derby.system.home to a directory of your choice in the Tuning Guide at &lt;a href=&quot;http://incubator.apache.org/derby/manuals/tuning/perf14.html#HDRSII-SETPROP-16827&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://incubator.apache.org/derby/manuals/tuning/perf14.html#HDRSII-SETPROP-16827&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="65028" author="fuzzylogic" created="Thu, 12 May 2005 02:42:13 +0100"  >&lt;p&gt;The underlying JVM issue has been fixed in Mac OS X 10.4 (Tiger), but remains a problem on Mac OS X 10.3.&lt;/p&gt;</comment>
                            <comment id="12315055" author="fuzzylogic" created="Tue, 5 Jul 2005 18:28:48 +0100"  >&lt;p&gt;There is a regression of &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1&quot; title=&quot;Can&amp;#39;t create a new db on OS X&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1&quot;&gt;&lt;del&gt;DERBY-1&lt;/del&gt;&lt;/a&gt; in the J2SE 5.0 Release 1 JVM for Mac OS X 10.4. The issue has been fixed in the JDK 1.4.2 JVM for Mac OS X 10.4, which is the default JVM, but identical errors to those seen on Mac OS X 10.3 with JDK 1.4.2 wiill be encountered with the 5.0 JVM for Mac OS X 10.4.&lt;/p&gt;</comment>
                            <comment id="12317371" author="bd49" created="Tue, 2 Aug 2005 06:20:46 +0100"  >&lt;p&gt;The problem has NOT been fixed in OS X 10.4 (Tiger), at least not with Java 1.5.0_02;  I just tried running Derby on a newly&lt;br/&gt;
installed Tiger system with Java 1.5 and get the same problem.&lt;/p&gt;</comment>
                            <comment id="12317727" author="bd49" created="Fri, 5 Aug 2005 11:06:58 +0100"  >&lt;p&gt;Suresh&apos;s TestWriteSync test FAILS on Tiger with Java 1.5.0_02&lt;/p&gt;

&lt;p&gt;Furthermore, derby.storage.fileSyncTransactionLog=true does not appear to solve&lt;br/&gt;
 the problem; I am able to create a database, but not add to it in a subsequent session.&lt;/p&gt;</comment>
                            <comment id="12317732" author="fuzzylogic" created="Fri, 5 Aug 2005 11:35:32 +0100"  >&lt;p&gt;Barnet,&lt;/p&gt;

&lt;p&gt;Are you sure you are setting the property derby.storage.fileSyncTransactionLog=true &lt;b&gt;every&lt;/b&gt; time you start up Derby and connect to the database? You must set this system property every time you start up Derby in order for it to work properly on Mac OS X 10.4 with J2SE 1.5 (JDK 1.5). I am able to create a database and insert data into tables in subsequent sessions so long as I set that system property every time.&lt;/p&gt;

&lt;p&gt;FYI, I reported the regression to Apple about a month ago, so they are aware of the problem.&lt;/p&gt;</comment>
                            <comment id="12317741" author="bd49" created="Fri, 5 Aug 2005 13:35:47 +0100"  >&lt;p&gt;Yes, my code is&lt;/p&gt;

&lt;p&gt;...&lt;br/&gt;
System.setProperty(&quot;derby.storage.fileSyncTransactionLog&quot;,&quot;true&quot;);&lt;br/&gt;
new org.apache.derby.jdbc.EmbeddedDriver();&lt;br/&gt;
con = DriverManager.getConnection(...);    &lt;br/&gt;
...&lt;/p&gt;

&lt;p&gt;and I only have one DriverManager.getConnection(...) call, except for an &lt;br/&gt;
explicit shutdown: &lt;br/&gt;
       DriverManager.getConnection(&quot;jdbc:derby:;shutdown=true&quot;); &lt;/p&gt;</comment>
                            <comment id="12317799" author="bd49" created="Sat, 6 Aug 2005 02:02:29 +0100"  >&lt;p&gt;I was wrong, derby.storage.fileSyncTransactionLog=true does fix the problem on Tiger with Java 1.5&lt;/p&gt;</comment>
                            <comment id="12331234" author="tsuresh" created="Tue, 4 Oct 2005 12:54:31 +0100"  >&lt;p&gt;I was hoping this issue will go away ,  but it seems to have appeared again in jdk1.5.  Although there is a workaround  by&lt;br/&gt;
setting derby.storage.fileSyncTransactionLog=true.  I think for users  who are just   tryingout  Derby , hitting this problem is very annoying.   &lt;br/&gt;
Resubmmitting  the workaround patch(derby1.diff)  for this problem againest main trunk.  This  patch  solves  the problem by  &lt;br/&gt;
Catching  the FileNotFoundException  then  set log write mode to file Sync   and then open the log files in plain &quot;rw&quot; mode.&lt;/p&gt;

&lt;p&gt;Although it  is a vendor spefic fix ,  I think  it will really help  users  tryingout derby on  Mac.  It would be great  if some one can review the&lt;br/&gt;
patch and reconsider it   for committing into 10.1 and main,  if there are no objections from the community. &lt;/p&gt;

&lt;p&gt;All  tests passed on WIndow  Xp.   &lt;/p&gt;

&lt;p&gt;My vote +1 . &lt;/p&gt;

</comment>
                            <comment id="12331723" author="tsuresh" created="Tue, 11 Oct 2005 02:13:46 +0100"  >&lt;p&gt;Merged this fix into 10.1 client from trunk and ran all functional tests. All  tests passes on jdk142/WindowsXP. &lt;br/&gt;
I  like to see this fix in 10.1 branch , it would  be great if some one could commit this into 10.1. &lt;/p&gt;

&lt;p&gt;Merge command:&lt;br/&gt;
svn merge -r 306822:306963 &lt;a href=&quot;https://svn.apache.org/repos/asf/db/derby/code/trunk&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/repos/asf/db/derby/code/trunk&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
-suresh&lt;/p&gt;</comment>
                            <comment id="12332357" author="kmarsden" created="Tue, 18 Oct 2005 22:35:12 +0100"  >&lt;p&gt;Changing fixin to 10.1.2 as Andrew indicated he would be merging it to 10.1&lt;/p&gt;</comment>
                            <comment id="12332420" author="fuzzylogic" created="Wed, 19 Oct 2005 09:15:24 +0100"  >&lt;p&gt;Merged fix to 10.1 branch with revision 326300.&lt;/p&gt;</comment>
                            <comment id="12551263" author="fuzzylogic" created="Thu, 13 Dec 2007 09:04:37 +0000"  >&lt;p&gt;This issue has been resolved for over a year with no further movement. Closing.&lt;/p&gt;</comment>
                            <comment id="12980167" author="dagw" created="Tue, 11 Jan 2011 16:36:09 +0000"  >&lt;p&gt;Andrew, did you ever find out of this JVM issue was fixed for Mac? Cf. discussion on &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4963&quot; title=&quot;Revert to FileDescriptor#sync from FileChannel#force to improve interrupt resilience&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4963&quot;&gt;&lt;del&gt;DERBY-4963&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="27592">DERBY-29</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12314697" name="derby1.diff" size="3279" author="" created="Tue, 4 Oct 2005 12:24:25 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 24 Sep 2004 23:01:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8399</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0o9r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37750</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>