<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:19:28 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-6437/DERBY-6437.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-6437] ConstraintCharachteristicsTest testLockingWithRollback or testLockingWithCommit failing on trunk with AssertionFailedError - isolation levels ...</title>
                <link>https://issues.apache.org/jira/browse/DERBY-6437</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Following failure on junit test runs on trunk(revision 1551810) with IBM jdk 1.7. Didn&apos;t find it logged in jira so might be a new failure&lt;br/&gt;
testLockingWithRollback(org.apache.derbyTesting.functionTests.tests.lang.ConstraintCharacteristicsTest)junit.framework.AssertionFailedError: isolation levels: 4 2&lt;/p&gt;

&lt;p&gt;1) testLockingWithRollback(org.apache.derbyTesting.functionTests.tests.lang.ConstraintCharacteristicsTest)junit.framework.AssertionFailedError: isolation levels: 4 2&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.ConstraintCharacteristicsTest.executeThreads(ConstraintCharacteristicsTest.java:1329)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.ConstraintCharacteristicsTest.testLockingWithRollback(ConstraintCharacteristicsTest.java:1276)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:88)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:118)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.runBareOverridable(BaseJDBCTestCase.java:440)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.runBare(BaseJDBCTestCase.java:457)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12685493">DERBY-6437</key>
            <summary>ConstraintCharachteristicsTest testLockingWithRollback or testLockingWithCommit failing on trunk with AssertionFailedError - isolation levels ...</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="myrna">Myrna van Lunteren</assignee>
                                    <reporter username="mamtas">Mamta A. Satoor</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Dec 2013 01:53:39 +0000</created>
                <updated>Wed, 21 Jan 2015 00:23:31 +0000</updated>
                            <resolved>Thu, 6 Feb 2014 17:58:04 +0000</resolved>
                                    <version>10.11.1.1</version>
                                    <fixVersion>10.11.1.1</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13865783" author="mikem" created="Wed, 8 Jan 2014 19:36:14 +0000"  >&lt;p&gt;failed ibm16, windows, trunk - intermittent error - passed day before and after on in same testing environment:&lt;br/&gt;
&lt;a href=&quot;http://people.apache.org/~myrnavl/derby_test_results/main/windows/testlog/ibm16/1553784-suites.All_diff.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://people.apache.org/~myrnavl/derby_test_results/main/windows/testlog/ibm16/1553784-suites.All_diff.txt&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13865801" author="mikem" created="Wed, 8 Jan 2014 19:50:33 +0000"  >&lt;p&gt;failed around 12/16, ibm16, windows, trunk - again worked day after and day before in same environment. This seems like first instance in quite awhile, quick look it had not failed in this environment nightly testing back to at least&lt;br/&gt;
10/27/13. In this run testLockingWithCommit also failed.&lt;br/&gt;
&lt;a href=&quot;http://people.apache.org/~myrnavl/derby_test_results/main/windows/testlog/ibm16/1551446-suites.All_diff.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://people.apache.org/~myrnavl/derby_test_results/main/windows/testlog/ibm16/1551446-suites.All_diff.txt&lt;/a&gt;&lt;br/&gt;
There were 2 failures:&lt;br/&gt;
1) testLockingWithCommit(org.apache.derbyTesting.functionTests.tests.lang.ConstraintCharacteristicsTest)junit.framework.ComparisonFailure: isolation levels: 8 8 expected:&amp;lt;&lt;span class=&quot;error&quot;&gt;&amp;#91;23505&amp;#93;&lt;/span&gt;&amp;gt; but was:&amp;lt;&lt;span class=&quot;error&quot;&gt;&amp;#91;40XL1&amp;#93;&lt;/span&gt;&amp;gt;&lt;br/&gt;
at org.apache.derbyTesting.junit.BaseJDBCTestCase.assertSQLState(BaseJDBCTestCase.java:876)&lt;br/&gt;
at org.apache.derbyTesting.functionTests.tests.lang.ConstraintCharacteristicsTest.executeThreads(ConstraintCharacteristicsTest.java:1324)&lt;br/&gt;
at org.apache.derbyTesting.functionTests.tests.lang.ConstraintCharacteristicsTest.testLockingWithCommit(ConstraintCharacteristicsTest.java:1251)&lt;br/&gt;
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:60)&lt;br/&gt;
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)&lt;br/&gt;
at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:118)&lt;br/&gt;
at org.apache.derbyTesting.junit.BaseJDBCTestCase.runBareOverridable(BaseJDBCTestCase.java:440)&lt;br/&gt;
at org.apache.derbyTesting.junit.BaseJDBCTestCase.runBare(BaseJDBCTestCase.java:457)&lt;br/&gt;
at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
Caused by: java.sql.SQLTransactionRollbackException: A lock could not be obtained within the time requested&lt;br/&gt;
at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source)&lt;br/&gt;
at org.apache.derby.impl.jdbc.Util.generateCsSQLException(Unknown Source)&lt;br/&gt;
at org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(Unknown Source)&lt;br/&gt;
at org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(Unknown Source)&lt;br/&gt;
at org.apache.derby.impl.jdbc.EmbedConnection.handleException(Unknown Source)&lt;br/&gt;
at org.apache.derby.impl.jdbc.ConnectionChild.handleException(Unknown Source)&lt;br/&gt;
at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(Unknown Source)&lt;br/&gt;
at org.apache.derby.impl.jdbc.EmbedStatement.execute(Unknown Source)&lt;br/&gt;
at org.apache.derby.impl.jdbc.EmbedStatement.executeLargeUpdate(Unknown Source)&lt;br/&gt;
at org.apache.derby.impl.jdbc.EmbedStatement.executeUpdate(Unknown Source)&lt;br/&gt;
at org.apache.derbyTesting.functionTests.tests.lang.DBOperations.insert(DBOperations.java:61)&lt;br/&gt;
at org.apache.derbyTesting.functionTests.tests.lang.DBOperations.run(DBOperations.java:103)&lt;br/&gt;
at java.lang.Thread.run(Thread.java:761)&lt;br/&gt;
Caused by: java.sql.SQLException: A lock could not be obtained within the time requested&lt;br/&gt;
at org.apache.derby.impl.jdbc.SQLExceptionFactory.wrapArgsForTransportAcrossDRDA(Unknown Source)&lt;br/&gt;
... 13 more&lt;br/&gt;
Caused by: ERROR 40XL1: A lock could not be obtained within the time requested&lt;br/&gt;
at org.apache.derby.iapi.error.StandardException.newException(Unknown Source)&lt;br/&gt;
at org.apache.derby.iapi.error.StandardException.newException(Unknown Source)&lt;br/&gt;
at org.apache.derby.impl.services.locks.ConcurrentLockSet.lockObject(Unknown Source)&lt;br/&gt;
at org.apache.derby.impl.services.locks.ConcurrentLockSet.zeroDurationLockObject(Unknown Source)&lt;br/&gt;
at org.apache.derby.impl.services.locks.AbstractPool.zeroDurationlockObject(Unknown Source)&lt;br/&gt;
at org.apache.derby.impl.services.locks.ConcurrentPool.zeroDurationlockObject(Unknown Source)&lt;br/&gt;
at org.apache.derby.impl.store.raw.xact.RowLocking3.zeroDurationLockRecordForWrite(Unknown Source)&lt;br/&gt;
at org.apache.derby.impl.store.access.heap.HeapController.lockRow(Unknown Source)&lt;br/&gt;
at org.apache.derby.impl.store.access.heap.HeapController.lockRow(Unknown Source)&lt;br/&gt;
at org.apache.derby.impl.store.access.btree.index.B2IRowLocking3.lockRowOnPage(Unknown Source)&lt;br/&gt;
at org.apache.derby.impl.store.access.btree.index.B2IRowLocking3.lockNonScanPreviousRow(Unknown Source)&lt;br/&gt;
at org.apache.derby.impl.store.access.btree.BTreeController.doIns(Unknown Source)&lt;br/&gt;
at org.apache.derby.impl.store.access.btree.BTreeController.insert(Unknown Source)&lt;br/&gt;
at org.apache.derby.impl.store.access.btree.index.B2IController.insert(Unknown Source)&lt;br/&gt;
at org.apache.derby.impl.sql.execute.IndexChanger.insertAndCheckDups(Unknown Source)&lt;br/&gt;
at org.apache.derby.impl.sql.execute.IndexChanger.doInsert(Unknown Source)&lt;br/&gt;
at org.apache.derby.impl.sql.execute.IndexChanger.insert(Unknown Source)&lt;br/&gt;
at org.apache.derby.impl.sql.execute.IndexSetChanger.insert(Unknown Source)&lt;br/&gt;
at org.apache.derby.impl.sql.execute.RowChangerImpl.insertRow(Unknown Source)&lt;br/&gt;
at org.apache.derby.impl.sql.execute.InsertResultSet.normalInsertCore(Unknown Source)&lt;br/&gt;
at org.apache.derby.impl.sql.execute.InsertResultSet.open(Unknown Source)&lt;br/&gt;
at org.apache.derby.impl.sql.GenericPreparedStatement.executeStmt(Unknown Source)&lt;br/&gt;
at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source)&lt;br/&gt;
... 7 more&lt;br/&gt;
2) testLockingWithRollback(org.apache.derbyTesting.functionTests.tests.lang.ConstraintCharacteristicsTest)junit.framework.AssertionFailedError: isolation levels: 1 4&lt;br/&gt;
at org.apache.derbyTesting.functionTests.tests.lang.ConstraintCharacteristicsTest.executeThreads(ConstraintCharacteristicsTest.java:1329)&lt;br/&gt;
at org.apache.derbyTesting.functionTests.tests.lang.ConstraintCharacteristicsTest.testLockingWithRollback(ConstraintCharacteristicsTest.java:1276)&lt;br/&gt;
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:60)&lt;br/&gt;
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)&lt;br/&gt;
at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:118)&lt;br/&gt;
at org.apache.derbyTesting.junit.BaseJDBCTestCase.runBareOverridable(BaseJDBCTestCase.java:440)&lt;br/&gt;
at org.apache.derbyTesting.junit.BaseJDBCTestCase.runBare(BaseJDBCTestCase.java:457)&lt;br/&gt;
at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;/p&gt;

&lt;p&gt;FAILURES!!!&lt;br/&gt;
Tests run: 18035, Failures: 2, Errors: 0&lt;/p&gt;</comment>
                            <comment id="13865804" author="mikem" created="Wed, 8 Jan 2014 19:54:14 +0000"  >&lt;p&gt;Also failed against ibm17, windows, trunk, nightly&apos;s.  Intermittent against ibm17 also, in this case test succeeded in&lt;br/&gt;
same environment/jvm combo the night before and after.  In this case both testLockingWithRollback and testLockingWithCommit failed in the same run:&lt;br/&gt;
&lt;a href=&quot;http://people.apache.org/~myrnavl/derby_test_results/main/windows/testlog/ibm17/1555313-suites.All_diff.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://people.apache.org/~myrnavl/derby_test_results/main/windows/testlog/ibm17/1555313-suites.All_diff.txt&lt;/a&gt;&lt;br/&gt;
There were 2 failures:&lt;br/&gt;
1) testLockingWithCommit(org.apache.derbyTesting.functionTests.tests.lang.ConstraintCharacteristicsTest)junit.framework.ComparisonFailure: isolation levels: 1 4 expected:&amp;lt;&lt;span class=&quot;error&quot;&gt;&amp;#91;23505&amp;#93;&lt;/span&gt;&amp;gt; but was:&amp;lt;&lt;span class=&quot;error&quot;&gt;&amp;#91;40XL1&amp;#93;&lt;/span&gt;&amp;gt;&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.assertSQLState(BaseJDBCTestCase.java:876)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.ConstraintCharacteristicsTest.executeThreads(ConstraintCharacteristicsTest.java:1339)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.ConstraintCharacteristicsTest.testLockingWithCommit(ConstraintCharacteristicsTest.java:1266)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:88)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:118)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.runBareOverridable(BaseJDBCTestCase.java:440)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.runBare(BaseJDBCTestCase.java:457)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
Caused by: java.sql.SQLTransactionRollbackException: A lock could not be obtained within the time requested&lt;br/&gt;
	at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.generateCsSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.handleException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.ConnectionChild.handleException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedStatement.execute(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedStatement.executeLargeUpdate(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedStatement.executeUpdate(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.DBOperations.insert(DBOperations.java:61)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.DBOperations.run(DBOperations.java:103)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:804)&lt;br/&gt;
Caused by: java.sql.SQLException: A lock could not be obtained within the time requested&lt;br/&gt;
	at org.apache.derby.impl.jdbc.SQLExceptionFactory.wrapArgsForTransportAcrossDRDA(Unknown Source)&lt;br/&gt;
	... 13 more&lt;br/&gt;
Caused by: ERROR 40XL1: A lock could not be obtained within the time requested&lt;br/&gt;
	at org.apache.derby.iapi.error.StandardException.newException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.iapi.error.StandardException.newException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.locks.ConcurrentLockSet.lockObject(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.locks.ConcurrentLockSet.zeroDurationLockObject(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.locks.AbstractPool.zeroDurationlockObject(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.locks.ConcurrentPool.zeroDurationlockObject(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.store.raw.xact.RowLocking2nohold.lockRecordForRead(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.store.access.heap.HeapController.lockRow(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.store.access.heap.HeapController.lockRow(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.store.access.btree.index.B2IRowLocking3.lockRowOnPage(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.store.access.btree.index.B2IRowLocking3._lockScanRow(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.store.access.btree.index.B2IRowLockingRR.lockScanRow(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.store.access.btree.BTreeForwardScan.fetchRows(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.store.access.btree.BTreeScan.next(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.execute.IndexChanger.insertAndCheckDups(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.execute.IndexChanger.doInsert(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.execute.IndexChanger.insert(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.execute.IndexSetChanger.insert(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.execute.RowChangerImpl.insertRow(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.execute.InsertResultSet.normalInsertCore(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.execute.InsertResultSet.open(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.GenericPreparedStatement.executeStmt(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source)&lt;br/&gt;
	... 7 more&lt;br/&gt;
2) testLockingWithRollback(org.apache.derbyTesting.functionTests.tests.lang.ConstraintCharacteristicsTest)junit.framework.AssertionFailedError: isolation levels: 1 4&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.ConstraintCharacteristicsTest.executeThreads(ConstraintCharacteristicsTest.java:1344)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.ConstraintCharacteristicsTest.testLockingWithRollback(ConstraintCharacteristicsTest.java:1291)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:88)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:118)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.runBareOverridable(BaseJDBCTestCase.java:440)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.runBare(BaseJDBCTestCase.java:457)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;/p&gt;

&lt;p&gt;FAILURES!!!&lt;br/&gt;
Tests run: 18143,  Failures: 2,  Errors: 0&lt;/p&gt;</comment>
                            <comment id="13865815" author="mikem" created="Wed, 8 Jan 2014 19:59:42 +0000"  >&lt;p&gt;another ibm17, windows, trunk instance of this intermittent error:&lt;br/&gt;
&lt;a href=&quot;http://people.apache.org/~myrnavl/derby_test_results/main/windows/testlog/ibm17/1551810-suites.All_diff.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://people.apache.org/~myrnavl/derby_test_results/main/windows/testlog/ibm17/1551810-suites.All_diff.txt&lt;/a&gt;&lt;br/&gt;
There was 1 failure:&lt;br/&gt;
1) testLockingWithRollback(org.apache.derbyTesting.functionTests.tests.lang.ConstraintCharacteristicsTest)junit.framework.AssertionFailedError: isolation levels: 4 2&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.ConstraintCharacteristicsTest.executeThreads(ConstraintCharacteristicsTest.java:1329)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.ConstraintCharacteristicsTest.testLockingWithRollback(ConstraintCharacteristicsTest.java:1276)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:88)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:118)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.runBareOverridable(BaseJDBCTestCase.java:440)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.runBare(BaseJDBCTestCase.java:457)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;/p&gt;

&lt;p&gt;FAILURES!!!&lt;br/&gt;
Tests run: 18140,  Failures: 1,  Errors: 0&lt;/p&gt;</comment>
                            <comment id="13866526" author="jira-bot" created="Thu, 9 Jan 2014 10:33:45 +0000"  >&lt;p&gt;Commit 1556780 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dagw&quot; class=&quot;user-hover&quot; rel=&quot;dagw&quot;&gt;Dag H. Wanvik&lt;/a&gt; in branch &apos;code/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1556780&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1556780&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6437&quot; title=&quot;ConstraintCharachteristicsTest testLockingWithRollback or testLockingWithCommit failing on trunk with AssertionFailedError - isolation levels ...&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6437&quot;&gt;&lt;del&gt;DERBY-6437&lt;/del&gt;&lt;/a&gt; testLockingWithRollback failing on trunk with AssertionFailedError - isolation levels: 4 2&lt;/p&gt;

&lt;p&gt;Added information about which exception caused the assertNull errors&lt;br/&gt;
in ConstraintCharacteristicsTest#executeThreads to help debugging.&lt;/p&gt;</comment>
                            <comment id="13876879" author="myrna" created="Mon, 20 Jan 2014 21:49:49 +0000"  >&lt;p&gt;This failed again, 1/10/2014, with ibm 1.7, windows 10.11.0.0 alpha (1557303).:&lt;br/&gt;
testLockingWithRollback(org.apache.derbyTesting.functionTests.tests.lang.ConstraintCharacteristicsTest)junit.framework.AssertionFailedError: isolation levels: 1 2: exception java.sql.SQLTransactionRollbackException: A lock could not be obtained within the time requested, see:&lt;br/&gt;
&lt;a href=&quot;http://people.apache.org/~myrnavl/derby_test_results/main/windows/testlog/ibm17/1557303-suites.All_diff.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://people.apache.org/~myrnavl/derby_test_results/main/windows/testlog/ibm17/1557303-suites.All_diff.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;1) testLockingWithRollback(org.apache.derbyTesting.functionTests.tests.lang.ConstraintCharacteristicsTest)junit.framework.AssertionFailedError: isolation levels: 1 2: exception java.sql.SQLTransactionRollbackException: A lock could not be obtained within the time requested&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.ConstraintCharacteristicsTest.executeThreads(ConstraintCharacteristicsTest.java:1344)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.ConstraintCharacteristicsTest.testLockingWithRollback(ConstraintCharacteristicsTest.java:1291)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:88)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:118)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.runBareOverridable(BaseJDBCTestCase.java:440)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.runBare(BaseJDBCTestCase.java:457)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;/p&gt;

&lt;p&gt;Also: &lt;br/&gt;
windows, 1/13/2014, 10.11.0.0 alpha - (1557908), ibm16:&lt;br/&gt;
&lt;a href=&quot;http://people.apache.org/~myrnavl/derby_test_results/main/windows/testlog/ibm16/1557908-suites.All_diff.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://people.apache.org/~myrnavl/derby_test_results/main/windows/testlog/ibm16/1557908-suites.All_diff.txt&lt;/a&gt;&lt;br/&gt;
1) testLockingWithCommit(org.apache.derbyTesting.functionTests.tests.lang.ConstraintCharacteristicsTest)junit.framework.ComparisonFailure: isolation levels: 4 4 expected:&amp;lt;&lt;span class=&quot;error&quot;&gt;&amp;#91;23505&amp;#93;&lt;/span&gt;&amp;gt; but was:&amp;lt;&lt;span class=&quot;error&quot;&gt;&amp;#91;40XL1&amp;#93;&lt;/span&gt;&amp;gt;&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.assertSQLState(BaseJDBCTestCase.java:876)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.ConstraintCharacteristicsTest.executeThreads(ConstraintCharacteristicsTest.java:1339)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.ConstraintCharacteristicsTest.testLockingWithCommit(ConstraintCharacteristicsTest.java:1266)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:60)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:118)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.runBareOverridable(BaseJDBCTestCase.java:440)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.runBare(BaseJDBCTestCase.java:457)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
Caused by: java.sql.SQLTransactionRollbackException: A lock could not be obtained within the time requested&lt;br/&gt;
	at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.generateCsSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.handleException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.ConnectionChild.handleException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedStatement.execute(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedStatement.executeLargeUpdate(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedStatement.executeUpdate(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.DBOperations.insert(DBOperations.java:61)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.DBOperations.run(DBOperations.java:103)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:761)&lt;br/&gt;
Caused by: java.sql.SQLException: A lock could not be obtained within the time requested&lt;br/&gt;
	at org.apache.derby.impl.jdbc.SQLExceptionFactory.wrapArgsForTransportAcrossDRDA(Unknown Source)&lt;br/&gt;
	... 13 more&lt;br/&gt;
Caused by: ERROR 40XL1: A lock could not be obtained within the time requested&lt;br/&gt;
	at org.apache.derby.iapi.error.StandardException.newException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.iapi.error.StandardException.newException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.locks.ConcurrentLockSet.lockObject(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.locks.ConcurrentLockSet.zeroDurationLockObject(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.locks.AbstractPool.zeroDurationlockObject(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.locks.ConcurrentPool.zeroDurationlockObject(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.store.raw.xact.RowLocking2nohold.lockRecordForRead(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.store.access.heap.HeapController.lockRow(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.store.access.heap.HeapController.lockRow(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.store.access.btree.index.B2IRowLocking3.lockRowOnPage(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.store.access.btree.index.B2IRowLocking3._lockScanRow(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.store.access.btree.index.B2IRowLockingRR.lockScanRow(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.store.access.btree.BTreeForwardScan.fetchRows(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.store.access.btree.BTreeScan.next(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.execute.IndexChanger.insertAndCheckDups(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.execute.IndexChanger.doInsert(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.execute.IndexChanger.insert(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.execute.IndexSetChanger.insert(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.execute.RowChangerImpl.insertRow(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.execute.InsertResultSet.normalInsertCore(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.execute.InsertResultSet.open(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.GenericPreparedStatement.executeStmt(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source)&lt;br/&gt;
	... 7 more&lt;/p&gt;

&lt;p&gt;1/16, windows, ibm 1.7, 10.11.0.0 alpha - (1558994):&lt;br/&gt;
&lt;a href=&quot;http://people.apache.org/~myrnavl/derby_test_results/main/windows/testlog/ibm17/1558994-suites.All_diff.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://people.apache.org/~myrnavl/derby_test_results/main/windows/testlog/ibm17/1558994-suites.All_diff.txt&lt;/a&gt;&lt;br/&gt;
testLockingWithCommit(org.apache.derbyTesting.functionTests.tests.lang.ConstraintCharacteristicsTest)junit.framework.ComparisonFailure: isolation levels: 2 1 expected:&amp;lt;&lt;span class=&quot;error&quot;&gt;&amp;#91;23505&amp;#93;&lt;/span&gt;&amp;gt; but was:&amp;lt;&lt;span class=&quot;error&quot;&gt;&amp;#91;40XL1&amp;#93;&lt;/span&gt;&amp;gt;&lt;br/&gt;
Stack:&lt;br/&gt;
testLockingWithCommit(org.apache.derbyTesting.functionTests.tests.lang.ConstraintCharacteristicsTest)junit.framework.ComparisonFailure: isolation levels: 2 1 expected:&amp;lt;&lt;span class=&quot;error&quot;&gt;&amp;#91;23505&amp;#93;&lt;/span&gt;&amp;gt; but was:&amp;lt;&lt;span class=&quot;error&quot;&gt;&amp;#91;40XL1&amp;#93;&lt;/span&gt;&amp;gt;&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.assertSQLState(BaseJDBCTestCase.java:876)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.ConstraintCharacteristicsTest.executeThreads(ConstraintCharacteristicsTest.java:1339)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.ConstraintCharacteristicsTest.testLockingWithCommit(ConstraintCharacteristicsTest.java:1266)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:88)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:118)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.runBareOverridable(BaseJDBCTestCase.java:440)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.runBare(BaseJDBCTestCase.java:457)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
Caused by: java.sql.SQLTransactionRollbackException: A lock could not be obtained within the time requested&lt;br/&gt;
	at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.generateCsSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.handleException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.ConnectionChild.handleException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedStatement.execute(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedStatement.executeLargeUpdate(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedStatement.executeUpdate(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.DBOperations.insert(DBOperations.java:61)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.DBOperations.run(DBOperations.java:103)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:804)&lt;br/&gt;
Caused by: java.sql.SQLException: A lock could not be obtained within the time requested&lt;br/&gt;
	at org.apache.derby.impl.jdbc.SQLExceptionFactory.wrapArgsForTransportAcrossDRDA(Unknown Source)&lt;br/&gt;
	... 13 more&lt;br/&gt;
Caused by: ERROR 40XL1: A lock could not be obtained within the time requested&lt;br/&gt;
	at org.apache.derby.iapi.error.StandardException.newException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.iapi.error.StandardException.newException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.locks.ConcurrentLockSet.lockObject(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.locks.ConcurrentLockSet.zeroDurationLockObject(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.locks.AbstractPool.zeroDurationlockObject(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.locks.ConcurrentPool.zeroDurationlockObject(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.store.raw.xact.RowLocking2nohold.lockRecordForRead(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.store.access.heap.HeapController.lockRow(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.store.access.heap.HeapController.lockRow(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.store.access.btree.index.B2IRowLocking3.lockRowOnPage(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.store.access.btree.index.B2IRowLocking3._lockScanRow(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.store.access.btree.index.B2IRowLockingRR.lockScanRow(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.store.access.btree.BTreeForwardScan.fetchRows(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.store.access.btree.BTreeScan.next(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.execute.IndexChanger.insertAndCheckDups(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.execute.IndexChanger.doInsert(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.execute.IndexChanger.insert(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.execute.IndexSetChanger.insert(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.execute.RowChangerImpl.insertRow(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.execute.InsertResultSet.normalInsertCore(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.execute.InsertResultSet.open(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.GenericPreparedStatement.executeStmt(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source)&lt;br/&gt;
	... 7 more&lt;/p&gt;

&lt;p&gt;I hope the extra debugging information gets us any further?&lt;/p&gt;</comment>
                            <comment id="13879132" author="myrna" created="Wed, 22 Jan 2014 20:18:55 +0000"  >&lt;p&gt;I tried to run this test 100x in sequence to see if it popped the problem, but it did not...&lt;/p&gt;</comment>
                            <comment id="13879144" author="myrna" created="Wed, 22 Jan 2014 20:31:25 +0000"  >&lt;p&gt;Yet it failed again in the nightly run of trunk (10.11 alpha built at revision 1560236) on windows 2008, with ibm 1.6:&lt;br/&gt;
&lt;a href=&quot;http://people.apache.org/~myrnavl/derby_test_results/main/windows/testlog/ibm16/1560236-suites.All_diff.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://people.apache.org/~myrnavl/derby_test_results/main/windows/testlog/ibm16/1560236-suites.All_diff.txt&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13880430" author="myrna" created="Thu, 23 Jan 2014 22:14:24 +0000"  >&lt;p&gt;Failed: &lt;a href=&quot;http://people.apache.org/~myrnavl/derby_test_results/main/windows/testlog/ibm16/1560574-suites.All_diff.txt:&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://people.apache.org/~myrnavl/derby_test_results/main/windows/testlog/ibm16/1560574-suites.All_diff.txt:&lt;/a&gt;&lt;br/&gt;
testLockingWithRollback(org.apache.derbyTesting.functionTests.tests.lang.ConstraintCharacteristicsTest)junit.framework.AssertionFailedError: isolation levels: 1 1: exception java.sql.SQLTransactionRollbackException: A lock could not be obtained within the time requested&lt;/p&gt;</comment>
                            <comment id="13886154" author="myrna" created="Thu, 30 Jan 2014 01:42:25 +0000"  >&lt;p&gt;Perhaps this is kicking in an open door, but I can make the tests - both testLockingWithRollback and testLockingWithCommit, and with embedded and networkserver - from the ConstraingCharacteristicsTest fail if I make the t.sleep e.g. 2000. &lt;br/&gt;
It then falls over from the following lines (trunk):&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;testLockingWithCommit(org.apache.derbyTesting.functionTests.tests.lang.ConstraintCharacteristicsTest)junit.framework.ComparisonFailure: isolation levels: 1 1 expected:&amp;lt;&lt;span class=&quot;error&quot;&gt;&amp;#91;23505&amp;#93;&lt;/span&gt;&amp;gt; but was:&amp;lt;&lt;span class=&quot;error&quot;&gt;&amp;#91;40XL1&amp;#93;&lt;/span&gt;&amp;gt;&lt;br/&gt;
        at org.apache.derbyTesting.functionTests.tests.lang.ConstraintCharacteristicsTest.executeThreads(ConstraintCharacteristicsTest.java:1339)&lt;br/&gt;
        at org.apache.derbyTesting.functionTests.tests.lang.ConstraintCharacteristicsTest.testLockingWithCommit(ConstraintCharacteristicsTest.java:1266)&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;testLockingWithRollback(org.apache.derbyTesting.functionTests.tests.lang.ConstraintCharacteristicsTest)junit.framework.AssertionFailedError: isolation levels: 1 1: exception java.sql.SQLTransactionRollbackException: A lock could not be obtained within the time requested&lt;br/&gt;
        at org.apache.derbyTesting.functionTests.tests.lang.ConstraintCharacteristicsTest.executeThreads(ConstraintCharacteristicsTest.java:1344)&lt;br/&gt;
        at org.apache.derbyTesting.functionTests.tests.lang.ConstraintCharacteristicsTest.testLockingWithRollback(ConstraintCharacteristicsTest.java:1291)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;In both cases this is on insert. &lt;/p&gt;</comment>
                            <comment id="13886791" author="myrna" created="Thu, 30 Jan 2014 17:12:07 +0000"  >&lt;p&gt;This patch changes the setting of derby.locks.waitTimeout for most tests - including the testLockingWithCommit and testLockingWithRollback to 500, but pulls out the testLocking testcase and gives it the same derby.locks.waitTimeout as before.&lt;/p&gt;

&lt;p&gt;With this arrangement the tests run in similar timeframes as before on my system, but I have hopes it will diminish the instability of the testLockingWithCommit and testLockingWithRollback.&lt;/p&gt;

&lt;p&gt;A review would be appreciated, but I intend to commit at the end of my day to ensure a couple of nightly runs to see if it did make an improvement.&lt;/p&gt;</comment>
                            <comment id="13887379" author="jira-bot" created="Fri, 31 Jan 2014 01:59:28 +0000"  >&lt;p&gt;Commit 1563032 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=myrna&quot; class=&quot;user-hover&quot; rel=&quot;myrna&quot;&gt;Myrna van Lunteren&lt;/a&gt; in branch &apos;code/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1563032&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1563032&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6437&quot; title=&quot;ConstraintCharachteristicsTest testLockingWithRollback or testLockingWithCommit failing on trunk with AssertionFailedError - isolation levels ...&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6437&quot;&gt;&lt;del&gt;DERBY-6437&lt;/del&gt;&lt;/a&gt;; ConstraintCharachteristicsTest testLockingWithRollback or testLockingWithCommit failing on trunk with AssertionFailedError - isolation levels ...&lt;br/&gt;
   adjusting the derby.locks.waitTimeout.&lt;/p&gt;</comment>
                            <comment id="13893593" author="myrna" created="Thu, 6 Feb 2014 17:58:05 +0000"  >&lt;p&gt;It&apos;s been a week and I&apos;ve not seen this fail again. I&apos;m resolving now, if it pops up again, this can be reopened.&lt;/p&gt;</comment>
                            <comment id="14284816" author="myrna" created="Wed, 21 Jan 2015 00:23:31 +0000"  >&lt;p&gt;bulk change to close all issues resolved but not closed and not changed since June 1, 2014.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12536840">DERBY-5563</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12654832">DERBY-6275</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12626127" name="DERBY-6437.diff1" size="2334" author="myrna" created="Thu, 30 Jan 2014 17:12:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 8 Jan 2014 19:36:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>364570</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzkonj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>364870</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310050" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Urgency</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10052"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>