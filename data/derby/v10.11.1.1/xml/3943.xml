<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:37:01 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-3943/DERBY-3943.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-3943] testReplication_Local_3_p2_StateTests_smallInsert_immediateStopMaster_DISABLED() causes hang in teardown()</title>
                <link>https://issues.apache.org/jira/browse/DERBY-3943</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;&apos;NetworkServerControl shutdown&apos; was attempted without having started servers and having a classpath:  &apos;-cp null&apos; causes hang on Windows. On Unix the call appears to just fall through.&lt;/p&gt;

&lt;p&gt;The fix is given in &lt;a href=&quot;http://www.nabble.com/fixture-ReplicationRun_Local_3_p2.....StopMaster_DISABLED%28%29-td20391564.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.nabble.com/fixture-ReplicationRun_Local_3_p2.....StopMaster_DISABLED%28%29-td20391564.html&lt;/a&gt; :&lt;br/&gt;
Comment out the whole fixture.&lt;/p&gt;
</description>
                <environment>Windows</environment>
        <key id="12408246">DERBY-3943</key>
            <summary>testReplication_Local_3_p2_StateTests_smallInsert_immediateStopMaster_DISABLED() causes hang in teardown()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="olesolberg">Ole Solberg</assignee>
                                    <reporter username="olesolberg">Ole Solberg</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Nov 2008 14:36:25 +0000</created>
                <updated>Mon, 29 Jun 2009 23:43:09 +0100</updated>
                            <resolved>Wed, 12 Nov 2008 18:01:56 +0000</resolved>
                                    <version>10.5.1.1</version>
                                    <fixVersion>10.5.1.1</fixVersion>
                                    <component>Replication</component>
                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12646558" author="olesolberg" created="Tue, 11 Nov 2008 14:39:53 +0000"  >&lt;p&gt;Comment out public void testReplication_Local_3_p2_StateTests_smallInsert_immediateStopMaster_DISABLED()&lt;/p&gt;</comment>
                            <comment id="12646595" author="myrna" created="Tue, 11 Nov 2008 17:05:21 +0000"  >&lt;p&gt;I did some experimenting, and it seems to me that this hang only occurs with certain jvms on certain windows implementations.&lt;/p&gt;

&lt;p&gt;And it&apos;s not just with NetworkServerControl shutdown, it&apos;s with any process where the class is not found.&lt;br/&gt;
I&apos;ll attach my simple repro...&lt;br/&gt;
For instance, I ran my repro on windows XP with jdk15, and ibm16 without any problem. I ran the repro - which just executes some non-existent class with the -cp null, then attempts a BufferedReader.readLine() - on windows 2000 with ibm15 and it finished, but with ibm16 (sr2) it hung.&lt;/p&gt;

&lt;p&gt;So...What combination jvm/version/OS did you use to see the hang?&lt;/p&gt;</comment>
                            <comment id="12646597" author="myrna" created="Tue, 11 Nov 2008 17:07:46 +0000"  >&lt;p&gt;repro for the hang not using any derby classes.&lt;/p&gt;</comment>
                            <comment id="12646600" author="myrna" created="Tue, 11 Nov 2008 17:09:41 +0000"  >&lt;p&gt;+1 to commit the patch to the test&lt;/p&gt;</comment>
                            <comment id="12646676" author="olesolberg" created="Tue, 11 Nov 2008 21:48:06 +0000"  >&lt;p&gt;I have seen the hang on the following:&lt;/p&gt;

&lt;p&gt;OS: Microsoft Windows XP Professional - 5.1.2600 Service Pack 3 Build 2600&lt;br/&gt;
    CYGWIN_NT-5.1 1.5.25(0.156/4/2) 2008-06-12 19:34 Cygwin&lt;br/&gt;
JVM: Sun Microsystems Inc.&lt;br/&gt;
     java version &quot;1.6.0_10&quot;&lt;br/&gt;
     Java(TM) SE Runtime Environment (build 1.6.0_10-b33)&lt;br/&gt;
     Java HotSpot(TM) Client VM (build 11.0-b15, mixed mode, sharing)&lt;/p&gt;

&lt;p&gt;OS: Microsoft&#169; Windows VistaT Ultimate - 6.0.6001 Service Pack 1&lt;br/&gt;
    WindowsNT 0 6&lt;br/&gt;
JVM: Sun Microsystems Inc.&lt;br/&gt;
     java version &quot;1.6.0_06&quot;&lt;br/&gt;
     Java(TM) SE Runtime Environment (build 1.6.0_06-b02)&lt;br/&gt;
     Java HotSpot(TM) Client VM (build 10.0-b22 mixed mode 32-bit)&lt;/p&gt;

&lt;p&gt;OS: Microsoft(R) Windows(R) Server 2003, - 5.2.3790 Service Pack 2&lt;br/&gt;
    WindowsNT 2 5&lt;br/&gt;
JVM: Sun Microsystems Inc.&lt;br/&gt;
     java version &quot;1.6.0_06&quot;&lt;br/&gt;
     Java(TM) SE Runtime Environment (build 1.6.0_06-b02)&lt;br/&gt;
     Java HotSpot(TM) Client VM (build 10.0-b22 mixed mode 32-bit)&lt;/p&gt;


&lt;p&gt;The hang does not happen on the above OSes when running 1.5 or 1.4 (Sun) JVMs  in our testing.&lt;/p&gt;

&lt;p&gt;The hang does not happen on any Solaris or Linux with 1.6, 1.5 or 1.4 (Sun) JVMs in our testing.&lt;/p&gt;
</comment>
                            <comment id="12646977" author="myrna" created="Wed, 12 Nov 2008 18:01:12 +0000"  >&lt;p&gt;I committed the patch with revision 713436.&lt;/p&gt;

&lt;p&gt;I&apos;ve seen the hang (with the repro and the test) on:&lt;br/&gt;
OS: Microsoft Windows 2000, 5.00.2195, Service Pack 4&lt;br/&gt;
JVM: java version &quot;1.6.0&quot;&lt;br/&gt;
    Java(TM) SE Runtime Environment (build pwi3260sr2-20080818_01(SR2))&lt;br/&gt;
    IBM J9 VM (build 2.4, J2RE 1.6.0 IBM J9 2.4 Windows 2000 x86-32 jvmwi3260-200808&lt;br/&gt;
   16_22093 (JIT enabled, AOT enabled)&lt;br/&gt;
   J9VM - 20080816_022093_lHdSMr&lt;br/&gt;
   JIT  - r9_20080721_1330ifx2&lt;br/&gt;
   GC   - 20080724_AA)&lt;br/&gt;
   JCL  - 20080808_02&lt;/p&gt;

&lt;p&gt;But not with ibm 1.5, nor Sun&apos;s jdk 1.5.&lt;/p&gt;

&lt;p&gt;It&apos;s also ok with that same IBM 1.6 release on my XP but it seems I&apos;m a Service Pack behind there:&lt;br/&gt;
OS: Microsoft Windows XP Professional - 5.1.2600 Service Pack 2&lt;/p&gt;
</comment>
                            <comment id="12646978" author="myrna" created="Wed, 12 Nov 2008 18:01:56 +0000"  >&lt;p&gt;I&apos;m marking as resolved, but the underlying jvm/os issue still exists.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12393704" name="DERBY-3943_diff.txt" size="1014" author="olesolberg" created="Tue, 11 Nov 2008 14:39:53 +0000"/>
                            <attachment id="12393715" name="repro3943.java" size="1617" author="myrna" created="Tue, 11 Nov 2008 17:07:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10369"><![CDATA[Regression Test Failure]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 11 Nov 2008 17:05:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23928</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0w3r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39019</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>