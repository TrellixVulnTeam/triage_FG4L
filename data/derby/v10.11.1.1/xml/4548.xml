<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:34:07 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-4548/DERBY-4548.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-4548] would like an alternative location for ant.properties</title>
                <link>https://issues.apache.org/jira/browse/DERBY-4548</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;The current build.xml directs ant to look for a file ant.properties in user.home. &lt;br/&gt;
This can get confusing when you have multiple versions on the same machine.&lt;br/&gt;
I&apos;ve worked around this in the past by pointing ant at other directories with -Duser.home=..., but it would be easier to have another place set up - I don&apos;t really like changing user.home.&lt;/p&gt;

&lt;p&gt;We could add another line to build.xml, e.g., for trunk&apos;s current build.xml:&lt;br/&gt;
@@ -20,6 +20,7 @@&lt;/p&gt;

&lt;p&gt; &amp;lt;!-- Set Properties --&amp;gt;&lt;br/&gt;
   &amp;lt;!-- User settings --&amp;gt;&lt;br/&gt;
+  &amp;lt;property file=&quot;ant.properties&quot;/&amp;gt;&lt;br/&gt;
   &amp;lt;property file=&quot;$&lt;/p&gt;
{user.home}
&lt;p&gt;/ant.properties&quot;/&amp;gt;&lt;br/&gt;
   &amp;lt;!-- Set property lib dir --&amp;gt;&lt;br/&gt;
   &amp;lt;property name=&quot;properties.dir&quot; value=&quot;tools/ant/properties&quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;This would make ant look first for ant.properties in the same directory as the top level build.xml, and secondly for the one in user.home.&lt;/p&gt;

&lt;p&gt;If the community agrees this would be ok, I&apos;d like to make this change and backport it all the way to 10.0.&lt;br/&gt;
By having an additional place we&apos;d not cause incompatibilities to other build processes (except if someone has put an ant.properties file in the top of the checked out tree).&lt;/p&gt;

&lt;p&gt;If we do this, I think it&apos;s up to the developers to ensure that there&apos;s not 2 ant.properties files that are conflicting. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12456068">DERBY-4548</key>
            <summary>would like an alternative location for ant.properties</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="myrna">Myrna van Lunteren</assignee>
                                    <reporter username="myrna">Myrna van Lunteren</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Feb 2010 21:06:46 +0000</created>
                <updated>Mon, 29 Nov 2010 14:21:38 +0000</updated>
                            <resolved>Tue, 4 May 2010 03:12:27 +0100</resolved>
                                    <version>10.0.2.2</version>
                    <version>10.1.3.3</version>
                    <version>10.2.2.1</version>
                    <version>10.3.3.1</version>
                    <version>10.4.2.1</version>
                    <version>10.5.3.1</version>
                    <version>10.6.1.0</version>
                                    <fixVersion>10.1.3.3</fixVersion>
                    <fixVersion>10.2.2.1</fixVersion>
                    <fixVersion>10.3.3.1</fixVersion>
                    <fixVersion>10.4.2.1</fixVersion>
                    <fixVersion>10.5.3.1</fixVersion>
                    <fixVersion>10.6.2.1</fixVersion>
                    <fixVersion>10.7.1.1</fixVersion>
                                    <component>Build tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12832686" author="kristwaa" created="Thu, 11 Feb 2010 21:25:56 +0000"  >&lt;p&gt;Just so I don&apos;t misunderstand, is this something you cannot do with the ant -propertyfile command line option?&lt;br/&gt;
Or do you want to change this &quot;once and for all&quot; for a given checked out source tree?&lt;br/&gt;
And if you need to do it per tree, does it work to simply edit the one line above in build.xml?&lt;/p&gt;</comment>
                            <comment id="12832764" author="myrna" created="Fri, 12 Feb 2010 00:44:58 +0000"  >&lt;p&gt;For an example, I want to prevent that making changes for tinkering for a bug in trunk, affects my settings for building 10.5 - so that I can immediately build my 10.5 when I need...Or, for building 10.2, I need to use wctme5.7&apos;s libraries, but for 10.5 I want to use weme6.2 libraries.&lt;br/&gt;
If I make a modification to the build.xml, and build like that, the version output from sysinfo gets the funky M attached, which I don&apos;t want. And I don&apos;t want to risk inadvertently checking in such a change.&lt;/p&gt;

&lt;p&gt;The main reason for not liking -Dpropertyfile is that I don&apos;t want to have to type something extra (or even have an alias). &lt;/p&gt;

&lt;p&gt;Another note re precedence for the case when there&apos;s multiple &apos;matching&apos; property files - the properties don&apos;t seem to be incremental. For instance, when providing no proceed setting in user.home/ant.properties but proceed=true in the propertyfile passed in with -Dpropertyfile, the output from ant shows that Proceed=no. &lt;br/&gt;
My testing shows that the file listed in build.xml gets precedence, and whichever file is listed first in build.xml gets precedence. &lt;/p&gt;

&lt;p&gt;Would it be acceptable to have the local ant.properties first?&lt;/p&gt;</comment>
                            <comment id="12834386" author="myrna" created="Tue, 16 Feb 2010 19:00:55 +0000"  >&lt;p&gt;adding a patch - this makes the proposed additional propertyfile call to an ant.properties living at the top of the source tree being looked at &lt;b&gt;after&lt;/b&gt; looking at user.home/ant.properties.&lt;/p&gt;</comment>
                            <comment id="12834387" author="myrna" created="Tue, 16 Feb 2010 19:01:45 +0000"  >&lt;p&gt;I intend to commit this and backport tomorrow if there are no further comments/objections...&lt;/p&gt;</comment>
                            <comment id="12835058" author="myrna" created="Thu, 18 Feb 2010 00:03:57 +0000"  >&lt;p&gt;Committed the change to build.xml in trunk with revision 911231; also made a slight modification to BUILDING.html to say ant.properties can be in the top of the source tree.&lt;/p&gt;

&lt;p&gt;I&apos;ll wait a while to see if anyone has trouble with this or objects to backporting this after all.&lt;/p&gt;</comment>
                            <comment id="12835151" author="kristwaa" created="Thu, 18 Feb 2010 09:21:14 +0000"  >&lt;p&gt;Properties in ant have a certain behavior.&lt;br/&gt;
Is it correct that properties defined in the local ant.properties file will not override properties already set based on the one in the home directory, and that &quot;new&quot; properties (i.e. those present in the local file but not in the home directory one) will be set?&lt;/p&gt;

&lt;p&gt;If this is indeed correct (I haven&apos;t checked), would it be better to swap the order of the property files?&lt;/p&gt;</comment>
                            <comment id="12835317" author="myrna" created="Thu, 18 Feb 2010 18:24:03 +0000"  >&lt;p&gt;My empirical information (that is, I did various experiments) shows that that&apos;s how the properties work.&lt;br/&gt;
(for instance, not specifying sane at all in user.home/ant.properties, but switching it to true vs. false in the local ant.properties showed it getting set from the local ant.properties; after setting it in user.home/ant.properties the setting in local ant.properties would get ignored).&lt;/p&gt;

&lt;p&gt;I thought about swapping the order of the property files, i.e. make the local one first, (that&apos;s what I put in the initial suggestion) but I thought it might be more likely to cause trouble &lt;b&gt;if&lt;/b&gt; someone has - say for safe-keeping - put an ant.properties file in their local tree. &lt;/p&gt;

&lt;p&gt;Both ways have disadvantages/advantages.&lt;br/&gt;
For instance, to ensure that old branches build correctly, regardless of what&apos;s in user.home/ant.properties, you&apos;d want the local ant.properties file to take precedence (i.e. be first in build.xml).&lt;/p&gt;

&lt;p&gt;However, I can see setting some general properties in user.home/ant.properties and managing the sane/insane stuff in a local ant.properties file...&lt;/p&gt;

&lt;p&gt;In the end I decided less possible impact for unsuspecting developers if we kept the user.home/ant.properties as the &apos;primary&apos; one. &lt;br/&gt;
By &lt;b&gt;not&lt;/b&gt; having any user.home/ant.properties file I can get my multiple ant.properties files to work...&lt;/p&gt;

&lt;p&gt;Thoughts/opinions?&lt;/p&gt;</comment>
                            <comment id="12835329" author="kristwaa" created="Thu, 18 Feb 2010 18:46:23 +0000"  >&lt;p&gt;No really any opinions, I obviously don&apos;t know enough about how ant is supposed to work.&lt;/p&gt;

&lt;p&gt;I did try some variations as well, and I have to say I only got confused.  At one point I was convinced there is something wrong with our targets setting the sanity...&lt;br/&gt;
Some of my scripts use -f propertyfile and that seems to change the behavior (I think you mentioned this). I only use different property files when building older releases, so my requirements are minimal (my single build script detects the Derby version and uses the appropriate property file).&lt;/p&gt;

&lt;p&gt;If you&apos;re confident enough of the current approach, and the change doesn&apos;t cause trouble for other people, I&apos;d say it&apos;s fine.&lt;br/&gt;
Putting something in place that fits perfectly for all use-cases might be hard &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12835547" author="bryanpendleton" created="Fri, 19 Feb 2010 01:49:16 +0000"  >&lt;p&gt;Would it make things less confusing to use a different name for the new properties file?&lt;/p&gt;

&lt;p&gt;Perhaps, &quot;branch.properties&quot; or &quot;codeline.properties&quot;?&lt;/p&gt;</comment>
                            <comment id="12835727" author="knutanders" created="Fri, 19 Feb 2010 12:33:15 +0000"  >&lt;p&gt;&quot;local.properties&quot;?&lt;/p&gt;

&lt;p&gt;My expectation would be that the local settings took precedence over the $HOME/ant.properties. If the only reason for not having this behaviour is to prevent backups of $HOME/ant.properties from being picked up, I think changing the name as Bryan suggested and changing the order would be a good idea.&lt;/p&gt;</comment>
                            <comment id="12837032" author="myrna" created="Tue, 23 Feb 2010 01:37:27 +0000"  >&lt;p&gt;Changing the name as Bryan suggested to local.properties, and making it the first one in the file so any properties defined in local.properties will have precedence over any found in user.home/ant.properties.&lt;br/&gt;
I&apos;ll commit this shortly.&lt;/p&gt;</comment>
                            <comment id="12837305" author="myrna" created="Tue, 23 Feb 2010 16:43:49 +0000"  >&lt;p&gt;committed diff2 patch as per suggestions by Bryan and Knut with revision 915129.&lt;/p&gt;</comment>
                            <comment id="12845674" author="myrna" created="Tue, 16 Mar 2010 03:02:37 +0000"  >&lt;p&gt;committed revision 923555 to 10.4; backport of 920530 from 10.5 with adjustments (modified BUILDING.txt instead of BUILDING.html.)&lt;/p&gt;</comment>
                            <comment id="12863627" author="myrna" created="Tue, 4 May 2010 03:12:27 +0100"  >&lt;p&gt;Backported to 10.1 with revision 940710. &lt;br/&gt;
That&apos;s enough for me; closing.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12436009" name="DERBY-4548.diff" size="435" author="myrna" created="Tue, 16 Feb 2010 19:00:55 +0000"/>
                            <attachment id="12436660" name="DERBY-4548.diff_2" size="476" author="myrna" created="Tue, 23 Feb 2010 01:37:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 11 Feb 2010 21:25:56 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31270</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0os7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37833</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>