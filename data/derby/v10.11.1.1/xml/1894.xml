<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:41:56 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-1894/DERBY-1894.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-1894] SQLSTATE 42X10 occurs when qualifying a column with a synonym in ORDER BY clause</title>
                <link>https://issues.apache.org/jira/browse/DERBY-1894</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;SQLSTATE 42X10 occurs when qualifying a column with a synonym in ORDER BY clause, where the synonym was declared in a different schema:&lt;/p&gt;

&lt;p&gt;ij version 10.3&lt;br/&gt;
ij&amp;gt; connect &apos;jdbc:derby:wombat;create=true&apos;;&lt;br/&gt;
ij&amp;gt; create schema test1;&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; create schema test2;&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; create table test1.testtable(id bigint not null);&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; create synonym test2.testtable for test1.testtable;&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; set schema test1;&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; select testtable.id from testtable;&lt;br/&gt;
ID                  &lt;br/&gt;
--------------------&lt;/p&gt;

&lt;p&gt;0 rows selected&lt;br/&gt;
ij&amp;gt; set schema test2;&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; select testtable.id from testtable;&lt;br/&gt;
ID                  &lt;br/&gt;
--------------------&lt;/p&gt;

&lt;p&gt;0 rows selected&lt;br/&gt;
ij&amp;gt; select testtable.id from testtable order by testtable.id;&lt;br/&gt;
ERROR 42X10: &apos;TESTTABLE&apos; is not an exposed table name in the scope in which it appears.&lt;br/&gt;
ij&amp;gt; &lt;/p&gt;</description>
                <environment>Any</environment>
        <key id="12351923">DERBY-1894</key>
            <summary>SQLSTATE 42X10 occurs when qualifying a column with a synonym in ORDER BY clause</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yipng">Yip Ng</assignee>
                                    <reporter username="yipng">Yip Ng</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Sep 2006 21:29:22 +0100</created>
                <updated>Thu, 13 Dec 2007 09:05:14 +0000</updated>
                            <resolved>Fri, 6 Oct 2006 17:56:18 +0100</resolved>
                                    <version>10.1.3.1</version>
                    <version>10.2.1.6</version>
                    <version>10.2.2.0</version>
                    <version>10.3.1.4</version>
                                    <fixVersion>10.1.3.2</fixVersion>
                    <fixVersion>10.2.2.0</fixVersion>
                    <fixVersion>10.3.1.4</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12438583" author="yipng" created="Thu, 28 Sep 2006 23:59:56 +0100"  >&lt;p&gt;Attaching patch derby1894-trunk-diff01.txt for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1894&quot; title=&quot;SQLSTATE 42X10 occurs when qualifying a column with a synonym in ORDER BY clause&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1894&quot;&gt;&lt;del&gt;DERBY-1894&lt;/del&gt;&lt;/a&gt;.  The fix is in FromBaseTable&apos;s getFromTableByName() method, where it is using the&lt;br/&gt;
resolved synonym table name to do the binding for ORDER BY column.&lt;br/&gt;
Patch includes additional tests and derbyall passes.  Appreciate if someone&lt;br/&gt;
can review it.  Thanks.&lt;/p&gt;</comment>
                            <comment id="12439244" author="mamtas" created="Mon, 2 Oct 2006 19:03:48 +0100"  >&lt;p&gt;Yip, I reviewed the code and it looks good to me. For the tests, should we have a test case where a correlation name is used in order by? May be there is already such a test or may be this test will not test the changes you made but here is a test case based on the sql script included in this Jira entry&lt;br/&gt;
set schema test2;&lt;br/&gt;
select testtable.id as c1 from testtable order by c1;&lt;/p&gt;</comment>
                            <comment id="12439264" author="yipng" created="Mon, 2 Oct 2006 19:37:53 +0100"  >&lt;p&gt;Thanks for reviewing the patch, Mamta.  I added a couple more testcases this week and also included your suggested testcase.  Attaching derby1894-trunk-diff02.txt.&lt;/p&gt;</comment>
                            <comment id="12439294" author="mamtas" created="Mon, 2 Oct 2006 20:48:27 +0100"  >&lt;p&gt;Yip, I have a feeling that I missing something obvious here but why should following statement (towards the end of the tests that you added) fail?&lt;br/&gt;
select t1.id as c1 from t1 where c1 &amp;gt; 0 order by c1;&lt;/p&gt;</comment>
                            <comment id="12439306" author="yipng" created="Mon, 2 Oct 2006 21:40:17 +0100"  >&lt;p&gt;Good question, Mamta.  This is actually not related to synonym.  If you do issue the query not using synonym below, it will also fail in Derby.&lt;/p&gt;

&lt;p&gt;select t1.id as c1 from t1 where c1 &amp;gt; 0 order by c1; &lt;/p&gt;

&lt;p&gt;One reason is the derived column can be an aggregate function, such as count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;, which can be aliased.&lt;/p&gt;

&lt;p&gt;select count(t1.id) as cnt from t1 where cnt &amp;gt; 1;&lt;/p&gt;

&lt;p&gt;This is illegal, since where clause semantics does not allow this.  &lt;/p&gt;</comment>
                            <comment id="12439314" author="mamtas" created="Mon, 2 Oct 2006 21:54:28 +0100"  >&lt;p&gt;Thanks, Yip. I have no more questions on the patch and I give it a +1.&lt;/p&gt;</comment>
                            <comment id="12439343" author="mikem" created="Tue, 3 Oct 2006 00:24:04 +0100"  >&lt;p&gt;committed to trunk:&lt;/p&gt;

&lt;p&gt;m3_ibm142:172&amp;gt;svn commit&lt;/p&gt;

&lt;p&gt;Sending        java\engine\org\apache\derby\impl\sql\compile\FromBaseTable.java&lt;br/&gt;
Sending        java\testing\org\apache\derbyTesting\functionTests\master\synonym&lt;br/&gt;
.out&lt;br/&gt;
Sending        java\testing\org\apache\derbyTesting\functionTests\tests\lang\syn&lt;br/&gt;
onym.sql&lt;br/&gt;
Transmitting file data ...&lt;br/&gt;
Committed revision 452259.&lt;/p&gt;</comment>
                            <comment id="12439351" author="mikem" created="Tue, 3 Oct 2006 00:58:39 +0100"  >&lt;p&gt;merged from trunk to 10.1 branch:&lt;br/&gt;
m101_142:12&amp;gt;svn commit&lt;/p&gt;

&lt;p&gt;Sending        java\engine\org\apache\derby\impl\sql\compile\FromBaseTable.java&lt;br/&gt;
Sending        java\testing\org\apache\derbyTesting\functionTests\master\synonym&lt;br/&gt;
.out&lt;br/&gt;
Sending        java\testing\org\apache\derbyTesting\functionTests\tests\lang\syn&lt;br/&gt;
onym.sql&lt;br/&gt;
Transmitting file data ...&lt;br/&gt;
Committed revision 452269.&lt;/p&gt;</comment>
                            <comment id="12440202" author="mikem" created="Thu, 5 Oct 2006 19:28:12 +0100"  >&lt;p&gt;backported fix from trunk to 10.2.1.7 (version does not exist in jira right now - so marked fixed in 10.2.2)&lt;/p&gt;</comment>
                            <comment id="12440527" author="mikem" created="Fri, 6 Oct 2006 17:56:18 +0100"  >&lt;p&gt;fix has made it to trunk, 10.2 branch and 10.1 branch&lt;/p&gt;</comment>
                            <comment id="12551423" author="fuzzylogic" created="Thu, 13 Dec 2007 09:05:14 +0000"  >&lt;p&gt;This issue has been resolved for over a year with no further movement. Closing.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12341937" name="derby1894-trunk-diff01.txt" size="12039" author="yipng" created="Thu, 28 Sep 2006 23:59:56 +0100"/>
                            <attachment id="12342124" name="derby1894-trunk-diff02.txt" size="12619" author="yipng" created="Mon, 2 Oct 2006 19:37:53 +0100"/>
                            <attachment id="12341936" name="derby1894-trunk-stat01.txt" size="329" author="yipng" created="Thu, 28 Sep 2006 23:59:56 +0100"/>
                            <attachment id="12342123" name="derby1894-trunk-stat02.txt" size="329" author="yipng" created="Mon, 2 Oct 2006 19:37:53 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 2 Oct 2006 18:03:48 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22774</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10102"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0zy7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39642</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>