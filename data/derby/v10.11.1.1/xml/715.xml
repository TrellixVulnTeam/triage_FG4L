<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:43:10 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-715/DERBY-715.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-715] lock deadlocks sometimes reported as lock timeouts</title>
                <link>https://issues.apache.org/jira/browse/DERBY-715</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Sometimes a lock deadlock is reported as a lock timeout, even when the software has done a deadlock search and found it to be a deadlock.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12325787">DERBY-715</key>
            <summary>lock deadlocks sometimes reported as lock timeouts</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mikem">Mike Matrigali</assignee>
                                    <reporter username="mikem">Mike Matrigali</reporter>
                        <labels>
                    </labels>
                <created>Fri, 18 Nov 2005 09:08:11 +0000</created>
                <updated>Wed, 12 Jul 2006 04:24:16 +0100</updated>
                            <resolved>Tue, 6 Dec 2005 03:41:22 +0000</resolved>
                                    <version>10.0.2.0</version>
                                    <fixVersion>10.1.3.1</fixVersion>
                    <fixVersion>10.2.1.6</fixVersion>
                                    <component>Services</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12357946" author="mikem" created="Fri, 18 Nov 2005 09:28:03 +0000"  >&lt;p&gt;slightly altered repro from the one bryan posted to &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-666&quot; title=&quot;Enhance derby.locks.deadlockTrace to print stack traces for all threads involved in a deadlock&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-666&quot;&gt;DERBY-666&lt;/a&gt;, mostly just some extra prints.&lt;br/&gt;
On my  ~2 ghz single processor laptop, running windows and jdk1.4.2 when I run the test the&lt;br/&gt;
first time I get a deadlock, and then mostly get timeouts reported for subsequent runs.  &lt;br/&gt;
Note that the first time there are 0 rows in the table, but after each iteration there are some&lt;br/&gt;
committed deleted rows which changes the internal timing - to the user since the test never&lt;br/&gt;
commits there are always no rows in the tables. &lt;/p&gt;

&lt;p&gt;It is&lt;br/&gt;
clear that the time to the timeout is the deadlock time - NOT the timeout time.&lt;/p&gt;</comment>
                            <comment id="12357947" author="mikem" created="Fri, 18 Nov 2005 09:32:12 +0000"  >&lt;p&gt;I have not  run tests on this diff yet, just posting to get some input on whether I am on the right track or not.  Do not commit this patch until I have had a chance to get it reviewed and run tests.&lt;/p&gt;</comment>
                            <comment id="12359110" author="mikem" created="Fri, 2 Dec 2005 09:51:32 +0000"  >&lt;p&gt;submitted to trunk as revision 351543.&lt;/p&gt;

&lt;p&gt;Sometimes (timing dependent) a lock deadlock was incorrectly returned to the&lt;br/&gt;
user as a lock timeout.  The code in LockSet was using the wrong variable&lt;br/&gt;
to determine if a deadlock had been detected, that variable sometimes was&lt;br/&gt;
right and sometimes wrong.  Changed all the code to use the direct return&lt;br/&gt;
from the deadlock detection routine.  Added a test that causes 5 deadlocks,&lt;br/&gt;
previous to the fix this test would always report at least 1 timeout on&lt;br/&gt;
my single processor, windows xp, laptop.&lt;/p&gt;</comment>
                            <comment id="12359329" author="mikem" created="Tue, 6 Dec 2005 03:41:22 +0000"  >&lt;p&gt;svn 353812 ports fix from trunk to 10.1&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12320770" name="repro.java" size="3610" author="mikem" created="Fri, 18 Nov 2005 09:28:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22107</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy15gv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40536</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>