<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:53:54 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-587/DERBY-587.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-587] Providing JDBC 4.0 support for derby</title>
                <link>https://issues.apache.org/jira/browse/DERBY-587</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description></description>
                <environment></environment>
        <key id="12317345">DERBY-587</key>
            <summary>Providing JDBC 4.0 support for derby</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="narayanan">V.Narayanan</assignee>
                                    <reporter username="narayanan">V.Narayanan</reporter>
                        <labels>
                    </labels>
                <created>Wed, 28 Sep 2005 01:07:19 +0100</created>
                <updated>Wed, 1 Jul 2009 01:34:42 +0100</updated>
                            <resolved>Thu, 18 May 2006 18:16:35 +0100</resolved>
                                    <version>10.2.1.6</version>
                                    <fixVersion>10.2.1.6</fixVersion>
                                    <component>JDBC</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12330605" author="narayanan" created="Wed, 28 Sep 2005 01:30:11 +0100"  >&lt;p&gt;Hi,&lt;br/&gt;
I am attaching the patch for the JDBC4.0 STUB IMPLEMENTATION. Also attached is a design document which explains the changes incorporated and the classes and the build files affected due to this.&lt;br/&gt;
thanx&lt;br/&gt;
V.Narayanan&lt;/p&gt;</comment>
                            <comment id="12330678" author="narayanan" created="Wed, 28 Sep 2005 21:34:44 +0100"  >&lt;p&gt;Hi,&lt;br/&gt;
There was a small problem in the previous patch while doing a svn diff. Also the document has been updated to reflect that the jdk16 variable is optional. I am making the changes and attaching the files again.&lt;br/&gt;
thanx&lt;br/&gt;
Narayanan&lt;/p&gt;</comment>
                            <comment id="12331271" author="rhillegas" created="Tue, 4 Oct 2005 23:32:50 +0100"  >&lt;p&gt;This patch looks good to me. I recommend that a committer check it in.&lt;/p&gt;</comment>
                            <comment id="12331272" author="bakksjo" created="Tue, 4 Oct 2005 23:38:17 +0100"  >&lt;p&gt;OK, I&apos;ll commit it.&lt;/p&gt;</comment>
                            <comment id="12331279" author="djd" created="Wed, 5 Oct 2005 02:26:57 +0100"  >&lt;p&gt;The document says that EmbeddedDataSource40 extends EmbeddedDataSource30, but there is no such class in Derby.&lt;br/&gt;
In fact this EmbeddedDataSource40 looks like it has to become part of the public api, which means a shift in Derby from a single class for JDBC 2.0 and JDBC 3.0, to applications having to select a specific DataSource for JDBC 4.0.&lt;br/&gt;
Not sure this is a problem for this check in, but it might be something that needs to be resolved before a Derby release is made that  supports JDBC 4.0. E.g. if the DataSource doesn&apos;t change in JDBC 5.0 then do applications still need to load EmbeddedDataSource40, possibly leading to confusion?&lt;/p&gt;

&lt;p&gt;One minor issue with the patch, the new constant in JVMInfo for JDK 1.6 has the comment aka J2SE 5.0 which is the same as JDK 1.5. Is that true?&lt;/p&gt;</comment>
                            <comment id="12331339" author="rhillegas" created="Wed, 5 Oct 2005 11:57:45 +0100"  >&lt;p&gt;I retract my hasty judgment. I don&apos;t think this submission is ready to be committed. The good news is that the trunk compiles without jdk1.6 and derbyall runs cleanly--I think. I saw a diff in NSinSameJVM but I think I may have seen this intermittently on my machine before.&lt;/p&gt;

&lt;p&gt;However, compilation fails when I define jdk16 in my ant.properties. The compilation will not run under cygwin. I almost have a fix for this but I&apos;m not quite there yet. So let&apos;s hold off committing this.&lt;/p&gt;</comment>
                            <comment id="12331629" author="rhillegas" created="Sat, 8 Oct 2005 09:48:44 +0100"  >&lt;p&gt;Dan raises an uncomfortable issue which I hope we don&apos;t have to address for this submission but which we do have to address for the 10.2 release. EmbeddedDataSource is just one instance of the problem. But it surfaces across the org.apache.derby.jdbc package.&lt;/p&gt;

&lt;p&gt;The problem is that EmbeddedDataSource implements an interface (javax.sql.DataSource) which has changed between jdk1.4 and jdk1.6 in an irreconcilable way. In jdk1.6, DataSource contains a method with generics in its signature. If we ship an EmbeddedDataSource which implements this method, then I think it won&apos;t play well in a 1.4 vm. If, however, we ship an EmbeddedDataSource which does NOT implement this method, then on a 1.6 vm, EmbeddedDataSource will fail to satisfy the DataSource contract.&lt;/p&gt;

&lt;p&gt;Here are some ways we could solve this problem:&lt;/p&gt;

&lt;p&gt;1) Ship both a 1.4 and a 1.6 version of EmbeddedDataSource and sort the problem out at run time using some kind of classloader jiggery pokery. I&apos;m waving my hands because I don&apos;t understand what the jiggery pokery would be.&lt;/p&gt;

&lt;p&gt;2) Release two different distributions of 10.2, one for 1.5 and earlier vms and another for 1.6 vms.&lt;/p&gt;

&lt;p&gt;3) Deprecate EmbeddedDataSource as a class in 10.2. Instead, turn it into an interface and add a factory to org.apache.derby.jdbc which is smart enough to contruct a vm-specific class at runtime. This solution could be applied to the other classes in that package which have the same problem.&lt;/p&gt;</comment>
                            <comment id="12356047" author="narayanan" created="Thu, 27 Oct 2005 16:10:14 +0100"  >&lt;p&gt;The patch has been fixed for the failure in windows and re-attached.&lt;/p&gt;</comment>
                            <comment id="12356162" author="rhillegas" created="Fri, 28 Oct 2005 13:36:56 +0100"  >&lt;p&gt;The patch looks good. Derby builds cleanly. If you put a pointer to jdk16 into your ant.properties, Derby again builds cleanly, including the new jdbc4 stubbed out implementation. Derbyall runs cleanly on my machine under jdk14. Under jdk16, the new jdbc4 tests run cleanly.&lt;/p&gt;

&lt;p&gt;I recommend that a committer commit this patch. Note that the committer will need to svn_add the following five empty master files:&lt;/p&gt;

&lt;p&gt;svn_add trunk/java/testing/org/apache/derbyTesting/functionTests/master/StartTestConnection.out &lt;br/&gt;
svn_add trunk/java/testing/org/apache/derbyTesting/functionTests/master/TestCallableStatementMethods.out&lt;br/&gt;
svn_add trunk/java/testing/org/apache/derbyTesting/functionTests/master/TestConnectionMethods.out&lt;br/&gt;
svn_add trunk/java/testing/org/apache/derbyTesting/functionTests/master/TestPreparedStatementMethods.out&lt;br/&gt;
svn_add trunk/java/testing/org/apache/derbyTesting/functionTests/master/TestResultSetMethods.out&lt;/p&gt;</comment>
                            <comment id="12356249" author="bandaram" created="Sat, 29 Oct 2005 09:54:26 +0100"  >&lt;p&gt;I noticed Narayanan doesn&apos;t have ICLA signed with Apache.  Any &quot;reasonable&quot; size contribution would require the contributor to have an ICLA signed and be on file. List of ICLAs can be found at: &lt;a href=&quot;http://people.apache.org/~jim/committers.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://people.apache.org/~jim/committers.html&lt;/a&gt;. The process of starting an ICLA submission: &lt;a href=&quot;http://www.apache.org/licenses/#clas&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.apache.org/licenses/#clas&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I think it is wise to hold off on checking this in, pending ICLA submission. I was so close... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Several new JAVA files don&apos;t have the ASF copyright notices at the top ... Isn&apos;t this required for all new JAVA files?&lt;/p&gt;

&lt;p&gt;I also noticed an @author tag in the patch. While I am not sure what guidelines Apache or Derby follows, it may be best to remove @author tags. Geronimo has a policy against this tag: &lt;a href=&quot;http://wiki.apache.org/geronimo/CodingStandards&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/geronimo/CodingStandards&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;One last minor one... The copyright notice should have 2005 for the file jdk16.java&lt;/p&gt;</comment>
                            <comment id="12356415" author="rhillegas" created="Mon, 31 Oct 2005 23:19:53 +0000"  >&lt;p&gt;Thanks for pointing out these issues, Satheesh. I didn&apos;t turn up on the published list until a couple months after I submitted my ICLA. I&apos;m hoping that it will be sufficient for Narayanan to say that he has faxed in his ICLA. That is, I hope we don&apos;t have to wait another 2 months to contribute this patch.&lt;/p&gt;</comment>
                            <comment id="12356422" author="rhillegas" created="Tue, 1 Nov 2005 02:06:39 +0000"  >&lt;p&gt;Hi Satheesh: Narayanan has faxed in his ICLA. He&apos;s on holiday (Diwali) right now. Would it be ok to clean up the copyright and tag issues later? If so, would you be kind enough to check in this patch today? Thanks!&lt;/p&gt;</comment>
                            <comment id="12356434" author="bandaram" created="Tue, 1 Nov 2005 04:32:31 +0000"  >&lt;p&gt;As Dan (PMC member) said, we have to wait for the copyright notices for the files... Also, it would be good if Narayanan himself can post whether or not he FAXed his ICLA. &lt;/p&gt;</comment>
                            <comment id="12356470" author="narayanan" created="Tue, 1 Nov 2005 13:28:16 +0000"  >&lt;p&gt;Hi,&lt;br/&gt;
Thanx for pointing out the issues satheesh. Also thanx for the follow up email address jean. I faxed the agreement to apache yesterday. Also I will follow this up using the email address given by jean. Sorry for my late response.&lt;br/&gt;
Narayanan&lt;/p&gt;</comment>
                            <comment id="12356471" author="clr" created="Tue, 1 Nov 2005 14:04:29 +0000"  >&lt;p&gt;I recognize that this is an internal project issue, but:&lt;/p&gt;

&lt;p&gt;Doesn&apos;t the &quot;grant Apache license&quot; check box on the patch upload mean anything? I always assumed that it allowed someone without an ICLA on file to contribute code. The patches uploaded for this bug have the &quot;grant Apache license&quot; checked...Of course, the copyright notices are required in the code for new files.&lt;/p&gt;

&lt;p&gt;Craig&lt;/p&gt;</comment>
                            <comment id="12356472" author="djd" created="Tue, 1 Nov 2005 14:27:30 +0000"  >&lt;p&gt;I think this is an Apache wide issue, or desire:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.apache.org/licenses/#clas&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.apache.org/licenses/#clas&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&quot;The ASF desires that all contributors of ideas, code, or documentation to the Apache projects complete, sign, and submit (via snailmail or fax) a Individual Contributor License Agreement (CLA)&quot;&lt;/p&gt;</comment>
                            <comment id="12356473" author="clr" created="Tue, 1 Nov 2005 14:38:39 +0000"  >&lt;p&gt;I have just a few comments.&lt;/p&gt;

&lt;p&gt;1. The code does not appear to be consistent with regard to spaces, tabs, indents, and which line the &quot;{&quot; appears on. Are there coding standards to which we try to hold contributions? Other projects recognize that some files in the same project use different coding styles (standards?) but try to maintain standards for new files. The rule is that patches to existing files use the conventions already used, but new files have a standard approach. Are there any such standards for Derby?&lt;/p&gt;

&lt;p&gt;2. The copyright notices definitely need to be there for this contribution.&lt;/p&gt;

&lt;p&gt;3. I agree that for a contribution of this magnitude, a signed ICLA should be a requirement.&lt;/p&gt;

&lt;p&gt;4. In response to Dan&apos;s comments immediately above, I&apos;d think that the Apache board might want to discuss why the JIRA has a check box for contributions. If it&apos;s really irrelevant, it&apos;s certainly a distraction.&lt;/p&gt;

</comment>
                            <comment id="12357560" author="narayanan" created="Mon, 14 Nov 2005 15:40:26 +0000"  >&lt;p&gt;Hi,&lt;br/&gt;
I am making the following changes and am re-attaching the patch&lt;/p&gt;

&lt;p&gt;1) Adding of copyright notices&lt;br/&gt;
2) reformatting code&lt;/p&gt;

&lt;p&gt;Also I have faxed and sent my ICLA by post to apache. &lt;br/&gt;
I am waiting to hear from Apache regarding my ICLA. I have faxed the ICLA a couple of times and also mailed(snail-mail)  it to them&lt;br/&gt;
I have also sent follow up email to apache@apache.org and am  waiting for a response from them. &lt;/p&gt;

&lt;p&gt;thanx&lt;br/&gt;
V.Narayanan&lt;/p&gt;</comment>
                            <comment id="12357595" author="rhillegas" created="Mon, 14 Nov 2005 23:43:25 +0000"  >&lt;p&gt;I have successfully built this patch under jdk1.4 and jdk1.6. For me derbyall runs cleanly under jdk1.4. Under jdk1.6 the new jdbc4 tests run cleanly.&lt;/p&gt;

&lt;p&gt;Satheesh, when you have a moment, could you verify that this submission satisifies the copyright and formatting issues you raised? If so, and there are no new issues, then I think this is ready to be committed.&lt;/p&gt;</comment>
                            <comment id="12357651" author="bandaram" created="Tue, 15 Nov 2005 10:31:40 +0000"  >&lt;p&gt;Thanks, Narayanan, for the follow up. I think only the ICLA is the pending issue now. Jean had mentioned last time that either your name show on the list or get some kind of acknowledgement that Apache received your fax. I will commit your changes just after that.&lt;/p&gt;

&lt;p&gt;Jean, let us know if there is any other way. I hate to be holding up good and important work, but don&apos;t know what else I could do.&lt;/p&gt;

&lt;p&gt;Thanks to Rick for the reviews and for running the tests.&lt;/p&gt;</comment>
                            <comment id="12357948" author="jta" created="Fri, 18 Nov 2005 09:51:09 +0000"  >&lt;p&gt;Narayanan&apos;s icla now shows up as being recorded &amp;#8211; so go ahead and commit, Satheesh.&lt;/p&gt;</comment>
                            <comment id="12357950" author="bandaram" created="Fri, 18 Nov 2005 11:01:48 +0000"  >&lt;p&gt;I have submitted this patch. Thanks everyone!&lt;/p&gt;</comment>
                            <comment id="12358172" author="rhillegas" created="Tue, 22 Nov 2005 03:05:53 +0000"  >&lt;p&gt;The original patch broke javadoc generation because the 1.4 javadoc machinery doesn&apos;t understand the 1.6 signatures which contain generics. I have attached bug587_javadoc.diff to fix this regression. Thanks to Dyre for tripping across the problem.&lt;/p&gt;</comment>
                            <comment id="12358273" author="davidvc" created="Wed, 23 Nov 2005 03:25:48 +0000"  >&lt;p&gt;Committed fix for javadoc&lt;/p&gt;

&lt;p&gt;$ svn commit&lt;br/&gt;
Sending        build.xml&lt;br/&gt;
Transmitting file data .&lt;br/&gt;
Committed revision 348203.&lt;/p&gt;</comment>
                            <comment id="12359065" author="fuzzylogic" created="Fri, 2 Dec 2005 03:16:23 +0000"  >&lt;p&gt;David - it looks like you missed the derbydocs_exclusions.ant file in the javadoc fix patch. I&apos;ve checked it in with revision 350292.&lt;/p&gt;

&lt;p&gt;It&apos;s unfortunate that it&apos;s now necessary to copy basically the entire source tree, almost 1700 files, to generate the javadoc. But, since javadoc itself doesn&apos;t have the ability to exclude a list of files, only packages, I don&apos;t know what else to do either. If anyone knows a way to get Ant to generate a list of files (like the find command) that we could then filter, let me know.&lt;/p&gt;</comment>
                            <comment id="12551290" author="fuzzylogic" created="Thu, 13 Dec 2007 09:04:43 +0000"  >&lt;p&gt;This issue has been resolved for over a year with no further movement. Closing.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12320836" name="bug587_javadoc.diff" size="3210" author="rhillegas" created="Tue, 22 Nov 2005 03:05:52 +0000"/>
                            <attachment id="12314605" name="jdbc4.0.sxw" size="10120" author="narayanan" created="Wed, 28 Sep 2005 21:34:44 +0100"/>
                            <attachment id="12320670" name="jdbc4.diff" size="153644" author="narayanan" created="Mon, 14 Nov 2005 15:40:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 4 Oct 2005 22:32:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>29619</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0spr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38470</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>