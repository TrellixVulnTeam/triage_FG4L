<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:42:02 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-959/DERBY-959.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-959] Allow use of DRDA QRYDTA block sizes greater than 32K</title>
                <link>https://issues.apache.org/jira/browse/DERBY-959</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Currently, the Network Server and Network Client use a 32K blocksize when&lt;br/&gt;
returning database data in QRYDTA blocks.&lt;/p&gt;

&lt;p&gt;I came across the following statement in the DRDA spec (Volume 1, page 12):&lt;/p&gt;

&lt;p&gt;    Blocking applies only to the QRYDTA reply objects. Each&lt;br/&gt;
    query block is a QRYDTA DSS. The maximum query block size&lt;br/&gt;
    value allowed in the qryblksz parameter is increased from&lt;br/&gt;
    32K to 10M, thus accomodating the larger data volumes&lt;br/&gt;
    required by modern, more data-intensive applications.&lt;/p&gt;

&lt;p&gt;The importance of larger block sizes depends strong on the application&lt;br/&gt;
profile.. For example, many applications perform single-record selects, &lt;br/&gt;
and they are not influenced by the block size.&lt;/p&gt;

&lt;p&gt;But for some applications, it seems like the ability to use a larger block&lt;br/&gt;
size could be quite valuable.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12328868">DERBY-959</key>
            <summary>Allow use of DRDA QRYDTA block sizes greater than 32K</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="skambha">Sunitha Kambhampati</assignee>
                                    <reporter username="bryanpendleton">Bryan Pendleton</reporter>
                        <labels>
                    </labels>
                <created>Sun, 12 Feb 2006 11:39:16 +0000</created>
                <updated>Mon, 29 Jun 2009 15:37:01 +0100</updated>
                            <resolved>Thu, 6 Jul 2006 05:38:00 +0100</resolved>
                                    <version>10.1.1.0</version>
                    <version>10.1.2.1</version>
                    <version>10.2.1.6</version>
                                    <fixVersion>10.2.1.6</fixVersion>
                                    <component>Network Client</component>
                    <component>Network Server</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12415896" author="skambha" created="Tue, 13 Jun 2006 03:08:20 +0100"  >&lt;p&gt;I am attaching a patch &apos;derby959.review.diff.txt&apos; to get feedback on the server changes to allow for query block size greater than 32k.   From the test cases that I tried, it seems to me that the server already knows how to handle sending QRYDTA greater than 32k.   &lt;br/&gt;
Please see the attached html file 959Notes_v1.html for more notes: &lt;/p&gt;

&lt;p&gt;This is a network server only change and I ran the derbynetclientmats and derbynetmats with 1.4.2 sun jvm OK on windows.&lt;/p&gt;

&lt;p&gt;I&apos;d appreciate your comments and feedback. &lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="12415899" author="skambha" created="Tue, 13 Jun 2006 03:16:39 +0100"  >&lt;p&gt;The new C client that I was testing the server with is sending a qryblksz of 65535 and I gathered server traces with it. I am attaching the trace files here .&lt;/p&gt;

&lt;p&gt;odbc_rowgreaterthan64k.trace  &amp;#8211; using C client, trace has select of  a table with 4 rows each row having more than 64k of data.  The table has 341 columns of type char(200).&lt;/p&gt;

&lt;p&gt;SmallRows_32kBlkSz.trace - this server trace was gathered when running with the client driver(jdbc). query is a simple select * from tbl.  where the table has rows ~ 10k each. &lt;/p&gt;

&lt;p&gt;SmallRows_64kBlkSz.trace -  this server trace was gathered when running with the C client that sends a qryblksz of 65535. query is a simple select * from tbl.  where the table has rows ~ 10k each. &lt;/p&gt;

&lt;p&gt;Please let me know if you need more information to understand these traces.  Thanks. &lt;/p&gt;</comment>
                            <comment id="12417367" author="skambha" created="Fri, 23 Jun 2006 05:07:58 +0100"  >&lt;p&gt;Discussion happened on this issue on derby-dev.  Here is the link to the discussion that happened on derby-dev&lt;br/&gt;
&lt;a href=&quot;http://www.nabble.com/-jira--Created%3A-%28DERBY-959%29-Allow-use-of-DRDA-QRYDTA-block-sizes-greater-than-32K-t1106974.html#a2892273&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.nabble.com/-jira--Created%3A-%28DERBY-959%29-Allow-use-of-DRDA-QRYDTA-block-sizes-greater-than-32K-t1106974.html#a2892273&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I have opened two other jira issues for the  tasks related to this issue. .&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1441&quot; title=&quot;Allow client to be able to send greater than 32k query block size.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1441&quot;&gt;DERBY-1441&lt;/a&gt; - client side changes to support query block size greater than 32k&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1442&quot; title=&quot;Do performance analysis and come up with a good query block size value for the client to send to the server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1442&quot;&gt;DERBY-1442&lt;/a&gt;- to do performance analysis and come up with a &apos;good&apos;  query block size value for the client to send to the server. &lt;/p&gt;</comment>
                            <comment id="12417382" author="mikem" created="Fri, 23 Jun 2006 06:14:00 +0100"  >&lt;p&gt;I committed the xxx patch to the trunk:&lt;br/&gt;
m1_142:151&amp;gt;svn commit&lt;/p&gt;

&lt;p&gt;Sending        java\drda\org\apache\derby\impl\drda\CodePoint.java&lt;br/&gt;
Sending        java\testing\org\apache\derbyTesting\functionTests\master\testProtocol.out&lt;br/&gt;
Sending        java\testing\org\apache\derbyTesting\functionTests\tests\derbynet\protocol.tests&lt;br/&gt;
Sending        java\testing\org\apache\derbyTesting\functionTests\tests\derbynet\testProtocol_app.properties&lt;br/&gt;
Transmitting file data ....&lt;br/&gt;
Committed revision 416485.&lt;/p&gt;</comment>
                            <comment id="12417383" author="mikem" created="Fri, 23 Jun 2006 06:17:10 +0100"  >&lt;p&gt;I missed one file new file in previous commit, here is the svn commit for it:&lt;/p&gt;

&lt;p&gt;m1_142:155&amp;gt;svn commit&lt;/p&gt;

&lt;p&gt;Adding         java\testing\org\apache\derbyTesting\functionTests\tests\derbynet\values64kblksz.inc&lt;br/&gt;
Transmitting file data .&lt;br/&gt;
Committed revision 416486.&lt;/p&gt;</comment>
                            <comment id="12419336" author="skambha" created="Thu, 6 Jul 2006 05:38:00 +0100"  >&lt;p&gt;This fix has been code for sometime. I have verified this fix with the odbc client driver.  &lt;/p&gt;</comment>
                            <comment id="12419344" author="bryanpendleton" created="Thu, 6 Jul 2006 06:02:00 +0100"  >&lt;p&gt;Thanks Sunitha for addressing this! Fix verified as complete.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12344809">DERBY-1441</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12344812">DERBY-1442</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12335349" name="959Notes_v1.html" size="17391" author="skambha" created="Tue, 13 Jun 2006 03:08:19 +0100"/>
                            <attachment id="12335353" name="SmallRows_32kBlkSz.trace" size="404352" author="skambha" created="Tue, 13 Jun 2006 03:16:39 +0100"/>
                            <attachment id="12335354" name="SmallRows_64kBlkSz.trace" size="403289" author="skambha" created="Tue, 13 Jun 2006 03:16:39 +0100"/>
                            <attachment id="12335350" name="derby959.review.diff.txt" size="6226" author="skambha" created="Tue, 13 Jun 2006 03:08:19 +0100"/>
                            <attachment id="12335351" name="derby959.review.stat.txt" size="427" author="skambha" created="Tue, 13 Jun 2006 03:08:20 +0100"/>
                            <attachment id="12335352" name="odbc_rowgreaterthan64k.trace" size="1509432" author="skambha" created="Tue, 13 Jun 2006 03:16:39 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10362"><![CDATA[Performance]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 13 Jun 2006 02:08:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>29804</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0whj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39081</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>