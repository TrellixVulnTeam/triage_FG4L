<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:42:24 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-2644/DERBY-2644.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-2644] multiple junit failures during nightly of the form: 2) Encryption Algorithm: defaultjava.security.AccessControlException: Access denied (java.util.PropertyPermission derby.system.home read)</title>
                <link>https://issues.apache.org/jira/browse/DERBY-2644</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Multiple security manager errors labeled with &quot;Encryption Algorithm&quot;  but not sure where they are coming from as the actual errors are from&lt;br/&gt;
tearDown, but I assume the real issue is the test that executed before the tearDown.  Anyone know how to get more info from the failure?&lt;br/&gt;
I am reporting this separately from &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2555&quot; title=&quot;Remove use of doPrivileged in EncryptionKeyTest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2555&quot;&gt;&lt;del&gt;DERBY-2555&lt;/del&gt;&lt;/a&gt; as it seems that  code was backed out and this issue still appeared.&lt;/p&gt;

&lt;p&gt;Here are 2 examples from a build done against  537324 , approximated 5:30pm, pacific time, friday 5/11.  &lt;br/&gt;
&lt;a href=&quot;http://people.apache.org/~fuzzylogic/derby_test_results/main/testlog/ibm142/537324-suites.All_diff.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://people.apache.org/~fuzzylogic/derby_test_results/main/testlog/ibm142/537324-suites.All_diff.txt&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://people.apache.org/~fuzzylogic/derby_test_results/main/testlog/ibm15/537324-suites.All_diff.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://people.apache.org/~fuzzylogic/derby_test_results/main/testlog/ibm15/537324-suites.All_diff.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Here is an example of some of the stacks inline so that searches for the bug will find it:&lt;br/&gt;
2) Encryption Algorithm: defaultjava.security.AccessControlException: access denied (java.util.PropertyPermission derby.system.home read)&lt;br/&gt;
	at java.security.AccessControlContext.checkPermission(AccessControlContext.java:292)&lt;br/&gt;
	at java.security.AccessController.checkPermission(AccessController.java:476)&lt;br/&gt;
	at java.lang.SecurityManager.checkPermission(SecurityManager.java:538)&lt;br/&gt;
	at java.lang.SecurityManager.checkPropertyAccess(SecurityManager.java:1290)&lt;br/&gt;
	at java.lang.System.getProperty(System.java:645)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase$3.run(BaseTestCase.java:202)&lt;br/&gt;
	at java.security.AccessController.doPrivileged1(Native Method)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(AccessController.java:287)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.getSystemProperty(BaseTestCase.java:198)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DropDatabaseSetup.removeDatabase(DropDatabaseSetup.java:88)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DropDatabaseSetup.tearDown(DropDatabaseSetup.java:80)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:20)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
3) Encryption Algorithm: AES/CBC/NoPaddingjava.sql.SQLException: Java exception: &apos;access denied (java.io.FilePermission C:\jartest\JarResults.2007-05-11\ibm142_suites.All\system read): java.security.AccessControlException&apos;.&lt;br/&gt;
	at java.security.AccessControlContext.checkPermission(AccessControlContext.java:292)&lt;br/&gt;
	at java.security.AccessController.checkPermission(AccessController.java:476)&lt;br/&gt;
	at java.lang.SecurityManager.checkPermission(SecurityManager.java:538)&lt;br/&gt;
	at java.lang.SecurityManager.checkRead(SecurityManager.java:877)&lt;br/&gt;
	at java.io.File.exists(File.java:705)&lt;br/&gt;
	at java.io.File.mkdirs(File.java:1146)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService$1.run(Unknown Source)&lt;br/&gt;
	at java.security.AccessController.doPrivileged1(Native Method)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(AccessController.java:351)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.getPersistentService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.access$100(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.getNextStorageFactory(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.hasMoreElements(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.findProviderAndStartService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.iapi.services.monitor.Monitor.startPersistentService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.bootDatabase(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection30.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.Driver30.getNewEmbedConnection(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.InternalDriver.connect(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.EmbeddedDataSource.getConnection(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.EmbeddedDataSource.getConnection(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.junit.Decorator$2.setUp(Decorator.java:129)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:18)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
4) Encryption Algorithm: AES/CBC/NoPaddingjava.sql.SQLException: Java exception: &apos;access denied (java.io.FilePermission C:\jartest\JarResults.2007-05-11\ibm142_suites.All\system read): java.security.AccessControlException&apos;.&lt;br/&gt;
	at java.security.AccessControlContext.checkPermission(AccessControlContext.java:292)&lt;br/&gt;
	at java.security.AccessController.checkPermission(AccessController.java:476)&lt;br/&gt;
	at java.lang.SecurityManager.checkPermission(SecurityManager.java:538)&lt;br/&gt;
	at java.lang.SecurityManager.checkRead(SecurityManager.java:877)&lt;br/&gt;
	at java.io.File.exists(File.java:705)&lt;br/&gt;
	at java.io.File.mkdirs(File.java:1146)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService$1.run(Unknown Source)&lt;br/&gt;
	at java.security.AccessController.doPrivileged1(Native Method)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(AccessController.java:351)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.getPersistentService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.access$100(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.getNextStorageFactory(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.hasMoreElements(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.findProviderAndStartService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.iapi.services.monitor.Monitor.startPersistentService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.bootDatabase(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection30.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.Driver30.getNewEmbedConnection(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.InternalDriver.connect(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.AutoloadedDriver.connect(Unknown Source)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:559)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:189)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DriverManagerConnector.openConnection(DriverManagerConnector.java:76)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DriverManagerConnector.openConnection(DriverManagerConnector.java:47)&lt;br/&gt;
	at org.apache.derbyTesting.junit.TestConfiguration.openConnection(TestConfiguration.java:986)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DropDatabaseSetup.tearDown(DropDatabaseSetup.java:57)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:20)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
5) Encryption Algorithm: DES/ECB/NoPaddingjava.sql.SQLException: Java exception: &apos;access denied (java.io.FilePermission C:\jartest\JarResults.2007-05-11\ibm142_suites.All\system read): java.security.AccessControlException&apos;.&lt;br/&gt;
	at java.security.AccessControlContext.checkPermission(AccessControlContext.java:292)&lt;br/&gt;
	at java.security.AccessController.checkPermission(AccessController.java:476)&lt;br/&gt;
	at java.lang.SecurityManager.checkPermission(SecurityManager.java:538)&lt;br/&gt;
	at java.lang.SecurityManager.checkRead(SecurityManager.java:877)&lt;br/&gt;
	at java.io.File.exists(File.java:705)&lt;br/&gt;
	at java.io.File.mkdirs(File.java:1146)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService$1.run(Unknown Source)&lt;br/&gt;
	at java.security.AccessController.doPrivileged1(Native Method)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(AccessController.java:351)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.getPersistentService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.access$100(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.getNextStorageFactory(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.hasMoreElements(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.findProviderAndStartService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.iapi.services.monitor.Monitor.startPersistentService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.bootDatabase(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection30.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.Driver30.getNewEmbedConnection(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.InternalDriver.connect(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.EmbeddedDataSource.getConnection(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.EmbeddedDataSource.getConnection(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.junit.Decorator$2.setUp(Decorator.java:129)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:18)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
6) Encryption Algorithm: DES/ECB/NoPaddingjava.sql.SQLException: Java exception: &apos;access denied (java.io.FilePermission C:\jartest\JarResults.2007-05-11\ibm142_suites.All\system read): java.security.AccessControlException&apos;.&lt;br/&gt;
	at java.security.AccessControlContext.checkPermission(AccessControlContext.java:292)&lt;br/&gt;
	at java.security.AccessController.checkPermission(AccessController.java:476)&lt;br/&gt;
	at java.lang.SecurityManager.checkPermission(SecurityManager.java:538)&lt;br/&gt;
	at java.lang.SecurityManager.checkRead(SecurityManager.java:877)&lt;br/&gt;
	at java.io.File.exists(File.java:705)&lt;br/&gt;
	at java.io.File.mkdirs(File.java:1146)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService$1.run(Unknown Source)&lt;br/&gt;
	at java.security.AccessController.doPrivileged1(Native Method)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(AccessController.java:351)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.getPersistentService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.access$100(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.getNextStorageFactory(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.hasMoreElements(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.findProviderAndStartService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.iapi.services.monitor.Monitor.startPersistentService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.bootDatabase(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection30.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.Driver30.getNewEmbedConnection(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.InternalDriver.connect(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.AutoloadedDriver.connect(Unknown Source)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:559)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:189)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DriverManagerConnector.openConnection(DriverManagerConnector.java:76)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DriverManagerConnector.openConnection(DriverManagerConnector.java:47)&lt;br/&gt;
	at org.apache.derbyTesting.junit.TestConfiguration.openConnection(TestConfiguration.java:986)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DropDatabaseSetup.tearDown(DropDatabaseSetup.java:57)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:20)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
7) Encryption Algorithm: DESede/CFB/NoPaddingjava.sql.SQLException: Java exception: &apos;access denied (java.io.FilePermission C:\jartest\JarResults.2007-05-11\ibm142_suites.All\system read): java.security.AccessControlException&apos;.&lt;br/&gt;
	at java.security.AccessControlContext.checkPermission(AccessControlContext.java:292)&lt;br/&gt;
	at java.security.AccessController.checkPermission(AccessController.java:476)&lt;br/&gt;
	at java.lang.SecurityManager.checkPermission(SecurityManager.java:538)&lt;br/&gt;
	at java.lang.SecurityManager.checkRead(SecurityManager.java:877)&lt;br/&gt;
	at java.io.File.exists(File.java:705)&lt;br/&gt;
	at java.io.File.mkdirs(File.java:1146)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService$1.run(Unknown Source)&lt;br/&gt;
	at java.security.AccessController.doPrivileged1(Native Method)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(AccessController.java:351)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.getPersistentService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.access$100(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.getNextStorageFactory(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.hasMoreElements(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.findProviderAndStartService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.iapi.services.monitor.Monitor.startPersistentService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.bootDatabase(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection30.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.Driver30.getNewEmbedConnection(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.InternalDriver.connect(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.EmbeddedDataSource.getConnection(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.EmbeddedDataSource.getConnection(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.junit.Decorator$2.setUp(Decorator.java:129)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:18)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
8) Encryption Algorithm: DESede/CFB/NoPaddingjava.sql.SQLException: Java exception: &apos;access denied (java.io.FilePermission C:\jartest\JarResults.2007-05-11\ibm142_suites.All\system read): java.security.AccessControlException&apos;.&lt;br/&gt;
	at java.security.AccessControlContext.checkPermission(AccessControlContext.java:292)&lt;br/&gt;
	at java.security.AccessController.checkPermission(AccessController.java:476)&lt;br/&gt;
	at java.lang.SecurityManager.checkPermission(SecurityManager.java:538)&lt;br/&gt;
	at java.lang.SecurityManager.checkRead(SecurityManager.java:877)&lt;br/&gt;
	at java.io.File.exists(File.java:705)&lt;br/&gt;
	at java.io.File.mkdirs(File.java:1146)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService$1.run(Unknown Source)&lt;br/&gt;
	at java.security.AccessController.doPrivileged1(Native Method)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(AccessController.java:351)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.getPersistentService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.access$100(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.getNextStorageFactory(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.hasMoreElements(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.findProviderAndStartService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.iapi.services.monitor.Monitor.startPersistentService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.bootDatabase(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection30.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.Driver30.getNewEmbedConnection(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.InternalDriver.connect(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.AutoloadedDriver.connect(Unknown Source)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:559)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:189)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DriverManagerConnector.openConnection(DriverManagerConnector.java:76)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DriverManagerConnector.openConnection(DriverManagerConnector.java:47)&lt;br/&gt;
	at org.apache.derbyTesting.junit.TestConfiguration.openConnection(TestConfiguration.java:986)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DropDatabaseSetup.tearDown(DropDatabaseSetup.java:57)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:20)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
9) Encryption Algorithm: DES/CBC/NoPaddingjava.sql.SQLException: Java exception: &apos;access denied (java.io.FilePermission C:\jartest\JarResults.2007-05-11\ibm142_suites.All\system read): java.security.AccessControlException&apos;.&lt;br/&gt;
	at java.security.AccessControlContext.checkPermission(AccessControlContext.java:292)&lt;br/&gt;
	at java.security.AccessController.checkPermission(AccessController.java:476)&lt;br/&gt;
	at java.lang.SecurityManager.checkPermission(SecurityManager.java:538)&lt;br/&gt;
	at java.lang.SecurityManager.checkRead(SecurityManager.java:877)&lt;br/&gt;
	at java.io.File.exists(File.java:705)&lt;br/&gt;
	at java.io.File.mkdirs(File.java:1146)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService$1.run(Unknown Source)&lt;br/&gt;
	at java.security.AccessController.doPrivileged1(Native Method)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(AccessController.java:351)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.getPersistentService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.access$100(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.getNextStorageFactory(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.hasMoreElements(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.findProviderAndStartService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.iapi.services.monitor.Monitor.startPersistentService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.bootDatabase(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection30.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.Driver30.getNewEmbedConnection(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.InternalDriver.connect(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.EmbeddedDataSource.getConnection(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.EmbeddedDataSource.getConnection(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.junit.Decorator$2.setUp(Decorator.java:129)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:18)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
10) Encryption Algorithm: DES/CBC/NoPaddingjava.sql.SQLException: Java exception: &apos;access denied (java.io.FilePermission C:\jartest\JarResults.2007-05-11\ibm142_suites.All\system read): java.security.AccessControlException&apos;.&lt;br/&gt;
	at java.security.AccessControlContext.checkPermission(AccessControlContext.java:292)&lt;br/&gt;
	at java.security.AccessController.checkPermission(AccessController.java:476)&lt;br/&gt;
	at java.lang.SecurityManager.checkPermission(SecurityManager.java:538)&lt;br/&gt;
	at java.lang.SecurityManager.checkRead(SecurityManager.java:877)&lt;br/&gt;
	at java.io.File.exists(File.java:705)&lt;br/&gt;
	at java.io.File.mkdirs(File.java:1146)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService$1.run(Unknown Source)&lt;br/&gt;
	at java.security.AccessController.doPrivileged1(Native Method)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(AccessController.java:351)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.getPersistentService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.access$100(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.getNextStorageFactory(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.hasMoreElements(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.findProviderAndStartService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.iapi.services.monitor.Monitor.startPersistentService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.bootDatabase(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection30.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.Driver30.getNewEmbedConnection(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.InternalDriver.connect(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.AutoloadedDriver.connect(Unknown Source)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:559)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:189)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DriverManagerConnector.openConnection(DriverManagerConnector.java:76)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DriverManagerConnector.openConnection(DriverManagerConnector.java:47)&lt;br/&gt;
	at org.apache.derbyTesting.junit.TestConfiguration.openConnection(TestConfiguration.java:986)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DropDatabaseSetup.tearDown(DropDatabaseSetup.java:57)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:20)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
11) Encryption Algorithm: Blowfish/CBC/NoPaddingjava.sql.SQLException: Java exception: &apos;access denied (java.io.FilePermission C:\jartest\JarResults.2007-05-11\ibm142_suites.All\system read): java.security.AccessControlException&apos;.&lt;br/&gt;
	at java.security.AccessControlContext.checkPermission(AccessControlContext.java:292)&lt;br/&gt;
	at java.security.AccessController.checkPermission(AccessController.java:476)&lt;br/&gt;
	at java.lang.SecurityManager.checkPermission(SecurityManager.java:538)&lt;br/&gt;
	at java.lang.SecurityManager.checkRead(SecurityManager.java:877)&lt;br/&gt;
	at java.io.File.exists(File.java:705)&lt;br/&gt;
	at java.io.File.mkdirs(File.java:1146)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService$1.run(Unknown Source)&lt;br/&gt;
	at java.security.AccessController.doPrivileged1(Native Method)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(AccessController.java:351)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.getPersistentService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.access$100(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.getNextStorageFactory(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.hasMoreElements(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.findProviderAndStartService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.iapi.services.monitor.Monitor.startPersistentService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.bootDatabase(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection30.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.Driver30.getNewEmbedConnection(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.InternalDriver.connect(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.EmbeddedDataSource.getConnection(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.EmbeddedDataSource.getConnection(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.junit.Decorator$2.setUp(Decorator.java:129)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:18)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
12) Encryption Algorithm: Blowfish/CBC/NoPaddingjava.sql.SQLException: Java exception: &apos;access denied (java.io.FilePermission C:\jartest\JarResults.2007-05-11\ibm142_suites.All\system read): java.security.AccessControlException&apos;.&lt;br/&gt;
	at java.security.AccessControlContext.checkPermission(AccessControlContext.java:292)&lt;br/&gt;
	at java.security.AccessController.checkPermission(AccessController.java:476)&lt;br/&gt;
	at java.lang.SecurityManager.checkPermission(SecurityManager.java:538)&lt;br/&gt;
	at java.lang.SecurityManager.checkRead(SecurityManager.java:877)&lt;br/&gt;
	at java.io.File.exists(File.java:705)&lt;br/&gt;
	at java.io.File.mkdirs(File.java:1146)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService$1.run(Unknown Source)&lt;br/&gt;
	at java.security.AccessController.doPrivileged1(Native Method)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(AccessController.java:351)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.getPersistentService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.access$100(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.getNextStorageFactory(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.hasMoreElements(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.findProviderAndStartService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.iapi.services.monitor.Monitor.startPersistentService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.bootDatabase(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection30.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.Driver30.getNewEmbedConnection(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.InternalDriver.connect(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.AutoloadedDriver.connect(Unknown Source)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:559)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:189)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DriverManagerConnector.openConnection(DriverManagerConnector.java:76)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DriverManagerConnector.openConnection(DriverManagerConnector.java:47)&lt;br/&gt;
	at org.apache.derbyTesting.junit.TestConfiguration.openConnection(TestConfiguration.java:986)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DropDatabaseSetup.tearDown(DropDatabaseSetup.java:57)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:20)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
13) Encryption Algorithm: AES/OFB/NoPaddingjava.sql.SQLException: Java exception: &apos;access denied (java.io.FilePermission C:\jartest\JarResults.2007-05-11\ibm142_suites.All\system read): java.security.AccessControlException&apos;.&lt;br/&gt;
	at java.security.AccessControlContext.checkPermission(AccessControlContext.java:292)&lt;br/&gt;
	at java.security.AccessController.checkPermission(AccessController.java:476)&lt;br/&gt;
	at java.lang.SecurityManager.checkPermission(SecurityManager.java:538)&lt;br/&gt;
	at java.lang.SecurityManager.checkRead(SecurityManager.java:877)&lt;br/&gt;
	at java.io.File.exists(File.java:705)&lt;br/&gt;
	at java.io.File.mkdirs(File.java:1146)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService$1.run(Unknown Source)&lt;br/&gt;
	at java.security.AccessController.doPrivileged1(Native Method)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(AccessController.java:351)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.getPersistentService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.access$100(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.getNextStorageFactory(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.hasMoreElements(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.findProviderAndStartService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.iapi.services.monitor.Monitor.startPersistentService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.bootDatabase(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection30.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.Driver30.getNewEmbedConnection(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.InternalDriver.connect(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.EmbeddedDataSource.getConnection(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.EmbeddedDataSource.getConnection(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.junit.Decorator$2.setUp(Decorator.java:129)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:18)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
14) Encryption Algorithm: AES/OFB/NoPaddingjava.sql.SQLException: Java exception: &apos;access denied (java.io.FilePermission C:\jartest\JarResults.2007-05-11\ibm142_suites.All\system read): java.security.AccessControlException&apos;.&lt;br/&gt;
	at java.security.AccessControlContext.checkPermission(AccessControlContext.java:292)&lt;br/&gt;
	at java.security.AccessController.checkPermission(AccessController.java:476)&lt;br/&gt;
	at java.lang.SecurityManager.checkPermission(SecurityManager.java:538)&lt;br/&gt;
	at java.lang.SecurityManager.checkRead(SecurityManager.java:877)&lt;br/&gt;
	at java.io.File.exists(File.java:705)&lt;br/&gt;
	at java.io.File.mkdirs(File.java:1146)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService$1.run(Unknown Source)&lt;br/&gt;
	at java.security.AccessController.doPrivileged1(Native Method)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(AccessController.java:351)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.getPersistentService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.access$100(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.getNextStorageFactory(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.hasMoreElements(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.findProviderAndStartService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.iapi.services.monitor.Monitor.startPersistentService(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.bootDatabase(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection30.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.Driver30.getNewEmbedConnection(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.InternalDriver.connect(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.AutoloadedDriver.connect(Unknown Source)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:559)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:189)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DriverManagerConnector.openConnection(DriverManagerConnector.java:76)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DriverManagerConnector.openConnection(DriverManagerConnector.java:47)&lt;br/&gt;
	at org.apache.derbyTesting.junit.TestConfiguration.openConnection(TestConfiguration.java:986)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DropDatabaseSetup.tearDown(DropDatabaseSetup.java:57)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:20)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;/p&gt;</description>
                <environment>ibm15 jvm&lt;br/&gt;
ibm 142 jvm&lt;br/&gt;
insane build jar&amp;#39;s</environment>
        <key id="12369297">DERBY-2644</key>
            <summary>multiple junit failures during nightly of the form: 2) Encryption Algorithm: defaultjava.security.AccessControlException: Access denied (java.util.PropertyPermission derby.system.home read)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kmarsden">Kathey Marsden</assignee>
                                    <reporter username="mikem">Mike Matrigali</reporter>
                        <labels>
                    </labels>
                <created>Mon, 14 May 2007 18:26:22 +0100</created>
                <updated>Fri, 21 Jan 2011 17:50:08 +0000</updated>
                            <resolved>Tue, 22 May 2007 23:20:41 +0100</resolved>
                                    <version>10.3.1.4</version>
                                    <fixVersion>10.3.1.4</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12495684" author="mikem" created="Mon, 14 May 2007 18:27:37 +0100"  >&lt;p&gt;Does anyone know, do you need jar files vs. classes to get security manager errors?  I have run full suites 3 or 4 times agains ibm15 since this build and never see these errors, but I tend to run against SANE, classes.&lt;/p&gt;</comment>
                            <comment id="12496626" author="mikem" created="Thu, 17 May 2007 18:06:47 +0100"  >&lt;p&gt;I spoke with Dan and he verified that Security manager execeptions are likely to only happen if you are running against jars, if you happen to be running against classes you will not reproduce the errors.&lt;/p&gt;</comment>
                            <comment id="12496687" author="kmarsden" created="Thu, 17 May 2007 22:05:55 +0100"  >&lt;p&gt;I was able to reproduce this using insane jars and matching the classpath order of the failed run:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;C:/svn2/trunk&amp;#93;&lt;/span&gt; echo $CLASSPATH&lt;br/&gt;
C:/svn2/trunk/jars/insane/derby.jar;JARDIR/derbyLocale_fr.jar;C:/svn2/trunk/jars/insane/derbyLocale_pl.jar;C:/svn2/trunk&lt;br/&gt;
/jars/insane/derbyLocale_hu.jar;C:/svn2/trunk/jars/insane/derbyLocale_pt_BR.jar;C:/svn2/trunk/jars/insane/derbyLocale_it&lt;br/&gt;
.jar;C:/svn2/trunk/jars/insane/derbyLocale_ru.jar;C:/svn2/trunk/jars/insane/derbyLocale_ja_JP.jar;C:/svn2/trunk/jars/ins&lt;br/&gt;
ane/derbyLocale_zh_CN.jar;C:/svn2/trunk/jars/insane/derbyLocale_ko_KR.jar;C:/svn2/trunk/jars/insane/derbyLocale_zh_TW.ja&lt;br/&gt;
r;C:/svn2/trunk/jars/insane/derbytools.jar;C:/svn2/trunk/jars/insane/derbyclient.jar;C:/svn2/trunk/jars/insane/derbynet.&lt;br/&gt;
jar;C:/svn2/trunk/jars/insane/derbyTesting.jar;c:/svn/tools/db2jcc.jar;c:/svn/tools/db2jcc_license_c.jar;C:/svn2/trunk/tools/java/jakarta-oro-2.0.8.jar;C:/svn2/trunk/tools/java/osgi.jar;c:/svn/tools/junit.jar&lt;/p&gt;

&lt;p&gt;I am not sure yet why the errors.  The failures are for permissions granted by the default policy file.&lt;/p&gt;</comment>
                            <comment id="12496693" author="djd" created="Thu, 17 May 2007 22:43:11 +0100"  >&lt;p&gt;Do the failures occur with a simpler user defined classpath?&lt;/p&gt;

&lt;p&gt;All the locale files can be dropped since they are implicitly added by derby.jar&lt;/p&gt;

&lt;p&gt;jakarta-oro-2.0.8.jar can be dropped since it&apos;s not required for the junit tests&lt;/p&gt;

&lt;p&gt;osgi.jar can be dropped since it&apos;s not required for the junit tests&lt;/p&gt;

&lt;p&gt;derby.jar can be dropped since derbynet.jar is in the classpath&lt;/p&gt;

&lt;p&gt;db2jcc.jar and db2jcc_license_c.jar are not required for the junit tests&lt;/p&gt;

&lt;p&gt;The classpath used by this nightly testing does not refect how users are expected to set a classpath, is it a specific test case of doing something extreme?&lt;/p&gt;</comment>
                            <comment id="12496711" author="mikem" created="Thu, 17 May 2007 23:47:24 +0100"  >&lt;p&gt;I am now pretty consistently seeing these errors in my development line runs on XP, running ibm15 jvm.  I believe that somehow these errors in the encryption test cleanup is related to the upgrade tests &amp;#8211; but not sure how.  If I hand edit&lt;br/&gt;
the AllPackages.java to remove the upgrade tests then the encryption unit tests work.  If I add the upgrade tests back and&lt;br/&gt;
run the whole suite I get the encryption errors.  Maybe upgrade tests are leaving something around that is causing issues&lt;br/&gt;
for subsequent encrypt tests?&lt;/p&gt;

&lt;p&gt;I know junit does not guarantee an order of test running.  On my system it looks like upgrade tests run first  and then&lt;br/&gt;
the encryption tests later.  Does anyone know if order of running tests is somehow JVM/OS dependent - maybe a hash&lt;br/&gt;
table somewhere?  I don&apos;t want to count on the order, but it would be nice when debugging these kinds of issues to know&lt;br/&gt;
what might make something work on one system and not another.  &lt;/p&gt;</comment>
                            <comment id="12496719" author="djd" created="Fri, 18 May 2007 00:12:25 +0100"  >&lt;p&gt;&amp;gt; I know junit does not guarantee an order of test running. On my system it looks like upgrade tests run first and then&lt;br/&gt;
the encryption tests later. &lt;/p&gt;

&lt;p&gt;Junit will maintain the order that is defined in the suite, so the tests added first to the suite are run first.&lt;/p&gt;

&lt;p&gt;The lack of ordering comes in when adding tests to the suite automatically, ie. when using the class&lt;br/&gt;
to add all fixtures that start with &apos;test&apos;. In that case the order they are added into the suite is not guaranteed.&lt;/p&gt;

&lt;p&gt;So in a suitation like&lt;/p&gt;

&lt;p&gt; suite.addTestSuite(A.class);&lt;br/&gt;
 suite.addTestSuite(B.class);&lt;/p&gt;

&lt;p&gt;All of the fixtures in A.class will be run before those of B.class, but the order of fixtures within A.class is not defined.&lt;/p&gt;</comment>
                            <comment id="12496722" author="djd" created="Fri, 18 May 2007 00:18:11 +0100"  >&lt;p&gt;Is the folder the tests are being run being cleared out before the each run?&lt;br/&gt;
Ideally that should not matter, but I don&apos;t think we have yet reached the point with the junit tests where they all can be re-run in the same folder.&lt;/p&gt;</comment>
                            <comment id="12496723" author="kmarsden" created="Fri, 18 May 2007 00:18:52 +0100"  >&lt;p&gt;Dan asked:&lt;br/&gt;
&amp;gt;Do the failures occur with a simpler user defined classpath? &lt;/p&gt;

&lt;p&gt;Yes, they occur with a classpath of:&lt;br/&gt;
C:/svn2/trunk/jars/insane/derbytools.jar;C:/svn2/trunk/jars/insane/derbyclient.jar;C:/svn2/trunk/jars/insane/derbynet.ja&lt;br/&gt;
r;C:/svn2/trunk/jars/insane/derbytesting.jar;c:/svn/tools/junit.jar&lt;/p&gt;</comment>
                            <comment id="12496726" author="kmarsden" created="Fri, 18 May 2007 00:34:43 +0100"  >&lt;p&gt;Dan asked:&lt;br/&gt;
&amp;gt;Is the folder the tests are being run being cleared out before the each run?&lt;br/&gt;
yes&lt;/p&gt;</comment>
                            <comment id="12496758" author="kmarsden" created="Fri, 18 May 2007 03:54:20 +0100"  >&lt;p&gt;Printing the nested exceptions, this one seems to be the source of the trouble:&lt;br/&gt;
Adding  permission java.util.PropertyPermission &quot;user.dir&quot;, &quot;read&quot;;   to the policy file seems to rectify all the errors.&lt;br/&gt;
I am rerunning to see if it is perhaps a fluke.  I think we would have to change the documentation to say that this&lt;br/&gt;
property is required for backup.  I still have no idea, why we sometimes get this and sometime not.&lt;br/&gt;
 I am running suites.All a few times to see if it is really fixed.&lt;/p&gt;



&lt;p&gt;java.sql.SQLException: The exception &apos;java.security.AccessControlException: access denied (java.util.PropertyPermission user.dir read)&apos; was thrown while evaluating an expression.&lt;br/&gt;
	at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.generateCsSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.handleException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.ConnectionChild.handleException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeStatement(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedCallableStatement.executeStatement(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedPreparedStatement.execute(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.store.EncryptionKeyTest.testBackupEncryptedDatabase(EncryptionKeyTest.java:242)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java(Compiled Code))&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java(Compiled Code))&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java(Compiled Code))&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java(Compiled Code))&lt;br/&gt;
	at junit.framework.TestCase.runTest(TestCase.java(Compiled Code))&lt;br/&gt;
	at junit.framework.TestCase.runBare(TestCase.java(Compiled Code))&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java(Compiled Code))&lt;br/&gt;
	at junit.framework.TestResult$1.protect(TestResult.java(Inlined Compiled Code))&lt;br/&gt;
	at junit.framework.TestResult.runProtected(TestResult.java(Inlined Compiled Code))&lt;br/&gt;
	at junit.framework.TestResult.run(TestResult.java(Inlined Compiled Code))&lt;br/&gt;
	at junit.framework.TestCase.run(TestCase.java(Compiled Code))&lt;br/&gt;
	at junit.framework.TestSuite.runTest(TestSuite.java(Inlined Compiled Code))&lt;br/&gt;
	at junit.framework.TestSuite.run(TestSuite.java(Compiled Code))&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.framework.TestResult.runProtected(TestResult.java(Compiled Code))&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.framework.TestSuite.runTest(TestSuite.java(Inlined Compiled Code))&lt;br/&gt;
	at junit.framework.TestSuite.run(TestSuite.java(Compiled Code))&lt;br/&gt;
	at junit.framework.TestSuite.runTest(TestSuite.java(Compiled Code))&lt;br/&gt;
	at junit.framework.TestSuite.run(TestSuite.java:203)&lt;br/&gt;
	at junit.framework.TestSuite.runTest(TestSuite.java:208)&lt;br/&gt;
	at junit.framework.TestSuite.run(TestSuite.java:203)&lt;br/&gt;
	at TimeRunner.main(TimeRunner.java:29)&lt;br/&gt;
Caused by: ERROR 38000: The exception &apos;java.security.AccessControlException: access denied (java.util.PropertyPermission user.dir read)&apos; was thrown while evaluating an expression.&lt;br/&gt;
	at org.apache.derby.iapi.error.StandardException.newException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.iapi.error.StandardException.unexpectedUserException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.services.reflect.ReflectMethod.invoke(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.execute.CallStatementResultSet.open(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source)&lt;br/&gt;
	... 30 more&lt;br/&gt;
Caused by: java.security.AccessControlException: access denied (java.util.PropertyPermission user.dir read)&lt;br/&gt;
	at java.security.AccessControlContext.checkPermission(AccessControlContext.java(Compiled Code))&lt;br/&gt;
	at java.security.AccessController.checkPermission(AccessController.java(Compiled Code))&lt;br/&gt;
	at java.lang.SecurityManager.checkPermission(SecurityManager.java(Compiled Code))&lt;br/&gt;
	at java.lang.SecurityManager.checkPropertyAccess(SecurityManager.java(Compiled Code))&lt;br/&gt;
	at java.lang.System.getProperty(System.java(Inlined Compiled Code))&lt;br/&gt;
	at java.io.Win32FileSystem.getUserPath(Win32FileSystem.java(Inlined Compiled Code))&lt;br/&gt;
	at java.io.Win32FileSystem.resolve(Win32FileSystem.java(Compiled Code))&lt;br/&gt;
	at java.io.File.getCanonicalPath(File.java(Inlined Compiled Code))&lt;br/&gt;
	at java.io.File.getCanonicalFile(File.java(Inlined Compiled Code))&lt;br/&gt;
	at java.io.File.mkdirs(File.java(Compiled Code))&lt;br/&gt;
	at org.apache.derby.impl.store.raw.RawStore.run(Unknown Source)&lt;br/&gt;
	at java.security.AccessController.doPrivileged1(Native Method)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(AccessController.java(Compiled Code))&lt;br/&gt;
	at org.apache.derby.impl.store.raw.RawStore.privMkdirs(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.store.raw.RawStore.backup(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.store.raw.RawStore.backup(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.store.access.RAMAccessManager.backup(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.db.BasicDatabase.backup(Unknown Source)&lt;br/&gt;
	at org.apache.derby.catalog.SystemProcedures.SYSCS_BACKUP_DATABASE(Unknown Source)&lt;br/&gt;
	at org.apache.derby.exe.ac63c241b2x0112x9c7ax6657x00000e3213ef2.g0(Unknown Source)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java(Compiled Code))&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java(Compiled Code))&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java(Compiled Code))&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java(Compiled Code))&lt;/p&gt;</comment>
                            <comment id="12496774" author="kmarsden" created="Fri, 18 May 2007 05:16:35 +0100"  >&lt;p&gt;nope. failed again #&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12496797" author="mikem" created="Fri, 18 May 2007 07:31:53 +0100"  >&lt;p&gt;Dan asked:&lt;br/&gt;
&amp;gt;Is the folder the tests are being run being cleared out before the each run?&lt;br/&gt;
Also in my case I by hand delete and recreate the directory that the junit is run and cd into that new directory to run them.&lt;/p&gt;

&lt;p&gt;To lower the amount of time to reproduce I  got it to reproduce consistently in my environment when I commented out  &lt;br/&gt;
every addTest call in AllPackages except for the following 2:&lt;br/&gt;
        // Adding JUnit unit tests here to avoid creating a new JUnit&lt;br/&gt;
        // harness above the functionTests and unitTests&lt;br/&gt;
        // directories(packages)&lt;br/&gt;
        suite.addTest(org.apache.derbyTesting.unitTests.junit._Suite.suite());&lt;/p&gt;

&lt;p&gt;        // Add the upgrade tests, though will only run tests if the&lt;br/&gt;
        // System property derbyTesting.oldReleasePath is set&lt;br/&gt;
        // to point at old releases. See upgradeTests._Suite&lt;br/&gt;
        // for more information.&lt;br/&gt;
        suite.addTest(&lt;br/&gt;
           org.apache.derbyTesting.functionTests.tests.upgradeTests._Suite.suite&lt;br/&gt;
());&lt;/p&gt;

&lt;p&gt;In my environment the upgrade tests run first, though are added last.&lt;/p&gt;</comment>
                            <comment id="12496923" author="djd" created="Fri, 18 May 2007 17:04:00 +0100"  >&lt;p&gt;I saw this on MacOS with the 1.5 jvm running in the swing test runner using insane jars.&lt;/p&gt;</comment>
                            <comment id="12496963" author="kmarsden" created="Fri, 18 May 2007 18:22:44 +0100"  >&lt;p&gt;I think  I will disable EncryptionKeyAESTest EncryptionKeyDESTest and EncryptionKeyBlowfishTest until this issue can be resolved, since it is disrupting the nightlies.&lt;/p&gt;</comment>
                            <comment id="12497032" author="kmarsden" created="Fri, 18 May 2007 21:49:28 +0100"  >&lt;p&gt;committed  revision 539598 to disable EncryptionKeyAESTest, EncryptionKeyDESTest and EncryptionKeyBlowfishTest until permissions errors can be resolved.  I saw a failure in DataSourceTest in running Suites.All which fails also in a client without this change, so I don&apos;t think it is related.&lt;/p&gt;


</comment>
                            <comment id="12497084" author="kmarsden" created="Sat, 19 May 2007 00:25:51 +0100"  >&lt;p&gt;At least part of the problem is that the jars require:&lt;br/&gt;
permission java.util.PropertyPermission &quot;user.dir&quot;, &quot;read&quot;; &lt;/p&gt;

&lt;p&gt;This is required for mkDirs() as shown from the stack trace.&lt;br/&gt;
classes was already being granted permission to read all properties but Mike is still seeing errors there, so there is something else as well.&lt;/p&gt;</comment>
                            <comment id="12497097" author="mikem" created="Sat, 19 May 2007 01:31:29 +0100"  >&lt;p&gt;I am still seeing the errors even after your checkin.  I think the errors are actually coming from this line&lt;br/&gt;
in All.java:&lt;br/&gt;
 // Encrypted tests&lt;br/&gt;
 suite.addTest(EncryptionSuite.suite());&lt;/p&gt;

&lt;p&gt;And if I am following  junit  stuff correctly I think that the only thing being tested  by these is that we can create them, and&lt;br/&gt;
get a connection to them.  &lt;/p&gt;

&lt;p&gt;The test I just ran was bringing my client up to date,  539642.  I then hand edited Allpackages.java  to not run any test except for the upgrade tests - this is so I could get whole suite to run in 10 minutes vs. 2 hours).  When I ran I got the same set of errors:&lt;br/&gt;
This is running against SANE, classes build:&lt;/p&gt;

&lt;p&gt;.........................................&lt;br/&gt;
.........................................&lt;br/&gt;
.........................................&lt;br/&gt;
.........................................&lt;br/&gt;
.........................................&lt;br/&gt;
.........................................&lt;br/&gt;
.........................................&lt;br/&gt;
.........................................&lt;br/&gt;
.........................................&lt;br/&gt;
.........................................&lt;br/&gt;
.........................................&lt;br/&gt;
.........................................&lt;br/&gt;
.........................................&lt;br/&gt;
.........................................&lt;br/&gt;
.........................................&lt;br/&gt;
......................EEEEEEEEEEEEE&lt;br/&gt;
Time: 915.396&lt;br/&gt;
There were 13 errors:&lt;br/&gt;
1) Encryption Algorithm: defaultjava.security.AccessControlException: Access denied (java.util.PropertyPermission derby.system.home read)&lt;br/&gt;
	at java.security.AccessController.checkPermission(AccessController.java:104)&lt;br/&gt;
	at java.lang.SecurityManager.checkPermission(SecurityManager.java:547)&lt;br/&gt;
	at java.lang.SecurityManager.checkPropertyAccess(SecurityManager.java:1300)&lt;br/&gt;
	at java.lang.System.getProperty(System.java:369)&lt;br/&gt;
	at java.lang.System.getProperty(System.java:354)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase$3.run(BaseTestCase.java:202)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(AccessController.java:193)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.getSystemProperty(BaseTestCase.java:198)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DropDatabaseSetup.removeDatabase(DropDatabaseSetup.java:88)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DropDatabaseSetup.tearDown(DropDatabaseSetup.java:80)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:20)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
2) Encryption Algorithm: AES/CBC/NoPaddingjava.sql.SQLException: Java exception: &apos;Access denied (java.io.FilePermission C:\p4\m2\systest\out\junit\system read): java.security.AccessControlException&apos;.&lt;br/&gt;
	at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(SQLExceptionFactory.java:45)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Util.java:88)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Util.java:99)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.javaException(Util.java:234)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(TransactionResourceImpl.java:386)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(TransactionResourceImpl.java:345)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.handleException(EmbedConnection.java:1549)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(EmbedConnection.java:373)&lt;br/&gt;
	at org.apache.derby.jdbc.Driver30.getNewEmbedConnection(Driver30.java:80)&lt;br/&gt;
	at org.apache.derby.jdbc.InternalDriver.connect(InternalDriver.java:209)&lt;br/&gt;
	at org.apache.derby.jdbc.EmbeddedDataSource.getConnection(EmbeddedDataSource.java:479)&lt;br/&gt;
	at org.apache.derby.jdbc.EmbeddedDataSource.getConnection(EmbeddedDataSource.java:423)&lt;br/&gt;
	at org.apache.derbyTesting.junit.Decorator$2.setUp(Decorator.java:129)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:18)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
Caused by: java.security.AccessControlException: Access denied (java.io.FilePermission C:\p4\m2\systest\out\junit\system read)&lt;br/&gt;
	at java.security.AccessController.checkPermission(AccessController.java:104)&lt;br/&gt;
	at java.lang.SecurityManager.checkPermission(SecurityManager.java:547)&lt;br/&gt;
	at java.lang.SecurityManager.checkRead(SecurityManager.java:886)&lt;br/&gt;
	at java.io.File.exists(File.java:726)&lt;br/&gt;
	at java.io.File.mkdirs(File.java:1171)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService$1.run(StorageFactoryService.java:98)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(AccessController.java:242)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService.&amp;lt;init&amp;gt;(StorageFactoryService.java:87)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.getPersistentService(BaseMonitor.java:1645)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.access$100(BaseMonitor.java:107)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.getNextStorageFactory(BaseMonitor.java:2155)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.hasMoreElements(BaseMonitor.java:2168)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.findProviderAndStartService(BaseMonitor.java:1531)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentService(BaseMonitor.java:994)&lt;br/&gt;
	at org.apache.derby.iapi.services.monitor.Monitor.startPersistentService(Monitor.java:542)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.bootDatabase(EmbedConnection.java:1811)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(EmbedConnection.java:253)&lt;br/&gt;
	... 23 more&lt;br/&gt;
3) Encryption Algorithm: AES/CBC/NoPaddingjava.sql.SQLException: Java exception: &apos;Access denied (java.io.FilePermission C:\p4\m2\systest\out\junit\system read): java.security.AccessControlException&apos;.&lt;br/&gt;
	at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(SQLExceptionFactory.java:45)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Util.java:88)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Util.java:99)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.javaException(Util.java:234)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(TransactionResourceImpl.java:386)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(TransactionResourceImpl.java:345)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.handleException(EmbedConnection.java:1549)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(EmbedConnection.java:373)&lt;br/&gt;
	at org.apache.derby.jdbc.Driver30.getNewEmbedConnection(Driver30.java:80)&lt;br/&gt;
	at org.apache.derby.jdbc.InternalDriver.connect(InternalDriver.java:209)&lt;br/&gt;
	at org.apache.derby.jdbc.AutoloadedDriver.connect(AutoloadedDriver.java:117)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:562)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:186)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DriverManagerConnector.openConnection(DriverManagerConnector.java:76)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DriverManagerConnector.openConnection(DriverManagerConnector.java:47)&lt;br/&gt;
	at org.apache.derbyTesting.junit.TestConfiguration.openConnection(TestConfiguration.java:986)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DropDatabaseSetup.tearDown(DropDatabaseSetup.java:57)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:20)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
Caused by: java.security.AccessControlException: Access denied (java.io.FilePermission C:\p4\m2\systest\out\junit\system read)&lt;br/&gt;
	at java.security.AccessController.checkPermission(AccessController.java:104)&lt;br/&gt;
	at java.lang.SecurityManager.checkPermission(SecurityManager.java:547)&lt;br/&gt;
	at java.lang.SecurityManager.checkRead(SecurityManager.java:886)&lt;br/&gt;
	at java.io.File.exists(File.java:726)&lt;br/&gt;
	at java.io.File.mkdirs(File.java:1171)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService$1.run(StorageFactoryService.java:98)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(AccessController.java:242)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService.&amp;lt;init&amp;gt;(StorageFactoryService.java:87)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.getPersistentService(BaseMonitor.java:1645)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.access$100(BaseMonitor.java:107)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.getNextStorageFactory(BaseMonitor.java:2155)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.hasMoreElements(BaseMonitor.java:2168)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.findProviderAndStartService(BaseMonitor.java:1531)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentService(BaseMonitor.java:994)&lt;br/&gt;
	at org.apache.derby.iapi.services.monitor.Monitor.startPersistentService(Monitor.java:542)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.bootDatabase(EmbedConnection.java:1811)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(EmbedConnection.java:253)&lt;br/&gt;
	... 23 more&lt;br/&gt;
4) Encryption Algorithm: DES/ECB/NoPaddingjava.sql.SQLException: Java exception: &apos;Access denied (java.io.FilePermission C:\p4\m2\systest\out\junit\system read): java.security.AccessControlException&apos;.&lt;br/&gt;
	at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(SQLExceptionFactory.java:45)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Util.java:88)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Util.java:99)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.javaException(Util.java:234)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(TransactionResourceImpl.java:386)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(TransactionResourceImpl.java:345)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.handleException(EmbedConnection.java:1549)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(EmbedConnection.java:373)&lt;br/&gt;
	at org.apache.derby.jdbc.Driver30.getNewEmbedConnection(Driver30.java:80)&lt;br/&gt;
	at org.apache.derby.jdbc.InternalDriver.connect(InternalDriver.java:209)&lt;br/&gt;
	at org.apache.derby.jdbc.EmbeddedDataSource.getConnection(EmbeddedDataSource.java:479)&lt;br/&gt;
	at org.apache.derby.jdbc.EmbeddedDataSource.getConnection(EmbeddedDataSource.java:423)&lt;br/&gt;
	at org.apache.derbyTesting.junit.Decorator$2.setUp(Decorator.java:129)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:18)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
Caused by: java.security.AccessControlException: Access denied (java.io.FilePermission C:\p4\m2\systest\out\junit\system read)&lt;br/&gt;
	at java.security.AccessController.checkPermission(AccessController.java:104)&lt;br/&gt;
	at java.lang.SecurityManager.checkPermission(SecurityManager.java:547)&lt;br/&gt;
	at java.lang.SecurityManager.checkRead(SecurityManager.java:886)&lt;br/&gt;
	at java.io.File.exists(File.java:726)&lt;br/&gt;
	at java.io.File.mkdirs(File.java:1171)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService$1.run(StorageFactoryService.java:98)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(AccessController.java:242)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService.&amp;lt;init&amp;gt;(StorageFactoryService.java:87)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.getPersistentService(BaseMonitor.java:1645)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.access$100(BaseMonitor.java:107)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.getNextStorageFactory(BaseMonitor.java:2155)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.hasMoreElements(BaseMonitor.java:2168)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.findProviderAndStartService(BaseMonitor.java:1531)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentService(BaseMonitor.java:994)&lt;br/&gt;
	at org.apache.derby.iapi.services.monitor.Monitor.startPersistentService(Monitor.java:542)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.bootDatabase(EmbedConnection.java:1811)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(EmbedConnection.java:253)&lt;br/&gt;
	... 23 more&lt;br/&gt;
5) Encryption Algorithm: DES/ECB/NoPaddingjava.sql.SQLException: Java exception: &apos;Access denied (java.io.FilePermission C:\p4\m2\systest\out\junit\system read): java.security.AccessControlException&apos;.&lt;br/&gt;
	at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(SQLExceptionFactory.java:45)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Util.java:88)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Util.java:99)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.javaException(Util.java:234)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(TransactionResourceImpl.java:386)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(TransactionResourceImpl.java:345)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.handleException(EmbedConnection.java:1549)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(EmbedConnection.java:373)&lt;br/&gt;
	at org.apache.derby.jdbc.Driver30.getNewEmbedConnection(Driver30.java:80)&lt;br/&gt;
	at org.apache.derby.jdbc.InternalDriver.connect(InternalDriver.java:209)&lt;br/&gt;
	at org.apache.derby.jdbc.AutoloadedDriver.connect(AutoloadedDriver.java:117)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:562)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:186)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DriverManagerConnector.openConnection(DriverManagerConnector.java:76)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DriverManagerConnector.openConnection(DriverManagerConnector.java:47)&lt;br/&gt;
	at org.apache.derbyTesting.junit.TestConfiguration.openConnection(TestConfiguration.java:986)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DropDatabaseSetup.tearDown(DropDatabaseSetup.java:57)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:20)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
Caused by: java.security.AccessControlException: Access denied (java.io.FilePermission C:\p4\m2\systest\out\junit\system read)&lt;br/&gt;
	at java.security.AccessController.checkPermission(AccessController.java:104)&lt;br/&gt;
	at java.lang.SecurityManager.checkPermission(SecurityManager.java:547)&lt;br/&gt;
	at java.lang.SecurityManager.checkRead(SecurityManager.java:886)&lt;br/&gt;
	at java.io.File.exists(File.java:726)&lt;br/&gt;
	at java.io.File.mkdirs(File.java:1171)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService$1.run(StorageFactoryService.java:98)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(AccessController.java:242)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService.&amp;lt;init&amp;gt;(StorageFactoryService.java:87)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.getPersistentService(BaseMonitor.java:1645)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.access$100(BaseMonitor.java:107)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.getNextStorageFactory(BaseMonitor.java:2155)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.hasMoreElements(BaseMonitor.java:2168)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.findProviderAndStartService(BaseMonitor.java:1531)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentService(BaseMonitor.java:994)&lt;br/&gt;
	at org.apache.derby.iapi.services.monitor.Monitor.startPersistentService(Monitor.java:542)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.bootDatabase(EmbedConnection.java:1811)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(EmbedConnection.java:253)&lt;br/&gt;
	... 23 more&lt;br/&gt;
6) Encryption Algorithm: DESede/CFB/NoPaddingjava.sql.SQLException: Java exception: &apos;Access denied (java.io.FilePermission C:\p4\m2\systest\out\junit\system read): java.security.AccessControlException&apos;.&lt;br/&gt;
	at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(SQLExceptionFactory.java:45)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Util.java:88)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Util.java:99)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.javaException(Util.java:234)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(TransactionResourceImpl.java:386)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(TransactionResourceImpl.java:345)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.handleException(EmbedConnection.java:1549)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(EmbedConnection.java:373)&lt;br/&gt;
	at org.apache.derby.jdbc.Driver30.getNewEmbedConnection(Driver30.java:80)&lt;br/&gt;
	at org.apache.derby.jdbc.InternalDriver.connect(InternalDriver.java:209)&lt;br/&gt;
	at org.apache.derby.jdbc.EmbeddedDataSource.getConnection(EmbeddedDataSource.java:479)&lt;br/&gt;
	at org.apache.derby.jdbc.EmbeddedDataSource.getConnection(EmbeddedDataSource.java:423)&lt;br/&gt;
	at org.apache.derbyTesting.junit.Decorator$2.setUp(Decorator.java:129)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:18)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
Caused by: java.security.AccessControlException: Access denied (java.io.FilePermission C:\p4\m2\systest\out\junit\system read)&lt;br/&gt;
	at java.security.AccessController.checkPermission(AccessController.java:104)&lt;br/&gt;
	at java.lang.SecurityManager.checkPermission(SecurityManager.java:547)&lt;br/&gt;
	at java.lang.SecurityManager.checkRead(SecurityManager.java:886)&lt;br/&gt;
	at java.io.File.exists(File.java:726)&lt;br/&gt;
	at java.io.File.mkdirs(File.java:1171)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService$1.run(StorageFactoryService.java:98)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(AccessController.java:242)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService.&amp;lt;init&amp;gt;(StorageFactoryService.java:87)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.getPersistentService(BaseMonitor.java:1645)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.access$100(BaseMonitor.java:107)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.getNextStorageFactory(BaseMonitor.java:2155)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.hasMoreElements(BaseMonitor.java:2168)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.findProviderAndStartService(BaseMonitor.java:1531)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentService(BaseMonitor.java:994)&lt;br/&gt;
	at org.apache.derby.iapi.services.monitor.Monitor.startPersistentService(Monitor.java:542)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.bootDatabase(EmbedConnection.java:1811)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(EmbedConnection.java:253)&lt;br/&gt;
	... 23 more&lt;br/&gt;
7) Encryption Algorithm: DESede/CFB/NoPaddingjava.sql.SQLException: Java exception: &apos;Access denied (java.io.FilePermission C:\p4\m2\systest\out\junit\system read): java.security.AccessControlException&apos;.&lt;br/&gt;
	at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(SQLExceptionFactory.java:45)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Util.java:88)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Util.java:99)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.javaException(Util.java:234)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(TransactionResourceImpl.java:386)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(TransactionResourceImpl.java:345)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.handleException(EmbedConnection.java:1549)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(EmbedConnection.java:373)&lt;br/&gt;
	at org.apache.derby.jdbc.Driver30.getNewEmbedConnection(Driver30.java:80)&lt;br/&gt;
	at org.apache.derby.jdbc.InternalDriver.connect(InternalDriver.java:209)&lt;br/&gt;
	at org.apache.derby.jdbc.AutoloadedDriver.connect(AutoloadedDriver.java:117)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:562)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:186)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DriverManagerConnector.openConnection(DriverManagerConnector.java:76)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DriverManagerConnector.openConnection(DriverManagerConnector.java:47)&lt;br/&gt;
	at org.apache.derbyTesting.junit.TestConfiguration.openConnection(TestConfiguration.java:986)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DropDatabaseSetup.tearDown(DropDatabaseSetup.java:57)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:20)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
Caused by: java.security.AccessControlException: Access denied (java.io.FilePermission C:\p4\m2\systest\out\junit\system read)&lt;br/&gt;
	at java.security.AccessController.checkPermission(AccessController.java:104)&lt;br/&gt;
	at java.lang.SecurityManager.checkPermission(SecurityManager.java:547)&lt;br/&gt;
	at java.lang.SecurityManager.checkRead(SecurityManager.java:886)&lt;br/&gt;
	at java.io.File.exists(File.java:726)&lt;br/&gt;
	at java.io.File.mkdirs(File.java:1171)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService$1.run(StorageFactoryService.java:98)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(AccessController.java:242)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService.&amp;lt;init&amp;gt;(StorageFactoryService.java:87)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.getPersistentService(BaseMonitor.java:1645)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.access$100(BaseMonitor.java:107)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.getNextStorageFactory(BaseMonitor.java:2155)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.hasMoreElements(BaseMonitor.java:2168)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.findProviderAndStartService(BaseMonitor.java:1531)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentService(BaseMonitor.java:994)&lt;br/&gt;
	at org.apache.derby.iapi.services.monitor.Monitor.startPersistentService(Monitor.java:542)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.bootDatabase(EmbedConnection.java:1811)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(EmbedConnection.java:253)&lt;br/&gt;
	... 23 more&lt;br/&gt;
8) Encryption Algorithm: DES/CBC/NoPaddingjava.sql.SQLException: Java exception: &apos;Access denied (java.io.FilePermission C:\p4\m2\systest\out\junit\system read): java.security.AccessControlException&apos;.&lt;br/&gt;
	at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(SQLExceptionFactory.java:45)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Util.java:88)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Util.java:99)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.javaException(Util.java:234)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(TransactionResourceImpl.java:386)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(TransactionResourceImpl.java:345)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.handleException(EmbedConnection.java:1549)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(EmbedConnection.java:373)&lt;br/&gt;
	at org.apache.derby.jdbc.Driver30.getNewEmbedConnection(Driver30.java:80)&lt;br/&gt;
	at org.apache.derby.jdbc.InternalDriver.connect(InternalDriver.java:209)&lt;br/&gt;
	at org.apache.derby.jdbc.EmbeddedDataSource.getConnection(EmbeddedDataSource.java:479)&lt;br/&gt;
	at org.apache.derby.jdbc.EmbeddedDataSource.getConnection(EmbeddedDataSource.java:423)&lt;br/&gt;
	at org.apache.derbyTesting.junit.Decorator$2.setUp(Decorator.java:129)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:18)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
Caused by: java.security.AccessControlException: Access denied (java.io.FilePermission C:\p4\m2\systest\out\junit\system read)&lt;br/&gt;
	at java.security.AccessController.checkPermission(AccessController.java:104)&lt;br/&gt;
	at java.lang.SecurityManager.checkPermission(SecurityManager.java:547)&lt;br/&gt;
	at java.lang.SecurityManager.checkRead(SecurityManager.java:886)&lt;br/&gt;
	at java.io.File.exists(File.java:726)&lt;br/&gt;
	at java.io.File.mkdirs(File.java:1171)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService$1.run(StorageFactoryService.java:98)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(AccessController.java:242)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService.&amp;lt;init&amp;gt;(StorageFactoryService.java:87)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.getPersistentService(BaseMonitor.java:1645)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.access$100(BaseMonitor.java:107)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.getNextStorageFactory(BaseMonitor.java:2155)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.hasMoreElements(BaseMonitor.java:2168)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.findProviderAndStartService(BaseMonitor.java:1531)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentService(BaseMonitor.java:994)&lt;br/&gt;
	at org.apache.derby.iapi.services.monitor.Monitor.startPersistentService(Monitor.java:542)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.bootDatabase(EmbedConnection.java:1811)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(EmbedConnection.java:253)&lt;br/&gt;
	... 23 more&lt;br/&gt;
9) Encryption Algorithm: DES/CBC/NoPaddingjava.sql.SQLException: Java exception: &apos;Access denied (java.io.FilePermission C:\p4\m2\systest\out\junit\system read): java.security.AccessControlException&apos;.&lt;br/&gt;
	at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(SQLExceptionFactory.java:45)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Util.java:88)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Util.java:99)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.javaException(Util.java:234)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(TransactionResourceImpl.java:386)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(TransactionResourceImpl.java:345)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.handleException(EmbedConnection.java:1549)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(EmbedConnection.java:373)&lt;br/&gt;
	at org.apache.derby.jdbc.Driver30.getNewEmbedConnection(Driver30.java:80)&lt;br/&gt;
	at org.apache.derby.jdbc.InternalDriver.connect(InternalDriver.java:209)&lt;br/&gt;
	at org.apache.derby.jdbc.AutoloadedDriver.connect(AutoloadedDriver.java:117)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:562)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:186)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DriverManagerConnector.openConnection(DriverManagerConnector.java:76)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DriverManagerConnector.openConnection(DriverManagerConnector.java:47)&lt;br/&gt;
	at org.apache.derbyTesting.junit.TestConfiguration.openConnection(TestConfiguration.java:986)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DropDatabaseSetup.tearDown(DropDatabaseSetup.java:57)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:20)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
Caused by: java.security.AccessControlException: Access denied (java.io.FilePermission C:\p4\m2\systest\out\junit\system read)&lt;br/&gt;
	at java.security.AccessController.checkPermission(AccessController.java:104)&lt;br/&gt;
	at java.lang.SecurityManager.checkPermission(SecurityManager.java:547)&lt;br/&gt;
	at java.lang.SecurityManager.checkRead(SecurityManager.java:886)&lt;br/&gt;
	at java.io.File.exists(File.java:726)&lt;br/&gt;
	at java.io.File.mkdirs(File.java:1171)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService$1.run(StorageFactoryService.java:98)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(AccessController.java:242)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService.&amp;lt;init&amp;gt;(StorageFactoryService.java:87)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.getPersistentService(BaseMonitor.java:1645)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.access$100(BaseMonitor.java:107)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.getNextStorageFactory(BaseMonitor.java:2155)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.hasMoreElements(BaseMonitor.java:2168)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.findProviderAndStartService(BaseMonitor.java:1531)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentService(BaseMonitor.java:994)&lt;br/&gt;
	at org.apache.derby.iapi.services.monitor.Monitor.startPersistentService(Monitor.java:542)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.bootDatabase(EmbedConnection.java:1811)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(EmbedConnection.java:253)&lt;br/&gt;
	... 23 more&lt;br/&gt;
10) Encryption Algorithm: Blowfish/CBC/NoPaddingjava.sql.SQLException: Java exception: &apos;Access denied (java.io.FilePermission C:\p4\m2\systest\out\junit\system read): java.security.AccessControlException&apos;.&lt;br/&gt;
	at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(SQLExceptionFactory.java:45)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Util.java:88)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Util.java:99)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.javaException(Util.java:234)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(TransactionResourceImpl.java:386)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(TransactionResourceImpl.java:345)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.handleException(EmbedConnection.java:1549)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(EmbedConnection.java:373)&lt;br/&gt;
	at org.apache.derby.jdbc.Driver30.getNewEmbedConnection(Driver30.java:80)&lt;br/&gt;
	at org.apache.derby.jdbc.InternalDriver.connect(InternalDriver.java:209)&lt;br/&gt;
	at org.apache.derby.jdbc.EmbeddedDataSource.getConnection(EmbeddedDataSource.java:479)&lt;br/&gt;
	at org.apache.derby.jdbc.EmbeddedDataSource.getConnection(EmbeddedDataSource.java:423)&lt;br/&gt;
	at org.apache.derbyTesting.junit.Decorator$2.setUp(Decorator.java:129)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:18)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
Caused by: java.security.AccessControlException: Access denied (java.io.FilePermission C:\p4\m2\systest\out\junit\system read)&lt;br/&gt;
	at java.security.AccessController.checkPermission(AccessController.java:104)&lt;br/&gt;
	at java.lang.SecurityManager.checkPermission(SecurityManager.java:547)&lt;br/&gt;
	at java.lang.SecurityManager.checkRead(SecurityManager.java:886)&lt;br/&gt;
	at java.io.File.exists(File.java:726)&lt;br/&gt;
	at java.io.File.mkdirs(File.java:1171)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService$1.run(StorageFactoryService.java:98)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(AccessController.java:242)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService.&amp;lt;init&amp;gt;(StorageFactoryService.java:87)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.getPersistentService(BaseMonitor.java:1645)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.access$100(BaseMonitor.java:107)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.getNextStorageFactory(BaseMonitor.java:2155)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.hasMoreElements(BaseMonitor.java:2168)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.findProviderAndStartService(BaseMonitor.java:1531)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentService(BaseMonitor.java:994)&lt;br/&gt;
	at org.apache.derby.iapi.services.monitor.Monitor.startPersistentService(Monitor.java:542)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.bootDatabase(EmbedConnection.java:1811)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(EmbedConnection.java:253)&lt;br/&gt;
	... 23 more&lt;br/&gt;
11) Encryption Algorithm: Blowfish/CBC/NoPaddingjava.sql.SQLException: Java exception: &apos;Access denied (java.io.FilePermission C:\p4\m2\systest\out\junit\system read): java.security.AccessControlException&apos;.&lt;br/&gt;
	at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(SQLExceptionFactory.java:45)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Util.java:88)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Util.java:99)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.javaException(Util.java:234)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(TransactionResourceImpl.java:386)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(TransactionResourceImpl.java:345)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.handleException(EmbedConnection.java:1549)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(EmbedConnection.java:373)&lt;br/&gt;
	at org.apache.derby.jdbc.Driver30.getNewEmbedConnection(Driver30.java:80)&lt;br/&gt;
	at org.apache.derby.jdbc.InternalDriver.connect(InternalDriver.java:209)&lt;br/&gt;
	at org.apache.derby.jdbc.AutoloadedDriver.connect(AutoloadedDriver.java:117)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:562)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:186)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DriverManagerConnector.openConnection(DriverManagerConnector.java:76)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DriverManagerConnector.openConnection(DriverManagerConnector.java:47)&lt;br/&gt;
	at org.apache.derbyTesting.junit.TestConfiguration.openConnection(TestConfiguration.java:986)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DropDatabaseSetup.tearDown(DropDatabaseSetup.java:57)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:20)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
Caused by: java.security.AccessControlException: Access denied (java.io.FilePermission C:\p4\m2\systest\out\junit\system read)&lt;br/&gt;
	at java.security.AccessController.checkPermission(AccessController.java:104)&lt;br/&gt;
	at java.lang.SecurityManager.checkPermission(SecurityManager.java:547)&lt;br/&gt;
	at java.lang.SecurityManager.checkRead(SecurityManager.java:886)&lt;br/&gt;
	at java.io.File.exists(File.java:726)&lt;br/&gt;
	at java.io.File.mkdirs(File.java:1171)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService$1.run(StorageFactoryService.java:98)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(AccessController.java:242)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService.&amp;lt;init&amp;gt;(StorageFactoryService.java:87)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.getPersistentService(BaseMonitor.java:1645)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.access$100(BaseMonitor.java:107)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.getNextStorageFactory(BaseMonitor.java:2155)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.hasMoreElements(BaseMonitor.java:2168)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.findProviderAndStartService(BaseMonitor.java:1531)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentService(BaseMonitor.java:994)&lt;br/&gt;
	at org.apache.derby.iapi.services.monitor.Monitor.startPersistentService(Monitor.java:542)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.bootDatabase(EmbedConnection.java:1811)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(EmbedConnection.java:253)&lt;br/&gt;
	... 23 more&lt;br/&gt;
12) Encryption Algorithm: AES/OFB/NoPaddingjava.sql.SQLException: Java exception: &apos;Access denied (java.io.FilePermission C:\p4\m2\systest\out\junit\system read): java.security.AccessControlException&apos;.&lt;br/&gt;
	at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(SQLExceptionFactory.java:45)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Util.java:88)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Util.java:99)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.javaException(Util.java:234)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(TransactionResourceImpl.java:386)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(TransactionResourceImpl.java:345)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.handleException(EmbedConnection.java:1549)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(EmbedConnection.java:373)&lt;br/&gt;
	at org.apache.derby.jdbc.Driver30.getNewEmbedConnection(Driver30.java:80)&lt;br/&gt;
	at org.apache.derby.jdbc.InternalDriver.connect(InternalDriver.java:209)&lt;br/&gt;
	at org.apache.derby.jdbc.EmbeddedDataSource.getConnection(EmbeddedDataSource.java:479)&lt;br/&gt;
	at org.apache.derby.jdbc.EmbeddedDataSource.getConnection(EmbeddedDataSource.java:423)&lt;br/&gt;
	at org.apache.derbyTesting.junit.Decorator$2.setUp(Decorator.java:129)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:18)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
Caused by: java.security.AccessControlException: Access denied (java.io.FilePermission C:\p4\m2\systest\out\junit\system read)&lt;br/&gt;
	at java.security.AccessController.checkPermission(AccessController.java:104)&lt;br/&gt;
	at java.lang.SecurityManager.checkPermission(SecurityManager.java:547)&lt;br/&gt;
	at java.lang.SecurityManager.checkRead(SecurityManager.java:886)&lt;br/&gt;
	at java.io.File.exists(File.java:726)&lt;br/&gt;
	at java.io.File.mkdirs(File.java:1171)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService$1.run(StorageFactoryService.java:98)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(AccessController.java:242)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService.&amp;lt;init&amp;gt;(StorageFactoryService.java:87)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.getPersistentService(BaseMonitor.java:1645)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.access$100(BaseMonitor.java:107)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.getNextStorageFactory(BaseMonitor.java:2155)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.hasMoreElements(BaseMonitor.java:2168)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.findProviderAndStartService(BaseMonitor.java:1531)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentService(BaseMonitor.java:994)&lt;br/&gt;
	at org.apache.derby.iapi.services.monitor.Monitor.startPersistentService(Monitor.java:542)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.bootDatabase(EmbedConnection.java:1811)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(EmbedConnection.java:253)&lt;br/&gt;
	... 23 more&lt;br/&gt;
13) Encryption Algorithm: AES/OFB/NoPaddingjava.sql.SQLException: Java exception: &apos;Access denied (java.io.FilePermission C:\p4\m2\systest\out\junit\system read): java.security.AccessControlException&apos;.&lt;br/&gt;
	at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(SQLExceptionFactory.java:45)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Util.java:88)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Util.java:99)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.javaException(Util.java:234)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(TransactionResourceImpl.java:386)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(TransactionResourceImpl.java:345)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.handleException(EmbedConnection.java:1549)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(EmbedConnection.java:373)&lt;br/&gt;
	at org.apache.derby.jdbc.Driver30.getNewEmbedConnection(Driver30.java:80)&lt;br/&gt;
	at org.apache.derby.jdbc.InternalDriver.connect(InternalDriver.java:209)&lt;br/&gt;
	at org.apache.derby.jdbc.AutoloadedDriver.connect(AutoloadedDriver.java:117)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:562)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:186)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DriverManagerConnector.openConnection(DriverManagerConnector.java:76)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DriverManagerConnector.openConnection(DriverManagerConnector.java:47)&lt;br/&gt;
	at org.apache.derbyTesting.junit.TestConfiguration.openConnection(TestConfiguration.java:986)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DropDatabaseSetup.tearDown(DropDatabaseSetup.java:57)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:20)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
Caused by: java.security.AccessControlException: Access denied (java.io.FilePermission C:\p4\m2\systest\out\junit\system read)&lt;br/&gt;
	at java.security.AccessController.checkPermission(AccessController.java:104)&lt;br/&gt;
	at java.lang.SecurityManager.checkPermission(SecurityManager.java:547)&lt;br/&gt;
	at java.lang.SecurityManager.checkRead(SecurityManager.java:886)&lt;br/&gt;
	at java.io.File.exists(File.java:726)&lt;br/&gt;
	at java.io.File.mkdirs(File.java:1171)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService$1.run(StorageFactoryService.java:98)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(AccessController.java:242)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.StorageFactoryService.&amp;lt;init&amp;gt;(StorageFactoryService.java:87)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.getPersistentService(BaseMonitor.java:1645)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.access$100(BaseMonitor.java:107)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.getNextStorageFactory(BaseMonitor.java:2155)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor$ProviderEnumeration.hasMoreElements(BaseMonitor.java:2168)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.findProviderAndStartService(BaseMonitor.java:1531)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentService(BaseMonitor.java:994)&lt;br/&gt;
	at org.apache.derby.iapi.services.monitor.Monitor.startPersistentService(Monitor.java:542)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.bootDatabase(EmbedConnection.java:1811)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(EmbedConnection.java:253)&lt;br/&gt;
	... 23 more&lt;/p&gt;

&lt;p&gt;FAILURES!!!&lt;br/&gt;
Tests run: 637,  Failures: 0,  Errors: 13&lt;/p&gt;

</comment>
                            <comment id="12497457" author="kmarsden" created="Mon, 21 May 2007 14:55:59 +0100"  >&lt;p&gt;I can no longer reproduce the failures.  I think in fact that the failures I was seeing were in different tests. If upgrade is causing the problem, it would seem sensible to either move the Encryption suite before the upgrade tests or remove it all together since it is not very functional.&lt;/p&gt;

&lt;p&gt;The EncryptionKeyXXXTest failures that I have been seeing have been resolved in my client by adding&lt;br/&gt;
permission java.util.PropertyPermission &quot;user.dir&quot;, &quot;read&quot;;&lt;br/&gt;
permission.  &lt;/p&gt;

&lt;p&gt;So, I propose the following approach:&lt;br/&gt;
Today I will disable the Encryption suite.&lt;br/&gt;
Tuesday I will reenable the EncryptionKeyXXXTests with the new permission.&lt;/p&gt;

&lt;p&gt;Does that sound reasonable?&lt;/p&gt;

&lt;p&gt;Kathey&lt;/p&gt;

</comment>
                            <comment id="12497475" author="kristwaa" created="Mon, 21 May 2007 15:55:13 +0100"  >&lt;p&gt;Hi Kathey (and others),&lt;/p&gt;

&lt;p&gt;What do you mean by &quot;my client&quot;?&lt;br/&gt;
I ran the EncryptionKeyXXXTests without additional privileges in the policy file, and I saw no failures. Now I&apos;m confused if it is something that got checked in after the tests that causes trouble (upgrade tests?), if the problems are only seen on a different JVM or something else entirely.&lt;/p&gt;

&lt;p&gt;I don&apos;t really have many free cycles to spend on this right now, but I would like to understand what has changed that causes the EncryptionKeyXXXTests to require more privileges than before.&lt;/p&gt;

&lt;p&gt;I agree on your plan to disable the Encryption suite today and see what happens with the tinderbox/nightly, but personally I would like some more justification for adding another privilege in the policy file. It might be a bug in the test as well.&lt;/p&gt;


&lt;p&gt;regards,&lt;/p&gt;</comment>
                            <comment id="12497511" author="kmarsden" created="Mon, 21 May 2007 17:46:02 +0100"  >&lt;p&gt;Kristian Waagan asked:&lt;br/&gt;
&amp;gt;What do you mean by &quot;my client&quot;?&lt;br/&gt;
I should have said my environment:   IBM jdk1.4.2, insane jars. See sysinfo below.&lt;br/&gt;
The user.dir property permission is required by the mkdirs call.   I am not sure what causes mkdirs to sometimes need this permission and sometimes not but you can see from the trace earlier in this thread that it is required for the mkdirs call in backup.  I tried changing the call to use mkdir() || mkdirs() as suggested by Knut but got a hang in some of the store tests so decided to back off changing RawStore.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;C:/svn2/trunk&amp;#93;&lt;/span&gt; java org.apache.derby.tools.sysinfo&lt;br/&gt;
------------------ Java Information ------------------&lt;br/&gt;
Java Version:    1.4.2&lt;br/&gt;
Java Vendor:     IBM Corporation&lt;br/&gt;
Java home:       C:\Program Files\IBM\Java142\jre&lt;br/&gt;
Java classpath:  C:/svn2/trunk/jars/insane/derbytools.jar;C:/svn2/trunk/&lt;br/&gt;
nsane/derbynet.jar;C:/svn2/trunk/jars/insane/derbytesting.jar;C:/svn2/tr&lt;br/&gt;
OS name:         Windows XP&lt;br/&gt;
OS architecture: x86&lt;br/&gt;
OS version:      5.1&lt;br/&gt;
Java user name:  kmarsden&lt;br/&gt;
Java user home:  C:\Documents and Settings\kmarsden&lt;br/&gt;
Java user dir:   C:\svn2\trunk&lt;br/&gt;
java.specification.name: Java Platform API Specification&lt;br/&gt;
java.specification.version: 1.4&lt;br/&gt;
--------- Derby Information --------&lt;br/&gt;
JRE - JDBC: J2SE 1.4.2 - JDBC 3.0&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;C:\svn2\trunk\jars\insane\derby.jar&amp;#93;&lt;/span&gt; 10.3.0.0 alpha - (539803M)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;C:\svn2\trunk\jars\insane\derbytools.jar&amp;#93;&lt;/span&gt; 10.3.0.0 alpha - (539803M)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;C:\svn2\trunk\jars\insane\derbynet.jar&amp;#93;&lt;/span&gt; 10.3.0.0 alpha - (539803M)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;C:\svn2\trunk\jars\insane\derbyclient.jar&amp;#93;&lt;/span&gt; 10.3.0.0 alpha - (539803M)&lt;br/&gt;
------------------------------------------------------&lt;br/&gt;
----------------- Locale Information -----------------&lt;br/&gt;
Current Locale :  [English/United States &lt;span class=&quot;error&quot;&gt;&amp;#91;en_US&amp;#93;&lt;/span&gt;]&lt;br/&gt;
Found support for locale: &lt;span class=&quot;error&quot;&gt;&amp;#91;cs&amp;#93;&lt;/span&gt;&lt;br/&gt;
         version: 10.3.0.0 alpha - (539803M)&lt;br/&gt;
Found support for locale: &lt;span class=&quot;error&quot;&gt;&amp;#91;de_DE&amp;#93;&lt;/span&gt;&lt;br/&gt;
         version: 10.3.0.0 alpha - (539803M)&lt;br/&gt;
Found support for locale: &lt;span class=&quot;error&quot;&gt;&amp;#91;es&amp;#93;&lt;/span&gt;&lt;br/&gt;
         version: 10.3.0.0 alpha - (539803M)&lt;br/&gt;
Found support for locale: &lt;span class=&quot;error&quot;&gt;&amp;#91;fr&amp;#93;&lt;/span&gt;&lt;br/&gt;
         version: 10.3.0.0 alpha - (539803M)&lt;br/&gt;
Found support for locale: &lt;span class=&quot;error&quot;&gt;&amp;#91;hu&amp;#93;&lt;/span&gt;&lt;br/&gt;
         version: 10.3.0.0 alpha - (539803M)&lt;br/&gt;
Found support for locale: &lt;span class=&quot;error&quot;&gt;&amp;#91;it&amp;#93;&lt;/span&gt;&lt;br/&gt;
         version: 10.3.0.0 alpha - (539803M)&lt;br/&gt;
Found support for locale: &lt;span class=&quot;error&quot;&gt;&amp;#91;ja_JP&amp;#93;&lt;/span&gt;&lt;br/&gt;
         version: 10.3.0.0 alpha - (539803M)&lt;br/&gt;
Found support for locale: &lt;span class=&quot;error&quot;&gt;&amp;#91;ko_KR&amp;#93;&lt;/span&gt;&lt;br/&gt;
         version: 10.3.0.0 alpha - (539803M)&lt;br/&gt;
Found support for locale: &lt;span class=&quot;error&quot;&gt;&amp;#91;pl&amp;#93;&lt;/span&gt;&lt;br/&gt;
         version: 10.3.0.0 alpha - (539803M)&lt;br/&gt;
Found support for locale: &lt;span class=&quot;error&quot;&gt;&amp;#91;pt_BR&amp;#93;&lt;/span&gt;&lt;br/&gt;
         version: 10.3.0.0 alpha - (539803M)&lt;br/&gt;
Found support for locale: &lt;span class=&quot;error&quot;&gt;&amp;#91;ru&amp;#93;&lt;/span&gt;&lt;br/&gt;
         version: 10.3.0.0 alpha - (539803M)&lt;br/&gt;
Found support for locale: &lt;span class=&quot;error&quot;&gt;&amp;#91;zh_CN&amp;#93;&lt;/span&gt;&lt;br/&gt;
         version: 10.3.0.0 alpha - (539803M)&lt;br/&gt;
Found support for locale: &lt;span class=&quot;error&quot;&gt;&amp;#91;zh_TW&amp;#93;&lt;/span&gt;&lt;br/&gt;
         version: 10.3.0.0 alpha - (539803M)&lt;br/&gt;
------------------------------------------------------&lt;/p&gt;












































































































</comment>
                            <comment id="12497549" author="kmarsden" created="Mon, 21 May 2007 20:07:46 +0100"  >&lt;p&gt; &lt;a href=&quot;http://java.sun.com/developer/onlineTraining/Programming/JDCBook/appB.html#file&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://java.sun.com/developer/onlineTraining/Programming/JDCBook/appB.html#file&lt;/a&gt;&lt;br/&gt;
does not indicate that java.util.PropertyPermission user.dir read is required, so the issue I am seeing with this requirement must be a jvm issue.&lt;/p&gt;

&lt;p&gt;Kathey&lt;/p&gt;</comment>
                            <comment id="12497895" author="djd" created="Tue, 22 May 2007 16:26:14 +0100"  >&lt;p&gt;I&apos;d thought that this issue might be related to the security manager not being setup correctly for decorators but that doesn&apos;t appear to be the case.&lt;/p&gt;

&lt;p&gt;With some debugging I see that when installing the security manager after the upgrade tests that every seems correct but the running code does not have the expected permissions, but I don&apos;t know why ...&lt;br/&gt;
I.e.&lt;br/&gt;
  derbyTesting.codeclasses  is correct (running from classes)&lt;br/&gt;
  java.security.policy is correct (is a URL to the policy file from the classes folder)&lt;br/&gt;
  A new security manager is installed ok&lt;/p&gt;

&lt;p&gt;Even in the privilege block that installs the security manager trying to access derby.system.home fails just after the setSecurityManager() call. I think this means it can&apos;t be picking the wrong version of derby (an old release) since this is test code, and the old test code is not in the classpath.&lt;/p&gt;

&lt;p&gt;As Mike has said this problem occurs with just the upgrade tests and the EncryptionSuite which means the installing of the security manager for the encryption suite is the first time it is done, which means it should be like any other time and just work!&lt;/p&gt;

</comment>
                            <comment id="12497919" author="kmarsden" created="Tue, 22 May 2007 17:23:20 +0100"  >&lt;p&gt;Dan wrote:&lt;br/&gt;
&amp;gt;I&apos;d thought that this issue might be related to the security manager not being setup correctly for decorators but that doesn&apos;t appear to be the case.&lt;br/&gt;
Do you have an objection to putting the Encryption suite before All to resolve the nightly failures?&lt;/p&gt;

&lt;p&gt;Kathey&lt;/p&gt;
</comment>
                            <comment id="12497920" author="djd" created="Tue, 22 May 2007 17:26:12 +0100"  >&lt;p&gt;The problem is caused by the upgrade test fixture Changes10_3.testPolicyReloadingProcedure(). If this fixture is not run then no problems are seen.&lt;/p&gt;

&lt;p&gt;The fixture calls Policy.getPolicy().refresh() through the builtin procedure SYSCS_UTIL.SYSCS_RELOAD_SECURITY_POLICY.&lt;/p&gt;

&lt;p&gt;During the upgrade tests no security manager is installed, so it seems as though the getPolicy().refresh() is &quot;locking&quot; in some policy with no permissions so that the setting of java.security.policy gets ignored when the security manager is installed later.&lt;/p&gt;

&lt;p&gt;One fix is to have the procedure do nothing if no security manager is installed, that leads to the tests passing. That seems a reasonable thing to do since performing a refresh() in that case should be meaningless.&lt;/p&gt;</comment>
                            <comment id="12497939" author="djd" created="Tue, 22 May 2007 18:31:19 +0100"  >&lt;p&gt;Patch to not attempt to reload the security policy if no security manager is installed.&lt;br/&gt;
Also cleanup the procedure implementation to be self contained by using an anonymous inner class for the privilege block. This removes a security hole where other code could use the previous public class to perform policy refreshes. Also fix the exception handling to correctly catch SecurityException, previously the code only caught checked exceptions which are not thrown by Policy.getPolicy().refresh().&lt;/p&gt;</comment>
                            <comment id="12497942" author="djd" created="Tue, 22 May 2007 18:44:47 +0100"  >&lt;p&gt;Patch Committed revision 540658&lt;/p&gt;</comment>
                            <comment id="12498035" author="djd" created="Tue, 22 May 2007 23:19:57 +0100"  >&lt;p&gt;Was an issue in the policy reloading stored procedure.&lt;/p&gt;</comment>
                            <comment id="12498036" author="djd" created="Tue, 22 May 2007 23:20:41 +0100"  >&lt;p&gt;Tinderbox runs show no errors running suites.All after this change.&lt;/p&gt;</comment>
                            <comment id="12600830" author="myrna" created="Thu, 29 May 2008 17:46:47 +0100"  >&lt;p&gt;A number of encryption tests had been commented out from store/_Suite.java because of this bug...&lt;br/&gt;
I ran suites.All with them back in, and got only 1 failure, testStartStopManagementFromApplication - which is similar to &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3561&quot; title=&quot;testStartStopManagementFromApplication(org.apache.derbyTesting.functionTests.tests.management.ManagementMBeanTest)junit.framework.AssertionFailedError: expected:&amp;lt;2&amp;gt; but was:&amp;lt;5&amp;gt;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3561&quot;&gt;&lt;del&gt;DERBY-3561&lt;/del&gt;&lt;/a&gt;. &lt;br/&gt;
I committed the reactivation with revision 661388, but I&apos;ll revisit &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3561&quot; title=&quot;testStartStopManagementFromApplication(org.apache.derbyTesting.functionTests.tests.management.ManagementMBeanTest)junit.framework.AssertionFailedError: expected:&amp;lt;2&amp;gt; but was:&amp;lt;5&amp;gt;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3561&quot;&gt;&lt;del&gt;DERBY-3561&lt;/del&gt;&lt;/a&gt; if it pops up in the tinderbox tests.&lt;/p&gt;</comment>
                            <comment id="12600868" author="myrna" created="Thu, 29 May 2008 19:24:04 +0100"  >&lt;p&gt;There was a report today of the same test (testStartStopManagementFromApplication) failing with the same signature on 10.4, so after fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3561&quot; title=&quot;testStartStopManagementFromApplication(org.apache.derbyTesting.functionTests.tests.management.ManagementMBeanTest)junit.framework.AssertionFailedError: expected:&amp;lt;2&amp;gt; but was:&amp;lt;5&amp;gt;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3561&quot;&gt;&lt;del&gt;DERBY-3561&lt;/del&gt;&lt;/a&gt;, so I am assuming the reactivation of these encryption tests are unrelated to the test failure. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12357902" name="derby2644_policyreload.txt" size="2441" author="djd" created="Tue, 22 May 2007 18:31:19 +0100"/>
                            <attachment id="12357582" name="insane_failures.txt" size="4881" author="kmarsden" created="Thu, 17 May 2007 22:05:55 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10361"><![CDATA[Security]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 17 May 2007 21:05:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23149</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0mfz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37454</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>