<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:54:51 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-1566/DERBY-1566.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-1566] Document SQLStates in 10.2</title>
                <link>https://issues.apache.org/jira/browse/DERBY-1566</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;We need to update the Reference Guide to document the current list of SQLStates. This list goes into&lt;/p&gt;

&lt;p&gt;Reference Guide&lt;br/&gt;
  Derby exception messages and SQL states&lt;br/&gt;
    SQLState and error message reference&lt;/p&gt;

&lt;p&gt;The tool mentioned in &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-296&quot; title=&quot;Document error messages in the Derby Reference Manual&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-296&quot;&gt;&lt;del&gt;DERBY-296&lt;/del&gt;&lt;/a&gt; may be useful.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12346456">DERBY-1566</key>
            <summary>Document SQLStates in 10.2</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jta">Jean T. Anderson</assignee>
                                    <reporter username="rhillegas">Rick Hillegas</reporter>
                        <labels>
                    </labels>
                <created>Fri, 21 Jul 2006 20:48:56 +0100</created>
                <updated>Tue, 19 Sep 2006 22:00:27 +0100</updated>
                            <resolved>Tue, 19 Sep 2006 22:00:27 +0100</resolved>
                                    <version>10.2.1.6</version>
                                    <fixVersion>10.2.2.0</fixVersion>
                    <fixVersion>10.3.1.4</fixVersion>
                                    <component>Documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12431121" author="jta" created="Tue, 29 Aug 2006 03:15:04 +0100"  >&lt;p&gt;ErrorMessageGenerator.java is a copy of &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-296&quot; title=&quot;Document error messages in the Derby Reference Manual&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-296&quot;&gt;&lt;del&gt;DERBY-296&lt;/del&gt;&lt;/a&gt;&apos;s app modified as follows:&lt;/p&gt;

&lt;p&gt;1) Replaced the &quot;&lt;del&gt;//IBM//DTD DITA Reference//EN&quot; with &quot;&quot;&lt;/del&gt;//OASIS//DTD DITA Reference//EN&quot;&lt;/p&gt;

&lt;p&gt;2) Some tags needed a space .  For example, the &apos;xml&apos; in this tag:&lt;br/&gt;
&amp;lt;reference id=&quot;rrefexcept13113&quot;xml:lang=&quot;en-us&quot;&amp;gt;&lt;br/&gt;
needed a space before the &apos;xml&apos; so xml parsing would succeed:&lt;br/&gt;
&amp;lt;reference id=&quot;rrefexcept13113&quot; xml:lang=&quot;en-us&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;3) Needed some close tags for DITA processing to succeed.&lt;/p&gt;

&lt;p&gt;Running it outputs two errors:&lt;br/&gt;
$ java ErrorMessageGenerator&lt;br/&gt;
Unable to determine code for SQL State 0A000&lt;br/&gt;
Unable to determine code for SQL State 39004&lt;/p&gt;

&lt;p&gt;The DITA source that it generates needs one manual change. The message for 42Y04 has &apos;&amp;lt;&apos; and &apos;&amp;gt;&apos; in the message.&lt;br/&gt;
Change this: &amp;lt;full java path&amp;gt;.&amp;lt;method name&amp;gt;&lt;br/&gt;
To this:     &amp;lt;full java path&amp;gt;.&amp;lt;method name&amp;gt;&lt;/p&gt;

&lt;p&gt;rrefexcept71493.html shows sample output.&lt;/p&gt;
</comment>
                            <comment id="12431128" author="jta" created="Tue, 29 Aug 2006 04:59:01 +0100"  >&lt;p&gt;Compare rrefexcept71493.html uploaded to this issue to &lt;a href=&quot;http://db.apache.org/derby/docs/10.1/ref/rrefexcept71493.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://db.apache.org/derby/docs/10.1/ref/rrefexcept71493.html&lt;/a&gt;. Readily visible differences include:&lt;br/&gt;
1) The old output has human-readable tags such as &amp;lt;tableName&amp;gt; and &amp;lt;valueName&amp;gt; and the new generated output has &lt;/p&gt;
{0}
&lt;p&gt;, &lt;/p&gt;
{1}
&lt;p&gt;, etc. variable markers. I think the human-readable tags would be very labor-intensive to maintain.&lt;br/&gt;
2) The new output includes a severity column&lt;/p&gt;

&lt;p&gt;Lots of sqlstates drop out in 10.2 and others get added. I&apos;ll try to summarize a list and post it tomorrow.&lt;/p&gt;</comment>
                            <comment id="12431294" author="jta" created="Tue, 29 Aug 2006 18:06:27 +0100"  >&lt;p&gt;I removed the  rrefexcept71493.html  file I uploaded yesterday &amp;#8211; I had inadvertently generated it on a 10.1.3 database. I&apos;ll upload a new one generated from a 10.2.1.1 database.&lt;/p&gt;</comment>
                            <comment id="12431305" author="davidvc" created="Tue, 29 Aug 2006 18:55:23 +0100"  >&lt;p&gt;This version adds elements for the new SQL State classes that have been added as part of the client internationalization work.  Hopefully you can cut-and-paste Jean.  Take a look at the static initializer which adds SQL State classes to the codes Hashtable.&lt;/p&gt;</comment>
                            <comment id="12431401" author="jta" created="Tue, 29 Aug 2006 23:50:08 +0100"  >&lt;p&gt;The ErrorMessageGenerator.david.java is almost there &amp;#8211; it does produce a file without any errors, but it&apos;s missing some format and tags so the DITA doc build fails.  More details about the fixes for that are below but, first, I attached two files:&lt;/p&gt;

&lt;p&gt;ErrorMessageGenerator.david.diffs - has the diffs between ErrorMessageGenerator.david.java and what I got working.&lt;/p&gt;

&lt;p&gt;rrefexcept71493.html: sample output for derby 10.2.1.1&lt;/p&gt;

&lt;p&gt;Here are more details for the changes to the java application:&lt;/p&gt;

&lt;p&gt;(1) The xml processing is sensitive to spacing &amp;#8211; or at least it is for DITA processing. This format fails (notice the lack of a space before the words &apos;encoding&apos; and &apos;xml&apos;):&lt;/p&gt;

&lt;p&gt;   &amp;lt;?xml version=&quot;1.0 &quot;encoding=&quot;utf-8&quot;?&amp;gt;&lt;br/&gt;
   &amp;lt;!DOCTYPE reference PUBLIC &quot;-//IBM//DTD DITA Reference//EN&quot;&lt;br/&gt;
   &quot;../dtd/reference.dtd&quot;&amp;gt;&lt;br/&gt;
   &amp;lt;reference id=&quot;rrefexcept71493 &quot;xml:lang=&quot;en-us&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;This format works (and note the switch from IBM to OASIS):&lt;/p&gt;

&lt;p&gt;   &amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&amp;gt;&lt;br/&gt;
   &amp;lt;!DOCTYPE reference PUBLIC &quot;-//OASIS//DTD DITA Reference//EN&quot;&lt;br/&gt;
   &quot;../dtd/reference.dtd&quot;&amp;gt;&lt;br/&gt;
   &amp;lt;reference id=&quot;rrefexcept71493&quot; xml:lang=&quot;en-us&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;(2) Fix malformed close tags for &amp;lt;entry&amp;gt; and &amp;lt;title&amp;gt;:&lt;/p&gt;

&lt;p&gt;&amp;lt;             sqlState + &quot;/&amp;gt;&quot;);&lt;br/&gt;
&amp;#8212;&lt;br/&gt;
&amp;gt;             sqlState + &quot;&amp;lt;/entry&amp;gt;&quot;);&lt;/p&gt;

&lt;p&gt;&amp;lt;             currentComment + &quot;&amp;lt;title&amp;gt;&quot;);&lt;br/&gt;
&amp;#8212;&lt;br/&gt;
&amp;gt;             currentComment + &quot;&amp;lt;/title&amp;gt;&quot;);&lt;/p&gt;

&lt;p&gt;(3) Add missing close tags for the end of the file&lt;/p&gt;

&lt;p&gt;&amp;gt;         ditaWriter.println(&quot;&amp;lt;/tbody&amp;gt;&quot;);&lt;br/&gt;
&amp;gt;         ditaWriter.println(&quot;&amp;lt;/tgroup&amp;gt;&quot;);&lt;br/&gt;
&amp;gt;         ditaWriter.println(&quot;&amp;lt;/table&amp;gt;&quot;);&lt;br/&gt;
&amp;gt;         ditaWriter.println(&quot;&amp;lt;/section&amp;gt;&quot;);&lt;br/&gt;
&amp;gt;         ditaWriter.println(&quot;&amp;lt;/refbody&amp;gt;&quot;);&lt;br/&gt;
&amp;gt;         ditaWriter.println(&quot;&amp;lt;/reference&amp;gt;&quot;);&lt;/p&gt;

&lt;p&gt;The generated dita file still needs a manual fix for sqlstate 42Y04 to convert the &apos;&amp;lt;&apos; and &apos;&amp;gt;&apos; to &amp;lt; and &amp;gt; respectively.&lt;/p&gt;
</comment>
                            <comment id="12431424" author="davidvc" created="Wed, 30 Aug 2006 01:21:57 +0100"  >&lt;p&gt;Diffs look goot to me...  Seems like we could fix the &amp;amp;lt and &amp;amp;gt problem with some kind of parser...  Doesn&apos;t Java have a utility method to normalize a string for HTML?&lt;/p&gt;</comment>
                            <comment id="12431627" author="jta" created="Wed, 30 Aug 2006 18:22:56 +0100"  >&lt;p&gt;derby-1566-1.diff is the patch for the dita source that goes with the rrefexcept71493.html review copy (forgot to upload the patch yesterday).&lt;/p&gt;</comment>
                            <comment id="12431656" author="jta" created="Wed, 30 Aug 2006 19:57:44 +0100"  >&lt;p&gt;Here are some basic stats about what changed between 10.1 and 10.2:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;10.1.3 has 657 sqlstate entries&lt;/li&gt;
	&lt;li&gt;10.2.1.1 has 849 sqlstate entries&lt;/li&gt;
	&lt;li&gt;6 sqlstates dropped out of 10.2:&lt;br/&gt;
X0X15|XML values are not allowed in top-level result sets; try using XMLSERIALIZE.&lt;br/&gt;
X0X18|XML feature not supported: &apos;
{0}&apos;.&lt;br/&gt;
X0XML|Encountered unexpected error while processing XML; see next exception for details.&lt;br/&gt;
X0X16|XML syntax error; missing keyword(s): &apos;{0}
&lt;p&gt;&apos;.&lt;br/&gt;
X0X14|Binding directly to an XML value is not allowed; try using XMLPARSE.&lt;br/&gt;
X0X17|Invalid target type for XMLSERIALIZE: &apos;&lt;/p&gt;
{0}
&lt;p&gt;&apos;.&lt;/p&gt;&lt;/li&gt;
	&lt;li&gt;170 new messages were added to 10.2 and are listed in newmsgs-10.2.txt&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;If you added or removed a message verifying your change would be appreciated.&lt;/p&gt;</comment>
                            <comment id="12431741" author="jta" created="Thu, 31 Aug 2006 00:01:53 +0100"  >&lt;p&gt;I spotted one more problem with the app &amp;#8211; the &quot;severity&quot; column wasn&apos;t completely implemented. Here are new files:&lt;/p&gt;

&lt;p&gt;ErrorMessageGenerator.david.diffs2 - new patch that completes severity column&lt;br/&gt;
derby-1566-2.diff - patch for derby/docs/trunk&lt;br/&gt;
rrefexcept-2.html - updated html for review&lt;/p&gt;</comment>
                            <comment id="12431768" author="jta" created="Thu, 31 Aug 2006 03:41:03 +0100"  >&lt;p&gt;The third time is a charm .... after discussion on derby-dev &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;, this round removes the severity column. Files are:&lt;/p&gt;

&lt;p&gt;ErrorMessageGenerator.david.diffs3 - new patch that completely removes the severity column&lt;br/&gt;
derby-1566-3.diff - patch for derby/docs/trunk &lt;br/&gt;
rrefexcept-3.html - updated html for review&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/db-derby-dev/200608.mbox/%3c44F61E89.2000409@bristowhill.com%3e&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mail-archives.apache.org/mod_mbox/db-derby-dev/200608.mbox/%3c44F61E89.2000409@bristowhill.com%3e&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12431867" author="johnemb" created="Thu, 31 Aug 2006 12:55:39 +0100"  >&lt;p&gt;I was not able to find a utility method for creating HTML-friendly Strings in Java, but I made a simple one myself and added it to ErrorMessageGenerator.david.java after applying &apos;...diffs3&apos;. My diff is attached as &apos;ErrorMessageGenerator_davidv3_john.diff&apos;. The method replaces &quot;&amp;lt;&quot; with &quot;&amp;lt;&quot; and &quot;&amp;gt;&quot; with &quot;&amp;gt;&quot; (other replacements must be added if needed). The utility method is used in the method generateMessages(), for error messages only. The output looks ok to my eyes.&lt;/p&gt;

&lt;p&gt;I hope this helps reducing the manual labor required to build the specific manual page in the future.&lt;/p&gt;</comment>
                            <comment id="12431970" author="scotsmatrix" created="Thu, 31 Aug 2006 21:37:52 +0100"  >&lt;p&gt;I understand the benefit of using the tool to generate current messages.  &lt;br/&gt;
Of course I do prefer the human readable variables instead of the markers like&lt;/p&gt;
{0}
&lt;p&gt; and &lt;/p&gt;
{1}
&lt;p&gt;.&lt;/p&gt;

&lt;p&gt;If we stick with this approach, I recommend that a sentence be added to the message files that explains the variable markers.&lt;/p&gt;</comment>
                            <comment id="12432003" author="rhillegas" created="Fri, 1 Sep 2006 00:21:43 +0100"  >&lt;p&gt;Committed derby-1566-generatorDavidJeanJohnRick.diff at subversion revision 439093. This checks in David&apos;s SQLState generator to trunk/java/build/org/apache/derbyBuild&lt;/p&gt;

&lt;p&gt;Thanks to David for writing this program and to Jean and John for improving it. I have made the following changes:&lt;/p&gt;

&lt;p&gt;1) Merged in John&apos;s changes which escape angle brackets in SQLState text.&lt;/p&gt;

&lt;p&gt;2) Moused in Jean&apos;s text, which addresses Laura&apos;s concerns.&lt;/p&gt;

&lt;p&gt;3) Fixed various issues with unclosed tags.&lt;/p&gt;

&lt;p&gt;I&apos;m a little concerned that so many of the tags were unclosed. I hope that I have not grabbed the wrong version of this generator. In any event, it should be more straightforward to improve this code now that it&apos;s in the trunk.&lt;/p&gt;</comment>
                            <comment id="12432005" author="scotsmatrix" created="Fri, 1 Sep 2006 00:29:27 +0100"  >&lt;p&gt;Jean&apos;s wording looks good to me, but I would like to see the DITA file.&lt;br/&gt;
Can someone attach it to this issue?  &lt;/p&gt;

&lt;p&gt;On thing that I think needs to be fixed is the headings over the tables. They should not be centered over each table,&lt;br/&gt;
but instead be left justified. And I see no reason why the tables need to be page wide (pgwide) = 1.  Typically that tagging is used when content of a table can&apos;t easliy be compresses, such as when you have a large number of columns. By changing these DITA tagging issues, the titles will appear left alighned with the table instead of centered (as they are in the attached html) or indented (as they are in the 10.1 version of the docs.&lt;/p&gt;</comment>
                            <comment id="12432011" author="jta" created="Fri, 1 Sep 2006 00:40:23 +0100"  >&lt;p&gt;Since Rick was concerned about missing closed tags, I just generated a new dita file with the code he checked in to see if it still works.  &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; It may be that too many diffs didn&apos;t quite produce what was intended. If it produces a dita file that will actually build, I&apos;ll attach both it and the resulting html to this issue.&lt;/p&gt;</comment>
                            <comment id="12432013" author="jta" created="Fri, 1 Sep 2006 01:26:32 +0100"  >&lt;p&gt;Actually, the code Rick committed did better than I expected &amp;#8211; it actually did build a dita doc, though with two small problems:&lt;/p&gt;

&lt;p&gt;1) The &quot;-//OASIS//DTD DITA Reference//EN&quot; change didn&apos;t make it in.&lt;br/&gt;
2) The change for unimplementing the severity column didn&apos;t make it in, which leaves an empty column hanging out to the right in the PDF output.&lt;br/&gt;
3) Table numbers don&apos;t increment for the PDF (everything is Table 1).&lt;/p&gt;

&lt;p&gt;I attached 3 files:&lt;/p&gt;

&lt;p&gt;code-4.diff - patch for ErrorMessageGenerator.java that fixes the first two problems&lt;br/&gt;
rrefexcept-4.dita - dita source that gets generated&lt;br/&gt;
rrefexcept-4.html - html output&lt;/p&gt;

</comment>
                            <comment id="12432017" author="jta" created="Fri, 1 Sep 2006 01:53:45 +0100"  >&lt;p&gt;Regarding this problem:&lt;br/&gt;
3) Table numbers don&apos;t increment for the PDF (everything is Table 1).&lt;/p&gt;

&lt;p&gt;I just checked the PDF for 10.1 and it has the same issue, so this isn&apos;t a new problem. I just never noticed it before.&lt;/p&gt;</comment>
                            <comment id="12432030" author="jta" created="Fri, 1 Sep 2006 03:26:15 +0100"  >&lt;p&gt;In revision 439137 updated src/ref/rrefexcept71493.dita in the trunk with sqlstates and messages as of derby code line 439134. This commit is not to be merged to the 10.2 branch &amp;#8211; the dita file will be generated separately for the 10.2 branch.&lt;/p&gt;</comment>
                            <comment id="12432137" author="rhillegas" created="Fri, 1 Sep 2006 14:33:21 +0100"  >&lt;p&gt;Committed code-4.diff at subversion revision 439315. Thanks for re-incorporating these fixes, Jean.&lt;/p&gt;</comment>
                            <comment id="12432182" author="chaase3" created="Fri, 1 Sep 2006 17:45:10 +0100"  >&lt;p&gt;I think the problem of table numbering is covered by &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-408&quot; title=&quot;Fix formatting of manuals in PDF output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-408&quot;&gt;&lt;del&gt;DERBY-408&lt;/del&gt;&lt;/a&gt;. &lt;/p&gt;</comment>
                            <comment id="12432893" author="scotsmatrix" created="Wed, 6 Sep 2006 17:29:08 +0100"  >&lt;p&gt;I have been thinking more about how the variables appear in the text.&lt;br/&gt;
And I think that for clarity, it it worth making the substitutions manually.&lt;br/&gt;
And I am willing to take on this task.&lt;/p&gt;</comment>
                            <comment id="12433178" author="rhillegas" created="Thu, 7 Sep 2006 18:46:40 +0100"  >&lt;p&gt;Thanks, Laura. If you can make a first pass at this, then I can try to keep the evolving list current as I generate new beta/release candidates.&lt;/p&gt;</comment>
                            <comment id="12433184" author="scotsmatrix" created="Thu, 7 Sep 2006 19:13:37 +0100"  >&lt;p&gt;Yes, I will work on this today so that it can be included in the mega merge tomorrow.&lt;/p&gt;</comment>
                            <comment id="12433261" author="jta" created="Thu, 7 Sep 2006 23:36:19 +0100"  >&lt;p&gt;Initially I thought Laura&apos;s plan to update the rrefexcept71493.dita file in the trunk then merge to 10.2 wouldn&apos;t work because I expected 10.2 and trunk messages to be different. But based on a comparison of org.apache.derby.diag.ErrorMessages() fetched by 10.2.1.2 and the trunk, I can find only one difference, and that is in the message for sqlstate 42Z20:&lt;/p&gt;

&lt;p&gt;10.2.1.2 message:&lt;br/&gt;
Column &apos;&lt;/p&gt;
{0}&apos; cannot be made nullable. It is part of a primary key, which cannot have any nullable columns.&lt;br/&gt;
&lt;br/&gt;
trunk message:&lt;br/&gt;
Column &apos;{0}
&lt;p&gt;&apos; cannot be made nullable. It is part of a primary key or unique constraint, which cannot have any nullable columns.&lt;/p&gt;

&lt;p&gt;So, Laura, I think it&apos;s safe to update the refexcept71493.dita file in the trunk, then merge to the 10.2 doc branch.&lt;/p&gt;

&lt;p&gt;I&apos;ll doublecheck the 10.2.1.3 beta anticipated for tomorrow to see if those messages are still different.&lt;/p&gt;</comment>
                            <comment id="12433272" author="fuzzylogic" created="Fri, 8 Sep 2006 00:22:50 +0100"  >&lt;p&gt;Also, I beileve that the 42Z20 message has now changed in the 10.2 branch since Bryan merged over the ALTER COLUMN NOT NULL change.&lt;/p&gt;</comment>
                            <comment id="12433322" author="fuzzylogic" created="Fri, 8 Sep 2006 06:10:16 +0100"  >&lt;p&gt;While Dan&apos;s suggestion here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/db-derby-dev/200608.mbox/%3c44F62247.2080500@apache.org%3e&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mail-archives.apache.org/mod_mbox/db-derby-dev/200608.mbox/%3c44F62247.2080500@apache.org%3e&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;to generate the message file and doc from a single XML file would be ideal, a simpler approach to implement would be to maintain the meanings of the markers in another properties file, identified by message key and marker number. So, e.g. the new properties file would contain:&lt;/p&gt;

&lt;p&gt;01500.0=&amp;lt;constraintName&amp;gt;&lt;br/&gt;
01500.1=&amp;lt;tableName&amp;gt;&lt;/p&gt;

&lt;p&gt;Then ErrorMessageGenerator could look up the value of the markers by SQLState and MessageFormat marker number in the properties file, although this approach would require maintaining two files instead of one.&lt;/p&gt;</comment>
                            <comment id="12433324" author="scotsmatrix" created="Fri, 8 Sep 2006 06:19:58 +0100"  >&lt;p&gt;Andrew - I think that your suggestion is great and will minimuze the type of errors that manually entering in the variable names is bound to introduce.&lt;/p&gt;</comment>
                            <comment id="12433405" author="rhillegas" created="Fri, 8 Sep 2006 15:15:38 +0100"  >&lt;p&gt;If we adopt Andrew&apos;s approach, I would recommend co-locating the argument descriptiors in the same properties file which contains the messages. This will help keep the argument descriptors from drifting out of sync with the messages themselves--that is a substantial advantage of Dan&apos;s approach.&lt;/p&gt;</comment>
                            <comment id="12433555" author="scotsmatrix" created="Sat, 9 Sep 2006 04:53:17 +0100"  >&lt;p&gt;Wow, this was very time consuming.  &lt;br/&gt;
There are 60+ different variable replacements.&lt;/p&gt;

&lt;p&gt;Attached are a diff file derby1566_DOCS1.diff and an html copy of the file &lt;br/&gt;
rrefexcept71493.html&lt;/p&gt;

&lt;p&gt;Before we commit a patch for these updates, I would REALLY appreciate it if &lt;br/&gt;
someone could review the file and ensure that the variable names that i have are accurate.&lt;/p&gt;

&lt;p&gt;Whenever a variable could be more than one type of object, I used &amp;lt;value&amp;gt;.&lt;/p&gt;

&lt;p&gt;However, I also used value when I did not know what should be used &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;This is a very long file and it is possible that I might have missed a few of the variables.&lt;br/&gt;
Please review carefully.&lt;/p&gt;</comment>
                            <comment id="12433914" author="jta" created="Mon, 11 Sep 2006 19:06:11 +0100"  >&lt;p&gt;Thanks for doing this, Laura. I hope the pain of 60+ replacements is preferable to inserting 170 new messages manually. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;

&lt;p&gt;I think it&apos;s fine to put &apos;&amp;lt;value&amp;gt;&apos; where you aren&apos;t sure. The best opportunity to providing real names is with Andrew&apos;s properties approach, which will be post-10.2. And post-10.2 is also the best time to fine tune the grammar, etc. in messages.&lt;/p&gt;

&lt;p&gt;It looks like the 10.1 variable names were brought forward, so I focused on the 170 new messages and assembled a list below. I guessed a few, so would appreciate it if others would check my suggested replacement.&lt;/p&gt;

&lt;p&gt;=== 01J08 ===&lt;br/&gt;
&quot;Unable to open resultSet type &amp;lt;datatypeName&amp;gt;.  ResultSet type &amp;lt;datatypeName&amp;gt; opened.&quot;&lt;/p&gt;

&lt;p&gt;Change &apos;&amp;lt;datatypeName&amp;gt;&apos; to &apos;&amp;lt;resultSetType&amp;gt;&apos; (possible values include TYPE_FORWARD_ONLY&lt;br/&gt;
and TYPE_SCROLL_INSENSITIVE).&lt;/p&gt;

&lt;p&gt;=== 08001 ===&lt;br/&gt;
&quot;&amp;lt;value&amp;gt; : Error connecting to server &amp;lt;serverName&amp;gt; on port &amp;lt;portNumber&amp;gt; with message &amp;lt;messageText&amp;gt;.&quot;&lt;br/&gt;
&quot;SocketException: &apos;&amp;lt;value&amp;gt;&apos;&quot;&lt;br/&gt;
&quot;Unable to open stream on socket: &apos;&amp;lt;value&amp;gt;&apos;.&quot;&lt;/p&gt;

&lt;p&gt;Change &apos;&amp;lt;value&amp;gt;&apos; to &apos;&amp;lt;error&amp;gt;&apos;.&lt;/p&gt;

&lt;p&gt;=== 28508 ===&lt;br/&gt;
&quot;User &apos;&amp;lt;authorizationID&amp;gt;&apos; does not have &amp;lt;permissionType&amp;gt; permission on column &apos;&amp;lt;2&amp;gt;&apos; of table &apos;&amp;lt;schemaNamet&amp;gt;&apos;.&apos;&amp;lt;tableName&amp;gt;&apos;.&quot;&lt;/p&gt;

&lt;p&gt;Change &apos;&amp;lt;2&amp;gt;&apos; to &apos;&amp;lt;columnName&amp;gt;&apos; and &apos;&amp;lt;schemaNamet&amp;gt;&apos; to &apos;&amp;lt;schemaName&amp;gt;&apos;.&lt;/p&gt;

&lt;p&gt;=== 28509 ===&lt;br/&gt;
&quot;User &apos;&amp;lt;authorizationID&amp;gt;&apos; does not have &amp;lt;1&amp;gt; permission on column &apos;&amp;lt;2&amp;gt;&apos; of table &apos;&amp;lt;schemaNamet&amp;gt;&apos;.&apos;&amp;lt;tableName&amp;gt;&apos; for grant.&quot;&lt;/p&gt;

&lt;p&gt;Change &apos;&amp;lt;1&amp;gt;&apos; to &apos;permissionType&apos;, &apos;&amp;lt;2&amp;gt;&apos; to &apos;&amp;lt;columnName&amp;gt;&apos;, and &apos;&amp;lt;schemaNamet&amp;gt;&apos;&lt;br/&gt;
to &apos;&amp;lt;schemaName&amp;gt;&apos;.&lt;/p&gt;

&lt;p&gt;=== 2850A, 2850B, 2850C, 2850D, 2850E ===&lt;br/&gt;
Change &quot;schemaNamet&quot; to &quot;schemaName&quot; in all these messages.&lt;/p&gt;

&lt;p&gt;=== 58009 ===&lt;br/&gt;
&quot;SocketException: &apos;&amp;lt;value&amp;gt;&apos;&quot;&lt;/p&gt;

&lt;p&gt;Change &apos;&amp;lt;value&amp;gt;&apos; to &apos;&amp;lt;error&amp;gt;&apos;.&lt;/p&gt;

&lt;p&gt;=== 58014, 58105, 58106, 58017 ===&lt;br/&gt;
Each message has a parameter that looks like this:&lt;/p&gt;

&lt;p&gt;0x&amp;lt;commandName&amp;gt;&lt;br/&gt;
0x&amp;lt;objectName&amp;gt;&lt;br/&gt;
0x&amp;lt;parameterName&amp;gt;&lt;br/&gt;
0x&amp;lt;value&amp;gt;&lt;/p&gt;

&lt;p&gt;Change all these to &amp;lt;value&amp;gt; unless somebody suggests a good replacement.&lt;br/&gt;
--The 0x suggests hex codes to me.&lt;/p&gt;

&lt;p&gt;=== XJ091 ===&lt;br/&gt;
&quot;Invalid argument: parameter index &amp;lt;indexName&amp;gt; is not an OUT or INOUT parameter.&quot;&lt;/p&gt;

&lt;p&gt;Change &apos;&amp;lt;indexName&amp;gt;&apos; to &apos;&amp;lt;indexNum&amp;gt;&apos;. In other words, I think the message will&lt;br/&gt;
look something like this: &quot;parameter index 3 is not an OUT or INOUT parameter&quot;.&lt;/p&gt;

&lt;p&gt;=== XJ113 ===&lt;br/&gt;
&quot;Unable to open file &amp;lt;fileName&amp;gt; : &amp;lt;value&amp;gt;&quot;&lt;/p&gt;

&lt;p&gt;Change &apos;&amp;lt;value&amp;gt;&apos; to &apos;&amp;lt;error&amp;gt;&apos;&lt;/p&gt;

&lt;p&gt;=== XSDAL ===&lt;br/&gt;
&quot;Record handle &amp;lt;0value&amp;gt; unexpectedly points to overflow page.&quot;&lt;/p&gt;

&lt;p&gt;Change &apos;&amp;lt;0value&amp;gt;&apos; to &apos;&amp;lt;value&amp;gt;&apos;.&lt;/p&gt;

&lt;p&gt;=== XSRSC ===&lt;br/&gt;
&quot;Cannot backup the database to &amp;lt;value&amp;gt;, it is a database directory.&quot;&lt;/p&gt;

&lt;p&gt;Change &apos;&amp;lt;value&amp;gt;&apos; to &apos;&amp;lt;directory location&amp;gt;&apos;.&lt;/p&gt;
</comment>
                            <comment id="12433919" author="scotsmatrix" created="Mon, 11 Sep 2006 19:16:22 +0100"  >&lt;p&gt;Thank you Jean.  Yes, entering in the variables is much better than typing up 170 new messages &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;  &lt;br/&gt;
I look forward to Andrew&apos;s solution post 10.2.&lt;/p&gt;

&lt;p&gt;For the most part I did use what was there for 10.1. However, in many cases &quot;value&quot; was used instead of databaseName where it seemed obvious to me that it should be changed.  There are others like that which I changed as well.  But only the obvious ones.&lt;/p&gt;

&lt;p&gt;I&apos;ll make these updates now. How long do you think I should wait for additional comments before submitting a patch?&lt;/p&gt;</comment>
                            <comment id="12433924" author="jta" created="Mon, 11 Sep 2006 19:29:59 +0100"  >&lt;p&gt;Feel free to update and upload a new patch any time it&apos;s convenient for you. I can help update this file to incorporate comments that come in later. I would have directly edited it with the comments I just posted, but I wanted to make my guesses readily visible for others to correct if needed.&lt;/p&gt;</comment>
                            <comment id="12433980" author="scotsmatrix" created="Mon, 11 Sep 2006 21:42:21 +0100"  >&lt;p&gt;Updated the SQL State messages file based on &lt;br/&gt;
Jean&apos;s comments.&lt;/p&gt;

&lt;p&gt;The files are:&lt;br/&gt;
derby1566_DOCS2.html&lt;br/&gt;
rrefexcept71493_DOCS2.html&lt;/p&gt;</comment>
                            <comment id="12434010" author="jta" created="Mon, 11 Sep 2006 23:49:29 +0100"  >&lt;p&gt;Committed patch derby1566_DOCS2.diff to the trunk, revision  442381.&lt;br/&gt;
Rick, I&apos;ll let you decide how you want to incorporate this into the 10.2 branch.&lt;br/&gt;
Thanks, Laura!&lt;/p&gt;</comment>
                            <comment id="12435820" author="rhillegas" created="Tue, 19 Sep 2006 15:44:50 +0100"  >&lt;p&gt;Moving to 10.2.2.0.&lt;/p&gt;</comment>
                            <comment id="12435998" author="fuzzylogic" created="Tue, 19 Sep 2006 21:40:30 +0100"  >&lt;p&gt;I think this should be marked closed as FixIn 10.2.1.0, the work to document the SQL states has been done there. A separate issue should be filed for implementing a way to generate the English names for the parameter markers in the doc.&lt;/p&gt;</comment>
                            <comment id="12436006" author="rhillegas" created="Tue, 19 Sep 2006 22:00:27 +0100"  >&lt;p&gt;Closing this issue. I have created a new issue, &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1868&quot; title=&quot;Merge argument descriptors into SQLState strings so that SQLState documentation can be generated by a program&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1868&quot;&gt;&lt;del&gt;DERBY-1868&lt;/del&gt;&lt;/a&gt;, to track the further evolution of David&apos;s tool and Laura&apos;s painstaking improvements.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="32161">DERBY-254</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12339815" name="ErrorMessageGenerator.david.diffs" size="1964" author="jta" created="Tue, 29 Aug 2006 23:50:08 +0100"/>
                            <attachment id="12339908" name="ErrorMessageGenerator.david.diffs2" size="2197" author="jta" created="Thu, 31 Aug 2006 00:01:53 +0100"/>
                            <attachment id="12339925" name="ErrorMessageGenerator.david.diffs3" size="2659" author="jta" created="Thu, 31 Aug 2006 03:41:03 +0100"/>
                            <attachment id="12339788" name="ErrorMessageGenerator.david.java" size="14273" author="davidvc" created="Tue, 29 Aug 2006 18:55:23 +0100"/>
                            <attachment id="12339734" name="ErrorMessageGenerator.java" size="12389" author="jta" created="Tue, 29 Aug 2006 03:15:04 +0100"/>
                            <attachment id="12339960" name="ErrorMessageGenerator_davidv3_john.diff" size="1496" author="johnemb" created="Thu, 31 Aug 2006 12:55:39 +0100"/>
                            <attachment id="12340000" name="code-4.diff" size="1634" author="jta" created="Fri, 1 Sep 2006 01:26:32 +0100"/>
                            <attachment id="12339889" name="derby-1566-1.diff" size="286751" author="jta" created="Wed, 30 Aug 2006 18:22:56 +0100"/>
                            <attachment id="12339909" name="derby-1566-2.diff" size="321045" author="jta" created="Thu, 31 Aug 2006 00:01:53 +0100"/>
                            <attachment id="12339924" name="derby-1566-3.diff" size="284801" author="jta" created="Thu, 31 Aug 2006 03:41:03 +0100"/>
                            <attachment id="12339995" name="derby-1566-generatorDavidJeanJohnRick.diff" size="19302" author="rhillegas" created="Fri, 1 Sep 2006 00:21:43 +0100"/>
                            <attachment id="12340493" name="derby1566_DOCS1.diff" size="307139" author="scotsmatrix" created="Sat, 9 Sep 2006 04:53:17 +0100"/>
                            <attachment id="12340602" name="derby1566_DOCS2.diff" size="307198" author="scotsmatrix" created="Mon, 11 Sep 2006 21:42:21 +0100"/>
                            <attachment id="12339893" name="newmsgs-10.2.txt" size="15092" author="jta" created="Wed, 30 Aug 2006 19:57:44 +0100"/>
                            <attachment id="12339910" name="rrefexcept-2.html" size="291748" author="jta" created="Thu, 31 Aug 2006 00:01:53 +0100"/>
                            <attachment id="12339926" name="rrefexcept-3.html" size="223424" author="jta" created="Thu, 31 Aug 2006 03:41:03 +0100"/>
                            <attachment id="12340001" name="rrefexcept-4.dita" size="154954" author="jta" created="Fri, 1 Sep 2006 01:26:32 +0100"/>
                            <attachment id="12340002" name="rrefexcept-4.html" size="223688" author="jta" created="Fri, 1 Sep 2006 01:26:32 +0100"/>
                            <attachment id="12339816" name="rrefexcept71493.html" size="224323" author="jta" created="Tue, 29 Aug 2006 23:50:08 +0100"/>
                            <attachment id="12340494" name="rrefexcept71493_DOCS1.html" size="262142" author="scotsmatrix" created="Sat, 9 Sep 2006 04:53:17 +0100"/>
                            <attachment id="12340603" name="rrefexcept71493_DOCS2.html" size="262273" author="scotsmatrix" created="Mon, 11 Sep 2006 21:42:21 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>21.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 29 Aug 2006 02:15:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30058</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy14j3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40384</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310050" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Urgency</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10052"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>