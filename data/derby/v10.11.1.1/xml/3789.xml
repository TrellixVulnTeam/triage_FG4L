<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:17:41 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-3789/DERBY-3789.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-3789] Shutting down encrypted database with ResultSet open does not allow directory to be deleted on Windows</title>
                <link>https://issues.apache.org/jira/browse/DERBY-3789</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;If I run the attached program on Windows to create an encrypted database open a result set, shutdown and attempt to delete the directory it fails with:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;C:&amp;#93;&lt;/span&gt;java EncryptShutdown&lt;br/&gt;
Exception in thread &quot;main&quot; junit.framework.AssertionFailedError: encryptdb\seg0\c400.dat&lt;br/&gt;
        at junit.framework.Assert.fail(Assert.java:47)&lt;br/&gt;
        at junit.framework.Assert.assertTrue(Assert.java:20)&lt;br/&gt;
        at org.apache.derbyTesting.junit.DropDatabaseSetup.removeDir(DropDatabaseSetup.java:130)&lt;br/&gt;
        at org.apache.derbyTesting.junit.DropDatabaseSetup.removeDir(DropDatabaseSetup.java:128)&lt;br/&gt;
        at org.apache.derbyTesting.junit.DropDatabaseSetup.access$000(DropDatabaseSetup.java:35)&lt;br/&gt;
        at org.apache.derbyTesting.junit.DropDatabaseSetup$1.run(DropDatabaseSetup.java:105)&lt;br/&gt;
        at java.security.AccessController.doPrivileged(AccessController.java:193)&lt;br/&gt;
        at org.apache.derbyTesting.junit.DropDatabaseSetup.removeDirectory(DropDatabaseSetup.java:102)&lt;br/&gt;
        at org.apache.derbyTesting.junit.DropDatabaseSetup.removeDirectory(DropDatabaseSetup.java:98)&lt;br/&gt;
        at org.apache.derbyTesting.junit.BaseTestCase.removeDirectory(BaseTestCase.java:522)&lt;br/&gt;
        at EncryptShutdown.main(EncryptShutdown.java:25)&lt;/p&gt;


&lt;p&gt;Apparently all resources are not being released.  It runs fine if the database is not encrypted.&lt;/p&gt;</description>
                <environment>Windows XP java version &amp;quot;1.5.0&amp;quot;&lt;br/&gt;
Java(TM) 2 Runtime Environment, Standard Edition (build pwi32dev-20070201 (SR4))&lt;br/&gt;
IBM J9 VM (build 2.3, J2RE 1.5.0 IBM J9 2.3 Windows XP x86-32 j9vmwi3223-20070201 (JIT enabled)&lt;br/&gt;
J9VM - 20070131_11312_lHdSMR&lt;br/&gt;
JIT  - 20070109_1805ifx1_r8&lt;br/&gt;
GC   - 200701_09)&lt;br/&gt;
JCL  - 20070131</environment>
        <key id="12400683">DERBY-3789</key>
            <summary>Shutting down encrypted database with ResultSet open does not allow directory to be deleted on Windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kmarsden">Kathey Marsden</reporter>
                        <labels>
                    </labels>
                <created>Mon, 21 Jul 2008 19:43:35 +0100</created>
                <updated>Tue, 30 Jun 2009 17:02:47 +0100</updated>
                            <resolved>Wed, 30 Jul 2008 18:45:35 +0100</resolved>
                                    <version>10.5.1.1</version>
                                                    <component>Services</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12615362" author="kmarsden" created="Mon, 21 Jul 2008 19:49:33 +0100"  >&lt;p&gt;This issue blocks &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1764&quot; title=&quot;Rewrite stress.multi as a JUnit test&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1764&quot;&gt;&lt;del&gt;DERBY-1764&lt;/del&gt;&lt;/a&gt; because the test fails cleaning up the encrypted database directory.  Perhaps the test can be more careful to close ResultSets to work around this issue.&lt;/p&gt;</comment>
                            <comment id="12618444" author="kmarsden" created="Wed, 30 Jul 2008 18:45:35 +0100"  >&lt;p&gt;With the latest IBM 1.5 jvm I cannot reproduce this problem.&lt;br/&gt;
java version &quot;1.5.0&quot;&lt;br/&gt;
Java(TM) 2 Runtime Environment, Standard Edition (build pwi32dev-20080315 (SR7))&lt;br/&gt;
IBM J9 VM (build 2.3, J2RE 1.5.0 IBM J9 2.3 Windows XP x86-32 j9vmwi3223-20080315 (JIT enabled)&lt;br/&gt;
J9VM - 20080314_17962_lHdSMr&lt;br/&gt;
JIT  - 20080130_0718ifx2_r8&lt;br/&gt;
GC   - 200802_08)&lt;br/&gt;
JCL  - 20080314&lt;/p&gt;

&lt;p&gt;It does not reproduce with Sun 1.6, or 1.5 or IBM 1.6 either. Closing as invalid.  Perhaps it was a jvm bug.&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12386559" name="EncryptShutdown.java" size="953" author="kmarsden" created="Mon, 21 Jul 2008 19:50:34 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23845</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10422"><![CDATA[High Value Fix]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0unr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38785</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>