<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:43:54 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-3383/DERBY-3383.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-3383] Replication: stopSlave boots database?</title>
                <link>https://issues.apache.org/jira/browse/DERBY-3383</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Looks like stopSlave on a not booted database leaves some traces:&lt;/p&gt;

&lt;p&gt;ij version 10.4&lt;br/&gt;
ij&amp;gt; connect &apos;jdbc:derby:slaveDB;user=oystein;password=pass;stopSlave=true&apos;;&lt;br/&gt;
ERROR XRE40: Could not perform operation because the database is not in replication slave mode.&lt;br/&gt;
ij&amp;gt; connect &apos;jdbc:derby:slaveDB;user=oystein;password=pass;startSlave=true&apos;;&lt;br/&gt;
ERROR XRE09: Cannot start replication slave mode for database &apos;slaveDB&apos;. The database has already been booted. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12387767">DERBY-3383</key>
            <summary>Replication: stopSlave boots database?</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jorgenlo">J&#248;rgen L&#248;land</assignee>
                                    <reporter username="oysteing">&#216;ystein Gr&#248;vlen</reporter>
                        <labels>
                    </labels>
                <created>Mon, 4 Feb 2008 11:06:16 +0000</created>
                <updated>Tue, 4 Mar 2008 08:54:28 +0000</updated>
                            <resolved>Mon, 11 Feb 2008 10:16:16 +0000</resolved>
                                    <version>10.4.1.3</version>
                                    <fixVersion>10.4.1.3</fixVersion>
                                    <component>Replication</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12565695" author="jorgenlo" created="Tue, 5 Feb 2008 10:47:54 +0000"  >&lt;p&gt;Patch v1a fixes the reported problem. All tests passed - the patch is ready for review.&lt;/p&gt;

&lt;p&gt;I will add a regression test for this once the replication test suite has been committed. See &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3161&quot; title=&quot;Test the Derby Replication functionality introduced in DERBY-2872&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3161&quot;&gt;&lt;del&gt;DERBY-3161&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="12566958" author="jorgenlo" created="Fri, 8 Feb 2008 08:43:16 +0000"  >&lt;p&gt;A little too eager with this one - better leave the issue open until the patch has been committed &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12567080" author="oysteing" created="Fri, 8 Feb 2008 16:21:53 +0000"  >&lt;p&gt;Code looks good.  &lt;/p&gt;

&lt;p&gt;One minor nit is that it is a bit inconsistent to keep handleDBNotFound for usage in one single case, while there are similar code where the checking is done in-place. Maybe the exception to be thrown could be parameterized.&lt;/p&gt;

&lt;p&gt;When I try to reproduce the problem specified, the following now happens:&lt;/p&gt;

&lt;p&gt;ij version 10.4&lt;br/&gt;
ij&amp;gt; connect &apos;jdbc:derby:slaveDB;user=oystein;password=pass;stopSlave=true&apos;;&lt;br/&gt;
&amp;gt; IJ ERROR: Unable to establish connection&lt;br/&gt;
ij&amp;gt; connect &apos;jdbc:derby:slaveDB;user=oystein;password=pass;startSlave=true&apos;;&lt;br/&gt;
ERROR XRE08: Replication slave mode started successfully for database &apos;slaveDB&apos;. Connection refused because the database is in replication slave mode. &lt;/p&gt;

&lt;p&gt;This was not quite what I expected.  Below is the stack trace. It may be ij which interfering in some way here,&lt;br/&gt;
but I am hesitant to commit this patch until I know more.&lt;/p&gt;

&lt;p&gt;org.apache.derby.impl.tools.ij.ijException: Unable to establish connection&lt;br/&gt;
    at org.apache.derby.impl.tools.ij.ijException.objectWasNull(ijException.java:135)&lt;br/&gt;
       at org.apache.derby.tools.JDBCDisplayUtil.checkNotNull(JDBCDisplayUtil.java:732)&lt;br/&gt;
        at org.apache.derby.impl.tools.ij.ij.haveConnection(ij.java:277)&lt;br/&gt;
        at org.apache.derby.impl.tools.ij.ij.executeImmediate(ij.java:299)&lt;br/&gt;
      at org.apache.derby.impl.tools.ij.utilMain.doCatch(utilMain.java:508)&lt;br/&gt;
   at org.apache.derby.impl.tools.ij.utilMain.runScriptGuts(utilMain.java:350)&lt;br/&gt;
     at org.apache.derby.impl.tools.ij.utilMain.go(utilMain.java:248)&lt;br/&gt;
        at org.apache.derby.impl.tools.ij.Main.go(Main.java:215)&lt;br/&gt;
        at org.apache.derby.impl.tools.ij.Main.mainCore(Main.java:181)&lt;br/&gt;
  at org.apache.derby.impl.tools.ij.Main.main(Main.java:73)&lt;br/&gt;
       at org.apache.derby.tools.ij.main(ij.java:59)&lt;br/&gt;
   at org.apache.derby.iapi.tools.run.main(run.java:51)&lt;/p&gt;</comment>
                            <comment id="12567558" author="oysteing" created="Mon, 11 Feb 2008 09:38:33 +0000"  >&lt;p&gt;Turns out it was ij which confused me.  Entering something that ij is not able to parse before a connection has been establish, will not tell you about the parse error.  (For some reason emacs-shell interpreted &apos;ij&amp;gt;&apos; as part of the command.&lt;/p&gt;

&lt;p&gt;Committed patch as revision  620444.&lt;/p&gt;</comment>
                            <comment id="12567569" author="jorgenlo" created="Mon, 11 Feb 2008 10:16:16 +0000"  >&lt;p&gt;Great - Somebody Else&apos;s Problem  :-D&lt;/p&gt;

&lt;p&gt;Thanks for reviewing and committing the patch &#216;ystein. &lt;/p&gt;</comment>
                            <comment id="12567574" author="jorgenlo" created="Mon, 11 Feb 2008 10:34:03 +0000"  >&lt;p&gt;A regression test for this issue will be added in &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3403&quot; title=&quot;Add replication regression tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3403&quot;&gt;&lt;del&gt;DERBY-3403&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12374756" name="derby-3383-1a.diff" size="6446" author="jorgenlo" created="Tue, 5 Feb 2008 10:47:54 +0000"/>
                            <attachment id="12374755" name="derby-3383-1a.stat" size="67" author="jorgenlo" created="Tue, 5 Feb 2008 10:47:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 5 Feb 2008 10:47:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23610</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0z7r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39523</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>