<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:37:09 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-6707/DERBY-6707.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-6707] Inadequate error messages for configuration errors in Derby</title>
                <link>https://issues.apache.org/jira/browse/DERBY-6707</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Dear developers,&lt;/p&gt;

&lt;p&gt;Derby&apos;s error message for misconfiguration should be improved. Sometimes, the dumped error messages is very unclear, and costs users extra time to figure out a simple problem.&lt;/p&gt;

&lt;p&gt;Here is a reproducible example&lt;/p&gt;


&lt;p&gt;1.  specify a wrong value for derby.stream.error.method option, and put the following line in the derby.properties file&lt;/p&gt;

&lt;p&gt;derby.stream.error.method=hello   (obvious it is wrong)&lt;/p&gt;


&lt;p&gt;2. &lt;br/&gt;
connect to a derby db, and issue a selection query&lt;/p&gt;

&lt;p&gt;3. &lt;br/&gt;
derby simply dumped the following error message, which is hard to be connected to the misconfigured option&lt;/p&gt;


&lt;p&gt;ij&amp;gt; CONNECT &apos;jdbc:derby:firstdb&apos;;&lt;br/&gt;
JAVA ERROR: java.lang.ExceptionInInitializerError&lt;br/&gt;
ij&amp;gt; select * from COUNTRIES;&lt;br/&gt;
IJ ERROR: Unable to establish connection&lt;br/&gt;
ij&amp;gt; Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: Could not initialize class org.apache.derby.jdbc.EmbeddedDriver&lt;br/&gt;
	at org.apache.derby.jdbc.AutoloadedDriver.getDriverModule(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.AutoloadedDriver.connect(Unknown Source)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:579)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:243)&lt;br/&gt;
	at org.apache.derby.impl.tools.ij.utilMain.cleanupGo(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.tools.ij.utilMain.go(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.tools.ij.Main.go(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.tools.ij.Main.mainCore(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.tools.ij.Main.main(Unknown Source)&lt;/p&gt;


&lt;p&gt;I would sugget to fix this problem by checking invalid configuration option names, and improve error message (at least the error message should pinpoint the likely misconfigured options).&lt;/p&gt;

&lt;p&gt;Please let me know your thoughts.&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;

&lt;p&gt;-Sai&lt;/p&gt;</description>
                <environment>All</environment>
        <key id="12734274">DERBY-6707</key>
            <summary>Inadequate error messages for configuration errors in Derby</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="szhang">Sai Zhang</reporter>
                        <labels>
                            <label>configuration</label>
                            <label>invald</label>
                    </labels>
                <created>Thu, 14 Aug 2014 23:11:20 +0100</created>
                <updated>Mon, 18 Aug 2014 15:23:46 +0100</updated>
                                            <version>10.10.2.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                    <timeoriginalestimate seconds="86400">24h</timeoriginalestimate>
                            <timeestimate seconds="86400">24h</timeestimate>
                                        <comments>
                            <comment id="14097779" author="szhang" created="Thu, 14 Aug 2014 23:12:59 +0100"  >&lt;p&gt;Simply, the same problem occurs if an invalid value is specified for the &quot;derby.stream.error.field&quot; option, like:&lt;/p&gt;

&lt;p&gt;derby.stream.error.field=hello&lt;/p&gt;


&lt;p&gt;Here is the error message after issuing a query:&lt;/p&gt;

&lt;p&gt;ij&amp;gt; CONNECT &apos;jdbc:derby:firstdb&apos;;&lt;br/&gt;
JAVA ERROR: java.lang.ExceptionInInitializerError&lt;br/&gt;
ij&amp;gt; select * from COUNTRIES;&lt;br/&gt;
IJ ERROR: Unable to establish connection&lt;br/&gt;
ij&amp;gt; Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: Could not initialize class org.apache.derby.jdbc.EmbeddedDriver&lt;br/&gt;
	at org.apache.derby.jdbc.AutoloadedDriver.getDriverModule(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.AutoloadedDriver.connect(Unknown Source)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:579)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:243)&lt;br/&gt;
	at org.apache.derby.impl.tools.ij.utilMain.cleanupGo(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.tools.ij.utilMain.go(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.tools.ij.Main.go(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.tools.ij.Main.mainCore(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.tools.ij.Main.main(Unknown Source)&lt;br/&gt;
	at org.apache.derby.tools.ij.main(Unknown Source)&lt;br/&gt;
	at org.apache.derby.iapi.tools.run.main(Unknown Source)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>412214</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10424"><![CDATA[Repro attached]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzsrvz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>412203</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310050" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Urgency</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10052"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>