<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:07:58 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-3686/DERBY-3686.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-3686] convert predicatePushdown.sql  to JUnit</title>
                <link>https://issues.apache.org/jira/browse/DERBY-3686</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;predicatePushdown.sql fails intermittently in the nightlies ( &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1902&quot; title=&quot;Intermittent failures in predicatePushdown.sql&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1902&quot;&gt;&lt;del&gt;DERBY-1902&lt;/del&gt;&lt;/a&gt;) with a plan variance. It would be good to convert it to JUnit and extract only the relevant information from RuntimeStatistics output.  This might make the test more stable.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12396644">DERBY-3686</key>
            <summary>convert predicatePushdown.sql  to JUnit</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kmarsden">Kathey Marsden</assignee>
                                    <reporter username="kmarsden">Kathey Marsden</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 May 2008 17:04:29 +0100</created>
                <updated>Mon, 4 May 2009 19:22:46 +0100</updated>
                            <resolved>Wed, 4 Jun 2008 22:25:48 +0100</resolved>
                                    <version>10.5.1.1</version>
                                    <fixVersion>10.5.1.1</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12599119" author="kmarsden" created="Thu, 22 May 2008 19:53:25 +0100"  >&lt;p&gt;Here is a patch for the initial test conversion with the SQLToJUnit utility.  I ran into a few glitches with the tool which I patched up manually, but I will try to get a smaller repro case for those and maybe see if I can fix the tool.  The test does not yet have the RuntimeStatistics analysis yet.   I plan to check in the conversion so far and then add in the RuntimeStatistics parsing.  The test currently passes but is incomplete.&lt;/p&gt;

</comment>
                            <comment id="12600865" author="kmarsden" created="Thu, 29 May 2008 19:12:17 +0100"  >&lt;p&gt;Attached is a patch that adds the Runtime Statistics parsing for PredicatePushdownTest.  There is still one case that I have not figured out how to parse yet.&lt;br/&gt;
  // Nested unions with non-join predicates should work as&lt;br/&gt;
        // usual (no change with &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-805&quot; title=&quot;Push join predicates into union and other set operations. DERBY-649 implemented scalar (single table) predicate pushdown. Adding join predicate push down could improve performance significantly.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-805&quot;&gt;&lt;del&gt;DERBY-805&lt;/del&gt;&lt;/a&gt;). So should see scalar&lt;br/&gt;
        // qualifiers on scans for all instances of T1 and T2.&lt;br/&gt;
I marked this with a //RESOLVE comment in the test.&lt;/p&gt;

&lt;p&gt;Any tips on how to parse that would be appreciated. Also I would appreciate if someone could review the test to make sure I am checking the right things for the other queries.  I based what I checked for on the comments and the predicatePushdown.out master file.  Hopefully the checks are sufficient.&lt;/p&gt;

&lt;p&gt;Kathey&lt;/p&gt;

</comment>
                            <comment id="12600917" author="kmarsden" created="Thu, 29 May 2008 21:44:56 +0100"  >&lt;p&gt;Here is a new patch derby-3686_complete_diff.txt  that replaces the previous one.  For check for the four qualifiers I added  findString method to RuntimeStatisticsParser that takes a number of instances to search for the string and called.&lt;br/&gt;
  p.findString(&quot;Operator: &amp;lt;=&quot;, 4);&lt;/p&gt;

&lt;p&gt;Hopefully that is a sufficient check.&lt;br/&gt;
This patch also removes the old test and adds the new one to the lang._Suite.&lt;/p&gt;

&lt;p&gt;Please review.&lt;/p&gt;
</comment>
                            <comment id="12601001" author="dagw" created="Fri, 30 May 2008 03:38:29 +0100"  >&lt;p&gt;My 0.02 cents:&lt;br/&gt;
Might be good to add a comment on the use of findString that the magic number 4&lt;br/&gt;
refers back to the fact that there should be scalar qualifiers for all 4 scans.&lt;/p&gt;

&lt;p&gt;The SQL is reformatted to be less readable in the JUnit version making it a lot harder to read than the original&lt;br/&gt;
which seems a bit of a loss.&lt;/p&gt;

&lt;p&gt;It would be nice if the statistics output was more well defined and parsable. The current &lt;br/&gt;
format is inherently brittle it seems... There may be a JIRA for this already; I didn&apos;t find one..&lt;/p&gt;</comment>
                            <comment id="12601157" author="kmarsden" created="Fri, 30 May 2008 16:02:12 +0100"  >&lt;p&gt;Thanks Dag for looking at the test.  I&apos;ll add the comment. As for the reformatting of the sql, it seems to be a feature of the SQLToJUnit utility. perhaps that utility could be changed to keep existing line breaks if they are short enough to fit in the line. I don&apos;t think I&apos;ll go back and redo the whole test now, but it sounds like a good improvement for the tool.  There is also a problem with the tool that it will not put in line breaks after single line comments.  This might fix that problem too.  I&apos;ll take a look and see if it is easy to do.&lt;/p&gt;

&lt;p&gt;I don&apos;t think there is an issue for making the statistics easier to parse.  If you have some ideas in this regard, please file an issue. &lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12383051" name="derby-3686_complete_diff.txt" size="531915" author="kmarsden" created="Thu, 29 May 2008 21:44:56 +0100"/>
                            <attachment id="12382590" name="derby-3686_initial_conv_diff.txt" size="122991" author="kmarsden" created="Thu, 22 May 2008 19:53:24 +0100"/>
                            <attachment id="12383038" name="derby-3686_rts_diff.txt" size="26793" author="kmarsden" created="Thu, 29 May 2008 19:12:17 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 30 May 2008 02:38:29 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30955</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10102"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0xdr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39226</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>