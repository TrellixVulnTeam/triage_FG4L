<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:22:41 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-4716/DERBY-4716.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-4716] Enable BOOLEAN typed columns</title>
                <link>https://issues.apache.org/jira/browse/DERBY-4716</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Allow tables to have boolean columns.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12467937">DERBY-4716</key>
            <summary>Enable BOOLEAN typed columns</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rhillegas">Rick Hillegas</assignee>
                                    <reporter username="rhillegas">Rick Hillegas</reporter>
                        <labels>
                    </labels>
                <created>Fri, 25 Jun 2010 20:33:02 +0100</created>
                <updated>Fri, 7 Sep 2012 09:49:42 +0100</updated>
                            <resolved>Fri, 2 Jul 2010 18:55:13 +0100</resolved>
                                    <version>10.6.1.0</version>
                                    <fixVersion>10.7.1.1</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12882848" author="rhillegas" created="Sat, 26 Jun 2010 17:05:21 +0100"  >&lt;p&gt;Attaching derby-4716-01-ab-enableBooleanColumns.diff. This is the first increment of enabling BOOLEAN-typed columns in tables. This patch supports the ability to declare BOOLEAN columns in CREATE TABLE statements and verifies that casting semantics are correct for INSERTs. Follow-on patches should address ALTER TABLE and index creation. Regression tests passed cleanly for me.&lt;/p&gt;

&lt;p&gt;One oddity which will have to be addressed in a follow-on patch is this:&lt;/p&gt;

&lt;p&gt;1) If you select from an unindexed BOOLEAN column, NULLs sort at the end, as they do for other Derby datatypes.&lt;/p&gt;

&lt;p&gt;2) But if you put an index on the BOOLEAN column, this causes NULLs to sort before other values.&lt;/p&gt;

&lt;p&gt;BOOLEAN-valued indexes should follow the sorting conventions of other datatypes. There should be no backward compatibility issues here because none of the system indexes carry BOOLEAN columns today.&lt;/p&gt;

&lt;p&gt;Touches the following files:&lt;/p&gt;

&lt;p&gt;-----------&lt;/p&gt;

&lt;p&gt;M      java/engine/org/apache/derby/impl/sql/compile/sqlgrammar.jj&lt;/p&gt;

&lt;p&gt;Allows BOOLEAN as a column data type. Removes scaffolding put in at the beginning of 10.7 development. That scaffolding added a parameter to the dataTypeDDL() production so that we could incrementally enable BOOLEAN in different parts of the syntax without enabling BOOLEAN wholesale everywhere. That parameter is now removed. As of this patch, BOOLEAN is allowed everywhere that the other system datatypes are allowed--provided that the database level is 10.7 or higher.&lt;/p&gt;

&lt;p&gt;-----------&lt;/p&gt;

&lt;p&gt;M      java/testing/org/apache/derbyTesting/functionTests/tests/lang/BooleanValuesTest.java&lt;/p&gt;

&lt;p&gt;Tests for INSERTing various datatypes into BOOLEAN columns.&lt;/p&gt;

&lt;p&gt;-----------&lt;/p&gt;

&lt;p&gt;M      java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/ParameterMetaDataJdbc30Test.java&lt;/p&gt;

&lt;p&gt;ParameterMetaData test for INSERTs into BOOLEAN-valued columns.&lt;/p&gt;

&lt;p&gt;-----------&lt;/p&gt;

&lt;p&gt;M      java/testing/org/apache/derbyTesting/functionTests/master/db2Compatibility.out&lt;/p&gt;

&lt;p&gt;Canon change because BOOLEAN columns are supported now.&lt;/p&gt;</comment>
                            <comment id="12883136" author="rhillegas" created="Mon, 28 Jun 2010 14:04:51 +0100"  >&lt;p&gt;Committed derby-4716-01-ab-enableBooleanColumns.diff at subversion revision 958565.&lt;/p&gt;</comment>
                            <comment id="12883148" author="rhillegas" created="Mon, 28 Jun 2010 14:52:28 +0100"  >&lt;p&gt;Attaching derby-4716-02-aa-indexOrder.diff. This corrects the sort order of null for indexed BOOLEANs, making that order agree with the sort order of unindexed BOOLEANs and other indexed types. I am running tests now.&lt;/p&gt;

&lt;p&gt;Touches the following files:&lt;/p&gt;

&lt;p&gt;---------&lt;/p&gt;

&lt;p&gt;M      java/engine/org/apache/derby/iapi/types/SQLBoolean.java&lt;/p&gt;

&lt;p&gt;There is a table of comments in both SQLBoolean.compare(DataValueDescriptor other) and NumberDataType.compare(DataValueDescriptor other). The final column in each table states the semantics of how the methods should behave. That final column agrees in both methods. However, the two comment blocks disagree on what actual return value enforces those semantics. The SQLBoolean values are the opposite of those in NumberDataValue both in the comments and in the subsequent implementation. I simply made the comments and implementation of SQLBoolean.compare(DataValueDescriptor other) agree with NumberDataType.compare(DataValueDescriptor other).&lt;/p&gt;

&lt;p&gt;---------&lt;/p&gt;

&lt;p&gt;M      java/testing/org/apache/derbyTesting/functionTests/tests/lang/BooleanValuesTest.java&lt;/p&gt;

&lt;p&gt;Added a regression test case for this change.&lt;/p&gt;</comment>
                            <comment id="12883191" author="rhillegas" created="Mon, 28 Jun 2010 16:48:11 +0100"  >&lt;p&gt;Tests ran cleanly for me. Committed derby-4716-02-aa-indexOrder.diff at subversion revision 958610.&lt;/p&gt;</comment>
                            <comment id="12883210" author="rhillegas" created="Mon, 28 Jun 2010 17:35:40 +0100"  >&lt;p&gt;Attaching derby-4716-03-aa-booleanDefaults.diff. This patch adds BOOLEAN defaults to the CREATE/ALTER TABLE statements. I am running tests now.&lt;/p&gt;

&lt;p&gt;Touches the following files:&lt;/p&gt;

&lt;p&gt;---------&lt;/p&gt;

&lt;p&gt;M      java/engine/org/apache/derby/impl/sql/compile/ColumnDefinitionNode.java&lt;/p&gt;

&lt;p&gt;Allows the DEFAULT clause on BOOLEAN columns provided that the default value is a BOOLEAN literal.&lt;/p&gt;

&lt;p&gt;---------&lt;/p&gt;

&lt;p&gt;M      java/testing/org/apache/derbyTesting/functionTests/tests/lang/BooleanValuesTest.java&lt;/p&gt;

&lt;p&gt;Adds tests for this improvement.&lt;/p&gt;</comment>
                            <comment id="12883245" author="rhillegas" created="Mon, 28 Jun 2010 19:54:29 +0100"  >&lt;p&gt;Tests passed for me. Committed derby-4716-03-aa-booleanDefaults.diff at subversion revision 958677.&lt;/p&gt;</comment>
                            <comment id="12884756" author="rhillegas" created="Fri, 2 Jul 2010 18:54:51 +0100"  >&lt;p&gt;Attaching derby-4716-04-aa-moreTests.diff. This patch adds test cases verifying the basic functioning of:&lt;/p&gt;

&lt;p&gt;o ALTER TABLE&lt;/p&gt;

&lt;p&gt;o Generated BOOLEAN columns&lt;/p&gt;

&lt;p&gt;o Constraints on BOOLEAN columns&lt;/p&gt;

&lt;p&gt;o Triggers on BOOLEAN columns&lt;/p&gt;

&lt;p&gt;o Views on BOOLEAN columns&lt;/p&gt;

&lt;p&gt;Committed at subversion revision 960071.&lt;/p&gt;


&lt;p&gt;Touches the following file:&lt;/p&gt;

&lt;p&gt;M      java/testing/org/apache/derbyTesting/functionTests/tests/lang/BooleanValuesTest.java&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12313174">DERBY-499</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12606447">DERBY-5918</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12448133" name="derby-4716-01-ab-enableBooleanColumns.diff" size="14135" author="rhillegas" created="Sat, 26 Jun 2010 17:05:21 +0100"/>
                            <attachment id="12448217" name="derby-4716-02-aa-indexOrder.diff" size="2860" author="rhillegas" created="Mon, 28 Jun 2010 14:52:28 +0100"/>
                            <attachment id="12448226" name="derby-4716-03-aa-booleanDefaults.diff" size="3313" author="rhillegas" created="Mon, 28 Jun 2010 17:35:40 +0100"/>
                            <attachment id="12448585" name="derby-4716-04-aa-moreTests.diff" size="11854" author="rhillegas" created="Fri, 2 Jul 2010 18:54:51 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31344</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10102"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0a6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35467</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>