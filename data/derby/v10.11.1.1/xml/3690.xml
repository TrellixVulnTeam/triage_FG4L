<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:11:07 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-3690/DERBY-3690.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-3690] EmbedPooledConnection doesn&apos;t reset schema when creating a new logical connection</title>
                <link>https://issues.apache.org/jira/browse/DERBY-3690</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;If you set the schema on a logical connection obtained from EmbedPooledConnection, that schema will also be the current schema for subsequent logical connections obtained from the same EmbedPooledConnection.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12396702">DERBY-3690</key>
            <summary>EmbedPooledConnection doesn&apos;t reset schema when creating a new logical connection</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kristwaa">Kristian Waagan</assignee>
                                    <reporter username="knutanders">Knut Anders Hatlen</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 May 2008 12:17:54 +0100</created>
                <updated>Mon, 4 May 2009 19:22:08 +0100</updated>
                            <resolved>Tue, 3 Jun 2008 13:46:23 +0100</resolved>
                                    <version>10.1.1.0</version>
                    <version>10.2.1.6</version>
                    <version>10.3.1.4</version>
                    <version>10.4.1.3</version>
                                    <fixVersion>10.4.2.0</fixVersion>
                    <fixVersion>10.5.1.1</fixVersion>
                                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12599332" author="knutanders" created="Fri, 23 May 2008 12:27:34 +0100"  >&lt;p&gt;Attached is a repro that shows the problem. It prints the following when you run it:&lt;/p&gt;

&lt;p&gt;Current schema (expect ABC): ABC&lt;br/&gt;
Current schema (expect DEF): DEF&lt;br/&gt;
Current schema (expect ABC): DEF&lt;/p&gt;

&lt;p&gt;The last line should say ABC.&lt;/p&gt;</comment>
                            <comment id="12599335" author="kristwaa" created="Fri, 23 May 2008 12:30:53 +0100"  >&lt;p&gt;I&apos;ll work this bug. I already have a fix for it as part of my patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3596&quot; title=&quot;Creation of logical connections from a pooled connection causes resource leak on the server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3596&quot;&gt;&lt;del&gt;DERBY-3596&lt;/del&gt;&lt;/a&gt;, and after some polishing and a regression test it should be good to go.&lt;/p&gt;

&lt;p&gt;I expect to get this done during the coming week.&lt;/p&gt;</comment>
                            <comment id="12599834" author="kristwaa" created="Mon, 26 May 2008 13:44:16 +0100"  >&lt;p&gt;&apos;derby-3690-1a-reset_schema.diff&apos; resets the schema in GenericLanguageConnectionContext.resetFromPool(), adds method JDBC.assertCurrentSchema and adds two regression tests.&lt;br/&gt;
Only one of the regression tests failed before the fix.&lt;/p&gt;

&lt;p&gt;The repro runs successfully with the patch applied.&lt;br/&gt;
I&apos;m running the full regression tests.&lt;/p&gt;

&lt;p&gt;Patch ready for review.&lt;/p&gt;</comment>
                            <comment id="12599842" author="knutanders" created="Mon, 26 May 2008 14:50:57 +0100"  >&lt;p&gt;The test cases and the fix look good to me. +1 to commit if the regression tests pass.&lt;/p&gt;</comment>
                            <comment id="12600044" author="kristwaa" created="Tue, 27 May 2008 07:51:23 +0100"  >&lt;p&gt;&apos;derby-3690-1b-reset_schema.diff&apos; is identical to 1a, except for three additions to comments to link to this Jira issue.&lt;br/&gt;
Regression tests have been run without failures (Sun JDK 1.6.0, Solaris 10).&lt;/p&gt;</comment>
                            <comment id="12600046" author="kristwaa" created="Tue, 27 May 2008 08:00:35 +0100"  >&lt;p&gt;Committed &apos;derby-3690-1b-reset_schema.diff&apos; to trunk with revision 660404 and backported it to 10.4 with revision 660408.&lt;/p&gt;</comment>
                            <comment id="12600380" author="kristwaa" created="Wed, 28 May 2008 07:18:30 +0100"  >&lt;p&gt;Looking at my test logs, I see that I accidentally ran the regression tests 4 times against trunk... Two of those were meant for the 10.4 branch.&lt;/p&gt;

&lt;p&gt;I&apos;m reopening to look at &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3692&quot; title=&quot;&amp;#39;javax.transaction.xa.XAException&amp;#39; ++  in  &amp;#39;J2EEDataSourceTest&amp;#39; &quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3692&quot;&gt;&lt;del&gt;DERBY-3692&lt;/del&gt;&lt;/a&gt;. I have already verified that this checkin (r660408) caused the errors, but I do not know why yet.&lt;br/&gt;
Depending on the investigation, I will either fix this for 10.4 or back out the original fix.&lt;/p&gt;</comment>
                            <comment id="12600435" author="kristwaa" created="Wed, 28 May 2008 12:04:43 +0100"  >&lt;p&gt;Linked to &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3327&quot; title=&quot;SQL roles: Implement authorization stack (and SQL session context to hold it)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3327&quot;&gt;&lt;del&gt;DERBY-3327&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1331&quot; title=&quot;Derby&amp;#39;s &amp;quot;set schema&amp;quot; behavior is not compliant with SQL 2003 Foundation spec.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1331&quot;&gt;&lt;del&gt;DERBY-1331&lt;/del&gt;&lt;/a&gt;. Note that code for the latter was committed as part of the former.&lt;/p&gt;</comment>
                            <comment id="12601912" author="kristwaa" created="Tue, 3 Jun 2008 13:46:23 +0100"  >&lt;p&gt;Marking as fixed again.&lt;br/&gt;
A small excerpt of the latest patch (4-full_e) for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3327&quot; title=&quot;SQL roles: Implement authorization stack (and SQL session context to hold it)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3327&quot;&gt;&lt;del&gt;DERBY-3327&lt;/del&gt;&lt;/a&gt; was committed to the 10.4 branch and it fixed the problem seen in the J2EEDataSourceTest.&lt;/p&gt;

&lt;p&gt;Tinderbox test for 10.4 ran cleanly.&lt;br/&gt;
Fix can be verified and closed.&lt;/p&gt;</comment>
                            <comment id="12603910" author="kristwaa" created="Tue, 10 Jun 2008 16:43:22 +0100"  >&lt;p&gt;Removed an unwarranted assert in 10.4 with revision 666164.&lt;br/&gt;
This is a manual backport of revision 662911.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12403193">DERBY-3859</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12396910">DERBY-3692</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12343199">DERBY-1331</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12386518">DERBY-3327</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12382637" name="PooledSchema.java" size="1444" author="knutanders" created="Fri, 23 May 2008 12:27:34 +0100"/>
                            <attachment id="12382771" name="derby-3690-1a-reset_schema.diff" size="6656" author="kristwaa" created="Mon, 26 May 2008 13:44:16 +0100"/>
                            <attachment id="12382823" name="derby-3690-1b-reset_schema.diff" size="6779" author="kristwaa" created="Tue, 27 May 2008 07:51:23 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 23 May 2008 11:30:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23789</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0xxz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39317</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>