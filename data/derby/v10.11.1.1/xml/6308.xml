<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:53:12 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-6308/DERBY-6308.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-6308] joinStrategy optimizer override is ignored if you don&apos;t also specify joinOrder</title>
                <link>https://issues.apache.org/jira/browse/DERBY-6308</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Using the schema from OptimizerOverridesTest, the following query...&lt;/p&gt;

&lt;p&gt;select * from --DERBY-PROPERTIES joinOrder=FIXED&lt;br/&gt;
t1 a, t1 b --DERBY-PROPERTIES joinStrategy=NESTEDLOOP&lt;br/&gt;
where a.c1 = b.c1&lt;/p&gt;

&lt;p&gt;...correctly produces this plan: ( T1_C1C2C3 * T1_C1C2C3 )&lt;/p&gt;

&lt;p&gt;However, if you omit the joinOrder directive, the resulting query...&lt;/p&gt;

&lt;p&gt;select * from&lt;br/&gt;
t1 a, t1 b --DERBY-PROPERTIES joinStrategy=NESTEDLOOP&lt;br/&gt;
where a.c1 = b.c1&lt;/p&gt;

&lt;p&gt;...unexpectedly produces a hash join order: ( T1_C1C2C3 # T1_C1C2C3 )&lt;/p&gt;

&lt;p&gt;The Tuning Guide says that you should specify the joinOrder directive in order to get optimal results, but the Tuning Guide does not indicate that the joinOrder directive is required in order to activate the joinStrategy directive. See the Tuning Guide section titled &quot;Overriding the default optimizer behavior&quot;.&lt;/p&gt;

&lt;p&gt;Is this behavior expected? If so, should we change the Tuning Guide to say that the joinOrder directive is required in order to activate the joinStrategy directive?&lt;/p&gt;

&lt;p&gt;For reference, here is the same query with a new-style optimizer plan override...&lt;/p&gt;

&lt;p&gt;select * from t1 a, t1 b where a.c1 = b.c1--derbyplan (  T1_C1C2C3 * T1_C1C2C3 )&lt;/p&gt;

&lt;p&gt;...which produces the expected plan: ( T1_C1C2C3 * T1_C1C2C3 )&lt;/p&gt;

&lt;p&gt;I will attach a repro.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12660692">DERBY-6308</key>
            <summary>joinStrategy optimizer override is ignored if you don&apos;t also specify joinOrder</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rhillegas">Rick Hillegas</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Jul 2013 16:59:29 +0100</created>
                <updated>Wed, 31 Jul 2013 20:37:14 +0100</updated>
                                            <version>10.11.1.1</version>
                                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13723994" author="rhillegas" created="Tue, 30 Jul 2013 17:02:38 +0100"  >&lt;p&gt;Attaching DERBY_6308.java, a repro for this issue.&lt;/p&gt;</comment>
                            <comment id="13723998" author="rhillegas" created="Tue, 30 Jul 2013 17:03:22 +0100"  >&lt;p&gt;Linking to &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6305&quot; title=&quot;Tuning Derby information on optimizer overrides needs improvement&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6305&quot;&gt;&lt;del&gt;DERBY-6305&lt;/del&gt;&lt;/a&gt; because I tripped across this behavior while investigating that issue.&lt;/p&gt;</comment>
                            <comment id="13725635" author="rhillegas" created="Wed, 31 Jul 2013 20:36:23 +0100"  >&lt;p&gt;Attaching derby-6308-01-aa-correctLicenseHeader.diff. This patch corrects a typo in the license header of OptimizerOverridesTest.&lt;/p&gt;

&lt;p&gt;Touches the following file:&lt;/p&gt;

&lt;p&gt;M       java/testing/org/apache/derbyTesting/functionTests/tests/lang/OptimizerOverridesTest.java&lt;/p&gt;</comment>
                            <comment id="13725636" author="jira-bot" created="Wed, 31 Jul 2013 20:37:14 +0100"  >&lt;p&gt;Commit 1509000 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rhillegas&quot; class=&quot;user-hover&quot; rel=&quot;rhillegas&quot;&gt;Rick Hillegas&lt;/a&gt; in branch &apos;code/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1509000&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1509000&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6308&quot; title=&quot;joinStrategy optimizer override is ignored if you don&amp;#39;t also specify joinOrder&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6308&quot;&gt;DERBY-6308&lt;/a&gt;: Correct type in the license header of OptimizerOverridesTest; commit derby-6308-01-aa-correctLicenseHeader.diff.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12659830">DERBY-6305</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12594979" name="DERBY_6308.java" size="9317" author="rhillegas" created="Tue, 30 Jul 2013 17:02:38 +0100"/>
                            <attachment id="12595253" name="derby-6308-01-aa-correctLicenseHeader.diff" size="737" author="rhillegas" created="Wed, 31 Jul 2013 20:36:23 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 31 Jul 2013 19:37:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340882</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10424"><![CDATA[Repro attached]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzgmwf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>341200</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310050" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Urgency</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10052"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>