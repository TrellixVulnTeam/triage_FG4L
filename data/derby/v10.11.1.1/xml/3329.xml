<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:15:07 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-3329/DERBY-3329.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-3329] Enable statement pooling in the client JDBC driver</title>
                <link>https://issues.apache.org/jira/browse/DERBY-3329</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Enable statement pooling in the client JDBC driver.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12386521">DERBY-3329</key>
            <summary>Enable statement pooling in the client JDBC driver</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12385979">DERBY-3313</parent>
                                    <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.png">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kristwaa">Kristian Waagan</assignee>
                                    <reporter username="kristwaa">Kristian Waagan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 17 Jan 2008 17:21:42 +0000</created>
                <updated>Mon, 14 Apr 2008 14:31:00 +0100</updated>
                            <resolved>Fri, 29 Feb 2008 15:06:38 +0000</resolved>
                                    <version>10.4.1.3</version>
                                    <fixVersion>10.4.1.3</fixVersion>
                                    <component>JDBC</component>
                    <component>Network Client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12569332" author="kristwaa" created="Fri, 15 Feb 2008 17:28:47 +0000"  >&lt;p&gt;&apos;derby-3329-1a-enable_statement_pooling.diff&apos; modifies ClientPooledConnection.java and enables statement pooling under the following preconditions:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Patches for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3326&quot; title=&quot;Introduce a caching logical connection and logical prepared statement in the client driver&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3326&quot;&gt;&lt;del&gt;DERBY-3326&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3328&quot; title=&quot;Extend client JDBC object factory with methods to create objects required for statement pooling&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3328&quot;&gt;&lt;del&gt;DERBY-3328&lt;/del&gt;&lt;/a&gt; must be applied.&lt;/li&gt;
	&lt;li&gt;Connections must be obtained through a ClientConnectionPoolDataSource&lt;/li&gt;
	&lt;li&gt;The property &quot;maxStatements&quot; must be set to something larger than zero in CCPDS.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Note that statement pooling is not enabled for XA connections yet. That would require a trivial change in ClientPooledConnection and addition of the &quot;maxStatements&quot; property in the XA data source.&lt;/p&gt;

&lt;p&gt;Note that there are no proper testing yet, but I have run through jdbc4.ConnectionTest and jdbc4.PreparedStatementTest without errors (with statement pooling enabled).&lt;br/&gt;
Tests will follow in a separate patch.&lt;/p&gt;

&lt;p&gt;Patch ready for review.&lt;/p&gt;</comment>
                            <comment id="12573325" author="kristwaa" created="Thu, 28 Feb 2008 15:41:31 +0000"  >&lt;p&gt;&apos;derby-3329-1b-enable_statement_pooling.diff&apos; is an updated patch, with the following changes:&lt;br/&gt;
 a) Initiate state before publishing reference to self (moved code).&lt;br/&gt;
 b) Moved code not throwing exception out of try-catch block (refactoring)&lt;br/&gt;
 c) Added method isStatementPoolingEnabled.&lt;br/&gt;
    Use of method is twofold:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;by NetConnection to determine value of doCloseStatementsOnClose_&lt;/li&gt;
	&lt;li&gt;by LogicalConnection, forwarded into am.Connection to use correct close procedure.&lt;br/&gt;
       (requires another patch)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I hope this patch will go in shortly, and will post a new patch actually enabling statement pooling.&lt;br/&gt;
The enabling patch will only edit a few lines.&lt;/p&gt;</comment>
                            <comment id="12573404" author="kristwaa" created="Thu, 28 Feb 2008 19:08:17 +0000"  >&lt;p&gt;Committed &apos;derby-3329-1b-enable_statement_pooling.diff&apos; to trunk with revision 632093.&lt;br/&gt;
Note that this patch did not enabled statement pooling, but patch 2a will be uploaded to do that.&lt;/p&gt;</comment>
                            <comment id="12573408" author="kristwaa" created="Thu, 28 Feb 2008 19:15:02 +0000"  >&lt;p&gt;&apos;derby-3329-2a-enable_statement_pooling-cpds.diff&apos; enables statement pooling for ClientConnectionPoolDataSource.&lt;/p&gt;</comment>
                            <comment id="12573505" author="kristwaa" created="Thu, 28 Feb 2008 23:00:52 +0000"  >&lt;p&gt;&apos;derby-3329-3a_stmtpooling_tests_NO_COMMIT.diff&apos; is a preview of some tests I&apos;ve written.&lt;br/&gt;
It is not ready for commit, and there will be changes made to it.&lt;/p&gt;

&lt;p&gt;Comments are welcome, both fix suggestions and new test scenarios.&lt;/p&gt;</comment>
                            <comment id="12573734" author="kristwaa" created="Fri, 29 Feb 2008 13:31:44 +0000"  >&lt;p&gt;&apos;derby-3329-3b_stmtpooling_tests.diff&apos; is an updated version of the tests.&lt;br/&gt;
The tests are not yet enabled in suites.All.&lt;/p&gt;

&lt;p&gt;Committed patch 3b to trunk with revision 632317.&lt;/p&gt;</comment>
                            <comment id="12573736" author="kristwaa" created="Fri, 29 Feb 2008 13:38:46 +0000"  >&lt;p&gt;&apos;derby-3329-2b-enable_statement_pooling-cpds.diff&apos; enables statement pooling in ClientConnectionPoolDataSource and adds jdbcapi.StatementPoolingTest into jdbcapi._Suite (and this suites.All).&lt;/p&gt;

&lt;p&gt;I expect this to be the last patch for this issue, unless something starts failing...&lt;/p&gt;</comment>
                            <comment id="12573775" author="kristwaa" created="Fri, 29 Feb 2008 15:06:38 +0000"  >&lt;p&gt;Committed &apos;derby-3329-2b-enable_statement_pooling-cpds.diff&apos; to trunk with revision 632338.&lt;/p&gt;

&lt;p&gt;Statement pooling is now enabled, and can be tested by obtaining connections through a ClientConnectionPoolDataSource with &apos;maxStatements&apos; set to somthing larger than zero. The property follows the JavaBean standard, so you would use cpDs.setMaxStatements(int) to specify a value.&lt;/p&gt;

&lt;p&gt;Note that there are some known problems with the feature. I would like to get feedback on all problems to check if it is an existing bug or something newly introduced.&lt;br/&gt;
I&apos;m away for one week and will pick up the work again (bug fixing) when I get back.&lt;/p&gt;</comment>
                            <comment id="12588575" author="kristwaa" created="Mon, 14 Apr 2008 14:31:00 +0100"  >&lt;p&gt;JDBC statement pooling for the ClientConnectionPoolDataSource has been enabled.&lt;br/&gt;
Note that the features has not been enabled for the XA data source.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12386516">DERBY-3326</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12386515">DERBY-3325</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12386520">DERBY-3328</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12375693" name="derby-3329-1a-enable_statement_pooling.diff" size="2797" author="kristwaa" created="Fri, 15 Feb 2008 17:28:47 +0000"/>
                            <attachment id="12376737" name="derby-3329-1b-enable_statement_pooling.diff" size="5151" author="kristwaa" created="Thu, 28 Feb 2008 15:41:31 +0000"/>
                            <attachment id="12376756" name="derby-3329-2a-enable_statement_pooling-cpds.diff" size="713" author="kristwaa" created="Thu, 28 Feb 2008 19:15:02 +0000"/>
                            <attachment id="12376826" name="derby-3329-2b-enable_statement_pooling-cpds.diff" size="1482" author="kristwaa" created="Fri, 29 Feb 2008 13:38:46 +0000"/>
                            <attachment id="12376774" name="derby-3329-3a_stmtpooling_tests_NO_COMMIT.diff" size="24183" author="kristwaa" created="Thu, 28 Feb 2008 23:00:52 +0000"/>
                            <attachment id="12376825" name="derby-3329-3b_stmtpooling_tests.diff" size="32931" author="kristwaa" created="Fri, 29 Feb 2008 13:31:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30811</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0yyn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39482</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>