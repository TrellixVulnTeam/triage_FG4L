<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:32:59 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-1303/DERBY-1303.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-1303] The test of derbynet/SuicideOfStreaming.java is failed when programs are build as Insane.</title>
                <link>https://issues.apache.org/jira/browse/DERBY-1303</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;&quot;derbynet/SuicideOfStreaming.java&quot; have dependency on build as Sane.&lt;/p&gt;

&lt;p&gt;When programs are build as Insane, &lt;br/&gt;
code to cause artificial Exception is not compiled and &lt;br/&gt;
streaming does not failed in derbynet/SuicideOfStreaming.java as expected in this test program.&lt;/p&gt;

&lt;p&gt;The dependency results in fail of derbynet/SuicideOfStreaming.java when programs are comiled as insane.&lt;/p&gt;</description>
                <environment>&lt;a href=&quot;http://www.multinet.no/~solberg/public/Apache/TinderBox_Derby/Limited/testSummary-405038.html&quot;&gt;http://www.multinet.no/~solberg/public/Apache/TinderBox_Derby/Limited/testSummary-405038.html&lt;/a&gt;</environment>
        <key id="12333352">DERBY-1303</key>
            <summary>The test of derbynet/SuicideOfStreaming.java is failed when programs are build as Insane.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="naka">Tomohito Nakayama</assignee>
                                    <reporter username="naka">Tomohito Nakayama</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 May 2006 00:31:13 +0100</created>
                <updated>Fri, 21 Jan 2011 18:08:39 +0000</updated>
                            <resolved>Wed, 17 May 2006 06:30:21 +0100</resolved>
                                                    <fixVersion>10.2.1.6</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12378457" author="naka" created="Tue, 9 May 2006 00:33:47 +0100"  >&lt;p&gt;I think excluding derbynet/SuicideOfStreaming.java when programs are compiled as Insane as appropriate solution.&lt;/p&gt;</comment>
                            <comment id="12378916" author="naka" created="Wed, 10 May 2006 21:15:42 +0100"  >&lt;p&gt;Next are plans to solve this problem.&lt;/p&gt;

&lt;p&gt;1) &lt;br/&gt;
Using &quot;suite&quot; of junit, exclude SuicideOfStreaming test.&lt;br/&gt;
Refer to.&lt;br/&gt;
&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/db-derby-dev/200605.mbox/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mail-archives.apache.org/mod_mbox/db-derby-dev/200605.mbox/&lt;/a&gt;&amp;lt;44604E2D.1010503%40Sun.COM&amp;gt;&lt;/p&gt;

&lt;p&gt;2)&lt;br/&gt;
In build.xml, adding derbynet/SuicideOfStreaming.java to DerbyNet.exclude if build was Insane.&lt;/p&gt;

&lt;p&gt;It seems that 1) is appropriate because test should be handled in test framework and not in build framework.&lt;/p&gt;</comment>
                            <comment id="12378918" author="naka" created="Wed, 10 May 2006 21:31:58 +0100"  >&lt;p&gt;One problem is that I have not written test using JUnit &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Examining past mail, I found there exists some information on Wiki.&lt;br/&gt;
I will start from this point .... &lt;br/&gt;
&lt;a href=&quot;http://wiki.apache.org/db-derby/DerbyJUnitTesting&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/db-derby/DerbyJUnitTesting&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12401406" author="naka" created="Sun, 14 May 2006 11:42:41 +0100"  >&lt;p&gt;Description of the patch :&lt;br/&gt;
   This patch switchovers derbynet/SuicideOfStreaming to be executed in JUnit framework.&lt;br/&gt;
   After this patch, derbynet/SuicideOfStreaming is not executed if program was build as insane.&lt;/p&gt;

&lt;p&gt;Test :&lt;br/&gt;
   I executed derbyall both in sane and insane.&lt;br/&gt;
   I found no error other than found already in test site.&lt;/p&gt;
</comment>
                            <comment id="12411951" author="naka" created="Tue, 16 May 2006 20:22:17 +0100"  >&lt;p&gt;Committed the patch.&lt;/p&gt;

&lt;p&gt;Deleting       java/testing/org/apache/derbyTesting/functionTests/master/DerbyNet/SuicideOfStreaming.out&lt;br/&gt;
Deleting       java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/SuicideOfStreaming.out&lt;br/&gt;
Sending        java/testing/org/apache/derbyTesting/functionTests/suites/derbynetmats.runall&lt;br/&gt;
Sending        java/testing/org/apache/derbyTesting/functionTests/tests/derbynet/SuicideOfStreaming.java&lt;br/&gt;
Sending        java/testing/org/apache/derbyTesting/functionTests/tests/derbynet/build.xml&lt;br/&gt;
Adding         java/testing/org/apache/derbyTesting/functionTests/tests/junitTests/derbyNet/OwnServerTests.java&lt;br/&gt;
Adding         java/testing/org/apache/derbyTesting/functionTests/tests/junitTests/derbyNet/OwnServerTests_app.properties&lt;br/&gt;
Sending        java/testing/org/apache/derbyTesting/functionTests/tests/junitTests/derbyNet/copyfiles.ant&lt;br/&gt;
Sending        java/testing/org/apache/derbyTesting/functionTests/util/BaseTestCase.java&lt;br/&gt;
Transmitting file data .......&lt;br/&gt;
Committed revision 406921.&lt;/p&gt;</comment>
                            <comment id="12413716" author="kristwaa" created="Mon, 29 May 2006 22:09:55 +0100"  >&lt;p&gt;Hello Tomohito,&lt;/p&gt;

&lt;p&gt;I had a look at the SuicideOfStreaming test. In my opinion, more can be done to make it more &quot;JUnit friendly&quot;.&lt;br/&gt;
That said, I also observe that our JUnit environment lacks some supporting functionality. I might take some time to work on the test, but first I have a few questions.&lt;/p&gt;

&lt;p&gt;1) Is the test supposed to be runnable through it&apos;s main method?&lt;/p&gt;

&lt;p&gt;2) Do we need support for starting, and shutting down, a network server from a JUnit test?&lt;br/&gt;
Where should this functionality be placed? As a subclass of BaseJDBCTestCase, or in an independent/existing utility class?&lt;br/&gt;
Two cases:&lt;br/&gt;
a) In same process; is doable. If things go wrong, server dies with the VM.&lt;br/&gt;
b) In separate process; more complicated. If the test hangs/fails the server process can be left running. This is similar to the existing NetServer, but here server management is done by the harness, not the test process itself (exception; useprocess=false).&lt;/p&gt;

&lt;p&gt;3) Can someone confirm or deny that we have recommended to place JUnit tests in the same directory structure as the other tests?&lt;/p&gt;

&lt;p&gt;I know of two JUnit tests that require a server to be explicitly started and manipulated &quot;outside the harness&quot;: SuicideOfStreaming and the tests for Connection.isValid().&lt;/p&gt;</comment>
                            <comment id="12413728" author="naka" created="Tue, 30 May 2006 01:04:51 +0100"  >&lt;p&gt;Hello.&lt;/p&gt;

&lt;p&gt;My thoughts are as next...&lt;/p&gt;

&lt;p&gt;1) &lt;br/&gt;
Tests may be runnable as independent program , but not needed to be.&lt;/p&gt;

&lt;p&gt;Now we have *.junit support in our test framework, then runnablitily of each tests is not needed.&lt;br/&gt;
However, there are no need to prohibit it.&lt;/p&gt;


&lt;p&gt;2)&lt;br/&gt;
Yes. I think we need support for starting and shutdown network server from tests.&lt;/p&gt;

&lt;p&gt;I saw several tests which start annd shutdown network server, not only derbynet/SuicideOfStreaming.junit, &lt;br/&gt;
derbynet/dataSourcePermissions_net.java ,which was touched in &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-273&quot; title=&quot;The derbynet/dataSourcePermissions_net.java test fails intermittently&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-273&quot;&gt;&lt;del&gt;DERBY-273&lt;/del&gt;&lt;/a&gt; , for example.&lt;/p&gt;

&lt;p&gt;Then, I think it is natural to support start/shutdown network server in test framework.&lt;/p&gt;

&lt;p&gt;I prefer to implement code to support this , in class methods of subclass from BaseJDBCTestCase.&lt;br/&gt;
However, it should be left to programmer who works for it &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;About your two option of &quot;a) or b)&quot;, I think it should be possible for programmer who implement each tests to choose which.&lt;br/&gt;
I think question of &quot;a) or b)&quot; depends on what the individual test does.&lt;br/&gt;
Then framework code should support both of them.&lt;/p&gt;


&lt;p&gt;3)&lt;br/&gt;
I thnk we can place *.junit tests in the same directory as other tests,&lt;br/&gt;
because *.junit are tests in the same way as others.&lt;/p&gt;

&lt;p&gt;However,I think we should have the list that tells which tests are executed as *.junit.&lt;br/&gt;
(I think this list should be existed not only for *.junit ,but also for *.java *.sql *.unit ... &lt;br/&gt;
That list would help us.)&lt;/p&gt;</comment>
                            <comment id="12551341" author="fuzzylogic" created="Thu, 13 Dec 2007 09:04:55 +0000"  >&lt;p&gt;This issue has been resolved for over a year with no further movement. Closing.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="32988">DERBY-326</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12331685" name="DERBY-1303.patch" size="10639" author="naka" created="Sun, 14 May 2006 11:42:41 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 29 May 2006 21:09:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22422</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0kq7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37176</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>