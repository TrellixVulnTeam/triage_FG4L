<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:42:11 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-4929/DERBY-4929.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-4929] Engine code should not use java/shared/org/apache/derby/shared/common/error/ErrorUtil.java </title>
                <link>https://issues.apache.org/jira/browse/DERBY-4929</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;As part of the changes for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3783&quot; title=&quot;LOBStreamControl shouldn&amp;#39;t throw SQLException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3783&quot;&gt;&lt;del&gt;DERBY-3783&lt;/del&gt;&lt;/a&gt; and other lob work, references in the engine were added to java/shared/org/apache/derby/shared/common/error/ExceptionUtil.java in engine. e.g.:&lt;/p&gt;

&lt;p&gt;$ grep &apos;import org.apache.derby.shared.common&apos; `find java/engine` | grep -v ref&lt;br/&gt;
erence | grep -v sanity&lt;br/&gt;
java/engine/org/apache/derby/impl/jdbc/.svn/text-base/LOBInputStream.java.svn-ba&lt;br/&gt;
se:import org.apache.derby.shared.common.error.ExceptionUtil;&lt;br/&gt;
java/engine/org/apache/derby/impl/jdbc/.svn/text-base/LOBOutputStream.java.svn-b&lt;br/&gt;
ase:import org.apache.derby.shared.common.error.ExceptionUtil;&lt;br/&gt;
java/engine/org/apache/derby/impl/jdbc/.svn/text-base/LOBStreamControl.java.svn-&lt;br/&gt;
base:import org.apache.derby.shared.common.error.ExceptionUtil;&lt;br/&gt;
java/engine/org/apache/derby/impl/jdbc/LOBInputStream.java:import org.apache.der&lt;br/&gt;
by.shared.common.error.ExceptionUtil;&lt;br/&gt;
java/engine/org/apache/derby/impl/jdbc/LOBOutputStream.java:import org.apache.de&lt;br/&gt;
rby.shared.common.error.ExceptionUtil;&lt;br/&gt;
java/engine/org/apache/derby/impl/jdbc/LOBStreamControl.java:import org.apache.d&lt;br/&gt;
erby.shared.common.error.ExceptionUtil;&lt;/p&gt;


&lt;p&gt;It is my understanding at this time, based on the progress on &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-289&quot; title=&quot;Enable code sharing between Derby client and engine&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-289&quot;&gt;DERBY-289&lt;/a&gt; that only classes in references (static values) and sanity should be shared at this time.  Other directories should only be used by client until some sort of code sharing framework is determined to avoid mismatched class versions and sealing violations in insane builds.&lt;/p&gt;

&lt;p&gt;In addition to correcting the cases above, it would be great to add build support to prevent similar mistakes in the future.&lt;/p&gt;


&lt;p&gt;java/engine/org/apache/derby/iapi/error might be an appropriate location for the server&apos;s ExceptionUtil.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12491936">DERBY-4929</key>
            <summary>Engine code should not use java/shared/org/apache/derby/shared/common/error/ErrorUtil.java </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lilywei">Lily Wei</assignee>
                                    <reporter username="kmarsden">Kathey Marsden</reporter>
                        <labels>
                    </labels>
                <created>Thu, 2 Dec 2010 23:11:55 +0000</created>
                <updated>Thu, 2 May 2013 03:29:34 +0100</updated>
                            <resolved>Fri, 10 Dec 2010 16:23:27 +0000</resolved>
                                                    <fixVersion>10.8.1.2</fixVersion>
                                    <component>Miscellaneous</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12967072" author="lilywei" created="Mon, 6 Dec 2010 03:08:49 +0000"  >&lt;p&gt;Along with the fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4856&quot; title=&quot;Add thread dump information when derby crash&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4856&quot;&gt;&lt;del&gt;DERBY-4856&lt;/del&gt;&lt;/a&gt;, I also attend to fix this issue.&lt;/p&gt;

&lt;p&gt;The patch is ready for review.&lt;/p&gt;

&lt;p&gt;I run Suites.all and derbyall on insane and sane build. They all run okay.&lt;/p&gt;</comment>
                            <comment id="12969171" author="lilywei" created="Wed, 8 Dec 2010 04:01:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4856&quot; title=&quot;Add thread dump information when derby crash&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4856&quot;&gt;&lt;del&gt;DERBY-4856&lt;/del&gt;&lt;/a&gt; contains the first part of the fix. However, by mistake, the fix is check-in as well. The fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4929&quot; title=&quot;Engine code should not use java/shared/org/apache/derby/shared/common/error/ErrorUtil.java &quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4929&quot;&gt;&lt;del&gt;DERBY-4929&lt;/del&gt;&lt;/a&gt; is for files:&lt;br/&gt;
java\engine\org\apache\derby\impl\jdbc\LOBInputStream.java&lt;br/&gt;
java\engine\org\apache\derby\impl\jdbc\LOBOutputStream.java&lt;br/&gt;
java\engine\org\apache\derby\impl\jdbc\LOBStreamControl.java at subversion revision 1043290&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12477769">DERBY-4856</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12465359" name="derby-4929_1a.diff" size="1999" author="lilywei" created="Mon, 6 Dec 2010 03:08:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 6 Dec 2010 03:08:49 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>24540</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10102"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0gr3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36532</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>