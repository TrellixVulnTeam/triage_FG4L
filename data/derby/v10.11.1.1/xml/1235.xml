<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:18:50 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-1235/DERBY-1235.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-1235] Move isPoolable() and setPoolable() from PreparedStatement to Statement</title>
                <link>https://issues.apache.org/jira/browse/DERBY-1235</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;An upcoming release of jdk1.6 will move isPoolable() and setPoolable() from PreparedStatement to Statement. We should conform.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12332440">DERBY-1235</key>
            <summary>Move isPoolable() and setPoolable() from PreparedStatement to Statement</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dyret">Dyre Tjeldvoll</assignee>
                                    <reporter username="rhillegas">Rick Hillegas</reporter>
                        <labels>
                    </labels>
                <created>Fri, 21 Apr 2006 01:11:09 +0100</created>
                <updated>Thu, 4 May 2006 18:26:30 +0100</updated>
                            <resolved>Tue, 2 May 2006 21:53:36 +0100</resolved>
                                    <version>10.2.1.6</version>
                                    <fixVersion>10.2.1.6</fixVersion>
                                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12376418" author="dyret" created="Wed, 26 Apr 2006 15:58:59 +0100"  >&lt;p&gt;Attaching patch (v1) that moves isPoolable, isPoolable() and setPoolable from EmbedPreparedStatement to EmbedStatement.&lt;/p&gt;

&lt;p&gt;Ran derbyall and jdbc4 successfully. Please review.&lt;/p&gt;</comment>
                            <comment id="12376427" author="kristwaa" created="Wed, 26 Apr 2006 16:27:08 +0100"  >&lt;p&gt;Hi Dyre. Thanks for the patch. I had a look at it, and have the following comments:&lt;/p&gt;

&lt;p&gt;1) The JavaDoc states isPoolable should be false by default for Statement, and true for PreparedStatement and CallableStatement. In the patch, the default for Statement is set to true. I don&apos;t know if the other criterias are met.&lt;br/&gt;
2) The JavaDoc/comments for Statement still use &quot;PreparedStatement&quot;.&lt;br/&gt;
3) Tests should be added for Statement (jdbc4/StatementTest.java), and we might want to keep/add tests for PreparedStatement and CallableStatement as well. The tests can be added after the client side patch is ready. There should be a test for default value.&lt;/p&gt;</comment>
                            <comment id="12376431" author="dyret" created="Wed, 26 Apr 2006 16:52:29 +0100"  >&lt;p&gt;Hi Kristian, thanks for your comments &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Good catch(es). I (or rather my grep) completely missed the client side. &lt;/p&gt;</comment>
                            <comment id="12376480" author="dyret" created="Wed, 26 Apr 2006 20:56:09 +0100"  >&lt;p&gt;Attaching a new patch based on Kristian&apos;s very valuable review comments. The new patch&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Replaces references to PreparedStatement with Statement in Javadoc comments.&lt;/li&gt;
	&lt;li&gt;Makes the same change for the Network client.&lt;/li&gt;
	&lt;li&gt;Changes the default value for isPoolable to false for Statement, while keeping true as the default for PreparedStatement (isPoolable was made protected so that it can be modified by derived classes). Since CallableStatement inherits from PreparedStatement, it too will be poolable by default.&lt;/li&gt;
	&lt;li&gt;Added a test case to StatementTest.java to test isPoolable(), setPoolable() and the default value for Statement.&lt;/li&gt;
	&lt;li&gt;TestPreparedStatement.java already tests this for PreparedStatements (including the correct default).&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12376481" author="dyret" created="Wed, 26 Apr 2006 21:10:51 +0100"  >&lt;p&gt;I forgot to say that my last comment is about the v2 patch (should be obvious), &lt;br/&gt;
that I did not run derbyall again, but that jdbc4 passes, &lt;br/&gt;
and that the patch removes an additional isPooled member variable in client/am/PreparedStatement40.java&lt;br/&gt;
(on trunk there is an isPooled member variable in client/am/PreparedStatement40.java and client/am/PreparedStatement.java)&lt;/p&gt;</comment>
                            <comment id="12376483" author="kristwaa" created="Wed, 26 Apr 2006 21:32:55 +0100"  >&lt;p&gt;My comments have all beed addressed, and I think the patch (&apos; derby-1235.v2.diff&apos;) looks solid and is ready for commit. I also set the &quot;Patch Available&quot; field.&lt;/p&gt;</comment>
                            <comment id="12376674" author="knutanders" created="Thu, 27 Apr 2006 16:45:13 +0100"  >&lt;p&gt;Hi Dyre, I see this diff in the jdbc40 suite (DerbyNetClient):&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;
			&lt;ul&gt;
				&lt;li&gt;
				&lt;ul&gt;
					&lt;li&gt;
					&lt;ul&gt;
						&lt;li&gt;
						&lt;ul&gt;
							&lt;li&gt;
							&lt;ul&gt;
								&lt;li&gt;
								&lt;ul&gt;
									&lt;li&gt;Diff file jdbc40/DerbyNetClient/jdbc40/TestPreparedStatementMethods.diff&lt;/li&gt;
								&lt;/ul&gt;
								&lt;/li&gt;
							&lt;/ul&gt;
							&lt;/li&gt;
						&lt;/ul&gt;
						&lt;/li&gt;
					&lt;/ul&gt;
					&lt;/li&gt;
				&lt;/ul&gt;
				&lt;/li&gt;
			&lt;/ul&gt;
			&lt;/li&gt;
			&lt;li&gt;Start: TestPreparedStatementMethods jdk1.6.0-beta2 DerbyNetClient jdbc40:jdbc40 2006-04-26 18:45:10 ***&lt;br/&gt;
0 add&lt;br/&gt;
&amp;gt; Expected a poolable statement&lt;br/&gt;
Test Failed.&lt;/li&gt;
			&lt;li&gt;End:   TestPreparedStatementMethods jdk1.6.0-beta2 DerbyNetClient jdbc40:jdbc40 2006-04-26 18:45:19 ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12377085" author="dyret" created="Sat, 29 Apr 2006 23:10:30 +0100"  >&lt;p&gt;The failure seen by Knut Anders was caused by not initializing the isPoolable variable in one of the PreparedStatement constructors on the client side. Since then, I have also learned that BrokeredXXXStatements40 need to implement (override) the xPoolable methods.&lt;/p&gt;

&lt;p&gt;I&apos;m attaching a third patch (v3) that addresses the above issues, and also adds a new junit-test to test these methods for BrokeredXXXStatements (jdbc4/XA40Tests.java).&lt;/p&gt;

&lt;p&gt;Ran derbyall and jdbc4 in embedded and DerbyNetClient successfully.&lt;/p&gt;

&lt;p&gt;Please review.&lt;/p&gt;</comment>
                            <comment id="12377399" author="knutanders" created="Tue, 2 May 2006 21:53:36 +0100"  >&lt;p&gt;Committed revision 398940.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12325875" name="derby-1235.v1.diff" size="3521" author="dyret" created="Wed, 26 Apr 2006 15:58:59 +0100"/>
                            <attachment id="12325876" name="derby-1235.v1.stat" size="361" author="dyret" created="Wed, 26 Apr 2006 15:58:59 +0100"/>
                            <attachment id="12325901" name="derby-1235.v2.diff" size="10780" author="dyret" created="Wed, 26 Apr 2006 20:56:09 +0100"/>
                            <attachment id="12325902" name="derby-1235.v2.stat" size="624" author="dyret" created="Wed, 26 Apr 2006 20:56:09 +0100"/>
                            <attachment id="12326047" name="derby-1235.v3.diff" size="22300" author="dyret" created="Sat, 29 Apr 2006 23:10:30 +0100"/>
                            <attachment id="12326048" name="derby-1235.v3.stat" size="1066" author="dyret" created="Sat, 29 Apr 2006 23:10:30 +0100"/>
                            <attachment id="12325877" name="derbyall_report.v1.txt" size="4178" author="dyret" created="Wed, 26 Apr 2006 15:58:59 +0100"/>
                            <attachment id="12326049" name="derbyall_report.v3.txt" size="4172" author="dyret" created="Sat, 29 Apr 2006 23:10:30 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 26 Apr 2006 14:58:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>29907</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10102"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy16hr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40702</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>