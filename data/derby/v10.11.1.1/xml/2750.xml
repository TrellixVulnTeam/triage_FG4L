<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:37:26 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-2750/DERBY-2750.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-2750] Convert lang/declareGlobalTempTableJava.java to JUnit</title>
                <link>https://issues.apache.org/jira/browse/DERBY-2750</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Unchecking 10.3. This is not necessary for 10.3. If it does get implemented before 10.3, fixin can be set when the issue gets resolved.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12370786">DERBY-2750</key>
            <summary>Convert lang/declareGlobalTempTableJava.java to JUnit</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pandiri">Ravinder Reddy</assignee>
                                    <reporter username="pandiri">Ravinder Reddy</reporter>
                        <labels>
                    </labels>
                <created>Sun, 3 Jun 2007 20:45:10 +0100</created>
                <updated>Fri, 21 Jan 2011 17:50:20 +0000</updated>
                            <resolved>Mon, 11 Aug 2008 21:48:57 +0100</resolved>
                                    <version>10.3.1.4</version>
                                    <fixVersion>10.4.1.3</fixVersion>
                    <fixVersion>10.5.1.1</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12504828" author="pandiri" created="Thu, 14 Jun 2007 18:07:41 +0100"  >&lt;p&gt;            This is not ready for commit.  patch is Generated using eclipse.&lt;br/&gt;
        I am getting some errors while running the test using eclipse(ClassNotFoundException). This is my first patch so I think There might be some problems/errors/mistakes/non-standards.&lt;br/&gt;
please help me in correcting me.  I haven&apos;t included the tests for those which are commented.&lt;br/&gt;
        As you might have observed from the patch , I used only one Asserion Method(assertTrue())  for all the tests.I have used a global boolean variable called &apos;passed&apos; and changed it&apos;s value according the state in each test.&lt;br/&gt;
        Is there anything wrong with this process.or should we use assertSQLState() kind of methods.&lt;/p&gt;

&lt;p&gt;                                Comments are highly appreciated.&lt;/p&gt;</comment>
                            <comment id="12509665" author="pandiri" created="Mon, 2 Jul 2007 21:53:23 +0100"  >
&lt;p&gt; Plzz review the interim patch.&lt;br/&gt;
This is not ready for commit.I haven&apos;t included all the tests as I am looking for some feedback.&lt;br/&gt;
 any kind of suggestions/comments are highly appreciated.&lt;/p&gt;</comment>
                            <comment id="12510455" author="kmarsden" created="Thu, 5 Jul 2007 20:05:51 +0100"  >&lt;p&gt;Ravinder, could you regenerate the patch from the top of the code tree. e.g. &lt;br/&gt;
cd  /home/WorkSpace/DerbyGsoc  before you svn diff. &lt;br/&gt;
Also could you include another file with the output of svn stat -q &lt;/p&gt;

&lt;p&gt;Right now the patch has this hardcoded path in it so it will not apply&lt;/p&gt;</comment>
                            <comment id="12510488" author="pandiri" created="Thu, 5 Jul 2007 22:38:53 +0100"  >&lt;p&gt;I have completed converting the lang/declareGlobalTempTableJava.java to junit.&lt;br/&gt;
To my knowledge , I have covered all  the tests that the old test tests(atleast I think).&lt;br/&gt;
        The TestCase was successfully run in eclipse.&lt;br/&gt;
Some new tests that are not in the old test.&lt;br/&gt;
        1) Unique constraints allowed on physical tables in SESSION schema.&lt;br/&gt;
        2) Foreign Key constraints allowed on physical tables in SESSION schema.&lt;br/&gt;
                I have planned some more tests but as suggested by the mamta et al , some of these tests are covered in  GrantRevokeDDLTest.java and synonym.sql.&lt;br/&gt;
        I tried my level best to write the appropriate comments and I have written a brand new TestCase covering all the tests instead of converting one by one as suggested by john.&lt;br/&gt;
        any  suggestions/comments are highly appreciated.&lt;br/&gt;
Thank U&lt;/p&gt;</comment>
                            <comment id="12510491" author="kmarsden" created="Thu, 5 Jul 2007 22:46:25 +0100"  >&lt;p&gt;I still cannot apply the patch because of the hard coded path /home/WorkSpace/DerbyGsoc, but  a couple things I did notice from just looking at the diff.  It appears the old test files need to be removed.  There is a mixture of tab/space indentation. It should be all spaces.  I will look more closely for other issues after I can apply the patch.&lt;/p&gt;
</comment>
                            <comment id="12510764" author="pandiri" created="Fri, 6 Jul 2007 20:18:08 +0100"  >&lt;p&gt;Thank You kathey for looking at my issue.&lt;br/&gt;
   I have been using eclipse for checking  out the derby source , building derby ,&lt;br/&gt;
writing the testCases , running the junit tests and even for creating the patches.&lt;br/&gt;
   1) So  how to generate the file(with output svn stat -q) using eclipse.?&lt;br/&gt;
    when I issue the command (svn stat -q) on command line It is giving the following Error.. &lt;br/&gt;
   svn: This client is too old to work with working copy &apos;.&apos;; please get a newer Subversion client.&lt;br/&gt;
   2)   should I need to delete the old test file.?&lt;br/&gt;
   3)   And I didn&apos;t get what exatly You mean by &quot;It should be all spaces&quot;&lt;br/&gt;
Thank You.&lt;/p&gt;</comment>
                            <comment id="12510768" author="kmarsden" created="Fri, 6 Jul 2007 20:32:56 +0100"  >&lt;p&gt;Ravinder asked ..&lt;br/&gt;
&amp;gt; 1) So how to generate the file(with output svn stat -q) using eclipse.?&lt;br/&gt;
I don&apos;t know&lt;/p&gt;

&lt;p&gt;&amp;gt;    when I issue the command (svn stat -q) on command line It is giving the following Error..&lt;br/&gt;
&amp;gt;   svn: This client is too old to work with working copy &apos;.&apos;; please get a newer Subversion client.&lt;br/&gt;
I am guessing when eclipse you are using a newer version of subversion than when you are accessing it via the command line.  Either check your path to make sure you are picking up the newer subversion or download the latest from subversion.tigris.org&lt;br/&gt;
 &amp;gt;&lt;br/&gt;
  2) should I need to delete the old test file.?&lt;br/&gt;
Yes, you should svn delete lang/declareGlobalTempTableJava.java , master/declareGlobalTempTableJava.out and remove the test from derbylang.runall&lt;/p&gt;

&lt;p&gt; &amp;gt;  3) And I didn&apos;t get what exatly You mean by &quot;It should be all spaces&quot; &lt;br/&gt;
The indentation should not be a mixture of tabs and spaces.&lt;/p&gt;</comment>
                            <comment id="12517032" author="pandiri" created="Wed, 1 Aug 2007 19:06:01 +0100"  >&lt;p&gt;I attached the final patch.It successfully runs in eclipse except The fixture testDatabaseMetaData was successful with 10.2 but giving syntax error with 10.3.&lt;/p&gt;

&lt;p&gt;I think it is ready for commit.&lt;br/&gt;
Your suggestions/comments/critics are highly appreciated as always.&lt;br/&gt;
Thank U.&lt;/p&gt;</comment>
                            <comment id="12517108" author="kmarsden" created="Thu, 2 Aug 2007 00:04:13 +0100"  >&lt;p&gt;Hi Ravinder,&lt;/p&gt;

&lt;p&gt;It is looking close, but hit a few issues:&lt;/p&gt;

&lt;p&gt;When I run the test I get: Perhaps you need to cleanup the database before running.&lt;/p&gt;

&lt;p&gt;junit.framework.AssertionFailedError: expected:&amp;lt;42Y07&amp;gt; but was:&amp;lt;java.sql.SQLException: Schema &apos;SESSION&apos; does not exist&amp;gt;&lt;br/&gt;
	at junit.framework.Assert.fail(Assert.java:47)&lt;br/&gt;
	at junit.framework.Assert.failNotEquals(Assert.java:282)&lt;br/&gt;
	at junit.framework.Assert.assertEquals(Assert.java:64)&lt;br/&gt;
	at junit.framework.Assert.assertEquals(Assert.java:71)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.DeclareGlobalTempTableJavaTest.testDerby1706(DeclareGlobalTempTableJavaTest.java:82)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:391)&lt;br/&gt;
	at junit.framework.TestCase.runTest(TestCase.java:154)&lt;br/&gt;
	at junit.framework.TestCase.runBare(TestCase.java:127)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:95)&lt;br/&gt;
	at junit.framework.TestResult$1.protect(TestResult.java:106)&lt;br/&gt;
	at junit.framework.TestResult.runProtected(TestResult.java:124)&lt;br/&gt;
	at junit.framework.TestResult.run(TestResult.java:109)&lt;br/&gt;
	at junit.framework.TestCase.run(TestCase.java:118)&lt;br/&gt;
	at junit.framework.TestSuite.runTest(TestSuite.java:208)&lt;br/&gt;
	at junit.framework.TestSuite.run(TestSuite.java:203)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run(JUnit3TestReference.java:128)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:460)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:673)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:386)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:196)&lt;/p&gt;

&lt;p&gt;2) Please remove the test from the old suite.&lt;/p&gt;

&lt;p&gt;3) In suite() please use TestConfiguration.embeddedSuite(Class) instead of  new TestSuite() I think this will help ensure proper cleanup after the test runs.&lt;/p&gt;

&lt;p&gt;4) Can you put casts in your system table queries so it can be run with collation, e.g.&lt;br/&gt;
select count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; from sys.systables where CAST(tablename AS VARCHAR(128)) like &apos;T2&apos;&lt;/p&gt;


&lt;p&gt;Thanks for tackling this mammoth test.&lt;/p&gt;

&lt;p&gt;Kathey&lt;/p&gt;</comment>
                            <comment id="12517248" author="pandiri" created="Thu, 2 Aug 2007 14:04:05 +0100"  >&lt;p&gt;Thank You Kathey.&lt;/p&gt;

&lt;p&gt;1)  I am able to successfully run the Test.I am not getting any Error as you have posted.But Still I am unable to Understand The Error.because In &lt;br/&gt;
   expected:&amp;lt;42Y07&amp;gt; but was:&amp;lt;java.sql.SQLException: Schema &apos;SESSION&apos; does not exist&amp;gt;&lt;br/&gt;
   The Error code of  &amp;lt;java.sql.SQLException: Schema &apos;SESSION&apos; does not exist&amp;gt; is &amp;lt;42Y07&amp;gt;.Thats why I asserted It to 42Y07.&lt;br/&gt;
   What Do U think is the problem.plzz help me.&lt;/p&gt;


&lt;p&gt;2)    I removed three files lang/declareGlobalTempTableJava.java , lang/declareGlobalTempTableJava_derby.properties and master/declareGlobalTempTableJava.out.&lt;br/&gt;
I am also attching the output of &quot;svn -q stat&quot;.Apart from these Should I remove any Other files.how(where) can I remove the test from ols suite.?&lt;/p&gt;


&lt;p&gt;3) yes, I have Done.&lt;/p&gt;

&lt;p&gt;4) yes, I have made changes according 2 ur specification.&lt;/p&gt;

&lt;p&gt;   Apart from these Do I need to anything extra. plzz let me know..!!&lt;/p&gt;

&lt;p&gt;Once again Thank You for your review.&lt;/p&gt;</comment>
                            <comment id="12517304" author="kmarsden" created="Thu, 2 Aug 2007 17:04:46 +0100"  >&lt;p&gt;Ravinder said ..&lt;/p&gt;

&lt;p&gt;&amp;gt;1) I am able to successfully run the Test.I am not getting any Error as you have posted.&lt;br/&gt;
Try removing the system directory first and then rerunning the test and you should see the failure.&lt;br/&gt;
The issue is I believe that you use assertEquals instead of assertSQLState.&lt;/p&gt;



&lt;p&gt;&amp;gt;2).Apart from these Should I remove any Other files.how(where) can I remove the test from ols suite.?&lt;br/&gt;
You should remove the test from suites/derbylang.runall&lt;/p&gt;
</comment>
                            <comment id="12517321" author="pandiri" created="Thu, 2 Aug 2007 18:22:41 +0100"  >&lt;p&gt;It&apos;s Done.&lt;br/&gt;
Hope this works.&lt;/p&gt;

&lt;p&gt;Thank You.&lt;/p&gt;</comment>
                            <comment id="12517337" author="kmarsden" created="Thu, 2 Aug 2007 19:43:56 +0100"  >&lt;p&gt;I committed this patch but made one important change.  I added the new test to lang._Suite  so that it will run!&lt;br/&gt;
I added this detail to the checklist at:&lt;br/&gt;
&lt;a href=&quot;http://wiki.apache.org/db-derby/ConvertOldTestToJunit&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/db-derby/ConvertOldTestToJunit&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Ravinder, could you look at this page an update it with anything you think might be helpful to new folks converting tests.&lt;/p&gt;

&lt;p&gt;Kathey&lt;/p&gt;</comment>
                            <comment id="12621587" author="kmarsden" created="Mon, 11 Aug 2008 21:48:57 +0100"  >&lt;p&gt;Marking this resolved as it has been committed for some time.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12362989" name="DERBY-2750.diff-01-08-07" size="149402" author="pandiri" created="Wed, 1 Aug 2007 19:03:12 +0100"/>
                            <attachment id="12363047" name="DERBY-2750.diff-02-08-07" size="150134" author="pandiri" created="Thu, 2 Aug 2007 14:10:29 +0100"/>
                            <attachment id="12363074" name="DERBY-2750.diff-02-08-07.final" size="150589" author="pandiri" created="Thu, 2 Aug 2007 18:20:45 +0100"/>
                            <attachment id="12360967" name="DERBY-2750.diff-2-7-7" size="90265" author="pandiri" created="Mon, 2 Jul 2007 21:49:05 +0100"/>
                            <attachment id="12361236" name="DERBY-2750.diff-final" size="182737" author="pandiri" created="Thu, 5 Jul 2007 22:35:38 +0100"/>
                            <attachment id="12362988" name="DERBY-2750.diff.final" size="149402" author="pandiri" created="Wed, 1 Aug 2007 19:01:20 +0100"/>
                            <attachment id="12361291" name="DeclareGlobalTempTableJavaTest.java" size="48852" author="pandiri" created="Fri, 6 Jul 2007 12:43:38 +0100"/>
                            <attachment id="12363048" name="SVN_STATUS" size="376" author="pandiri" created="Thu, 2 Aug 2007 14:11:05 +0100"/>
                            <attachment id="12359761" name="derby-2750_diff.txt" size="195085" author="pandiri" created="Thu, 14 Jun 2007 18:04:18 +0100"/>
                            <attachment id="12359762" name="derby-2750_new_fixture.txt" size="64624" author="pandiri" created="Thu, 14 Jun 2007 18:05:17 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>10.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 5 Jul 2007 19:05:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30589</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0mb3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37432</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>