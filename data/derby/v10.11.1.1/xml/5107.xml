<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:35:17 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-5107/DERBY-5107.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-5107] BasicInMemoryDbTest depends on implicit ordering of test cases</title>
                <link>https://issues.apache.org/jira/browse/DERBY-5107</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;BasicInMemoryDbTest only works if the test cases run in one particular order. This should either be made explicit in the test, or the test should be changed to work regardless of the ordering.&lt;/p&gt;

&lt;p&gt;For example, if testEnginehutdown (sic) runs before testShutdown, testShutdown will fail:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://dbtg.foundry.sun.com/derby/test/Daily/jvm1.7/testing/testlog/lin/1076682-suitesAll_diff.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dbtg.foundry.sun.com/derby/test/Daily/jvm1.7/testing/testlog/lin/1076682-suitesAll_diff.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;11) testShutdown(org.apache.derbyTesting.functionTests.tests.memorydb.BasicInMemoryDbTest)junit.framework.AssertionFailedError: Warning(s) when creating database: Database &apos;memory:/tmp/myDB&apos; not created, connection made to existing database instead.&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.memorydb.MemoryDbManager.createDatabase(MemoryDbManager.java:226)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.memorydb.MemoryDbManager.createDatabase(MemoryDbManager.java:181)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.memorydb.BasicInMemoryDbTest.testShutdown(BasicInMemoryDbTest.java:189)&lt;/p&gt;

&lt;p&gt;Also, when running from classes, some test cases (like testEnginehutdown and testDeleteWhenInUse) will fail with no suitable driver if they run before some other test case has called MemoryDbManager.getConnection():&lt;/p&gt;

&lt;p&gt;1) testEnginehutdown(org.apache.derbyTesting.functionTests.tests.memorydb.BasicInMemoryDbTest)java.sql.SQLException: No suitable driver found for jdbc:derby:memory:/tmp/myDB;create=true&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:640)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:222)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.memorydb.BasicInMemoryDbTest.testEnginehutdown(BasicInMemoryDbTest.java:209)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12500781">DERBY-5107</key>
            <summary>BasicInMemoryDbTest depends on implicit ordering of test cases</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="knutanders">Knut Anders Hatlen</assignee>
                                    <reporter username="knutanders">Knut Anders Hatlen</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Mar 2011 16:19:20 +0000</created>
                <updated>Thu, 30 Jun 2011 10:21:44 +0100</updated>
                            <resolved>Wed, 16 Mar 2011 19:56:52 +0000</resolved>
                                    <version>10.8.1.2</version>
                                    <fixVersion>10.8.1.2</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13007661" author="knutanders" created="Wed, 16 Mar 2011 19:52:57 +0000"  >&lt;p&gt;Attaching a patch to address the problems seen in BasicInMemoryDbTest. It makes the following changes:&lt;/p&gt;

&lt;p&gt;1) Call super.tearDown() from tearDown(). This doesn&apos;t directly address any of the problems reported here, but cleaning up the default connection (used only by some of the test cases) sounds useful in any case.&lt;/p&gt;

&lt;p&gt;2) Use the helper class MemoryDbManager to create the database in testEnginehutdown(). This ensures that the created database is dropped in tearDown() and doesn&apos;t cause any problems if testShutdown() is invoked later.&lt;/p&gt;

&lt;p&gt;3) Make sure the JDBC driver is loaded in the tests that use DriverManager directly, so that we don&apos;t get the &quot;no suitable driver&quot; error if they run before any of the test cases that get the driver loaded implicitly via the framework.&lt;/p&gt;</comment>
                            <comment id="13007664" author="knutanders" created="Wed, 16 Mar 2011 19:56:52 +0000"  >&lt;p&gt;Committed revision 1082282.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12473839" name="derby-5107-1a.diff" size="2494" author="knutanders" created="Wed, 16 Mar 2011 19:52:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10369"><![CDATA[Regression Test Failure]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>24653</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0fsv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36378</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>