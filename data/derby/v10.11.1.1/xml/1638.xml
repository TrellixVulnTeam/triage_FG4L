<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:53:49 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-1638/DERBY-1638.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-1638] JUnit TestConfiguration class uses engine code to determine JDBC level.</title>
                <link>https://issues.apache.org/jira/browse/DERBY-1638</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;TestConfiguration uses the org.apache.derby.iapi.services.info.JVMInfo to determine if JDBC 4 is supported. Ideally test code should not be calling engine private api code.&lt;/p&gt;

&lt;p&gt;Suggest two changes:&lt;/p&gt;

&lt;p&gt;1) Determine JDBC level support from ability to load classes:&lt;br/&gt;
   E.g. JDBC2 - java.sql.Driver&lt;br/&gt;
            JDBC3 -  java.sql.Driver AND java.sql.ParameterMetaData&lt;br/&gt;
            JDBC4 - java.sql.Driver AND java.sql.SQLXML&lt;br/&gt;
            JSR169 - java.sql.ParameterMetaData AND NOT  java.sql.Driver &lt;/p&gt;

&lt;p&gt;2) Move the supportsJDBC4() method from TestConfiguraiton to JDBC, since if the VM supports JDBC4 or not is&lt;br/&gt;
not an attribute of a test configuration (and add other supportsJDBCX methods).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12347213">DERBY-1638</key>
            <summary>JUnit TestConfiguration class uses engine code to determine JDBC level.</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="djd">Daniel John Debrunner</assignee>
                                    <reporter username="djd">Daniel John Debrunner</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Aug 2006 06:24:35 +0100</created>
                <updated>Sun, 6 Aug 2006 17:55:42 +0100</updated>
                            <resolved>Sun, 6 Aug 2006 17:55:42 +0100</resolved>
                                                    <fixVersion>10.2.1.6</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12425437" author="djd" created="Thu, 3 Aug 2006 06:32:19 +0100"  >&lt;p&gt;Patch that makes described changes, adding these methods&lt;/p&gt;

&lt;p&gt;supportsJDBC2()&lt;br/&gt;
supportsJDBC3()&lt;br/&gt;
supportsJSR169()&lt;/p&gt;

&lt;p&gt;Might consider changing the methods to be &lt;b&gt;is&lt;/b&gt; instead of &lt;b&gt;supports&lt;/b&gt; (e.g isJDBC4()) since they are describing&lt;br/&gt;
that the environment is JDBC 4, not what any client may support.&lt;/p&gt;

&lt;p&gt;Then new (yet to be added) methods called supportsJDBC4() might make sense in TestConfiguraiton or maybe JDBCClient to indicate that the client under test is running at a different level, e.g. for the ability to support testing the old 10.1 driver in jdk16 against the new 10.2 server.&lt;/p&gt;
</comment>
                            <comment id="12426071" author="djd" created="Sun, 6 Aug 2006 17:53:16 +0100"  >&lt;p&gt;Made similar changes to patch. Change from patch is to name the methods vmSupportsJDBC4 etc. to clearly define it&apos;s the level of support provided by the virtual machine (and not the client for example).&lt;br/&gt;
Committed revision 429154.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12338040" name="derby1638_diff.txt" size="4708" author="djd" created="Thu, 3 Aug 2006 06:32:19 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30084</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy14zj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40458</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>