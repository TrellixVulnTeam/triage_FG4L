<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:43:52 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-3384/DERBY-3384.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-3384] Replication: startMaster does not unfreeze DB</title>
                <link>https://issues.apache.org/jira/browse/DERBY-3384</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;ij version 10.4&lt;br/&gt;
ij&amp;gt; connect &apos;jdbc:derby:masterDB;user=oystein;password=pass&apos;;&lt;br/&gt;
ij&amp;gt; call SYSCS_UTIL.SYSCS_FREEZE_DATABASE();&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; connect &apos;jdbc:derby:masterDB;user=oystein;password=pass;startMaster=true;slaveHost=localhost&apos;;&lt;br/&gt;
ij(CONNECTION1)&amp;gt; select * from t order by i;&lt;br/&gt;
I          &lt;br/&gt;
-----------&lt;br/&gt;
1          &lt;br/&gt;
2          &lt;br/&gt;
3          &lt;br/&gt;
4          &lt;br/&gt;
5          &lt;br/&gt;
6          &lt;br/&gt;
7          &lt;br/&gt;
8          &lt;br/&gt;
10         &lt;br/&gt;
12         &lt;br/&gt;
20         &lt;br/&gt;
22         &lt;br/&gt;
30         &lt;br/&gt;
32         &lt;br/&gt;
40         &lt;br/&gt;
42         &lt;/p&gt;

&lt;p&gt;16 rows selected&lt;br/&gt;
ij(CONNECTION1)&amp;gt; insert into t values (9), (10), (11), (12);&lt;/p&gt;

&lt;p&gt;The last statement never completes.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12387768">DERBY-3384</key>
            <summary>Replication: startMaster does not unfreeze DB</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="narayanan">V.Narayanan</assignee>
                                    <reporter username="oysteing">&#216;ystein Gr&#248;vlen</reporter>
                        <labels>
                    </labels>
                <created>Mon, 4 Feb 2008 11:11:45 +0000</created>
                <updated>Thu, 14 Feb 2008 05:43:16 +0000</updated>
                            <resolved>Thu, 14 Feb 2008 05:42:39 +0000</resolved>
                                    <version>10.4.1.3</version>
                                    <fixVersion>10.4.1.3</fixVersion>
                                    <component>Replication</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12566960" author="narayanan" created="Fri, 8 Feb 2008 08:53:56 +0000"  >&lt;p&gt;startMaster now unfreezes the database. The implementation&lt;br/&gt;
basically calls unfreeze in the startMaster method in the&lt;br/&gt;
MasterController. The repro worked as expected with this patch.&lt;/p&gt;

&lt;p&gt;I shall run tests and revert back. I request for this patch to be&lt;br/&gt;
considered for reviews/comments.&lt;/p&gt;</comment>
                            <comment id="12567604" author="oysteing" created="Mon, 11 Feb 2008 12:22:59 +0000"  >&lt;p&gt;I wonder whether unfreeze() should be called after startReplicationMasterRole is called?&lt;br/&gt;
Otherwise, I would think there will be a window where transactions may generate&lt;br/&gt;
log records that will not be replicated.&lt;/p&gt;</comment>
                            <comment id="12568037" author="narayanan" created="Tue, 12 Feb 2008 10:14:05 +0000"  >&lt;p&gt;&amp;gt;I wonder whether unfreeze() should be called after startReplicationMasterRole is called?&lt;br/&gt;
&amp;gt;Otherwise, I would think there will be a window where transactions may generate&lt;br/&gt;
&amp;gt;log records that will not be replicated.&lt;/p&gt;

&lt;p&gt;Thank you for looking at the patch and for the comments Oystein! &lt;/p&gt;

&lt;p&gt;I have followed your suggestion!&lt;/p&gt;</comment>
                            <comment id="12568159" author="oysteing" created="Tue, 12 Feb 2008 15:09:47 +0000"  >&lt;p&gt;Thanks for the update Narayanan, v2 committed as revision 620819.&lt;/p&gt;</comment>
                            <comment id="12568803" author="narayanan" created="Thu, 14 Feb 2008 05:43:16 +0000"  >&lt;p&gt;All relevant patches have been committed. Closing the issue!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12375051" name="Derby_3384_v1.diff" size="627" author="narayanan" created="Fri, 8 Feb 2008 08:53:56 +0000"/>
                            <attachment id="12375052" name="Derby_3384_v1.stat" size="91" author="narayanan" created="Fri, 8 Feb 2008 08:53:56 +0000"/>
                            <attachment id="12375340" name="Derby_3384_v2.diff" size="601" author="narayanan" created="Tue, 12 Feb 2008 10:14:05 +0000"/>
                            <attachment id="12375341" name="Derby_3384_v2.stat" size="91" author="narayanan" created="Tue, 12 Feb 2008 10:14:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 8 Feb 2008 08:53:56 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23611</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0zev:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39555</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>