<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:45:34 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-3708/DERBY-3708.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-3708] setting tracedirectory from the command line does not work</title>
                <link>https://issues.apache.org/jira/browse/DERBY-3708</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;I tried&lt;br/&gt;
java org.apache.derby.drda.NetworkServerControl  tracedirectory /tmp&lt;br/&gt;
and got:&lt;br/&gt;
Trace directory changed to /tmp.&lt;/p&gt;

&lt;p&gt;java org.apache.derby.drda.NetworkServerControl  trace on&lt;br/&gt;
Trace turned on for all sessions.&lt;br/&gt;
Trace turned on for all sessions.&lt;/p&gt;

&lt;p&gt;And the trace output was not redirected to the /tmp directory. The tracedirectory command seemed to be ignored.&lt;/p&gt;

&lt;p&gt;Setting tracedirectory with the system property derby.drda.traceDirectory or with the NetworkServerControl api seems to work ok.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12397500">DERBY-3708</key>
            <summary>setting tracedirectory from the command line does not work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kmarsden">Kathey Marsden</assignee>
                                    <reporter username="kmarsden">Kathey Marsden</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Jun 2008 20:21:18 +0100</created>
                <updated>Tue, 30 Jun 2009 17:06:44 +0100</updated>
                            <resolved>Mon, 30 Jun 2008 17:53:42 +0100</resolved>
                                    <version>10.4.2.0</version>
                    <version>10.5.1.1</version>
                                    <fixVersion>10.4.2.0</fixVersion>
                    <fixVersion>10.5.1.1</fixVersion>
                                    <component>Network Server</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12605389" author="kmarsden" created="Mon, 16 Jun 2008 20:35:58 +0100"  >&lt;p&gt;Attached is a patch to fix this issue.  The problem was that the client NetworkServerControl command was calling the server side method to set the trace directory instead of sending the command to the server.&lt;/p&gt;

&lt;p&gt;Running tests now.&lt;/p&gt;
</comment>
                            <comment id="12605568" author="kmarsden" created="Tue, 17 Jun 2008 13:19:56 +0100"  >&lt;p&gt;suites.All and derbynetclientmats passed. Please review.&lt;/p&gt;
</comment>
                            <comment id="12605608" author="kristwaa" created="Tue, 17 Jun 2008 15:04:04 +0100"  >&lt;p&gt;I applied the patch, compiled and ran the changed test. Also started the regression tests (not finished).&lt;br/&gt;
Changes look good to me, +1 to commit.&lt;/p&gt;

&lt;p&gt;Formatting nits (non-blockers):&lt;br/&gt;
 a) Inconsistent tab/space use in NetworkServerControlImpl (one line with spaces).&lt;br/&gt;
 b) Three lines with trailing whitespace in SecureServerTest.&lt;/p&gt;</comment>
                            <comment id="12606026" author="kmarsden" created="Wed, 18 Jun 2008 19:13:51 +0100"  >&lt;p&gt;Thanks Kristian for looking at the patch. I fixed the white space/indentation issues and committed to trunk revision 669243&lt;/p&gt;</comment>
                            <comment id="12607180" author="kristwaa" created="Mon, 23 Jun 2008 11:57:24 +0100"  >&lt;p&gt;Unset patch available flag. The only attached patched has been committed.&lt;br/&gt;
Setting the fix version and resolving remains (if work is done).&lt;/p&gt;

&lt;p&gt;I also unset &quot;Newcomer&quot; in the component list and ticked the new &quot;Newcomer&quot; category box.&lt;/p&gt;</comment>
                            <comment id="12607196" author="kmarsden" created="Mon, 23 Jun 2008 13:03:25 +0100"  >&lt;p&gt;Thanks Kristian for bringing the issue up to date.&lt;/p&gt;

&lt;p&gt;I&apos;ll leave it open for now as I plan to backport to 10.4 and 10.3.  That should happen shortly. I  just got sidetracked with some other things.&lt;/p&gt;

&lt;p&gt;Kathey&lt;/p&gt;</comment>
                            <comment id="12607308" author="kmarsden" created="Mon, 23 Jun 2008 18:38:54 +0100"  >&lt;p&gt;I merged this fix from 10.4 to 10.3 and am getting a hang in SecureServerTest on Windows only. It seems to run fine on Linux.  If I look at the processes running I have one for the server start and another for the ping which seems hung.&lt;/p&gt;

&lt;p&gt;If I try to ping the server it just hangs with:&lt;br/&gt;
&quot;main&quot; prio=6 tid=0x00297800 nid=0x1eb0 runnable &lt;span class=&quot;error&quot;&gt;&amp;#91;0x0090f000..0x0090fe54&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: RUNNABLE&lt;br/&gt;
        at java.net.SocketInputStream.socketRead0(Native Method)&lt;br/&gt;
        at java.net.SocketInputStream.read(SocketInputStream.java:129)&lt;br/&gt;
        at java.net.SocketInputStream.read(SocketInputStream.java:90)&lt;br/&gt;
        at org.apache.derby.impl.drda.NetworkServerControlImpl.fillReplyBuffer(NetworkServerControlImpl.java:2565)&lt;br/&gt;
        at org.apache.derby.impl.drda.NetworkServerControlImpl.readResult(NetworkServerControlImpl.java:2509)&lt;br/&gt;
        at org.apache.derby.impl.drda.NetworkServerControlImpl.pingWithNoOpen(NetworkServerControlImpl.java:995)&lt;br/&gt;
        at org.apache.derby.impl.drda.NetworkServerControlImpl.ping(NetworkServerControlImpl.java:972)&lt;br/&gt;
        at org.apache.derby.impl.drda.NetworkServerControlImpl.executeWork(NetworkServerControlImpl.java:1959)&lt;br/&gt;
        at org.apache.derby.drda.NetworkServerControl.main(NetworkServerControl.java:284)&lt;/p&gt;

&lt;p&gt;I also get a hang if I try to connect with ij, so the server seems to have stopped accepting connections.&lt;/p&gt;

&lt;p&gt;The server is running in a separate process so I don&apos;t know how on windows to get a thread dump for that process.  I&apos;ve attached the patch derby-3708_10.3_nocommit.txt.  Any thoughts on how to debug this are welcome.&lt;/p&gt;</comment>
                            <comment id="12607330" author="kmarsden" created="Mon, 23 Jun 2008 19:21:45 +0100"  >&lt;p&gt;I think I need part of the fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3504&quot; title=&quot;getting &amp;quot;Timed out waiting for network server to start&amp;quot; errors while running JMX unit tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3504&quot;&gt;&lt;del&gt;DERBY-3504&lt;/del&gt;&lt;/a&gt; which fixed the potential for server hang.  One thing I notice is if I abort the test and the server process is left running I can then ping or shutdown the server.  So that lends itself to it being a problem with processing the output from the process (&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3504&quot; title=&quot;getting &amp;quot;Timed out waiting for network server to start&amp;quot; errors while running JMX unit tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3504&quot;&gt;&lt;del&gt;DERBY-3504&lt;/del&gt;&lt;/a&gt;).  It doesn&apos;t look like a clean merge though. I think I also need some other intervening change.&lt;/p&gt;</comment>
                            <comment id="12608131" author="kmarsden" created="Wed, 25 Jun 2008 19:02:58 +0100"  >&lt;p&gt;I think for the 10.3 fix I will backport the code change but not the test change and just test manually.  I looked into what it would take to backport the changes to get the spawned process to work properly and not hang and it looked tangled up with other  changes and difficult to backport.  Please let me know if this does not seem acceptable.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12384083" name="DERBY-3708_diff.txt" size="4476" author="kmarsden" created="Mon, 16 Jun 2008 20:35:58 +0100"/>
                            <attachment id="12384518" name="derby-3708_10.3_nocommit.txt" size="3092" author="kmarsden" created="Mon, 23 Jun 2008 18:38:54 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 17 Jun 2008 14:04:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23800</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10423"><![CDATA[Newcomer]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0umn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38780</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>