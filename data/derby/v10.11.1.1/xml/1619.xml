<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:39:31 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-1619/DERBY-1619.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-1619] Sysinfo in 10.2  shows multiple entries if the derby jars reside in a directory with spaces in its name</title>
                <link>https://issues.apache.org/jira/browse/DERBY-1619</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;For the Derby jars residing in C:\Documents and Settings\Administrator\TEMP DIR\lib, the sysinfo shows:&lt;/p&gt;

&lt;p&gt;--------- Derby Information --------&lt;br/&gt;
JRE - JDBC: J2SE 5.0 - JDBC 3.0&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;C:\Documents%20and%20Settings\Administrator\TEMP%20DIR\lib\derby.jar&amp;#93;&lt;/span&gt; 10.2.0.5 alpha - (426734)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;C:\Documents%20and%20Settings\Administrator\TEMP%20DIR\lib\derbytools.jar&amp;#93;&lt;/span&gt; 10.2.0.5 alpha - (426734)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;C:\Documents%20and%20Settings\Administrator\TEMP%20DIR\lib\derbynet.jar&amp;#93;&lt;/span&gt; 10.2.0.5 alpha - (426734)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;C:\Documents%20and%20Settings\Administrator\TEMP%20DIR\lib\derbyclient.jar&amp;#93;&lt;/span&gt; 10.2.0.5 alpha - (426734)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;C:\Documents and Settings\Administrator\TEMP DIR\lib\derby.jar&amp;#93;&lt;/span&gt; 10.2.0.5 alpha - (426734)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;C:\Documents and Settings\Administrator\TEMP DIR\lib\derbynet.jar&amp;#93;&lt;/span&gt; 10.2.0.5 alpha - (426734)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;C:\Documents and Settings\Administrator\TEMP DIR\lib\derbyclient.jar&amp;#93;&lt;/span&gt; 10.2.0.5 alpha - (426734)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;C:\Documents and Settings\Administrator\TEMP DIR\lib\derbytools.jar&amp;#93;&lt;/span&gt; 10.2.0.5 alpha - (426734)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;C:\Documents%20and%20Settings\Administrator\TEMP%20DIR\lib\db2jcc.jar&amp;#93;&lt;/span&gt; 2.6 - (90)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;C:\Documents and Settings\Administrator\TEMP DIR\lib\db2jcc_license_c.jar&amp;#93;&lt;/span&gt; 2.6 - (90)&lt;br/&gt;
------------------------------------------------------&lt;/p&gt;

&lt;p&gt;This is a regression from 10.1 where the same sysinfo shows:&lt;/p&gt;

&lt;p&gt;--------- Derby Information --------&lt;br/&gt;
JRE - JDBC: J2SE 5.0 - JDBC 3.0&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;C:\Documents and Settings\Administrator\TEMP DIR\lib\derby.jar&amp;#93;&lt;/span&gt; 10.1.3.2 - (426741)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;C:\Documents and Settings\Administrator\TEMP DIR\lib\derbynet.jar&amp;#93;&lt;/span&gt; 10.1.3.2 - (426741)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;C:\Documents and Settings\Administrator\TEMP DIR\lib\derbyclient.jar&amp;#93;&lt;/span&gt; 10.1.3.2 - (426741)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;C:\Documents and Settings\Administrator\TEMP DIR\lib\derbytools.jar&amp;#93;&lt;/span&gt; 10.1.3.2 - (426741)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;C:\Documents and Settings\Administrator\TEMP DIR\lib\db2jcc.jar&amp;#93;&lt;/span&gt; 2.6 - (90)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;C:\Documents and Settings\Administrator\TEMP DIR\lib\db2jcc_license_c.jar&amp;#93;&lt;/span&gt; 2.6 - (90)&lt;br/&gt;
------------------------------------------------------&lt;/p&gt;</description>
                <environment>Windows XP, jdk 1.5</environment>
        <key id="12347003">DERBY-1619</key>
            <summary>Sysinfo in 10.2  shows multiple entries if the derby jars reside in a directory with spaces in its name</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fuzzylogic">Andrew McIntyre</assignee>
                                    <reporter username="kartha">Rajesh Kartha</reporter>
                        <labels>
                    </labels>
                <created>Tue, 1 Aug 2006 01:30:45 +0100</created>
                <updated>Tue, 30 Jun 2009 16:55:42 +0100</updated>
                            <resolved>Wed, 2 Aug 2006 04:04:33 +0100</resolved>
                                    <version>10.2.1.6</version>
                                    <fixVersion>10.2.1.6</fixVersion>
                                    <component>Tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12424699" author="fuzzylogic" created="Tue, 1 Aug 2006 01:49:02 +0100"  >&lt;p&gt;The encoded spaces in the file URLs that are obtained through getResource need to be converted to real spaces. The duplicates appear because they are not removed when comparing the classpath and getResource paths in impl.sysinfo.Main.mergeZips().&lt;/p&gt;</comment>
                            <comment id="12424784" author="fuzzylogic" created="Tue, 1 Aug 2006 08:43:01 +0100"  >&lt;p&gt;Attached is a simple patch to convert URL spaces (&apos;%20&apos;) to real spaces when comparing filenames in sysinfo. This should prevent duplicate entries in the sysinfo output when there are spaces in the full path as discovered by getResource vs. as discovered via the classpath.&lt;/p&gt;

&lt;p&gt;I would appreciate it if the reporter of this issue could try out this patch and let me know if this resolves the issue.&lt;/p&gt;

</comment>
                            <comment id="12424832" author="johnemb" created="Tue, 1 Aug 2006 12:31:59 +0100"  >&lt;p&gt;I tried  derby-1619-v1.diff, and it works as a remedy against the spaces in path issue. However:&lt;/p&gt;

&lt;p&gt;The same thing happens if other special characters that are escaped in an URL are used in the jar path. For example, with the path&lt;/p&gt;

&lt;p&gt;/export/home/tmp/Derby/jar-path-with%percentage-sign&lt;/p&gt;

&lt;p&gt;on a Solaris machine, sysinfo (&apos;java org.apache.derby.tools.sysinfo&apos;) reports&lt;/p&gt;

&lt;p&gt;--------- Derby Information --------&lt;br/&gt;
JRE - JDBC: J2SE 5.0 - JDBC 3.0&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;/export/home/tmp/Derby/jar-path-with%25percentage-sign/derby.jar&amp;#93;&lt;/span&gt; 10.2.0.5 alpha - (427500)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;/export/home/tmp/Derby/jar-path-with%25percentage-sign/derbytools.jar&amp;#93;&lt;/span&gt; 10.2.0.5 alpha - (427500)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;/export/home/tmp/Derby/jar-path-with%25percentage-sign/derbynet.jar&amp;#93;&lt;/span&gt; 10.2.0.5 alpha - (427500)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;/export/home/tmp/Derby/jar-path-with%25percentage-sign/derbyclient.jar&amp;#93;&lt;/span&gt; 10.2.0.5 alpha - (427500)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;/export/home/tmp/Derby/jar-path-with%percentage-sign/derby.jar&amp;#93;&lt;/span&gt; 10.2.0.5 alpha - (427500)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;/export/home/tmp/Derby/jar-path-with%percentage-sign/derbynet.jar&amp;#93;&lt;/span&gt; 10.2.0.5 alpha - (427500)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;/export/home/tmp/Derby/jar-path-with%percentage-sign/derbytools.jar&amp;#93;&lt;/span&gt; 10.2.0.5 alpha - (427500)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;/export/home/tmp/Derby/jar-path-with%percentage-sign/derbyclient.jar&amp;#93;&lt;/span&gt; 10.2.0.5 alpha - (427500)&lt;/p&gt;


&lt;p&gt;This is not an issue when running sysinfo by doing &apos;java -jar derbyrun.jar sysinfo&apos;.&lt;/p&gt;

&lt;p&gt;Quoting from &lt;a href=&quot;http://www.ietf.org/rfc/rfc2396.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.ietf.org/rfc/rfc2396.txt&lt;/a&gt; (section 2.4.2):&lt;/p&gt;

&lt;p&gt;   Because the percent &quot;%&quot; character always has the reserved purpose of&lt;br/&gt;
   being the escape indicator, it must be escaped as &quot;%25&quot; in order to&lt;br/&gt;
   be used as data within a URI.  Implementers should be careful not to&lt;br/&gt;
   escape or unescape the same string more than once, since unescaping&lt;br/&gt;
   an already unescaped string might lead to misinterpreting a percent&lt;br/&gt;
   data character as another escaped character, or vice versa in the&lt;br/&gt;
   case of escaping an already escaped string.&lt;/p&gt;

&lt;p&gt;(end quote)&lt;/p&gt;

&lt;p&gt;I&apos;m not sure how this is normally handled in the java world.&lt;br/&gt;
We could try to fix this, or document it as &quot;normal&quot; sysinfo behavior (if not run via &apos;java -jar&apos;) when using special characters in the code/jar path.&lt;/p&gt;

&lt;p&gt;I don&apos;t know which characters Java usually escapes in URLs, but the most important ones are listed in RFC-2396. Other posibilities are listed here: &lt;br/&gt;
&lt;a href=&quot;http://www.degraeve.com/reference/urlencoding.php&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.degraeve.com/reference/urlencoding.php&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12424922" author="fuzzylogic" created="Tue, 1 Aug 2006 17:36:33 +0100"  >&lt;p&gt;Thanks, John. There is a general solution for this problem: java.net.URLDecoder. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Attaching patch -v2, which uses URLDecoder. This should take care of all similar encoding problems.&lt;/p&gt;</comment>
                            <comment id="12425076" author="kartha" created="Wed, 2 Aug 2006 02:08:52 +0100"  >&lt;p&gt;I tried the v2 of the patch with some special characters and that seem to work fine. The Derby jars &lt;br/&gt;
are located in C:\temp{}Test % &apos;~@^\lib and the sysinfo now shows:&lt;/p&gt;

&lt;p&gt;--------- Derby Information --------&lt;br/&gt;
JRE - JDBC: J2SE 5.0 - JDBC 3.0&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;C:\temp\{}Test % &amp;#39;~@^\lib\derby.jar&amp;#93;&lt;/span&gt; 10.2.0.5 alpha - (427819M)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;C:\temp\{}Test % &amp;#39;~@^\lib\derbytools.jar&amp;#93;&lt;/span&gt; 10.2.0.5 alpha - (427819M)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;C:\temp\{}Test % &amp;#39;~@^\lib\derbynet.jar&amp;#93;&lt;/span&gt; 10.2.0.5 alpha - (427819M)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;C:\temp\{}Test % &amp;#39;~@^\lib\derbyclient.jar&amp;#93;&lt;/span&gt; 10.2.0.5 alpha - (427819M)&lt;br/&gt;
------------------------------------------------------&lt;/p&gt;

&lt;p&gt;i tried it using the java command:&lt;br/&gt;
C:\temp{}Test % &apos;~@^\lib&amp;gt;java -cp .\derby.jar;.\derbyclient.jar.\derbytools.jar;.\derbyrun.jar;.\derbynet.jar org.apache.derby.tools.sysinfo&lt;/p&gt;

&lt;p&gt;I think setting the  CLASSPATH variable (or any other environment variable on the WIndows command prompt for that matter) with these special characters in the directory path does not work, hence could not try sysinfo using the jars in the CLASSPATH.&lt;/p&gt;</comment>
                            <comment id="12425102" author="fuzzylogic" created="Wed, 2 Aug 2006 04:04:32 +0100"  >&lt;p&gt;Committed  -v2 patch to trunk with revision 427866.&lt;/p&gt;</comment>
                            <comment id="12425178" author="johnemb" created="Wed, 2 Aug 2006 09:39:56 +0100"  >&lt;p&gt;An excellent and simple solution &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;A note for possible cleanup after we stop supporting J2SE 1.3:&lt;/p&gt;

&lt;p&gt;Since URLDecoder.decode(String s) is deprecated, it might be a good idea to eventually start using URLDecoder.decode(String s, String enc) (added in 1.4) instead, with UTF-8 encoding as recommended by the W3C.&lt;/p&gt;</comment>
                            <comment id="12425304" author="fuzzylogic" created="Wed, 2 Aug 2006 18:33:50 +0100"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;JDK13CLEANUP&amp;#93;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="12551388" author="fuzzylogic" created="Thu, 13 Dec 2007 09:05:07 +0000"  >&lt;p&gt;This issue has been resolved for over a year with no further movement. Closing.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12337866" name="derby-1619-v1.diff" size="834" author="fuzzylogic" created="Tue, 1 Aug 2006 08:43:01 +0100"/>
                            <attachment id="12337913" name="derby-1619-v2.diff" size="891" author="fuzzylogic" created="Tue, 1 Aug 2006 17:36:33 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10420"><![CDATA[Regression]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 1 Aug 2006 00:49:02 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22602</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0uyn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38834</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310050" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Urgency</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10052"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>