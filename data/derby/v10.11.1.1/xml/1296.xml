<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:54:50 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-1296/DERBY-1296.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-1296] Setting property derby.system.bootAll causes an Exception</title>
                <link>https://issues.apache.org/jira/browse/DERBY-1296</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;After creating 3 databases under c:\databases\sample - I wanted to get a list of available databases, I followed the example in the &quot;DriverPropertyInfo array example&quot; in the developer guide and used the following routine:&lt;br/&gt;
...&lt;br/&gt;
  private static void test2() {&lt;br/&gt;
    String driverName =&quot;org.apache.derby.jdbc.EmbeddedDriver&quot;;&lt;br/&gt;
    String url = &quot;jdbc:derby:&quot;;&lt;/p&gt;

&lt;p&gt;    Properties p = System.getProperties();&lt;br/&gt;
    p.put(&quot;derby.system.home&quot;, &quot;C:\\databases&lt;br class=&quot;atl-forced-newline&quot; /&gt;sample&quot;);&lt;br/&gt;
    p.put(&quot;derby.system.bootAll&quot;, &quot;true&quot;);&lt;/p&gt;

&lt;p&gt;    try {&lt;br/&gt;
      Class.forName(driverName);&lt;/p&gt;

&lt;p&gt;      Driver driver = DriverManager.getDriver(url);&lt;br/&gt;
      Properties info = new Properties();&lt;/p&gt;

&lt;p&gt;      DriverPropertyInfo[] attributes = driver.getPropertyInfo(url, info);&lt;/p&gt;

&lt;p&gt;      for (DriverPropertyInfo attribute : attributes) {&lt;br/&gt;
        System.out.print(attribute.name);&lt;br/&gt;
        System.out.print(&quot; : &quot;);&lt;br/&gt;
        if (attribute.choices != null) &lt;/p&gt;
{
          System.out.print(Arrays.toString(attribute.choices));
        }
&lt;p&gt;        System.out.print(&quot; : &quot;);&lt;br/&gt;
        System.out.println(attribute.value);&lt;br/&gt;
      }&lt;br/&gt;
    }&lt;br/&gt;
    catch(Exception exp) &lt;/p&gt;
{
      exp.printStackTrace();
    }

&lt;p&gt;    try &lt;/p&gt;
{
      DriverManager.getConnection(&quot;jdbc:derby:;shutdown=true&quot;);
    }
&lt;p&gt;    catch(Exception exp) {&lt;br/&gt;
    }&lt;br/&gt;
  }&lt;/p&gt;

&lt;p&gt;When run the following exception occured:&lt;/p&gt;

&lt;p&gt;Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError&lt;br/&gt;
        at java.lang.Class.forName0(Native Method)&lt;br/&gt;
        at java.lang.Class.forName(Unknown Source)&lt;br/&gt;
        at Test.test2(Test.java:20)&lt;br/&gt;
        at Test.main(Test.java:8)&lt;br/&gt;
Caused by: java.lang.NullPointerException&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.bootProviderServic&lt;br/&gt;
es(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.bootPersistentServ&lt;br/&gt;
ices(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.runWithState(Unkno&lt;br/&gt;
wn Source)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.FileMonitor.&amp;lt;init&amp;gt;(Unknown Sou&lt;br/&gt;
rce)&lt;br/&gt;
        at org.apache.derby.iapi.services.monitor.Monitor.startMonitor(Unknown S&lt;br/&gt;
ource)&lt;br/&gt;
        at org.apache.derby.iapi.jdbc.JDBCBoot.boot(Unknown Source)&lt;br/&gt;
        at org.apache.derby.jdbc.EmbeddedDriver.boot(Unknown Source)&lt;br/&gt;
        at org.apache.derby.jdbc.EmbeddedDriver.&amp;lt;clinit&amp;gt;(Unknown Source)&lt;br/&gt;
        ... 4 more&lt;/p&gt;

&lt;p&gt;If i comment out:&lt;br/&gt;
// p.put(&quot;derby.system.bootAll&quot;, &quot;true&quot;);&lt;/p&gt;

&lt;p&gt;The program runs, but no databases are listed.&lt;/p&gt;

&lt;p&gt;The output from java org.apache.derby.tools.sysinfo:&lt;/p&gt;

&lt;p&gt;------------------ Java Information ------------------&lt;br/&gt;
Java Version:    1.5.0_05&lt;br/&gt;
Java Vendor:     Sun Microsystems Inc.&lt;br/&gt;
Java home:       C:\Program Files\Java\jre1.5.0_05&lt;br/&gt;
Java classpath:  C:\tools\derby\db-derby-10.1.2.1-bin\lib\derby.jar;C:\tools\der&lt;br/&gt;
by\db-derby-10.1.2.1-bin\lib\derbytools.jar;;C:\tools\Java\jdk1.5.0_05\lib\tools&lt;br/&gt;
.jar;C:\tools\log4j\logging-log4j-1.2.12\dist\lib\log4j-1.2.12.jar;C:\dev_deploy&lt;br/&gt;
\plugins\com.x4m.util_1.0.0.jar;C:\dev_deploy\plugins\com.x4m.uomcrs_1.0.0.jar;C&lt;br/&gt;
:\dev_deploy\plugins\com.x4m.database_1.0.0.jar;C:\dev_deploy\plugins\com.x4m.fe&lt;br/&gt;
ature_1.0.0.jar;C:\dev_deploy\plugins\org.eclipse.core.runtime_3.1.0.jar;C:\dev_&lt;br/&gt;
deploy\plugins\org.eclipse.osgi_3.1.0.jar;C:\dev_deploy\plugins\com.x4m.database&lt;br/&gt;
_1.0.0.jar;C:\david\novice\syncservices\build\class&lt;br/&gt;
OS name:         Windows XP&lt;br/&gt;
OS architecture: x86&lt;br/&gt;
OS version:      5.1&lt;br/&gt;
Java user name:  David&lt;br/&gt;
Java user home:  C:\Documents and Settings\David&lt;br/&gt;
Java user dir:   C:\david\novice\derby&lt;br/&gt;
java.specification.name: Java Platform API Specification&lt;br/&gt;
java.specification.version: 1.5&lt;br/&gt;
--------- Derby Information --------&lt;br/&gt;
JRE - JDBC: J2SE 5.0 - JDBC 3.0&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;C:\tools\derby\db-derby-10.1.2.1-bin\lib\derby.jar&amp;#93;&lt;/span&gt; 10.1.2.1 - (330608)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;C:\tools\derby\db-derby-10.1.2.1-bin\lib\derbytools.jar&amp;#93;&lt;/span&gt; 10.1.2.1 - (330608)&lt;br/&gt;
------------------------------------------------------&lt;br/&gt;
----------------- Locale Information -----------------&lt;br/&gt;
------------------------------------------------------&lt;/p&gt;

&lt;p&gt;I have read most of the documentation and can find no other way to get a list of available catalogs - thus I do not know of a workaround for this problem.&lt;/p&gt;

&lt;p&gt;David Heath&lt;br/&gt;
Transform Software and Services&lt;/p&gt;</description>
                <environment>Windows XP</environment>
        <key id="12333250">DERBY-1296</key>
            <summary>Setting property derby.system.bootAll causes an Exception</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fernanda">Fernanda Pizzorno</assignee>
                                    <reporter username="heath_david">David Heath</reporter>
                        <labels>
                    </labels>
                <created>Sat, 6 May 2006 01:09:27 +0100</created>
                <updated>Thu, 13 Dec 2007 09:04:55 +0000</updated>
                            <resolved>Tue, 25 Jul 2006 13:57:37 +0100</resolved>
                                    <version>10.1.3.1</version>
                                    <fixVersion>10.2.1.6</fixVersion>
                                    <component>Services</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12420418" author="rhillegas" created="Wed, 12 Jul 2006 03:50:25 +0100"  >&lt;p&gt;Assigning to 10.2.&lt;/p&gt;</comment>
                            <comment id="12422410" author="fernanda" created="Thu, 20 Jul 2006 13:34:02 +0100"  >&lt;p&gt;The attached patch (derby-1296.diff) fixes the problem and adds a new tests.&lt;/p&gt;

&lt;p&gt;I have run derbyall with this patch (the same tests as in &lt;a href=&quot;http://www.multinet.no/~solberg/public/Apache/Failures/TinderBox_Derby/423768.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.multinet.no/~solberg/public/Apache/Failures/TinderBox_Derby/423768.html&lt;/a&gt; failed). Can someone please review it?&lt;/p&gt;</comment>
                            <comment id="12423000" author="andreask" created="Mon, 24 Jul 2006 09:48:37 +0100"  >&lt;p&gt;Thanks for making the patch for this critical issue. It seems there is a conflict when applying it, due to changes in BaseJDBCTestCase. Could you please resolve the conflict?&lt;br/&gt;
I do also suggest renaming the test case class from bootAllTest to BootAllTest.&lt;/p&gt;</comment>
                            <comment id="12423040" author="fernanda" created="Mon, 24 Jul 2006 13:02:14 +0100"  >&lt;p&gt;The conflics are resolved and the test is renamed from bootAllTest to BootAllTest in the attached patch (derby-1296v2.diff).&lt;/p&gt;</comment>
                            <comment id="12423328" author="andreask" created="Tue, 25 Jul 2006 13:57:37 +0100"  >&lt;p&gt;Thanks for resolving the conflict.&lt;/p&gt;

&lt;p&gt;Committed revision 425388.&lt;/p&gt;</comment>
                            <comment id="12551340" author="fuzzylogic" created="Thu, 13 Dec 2007 09:04:55 +0000"  >&lt;p&gt;This issue has been resolved for over a year with no further movement. Closing.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12337236" name="derby-1296.diff" size="11960" author="fernanda" created="Thu, 20 Jul 2006 13:34:02 +0100"/>
                            <attachment id="12337237" name="derby-1296.stat" size="704" author="fernanda" created="Thu, 20 Jul 2006 13:34:02 +0100"/>
                            <attachment id="12337397" name="derby-1296v2.diff" size="13189" author="fernanda" created="Mon, 24 Jul 2006 13:02:14 +0100"/>
                            <attachment id="12337398" name="derby-1296v2.stat" size="619" author="fernanda" created="Mon, 24 Jul 2006 13:02:14 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 12 Jul 2006 02:50:25 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22419</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy109z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39695</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>