<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:27:50 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-6064/DERBY-6064.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-6064] Failures in upgradeTests.Changes10_9 related to index cardinality statistics</title>
                <link>https://issues.apache.org/jira/browse/DERBY-6064</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;The upgrade test fails when run with 10.8.3. The reason is that a fix has been backported to 10.8.3, and older branches back to 10.3, and this fix invalidates assumptions made in some of the tests in Changes10_9.&lt;/p&gt;

&lt;p&gt;Example of failures:&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/job/Derby-10.9-suites.All/60/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Derby-10.9-suites.All/60/testReport/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;As a side note, I&apos;m wondering if we don&apos;t have good enough routines to make sure we run the upgrade tests with maintenance releases on older branches before releasing them. I don&apos;t know if we can avoid this situation in general, that would at least require very careful consideration on how to write the upgrade test.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12630360">DERBY-6064</key>
            <summary>Failures in upgradeTests.Changes10_9 related to index cardinality statistics</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kristwaa">Kristian Waagan</assignee>
                                    <reporter username="kristwaa">Kristian Waagan</reporter>
                        <labels>
                    </labels>
                <created>Fri, 1 Feb 2013 11:58:01 +0000</created>
                <updated>Wed, 3 Sep 2014 09:31:33 +0100</updated>
                            <resolved>Tue, 5 Feb 2013 11:46:33 +0000</resolved>
                                    <version>10.9.1.0</version>
                                    <fixVersion>10.9.2.2</fixVersion>
                    <fixVersion>10.10.1.1</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13568688" author="kristwaa" created="Fri, 1 Feb 2013 12:05:58 +0000"  >&lt;p&gt;Attaching patch 1a, which is a suggestion on how to fix the problem.&lt;/p&gt;

&lt;p&gt;The test helper class DisposableIndexStatistics now adjusts  the expected counts for statistics entries based on the version of the old database. Versions with the fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-5681&quot; title=&quot;When a foreign key constraint on a table is dropped, the associated statistics row for the conglomerate is not removed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-5681&quot;&gt;&lt;del&gt;DERBY-5681&lt;/del&gt;&lt;/a&gt; will have one less entry. The range check I introduced for the overall number of statistics entries is a bit fuzzy, but I think it&apos;s good enough - especially since the tests would fail in other places if we made old versions stop generating statistics for single column unique indexes.&lt;/p&gt;

&lt;p&gt;Patch ready for review.&lt;/p&gt;</comment>
                            <comment id="13569453" author="dagw" created="Sat, 2 Feb 2013 06:37:02 +0000"  >&lt;p&gt;Patch looks good. One comment threw me off a bit:&lt;/p&gt;

&lt;p&gt;                // We expect that the maximum number of statistics have been&lt;br/&gt;
                // created here, since we&apos;re using an older version of Derby&lt;br/&gt;
                // that contained a bug and lacked the latest optimizations.&lt;/p&gt;

&lt;p&gt;with &quot;older version&quot; being 10.8.3 the bug is gone, right? If so the comment isn&apos;t entirely accurate and it woould be good to fix that.&lt;/p&gt;
</comment>
                            <comment id="13569791" author="kristwaa" created="Sun, 3 Feb 2013 15:00:00 +0000"  >&lt;p&gt;Thanks, Dag.&lt;br/&gt;
I&apos;ll update the comment to make it more accurate.&lt;br/&gt;
Committed patch 1a to trunk with revision 1441923.&lt;/p&gt;

&lt;p&gt;I&apos;ll also look at merging the fix into the 10.9-branch.&lt;/p&gt;</comment>
                            <comment id="13571104" author="kristwaa" created="Tue, 5 Feb 2013 07:13:11 +0000"  >&lt;p&gt;Committed patch 2a, which improves the inaccurate comment pointed out by Dag, to trunk with revision 1442483.&lt;/p&gt;</comment>
                            <comment id="13571248" author="kristwaa" created="Tue, 5 Feb 2013 11:46:33 +0000"  >&lt;p&gt;Merged the fix into the 10.9 branch with revision 1442552.&lt;/p&gt;

&lt;p&gt;Resolving issue.&lt;/p&gt;</comment>
                            <comment id="14119591" author="knutanders" created="Wed, 3 Sep 2014 09:31:33 +0100"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;bulk update&amp;#93;&lt;/span&gt; Close all resolved issues that haven&apos;t been updated for more than one year.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12567574" name="derby-6064-1a-istat_upgrade_test_fixes.diff" size="11971" author="kristwaa" created="Fri, 1 Feb 2013 12:05:58 +0000"/>
                            <attachment id="12567960" name="derby-6064-2a-fix_comment.diff" size="2266" author="kristwaa" created="Tue, 5 Feb 2013 07:13:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 2 Feb 2013 06:37:02 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>310855</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzbhwn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>311200</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>