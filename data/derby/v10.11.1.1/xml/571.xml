<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:50:37 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-571/DERBY-571.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-571] Virtual Table Mapping for no argument Diagnostic tables</title>
                <link>https://issues.apache.org/jira/browse/DERBY-571</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Currently four no-argument diagnostic tables exist that provide information about the running state of Derby, or its error messages.&lt;br/&gt;
These tables are invoked using an awkward, non-standard syntax. As an example:&lt;/p&gt;

&lt;p&gt;SELECT * FROM NEW org.apache.derby.diag.LockTable() as LOCK_TABLE&lt;/p&gt;

&lt;p&gt;The improvement will provide an internal mapping from a regular table name in the SYSCS_DIAG schema&lt;br/&gt;
to the runtime virtual table code. Thus the above example would be replaced by:&lt;/p&gt;

&lt;p&gt;SELECT * FROM SYSCS_DIAG.LOCK_TABLE&lt;/p&gt;

&lt;p&gt;These diagnostic table expressions are regular table expressions (as is the NEW VTI construct) and&lt;br/&gt;
can be used wherever a normal table can.&lt;/p&gt;

&lt;p&gt;Any DDL, INSERT/UPDATE/DELETE, compression procedure etc. that references a diagnostic table&lt;br/&gt;
will result in an exception.&lt;/p&gt;

&lt;p&gt;The old style syntax will remain in place for 10.2, but become deprecated.&lt;/p&gt;

&lt;p&gt;The tables to be implemented in this change are:&lt;/p&gt;

&lt;p&gt;SYSCS_DIAG.LOCK_TABLE   replaces org.apache.derby.diag.LockTable&lt;br/&gt;
SYSCS_DIAG.STATEMENT_CACHE    replaces org.apache.derby.diag.StatementCache&lt;br/&gt;
SYSCS_DIAG.TRANSACTION_TABLE    replaces org.apache.derby.diag.TransactionTable&lt;br/&gt;
SYSCS_DIAG.ERROR_MESSAGES    replaces org.apache.derby.diag.ErrorMessages&lt;/p&gt;

&lt;p&gt;Adding such a table will be table driven, thus easy for others to provide additional diagnostics.&lt;/p&gt;

&lt;p&gt;Information about these diagnostic tables will not appear in the system catalogs or JDBC DatabaseMetaData.&lt;br/&gt;
The ResultSetMetaData for the any query involving a diagnostic table will be valid.&lt;/p&gt;

&lt;p&gt;This is a first step in a progression towards supporing a fully application/user defined virtual table.&lt;/p&gt;

&lt;p&gt;These steps are not part of this jira issue, but added for information purposes.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;second step - supporting diagnostic tables with parameters, e.g.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;  SELECT * FROM SYSCS_DIAG.SPACE_TABLE(&apos;sales&apos;, &apos;orders&apos;);&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;third step - providing a create virtual table statement (most databases support&lt;br/&gt;
   some form of virtual table, or wrappers). The DDL would be non-standard but the&lt;br/&gt;
   data access would be standard. &lt;span class=&quot;error&quot;&gt;&amp;#91;need to check table functions in part 13 of SQL standard&amp;#93;&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   E.g. syntax yet to be defined, but to give the general idea&lt;br/&gt;
      CREATE VIRTUAL TABLE (TICKER VARCHAR(10), START TIMESTAMP, END TIMESTAMP)&lt;br/&gt;
           LANGUAGE JAVA&lt;br/&gt;
           PARAMETER STYLE JAVA&lt;br/&gt;
           EXTERNAL NAME &apos;com.acme.stocks.historyFromYahooFinance&apos;;&lt;/p&gt;





</description>
                <environment></environment>
        <key id="12317007">DERBY-571</key>
            <summary>Virtual Table Mapping for no argument Diagnostic tables</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="djd">Daniel John Debrunner</assignee>
                                    <reporter username="djd">Daniel John Debrunner</reporter>
                        <labels>
                    </labels>
                <created>Fri, 16 Sep 2005 03:34:42 +0100</created>
                <updated>Fri, 15 Sep 2006 06:55:07 +0100</updated>
                            <resolved>Sat, 19 Nov 2005 08:46:25 +0000</resolved>
                                                    <fixVersion>10.2.1.6</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                                                            <comments>
                            <comment id="12356073" author="ejain" created="Thu, 27 Oct 2005 22:58:53 +0100"  >&lt;p&gt;If such virtual tables could be used to integrate Lucene search results with data in relational tables (e.g. for summaries and sorting), that would be a killer feature for Derby!&lt;/p&gt;</comment>
                            <comment id="12357929" author="djd" created="Fri, 18 Nov 2005 05:51:21 +0000"  >&lt;p&gt;Seen through direct DELETE statements as well, e.g.&lt;/p&gt;

&lt;p&gt;DELETE FROM SYSCS_DIAG.LOCK_TABLE;&lt;/p&gt;</comment>
                            <comment id="12358038" author="djd" created="Sat, 19 Nov 2005 08:46:25 +0000"  >&lt;p&gt;Last set of changes checked in for the framework and no argument diagnostic tables.&lt;/p&gt;</comment>
                            <comment id="12365663" author="ericrad" created="Thu, 9 Feb 2006 09:16:30 +0000"  >&lt;p&gt;Does this issue require some documentation (e.g., do the four new system tables need to be doc&apos;d in the Ref Guide?)&lt;/p&gt;</comment>
                            <comment id="12368401" author="jlevitt" created="Thu, 2 Mar 2006 09:25:53 +0000"  >&lt;p&gt;Eric recently asked if there are any tables to doc for this.  I second that motion.  Could someone please provide information so that this can get documented?  Thanks!&lt;/p&gt;</comment>
                            <comment id="12368513" author="djd" created="Thu, 2 Mar 2006 23:58:12 +0000"  >&lt;p&gt;Sorry missed the earlier requests:&lt;/p&gt;

&lt;p&gt;The tables to be documented are listed in the descripton.&lt;/p&gt;

&lt;p&gt;SYSCS_DIAG.LOCK_TABLE replaces org.apache.derby.diag.LockTable&lt;br/&gt;
SYSCS_DIAG.STATEMENT_CACHE replaces org.apache.derby.diag.StatementCache&lt;br/&gt;
SYSCS_DIAG.TRANSACTION_TABLE replaces org.apache.derby.diag.TransactionTable&lt;br/&gt;
SYSCS_DIAG.ERROR_MESSAGES replaces org.apache.derby.diag.ErrorMessages &lt;/p&gt;

&lt;p&gt;The information about the tables can be found in the javadoc for the class listed above.&lt;br/&gt;
That can be found at:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://db.apache.org/derby/javadoc/engine/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://db.apache.org/derby/javadoc/engine/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;click on the org.apache.derby.diag link in the Packages table, then select each class, e.g. LockTable to see the info.&lt;/p&gt;</comment>
                            <comment id="12368962" author="jlevitt" created="Mon, 6 Mar 2006 08:23:00 +0000"  >&lt;p&gt;I looked, and our current doc does not have any information for any of the now replaced org.apache.derby.diag.&amp;lt;whatever&amp;gt; tables.  Do we want a new section to document the SYSCS_DIAG.&amp;lt;whatever&amp;gt; tanles, and if so, where and in which manual?  Or is the javadoc satisfactory?&lt;/p&gt;</comment>
                            <comment id="12369042" author="djd" created="Tue, 7 Mar 2006 02:45:54 +0000"  >&lt;p&gt;New section similar to the system tables section in the reference manual.&lt;/p&gt;

&lt;p&gt;There is no public javadoc for these classes, only internal.&lt;/p&gt;</comment>
                            <comment id="12420139" author="stan" created="Tue, 11 Jul 2006 02:07:23 +0100"  >&lt;p&gt;Intending to open a documentation sub-task on this - no open issue found regarding docuementing the diagnostic tables of SYSCS_DIAG.  Minimally the existance of the schema and tables need to be listed.  &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12325777">DERBY-714</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="28576">DERBY-80</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                            <subtask id="12346111">DERBY-1520</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 27 Oct 2005 21:58:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>29612</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy14mv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40401</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>