<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:37:28 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-1331/DERBY-1331.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-1331] Derby&apos;s &quot;set schema&quot; behavior is not compliant with SQL 2003 Foundation spec.</title>
                <link>https://issues.apache.org/jira/browse/DERBY-1331</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;As per SQL2003 Foundation spec, Pg 913 Section 18.6 &amp;lt;set schema statement&amp;gt; 3b) &quot;Otherwise, the default unqualified schema name of the current SQL-session is set to V.&quot; As per this line, set schema will only impact the current context on current SQL-session&apos;s context stack. But, in Derby, set schema is impacting all the contexts in SQL-session&apos;s context stack rather than only the current context. An example of this would be &lt;br/&gt;
1)make a database connection&lt;br/&gt;
2)set schema to &apos;schema1&apos;&lt;br/&gt;
3)call an external procedure using CALL statement and change schema to &apos;schema2&apos;&lt;br/&gt;
4)After the call to external procedure, check current schema&lt;/p&gt;

&lt;p&gt;Step 3 causes a new context creation and that context gets destroyed when external procedure finishes. As per SQL2003, step 3 should only change the schema for the cotext in which the procedure is running, and step 4 should see current schema as &apos;schema1&apos;. This doesn&apos;t happen in Derby. Instead, the set schema statement affects all the contexts in the SQL-session&apos;s context stack. In the example above, in step 4, Derby shows current schema to be &apos;schema2&apos;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12343199">DERBY-1331</key>
            <summary>Derby&apos;s &quot;set schema&quot; behavior is not compliant with SQL 2003 Foundation spec.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dagw">Dag H. Wanvik</assignee>
                                    <reporter username="mamtas">Mamta A. Satoor</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 May 2006 14:20:48 +0100</created>
                <updated>Mon, 4 May 2009 19:22:28 +0100</updated>
                            <resolved>Wed, 2 Apr 2008 16:05:29 +0100</resolved>
                                    <version>10.0.2.0</version>
                    <version>10.0.2.1</version>
                    <version>10.1.1.0</version>
                    <version>10.1.2.1</version>
                    <version>10.1.3.1</version>
                                    <fixVersion>10.5.1.1</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12412297" author="mamtas" created="Thu, 18 May 2006 14:21:54 +0100"  >&lt;p&gt;Fixing this might cause existing applications to break since they might be written based on Derby&apos;s current behavior for &apos;set schema&apos;.&lt;/p&gt;</comment>
                            <comment id="12569963" author="dagw" created="Mon, 18 Feb 2008 17:46:43 +0000"  >&lt;p&gt;The work on &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3327&quot; title=&quot;SQL roles: Implement authorization stack (and SQL session context to hold it)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3327&quot;&gt;&lt;del&gt;DERBY-3327&lt;/del&gt;&lt;/a&gt; contains a patch which would solve this issue, if committed, so linking.&lt;/p&gt;</comment>
                            <comment id="12584623" author="dagw" created="Wed, 2 Apr 2008 16:05:29 +0100"  >&lt;p&gt;Solved by &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3327&quot; title=&quot;SQL roles: Implement authorization stack (and SQL session context to hold it)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3327&quot;&gt;&lt;del&gt;DERBY-3327&lt;/del&gt;&lt;/a&gt;, resolving. That patch also contains a release note for the changed behavior.&lt;/p&gt;</comment>
                            <comment id="12594250" author="dagw" created="Mon, 5 May 2008 16:08:16 +0100"  >&lt;p&gt;Are you OK with closing this issue, Mamta?&lt;/p&gt;</comment>
                            <comment id="12594298" author="mamtas" created="Mon, 5 May 2008 19:44:38 +0100"  >&lt;p&gt;Dag, thanks for taking care of this issue while tackline &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3327&quot; title=&quot;SQL roles: Implement authorization stack (and SQL session context to hold it)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3327&quot;&gt;&lt;del&gt;DERBY-3327&lt;/del&gt;&lt;/a&gt;. I will go ahead and close this issue. Can you please confirm if there were tests added for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1331&quot; title=&quot;Derby&amp;#39;s &amp;quot;set schema&amp;quot; behavior is not compliant with SQL 2003 Foundation spec.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1331&quot;&gt;&lt;del&gt;DERBY-1331&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="12594367" author="dagw" created="Mon, 5 May 2008 23:23:13 +0100"  >&lt;p&gt;Yes, please see SQLSessionContextTest, which contains tests for SET SCHEMA as well as SET ROLE.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3327&quot; title=&quot;SQL roles: Implement authorization stack (and SQL session context to hold it)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3327&quot;&gt;&lt;del&gt;DERBY-3327&lt;/del&gt;&lt;/a&gt; also contains a release note that covers the new behavior.&lt;/p&gt;</comment>
                            <comment id="12594991" author="mamtas" created="Wed, 7 May 2008 19:21:08 +0100"  >&lt;p&gt;Thanks for adding the required tests and the release note coverage of the issue.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12386518">DERBY-3327</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12396702">DERBY-3690</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 18 Feb 2008 17:46:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22442</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0xlj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39261</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>