<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:33:44 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-5303/DERBY-5303.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-5303] Convert tools/URLCheck.sql to junit</title>
                <link>https://issues.apache.org/jira/browse/DERBY-5303</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description></description>
                <environment></environment>
        <key id="12512000">DERBY-5303</key>
            <summary>Convert tools/URLCheck.sql to junit</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="houxzhang">Houx Zhang</assignee>
                                    <reporter username="houxzhang">Houx Zhang</reporter>
                        <labels>
                            <label>gsoc2011</label>
                    </labels>
                <created>Tue, 28 Jun 2011 15:44:34 +0100</created>
                <updated>Wed, 20 Jul 2011 09:41:28 +0100</updated>
                            <resolved>Fri, 8 Jul 2011 02:43:08 +0100</resolved>
                                                    <fixVersion>10.9.1.0</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13059407" author="houxzhang" created="Mon, 4 Jul 2011 13:19:46 +0100"  >&lt;p&gt;Ask for help:&lt;/p&gt;

&lt;p&gt;when ran the URLCheckTest in patch -1, the test failed with the output file -1. Besides, in my console, I got:&lt;/p&gt;

&lt;p&gt;URL Attribute &lt;span class=&quot;error&quot;&gt;&amp;#91;unknown=x&amp;#93;&lt;/span&gt;&lt;br/&gt;
   Attribute is unknown to Derby.&lt;br/&gt;
URL Attribute &lt;span class=&quot;error&quot;&gt;&amp;#91;dataEncryption=true&amp;#93;&lt;/span&gt;&lt;br/&gt;
   Attribute is a duplicate.&lt;br/&gt;
URL Attribute &lt;span class=&quot;error&quot;&gt;&amp;#91;dataEncryption=false&amp;#93;&lt;/span&gt;&lt;br/&gt;
   Attribute is a duplicate.&lt;br/&gt;
URL Attribute &lt;span class=&quot;error&quot;&gt;&amp;#91;dataencryption=true&amp;#93;&lt;/span&gt;&lt;br/&gt;
   Attribute is unknown to Derby.&lt;/p&gt;

&lt;p&gt;it&apos;s just the missing info that -1.out failed because of. If add them into .out, the test will pass.&lt;/p&gt;

&lt;p&gt;Why the console ouput the messages above, please? How to convert them into the .output file?&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="13059473" author="bryanpendleton" created="Mon, 4 Jul 2011 16:13:09 +0100"  >&lt;p&gt;It looks to me as though CanonTestCase tries to capture the output in a ByteArrayOutputStream,&lt;br/&gt;
but LocalizedResource.OutputWriter sends its output directly to System.out, and doesn&apos;t make&lt;br/&gt;
provision for directing the output elsewhere.&lt;/p&gt;

&lt;p&gt;I wonder if it would help to make a subclass of ScriptTestCase which overrides CanonTestCase.getOutputStream&lt;br/&gt;
so that, in addition to fabricating the test output stream, we also call System.setOut() to tell&lt;br/&gt;
System.out to redirect its output to the CanonTestCase&apos;s output stream?&lt;/p&gt;

&lt;p&gt;Alternatively, and perhaps better, in ij.java, around line 110, when ij.runScript() is calling&lt;br/&gt;
LocalizedResource.getNewOutput(sqlOut), perhaps we could create a new LocalizedResource.setOutput()&lt;br/&gt;
method which we could pass the LocalizedOutput object to, and it would reset the &quot;out&quot; field&lt;br/&gt;
in the LocalizedResource class to point to the new LocalizedOutput object, rather than the&lt;br/&gt;
one which points to System.out.&lt;/p&gt;

&lt;p&gt;What do you think?&lt;/p&gt;</comment>
                            <comment id="13061300" author="houxzhang" created="Thu, 7 Jul 2011 14:38:03 +0100"  >&lt;p&gt;Hi, Bryan, I have change LocalizedResource.out to get the correct result in 5303-2.patch and 5303-3.patch.&lt;/p&gt;

&lt;p&gt;5303-2.patch and 5303-3.patch is different, 5303-3.patch just adds URLCheck.sql into ToolScripts.java instead of adding a new URLCheckTest class. However, I&apos;m not sure it&apos;s right to ignore URLCheck_app.properties in this situation, so wish for your opinion on these two patches.&lt;/p&gt;
</comment>
                            <comment id="13061716" author="bryanpendleton" created="Fri, 8 Jul 2011 02:43:08 +0100"  >&lt;p&gt;All other things being equal, the simpler patch seems better to me,&lt;br/&gt;
so I think patch-3 is therefore preferable to patch-2.&lt;/p&gt;

&lt;p&gt;I don&apos;t believe any of the properties in the properties file are&lt;br/&gt;
needed by the test, so I think we can move ahead with this approach.&lt;/p&gt;

&lt;p&gt;derby-5303-3.patch runs great in my environment, so I committed&lt;br/&gt;
it to the trunk as revision 1144123.&lt;/p&gt;

&lt;p&gt;Thank you for the contribution!&lt;/p&gt;</comment>
                            <comment id="13061930" author="houxzhang" created="Fri, 8 Jul 2011 13:24:46 +0100"  >&lt;p&gt;Thanks for your checking and advice, Bryan!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12514761">DERBY-5345</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12485141" name="derby-5303-1-URLCheck.out" size="1453" author="houxzhang" created="Mon, 4 Jul 2011 13:19:46 +0100"/>
                            <attachment id="12485140" name="derby-5303-1.patch" size="2875" author="houxzhang" created="Mon, 4 Jul 2011 13:19:46 +0100"/>
                            <attachment id="12485586" name="derby-5303-2.patch" size="6340" author="houxzhang" created="Thu, 7 Jul 2011 14:38:03 +0100"/>
                            <attachment id="12485587" name="derby-5303-2.stat" size="429" author="houxzhang" created="Thu, 7 Jul 2011 14:38:03 +0100"/>
                            <attachment id="12485588" name="derby-5303-3.patch" size="3259" author="houxzhang" created="Thu, 7 Jul 2011 14:38:03 +0100"/>
                            <attachment id="12485589" name="derby-5303-3.stat" size="344" author="houxzhang" created="Thu, 7 Jul 2011 14:38:03 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 4 Jul 2011 15:13:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31590</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0fnj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36354</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>