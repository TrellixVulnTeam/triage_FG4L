<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:20:31 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-2710/DERBY-2710.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-2710] disable dynamic like optimization for collated databases</title>
                <link>https://issues.apache.org/jira/browse/DERBY-2710</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;I think Code needs to be added to opensource/java/engine/org/apache/derby/impl/sql/compile/LikeEscapeOperatorNode.java&lt;br/&gt;
to disable like optimization for databases with non-default collation.  There is left over code in this routine that says it disables it for national char by adding a cast to one of the two sides which I assume then stops some other code from considering the &lt;br/&gt;
optimization.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12370359">DERBY-2710</key>
            <summary>disable dynamic like optimization for collated databases</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12345445">DERBY-1478</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mikem">Mike Matrigali</assignee>
                                    <reporter username="mikem">Mike Matrigali</reporter>
                        <labels>
                    </labels>
                <created>Sun, 27 May 2007 21:34:27 +0100</created>
                <updated>Fri, 21 Jan 2011 17:50:15 +0000</updated>
                            <resolved>Tue, 29 May 2007 17:29:25 +0100</resolved>
                                    <version>10.3.1.4</version>
                                    <fixVersion>10.3.1.4</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12499447" author="mikem" created="Sun, 27 May 2007 21:59:29 +0100"  >&lt;p&gt;the bug reported in &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2706&quot; title=&quot;fix like clauses with trailing % &quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2706&quot;&gt;&lt;del&gt;DERBY-2706&lt;/del&gt;&lt;/a&gt; may be the result of incorrect like optimization.  Once we fix that, check the test cases there.&lt;/p&gt;</comment>
                            <comment id="12499479" author="mikem" created="Mon, 28 May 2007 06:55:55 +0100"  >&lt;p&gt;what is the expected result of a LIKE clause with mismatched collations.  So example is wher c1 like c2.&lt;br/&gt;
case 1) c1 is BASIC collation, c2 TERRITORY collation&lt;br/&gt;
case 2) c1 is TERRITORY collation, c2 is BASIC collation&lt;/p&gt;

&lt;p&gt;should this just behave the same as where c1 = c2 with different collation types, which I believe just throws an error.&lt;/p&gt;</comment>
                            <comment id="12499692" author="mamtas" created="Tue, 29 May 2007 07:31:43 +0100"  >&lt;p&gt;The collation rule for c1 like c2 should be same as c1 = c2 as per SQL specification. &lt;/p&gt;

&lt;p&gt;As per SQL spec, Section 8.5 &amp;lt;like predicate&amp;gt;, Syntax Rules 3d), &lt;br/&gt;
&quot;The collation used for &amp;lt;like predicate&amp;gt; is determined by applying Subclause 9.13, &quot;Collation determination&quot;, with operands CVE, PC, and (if specified) EC.&quot;&lt;/p&gt;

&lt;p&gt;As per SQL spec, Section 8.2 &amp;lt;comparison predicate&amp;gt;, General Rules 3a),&lt;br/&gt;
&quot;Let CS be the collation as determined by Subclause 9.13, &quot;Collation determination&quot;, for the declared types of the two character strings.&quot;&lt;/p&gt;

&lt;p&gt;Please let me know if you have any further questions in this area.&lt;/p&gt;</comment>
                            <comment id="12499697" author="mikem" created="Tue, 29 May 2007 07:56:24 +0100"  >&lt;p&gt;thanks, so I will throw an error is any of the 3 is a mismatch.   Can you give me a pointer to the code of an example where we throw the error for the = case, and I will make the change in the like code.&lt;/p&gt;</comment>
                            <comment id="12499701" author="mamtas" created="Tue, 29 May 2007 08:00:25 +0100"  >&lt;p&gt;The code for collation checking for = operator is in DataTypeDescriptor.comparable method.&lt;/p&gt;</comment>
                            <comment id="12499836" author="mikem" created="Tue, 29 May 2007 17:29:25 +0100"  >&lt;p&gt;disabled &amp;lt; and &amp;gt;= like optimization for non default collated like clauses.  commit # 542553&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12370349">DERBY-2706</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 29 May 2007 06:31:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30573</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0mcf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37438</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>