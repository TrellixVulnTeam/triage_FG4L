<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:28:48 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-2954/DERBY-2954.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-2954] Add commands to NetworkServerControl for interacting with the replication functionality</title>
                <link>https://issues.apache.org/jira/browse/DERBY-2954</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description></description>
                <environment></environment>
        <key id="12374145">DERBY-2954</key>
            <summary>Add commands to NetworkServerControl for interacting with the replication functionality</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12372418">DERBY-2872</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="narayanan">V.Narayanan</assignee>
                                    <reporter username="narayanan">V.Narayanan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Jul 2007 12:16:04 +0100</created>
                <updated>Thu, 2 May 2013 03:29:11 +0100</updated>
                            <resolved>Tue, 8 Apr 2008 09:28:20 +0100</resolved>
                                    <version>10.4.1.3</version>
                                    <fixVersion>10.4.1.3</fixVersion>
                                    <component>Miscellaneous</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12513880" author="narayanan" created="Thu, 19 Jul 2007 12:17:30 +0100"  >&lt;p&gt;All user interaction with the replication functionality &lt;br/&gt;
will be through commands to NetworkServerControl. &lt;br/&gt;
The following commands will be supported.&lt;/p&gt;

&lt;p&gt;Start Master 	&lt;br/&gt;
java org.apache.derby.drda.NetworkServerControl replication -startmaster -db=&amp;lt;dbname&amp;gt; -url=&amp;lt;slaveurl:port&amp;gt;&lt;/p&gt;

&lt;p&gt;Start Slave 	&lt;br/&gt;
java org.apache.derby.drda.NetworkServerControl replication -startslave -db=&amp;lt;dbname&amp;gt; -port=&amp;lt;port&amp;gt;&lt;/p&gt;

&lt;p&gt;Failover (slave only) 	&lt;br/&gt;
java org.apache.derby.drda.NetworkServerControl replication -failover -db=&amp;lt;dbname&amp;gt;&lt;/p&gt;

&lt;p&gt;Stop Replication (master only) 	&lt;br/&gt;
java org.apache.derby.drda.NetworkServerControl replication -stop -db=&amp;lt;dbname&amp;gt;&lt;/p&gt;

&lt;p&gt;The start and failover commands are restricted to the same machine that the database &lt;br/&gt;
resides. Hence, master commands are restricted to the machine that has the master &lt;br/&gt;
database, while slave commands are restricted to the machine that has the slave database. &lt;br/&gt;
The stop replication command can only be issued on the master. The master will in turn &lt;br/&gt;
send a stop replication message to the slave.&lt;/p&gt;

&lt;p&gt;Authorization and Authentication&lt;/p&gt;

&lt;p&gt;The commands above apply only to the database specified, and only the database owner &lt;br/&gt;
will be authorized to execute them. This implies that authentication is required. &lt;br/&gt;
Authentication will follow the same strategy as authentication for other NetworkServerControl &lt;br/&gt;
commands. Specifically, the approach that will be chosen for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2109&quot; title=&quot;System privileges&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2109&quot;&gt;DERBY-2109&lt;/a&gt; will be used for &lt;br/&gt;
replication as well. &lt;/p&gt;</comment>
                            <comment id="12514156" author="narayanan" created="Fri, 20 Jul 2007 10:09:23 +0100"  >&lt;p&gt;I have started work on the fail-over command.&lt;/p&gt;

&lt;p&gt;As a first step I was looking at how to introduce this new command&lt;br/&gt;
in the NetworkServerControl class.&lt;/p&gt;

&lt;p&gt;I envisaged the following steps and started working on this issue.&lt;/p&gt;

&lt;p&gt;1) Add a entry for the replication base command in the COMMANDS String array.&lt;br/&gt;
2) Add the integer translation for the command as COMMAND_REPLICATION and assign &lt;br/&gt;
   it the value of 11.&lt;br/&gt;
3) Catch this in executeWork() and call the failover handler(does not exist yet)&lt;/p&gt;

&lt;p&gt;Simple as the series of steps seem I ran into complications due to the following&lt;br/&gt;
reasons&lt;/p&gt;

&lt;p&gt;As I understand the process of command translation the findCommands&lt;br/&gt;
method returns the integer representation of the command that is entered.&lt;/p&gt;

&lt;p&gt;This method basically returns the index of the COMMANDS array at which the&lt;br/&gt;
string for the command is found.&lt;/p&gt;

&lt;p&gt;All was well until I tried to give the replication command a value of 11&lt;br/&gt;
and followed the modifications steps listed above.&lt;/p&gt;

&lt;p&gt;I realized that 10 was a command that was not present in the COMMAND array.&lt;br/&gt;
It refers to COMMAND_PROPERTIES which refers to the command the network&lt;br/&gt;
server receives from the client.&lt;/p&gt;

&lt;p&gt;This seems to be a hard-coded value which I could not modify by tweaking&lt;br/&gt;
COMMAND_PROPERTIES = 11 and&lt;br/&gt;
COMMAND_REPLICATION = 10.&lt;/p&gt;

&lt;p&gt;1) I see the simplest way of fixing this as being replacing the 10th index in the&lt;br/&gt;
    array to be an empty String &quot;&quot; and starting replication commands from index 11.&lt;br/&gt;
    In this way even if you pass an empty string a command expected message would be &lt;br/&gt;
    thrown without any other tweaks.&lt;/p&gt;

&lt;p&gt;2) Another way would be replcation the 10 index with the INVALID command and mapping &lt;br/&gt;
    this INVALID command to -1 which refers to COMMAND_UNKNOWN and the starting the &lt;br/&gt;
    replication commands from the 11th index.&lt;/p&gt;

&lt;p&gt;I like 1 better and am going to go ahead and handle this issue this way unless I &lt;br/&gt;
receive any objection from the community.&lt;/p&gt;</comment>
                            <comment id="12514196" author="oysteing" created="Fri, 20 Jul 2007 13:50:25 +0100"  >&lt;p&gt;I have a few comments to the syntax chosen for the&lt;br/&gt;
NetworkServerControl commands.  I think it is important that the new&lt;br/&gt;
commands are well aligned with existing commands in order to give a&lt;br/&gt;
uniform and consistent view.&lt;/p&gt;

&lt;p&gt;1. I see that you have chosen to have single replication commands with&lt;br/&gt;
   subcommands for the different replication operations.  An&lt;br/&gt;
   alternative would be to have different top level commands&lt;br/&gt;
   (e.g., startmaster, startslave, failover, stopreplication).  Do you&lt;br/&gt;
   have a rationale for your decision? I am not quite sure what is&lt;br/&gt;
   best choice.&lt;/p&gt;

&lt;p&gt;2. If you stick with the two level commands, I think you should not&lt;br/&gt;
   use &apos;-&apos; in front of the sub level commands.  I think these should&lt;br/&gt;
   be viewed as commands, not options.  If you look at existing&lt;br/&gt;
   commands, the main arguments are usually not handled as options.&lt;br/&gt;
   (e.g., logconnections, maxthreads, timeslice, trace)&lt;/p&gt;

&lt;p&gt;3. Syntax for options: The use of &apos;=&apos; is different from the existing&lt;br/&gt;
   syntax.&lt;/p&gt;

&lt;p&gt;4. All existing commands have the &lt;span class=&quot;error&quot;&gt;&amp;#91;-h &amp;lt;host&amp;gt;&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;-p &amp;lt;portnumber&amp;gt;&amp;#93;&lt;/span&gt;.  I&lt;br/&gt;
   think you could also use those instead of your proposed -url and&lt;br/&gt;
   -port options.&lt;/p&gt;
</comment>
                            <comment id="12514206" author="oysteing" created="Fri, 20 Jul 2007 14:57:39 +0100"  >&lt;p&gt;&#216;ystein Gr&#248;vlen (JIRA) wrote:&lt;br/&gt;
&amp;gt; 4. All existing commands have the &lt;span class=&quot;error&quot;&gt;&amp;#91;-h &amp;lt;host&amp;gt;&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;-p &amp;lt;portnumber&amp;gt;&amp;#93;&lt;/span&gt;.  I&lt;br/&gt;
&amp;gt;    think you could also use those instead of your proposed -url and&lt;br/&gt;
&amp;gt;    -port options.&lt;/p&gt;

&lt;p&gt;I was wrong here. -h/-p is of course needed to specify the address to&lt;br/&gt;
contact the server on, and cannot be used to to specify other hosts or&lt;br/&gt;
ports.  Still, I recommend that you make the commands more uniform by&lt;br/&gt;
using the same types for both startmaster and startslave.  Either, a&lt;br/&gt;
url for both or host/port separately for both.  Make sure that it is&lt;br/&gt;
easy to distinguish these new options from the existing ones.  Maybe&lt;br/&gt;
&quot;slave&quot; should be part of the name for these options.&lt;/p&gt;

</comment>
                            <comment id="12514208" author="narayanan" created="Fri, 20 Jul 2007 15:06:34 +0100"  >&lt;p&gt;I agree that it makes more sense to have the API as &lt;br/&gt;
separate commands like startmaster, startslave, failover, &lt;br/&gt;
stopreplication. &lt;/p&gt;

&lt;p&gt;I agree that this conforms more with the existing scenario.&lt;/p&gt;

&lt;p&gt;I shall take cognizance of the comments made and shall&lt;br/&gt;
redesign the functional spec apropos.&lt;/p&gt;

&lt;p&gt;I hope to put in a new functional spec by Monday&lt;/p&gt;

&lt;p&gt;Thanks a ton for the comments&lt;/p&gt;</comment>
                            <comment id="12520986" author="narayanan" created="Sun, 19 Aug 2007 22:51:40 +0100"  >&lt;p&gt;Pls find attached a preliminary patch that adds the following commands to NetworkServerControl.&lt;/p&gt;

&lt;p&gt;1) startmaster&lt;br/&gt;
2) startslave&lt;br/&gt;
3) startfailover&lt;br/&gt;
4) startreplication&lt;/p&gt;

&lt;p&gt;The logic for performing appropriate actions in the replication context&lt;br/&gt;
is not added as yet. This patch just adds the commands to NetworkServerControl.&lt;/p&gt;

&lt;p&gt;After applying the patch calling these commands will not do anything. However internally the parameters that are passed will be parsed and initialized.&lt;/p&gt;

&lt;p&gt;I have made one small deviation from the functional spec.&lt;/p&gt;

&lt;p&gt;The replication database name was earlier a dashed argument. I have changed it to be part of the command here.&lt;/p&gt;

&lt;p&gt;For example&lt;/p&gt;

&lt;p&gt;java org.apache.derby.drda.NetworkServerControl startmaster &lt;br/&gt;
-db &amp;lt;dbname&amp;gt; -slavehost &amp;lt;slavehost&amp;gt; -slaveport &amp;lt;slaveport&amp;gt;&lt;/p&gt;

&lt;p&gt;will now be&lt;/p&gt;

&lt;p&gt;java org.apache.derby.drda.NetworkServerControl startmaster &amp;lt;dbname&amp;gt; &lt;br/&gt;
-slavehost &amp;lt;slavehost&amp;gt; -slaveport &amp;lt;slaveport&amp;gt;&lt;/p&gt;

&lt;p&gt;the dbname being a compulsory part of the command.&lt;/p&gt;

&lt;p&gt;I derived this from the format of the tracedirectory and the logConnections commands where the parameters are not &lt;br/&gt;
dashed arguments but instead are a part of the command.&lt;/p&gt;

&lt;p&gt;Pls note that I have not run tests on this patch yet.&lt;/p&gt;

&lt;p&gt;This patch is not for a commit. &lt;/p&gt;

&lt;p&gt;Pls consider this patch for reviews and comments.&lt;/p&gt;</comment>
                            <comment id="12521764" author="narayanan" created="Wed, 22 Aug 2007 13:06:04 +0100"  >&lt;p&gt;I ran tests on this patch and found no failures. I request for this patch to be considered for a commit.&lt;/p&gt;</comment>
                            <comment id="12522494" author="jorgenlo" created="Fri, 24 Aug 2007 13:47:11 +0100"  >&lt;p&gt;Hi Narayanan,&lt;/p&gt;

&lt;p&gt;I reviewed the patch, and I think it looks good. I have one question, though: Since this patch adds a command that a user can issue but does not do anything, would it be good to print something like &quot;Replication not implemented yet&quot; to the console? You could for instance add one more console property message that is called from the setReplicationDB method.&lt;/p&gt;

&lt;p&gt;I am not sure if printing this message is necessary since the functionality will be added before a new release is made - just a thought.&lt;/p&gt;</comment>
                            <comment id="12523172" author="narayanan" created="Tue, 28 Aug 2007 08:06:51 +0100"  >&lt;p&gt;Thank you for reviewing this patch. Your comment is very valid.&lt;br/&gt;
In this patch I have modified the replication commands to print&lt;br/&gt;
&quot;Replication Not Implemented Yet&quot;.&lt;/p&gt;

&lt;p&gt;I have however made each command parsing point to print this&lt;br/&gt;
so that in the future when I implement the commands I can&lt;br/&gt;
incrementally put in the implementations while the other&lt;br/&gt;
commands can still print this message.&lt;/p&gt;</comment>
                            <comment id="12523207" author="oysteing" created="Tue, 28 Aug 2007 11:02:10 +0100"  >&lt;p&gt;I have looked at the patch it looks good.  I think my major comment is&lt;br/&gt;
more about the way NetworkServerControlImpl is implemented, and I do&lt;br/&gt;
not expect this to be fixed by this patch.  It seems that dashed&lt;br/&gt;
arguments that are allowed for one command, is accepted by all&lt;br/&gt;
commands.  This problem becomes more evident now since several new&lt;br/&gt;
arguments are introduced that does only apply to the replication&lt;br/&gt;
commands. Originally, I think all commands had the same set of&lt;br/&gt;
arguments, but earlier &apos;trace&apos; got a -s argument and &apos;start&apos; the&lt;br/&gt;
-noSecurityManager argument.  Hence, this is not the first patch that&lt;br/&gt;
has this problem.  However, this patch creates some new issues that&lt;br/&gt;
needs to be considered:&lt;/p&gt;

&lt;p&gt;1. If I give a non-int argument value to -slaveport, the command is&lt;br/&gt;
   silently ignored without any error message (e.g., &apos;shutdown&lt;br/&gt;
   -slaveport x&apos; does not shut down the server, and &apos;startmaster&lt;br/&gt;
   -slaveport x&apos; does not cause the &apos;not implemented&apos; message to be&lt;br/&gt;
   printed).&lt;/p&gt;

&lt;p&gt;2. The empty string is accepted as a command. &lt;br/&gt;
   &apos;java -jar jars/sane/derbyrun.jar server &quot;&quot;&apos; returns without error.&lt;/p&gt;

&lt;p&gt;Other comments:&lt;/p&gt;

&lt;p&gt;3. I suggest to call the command &apos;failover&apos; not &apos;startfailover&apos; since&lt;br/&gt;
   this is an action, not a process that will continue until it is&lt;br/&gt;
   stopped by another command. &lt;/p&gt;

&lt;p&gt;4. I am starting to think that &apos;startreplication&apos; may be a better name&lt;br/&gt;
   than &apos;startmaster&apos;.  That will give similar names for starting and&lt;br/&gt;
   stopping replication.&lt;/p&gt;

&lt;p&gt;5. I think a comment is needed to explain the presence of the empty&lt;br/&gt;
   string in the COMMANDS array.&lt;/p&gt;

&lt;p&gt;6. I do not think the synchronization in setReplicationDB is needed.&lt;br/&gt;
   The client is not going to be multi-threaded.  It is the server&lt;br/&gt;
   part of the code that needs synchronization.  (I think it has been&lt;br/&gt;
   discussed to split this class to have separate classes for client&lt;br/&gt;
   and server code to make this clearer.)&lt;/p&gt;

&lt;p&gt;7. I think the text of the DRDA_Slaveurl.I message should use the term&lt;br/&gt;
   &apos;host&apos; instead of &apos;url&apos; since that is the term used by the usage&lt;br/&gt;
   message.&lt;/p&gt;

&lt;p&gt;8. I suggest to change the usage text for the arguments of -slavehost&lt;br/&gt;
   and -slaveport to &apos;&amp;lt;host&amp;gt;&apos; and &apos;&amp;lt;portnumber&amp;gt;&apos;.&lt;/p&gt;

&lt;p&gt;9. I would think all the new commands will allow the -p, -h, and -ssl&lt;br/&gt;
   arguments also, and the usage message should be updated to reflect&lt;br/&gt;
   that.&lt;/p&gt;</comment>
                            <comment id="12523656" author="narayanan" created="Wed, 29 Aug 2007 20:06:57 +0100"  >&lt;p&gt;Thank you for the reviews and comments Oystein&lt;/p&gt;

&lt;p&gt;v3 addresses all the issues pointed out in v2 of the patch&lt;/p&gt;

&lt;p&gt;I addressed 1) by catching the NumberFormatException &lt;br/&gt;
that is thrown upon parsing for an integer in a String &lt;br/&gt;
containing an unexpected alpha-numeric along the same&lt;br/&gt;
lines of what happens currently for -h and -p dashed arguments.&lt;/p&gt;

&lt;p&gt;I addressed 2) by adding a check in the findCommands &lt;br/&gt;
method that parses the arguments passed to &lt;br/&gt;
NetworkServerControl class to ensure that the length of&lt;br/&gt;
the command passed in greater than 0.&lt;/p&gt;

&lt;p&gt;I have addressed all the other issues pointed out also.&lt;/p&gt;

&lt;p&gt;I have not yet run tests on this patch and shall post &lt;br/&gt;
the results of the test run tomorrow.&lt;/p&gt;

&lt;p&gt;I request for this patch to be considered for comments and reviews.&lt;/p&gt;</comment>
                            <comment id="12523827" author="oysteing" created="Thu, 30 Aug 2007 12:31:15 +0100"  >&lt;p&gt;Thank you for addressing my comments Narayanan.  The patch looks very&lt;br/&gt;
good.  I have tested that it fixes the issues I raised.  I have only some minor nits:&lt;/p&gt;

&lt;p&gt;1. replicationdbSync can be removed since it is no longer used.&lt;/p&gt;

&lt;p&gt;2. The indentation and the way the if statement is broken into lines&lt;br/&gt;
   makes the new code in findCommand() a bit hard to read.&lt;br/&gt;
   I suggest you indent the wrapped lines of the if statement, and put each argument&lt;br/&gt;
  on a separate line.&lt;/p&gt;

&lt;p&gt;If nobody beats me to it, I will commit this patch when I get the&lt;br/&gt;
necessary powers to do so.&lt;/p&gt;</comment>
                            <comment id="12523832" author="narayanan" created="Thu, 30 Aug 2007 12:51:03 +0100"  >&lt;p&gt;I ran tests on v3 of this patch and the I had no failures. &lt;/p&gt;

&lt;p&gt;If everything is OK I request for v3 to be considered for a commit.&lt;/p&gt;</comment>
                            <comment id="12523851" author="narayanan" created="Thu, 30 Aug 2007 14:49:50 +0100"  >&lt;p&gt;Thank you for the reviews and comments Oystein. &lt;br/&gt;
I have fixed the indentation with a few spaces to&lt;br/&gt;
align the arguments. I am hoping that this is OK.&lt;/p&gt;

&lt;p&gt;Since in this patch I have removed one attribute&lt;br/&gt;
and fixed an indentation I have not run tests.&lt;/p&gt;

&lt;p&gt;I request for this patch to be considered for a commit.&lt;/p&gt;
</comment>
                            <comment id="12524635" author="oysteing" created="Tue, 4 Sep 2007 08:34:15 +0100"  >&lt;p&gt;When I run derbyall, the following tests fail due to changes in the usage output:&lt;/p&gt;

&lt;p&gt;derbyall/derbynetmats/derbynetmats.fail:derbynet/maxthreads.java&lt;br/&gt;
derbyall/derbynetmats/derbynetmats.fail:derbynet/testProperties.java&lt;br/&gt;
derbyall/derbynetmats/derbynetmats.fail:derbynet/timeslice.java&lt;br/&gt;
derbyall/derbyall.fail:tools/derbyrunjartest.java&lt;br/&gt;
derbyall/derbynetclientmats/derbynetmats.fail:derbynet/maxthreads.java&lt;br/&gt;
derbyall/derbynetclientmats/derbynetmats.fail:derbynet/testProperties.java&lt;br/&gt;
derbyall/derbynetclientmats/derbynetmats.fail:derbynet/timeslice.java&lt;/p&gt;</comment>
                            <comment id="12524986" author="narayanan" created="Wed, 5 Sep 2007 06:30:07 +0100"  >&lt;p&gt;I am really sorry for the failures during the deryall run. They were&lt;br/&gt;
due to the additional output regarding the new commands&lt;br/&gt;
introduced in NetworkServerControl related to replication.&lt;/p&gt;

&lt;p&gt;I have fixed the issues in this patch.&lt;/p&gt;

&lt;p&gt;I am currently running the tests and shall revert back with&lt;br/&gt;
the results as soon as the tests finish.&lt;/p&gt;

&lt;p&gt;My apologies for the earlier failures once again&lt;/p&gt;</comment>
                            <comment id="12525005" author="narayanan" created="Wed, 5 Sep 2007 08:39:00 +0100"  >&lt;p&gt;I ran the following command &lt;/p&gt;

&lt;p&gt;nohup java org.apache.derbyTesting.functionTests.harness.RunSuite derbyall &amp;amp;&lt;/p&gt;

&lt;p&gt;I got the following&lt;/p&gt;

&lt;p&gt;290 Tests Run&lt;br/&gt;
100% Pass (290 tests passed)&lt;br/&gt;
 0% Fail (0 tests failed)&lt;br/&gt;
0 Suites skipped&lt;/p&gt;

&lt;p&gt;in derbyall_report.txt&lt;/p&gt;

&lt;p&gt;I am running the junit suite also and shall revert with the results as soon as the tests finish&lt;/p&gt;</comment>
                            <comment id="12525065" author="narayanan" created="Wed, 5 Sep 2007 12:21:42 +0100"  >&lt;p&gt;I have run the junit suite and saw no failures. If everything is OK I request for this&lt;br/&gt;
patch to be considered for a commit.&lt;/p&gt;</comment>
                            <comment id="12525077" author="oysteing" created="Wed, 5 Sep 2007 13:56:05 +0100"  >&lt;p&gt;Committed patch  NetworkServerControlCmds_v5.diff&lt;/p&gt;</comment>
                            <comment id="12538046" author="narayanan" created="Fri, 26 Oct 2007 19:12:39 +0100"  >&lt;p&gt;The following patch propogates the commands parsed in NetworkServerControlImpl to the controllers (Master and slave controllers). The patch does not add any functionality for the commands as such but only takes care of propogating the commands to the controllers.&lt;/p&gt;

&lt;p&gt;The following four replication related commands are handled in this patch.&lt;/p&gt;

&lt;p&gt;1) startmaster&lt;br/&gt;
2) startslave&lt;br/&gt;
3) startfailover&lt;br/&gt;
4) stopreplication&lt;/p&gt;</comment>
                            <comment id="12542764" author="jorgenlo" created="Thu, 15 Nov 2007 12:53:52 +0000"  >&lt;p&gt;Since the functional spec for replication has changed with respect to how the replication commands are issued (now using connection url), the CLI commands should use the connection url method internally instead of a separate implementation. Linking this issue to the connection url jiras. Latest func spec can be found on &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2872&quot; title=&quot;Add Replication functionality to Derby&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2872&quot;&gt;&lt;del&gt;DERBY-2872&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="12543129" author="dyret" created="Fri, 16 Nov 2007 16:34:04 +0000"  >&lt;p&gt;Seems like all available patches have been committed, so I&apos;m unchecking &apos;Patch available&apos;. Don&apos;t know if the issue can be closed/resolved yet...&lt;/p&gt;</comment>
                            <comment id="12563898" author="jorgenlo" created="Wed, 30 Jan 2008 08:42:38 +0000"  >&lt;p&gt;As stated in the func spec on &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2872&quot; title=&quot;Add Replication functionality to Derby&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2872&quot;&gt;&lt;del&gt;DERBY-2872&lt;/del&gt;&lt;/a&gt;, NetworkServerControl commands will not be included in the 10.4 release. For this release, we will only have connection properties. Hence, the committed patch (v5) on this issue should be reverted. v6 seems to  never have been committed. &lt;/p&gt;

&lt;p&gt;I reverted the patch locally and ran all tests without errors. &lt;/p&gt;</comment>
                            <comment id="12563998" author="jorgenlo" created="Wed, 30 Jan 2008 12:25:04 +0000"  >&lt;p&gt;Setting patch available since patch v5 needs to be reverted for now (10.4 release)&lt;/p&gt;</comment>
                            <comment id="12577444" author="oysteing" created="Tue, 11 Mar 2008 13:43:55 +0000"  >&lt;p&gt;Reverted patch v5 since NetworkServerControlImpl will not support commands for replication. (revision 635920)&lt;/p&gt;</comment>
                            <comment id="12586284" author="narayanan" created="Mon, 7 Apr 2008 10:08:06 +0100"  >&lt;p&gt;&quot;NetworkServerControlImpl will not support commands for replication.&quot;&lt;/p&gt;

&lt;p&gt;Resolving issue since all patches relevant to this have been submitted or&lt;br/&gt;
committed.&lt;/p&gt;</comment>
                            <comment id="12586299" author="johnemb" created="Mon, 7 Apr 2008 10:28:40 +0100"  >&lt;p&gt;Wouldn&apos;t a resolution of &quot;Later&quot; or &quot;Won&apos;t Fix&quot; have been better suited to this issue than &quot;Fixed&quot;, since the commands have not actually been added?&lt;/p&gt;</comment>
                            <comment id="12586301" author="narayanan" created="Mon, 7 Apr 2008 10:35:29 +0100"  >&lt;p&gt;This JIRA issues has caused changes to the codebase in the form of code that has first been&lt;br/&gt;
committed and then been reverted. I decided to stick to fixed because there has been code&lt;br/&gt;
changes as a result of this JIRA (although they have been reverted).&lt;/p&gt;

&lt;p&gt;Pls do go ahead and change it to &quot;not fixed&quot; if you think that is the right thing here.&lt;/p&gt;</comment>
                            <comment id="12586699" author="johnemb" created="Tue, 8 Apr 2008 08:55:39 +0100"  >&lt;p&gt;Reopening to adjust resolution status.&lt;/p&gt;</comment>
                            <comment id="12586709" author="johnemb" created="Tue, 8 Apr 2008 09:28:20 +0100"  >&lt;p&gt;Resolving as &quot;Won&apos;t fix&quot;, since the intended changes were first added, then removed from the repository. This way there is less chance that users browsing Jira will get the wrong impression, and it will be more clear if someone decides to actually add the commands later.&lt;/p&gt;

&lt;p&gt;Relevant history as I know it:&lt;br/&gt;
Code changes were applied to trunk with revision 572944, and were reverted from trunk with revision 635920 (and partly revision 617168 (&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3088&quot; title=&quot;convert to junit, or otherwise eliminate version in tests which require an update of the master in the release management process&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3088&quot;&gt;&lt;del&gt;DERBY-3088&lt;/del&gt;&lt;/a&gt;); test conversion). Remaining changes were reverted from 10.4 branch with revision 636369.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12382092">DERBY-3189</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12382570">DERBY-3205</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12364113" name="NetworkServerControlCmds_v1.diff" size="6517" author="narayanan" created="Sun, 19 Aug 2007 22:51:40 +0100"/>
                            <attachment id="12364114" name="NetworkServerControlCmds_v1.stat" size="140" author="narayanan" created="Sun, 19 Aug 2007 22:51:40 +0100"/>
                            <attachment id="12364664" name="NetworkServerControlCmds_v2.diff" size="6844" author="narayanan" created="Tue, 28 Aug 2007 08:06:49 +0100"/>
                            <attachment id="12364665" name="NetworkServerControlCmds_v2.stat" size="140" author="narayanan" created="Tue, 28 Aug 2007 08:06:51 +0100"/>
                            <attachment id="12364785" name="NetworkServerControlCmds_v3.diff" size="8139" author="narayanan" created="Wed, 29 Aug 2007 20:06:57 +0100"/>
                            <attachment id="12364786" name="NetworkServerControlCmds_v3.stat" size="140" author="narayanan" created="Wed, 29 Aug 2007 20:06:57 +0100"/>
                            <attachment id="12364839" name="NetworkServerControlCmds_v4.diff" size="8063" author="narayanan" created="Thu, 30 Aug 2007 14:49:50 +0100"/>
                            <attachment id="12364840" name="NetworkServerControlCmds_v4.stat" size="140" author="narayanan" created="Thu, 30 Aug 2007 14:49:50 +0100"/>
                            <attachment id="12365140" name="NetworkServerControlCmds_v5.diff" size="15417" author="narayanan" created="Wed, 5 Sep 2007 06:30:07 +0100"/>
                            <attachment id="12365141" name="NetworkServerControlCmds_v5.stat" size="495" author="narayanan" created="Wed, 5 Sep 2007 06:30:07 +0100"/>
                            <attachment id="12368504" name="NetworkServerControlCmds_v6.diff" size="34369" author="narayanan" created="Fri, 26 Oct 2007 19:12:39 +0100"/>
                            <attachment id="12368505" name="NetworkServerControlCmds_v6.stat" size="874" author="narayanan" created="Fri, 26 Oct 2007 19:12:39 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 20 Jul 2007 12:50:25 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30670</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0m67:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37410</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>