<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:39:58 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-5377/DERBY-5377.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-5377] AssertionFailedError in testCaseCS4595B_NonUniqueIndex in AccessTest</title>
                <link>https://issues.apache.org/jira/browse/DERBY-5377</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;There was 1 failure:&lt;br/&gt;
1) testCaseCS4595B_NonUniqueIndex(org.apache.derbyTesting.functionTests.tests.store.AccessTest)junit.framework.AssertionFailedError&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.store.AccessTest.assertStatsOK(AccessTest.java:402)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.store.AccessTest.doTestCaseCS4595B(AccessTest.java:1720)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.store.AccessTest.testCaseCS4595B_NonUniqueIndex(AccessTest.java:1830)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:112)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;/p&gt;

&lt;p&gt;Cf. &lt;a href=&quot;http://dbtg.foundry.sun.com/derby/test/Daily/jvm1.5/testing/Limited/testSummary-1154534.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dbtg.foundry.sun.com/derby/test/Daily/jvm1.5/testing/Limited/testSummary-1154534.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment>Vista, Java 1.5, trunk</environment>
        <key id="12518211">DERBY-5377</key>
            <summary>AssertionFailedError in testCaseCS4595B_NonUniqueIndex in AccessTest</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="myrna">Myrna van Lunteren</assignee>
                                    <reporter username="dagw">Dag H. Wanvik</reporter>
                        <labels>
                            <label>derby_triage10_9</label>
                    </labels>
                <created>Mon, 8 Aug 2011 15:44:29 +0100</created>
                <updated>Fri, 15 Nov 2013 08:15:16 +0000</updated>
                            <resolved>Wed, 26 Sep 2012 22:28:32 +0100</resolved>
                                    <version>10.8.3.0</version>
                    <version>10.9.1.0</version>
                                    <fixVersion>10.8.3.0</fixVersion>
                    <fixVersion>10.9.1.0</fixVersion>
                                    <component>Store</component>
                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13080989" author="kristwaa" created="Mon, 8 Aug 2011 16:06:07 +0100"  >&lt;p&gt;Looks similar to &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4540&quot; title=&quot;&amp;#39;AssertionFailedError&amp;#39; in &amp;#39;store.AccessTest.testCS4595B_UniqueIndex(AccessTest.java:1729)&amp;#39; on SUSE Linux / IBM JIT  - r9&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4540&quot;&gt;&lt;del&gt;DERBY-4540&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13179234" author="dagw" created="Wed, 4 Jan 2012 02:13:26 +0000"  >&lt;p&gt;I now saw an AssertionFailedError in testCS4595B_PrimaryKey in the nightlies (also Vista &amp;amp; Java 1.5). May or may not be related:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://dbtg.foundry.sun.com/derby/test/Daily/jvm1.5/testing/testlog/vista/1226472-suitesAll_diff.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dbtg.foundry.sun.com/derby/test/Daily/jvm1.5/testing/testlog/vista/1226472-suitesAll_diff.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Stack trace:&lt;/p&gt;

&lt;p&gt;1) testCS4595B_PrimaryKey(org.apache.derbyTesting.functionTests.tests.store.AccessTest)junit.framework.AssertionFailedError&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.store.AccessTest.assertStatsOK(AccessTest.java:402)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.store.AccessTest.doTestCaseCS4595B(AccessTest.java:1708)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.store.AccessTest.testCS4595B_PrimaryKey(AccessTest.java:1800)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:116)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;/p&gt;</comment>
                            <comment id="13179417" author="knutanders" created="Wed, 4 Jan 2012 11:11:58 +0000"  >&lt;p&gt;There&apos;s not much information about what&apos;s gone wrong in the failure report. The attached patch makes assertStatsOK() report the full statistics output on assert failures, which might make it easier to spot what&apos;s wrong the next time it happens.&lt;/p&gt;

&lt;p&gt;Committed revision 1227121.&lt;/p&gt;</comment>
                            <comment id="13195172" author="mikem" created="Fri, 27 Jan 2012 22:37:28 +0000"  >&lt;p&gt;saw nightly failure in testCS4595B_PrimaryKey  &lt;/p&gt;

&lt;p&gt;Test is expecting 1 page visited and the stat is returning that it visited 2.  &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://people.apache.org/~myrnavl/derby_test_results/v10_8/windows/testlog/ibm142/1236501-suites.All_diff.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://people.apache.org/~myrnavl/derby_test_results/v10_8/windows/testlog/ibm142/1236501-suites.All_diff.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;There was 1 failure:&lt;br/&gt;
1) testCS4595B_PrimaryKey(org.apache.derbyTesting.functionTests.tests.store.AccessTest)junit.framework.AssertionFailedError: RuntimeStatisticsParser.findstring(Number of pages visited= 1) returned falsefull runtime statistics = Statement Name: &lt;br/&gt;
	null&lt;br/&gt;
Statement Text: &lt;br/&gt;
	select * from foo where a = 2&lt;br/&gt;
Parse Time: 0&lt;br/&gt;
Bind Time: 0&lt;br/&gt;
Optimize Time: 0&lt;br/&gt;
Generate Time: 0&lt;br/&gt;
Compile Time: 0&lt;br/&gt;
Execute Time: 0&lt;br/&gt;
Begin Compilation Timestamp : null&lt;br/&gt;
End Compilation Timestamp : null&lt;br/&gt;
Begin Execution Timestamp : null&lt;br/&gt;
End Execution Timestamp : null&lt;br/&gt;
Statement Execution Plan Text: &lt;br/&gt;
Index Row to Base Row ResultSet for FOO:&lt;br/&gt;
Number of opens = 1&lt;br/&gt;
Rows seen = 0&lt;br/&gt;
Columns accessed from heap = &lt;/p&gt;
{1}
&lt;p&gt;	constructor time (milliseconds) = 0&lt;br/&gt;
	open time (milliseconds) = 0&lt;br/&gt;
	next time (milliseconds) = 0&lt;br/&gt;
	close time (milliseconds) = 0&lt;br/&gt;
	optimizer estimated row count: 1.00&lt;br/&gt;
	optimizer estimated cost: 20.96&lt;br/&gt;
	Index Scan ResultSet for FOO using constraint SQL120126233210150 at serializable isolation level using share row locking chosen by the optimizer&lt;br/&gt;
	Number of opens = 1&lt;br/&gt;
	Rows seen = 0&lt;br/&gt;
	Rows filtered = 0&lt;br/&gt;
	Fetch Size = 1&lt;br/&gt;
		constructor time (milliseconds) = 0&lt;br/&gt;
		open time (milliseconds) = 0&lt;br/&gt;
		next time (milliseconds) = 0&lt;br/&gt;
		close time (milliseconds) = 0&lt;/p&gt;

&lt;p&gt;	scan information:&lt;br/&gt;
		Bit set of columns fetched=All&lt;br/&gt;
		Number of columns fetched=2&lt;br/&gt;
		Number of deleted rows visited=0&lt;br/&gt;
		Number of pages visited=2&lt;br/&gt;
		Number of rows qualified=0&lt;br/&gt;
		Number of rows visited=0&lt;br/&gt;
		Scan type=btree&lt;br/&gt;
		Tree height=-1&lt;br/&gt;
		start position:&lt;br/&gt;
			&amp;gt;= on first 1 column(s).&lt;br/&gt;
			Ordered null semantics on the following columns: &lt;br/&gt;
			0 &lt;br/&gt;
		stop position:&lt;br/&gt;
			&amp;gt; on first 1 column(s).&lt;br/&gt;
			Ordered null semantics on the following columns: &lt;br/&gt;
			0 &lt;br/&gt;
		qualifiers:&lt;br/&gt;
			None&lt;br/&gt;
		optimizer estimated row count: 1.00&lt;br/&gt;
		optimizer estimated cost: 20.96&lt;/p&gt;

&lt;p&gt;	at org.apache.derbyTesting.functionTests.tests.store.AccessTest.assertStatsOK(AccessTest.java:404)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.store.AccessTest.doTestCaseCS4595B(AccessTest.java:1715)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.store.AccessTest.testCS4595B_PrimaryKey(AccessTest.java:1807)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java(Compiled Code))&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java(Compiled Code))&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java(Compiled Code))&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java(Compiled Code))&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java(Inlined Compiled Code))&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java(Inlined Compiled Code))&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java(Compiled Code))&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java(Inlined Compiled Code))&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java(Inlined Compiled Code))&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java(Compiled Code))&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java(Inlined Compiled Code))&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java(Inlined Compiled Code))&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java(Compiled Code))&lt;/p&gt;

&lt;p&gt;FAILURES!!!&lt;br/&gt;
Tests run: 11966,  Failures: 1,  Errors: 0&lt;/p&gt;
</comment>
                            <comment id="13195193" author="mikem" created="Fri, 27 Jan 2012 22:51:58 +0000"  >&lt;p&gt;saw nightly failure in testCS4595B_PrimaryKey&lt;/p&gt;

&lt;p&gt;Test is expecting 1 page visited and the stat is returning that it visited 2.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://people.apache.org/~myrnavl/derby_test_results/v10_8/windows/testlog/ibm16/1236501-suites.All_diff.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://people.apache.org/~myrnavl/derby_test_results/v10_8/windows/testlog/ibm16/1236501-suites.All_diff.txt&lt;/a&gt;&lt;br/&gt;
There were 2 failures:&lt;br/&gt;
1) testCS4595B_UniqueIndex(org.apache.derbyTesting.functionTests.tests.store.AccessTest)junit.framework.AssertionFailedError: RuntimeStatisticsParser.findstring(Number of pages visited= 1) returned falsefull runtime statistics = Statement Name: &lt;br/&gt;
	null&lt;br/&gt;
Statement Text: &lt;br/&gt;
	select a from foo where a = 2&lt;br/&gt;
Parse Time: 0&lt;br/&gt;
Bind Time: 0&lt;br/&gt;
Optimize Time: 0&lt;br/&gt;
Generate Time: 0&lt;br/&gt;
Compile Time: 0&lt;br/&gt;
Execute Time: 0&lt;br/&gt;
Begin Compilation Timestamp : null&lt;br/&gt;
End Compilation Timestamp : null&lt;br/&gt;
Begin Execution Timestamp : null&lt;br/&gt;
End Execution Timestamp : null&lt;br/&gt;
Statement Execution Plan Text: &lt;br/&gt;
Index Scan ResultSet for FOO using index FOOX at serializable isolation level using share row locking chosen by the optimizer&lt;br/&gt;
Number of opens = 1&lt;br/&gt;
Rows seen = 0&lt;br/&gt;
Rows filtered = 0&lt;br/&gt;
Fetch Size = 1&lt;br/&gt;
	constructor time (milliseconds) = 0&lt;br/&gt;
	open time (milliseconds) = 0&lt;br/&gt;
	next time (milliseconds) = 0&lt;br/&gt;
	close time (milliseconds) = 0&lt;/p&gt;

&lt;p&gt;scan information:&lt;br/&gt;
	Bit set of columns fetched=&lt;/p&gt;
{0}
&lt;p&gt;	Number of columns fetched=1&lt;br/&gt;
	Number of deleted rows visited=0&lt;br/&gt;
	Number of pages visited=2&lt;br/&gt;
	Number of rows qualified=0&lt;br/&gt;
	Number of rows visited=0&lt;br/&gt;
	Scan type=btree&lt;br/&gt;
	Tree height=-1&lt;br/&gt;
	start position:&lt;br/&gt;
		&amp;gt;= on first 1 column(s).&lt;br/&gt;
		Ordered null semantics on the following columns: &lt;br/&gt;
	stop position:&lt;br/&gt;
		&amp;gt; on first 1 column(s).&lt;br/&gt;
		Ordered null semantics on the following columns: &lt;br/&gt;
	qualifiers:&lt;br/&gt;
		None&lt;br/&gt;
	optimizer estimated row count: 1.00&lt;br/&gt;
	optimizer estimated cost: 1.57&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.store.AccessTest.assertStatsOK(AccessTest.java:404)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.store.AccessTest.doTestCaseCS4595B(AccessTest.java:1727)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.store.AccessTest.testCS4595B_UniqueIndex(AccessTest.java:1775)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:60)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:113)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:18)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:51)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:18)&lt;br/&gt;
2) testCS4595B_UniqueIndex(org.apache.derbyTesting.functionTests.tests.store.AccessTest)junit.framework.AssertionFailedError: RuntimeStatisticsParser.findstring(Number of pages visited= 1) returned falsefull runtime statistics = Statement Name: &lt;br/&gt;
	null&lt;br/&gt;
Statement Text: &lt;br/&gt;
	select * from foo where a = 2&lt;br/&gt;
Parse Time: 0&lt;br/&gt;
Bind Time: 0&lt;br/&gt;
Optimize Time: 0&lt;br/&gt;
Generate Time: 0&lt;br/&gt;
Compile Time: 0&lt;br/&gt;
Execute Time: 0&lt;br/&gt;
Begin Compilation Timestamp : null&lt;br/&gt;
End Compilation Timestamp : null&lt;br/&gt;
Begin Execution Timestamp : null&lt;br/&gt;
End Execution Timestamp : null&lt;br/&gt;
Statement Execution Plan Text: &lt;br/&gt;
Index Row to Base Row ResultSet for FOO:&lt;br/&gt;
Number of opens = 1&lt;br/&gt;
Rows seen = 0&lt;br/&gt;
Columns accessed from heap = &lt;/p&gt;
{1}
&lt;p&gt;	constructor time (milliseconds) = 0&lt;br/&gt;
	open time (milliseconds) = 0&lt;br/&gt;
	next time (milliseconds) = 0&lt;br/&gt;
	close time (milliseconds) = 0&lt;br/&gt;
	optimizer estimated row count: 1.00&lt;br/&gt;
	optimizer estimated cost: 20.96&lt;br/&gt;
	Index Scan ResultSet for FOO using index FOOX at serializable isolation level using share row locking chosen by the optimizer&lt;br/&gt;
	Number of opens = 1&lt;br/&gt;
	Rows seen = 0&lt;br/&gt;
	Rows filtered = 0&lt;br/&gt;
	Fetch Size = 1&lt;br/&gt;
		constructor time (milliseconds) = 0&lt;br/&gt;
		open time (milliseconds) = 0&lt;br/&gt;
		next time (milliseconds) = 0&lt;br/&gt;
		close time (milliseconds) = 0&lt;/p&gt;

&lt;p&gt;	scan information:&lt;br/&gt;
		Bit set of columns fetched=All&lt;br/&gt;
		Number of columns fetched=2&lt;br/&gt;
		Number of deleted rows visited=0&lt;br/&gt;
		Number of pages visited=2&lt;br/&gt;
		Number of rows qualified=0&lt;br/&gt;
		Number of rows visited=0&lt;br/&gt;
		Scan type=btree&lt;br/&gt;
		Tree height=-1&lt;br/&gt;
		start position:&lt;br/&gt;
			&amp;gt;= on first 1 column(s).&lt;br/&gt;
			Ordered null semantics on the following columns: &lt;br/&gt;
		stop position:&lt;br/&gt;
			&amp;gt; on first 1 column(s).&lt;br/&gt;
			Ordered null semantics on the following columns: &lt;br/&gt;
		qualifiers:&lt;br/&gt;
			None&lt;br/&gt;
		optimizer estimated row count: 1.00&lt;br/&gt;
		optimizer estimated cost: 20.96&lt;/p&gt;

&lt;p&gt;	at org.apache.derbyTesting.functionTests.tests.store.AccessTest.assertStatsOK(AccessTest.java:404)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.store.AccessTest.doTestCaseCS4595B(AccessTest.java:1715)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.store.AccessTest.testCS4595B_UniqueIndex(AccessTest.java:1775)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:60)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:113)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:18)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:51)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:18)&lt;/p&gt;

&lt;p&gt;FAILURES!!!&lt;br/&gt;
Tests run: 14054,  Failures: 2,  Errors: 0&lt;/p&gt;</comment>
                            <comment id="13198413" author="kmarsden" created="Thu, 2 Feb 2012 00:53:39 +0000"  >&lt;p&gt;Saw again on 10.8 1/27 10.8.2.3 - (1236967) IBM 1.5&lt;/p&gt;</comment>
                            <comment id="13202934" author="mikem" created="Tue, 7 Feb 2012 23:19:05 +0000"  >&lt;p&gt;seen in 10.8 also.  &lt;/p&gt;</comment>
                            <comment id="13210627" author="mikem" created="Fri, 17 Feb 2012 22:35:35 +0000"  >&lt;p&gt;Triage for 10.9.   Would be nice to get a fix for this as it is causing pretty regular nightly failures in 10.8.  &lt;br/&gt;
I have run test on 10.8 nightly test machine where failures are seen often, and have not been able to reproduce.&lt;br/&gt;
Tried running just the test java file 100 times under load and under no load and no repro.  &lt;/p&gt;</comment>
                            <comment id="13230361" author="kmarsden" created="Thu, 15 Mar 2012 17:52:48 +0000"  >&lt;p&gt;Saw this on 3/14 with both IBM 1.6 and 1.7&lt;br/&gt;
&lt;a href=&quot;http://people.apache.org/~myrnavl/derby_test_results/v10_8/windows/testSummary-1300803.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://people.apache.org/~myrnavl/derby_test_results/v10_8/windows/testSummary-1300803.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;aside from the difficulty reproducing. I wonder is it indeed incorrect that we visit more than one page?&lt;/p&gt;</comment>
                            <comment id="13230463" author="mikem" created="Thu, 15 Mar 2012 19:41:45 +0000"  >&lt;p&gt;I looked at this and don&apos;t understand why the count would be different.  The plan looks right to me, which is the point of the tests - the key problem the tests were written for was to insure indexes were being used rather than scans.  I think this is a very minor bug, if it is a bug at&lt;br/&gt;
all, and would welcome someone to fix the test to ignore these counts and we could leave the bug open if anyone has any ideas on fixing the&lt;br/&gt;
underlying problem.  &lt;/p&gt;

&lt;p&gt;The kind of bug I was looking for given that correct plan was used was more likely a bug in the count of pages visits, maybe&lt;br/&gt;
some caching of this info in the plan statistics rather than actually visiting different number of pages.  Again I was never able to reproduce so&lt;br/&gt;
never was able to debug it.&lt;/p&gt;

&lt;p&gt;These page counts were never meant to be exact to the page, and no application should be counting on them. &lt;/p&gt;</comment>
                            <comment id="13240063" author="myrna" created="Wed, 28 Mar 2012 00:43:11 +0100"  >&lt;p&gt;I&apos;m attaching a possible work around this issue - still assuming there&apos;s not really a bug here.&lt;/p&gt;

&lt;p&gt;I looked through the stack traces in this bug description, and matched the 10.8 lines to the same areas in the trunk test, and just passed in &apos;null&apos; for the expected number of pages; then where we check (assertStatsOK) we&apos;re only checking the pages if the values passed in are not null.&lt;/p&gt;

&lt;p&gt;Is this an OK approach?&lt;br/&gt;
I found 2 queries that have this problem, but Mike mentioned 3, so we may need to adjust and do the same with another query.&lt;/p&gt;
</comment>
                            <comment id="13240706" author="myrna" created="Wed, 28 Mar 2012 21:30:26 +0100"  >&lt;p&gt;I think I have found the other query, I saw the failure in a nightly test output of 3/23:&lt;br/&gt;
&lt;a href=&quot;http://people.apache.org/~myrnavl/derby_test_results/v10_8/windows/testlog/ibm142/1304698-suites.All_diff.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://people.apache.org/~myrnavl/derby_test_results/v10_8/windows/testlog/ibm142/1304698-suites.All_diff.txt&lt;/a&gt;&lt;br/&gt;
-&lt;del&gt;The stack:&lt;/del&gt;---&lt;br/&gt;
at org.apache.derbyTesting.functionTests.tests.store.AccessTest.assertStatsOK(AccessTest.java:404)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.store.AccessTest.doTestCaseCS4595B(AccessTest.java:1727)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.store.AccessTest.testCaseCS4595B_NonUniqueIndex(AccessTest.java:1837)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;...etc...&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;So I&apos;m attaching a modified patch where I&apos;m doing the same trick as with the other two queries.&lt;/p&gt;

&lt;p&gt;I intend to commit this shortly and backport to 10.8.&lt;/p&gt;</comment>
                            <comment id="13240754" author="mikem" created="Wed, 28 Mar 2012 22:38:54 +0100"  >&lt;p&gt;+1 &lt;br/&gt;
patch looks good to me, and will make understanding nightly results much easier.  Once this change is in I would leave bug open but lower priority.&lt;/p&gt;</comment>
                            <comment id="13240780" author="myrna" created="Wed, 28 Mar 2012 23:11:32 +0100"  >&lt;p&gt;Thanks for the review Mike. I had already started committing. I committed the main change with revision 1306596, then noticed I missed actually passing in the null and fixed that with revision 1306600. Backported both to 10.8 with revision 1306620.&lt;br/&gt;
I&apos;ll monitor the results on the 10.8 windows testing machine where this issue popped up most frequently and report back.&lt;/p&gt;

</comment>
                            <comment id="13245830" author="myrna" created="Tue, 3 Apr 2012 23:27:11 +0100"  >&lt;p&gt;I have not seen the test fail since I put in the code to not look at the difference.&lt;br/&gt;
Now we won&apos;t be confronted with the test failing anymore.&lt;/p&gt;

&lt;p&gt;The question as to why sometimes we see 1 and sometimes 2 pages visited remains, but as the end result is the same, and the performance difference is limited, I&apos;ve lowered the urgency.&lt;/p&gt;</comment>
                            <comment id="13464179" author="myrna" created="Wed, 26 Sep 2012 22:28:32 +0100"  >&lt;p&gt;Marking resolved, as the bug describes a problem with the test, and that part is fixed.&lt;/p&gt;

&lt;p&gt;The reason why sometimes 2 pages get visited is still unclear, but looks like that isn&apos;t a problem since the end result is correct - and that was the purpose of the test case.&lt;/p&gt;</comment>
                            <comment id="13823445" author="knutanders" created="Fri, 15 Nov 2013 08:15:16 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;bulk update: close all resolved issues that haven&amp;#39;t had any activity the last year&amp;#93;&lt;/span&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12455608">DERBY-4540</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12520214" name="DERBY-5377_try1.diff" size="2349" author="myrna" created="Wed, 28 Mar 2012 00:43:11 +0100"/>
                            <attachment id="12520310" name="DERBY-5377_try2.diff" size="2949" author="myrna" created="Wed, 28 Mar 2012 21:30:25 +0100"/>
                            <attachment id="12509397" name="d5377-dump-stats.diff" size="2292" author="knutanders" created="Wed, 4 Jan 2012 11:11:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10369"><![CDATA[Regression Test Failure]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 8 Aug 2011 15:06:07 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>24806</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10422"><![CDATA[High Value Fix]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy09fb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35345</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310050" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Urgency</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10052"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>