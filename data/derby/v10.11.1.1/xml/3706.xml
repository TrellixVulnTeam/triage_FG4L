<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:45:40 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-3706/DERBY-3706.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-3706] NetworkServer console messages should print a time stamp</title>
                <link>https://issues.apache.org/jira/browse/DERBY-3706</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Network Server console messages should print a time stamp.  Methods that need to be changed are&lt;br/&gt;
NetworkServerControlImpl., consoleMessage, onsolePropertyMessage and consoleExceptionPrintTrace&lt;/p&gt;</description>
                <environment></environment>
        <key id="12397427">DERBY-3706</key>
            <summary>NetworkServer console messages should print a time stamp</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="suranjay">Suran Jayathilaka</assignee>
                                    <reporter username="kmarsden">Kathey Marsden</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Jun 2008 22:35:37 +0100</created>
                <updated>Tue, 30 Jun 2009 17:06:52 +0100</updated>
                            <resolved>Tue, 12 Aug 2008 22:04:27 +0100</resolved>
                                    <version>10.3.3.1</version>
                    <version>10.4.2.0</version>
                    <version>10.5.1.1</version>
                                    <fixVersion>10.5.1.1</fixVersion>
                                    <component>Network Server</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12605890" author="suranjay" created="Wed, 18 Jun 2008 09:52:41 +0100"  >&lt;p&gt;consoleMessage() will now append &quot; : &amp;lt;timestamp&amp;gt;&quot; to every message. &lt;br/&gt;
Removed getFormattedTimeStamp() calls from other places.&lt;br/&gt;
Edited messages_en.properties to remove timestamp placeholder.&lt;/p&gt;

&lt;p&gt;Did not edit message properties files for other languages. Is that acceptable?&lt;/p&gt;</comment>
                            <comment id="12606836" author="suranjay" created="Fri, 20 Jun 2008 18:29:27 +0100"  >&lt;p&gt;Attaching a remade diff (derby-3706-2.diff) because previous one had an issue when applying.&lt;/p&gt;</comment>
                            <comment id="12606839" author="kmarsden" created="Fri, 20 Jun 2008 18:41:50 +0100"  >&lt;p&gt;Thanks Suran for the patch. There are some whitespace only diffs in NetworkServerControlImpl, otherwise it looks fine.   Please fix those  up and attach another patch and I will commit.  &lt;/p&gt;

&lt;p&gt;This comment is late in the game so I don&apos;t think you have to change it unless you want to, but it might look better and match the current derby.log format better  to have &amp;lt;timestamp&amp;gt;: &amp;lt;message&amp;gt; instead of &amp;lt;message&amp;gt;: &amp;lt;timestamp&amp;gt;.  Again no need to change unless you are feeling ambitious.&lt;/p&gt;

</comment>
                            <comment id="12607025" author="suranjay" created="Sat, 21 Jun 2008 19:44:17 +0100"  >&lt;p&gt;derby-3706-3.diff&lt;/p&gt;

&lt;p&gt;Reverted white space diffs. In the previous patch, I removed those extra newlines because I thought it would be good to make the code more style compliant. &lt;br/&gt;
Changed timestamp display order to&lt;br/&gt;
&amp;lt;timestamp&amp;gt; : &amp;lt;message&amp;gt;&lt;/p&gt;

&lt;p&gt;Removed the &quot; at &quot; from the end of startup and shutdown messages.&lt;/p&gt;</comment>
                            <comment id="12607027" author="bryanpendleton" created="Sat, 21 Jun 2008 19:56:04 +0100"  >&lt;p&gt;derby-3706-3.diff is a nice clean diff, thank you very much for the attention to detail!&lt;/p&gt;

&lt;p&gt;What risks do we run by not changing the message files for the other locales?&lt;/p&gt;</comment>
                            <comment id="12607041" author="suranjay" created="Sat, 21 Jun 2008 22:37:44 +0100"  >&lt;p&gt;All console  messages will have the timestamp at the beginning. The problem would arise when the other language messages say something like &quot; at &amp;lt;timestamp&amp;gt;&quot;. Since the placeholder for timestamp will not receive a valuefrom the code, it will be empty and the message might seem weird. &lt;br/&gt;
I did try to fix other language messages as well, but decided not to, since my unfamiliarity with those languages might mean that I mess up the message even worse than just having a  weird &quot; at  &quot;.&lt;/p&gt;</comment>
                            <comment id="12607349" author="kmarsden" created="Mon, 23 Jun 2008 20:05:39 +0100"  >&lt;p&gt;Bryan, what do you think. Should we go ahead with this patch.  I think it is ok to change it on trunk and let the other languages catch up. Hopefully we will get localized messages for the release.&lt;/p&gt;</comment>
                            <comment id="12607350" author="bryanpendleton" created="Mon, 23 Jun 2008 20:11:50 +0100"  >&lt;p&gt;Yes, definitely we should proceed. I think the patch is solid and clean, and&lt;br/&gt;
as you say the localized messages can be addressed subsequently.&lt;/p&gt;</comment>
                            <comment id="12607395" author="kmarsden" created="Mon, 23 Jun 2008 23:01:46 +0100"  >&lt;p&gt;I didn&apos;t run all the tests but saw 7 failures in derbynetclientmats.  Please run the tests and update the masters if necessary.&lt;/p&gt;

&lt;p&gt;one thing I noticed that looks kind of strange is the usage message.  We now get a timestamp before each line, which doesn&apos;t look quite right.  Maybe we should have an exception for this case.&lt;/p&gt;


&lt;p&gt;kmarsden@kmarsden-ln2:~/test&amp;gt; java org.apache.derby.drda.NetworkServerControl&lt;br/&gt;
2008-06-24 01:14:11.209 GMT : No command given.&lt;br/&gt;
2008-06-24 01:14:11.211 GMT : Usage: NetworkServerControl &amp;lt;commands&amp;gt;&lt;br/&gt;
2008-06-24 01:14:11.212 GMT : Commands:&lt;br/&gt;
2008-06-24 01:14:11.212 GMT : start &lt;span class=&quot;error&quot;&gt;&amp;#91;-h &amp;lt;host&amp;gt;&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;-p &amp;lt;portnumber&amp;gt;&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;-noSecurityManager&amp;#93;&lt;/span&gt; [-ssl &amp;lt;sslmo&lt;br/&gt;
2008-06-24 01:14:11.212 GMT : shutdown &lt;span class=&quot;error&quot;&gt;&amp;#91;-h &amp;lt;host&amp;gt;&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;-p &amp;lt;portnumber&amp;gt;&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;-ssl &amp;lt;sslmode&amp;gt;&amp;#93;&lt;/span&gt; [-user &amp;lt;userna&lt;br/&gt;
word&amp;gt;]&lt;br/&gt;
2008-06-24 01:14:11.212 GMT : ping &lt;span class=&quot;error&quot;&gt;&amp;#91;-h &amp;lt;host&amp;gt;&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;-p &amp;lt;portnumber&amp;gt;&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;-ssl &amp;lt;sslmode&amp;gt;&amp;#93;&lt;/span&gt;&lt;br/&gt;
2008-06-24 01:14:11.212 GMT : sysinfo &lt;span class=&quot;error&quot;&gt;&amp;#91;-h &amp;lt;host&amp;gt;&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;-p &amp;lt;portnumber&amp;gt;&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;-ssl &amp;lt;sslmode&amp;gt;&amp;#93;&lt;/span&gt;&lt;br/&gt;
2008-06-24 01:14:11.212 GMT : runtimeinfo &lt;span class=&quot;error&quot;&gt;&amp;#91;-h &amp;lt;host&amp;gt;&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;-p &amp;lt;portnumber&amp;gt;&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;-ssl &amp;lt;sslmode&amp;gt;&amp;#93;&lt;/span&gt;&lt;br/&gt;
2008-06-24 01:14:11.213 GMT : logconnections &lt;/p&gt;
{on|off}&lt;span class=&quot;error&quot;&gt;&amp;#91;-h &amp;lt;host&amp;gt;&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;-p &amp;lt;portnumber&amp;gt;&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;-ssl &amp;lt;sslmode&amp;gt;&amp;#93;&lt;/span&gt;&lt;br/&gt;
2008-06-24 01:14:11.213 GMT : maxthreads &amp;lt;max&amp;gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;-h &amp;lt;host&amp;gt;&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;-p &amp;lt;portnumber&amp;gt;&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;-ssl &amp;lt;sslmode&amp;gt;&amp;#93;&lt;/span&gt;&lt;br/&gt;
2008-06-24 01:14:11.213 GMT : timeslice &amp;lt;milliseconds&amp;gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;-h &amp;lt;host&amp;gt;&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;-p &amp;lt;portnumber&amp;gt;&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;-ssl &amp;lt;sslmode&amp;gt;&amp;#93;&lt;/span&gt;&lt;br/&gt;
2008-06-24 01:14:11.213 GMT : trace {on|off}
&lt;p&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;-s &amp;lt;session id&amp;gt;&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;-h &amp;lt;host&amp;gt;&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;-p &amp;lt;portnumber&amp;gt;&amp;#93;&lt;/span&gt; [-ssl &amp;lt;s&lt;br/&gt;
2008-06-24 01:14:11.214 GMT : tracedirectory &amp;lt;traceDirectory&amp;gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;-h &amp;lt;host&amp;gt;&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;-p &amp;lt;portnumber&amp;gt;&amp;#93;&lt;/span&gt; [-ssl &amp;lt;ss&lt;/p&gt;

</comment>
                            <comment id="12607526" author="johnemb" created="Tue, 24 Jun 2008 10:17:49 +0100"  >&lt;p&gt;Kathey wrote:&lt;br/&gt;
&amp;gt; We now get a timestamp before each line, which doesn&apos;t look quite right. Maybe we should have an exception for this case. &lt;/p&gt;

&lt;p&gt;Absolutely, +1.&lt;/p&gt;</comment>
                            <comment id="12610020" author="suranjay" created="Wed, 2 Jul 2008 20:36:16 +0100"  >&lt;p&gt;Added an extra boolean argument named &apos;printTimeStamp&apos; to the following methods, so now they are&lt;br/&gt;
consolePropertyMessage(String, boolean)&lt;br/&gt;
consolePropertyMessageWork(string, string[], boolean)&lt;br/&gt;
consoleMessage(string, boolean).&lt;br/&gt;
This was added in order to provide a mechanism for message that do not want a timestamp to be prepended to say so. Is this approach acceptable?&lt;/p&gt;

&lt;p&gt;Changed master files&lt;br/&gt;
maxthreads.out&lt;br/&gt;
timeslice.out&lt;/p&gt;

&lt;p&gt;Ran tests.&lt;/p&gt;</comment>
                            <comment id="12610025" author="kristwaa" created="Wed, 2 Jul 2008 20:55:58 +0100"  >&lt;p&gt;I think the approach is acceptable.&lt;br/&gt;
To minimize changes you could consider to let the methods without the boolean argument forward to the new methods and only use the new ones where required, i.e:&lt;br/&gt;
public void consolePropertyMessage(String str) &lt;/p&gt;
{
    consolePropertyMessage(str, true);
}

&lt;p&gt;public void consolePropertyMessage(String str, boolean printTimeStamp) &lt;/p&gt;
{
    // The implementation goes here.
}

&lt;p&gt;I leave it up to you to decide, or give others in the community a chance to chime in.&lt;br/&gt;
It&apos;s just two different ways of doing things.&lt;/p&gt;</comment>
                            <comment id="12610319" author="kmarsden" created="Thu, 3 Jul 2008 20:03:55 +0100"  >&lt;p&gt;The patch looks fine to me.  I think it is ok to just have the method that takes a boolean parameter. If nobody has objections,  I&apos;ll run tests and commit.&lt;/p&gt;</comment>
                            <comment id="12610675" author="kmarsden" created="Sat, 5 Jul 2008 04:27:08 +0100"  >&lt;p&gt;I just see one failure with this patch.&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;Start: derbyrunjartest jdk1.5.0 derbyall:derbytools 2008-07-04 13:23:59 ***&lt;br/&gt;
29 del&lt;br/&gt;
&amp;lt; No command given.&lt;br/&gt;
29a29&lt;br/&gt;
&amp;gt; xxxxxxFILTERED-TIMESTAMPxxxxxGMT : No command given.&lt;br/&gt;
Test Failed.&lt;/li&gt;
			&lt;li&gt;End:   derbyrunjartest jdk1.5.0 derbyall:derbytools 2008-07-04 13:24:06 ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12610814" author="suranjay" created="Sun, 6 Jul 2008 14:33:40 +0100"  >&lt;p&gt;Sorry about missing that one.&lt;br/&gt;
This patch (derby-3706-5.diff)  takes care of that derbyrunjartest test failure.&lt;br/&gt;
Thanks.&lt;/p&gt;</comment>
                            <comment id="12621976" author="kmarsden" created="Tue, 12 Aug 2008 22:04:27 +0100"  >&lt;p&gt;This patch was committed with revision 674354&lt;/p&gt;</comment>
                            <comment id="12701909" author="olesolberg" created="Thu, 23 Apr 2009 13:03:58 +0100"  >&lt;p&gt;One of our release tests (SunCTS) failed to start because a setup script was expecting &quot;.NetworkServerControl ping&quot; to return something like&lt;br/&gt;
&quot;Connection obtained for host: .....&quot;  but with 10.5.1.1 it got &lt;br/&gt;
&quot;2009-04-23 11:13:48.285 GMT : Connection obtained for host: .....&quot;&lt;/p&gt;

&lt;p&gt;Is a release note required?&lt;/p&gt;</comment>
                            <comment id="12702099" author="kmarsden" created="Thu, 23 Apr 2009 21:49:29 +0100"  >&lt;p&gt;Typically we don&apos;t make release notes for message text changes.  I would think it would be most common for scripts to check the exit code value from ping which returns a non-zero value for a failed ping.   I think it would be fine though to add a releaseNote to this issue if you think others may hit the same problem, but I wouldn&apos;t hold up the release for it.&lt;/p&gt;


</comment>
                    </comments>
                    <attachments>
                            <attachment id="12384396" name="derby-3706-2.diff" size="5108" author="suranjay" created="Fri, 20 Jun 2008 18:29:27 +0100"/>
                            <attachment id="12384439" name="derby-3706-3.diff" size="3750" author="suranjay" created="Sat, 21 Jun 2008 19:44:17 +0100"/>
                            <attachment id="12385139" name="derby-3706-4.diff" size="15751" author="suranjay" created="Wed, 2 Jul 2008 20:36:16 +0100"/>
                            <attachment id="12385347" name="derby-3706-5.diff" size="16401" author="suranjay" created="Sun, 6 Jul 2008 14:33:36 +0100"/>
                            <attachment id="12384202" name="derby-3706.diff" size="10496" author="suranjay" created="Wed, 18 Jun 2008 09:52:41 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 18 Jun 2008 08:52:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30962</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10423"><![CDATA[Newcomer]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0uiv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38763</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>