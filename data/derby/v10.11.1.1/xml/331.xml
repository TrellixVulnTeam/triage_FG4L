<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:44:40 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-331/DERBY-331.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-331] create table fails when a constraint defintion follows a column default</title>
                <link>https://issues.apache.org/jira/browse/DERBY-331</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;The following statement fails with syntax error.&lt;/p&gt;

&lt;p&gt;ij&amp;gt; create table t (a int not null, b int default 0, unique (a));&lt;br/&gt;
ERROR 42X01: Syntax error: Encountered &quot;0&quot; at line 1, column 47.&lt;/p&gt;

&lt;p&gt;And it will work if I remove either default 0 or unique(a).&lt;/p&gt;</description>
                <environment>Windows XP</environment>
        <key id="33006">DERBY-331</key>
            <summary>create table fails when a constraint defintion follows a column default</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dagw">Dag H. Wanvik</assignee>
                                    <reporter username="ginng">Gin Ng</reporter>
                        <labels>
                    </labels>
                <created>Wed, 1 Jun 2005 05:02:05 +0100</created>
                <updated>Sat, 10 Jun 2006 22:01:33 +0100</updated>
                            <resolved>Sat, 10 Jun 2006 22:01:33 +0100</resolved>
                                    <version>10.0.2.1</version>
                                    <fixVersion>10.1.3.1</fixVersion>
                    <fixVersion>10.2.1.6</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12312960" author="bandaram" created="Wed, 8 Jun 2005 08:58:26 +0100"  >&lt;p&gt;That doesn&apos;t seem to be the correct syntax. Derby supports column level constraints, in the format:&lt;/p&gt;

&lt;p&gt;ij&amp;gt; create table t ( a int not null unique, b int default 0);&lt;br/&gt;
0 rows inserted/updated/deleted&lt;/p&gt;

&lt;p&gt;Or table level constraints, like:&lt;/p&gt;

&lt;p&gt;ij&amp;gt; create table t (a int not null, b int default 0, constraint tk unique (a));&lt;br/&gt;
0 rows inserted/updated/deleted&lt;/p&gt;

&lt;p&gt;See documentation at:&lt;br/&gt;
&lt;a href=&quot;http://incubator.apache.org/derby/docs/ref/rrefsqlj13590.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://incubator.apache.org/derby/docs/ref/rrefsqlj13590.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12313045" author="ginng" created="Thu, 9 Jun 2005 00:25:27 +0100"  >&lt;p&gt;The constraint name is optional.  See &lt;a href=&quot;http://incubator.apache.org/derby/docs/ref/rrefsqlj16095.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://incubator.apache.org/derby/docs/ref/rrefsqlj16095.html&lt;/a&gt;.&lt;br/&gt;
And my example is in the same form of the second example in the document above except the default value.&lt;/p&gt;

&lt;p&gt;&amp;#8211; the table-level primary key definition allows you to&lt;br/&gt;
&amp;#8211; include two columns in the primary key definition:&lt;br/&gt;
CREATE TABLE SAMP.SCHED &lt;br/&gt;
	(&lt;br/&gt;
	CLASS_CODE CHAR(7) NOT NULL, &lt;br/&gt;
	DAY SMALLINT NOT NULL, &lt;br/&gt;
	STARTING TIME, &lt;br/&gt;
	ENDING TIME,&lt;br/&gt;
	PRIMARY KEY (CLASS_CODE, DAY)&lt;br/&gt;
	);&lt;/p&gt;</comment>
                            <comment id="12313297" author="dagw" created="Sat, 11 Jun 2005 01:10:42 +0100"  >&lt;p&gt;This seems to be a look-ahead problem in the parser. I think I have a patch for it, just need to run all tests.&lt;/p&gt;</comment>
                            <comment id="12313319" author="dagw" created="Sat, 11 Jun 2005 04:43:08 +0100"  >&lt;p&gt;This patch fixes a look-ahead problem in the parser: In the method DB2DefaultOption, &lt;br/&gt;
the look-ahead for  miscBuiltins is too liberal: it mistakenly thinks it has found a&lt;br/&gt;
builtin in this case. I made the look-ahead more specific by adding a check against comma.&lt;br/&gt;
 I have extended the test lang/columnDefaults.sql with this case.&lt;br/&gt;
I have run derbyall with no errors.&lt;/p&gt;</comment>
                            <comment id="12314062" author="dagw" created="Tue, 21 Jun 2005 02:08:41 +0100"  >&lt;p&gt;Updated this patch which additional comments, according to Mamta&apos;s suggestion.&lt;br/&gt;
Ran the test lang/columnDefaults.sql again to verify.&lt;/p&gt;
</comment>
                            <comment id="12315325" author="djd" created="Sat, 9 Jul 2005 02:55:23 +0100"  >&lt;p&gt;Committed revision 209842 (331b.diff)&lt;br/&gt;
Sorry for missing this one, noticed it the other day when looking at the release notes, but didn&apos;t get back to it.&lt;/p&gt;</comment>
                            <comment id="12415337" author="mayureshnirhali" created="Thu, 8 Jun 2006 20:26:45 +0100"  >&lt;p&gt;This bug is 10.1 branch porting candidate for 10.1.3 release.&lt;/p&gt;

&lt;p&gt;I merged the changes (209842) into my fresh 10.1 branch child. The changes applied cleanly.&lt;br/&gt;
I rebuilt the workspace and ran the corresponding test, lang,columnDefaults.sql. The test passed.&lt;br/&gt;
derbyall also did not show any relevant failures.&lt;/p&gt;

&lt;p&gt;I think the already attached patch can be directly merg/committed to 10.1 branch.&lt;/p&gt;</comment>
                            <comment id="12415660" author="knutanders" created="Sat, 10 Jun 2006 18:38:26 +0100"  >&lt;p&gt;This issue is marked as fixed in 10.1.3.0, but it is not. Reopening to merge to the 10.1 branch.&lt;/p&gt;</comment>
                            <comment id="12415670" author="knutanders" created="Sat, 10 Jun 2006 22:01:33 +0100"  >&lt;p&gt;Committed into 10.1 with revision 413299.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12310869" name="331b.diff" size="2801" author="dagw" created="Tue, 21 Jun 2005 02:08:41 +0100"/>
                            <attachment id="12310868" name="331b.stat" size="239" author="dagw" created="Tue, 21 Jun 2005 02:08:41 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 8 Jun 2005 07:58:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>21903</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy166n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40652</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>