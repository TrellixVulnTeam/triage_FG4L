<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:15:23 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-5519/DERBY-5519.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-5519] Update code in JVMInfo#derbyVMLevel to give correct results for Java 7 and provisionally for 8.</title>
                <link>https://issues.apache.org/jira/browse/DERBY-5519</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;The method derbyVMLevel gives correct result only up to and including Java 6, cf. this snippet:&lt;/p&gt;

&lt;p&gt;public static String derbyVMLevel()&lt;br/&gt;
{&lt;br/&gt;
    switch (JDK_ID)&lt;/p&gt;
    {
    case J2SE_14: return J2ME ? &quot;J2ME - JDBC for CDC/FP 1.1&quot; : &quot;J2SE 1.4 - JDBC 3.0&quot;;
    case J2SE_142: return &quot;J2SE 1.4.2 - JDBC 3.0&quot;;
    case J2SE_15: return &quot;J2SE 5.0 - JDBC 3.0&quot;;
    case J2SE_16: return &quot;Java SE 6 - JDBC 4.0&quot;;
    default: return &quot;?-?&quot;;
    }
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;This is exposed through our MBean implementation in org.apache.derby.jdbc.JDBC#getDriverLevel&lt;/p&gt;</description>
                <environment></environment>
        <key id="12533702">DERBY-5519</key>
            <summary>Update code in JVMInfo#derbyVMLevel to give correct results for Java 7 and provisionally for 8.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dagw">Dag H. Wanvik</assignee>
                                    <reporter username="dagw">Dag H. Wanvik</reporter>
                        <labels>
                            <label>derby_backport_reject_10_8</label>
                            <label>newbie</label>
                    </labels>
                <created>Fri, 2 Dec 2011 23:29:32 +0000</created>
                <updated>Fri, 15 Nov 2013 08:15:12 +0000</updated>
                            <resolved>Wed, 7 Dec 2011 01:24:03 +0000</resolved>
                                                    <fixVersion>10.9.1.0</fixVersion>
                                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13162866" author="dagw" created="Mon, 5 Dec 2011 16:30:44 +0000"  >&lt;p&gt;Another thing is, what JDBC level should be reported above? It seems we should return JDBC 4.1, at least with Java 6 and 7.&lt;/p&gt;</comment>
                            <comment id="13162888" author="dagw" created="Mon, 5 Dec 2011 17:30:25 +0000"  >&lt;p&gt;Attaching a patch for this issue. It returns JDBC 4.1 for both Java 6 and Java 7, as does database metadata.&lt;/p&gt;

&lt;p&gt;The test that would test derbyVMLevel, has a bug, cf &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-5521&quot; title=&quot;JDBCMBeanTest#testAttributeDriverLevel uses Java assert in lieu of JUnit assert: no real testing happens&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-5521&quot;&gt;&lt;del&gt;DERBY-5521&lt;/del&gt;&lt;/a&gt;, for which I upload a separate patch. Please review these two in conjunction.&lt;/p&gt;</comment>
                            <comment id="13163124" author="knutanders" created="Mon, 5 Dec 2011 22:44:38 +0000"  >&lt;p&gt;It sounds reasonable to return the same JDBC version as DatabaseMetaData does. +1 to commit.&lt;/p&gt;</comment>
                            <comment id="13164035" author="dagw" created="Wed, 7 Dec 2011 01:23:00 +0000"  >&lt;p&gt;Committed as svn 1211257.&lt;/p&gt;</comment>
                            <comment id="13229327" author="kmarsden" created="Wed, 14 Mar 2012 16:41:18 +0000"  >&lt;p&gt;I was looking at backporting this to 10.8, but maybe 10.8 is correct.  I seem to recall a discussion tha&lt;br/&gt;
t 10.8 should not report JDBC 4.1 yet.  Currently in 10.8 we have 	case J2SE_17: return &quot;Java SE 7 - JDBC 4.0&quot;;&lt;br/&gt;
Is that right?&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;

&lt;p&gt;Kathey&lt;/p&gt;
</comment>
                            <comment id="13229446" author="rhillegas" created="Wed, 14 Mar 2012 18:06:39 +0000"  >&lt;p&gt;Hi Kathey,&lt;/p&gt;

&lt;p&gt;The current 10.8 behavior looks correct to me. There was a little more work needed in order to make Derby fully support JDBC 4.1. That work was done on the trunk under &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-5488&quot; title=&quot;Add remaining JDBC 4.1 bits which did not appear in the Java 7 javadoc.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-5488&quot;&gt;&lt;del&gt;DERBY-5488&lt;/del&gt;&lt;/a&gt;. I would not change the 10.8 J2SE_17 case unless the work on &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-5488&quot; title=&quot;Add remaining JDBC 4.1 bits which did not appear in the Java 7 javadoc.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-5488&quot;&gt;&lt;del&gt;DERBY-5488&lt;/del&gt;&lt;/a&gt; is backported to 10.8 also. Thanks.&lt;/p&gt;</comment>
                            <comment id="13823419" author="knutanders" created="Fri, 15 Nov 2013 08:15:12 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;bulk update: close all resolved issues that haven&amp;#39;t had any activity the last year&amp;#93;&lt;/span&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12533900">DERBY-5521</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12506127" name="derby-5519.diff" size="888" author="dagw" created="Mon, 5 Dec 2011 17:30:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10367"><![CDATA[Deviation from standard]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 5 Dec 2011 22:44:38 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>219429</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10426"><![CDATA[Known fix]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0a5j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35463</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>