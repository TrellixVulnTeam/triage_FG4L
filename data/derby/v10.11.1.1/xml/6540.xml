<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:55:03 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-6540/DERBY-6540.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-6540] Schema-qualified table names could be mistaken for transition tables</title>
                <link>https://issues.apache.org/jira/browse/DERBY-6540</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;ij version 10.11&lt;br/&gt;
ij&amp;gt; connect &apos;jdbc:derby:memory:db;create=true&apos;;&lt;br/&gt;
ij&amp;gt; create table new(x int);&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; create table t(y int);&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; create trigger tr1 after insert on t referencing new table as new select x from app.new;&lt;br/&gt;
ERROR 42X04: Column &apos;X&apos; is either not in any table in the FROM list or appears within a join specification and is outside the scope of the join specification or appears in a HAVING clause and is not in the GROUP BY list. If this is a CREATE or ALTER TABLE  statement then &apos;X&apos; is not a column in the target table.&lt;/p&gt;

&lt;p&gt;The error message here is wrong. Column X does exist in APP.NEW, so the CREATE TRIGGER statement should have succeeded.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12707395">DERBY-6540</key>
            <summary>Schema-qualified table names could be mistaken for transition tables</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="knutanders">Knut Anders Hatlen</assignee>
                                    <reporter username="knutanders">Knut Anders Hatlen</reporter>
                        <labels>
                            <label>derby_backport_reject_10_10</label>
                    </labels>
                <created>Wed, 9 Apr 2014 10:45:57 +0100</created>
                <updated>Wed, 15 Oct 2014 03:51:30 +0100</updated>
                            <resolved>Tue, 14 Oct 2014 22:52:22 +0100</resolved>
                                    <version>10.11.1.1</version>
                                    <fixVersion>10.11.1.1</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13964083" author="knutanders" created="Wed, 9 Apr 2014 13:31:04 +0100"  >&lt;p&gt;The attached patch (d6540-1a.diff) fixes the bug by checking if the TableName node has a schema before determining if it refers to a transition table or transition variable. Since transition tables/variables cannot have schema name, it cannot be one if it has a schema. The patch also adds a regression test case.&lt;/p&gt;

&lt;p&gt;All the regression tests ran cleanly with the patch.&lt;/p&gt;</comment>
                            <comment id="13965055" author="jira-bot" created="Thu, 10 Apr 2014 07:26:49 +0100"  >&lt;p&gt;Commit 1586226 from kahatlen@apache.org in branch &apos;code/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1586226&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1586226&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6540&quot; title=&quot;Schema-qualified table names could be mistaken for transition tables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6540&quot;&gt;&lt;del&gt;DERBY-6540&lt;/del&gt;&lt;/a&gt;: Schema-qualified table names could be mistaken for transition tables&lt;/p&gt;

&lt;p&gt;Don&apos;t treat schema-qualified table names as transition tables, as&lt;br/&gt;
transition table names are always unqualified.&lt;/p&gt;</comment>
                            <comment id="14171513" author="myrna" created="Tue, 14 Oct 2014 21:59:14 +0100"  >&lt;p&gt;reopening to evaluate backport to 10.10&lt;/p&gt;</comment>
                            <comment id="14171592" author="myrna" created="Tue, 14 Oct 2014 22:51:37 +0100"  >&lt;p&gt;With 10.10, the repro script gives a different warning:&lt;br/&gt;
ij version 10.10&lt;br/&gt;
ij&amp;gt; connect &apos;jdbc:derby:memory:db;create=true&apos;;&lt;br/&gt;
ij&amp;gt; create table new(x int);&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; create table t(y int);&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; create trigger tr1 after insert on t referencing new table as new select x from app.new;&lt;br/&gt;
ERROR 42X01: Syntax error: Encountered &quot;.&quot; at line 1, column 26.&lt;br/&gt;
Issue the &apos;help&apos; command for general information on IJ command syntax.&lt;br/&gt;
Any unrecognized commands are treated as potential SQL commands and executed directly.&lt;br/&gt;
Consult your DBMS server reference documentation for details of the SQL syntax supported by your server.&lt;/p&gt;

&lt;p&gt;This error remains even after backporting the fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6540&quot; title=&quot;Schema-qualified table names could be mistaken for transition tables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6540&quot;&gt;&lt;del&gt;DERBY-6540&lt;/del&gt;&lt;/a&gt;, in other words, there is another bug, or lack of functionality, so &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6540&quot; title=&quot;Schema-qualified table names could be mistaken for transition tables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6540&quot;&gt;&lt;del&gt;DERBY-6540&lt;/del&gt;&lt;/a&gt; doesn&apos;t even exhibit.&lt;br/&gt;
Note by the way that the number in the Syntax error is apparently starting with the &apos;as&apos; clause.&lt;br/&gt;
I&apos;ll mark this as backport reject for 10.10.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12639387" name="d6540-1a.diff" size="9750" author="knutanders" created="Wed, 9 Apr 2014 13:31:04 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 10 Apr 2014 06:26:49 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>385718</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzoaw7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>385982</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>