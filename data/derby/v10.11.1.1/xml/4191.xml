<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:18:56 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-4191/DERBY-4191.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-4191] Lack of SELECT privilege does not prevent SELECT COUNT(*)</title>
                <link>https://issues.apache.org/jira/browse/DERBY-4191</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;A user that does not have SELECT privilege on a table can still perform a SELECT COUNT&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; on that table. Counting a specific column (e.g., SELECT COUNT(X)) is prevented.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12423890">DERBY-4191</key>
            <summary>Lack of SELECT privilege does not prevent SELECT COUNT(*)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mamtas">Mamta A. Satoor</assignee>
                                    <reporter username="knutanders">Knut Anders Hatlen</reporter>
                        <labels>
                    </labels>
                <created>Mon, 27 Apr 2009 15:09:34 +0100</created>
                <updated>Fri, 8 Nov 2013 13:35:06 +0000</updated>
                            <resolved>Tue, 6 Jul 2010 16:15:18 +0100</resolved>
                                    <version>10.4.2.0</version>
                    <version>10.5.1.1</version>
                                    <fixVersion>10.3.3.1</fixVersion>
                    <fixVersion>10.4.2.1</fixVersion>
                    <fixVersion>10.5.3.1</fixVersion>
                    <fixVersion>10.6.1.0</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12703136" author="knutanders" created="Mon, 27 Apr 2009 15:11:55 +0100"  >&lt;p&gt;Attached is a repro script showing that count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; is disallowed and count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; is allowed for a non-privileged user.&lt;/p&gt;

&lt;p&gt;$ java -Dderby.database.sqlAuthorization=true -jar lib/derbyrun.jar ij repro.sql&lt;br/&gt;
ij version 10.5&lt;br/&gt;
ij&amp;gt; connect &apos;jdbc:derby:db;user=root;create=true&apos;;&lt;br/&gt;
WARNING 01J14: SQL authorization is being used without first enabling authentication.&lt;br/&gt;
ij&amp;gt; create table t (x int);&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t values 1,2,3;&lt;br/&gt;
3 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; connect &apos;jdbc:derby:db;user=kah&apos;;&lt;br/&gt;
WARNING 01J14: SQL authorization is being used without first enabling authentication.&lt;br/&gt;
ij(CONNECTION1)&amp;gt; select count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; from root.t;&lt;br/&gt;
ERROR 42502: User &apos;KAH&apos; does not have SELECT permission on column &apos;X&apos; of table &apos;ROOT&apos;.&apos;T&apos;.&lt;br/&gt;
ij(CONNECTION1)&amp;gt; select count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; from root.t;&lt;br/&gt;
1          &lt;br/&gt;
-----------&lt;br/&gt;
3          &lt;/p&gt;

&lt;p&gt;1 row selected&lt;br/&gt;
ij(CONNECTION1)&amp;gt;&lt;/p&gt;</comment>
                            <comment id="12726621" author="rhillegas" created="Thu, 2 Jul 2009 19:46:45 +0100"  >&lt;p&gt;Triaged July 2, 2009: Checked Security and WrongQueryResult boxes. Assiged normal urgency.&lt;/p&gt;</comment>
                            <comment id="12779460" author="rhillegas" created="Wed, 18 Nov 2009 14:10:52 +0000"  >&lt;p&gt;Before fixing this bug, we need to decide what privileges are needed to execute the following statement:&lt;/p&gt;

&lt;p&gt;  select count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; from t&lt;/p&gt;

&lt;p&gt;I believe that all you need is SELECT privilege on some column of the table. That at least is the minimum set of privileges required by the SQL Standard, part 2, section 7.6 &amp;lt;table reference&amp;gt;, access rule 1.ii.1.B. I asked the SQL committee for its opinion and got one response, which concurred:&lt;/p&gt;

&lt;p&gt;&quot;There are no access rules for count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; (in either 6.9 &amp;lt;set function specification&amp;gt; or&lt;br/&gt;
10.9 &amp;lt;aggregate function&amp;gt;), nor in 7.12 &amp;lt;query specification&amp;gt; or&lt;br/&gt;
7.13 &amp;lt;query expression&amp;gt;, so that leaves just the access rules for t in&lt;br/&gt;
7.6 &amp;lt;table reference&amp;gt;.  I think you are right.&quot;&lt;/p&gt;</comment>
                            <comment id="12779521" author="rhillegas" created="Wed, 18 Nov 2009 16:52:32 +0000"  >&lt;p&gt;The solution to this bug should also insist on the same privileges for the following query:&lt;/p&gt;

&lt;p&gt;  select count(1) from t;&lt;/p&gt;</comment>
                            <comment id="12779525" author="mamtas" created="Wed, 18 Nov 2009 16:58:52 +0000"  >&lt;p&gt;Thanks for your comment on this jira, Rick. I was starting to look at the jira and was thinking about what privileges would be required. &lt;/p&gt;

&lt;p&gt;It seems like Derby has a SELECT level privilege for the table (I think that gets used for instance when somebody attempts to lock the table) and I thought that is what would be required for count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; or count(1). But it seems like SQL-spec is saying that SELECT privilege on any column of the table is enough. I think that does make sense because a user can easily get count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; equivalent by going count(columnwithselectprivilege) and hence it should be fine to have select privilege on any column to do count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; or count(1) equivalent.&lt;/p&gt;</comment>
                            <comment id="12779597" author="rhillegas" created="Wed, 18 Nov 2009 19:04:12 +0000"  >&lt;p&gt;Hi Mamta,&lt;/p&gt;

&lt;p&gt;Thanks for volunteering to look at this issue. Off the top of my head, I think that the tricky bit may be that privilege checks are currently modelled as an ANDed list of required permissions. What is needed here seems to be an ORed list of permissions. Thanks.&lt;/p&gt;</comment>
                            <comment id="12780188" author="mamtas" created="Thu, 19 Nov 2009 18:28:48 +0000"  >&lt;p&gt;Currently, we have a method called getRequiredPermissionsList() in CompilerContext. I am thinking of adding another method called getRequiredPermissionsListForCountStar() (let me know if some other name suggestion people may have). This list will just include the TableDescriptors of tables involved in count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; or count(1) kind of variations. And for these TableDescriptors, we will check if there is SELECT privilege available on table level OR at any column level. &lt;/p&gt;</comment>
                            <comment id="12780202" author="rhillegas" created="Thu, 19 Nov 2009 18:59:24 +0000"  >&lt;p&gt;Hi Mamta,&lt;/p&gt;

&lt;p&gt;Without seeing how the method is used it is hard to comment. However, I think you are trying to capture the sense of &quot;The absolutely minimal set of permissions needed to SELECT from a table.&quot; That is my sense of what is meant by part 2, section 7.6 &amp;lt;table reference&amp;gt;, access rule 1.ii.1.B. So a better name for your proposed method may be getMinimalSelectPermissionsList().&lt;/p&gt;

&lt;p&gt;Another way to tackle this might be to invent a new kind of permission which can&apos;t be granted but which can be used internally: a MINIMAL_SELECT_PRIVILEGE for tables. This solution would look something like the following:&lt;/p&gt;

&lt;p&gt;o At bind time, you would add a MINIMAL_SELECT_PRIVILEGE( T ) to the list of required table privileges for every table T that is selected from.&lt;/p&gt;

&lt;p&gt;o For extra credit, this privilege could be removed from the list for any table which has other required SELECT privileges. That removal might happen during bind() or maybe during code generation. Alternatively, you could wait till execution time to short-circuit the check for this privilege.&lt;/p&gt;

&lt;p&gt;o At execution time, you would then do what I think you&apos;re planning on: If you see a MINIMAL_SELECT_PRIVILEGE required for a table, you would check whether the user/currentRole enjoys a table-wide SELECT privilege or SELECT privilege on at least one column.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
-Rick&lt;/p&gt;</comment>
                            <comment id="12780295" author="mamtas" created="Thu, 19 Nov 2009 22:02:25 +0000"  >&lt;p&gt;Rick, I really appreciate you taking the time on thinking about this jira. As a start, I am thinking I will go ahead and work on getMinimalSelectPermissionsList/getRequiredPermissionsListForCountStar() approach. I think the actual implementation of that method will be required even by the alternative approach you suggested. So, for now, I will work on implementing the new method and have it used for count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; case. Once I have that working, we can see if we should add a new internal privilege type MINIMAL_SELECT_PRIVILEGE and use that privilege type rather than internal method calls to implement the final solution. Once I have some kind of code ready, I will post it to this jira so we are more clear on what I am proposing to do. Thanks.&lt;/p&gt;</comment>
                            <comment id="12780309" author="knutanders" created="Thu, 19 Nov 2009 22:32:35 +0000"  >&lt;p&gt;Just to add to Rick&apos;s point, this problem is not limited to COUNT, or to aggregate functions. Same problem can be seen with for instance this statement that just selects a constant expression from table ROOT.T (executed as user KAH in the original repro):&lt;/p&gt;

&lt;p&gt;ij(CONNECTION1)&amp;gt; select x from root.t;&lt;br/&gt;
ERROR 42502: User &apos;KAH&apos; does not have SELECT permission on column &apos;X&apos; of table &apos;ROOT&apos;.&apos;T&apos;.&lt;br/&gt;
ij(CONNECTION1)&amp;gt; select 1 from root.t;&lt;br/&gt;
1          &lt;br/&gt;
-----------&lt;br/&gt;
1          &lt;br/&gt;
1          &lt;br/&gt;
1          &lt;/p&gt;

&lt;p&gt;3 rows selected&lt;/p&gt;</comment>
                            <comment id="12785457" author="mamtas" created="Thu, 3 Dec 2009 19:13:55 +0000"  >&lt;p&gt;I am attaching a patch(DERBY4191_ColumnLevelCheckInStatmentTablePerm_diff_patch1.txt)  which resolves this jira&apos;s issue(the patch is not ready for commit yet). &lt;/p&gt;

&lt;p&gt;I have piggybacked on first and third bullet items of Rick&apos;s suggestion. At this point, I am not planning on optimizing the code by checking if there is already a SELECT privilege requirement on table or a column in the table, and if yes, then drop the MINIMAL_SELECT_PRIVILEGE requirement on that same table. &lt;/p&gt;

&lt;p&gt;The logic is as follows. At the bind time, The compile time changes went into SelectNode and AggregateNode to see if we need to add MINIMAL_SELECT_PRIVILEGE requirement. &lt;br/&gt;
a)I check in the SelectNode if all the columns in the select list are constants. If yes, then I add MINIMAL_SELECT_PRIVILEGE requirement for all the tables involved in the select. A new method was added for doing the column constant check. That method went in ResultColumnList.java &lt;br/&gt;
b)In the AggregateNode, I check if the aggregate is of the kind count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; or count(constant), then we should require MINIMAL_SELECT_PRIVILEGE for all the tables involved in the select. &lt;br/&gt;
c)Then at execute time, in StatementTablePermission, if I don&apos;t find a table level select privilege, then I check if there is atleast one column level select privilege if we are working with MINIMAL_SELECT_PRIVILEGE requirement. For this, I had to add a new method, called checkForAtleastOneSelectColumnPrivilege. The majority of this code is copied from StatementColumnPermission and this the reason I don&apos;t want this patch to be committed yet. I want to see if I can change the MINIMAL_SELECT_PRIVILEGE requirement to be at the column level rather than table level. That way, I might be able to use the existing code in StatementColumnPermission rather than copying majority of it in StatementTablePermission as a new method. &lt;br/&gt;
d)I have added new tests to RolesConferredPrivilegesTest and GrantRevokeDDLTest. &lt;br/&gt;
e)As a next step, I want to focus on utilizing most of existing code in StatementColumnPermission. Once I have that ready, I will post another patch. I will appreciate though if someone can review the patch and the logic to see if I may have missed anything.&lt;/p&gt;

&lt;p&gt;The files impacted by the change are as follows&lt;br/&gt;
svn stat -q&lt;br/&gt;
M       java\engine\org\apache\derby\impl\sql\compile\SelectNode.java&lt;br/&gt;
M       java\engine\org\apache\derby\impl\sql\compile\AggregateNode.java&lt;br/&gt;
M       java\engine\org\apache\derby\impl\sql\compile\ResultColumnList.java&lt;br/&gt;
M       java\engine\org\apache\derby\impl\sql\catalog\DataDictionaryImpl.java&lt;br/&gt;
M       java\engine\org\apache\derby\iapi\sql\conn\Authorizer.java&lt;br/&gt;
M       java\engine\org\apache\derby\iapi\sql\dictionary\StatementTablePermission.java&lt;br/&gt;
M       java\testing\org\apache\derbyTesting\functionTests\tests\lang\RolesConferredPrivilegesTest.java&lt;br/&gt;
M       java\testing\org\apache\derbyTesting\functionTests\tests\lang\GrantRevokeDDLTest.java&lt;/p&gt;

&lt;p&gt;I ran all the tests and ran into following failure. I do not think it is related to my changes but not sure why this error is showing up. I can consistently reproduce this eror. There was reference to this kind of failure once on derby-dev list with thread titled &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Issue Comment Edited: (&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3451&quot; title=&quot;Remove dependency between StandardException class and org.apache.derby.impl.jdbc classes.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3451&quot;&gt;&lt;del&gt;DERBY-3451&lt;/del&gt;&lt;/a&gt;) Remove dependency between StandardException class and org.apache.derby.impl.jdbc classes&quot;. I do not think there was any resolution to that failure.&lt;br/&gt;
There were 2 failures:&lt;br/&gt;
1) CheckToursDBTest:embeddedjunit.framework.AssertionFailedError: org/apache/derbyTesting/functionTests/tests/demo/cupisle.gif&lt;br/&gt;
        at org.apache.derbyTesting.junit.SupportFilesSetup.copyFiles(SupportFilesSetup.java:174)&lt;br/&gt;
        at org.apache.derbyTesting.junit.SupportFilesSetup.access$000(SupportFilesSetup.java:64)&lt;br/&gt;
        at org.apache.derbyTesting.junit.SupportFilesSetup$1.run(SupportFilesSetup.java:139)&lt;br/&gt;
        at java.security.AccessController.doPrivileged(AccessController.java:251)&lt;br/&gt;
        at org.apache.derbyTesting.junit.SupportFilesSetup.privCopyFiles(SupportFilesSetup.java:135)&lt;br/&gt;
        at org.apache.derbyTesting.junit.SupportFilesSetup.setUp(SupportFilesSetup.java:120)&lt;br/&gt;
        at junit.extensions.TestSetup$1.protect(TestSetup.java:18)&lt;br/&gt;
        at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
2) CheckToursDBTest:clientjunit.framework.AssertionFailedError: org/apache/derbyTesting/functionTests/tests/demo/cupisle.gif&lt;br/&gt;
        at org.apache.derbyTesting.junit.SupportFilesSetup.copyFiles(SupportFilesSetup.java:174)&lt;br/&gt;
        at org.apache.derbyTesting.junit.SupportFilesSetup.access$000(SupportFilesSetup.java:64)&lt;br/&gt;
        at org.apache.derbyTesting.junit.SupportFilesSetup$1.run(SupportFilesSetup.java:139)&lt;br/&gt;
        at java.security.AccessController.doPrivileged(AccessController.java:251)&lt;br/&gt;
        at rg.apache.derbyTesting.junit.SupportFilesSetup.privCopyFiles (SupportFilesSetup.java:135)&lt;br/&gt;
        at org.apache.derbyTesting.junit.SupportFilesSetup.setUp(SupportFilesSetup.java:120)&lt;br/&gt;
        at junit.extensions.TestSetup$1.protect(TestSetup.java:18)&lt;br/&gt;
        at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
        at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
        at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
        at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
        at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
        at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
        at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
        at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;/p&gt;</comment>
                            <comment id="12785501" author="rhillegas" created="Thu, 3 Dec 2009 20:34:59 +0000"  >&lt;p&gt;Thanks for the patch, Mamta. I think that this would be good, incremental improvement. My chief misgiving about this patch is that it attempts to enumerate the cases which could go wrong. I don&apos;t think that I am smart enough to list the problem cases even with the limited grammar that we have now. As we extend the language, more problem cases may creep in. Here for instance is a query which should fail but which still succeeds with this patch:&lt;/p&gt;

&lt;p&gt;   select myTable.a from myTable, admin.privateTable;  &amp;#8211; here admin.privateTable is a table that I don&apos;t have any SELECT privileges on&lt;/p&gt;

&lt;p&gt;I continue to think that it would be best to always add the MIN_SELECT_PRIV and then weed it out later if you can prove that it isn&apos;t needed. I think the downside of this alternative approach is that some cases may slip through where we needlessly look for column permissions. On the whole, I think that is a better problem to have than ignoring permissions checks when they are required.&lt;/p&gt;

&lt;p&gt;Another small comment: The code which adds the MIN_SELECT_PRIV seems to be duplicated in a couple files. I would recommend abstracting this code into a shared subroutine.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;

</comment>
                            <comment id="12786086" author="mamtas" created="Fri, 4 Dec 2009 19:15:36 +0000"  >&lt;p&gt;I am attaching a patch (DERBY4191_ColumnLevelCheckInStatmentColumnPerm_diff_patch2.txt)  is same as the previous patch EXCEPT that the minimum select privilege requirement is enforced in StatementColumnPermission rather than StatementTablePermission thus eliminating the need to duplicate the code. &lt;/p&gt;

&lt;p&gt;I ran derbyall and junit tests and even with this patch, I continue to get the failure CheckToursDBTest:embeddedjunit.framework.AssertionFailedError: org/apache/derbyTesting/functionTests/tests/demo/cupisle.gif&lt;br/&gt;
In addition, I got one more failure, testReplication_Encrypted_1_miniLoad_negative(org.apache.derbyTesting.functio&lt;br/&gt;
nTests.tests.replicationTests.ReplicationRun_Local_Encrypted_1)junit.framework.ComparisonFailure: Unexpected SQL state. expected:&amp;lt;...0&amp;gt; but was:&amp;lt;...1&amp;gt;&lt;/p&gt;

&lt;p&gt;I reran the replication suite and didn&apos;t get the above failure when running this way.&lt;br/&gt;
$ java  -Dderby.tests.trace=true  -Xmx256M -XX:MaxPermSize=128M junit.textui.TestRunner org.apache.derbyTesting.functionTests.tests.replicationTests.Replication.Suite&lt;/p&gt;

&lt;p&gt;If anyone has cycles at all, if they can run the junit suite with the patch I am attaching, I will appreciate it. I want to be sure that nothing in my changes has broken the 2 failures I am seeing(may be they are specific to my computer).  &lt;/p&gt;

&lt;p&gt;Rick, thanks for reviwing my earlier patch. I agree with your comments about not trying to selective handle specific select queries. As a next step, I will work on your suggestion of requiring minimum select privilege on all the tables in the select query rather than trying to handpick the ones based on select constant or select count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; or select count(constant) because this approach does not cover a query like select t1.c1 from anotheruser.t1, anotheruser.t2&lt;/p&gt;

&lt;p&gt;I will post that patch once it is ready. &lt;/p&gt;</comment>
                            <comment id="12789156" author="mamtas" created="Fri, 11 Dec 2009 07:33:28 +0000"  >&lt;p&gt;I am attaching a new patch (DERBY4191_miniumSelectPrivOnAllTables_diff_patch3.txt) which now adds a minimum select privilege requirement for all the tables in a SELECT query and if such a requirement is already getting satisfied with already existing select privilege requirement on the table(s), then we will not add the redundant minimum select privilege requirement. eg&lt;br/&gt;
select c1 from t1&lt;br/&gt;
For the query above, we do not require a minimum select privilege on t1 because we have already select privilege requirement on t1.c1 &lt;br/&gt;
Now consider the following query&lt;br/&gt;
select 1 from t1&lt;br/&gt;
For the query above, we DO want to add a minumum select privilege on t1 because there is no other select privilege requirement on table t1 or any of it&apos;s columns.&lt;/p&gt;

&lt;p&gt;The code had to be intelligent enough to not require minimum select privilege for following query&lt;br/&gt;
update t1 set c1=1&lt;br/&gt;
for this query, we have a SelectNode which provides the resultset for update. But for this SelectNode, we do not want any minimum select privileges on t1. Code for recognizing such a query is added into SelectNode.&lt;/p&gt;

&lt;p&gt;I have run all the junit and derbyall tests and only ran into known jira issue &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4463&quot; title=&quot;JMX test in nightly test suite failed with:  JMXTest:clientjava.lang.InterruptedException:  &quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4463&quot;&gt;&lt;del&gt;DERBY-4463&lt;/del&gt;&lt;/a&gt;. Prior run of junit with the patch gave me some upgrade test failures which I occassionally run into on my machine and I do not think those upgrade test failures are related to my patch. I will greatly appreciate if someone can run the junit tests for me with the patch to make sure they run fine.&lt;/p&gt;

&lt;p&gt;Please let me know if anyone has any feedback on the patch. I will plan on committing it early next week. Thanks&lt;/p&gt;</comment>
                            <comment id="12789368" author="rhillegas" created="Fri, 11 Dec 2009 16:21:49 +0000"  >&lt;p&gt;Thanks for the new patch, Mamta. I think this is moving in the right direction. I have a couple comments:&lt;/p&gt;

&lt;p&gt;1) It&apos;s hard to tell whether the new tests cover the cases where permissions come from roles rather than from direct grants. It would be good to write some tests for those cases.&lt;/p&gt;

&lt;p&gt;2) After applying this patch, the following query succeeds if the user has update privilege on the table but not select privilege. I believe that this query should fail because the user does not have select privilege:&lt;/p&gt;

&lt;p&gt;    update admin.t set a = ( select max(a) + 2 from admin.t );&lt;/p&gt;

&lt;p&gt;Here is a full script which shows this problem:&lt;/p&gt;

&lt;p&gt;connect &apos;jdbc:derby:memory:dummy;create=true;user=admin;password=adminpassword&apos;;&lt;/p&gt;

&lt;p&gt;create table t( a int, b int );&lt;/p&gt;

&lt;p&gt;insert into t( a, b ) values ( 1, 1 );&lt;br/&gt;
call syscs_util.syscs_set_database_property( &apos;derby.database.sqlAuthorization&apos;, &apos;true&apos; );&lt;/p&gt;

&lt;p&gt;connect &apos;jdbc:derby:memory:dummy;shutdown=true;user=admin;password=adminpassword&apos;;&lt;/p&gt;

&lt;p&gt;connect &apos;jdbc:derby:memory:dummy;user=admin;password=adminpassword&apos;;&lt;/p&gt;

&lt;p&gt;grant update on t to public;&lt;/p&gt;

&lt;p&gt;connect &apos;jdbc:derby:memory:dummy;user=ruth;password=ruthpassword&apos;;&lt;/p&gt;

&lt;p&gt;&amp;#8211; fails&lt;br/&gt;
select * from admin.t;&lt;/p&gt;

&lt;p&gt;update admin.t set a = 2;&lt;/p&gt;

&lt;p&gt;&amp;#8211; succeeds but should not&lt;br/&gt;
update admin.t set a = ( select max(a) + 2 from admin.t );&lt;/p&gt;</comment>
                            <comment id="12789412" author="mamtas" created="Fri, 11 Dec 2009 17:34:38 +0000"  >&lt;p&gt;Rick, thanks for reviewing the patch. It appears that my logic of determining whether we are inside UPDATE/DELETE etc statement is not as full-proof as I thought. I will look further into it. &lt;/p&gt;

&lt;p&gt;As for the permission available through role rather than direct direct tests, I will attempt to add a standalong test fixture in RolesConferredPrivilegesTest.java The existing test fixtures are very sophisticated for what I need to test. If anyone has ideas on how I can use the existing test fixture in RolesConferredPrivilegesTest.java to add a test case like&lt;br/&gt;
select t1.c1 from user1.t1, user1.t2&lt;br/&gt;
Otherwise, I will just add a new test fixture to test above.&lt;/p&gt;</comment>
                            <comment id="12789491" author="mamtas" created="Fri, 11 Dec 2009 19:48:46 +0000"  >&lt;p&gt;I have added another patch DERBY4191_miniumSelectPrivOnAllTables_diff_patch4.txt which is same as the previous one except that SubqueryNode during it&apos;s bind phase now requires minimum select privilege on all it&apos;s table. It fixes the test case you provided Rick. I have fired the derbyall and will run junit suite after that. In the mean time, I will work on adding a test case for this subquery scenario and will add test case for roles (as Rick pointed out in his last review).&lt;/p&gt;</comment>
                            <comment id="12789577" author="mamtas" created="Fri, 11 Dec 2009 22:20:13 +0000"  >&lt;p&gt;While trying so more test cases, I found another test case for update that does not collect select privilege requirement. &lt;/p&gt;

&lt;p&gt;java -Dderby.database.sqlAuthorization=true -Dij.exceptionTrace=true org.apache.derby.tools.ij&lt;br/&gt;
connect &apos;jdbc:derby:c:/dellater/db1;user=dbo;create=true&apos; as dbo;&lt;br/&gt;
create table t( a int, b int ); &lt;br/&gt;
grant update on t to public; &lt;br/&gt;
connect &apos;jdbc:derby:c:/dellater/db1;user=user2&apos; as user2; &lt;br/&gt;
&amp;#8211; with my last patch(DERBY4191_miniumSelectPrivOnAllTables_diff_patch4.txt), following now will give an error&lt;br/&gt;
update dbo.t set a = ( select max(a) + 2 from dbo.t ); &lt;br/&gt;
--grant select privilege on dbo.t(a) to user2&lt;br/&gt;
set connection dbo;&lt;br/&gt;
grant select(a) on t to user2;&lt;br/&gt;
set connection user2;&lt;br/&gt;
&amp;#8211; now the following will succeed&lt;br/&gt;
update dbo.t set a = ( select max(a) + 2 from dbo.t ); &lt;br/&gt;
--BUT FOLLOWING SHOULD NOT SUCCEED because there is no select privilege on column b&lt;br/&gt;
update dbo.t set a = ( select max(b) + 2 from dbo.t ); &lt;/p&gt;

&lt;p&gt;So, it appears that we are not collecting individual select privilege for a subquery hidden inside update. I will look further into it. Wonder if there are other cases where we are missing on collecting the select privileges. I tried the test case about without my changes on a different trunk client(that client has some other changes but they are not related to privilege collection) and the buggy behavior can be seen there, too. I just wanted to be sure that my changes for this jira didn&apos;t cause any regression.&lt;/p&gt;</comment>
                            <comment id="12791451" author="mamtas" created="Wed, 16 Dec 2009 17:16:52 +0000"  >&lt;p&gt;I have another patch, DERBY4191_miniumSelectPrivOnAllTables_And_Subquery_diff_patch5.txt. The difference in this patch compared to earlier patches is it now collects the select privilege requirement for a subquery involved in a DML. eg of subquery are as follows&lt;br/&gt;
update dbo.t set a = ( select max(a1) + 2 from dbo.t1 )&lt;br/&gt;
update dbo.t set a = ( select max(b1) + 2 from dbo.t2 )&lt;br/&gt;
For the queries above, we were not collecting any select privileges for the subquery. Instead we were requiring update privileges on columns inside the subquery. I have made changes in SubqueryNode to require the select privileges for the query it is working with. I have added tests for this subquery change in this patch. &lt;/p&gt;

&lt;p&gt;In addition to the above changes, I have added tests for testing privileges available through roles. These tests were missing from earlier patch for a query like &lt;br/&gt;
select c1 from user1.t1, user1.t2&lt;/p&gt;

&lt;p&gt;Please review the patch and let me know of any issues you may see with it.&lt;/p&gt;</comment>
                            <comment id="12792070" author="mamtas" created="Thu, 17 Dec 2009 18:56:58 +0000"  >&lt;p&gt;BTW, I forgot to mention that derbyall ran fine with my patch and as for the junit tests, only saw the known failure in StressMultiTest which is &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3916&quot; title=&quot;StressMultiTest fails with protocol error due to java.util.NoSuchElementException in org.apache.derby.impl.store.raw.xact.TransactionTable.getTransactionInfo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3916&quot;&gt;&lt;del&gt;DERBY-3916&lt;/del&gt;&lt;/a&gt;(which appears to be duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3757&quot; title=&quot;&amp;#39;ASSERT FAILED transaction table has null entry when running new StressMultiTest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3757&quot;&gt;&lt;del&gt;DERBY-3757&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12792528" author="rhillegas" created="Fri, 18 Dec 2009 16:50:14 +0000"  >&lt;p&gt;Thanks for the new patch, Mamta. I am seeing some odd behavior around views and deletes. Here&apos;s a script which shows this odd behavior:&lt;/p&gt;

&lt;p&gt;connect &apos;jdbc:derby:memory:dummy;create=true;user=ruth;password=ruthpassword&apos; as ruth_conn;&lt;/p&gt;

&lt;p&gt;create table t_ruth( a int, b int );&lt;br/&gt;
create view v_ruth( c, d ) as select a, b from t_ruth;&lt;/p&gt;

&lt;p&gt;grant update on t_ruth to public;&lt;br/&gt;
grant insert on t_ruth to public;&lt;br/&gt;
grant delete on t_ruth to public;&lt;/p&gt;

&lt;p&gt;connect &apos;jdbc:derby:memory:dummy;user=alice;password=alicepassword&apos; as alice_conn;&lt;/p&gt;

&lt;p&gt;&amp;#8211; misleading error message on these queries&lt;br/&gt;
&amp;#8211; complains that User &apos;ALICE&apos; does not have UPDATE permission on column &apos;C&apos; of table &apos;RUTH&apos;.&apos;V_RUTH&apos;.&lt;br/&gt;
update ruth.t_ruth set a = ( select max(c) from ruth.v_ruth );&lt;br/&gt;
update ruth.t_ruth set a = ( select count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; from ruth.v_ruth );&lt;br/&gt;
update ruth.t_ruth set a = ( select 1 from ruth.v_ruth );&lt;/p&gt;

&lt;p&gt;&amp;#8211; fails but should succeed&lt;br/&gt;
&amp;#8211; complains that User &apos;ALICE&apos; does not have SELECT permission on table &apos;RUTH&apos;.&apos;T_RUTH&apos;.&lt;br/&gt;
delete from ruth.t_ruth;&lt;/p&gt;</comment>
                            <comment id="12797419" author="mamtas" created="Thu, 7 Jan 2010 00:56:47 +0000"  >&lt;p&gt;Attaching another patch, DERBY4191_miniumSelectPriv_CursorNode_And_Subquery_diff_patch6.txt. I have made couple changes in this patch compared to the previous Both the patches require that user had minimum select privileges on all the tables in the select list. But the earlier patch made that check in SelectNode whereas this patch makes that check in CursorNode. The reason for this is for a simple DMLlike following, delete from ruth.t_ruth, a SelectNode is generated. But that SelectNode is to generate the resultset needed for delete. From my research, I believe CursorNode is the correct node where the minimum select privilege requirement should go. I have added test cases mentioned by Rick for the earlier patch and those test cases along with all the existing tests run with no problem with this patch. Another change in this patch compared to earlier one is the select privilege requirement for subquery now happens around the entire bind time code in SubqueryNode rather than just aroiund resultSet.bindExpressions. Would appreciate if someone can review this patch for me to see if they see any problems with it.&lt;/p&gt;</comment>
                            <comment id="12798695" author="rhillegas" created="Mon, 11 Jan 2010 15:36:44 +0000"  >&lt;p&gt;Thanks for this new patch, Mamta. I have verified that the previously identified problem cases now behave properly. I have run out of problem queries to test against this patch. This looks like a very good improvement to me. Thanks.&lt;/p&gt;</comment>
                            <comment id="12799556" author="mamtas" created="Wed, 13 Jan 2010 03:25:04 +0000"  >&lt;p&gt;Thanks again for all your time, Rick. I have committed the patch(revision 898635) with following commit comments&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4191&quot; title=&quot;Lack of SELECT privilege does not prevent SELECT COUNT(*)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4191&quot;&gt;&lt;del&gt;DERBY-4191&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Require minimum select privilege from the tables in the SELECT sql if no column is selected from the table by the user eg&lt;br/&gt;
select count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; from root.t; &lt;br/&gt;
select 1 from root.t; &lt;br/&gt;
For the query above, Derby was letting the user execute the select even if the user had no select privilege available on root.t With this fix, Derby will check if there is atleast one column on which the user has select privilege available to it or if the user select privilege at the table level. If yes, only then the user will be able to select from another user&apos;s table.&lt;/p&gt;

&lt;p&gt;select myTable.a from myTable, admin.privateTable&lt;br/&gt;
for the query above, since no column is selected specifically from admin.privateTable, Derby will now see if there is table level select privilege or atleast one column level select privilege available on admin.privatTable&lt;/p&gt;

&lt;p&gt;One other problem scenario was&lt;br/&gt;
update ruth.t_ruth set a = ( select max(c) from ruth.v_ruth ); &lt;br/&gt;
For the query above, prior to fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4191&quot; title=&quot;Lack of SELECT privilege does not prevent SELECT COUNT(*)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4191&quot;&gt;&lt;del&gt;DERBY-4191&lt;/del&gt;&lt;/a&gt;, we were not looking for select privilege for the subquery. That has also been fixed with fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4191&quot; title=&quot;Lack of SELECT privilege does not prevent SELECT COUNT(*)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4191&quot;&gt;&lt;del&gt;DERBY-4191&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;All the existing tests passed with no regression. Added few tests for the fixes involved in this jira.&lt;/p&gt;</comment>
                            <comment id="12799738" author="dagw" created="Wed, 13 Jan 2010 13:26:12 +0000"  >&lt;p&gt;Should this issue have a releaseNote (the change can break existing apps)?b&lt;/p&gt;</comment>
                            <comment id="12799880" author="mamtas" created="Wed, 13 Jan 2010 19:14:29 +0000"  >&lt;p&gt;Dag, you are right about the release notes. I will work on creating one. I think there is a tool to generate one. I will look into it.&lt;/p&gt;</comment>
                            <comment id="12802118" author="mamtas" created="Tue, 19 Jan 2010 06:54:40 +0000"  >&lt;p&gt;Attaching release notes since this jira is going to change the Derby behavior by catching privilege violation which were incorrectly allowed earlier.&lt;/p&gt;</comment>
                            <comment id="12802438" author="mamtas" created="Tue, 19 Jan 2010 19:49:33 +0000"  >&lt;p&gt;I am wondering if we should put anything in our docs about minimum select requirement when the query is not referencing any specific column from the tables in the FROM list. Already attached a release note for it.&lt;/p&gt;</comment>
                            <comment id="12803689" author="dagw" created="Fri, 22 Jan 2010 13:06:51 +0000"  >&lt;p&gt;+1 to a note in the docs about this requirement; it&apos;s not necessarily obvious..&lt;/p&gt;</comment>
                            <comment id="12803719" author="chaase3" created="Fri, 22 Jan 2010 15:11:10 +0000"  >&lt;p&gt;I can document this along with the changes to the SELECT statement topic that I am making for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4518&quot; title=&quot;Document ORDER BY and OFFSET/FETCH in subqueries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4518&quot;&gt;&lt;del&gt;DERBY-4518&lt;/del&gt;&lt;/a&gt;, if that would be okay.&lt;/p&gt;</comment>
                            <comment id="12803784" author="chaase3" created="Fri, 22 Jan 2010 17:55:28 +0000"  >&lt;p&gt;Since &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4518&quot; title=&quot;Document ORDER BY and OFFSET/FETCH in subqueries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4518&quot;&gt;&lt;del&gt;DERBY-4518&lt;/del&gt;&lt;/a&gt; doesn&apos;t actually require any changes to the SELECT statement topic (I think), I&apos;ve created a separate documentation issue for this (&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4522&quot; title=&quot;Document SELECT statement requirements resulting from fix to DERBY-4191&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4522&quot;&gt;&lt;del&gt;DERBY-4522&lt;/del&gt;&lt;/a&gt;). &lt;/p&gt;</comment>
                            <comment id="12849176" author="rhillegas" created="Wed, 24 Mar 2010 13:16:48 +0000"  >&lt;p&gt;Hi Mamta,&lt;/p&gt;

&lt;p&gt;Can this issue be resolved now? Thanks.&lt;/p&gt;</comment>
                            <comment id="12849294" author="mamtas" created="Wed, 24 Mar 2010 17:25:06 +0000"  >&lt;p&gt;Yes, it can be resolved. Thanks for pointing it out Rick. The changes at this point are only in 10.6 codeline.&lt;/p&gt;</comment>
                            <comment id="12858937" author="rhillegas" created="Tue, 20 Apr 2010 16:24:07 +0100"  >&lt;p&gt;Attaching a new version of the release note. This version:&lt;/p&gt;

&lt;p&gt;1) Simplifies the summary so that the 10.6 release notes are more readable.&lt;/p&gt;

&lt;p&gt;2) Moves explanatory material out of html comments into the relevant release note subsections.&lt;/p&gt;</comment>
                            <comment id="12884459" author="lilywei" created="Thu, 1 Jul 2010 23:12:32 +0100"  >&lt;p&gt;Reopen to 10.5 back port&lt;/p&gt;</comment>
                            <comment id="12885559" author="mikem" created="Tue, 6 Jul 2010 16:15:18 +0100"  >&lt;p&gt;This issue has already been backported to 10.5, and should not have been reopened for the 10.5 backport effort.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12678217">DERBY-6411</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                                                <inwardlinks description="is required by">
                                        <issuelink>
            <issuekey id="12468384">DERBY-4728</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12446346">DERBY-4522</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12426941" name="DERBY4191_ColumnLevelCheckInStatmentColumnPerm_diff_patch2.txt" size="20111" author="mamtas" created="Fri, 4 Dec 2009 19:15:36 +0000"/>
                            <attachment id="12426942" name="DERBY4191_ColumnLevelCheckInStatmentColumnPerm_stat_patch2.txt" size="746" author="mamtas" created="Fri, 4 Dec 2009 19:15:36 +0000"/>
                            <attachment id="12426796" name="DERBY4191_ColumnLevelCheckInStatmentTablePerm_diff_patch1.txt" size="20837" author="mamtas" created="Thu, 3 Dec 2009 19:13:55 +0000"/>
                            <attachment id="12426797" name="DERBY4191_countStar_privilege_diff_patch1.txt" size="10764" author="mamtas" created="Thu, 3 Dec 2009 19:13:55 +0000"/>
                            <attachment id="12428191" name="DERBY4191_miniumSelectPrivOnAllTables_And_Subquery_diff_patch5.txt" size="34870" author="mamtas" created="Wed, 16 Dec 2009 17:16:52 +0000"/>
                            <attachment id="12428192" name="DERBY4191_miniumSelectPrivOnAllTables_And_Subquery_stat_patch5.txt" size="824" author="mamtas" created="Wed, 16 Dec 2009 17:16:52 +0000"/>
                            <attachment id="12427686" name="DERBY4191_miniumSelectPrivOnAllTables_diff_patch3.txt" size="24146" author="mamtas" created="Fri, 11 Dec 2009 07:33:28 +0000"/>
                            <attachment id="12427760" name="DERBY4191_miniumSelectPrivOnAllTables_diff_patch4.txt" size="25957" author="mamtas" created="Fri, 11 Dec 2009 19:48:46 +0000"/>
                            <attachment id="12427687" name="DERBY4191_miniumSelectPrivOnAllTables_stat_patch3.txt" size="751" author="mamtas" created="Fri, 11 Dec 2009 07:33:28 +0000"/>
                            <attachment id="12427761" name="DERBY4191_miniumSelectPrivOnAllTables_stat_patch4.txt" size="824" author="mamtas" created="Fri, 11 Dec 2009 19:48:46 +0000"/>
                            <attachment id="12429603" name="DERBY4191_miniumSelectPriv_CursorNode_And_Subquery_diff_patch6.txt" size="34401" author="mamtas" created="Thu, 7 Jan 2010 00:56:47 +0000"/>
                            <attachment id="12429604" name="DERBY4191_miniumSelectPriv_CursorNode_And_Subquery_stat_patch6.txt" size="748" author="mamtas" created="Thu, 7 Jan 2010 00:56:47 +0000"/>
                            <attachment id="12442312" name="releaseNote.html" size="4014" author="rhillegas" created="Tue, 20 Apr 2010 16:24:07 +0100"/>
                            <attachment id="12430699" name="releaseNote.html" size="3416" author="mamtas" created="Tue, 19 Jan 2010 06:54:40 +0000"/>
                            <attachment id="12406524" name="repro.sql" size="192" author="knutanders" created="Mon, 27 Apr 2009 15:11:55 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>15.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10361"><![CDATA[Security]]></customfieldvalue>
    <customfieldvalue key="10366"><![CDATA[Wrong query result]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 2 Jul 2009 18:46:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>24090</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10101"><![CDATA[Release Note Needed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0ns7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37671</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310050" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Urgency</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10052"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>