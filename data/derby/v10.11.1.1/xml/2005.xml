<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:42:42 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-2005/DERBY-2005.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-2005] convert jdbcapi/Stream.java to Junit</title>
                <link>https://issues.apache.org/jira/browse/DERBY-2005</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description></description>
                <environment></environment>
        <key id="12354048">DERBY-2005</key>
            <summary>convert jdbcapi/Stream.java to Junit</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12351772">DERBY-1888</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fernanda">Fernanda Pizzorno</assignee>
                                    <reporter username="fernanda">Fernanda Pizzorno</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Oct 2006 15:35:13 +0100</created>
                <updated>Fri, 16 Feb 2007 13:37:46 +0000</updated>
                            <resolved>Thu, 2 Nov 2006 10:05:24 +0000</resolved>
                                    <version>10.3.1.4</version>
                                    <fixVersion>10.3.1.4</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12444930" author="fuzzylogic" created="Thu, 26 Oct 2006 18:27:31 +0100"  >&lt;p&gt;testing JIRA mail - please ignore&lt;/p&gt;</comment>
                            <comment id="12445660" author="fernanda" created="Mon, 30 Oct 2006 17:22:47 +0000"  >&lt;p&gt; The attached patch (derby-2005.diff) converts the test jdbcapi/Stream.java to Junit.&lt;/p&gt;

&lt;p&gt;A summary of what it tested by this test can be found at: &lt;a href=&quot;http://wiki.apache.org/db-derby/StreamTestCoverage&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/db-derby/StreamTestCoverage&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I have successfully run jdbcapi._Suite with this patch. Can someone please review it?&lt;/p&gt;</comment>
                            <comment id="12445855" author="kristwaa" created="Tue, 31 Oct 2006 09:38:28 +0000"  >&lt;p&gt;Hi Fernanda,&lt;/p&gt;

&lt;p&gt;The patch looks good as it is. I have a few questions/suggestions you could consider:&lt;br/&gt;
 1) Could the test-methods be declared to throw IOException and SQLException instead of Exception?&lt;br/&gt;
 2) As far as I can see, the TestDataStream/-Reader does not have any special functionality. To reduce the amount of code in the test class, could you instead use the existing stream/reader in &apos;functionTests.util.streams&apos;?&lt;br/&gt;
 3) Very much a nit, feel free to ignore,  a space is missing in front of the starting curly brace on lines 53 and 176 (in the diff).&lt;/p&gt;

&lt;p&gt;I ran the test individually and as part of jdbciapi/_Suite, both from classes and jars.&lt;br/&gt;
For some reason (not related to this test I think), the security manager denied access to read the property &apos;user.dir&apos; on the machine I tested on (Gentoo Linux, AMD64, Java 1.5.0_08-b03 and Java SE 6 b103). I had to add the permission to the policy file. Has anyone else seen this?&lt;/p&gt;

&lt;p&gt;Good work on the test, I think it can be committed as soon as the patch available flag is set.&lt;/p&gt;</comment>
                            <comment id="12446394" author="fernanda" created="Wed, 1 Nov 2006 22:39:02 +0000"  >&lt;p&gt;Thank you for reviewing the patch Kristian. &lt;/p&gt;

&lt;p&gt;I am submiting a new patch that addresses Kristian&apos;s comments. I have successfully run jdbcapi._Suite with this patch. Can someone please review/commit it?&lt;/p&gt;</comment>
                            <comment id="12446416" author="djd" created="Thu, 2 Nov 2006 00:57:28 +0000"  >&lt;p&gt;Committed revision 470152 patch Thanks Fernanda&lt;/p&gt;</comment>
                            <comment id="12446419" author="djd" created="Thu, 2 Nov 2006 01:04:16 +0000"  >&lt;p&gt;I committed the patch but it does contain some cleanup code that I think itself could be cleaned up, e.g. in runGetStreamTwiceTest&lt;/p&gt;

&lt;p&gt;        } finally {&lt;br/&gt;
            if (st != null) &lt;/p&gt;
{
                st.close();
            }

&lt;p&gt;            if (rs != null) &lt;/p&gt;
{
                rs.close();
            }

&lt;p&gt;            if (is != null) &lt;/p&gt;
{
                is.close();
            }
&lt;p&gt;        }&lt;/p&gt;

&lt;p&gt;In these cases st and rs can never be null, so the check to see if they are null is confusing. There is also no need to have them inside the finally block.&lt;br/&gt;
The closing of the stream &apos;is&apos; I think is also dubious at that point, the test does not expect the stream to be successfully opened so is there a benefit to having cleanup code for the stream?&lt;/p&gt;

&lt;p&gt;My feeling is that that the cleanup code can distract from the actual focus of the test, in this case did the second rs.getXXX fail.&lt;br/&gt;
All that is really needed here is no finally block and then simply&lt;/p&gt;

&lt;p&gt;rs.close();&lt;br/&gt;
st.close();&lt;/p&gt;

&lt;p&gt;or possibly since closing st is defined to close rs, just:&lt;/p&gt;

&lt;p&gt;st.close();&lt;/p&gt;</comment>
                            <comment id="12446518" author="fernanda" created="Thu, 2 Nov 2006 09:18:51 +0000"  >&lt;p&gt;The attached patch (derby-2005v3.diff) addresses Daniel&apos;s comments. I have successfully run jdbcapi._Suite with this patch. Can someone please review/commit it? &lt;/p&gt;</comment>
                            <comment id="12446533" author="knutanders" created="Thu, 2 Nov 2006 10:05:23 +0000"  >&lt;p&gt;Thanks Fernanda. Committed revision 470305.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12343945" name="derby-2005.diff" size="23331" author="fernanda" created="Mon, 30 Oct 2006 17:22:47 +0000"/>
                            <attachment id="12343946" name="derby-2005.stat" size="668" author="fernanda" created="Mon, 30 Oct 2006 17:22:47 +0000"/>
                            <attachment id="12344143" name="derby-2005v2.diff" size="22164" author="fernanda" created="Wed, 1 Nov 2006 22:39:02 +0000"/>
                            <attachment id="12344144" name="derby-2005v2.stat" size="668" author="fernanda" created="Wed, 1 Nov 2006 22:39:02 +0000"/>
                            <attachment id="12344176" name="derby-2005v3.diff" size="1473" author="fernanda" created="Thu, 2 Nov 2006 09:18:51 +0000"/>
                            <attachment id="12344177" name="derby-2005v3.stat" size="157" author="fernanda" created="Thu, 2 Nov 2006 09:18:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 26 Oct 2006 17:27:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30232</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy13bz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40190</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>