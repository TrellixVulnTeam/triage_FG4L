<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:09:19 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-3345/DERBY-3345.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-3345] RolesTest fails with weme6.1 in the nightly test run</title>
                <link>https://issues.apache.org/jira/browse/DERBY-3345</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;testPositive(org.apache.derbyTesting.functionTests.tests.lang.RolesTest)junit.framework.AssertionFailedError: stmt call p2(&apos;FOO&apos;) failed with exception 38000&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.RolesTest.doStmtWithWarnings(RolesTest.java:704)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.RolesTest.doStmt(RolesTest.java:634)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.RolesTest.doStmt(RolesTest.java:615)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.RolesTest.doSetRoleInsideStoredProcedures(RolesTest.java:809)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.RolesTest.testPositive(RolesTest.java:407)&lt;br/&gt;
	at java.lang.reflect.AccessibleObject.invokeV(AccessibleObject.java:205)&lt;br/&gt;
	at &amp;lt;unknown class&amp;gt;.&amp;lt;unknown method&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:99)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
2) testPositive(org.apache.derbyTesting.functionTests.tests.lang.RolesTest)junit.framework.ComparisonFailure: Stmt grant admin to authid expected:&amp;lt;0P000&amp;gt; but was:&amp;lt;4251A&amp;gt;&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.assertSQLState(BaseJDBCTestCase.java:687)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.RolesTest.doStmtWithWarnings(RolesTest.java:714)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.RolesTest.doStmt(RolesTest.java:634)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.RolesTest.doStmt(RolesTest.java:615)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.RolesTest.testPositive(RolesTest.java:377)&lt;br/&gt;
	at java.lang.reflect.AccessibleObject.invokeV(AccessibleObject.java:205)&lt;br/&gt;
	at &amp;lt;unknown class&amp;gt;.&amp;lt;unknown method&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:99)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
Caused by: java.sql.SQLException: Statement GRANT role can only be issued by database owner.&lt;br/&gt;
	at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.generateCsSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.handleException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.ConnectionChild.handleException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedStatement.execute(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedStatement.execute(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.RolesTest.doStmtWithWarnings(RolesTest.java:656)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.RolesTest.doStmt(RolesTest.java:634)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.RolesTest.doStmt(RolesTest.java:615)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.RolesTest.testPositive(RolesTest.java:377)&lt;br/&gt;
	at java.lang.reflect.AccessibleObject.invokeV(AccessibleObject.java:205)&lt;br/&gt;
	at &amp;lt;unknown class&amp;gt;.&amp;lt;unknown method&amp;gt;(Unknown Source)&lt;/p&gt;</description>
                <environment>OS name:         Windows XP&lt;br/&gt;
OS architecture: x86&lt;br/&gt;
OS version:      5.1 build 2600 Service Pack 2&lt;br/&gt;
java.specification.name: J2ME Foundation Specification&lt;br/&gt;
java.specification.version: 1.1&lt;br/&gt;
--------- Derby Information --------&lt;br/&gt;
JRE - JDBC: J2SE 5.0 - JDBC 3.0&lt;br/&gt;
[C:\jartest\classes\derby.jar] 10.4.0.0 alpha - (614099)&lt;br/&gt;
[C:\jartest\classes\derbytools.jar] 10.4.0.0 alpha - (614099)&lt;br/&gt;
[C:\jartest\classes\derbynet.jar] 10.4.0.0 alpha - (614099)&lt;br/&gt;
[C:\jartest\classes\derbyclient.jar] 10.4.0.0 alpha - (614099)</environment>
        <key id="12386973">DERBY-3345</key>
            <summary>RolesTest fails with weme6.1 in the nightly test run</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="myrna">Myrna van Lunteren</assignee>
                                    <reporter username="mkutty">Manjula Kutty</reporter>
                        <labels>
                    </labels>
                <created>Wed, 23 Jan 2008 20:55:22 +0000</created>
                <updated>Fri, 25 Jul 2008 18:16:07 +0100</updated>
                            <resolved>Thu, 7 Feb 2008 17:45:39 +0000</resolved>
                                    <version>10.4.1.3</version>
                                    <fixVersion>10.4.1.3</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12565623" author="myrna" created="Tue, 5 Feb 2008 01:47:09 +0000"  >&lt;p&gt;I wonder, does this test also fail with PhoneME Advanced?&lt;/p&gt;</comment>
                            <comment id="12565688" author="vemund" created="Tue, 5 Feb 2008 10:29:39 +0000"  >&lt;p&gt;Yes, I can confirm that there are two failures in this test when I run on phoneME advanced, and they look pretty much like the stack you&apos;ve pasted.&lt;/p&gt;</comment>
                            <comment id="12565765" author="vemund" created="Tue, 5 Feb 2008 14:54:24 +0000"  >&lt;p&gt;Actually, when I re-ran the tests on phoneME advanced today I got 3 failures in the RolesTest. The additional failure was:&lt;/p&gt;

&lt;p&gt;1) testPositiveSyntax(org.apache.derbyTesting.functionTests.tests.lang.RolesTest)junit.framework.AssertionFailedError: stmt create role role failed with exception X0Y68&lt;br/&gt;
        at org.apache.derbyTesting.functionTests.tests.lang.RolesTest.doStmtWithWarnings(Unknown Source)&lt;br/&gt;
        at org.apache.derbyTesting.functionTests.tests.lang.RolesTest.doStmt(Unknown Source)&lt;br/&gt;
        at org.apache.derbyTesting.functionTests.tests.lang.RolesTest.doStmt(Unknown Source)&lt;br/&gt;
        at org.apache.derbyTesting.functionTests.tests.lang.RolesTest.testPositiveSyntax(Unknown Source)&lt;br/&gt;
        at org.apache.derbyTesting.junit.BaseTestCase.runBare(Unknown Source)&lt;br/&gt;
        at junit.extensions.TestDecorator.basicRun(Unknown Source)&lt;br/&gt;
        at junit.extensions.TestSetup$1.protect(Unknown Source)&lt;br/&gt;
        at junit.extensions.TestSetup.run(Unknown Source)&lt;br/&gt;
        at junit.extensions.TestDecorator.basicRun(Unknown Source)&lt;br/&gt;
        at junit.extensions.TestSetup$1.protect(Unknown Source)&lt;br/&gt;
        at junit.extensions.TestSetup.run(Unknown Source)&lt;br/&gt;
        at org.apache.derbyTesting.junit.BaseTestSetup.run(Unknown Source)&lt;br/&gt;
        at junit.extensions.TestDecorator.basicRun(Unknown Source)&lt;br/&gt;
        at junit.extensions.TestSetup$1.protect(Unknown Source)&lt;br/&gt;
        at junit.extensions.TestSetup.run(Unknown Source)&lt;br/&gt;
        at junit.extensions.TestDecorator.basicRun(Unknown Source)&lt;br/&gt;
        at junit.extensions.TestSetup$1.protect(Unknown Source)&lt;br/&gt;
        at junit.extensions.TestSetup.run(Unknown Source)&lt;br/&gt;
        at org.apache.derbyTesting.junit.BaseTestSetup.run(Unknown Source)&lt;br/&gt;
        at junit.extensions.TestDecorator.basicRun(Unknown Source)&lt;br/&gt;
        at junit.extensions.TestSetup$1.protect(Unknown Source)&lt;br/&gt;
        at junit.extensions.TestSetup.run(Unknown Source)&lt;br/&gt;
        at org.apache.derbyTesting.junit.BaseTestSetup.run(Unknown Source)&lt;br/&gt;
        at junit.extensions.TestDecorator.basicRun(Unknown Source)&lt;br/&gt;
        at junit.extensions.TestSetup$1.protect(Unknown Source)&lt;br/&gt;
        at junit.extensions.TestSetup.run(Unknown Source)&lt;br/&gt;
        at junit.extensions.TestDecorator.basicRun(Unknown Source)&lt;br/&gt;
        at junit.extensions.TestSetup$1.protect(Unknown Source)&lt;br/&gt;
        at junit.extensions.TestSetup.run(Unknown Source)&lt;br/&gt;
        at sun.misc.CVM.runMain(Unknown Source)&lt;/p&gt;</comment>
                            <comment id="12565839" author="myrna" created="Tue, 5 Feb 2008 18:03:38 +0000"  >&lt;p&gt;The originally reported issues were because of the section doSetRoleInsideStoredProcedures(&quot;FOO&quot;) in testPositive. This section attempts to execute some stored procedures, which make a connection to the database using DriverManager.getConnection(&quot;jdbc:default:connection&quot;), and DriverManager is not supported with JSR169.&lt;/p&gt;

&lt;p&gt;With revision 618722 I committed a change that prevents this one section from running with JSR169. Apparently, it was properly atomic, for the test runs fine onward.&lt;/p&gt;

&lt;p&gt;However, I do not see the failure with testPositiveSyntax with the j9 jvm I have access to. Can you run with a build sync-ed up to 618722 and see if it still occurs? And it would be helpful if you could build with sane=true so we have the line numbers... &lt;/p&gt;</comment>
                            <comment id="12566627" author="vemund" created="Thu, 7 Feb 2008 15:12:30 +0000"  >&lt;p&gt;I think your change fixed all the failures I saw. I was sidetracked on a different issue yesterday, and when I synched and rebuilt today the test ran ok standalone.&lt;/p&gt;</comment>
                            <comment id="12566710" author="myrna" created="Thu, 7 Feb 2008 17:45:39 +0000"  >&lt;p&gt;This no longer fails in the nightly tests as reported in &lt;a href=&quot;http://people.apache.org/~fuzzylogic/derby_test_results/main/windows/testSummary-618856.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://people.apache.org/~fuzzylogic/derby_test_results/main/windows/testSummary-618856.html&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 5 Feb 2008 01:47:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23584</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0ypj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39441</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>