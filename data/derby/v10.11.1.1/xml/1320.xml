<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:40:32 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-1320/DERBY-1320.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-1320] Test lang/procedure.java fails with ibm1.5 jvm</title>
                <link>https://issues.apache.org/jira/browse/DERBY-1320</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;lang/procedure.java fails on IBM1.5 jvm on linux machine.    I spoke to Manjula who filed &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1108&quot; title=&quot;The test jdbcapi/setTransactionIsolation.java fails with ibm jvm1.5&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1108&quot;&gt;&lt;del&gt;DERBY-1108&lt;/del&gt;&lt;/a&gt; that this is related to that issue and is a JVM bug. The JVM team has been notified.    Please note: I have marked this as a Regression Test Failure although this test has not passed with IBM 1.5 JVM atleast in our nightly regression test runs,  so it is not a regression of the product. &lt;/p&gt;

&lt;p&gt;diff:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;
			&lt;ul&gt;
				&lt;li&gt;
				&lt;ul&gt;
					&lt;li&gt;
					&lt;ul&gt;
						&lt;li&gt;
						&lt;ul&gt;
							&lt;li&gt;
							&lt;ul&gt;
								&lt;li&gt;
								&lt;ul&gt;
									&lt;li&gt;Diff file derbyall/derbylang/procedure.diff&lt;/li&gt;
								&lt;/ul&gt;
								&lt;/li&gt;
							&lt;/ul&gt;
							&lt;/li&gt;
						&lt;/ul&gt;
						&lt;/li&gt;
					&lt;/ul&gt;
					&lt;/li&gt;
				&lt;/ul&gt;
				&lt;/li&gt;
			&lt;/ul&gt;
			&lt;/li&gt;
			&lt;li&gt;Start: procedure jdk1.5.0 derbyall:derbylang 2006-05-10 22:17:16 ***&lt;br/&gt;
1018 del&lt;br/&gt;
&amp;lt; testImplicitClose(): PASSED&lt;br/&gt;
1018 add&lt;br/&gt;
&amp;gt; testImplicitClose(): FAILED (no exception thrown)&lt;br/&gt;
Test Failed.&lt;/li&gt;
			&lt;li&gt;End:   procedure jdk1.5.0 derbyall:derbylang 2006-05-10 22:17:31 ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;here is machine info.&lt;br/&gt;
------------------ Java Information ------------------&lt;br/&gt;
Java Version:    1.5.0&lt;br/&gt;
Java Vendor:     IBM Corporation&lt;br/&gt;
Java home:       /local1/cloudtst/dev/src/ibm15/jre&lt;br/&gt;
Java classpath:  /local1/cloudtst/dev/src/jars/insane/derby.jar:/local1/cloudtst/dev/src/jars/insane/derbytools.jar:/local1/cloudtst/dev/src/jars/insane/derbynet.jar:/local1/cloudtst/dev/src/jars/insane/derbyclient.jar:/local1/cloudtst/dev/src/jars/insane/derbyTesting.jar:/local1/cloudtst/dev/src/jcc/db2jcc.jar:/local1/cloudtst/dev/src/jcc/db2jcc_license_c.jar:/local1/cloudtst/dev/src/jars/insane/derbyTesting.jar:/local1/cloudtst/dev/src/tools/java/jakarta-oro-2.0.8.jar:/local1/cloudtst/dev/src/tools/java/junit.jar:/local1/cloudtst/dev/src/jars/insane/derbyLocale_de_DE.jar:/local1/cloudtst/dev/src/jars/insane/derbyLocale_es.jar:/local1/cloudtst/dev/src/jars/insane/derbyLocale_fr.jar:/local1/cloudtst/dev/src/jars/insane/derbyLocale_it.jar:/local1/cloudtst/dev/src/jars/insane/derbyLocale_ja_JP.jar:/local1/cloudtst/dev/src/jars/insane/derbyLocale_ko_KR.jar:/local1/cloudtst/dev/src/jars/insane/derbyLocale_pt_BR.jar:/local1/cloudtst/dev/src/jars/insane/derbyLocale_zh_CN.jar:/local1/cloudtst/dev/src/jars/insane/derbyLocale_zh_TW.jar:/local1/cloudtst/dev/src/jars/insane/derbyrun.jar:&lt;br/&gt;
OS name:         Linux&lt;br/&gt;
OS architecture: x86&lt;br/&gt;
OS version:      2.6.5-7.252-bigsmp&lt;br/&gt;
Java user name:  cloudtst&lt;br/&gt;
Java user home:  /u/cloudtst&lt;br/&gt;
Java user dir:   /local1/cloudtst/dev/src/NightlyBuildResults.2006-05-10/ibm15_derbyall&lt;br/&gt;
java.specification.name: Java Platform API Specification&lt;br/&gt;
java.specification.version: 1.5&lt;br/&gt;
--------- Derby Information --------&lt;br/&gt;
JRE - JDBC: J2SE 5.0 - JDBC 3.0&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;/local1/cloudtst/dev/src/jars/insane/derby.jar&amp;#93;&lt;/span&gt; 10.2.0.0 alpha - (405653)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;/local1/cloudtst/dev/src/jars/insane/derbytools.jar&amp;#93;&lt;/span&gt; 10.2.0.0 alpha - (405653)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;/local1/cloudtst/dev/src/jars/insane/derbynet.jar&amp;#93;&lt;/span&gt; 10.2.0.0 alpha - (405653)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;/local1/cloudtst/dev/src/jars/insane/derbyclient.jar&amp;#93;&lt;/span&gt; 10.2.0.0 alpha - (405653)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;/local1/cloudtst/dev/src/jcc/db2jcc.jar&amp;#93;&lt;/span&gt; 2.6 - (90)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;/local1/cloudtst/dev/src/jcc/db2jcc_license_c.jar&amp;#93;&lt;/span&gt; 2.6 - (90)&lt;br/&gt;
------------------------------------------------------&lt;/p&gt;</description>
                <environment>IBM 1.5 JVM /linux </environment>
        <key id="12333553">DERBY-1320</key>
            <summary>Test lang/procedure.java fails with ibm1.5 jvm</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mkutty">Manjula Kutty</assignee>
                                    <reporter username="skambha">Sunitha Kambhampati</reporter>
                        <labels>
                    </labels>
                <created>Fri, 12 May 2006 07:31:21 +0100</created>
                <updated>Wed, 1 Jul 2009 01:09:08 +0100</updated>
                            <resolved>Tue, 8 Aug 2006 05:25:03 +0100</resolved>
                                    <version>10.2.1.6</version>
                                    <fixVersion>10.2.1.6</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12413163" author="mkutty" created="Thu, 25 May 2006 02:58:34 +0100"  >&lt;p&gt;From the diff this test also was not throwing the expected exception. Then I commented the system.gc() call on java\engine\org\apache\derby\impl\sql\conn\GenericLanguageConnectionContext.java. Then the test failed with some other diff, where the test was expecting to do a garbage collection call. so I strongly feel this is also the same JVM issue we are experiencing with setTransactionIsolation.java. Will update both JIRA entry once I hear back some solution from the JVM folks.&lt;/p&gt;</comment>
                            <comment id="12417386" author="mkutty" created="Fri, 23 Jun 2006 06:24:35 +0100"  >&lt;p&gt;I thought the same fix for setTransactionIsolation will work for this test too. But no..When I apply the same change here I&apos;m getting a different diff. I&apos;m attaching the diff and also the test code&lt;/p&gt;</comment>
                            <comment id="12423483" author="mkutty" created="Wed, 26 Jul 2006 00:05:42 +0100"  >&lt;p&gt;Adding a patch to fix this failure&lt;/p&gt;</comment>
                            <comment id="12423783" author="knutanders" created="Thu, 27 Jul 2006 08:19:44 +0100"  >&lt;p&gt;Hi Manjula,&lt;/p&gt;

&lt;p&gt;Does your editor automatically strip trailing white-space when you&lt;br/&gt;
save a file? There are quite a number of pure white-space changes in&lt;br/&gt;
the patch. I think I found five lines where the code was changed, yet&lt;br/&gt;
the patch had 900 lines. Do you think you could regenerate the patch&lt;br/&gt;
with the necessary code changes only?&lt;/p&gt;

&lt;p&gt;As to the changes I found, I don&apos;t think the first rs.next() in&lt;br/&gt;
testImplicitClose() should be commented out. It is there to make sure&lt;br/&gt;
all the rows are actually sent from the server. The purpose of the&lt;br/&gt;
test is to test that the result set is not closed on the server, even&lt;br/&gt;
when all rows have been sent. I should probably have documented this&lt;br/&gt;
better in the comments when I wrote the test.&lt;/p&gt;

&lt;p&gt;If I understand this issue correctly, just adding rs.next() after&lt;br/&gt;
stmt.executeUpdate() should be enough, and it wouldn&apos;t change what is&lt;br/&gt;
tested. It would also be good to have a comment explaining why the&lt;br/&gt;
second rs.next() is needed, as it is not obvious.&lt;/p&gt;

&lt;p&gt;One final nit. I don&apos;t think it is necessary or makes the code clearer&lt;br/&gt;
to split&lt;br/&gt;
  ResultSet rs = cs.getResultSet();&lt;br/&gt;
into&lt;br/&gt;
  ResultSet rs = null;&lt;br/&gt;
  ...&lt;br/&gt;
  // ResultSet&lt;br/&gt;
  rs = cs.getResultSet();&lt;br/&gt;
If it is not needed, I think it would be better to leave it as it is.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Knut Anders&lt;/p&gt;</comment>
                            <comment id="12425395" author="mkutty" created="Thu, 3 Aug 2006 00:05:18 +0100"  >&lt;p&gt;Hi Knut,&lt;/p&gt;

&lt;p&gt;Thanks for your valuable suggestions. As per that I had modified the patch. The white spaces are because I had edited the file using textpad (bad idea). For this patch I had edited the file using vi. And looked fine to me. Please lep me know if there is any problem.&lt;/p&gt;</comment>
                            <comment id="12425924" author="kmarsden" created="Sat, 5 Aug 2006 03:12:24 +0100"  >&lt;p&gt;Hi Manjula, &lt;/p&gt;

&lt;p&gt;The change looks good but I could not apply the patch.  I think that the issue is that the patch was not  generated from the top of the code tree. &lt;/p&gt;

&lt;p&gt;The patch says&lt;br/&gt;
Index: procedure.java ...&lt;br/&gt;
instead of &lt;br/&gt;
Index:java/testing/org/apache/derbyTesting/functionTests/tests/lang/procedure.java&lt;/p&gt;

&lt;p&gt;Can you regenerate the patch from the top level and resubmit it?&lt;br/&gt;
When you do, please make sure to check patch available and it would be most helpful if the diff file and stat file include the bug number.&lt;/p&gt;

&lt;p&gt;Thanks for the patch.&lt;/p&gt;

&lt;p&gt;Kathey&lt;/p&gt;
</comment>
                            <comment id="12426352" author="mkutty" created="Mon, 7 Aug 2006 23:32:00 +0100"  >&lt;p&gt;Sorry for my mistake. Please find the new attached patch. I have included the bug number to the patch name. Please let me know if you have any problem while applying the patch&lt;/p&gt;</comment>
                            <comment id="12426429" author="fuzzylogic" created="Tue, 8 Aug 2006 05:25:03 +0100"  >&lt;p&gt;Checked in patch svn_diff_1320.txt with revision 429561.&lt;/p&gt;</comment>
                            <comment id="12551342" author="fuzzylogic" created="Thu, 13 Dec 2007 09:04:55 +0000"  >&lt;p&gt;This issue has been resolved for over a year with no further movement. Closing.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12345368">DERBY-1475</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12330232">DERBY-1108</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12337512" name="procedure.diff" size="31256" author="mkutty" created="Wed, 26 Jul 2006 00:05:42 +0100"/>
                            <attachment id="12335803" name="procedure.diff" size="59352" author="mkutty" created="Fri, 23 Jun 2006 06:24:35 +0100"/>
                            <attachment id="12335804" name="procedure.java" size="77262" author="mkutty" created="Fri, 23 Jun 2006 06:25:22 +0100"/>
                            <attachment id="12337513" name="procedure.stat" size="329" author="mkutty" created="Wed, 26 Jul 2006 00:06:23 +0100"/>
                            <attachment id="12338030" name="svn_diff.txt" size="527" author="mkutty" created="Thu, 3 Aug 2006 00:05:18 +0100"/>
                            <attachment id="12338325" name="svn_diff_1320.txt" size="720" author="mkutty" created="Mon, 7 Aug 2006 23:32:00 +0100"/>
                            <attachment id="12338031" name="svn_stat.txt" size="510" author="mkutty" created="Thu, 3 Aug 2006 00:05:37 +0100"/>
                            <attachment id="12338326" name="svn_stat_1320.txt" size="481" author="mkutty" created="Mon, 7 Aug 2006 23:32:15 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10369"><![CDATA[Regression Test Failure]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 25 May 2006 01:58:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22433</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0tmf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38617</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310050" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Urgency</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10053"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>