<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:52:09 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-6122/DERBY-6122.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-6122] InterruptResilienceTest fails with: junit.framework.ComparisonFailure: Database shutdown expected:&lt;[08006]&gt; but was:&lt;[XBDA0]&gt;</title>
                <link>https://issues.apache.org/jira/browse/DERBY-6122</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;During the test run with the 10.10.1.1 (RC2, i.e. build at revision 1458268) candidate I saw the following failure:&lt;/p&gt;

&lt;p&gt;2) testInterruptShutdown(org.apache.derbyTesting.functionTests.tests.store.InterruptResilienceTest)junit.framework.ComparisonFailure: Database shutdown expected:&amp;lt;&lt;span class=&quot;error&quot;&gt;&amp;#91;08006&amp;#93;&lt;/span&gt;&amp;gt; but was:&amp;lt;&lt;span class=&quot;error&quot;&gt;&amp;#91;XBDA0&amp;#93;&lt;/span&gt;&amp;gt;&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.assertSQLState(BaseJDBCTestCase.java:853)&lt;br/&gt;
	at org.apache.derbyTesting.junit.TestConfiguration.shutdownDatabase(TestConfiguration.java:1801)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.store.InterruptResilienceTest.testInterruptShutdown(InterruptResilienceTest.java:661)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:79)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:117)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.runBareOverridable(BaseJDBCTestCase.java:424)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.runBare(BaseJDBCTestCase.java:441)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
Caused by: java.sql.SQLException: Login timeout exceeded.&lt;br/&gt;
	at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.generateCsSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.Driver20.timeLogin(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.InternalDriver.connect(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.Driver20.connect(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.AutoloadedDriver.connect(Unknown Source)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:572)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:165)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DriverManagerConnector.getConnectionByAttributes(DriverManagerConnector.java:204)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DriverManagerConnector.shutDatabase(DriverManagerConnector.java:157)&lt;br/&gt;
	at org.apache.derbyTesting.junit.TestConfiguration.shutdownDatabase(TestConfiguration.java:1798)&lt;br/&gt;
	... 40 more&lt;/p&gt;

&lt;p&gt;This is &lt;b&gt;after&lt;/b&gt; a failure with AutoLoadTest, not sure if that matters...&lt;/p&gt;

&lt;p&gt;The test output also showed this:&lt;br/&gt;
(emb)store.InterruptResilienceTest.testInterruptBatch used 797 ms .&lt;br/&gt;
(emb)store.InterruptResilienceTest.testInterruptShutdown java.io.FileNotFoundException: system\singleUse\oneusef1\tmp (The system cannot find the file specified.)&lt;br/&gt;
	at java.io.FileInputStream.open(Native Method)&lt;br/&gt;
	at java.io.FileInputStream.&amp;lt;init&amp;gt;(FileInputStream.java:135)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.util.PrivilegedFileOpsForTests.copySingleFile(PrivilegedFileOpsForTests.java:304)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.util.PrivilegedFileOpsForTests.recursiveCopy(PrivilegedFileOpsForTests.java:276)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.util.PrivilegedFileOpsForTests.access$000(PrivilegedFileOpsForTests.java:49)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.util.PrivilegedFileOpsForTests$8.run(PrivilegedFileOpsForTests.java:235)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(AccessController.java:241)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.util.PrivilegedFileOpsForTests.copy(PrivilegedFileOpsForTests.java:233)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:141)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.runBareOverridable(BaseJDBCTestCase.java:424)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.runBare(BaseJDBCTestCase.java:441)&lt;br/&gt;
	at junit.framework.TestResult$1.protect(TestResult.java:106)&lt;br/&gt;
	at junit.framework.TestResult.runProtected(TestResult.java:124)&lt;br/&gt;
	at junit.framework.TestResult.run(TestResult.java:109)&lt;br/&gt;
	at junit.framework.TestCase.run(TestCase.java:120)&lt;br/&gt;
	at junit.framework.TestSuite.runTest(TestSuite.java:230)&lt;br/&gt;
	at junit.framework.TestSuite.run(TestSuite.java:225)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.framework.TestResult.runProtected(TestResult.java:124)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.framework.TestResult.runProtected(TestResult.java:124)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.framework.TestResult.runProtected(TestResult.java:124)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at junit.framework.TestSuite.runTest(TestSuite.java:230)&lt;br/&gt;
	at junit.framework.TestSuite.run(TestSuite.java:225)&lt;br/&gt;
	at junit.framework.TestSuite.runTest(TestSuite.java:230)&lt;br/&gt;
	at junit.framework.TestSuite.run(TestSuite.java:225)&lt;br/&gt;
	at junit.framework.TestSuite.runTest(TestSuite.java:230)&lt;br/&gt;
	at junit.framework.TestSuite.run(TestSuite.java:225)&lt;br/&gt;
	at junit.framework.TestSuite.runTest(TestSuite.java:230)&lt;br/&gt;
	at junit.framework.TestSuite.run(TestSuite.java:225)&lt;br/&gt;
	at junit.textui.TestRunner.doRun(TestRunner.java:121)&lt;br/&gt;
	at junit.textui.TestRunner.start(TestRunner.java:185)&lt;br/&gt;
	at junit.textui.TestRunner.main(TestRunner.java:143)&lt;br/&gt;
used 11953 ms F.&lt;br/&gt;
(emb)store.InterruptResilienceTest.testCreateDropInterrupted used 2250 ms E.&lt;br/&gt;
(net)store.InterruptResilienceTest.testRAFWriteInterrupted used 44094 ms .&lt;/p&gt;
</description>
                <environment>windows XP on VMWare, ibm 1.5</environment>
        <key id="12638364">DERBY-6122</key>
            <summary>InterruptResilienceTest fails with: junit.framework.ComparisonFailure: Database shutdown expected:&lt;[08006]&gt; but was:&lt;[XBDA0]&gt;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mikem">Mike Matrigali</assignee>
                                    <reporter username="myrna">Myrna van Lunteren</reporter>
                        <labels>
                            <label>derby_backport_reject_10_9</label>
                    </labels>
                <created>Thu, 21 Mar 2013 19:47:25 +0000</created>
                <updated>Wed, 22 Oct 2014 20:23:27 +0100</updated>
                            <resolved>Wed, 10 Apr 2013 20:28:13 +0100</resolved>
                                    <version>10.10.1.1</version>
                    <version>10.10.2.0</version>
                                    <fixVersion>10.10.2.0</fixVersion>
                    <fixVersion>10.11.1.1</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13609764" author="dagw" created="Fri, 22 Mar 2013 01:04:03 +0000"  >&lt;p&gt;Looks the connect to shut down timed out in the new login timeout code. But the test hasn&apos;t set any timeouts unless&lt;br/&gt;
you changed it globally for testing purposes - or it hasn&apos;t been cleared by a previous test that sets it? At least from analyzing the stack trace we know the code thinks a timeout is applicable here....&lt;/p&gt;</comment>
                            <comment id="13610116" author="knutanders" created="Fri, 22 Mar 2013 10:42:04 +0000"  >&lt;p&gt;InterruptResilienceTest sets the login timeout to 10 seconds in setUp() - after &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6094&quot; title=&quot;Derby ignores DriverManager.setLoginTimeout()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6094&quot;&gt;&lt;del&gt;DERBY-6094&lt;/del&gt;&lt;/a&gt;. Maybe it needs to be higher to account for the possibility that the tests run on slower machines?&lt;/p&gt;</comment>
                            <comment id="13620435" author="mikem" created="Wed, 3 Apr 2013 01:19:22 +0100"  >&lt;p&gt;nightly tests failed with this error on trunk ibm17 windows:&lt;br/&gt;
&lt;a href=&quot;http://people.apache.org/~myrnavl/derby_test_results/main/windows/testlog/ibm17/1463347-suites.All_diff.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://people.apache.org/~myrnavl/derby_test_results/main/windows/testlog/ibm17/1463347-suites.All_diff.txt&lt;/a&gt;&lt;br/&gt;
There was 1 error:&lt;br/&gt;
1) testCreateDropInterrupted(org.apache.derbyTesting.functionTests.tests.store.InterruptResilienceTest)java.sql.SQLException: Table/View &apos;T1&apos; already exists in Schema &apos;APP&apos;.&lt;br/&gt;
	at org.apache.derby.impl.jdbc.SQLExceptionFactory40.getSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.generateCsSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.handleException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.ConnectionChild.handleException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedStatement.execute(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedStatement.executeLargeUpdate(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedStatement.executeUpdate(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.store.InterruptResilienceTest.setUp(InterruptResilienceTest.java:129)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:117)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.runBareOverridable(BaseJDBCTestCase.java:424)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.runBare(BaseJDBCTestCase.java:441)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
Caused by: java.sql.SQLException: Table/View &apos;T1&apos; already exists in Schema &apos;APP&apos;.&lt;br/&gt;
	at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.SQLExceptionFactory40.wrapArgsForTransportAcrossDRDA(Unknown Source)&lt;br/&gt;
	... 45 more&lt;br/&gt;
Caused by: ERROR X0Y32: Table/View &apos;T1&apos; already exists in Schema &apos;APP&apos;.&lt;br/&gt;
	at org.apache.derby.iapi.error.StandardException.newException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.catalog.DataDictionaryImpl.duplicateDescriptorException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.catalog.DataDictionaryImpl.addDescriptor(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.execute.CreateTableConstantAction.executeConstantAction(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.execute.MiscResultSet.open(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.GenericPreparedStatement.executeStmt(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source)&lt;br/&gt;
	... 39 more&lt;br/&gt;
There was 1 failure:&lt;br/&gt;
1) testInterruptShutdown(org.apache.derbyTesting.functionTests.tests.store.InterruptResilienceTest)junit.framework.ComparisonFailure: Database shutdown expected:&amp;lt;&lt;span class=&quot;error&quot;&gt;&amp;#91;08006&amp;#93;&lt;/span&gt;&amp;gt; but was:&amp;lt;&lt;span class=&quot;error&quot;&gt;&amp;#91;XBDA0&amp;#93;&lt;/span&gt;&amp;gt;&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.assertSQLState(BaseJDBCTestCase.java:853)&lt;br/&gt;
	at org.apache.derbyTesting.junit.TestConfiguration.shutdownDatabase(TestConfiguration.java:1801)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.store.InterruptResilienceTest.testInterruptShutdown(InterruptResilienceTest.java:661)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:88)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:117)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.runBareOverridable(BaseJDBCTestCase.java:424)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.runBare(BaseJDBCTestCase.java:441)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
Caused by: java.sql.SQLTimeoutException: Login timeout exceeded.&lt;br/&gt;
	at org.apache.derby.impl.jdbc.SQLExceptionFactory40.getSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.generateCsSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.Driver20.timeLogin(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.InternalDriver.connect(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.Driver20.connect(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.AutoloadedDriver.connect(Unknown Source)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:590)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:201)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DriverManagerConnector.getConnectionByAttributes(DriverManagerConnector.java:204)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DriverManagerConnector.shutDatabase(DriverManagerConnector.java:157)&lt;br/&gt;
	at org.apache.derbyTesting.junit.TestConfiguration.shutdownDatabase(TestConfiguration.java:1798)&lt;br/&gt;
	... 40 more&lt;br/&gt;
Caused by: java.sql.SQLException: Login timeout exceeded.&lt;br/&gt;
	at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.SQLExceptionFactory40.wrapArgsForTransportAcrossDRDA(Unknown Source)&lt;br/&gt;
	... 53 more&lt;/p&gt;

&lt;p&gt;FAILURES!!!&lt;br/&gt;
Tests run: 17275,  Failures: 1,  Errors: 1&lt;/p&gt;</comment>
                            <comment id="13620465" author="mikem" created="Wed, 3 Apr 2013 01:57:27 +0100"  >&lt;p&gt;another occurence against candidate branch, windows ibm15&lt;br/&gt;
&lt;a href=&quot;http://people.apache.org/~myrnavl/derby_test_results/v10_10/windows/testlog/ibm15/1462870-suites.All_diff.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://people.apache.org/~myrnavl/derby_test_results/v10_10/windows/testlog/ibm15/1462870-suites.All_diff.txt&lt;/a&gt;&lt;br/&gt;
There was 1 error:&lt;br/&gt;
1) testCreateDropInterrupted(org.apache.derbyTesting.functionTests.tests.store.InterruptResilienceTest)java.sql.SQLException: Table/View &apos;T1&apos; already exists in Schema &apos;APP&apos;.&lt;br/&gt;
	at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.generateCsSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.handleException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.ConnectionChild.handleException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedStatement.execute(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedStatement.executeLargeUpdate(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedStatement.executeUpdate(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.store.InterruptResilienceTest.setUp(InterruptResilienceTest.java:129)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:117)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.runBareOverridable(BaseJDBCTestCase.java:424)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.runBare(BaseJDBCTestCase.java:441)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
Caused by: ERROR X0Y32: Table/View &apos;T1&apos; already exists in Schema &apos;APP&apos;.&lt;br/&gt;
	at org.apache.derby.iapi.error.StandardException.newException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.catalog.DataDictionaryImpl.duplicateDescriptorException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.catalog.DataDictionaryImpl.addDescriptor(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.execute.CreateTableConstantAction.executeConstantAction(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.execute.MiscResultSet.open(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.GenericPreparedStatement.executeStmt(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.GenericPreparedStatement.execute(Unknown Source)&lt;br/&gt;
	... 39 more&lt;br/&gt;
There was 1 failure:&lt;br/&gt;
1) testInterruptShutdown(org.apache.derbyTesting.functionTests.tests.store.InterruptResilienceTest)junit.framework.ComparisonFailure: Database shutdown expected:&amp;lt;&lt;span class=&quot;error&quot;&gt;&amp;#91;08006&amp;#93;&lt;/span&gt;&amp;gt; but was:&amp;lt;&lt;span class=&quot;error&quot;&gt;&amp;#91;XBDA0&amp;#93;&lt;/span&gt;&amp;gt;&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.assertSQLState(BaseJDBCTestCase.java:853)&lt;br/&gt;
	at org.apache.derbyTesting.junit.TestConfiguration.shutdownDatabase(TestConfiguration.java:1801)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.store.InterruptResilienceTest.testInterruptShutdown(InterruptResilienceTest.java:661)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:79)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:117)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.runBareOverridable(BaseJDBCTestCase.java:424)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.runBare(BaseJDBCTestCase.java:441)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
Caused by: java.sql.SQLException: Login timeout exceeded.&lt;br/&gt;
	at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.generateCsSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.Driver20.timeLogin(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.InternalDriver.connect(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.Driver20.connect(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.AutoloadedDriver.connect(Unknown Source)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:572)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:165)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DriverManagerConnector.getConnectionByAttributes(DriverManagerConnector.java:204)&lt;br/&gt;
	at org.apache.derbyTesting.junit.DriverManagerConnector.shutDatabase(DriverManagerConnector.java:157)&lt;br/&gt;
	at org.apache.derbyTesting.junit.TestConfiguration.shutdownDatabase(TestConfiguration.java:1798)&lt;br/&gt;
	... 40 more&lt;/p&gt;

&lt;p&gt;FAILURES!!!&lt;br/&gt;
Tests run: 15048,  Failures: 1,  Errors: 1&lt;/p&gt;</comment>
                            <comment id="13624785" author="dagw" created="Sun, 7 Apr 2013 09:19:56 +0100"  >&lt;p&gt;Did anyone try to run the failing tests with a longer timeout to see if that fixes the problem, as Knut suggested?&lt;/p&gt;</comment>
                            <comment id="13625262" author="knutanders" created="Mon, 8 Apr 2013 10:57:41 +0100"  >&lt;p&gt;Login timeout is a new feature in 10.10, so presumably this bug shouldn&apos;t have the regression flag?&lt;/p&gt;</comment>
                            <comment id="13625727" author="mikem" created="Mon, 8 Apr 2013 20:54:09 +0100"  >&lt;p&gt;I didn&apos;t really try to figure out why the test was failing.  At first glance this is a nightly regression test that is failing in 10.10/trunk and not failing&lt;br/&gt;
in prior releases so marked it a regression.  You are probably right, but until proved I wanted to move looking at this up in priority as it is a &lt;br/&gt;
possible regression until we fix it.&lt;/p&gt;

&lt;p&gt;I will look at this one next, first see how often I can reproduce and see if changing the timeout helps.&lt;/p&gt;</comment>
                            <comment id="13625843" author="mikem" created="Mon, 8 Apr 2013 22:25:41 +0100"  >&lt;p&gt;before making the change I was hoping to get it to reproduce on my laptop.  It did not fail in100 runs against windows7, sane, ibm17:&lt;br/&gt;
s1_ibm17:3&amp;gt;java -version&lt;br/&gt;
java version &quot;1.7.0&quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build pwi3270sr3-20121025_01(SR3))&lt;br/&gt;
IBM J9 VM (build 2.6, JRE 1.7.0 Windows 7 x86-32 20121024_126071 (JIT enabled, AOT enabled)&lt;br/&gt;
J9VM - R26_Java726_SR3_20121024_1635_B126071&lt;br/&gt;
JIT  - r11.b02_20120924_26343a&lt;br/&gt;
GC   - R26_Java726_SR3_20121024_1635_B126071&lt;br/&gt;
J9CL - 20121024_126071)&lt;br/&gt;
JCL - 20121019_01 based on Oracle 7u6-b17&lt;/p&gt;</comment>
                            <comment id="13625864" author="mikem" created="Mon, 8 Apr 2013 22:44:05 +0100"  >&lt;p&gt;In looking at the test the only difference between 10.9 and trunk is:&lt;br/&gt;
s10_9_ibm16:7&amp;gt;diff InterruptResilienceTest.java /tmp&lt;br/&gt;
136a137,140&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt;         // test that we recover from login timeouts&lt;br/&gt;
&amp;gt;         DriverManager.setLoginTimeout( 10 );&lt;br/&gt;
&amp;gt;&lt;br/&gt;
144a149,150&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt;         DriverManager.setLoginTimeout( 0 );&lt;/p&gt;


&lt;p&gt;Can anyone explain what is expected of the test after this change.  I was expecting some changes maybe to catch a login timeout, or&lt;br/&gt;
a test case that did something to purposely causing a timeout.  I can go ahead and bump the timeout but I am not seeing what value &lt;br/&gt;
the changes have other than maybe making sure you can call the routine.&lt;/p&gt;
</comment>
                            <comment id="13625881" author="mikem" created="Mon, 8 Apr 2013 22:53:01 +0100"  >&lt;p&gt;setLoginTimeout code was added to this test by change #1455230, &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6094&quot; title=&quot;Derby ignores DriverManager.setLoginTimeout()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6094&quot;&gt;&lt;del&gt;DERBY-6094&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
After reading through the comments in &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6094&quot; title=&quot;Derby ignores DriverManager.setLoginTimeout()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6094&quot;&gt;&lt;del&gt;DERBY-6094&lt;/del&gt;&lt;/a&gt;, I think the intent of the change is to set&lt;br/&gt;
the timeout high enough such that it is never reached.  This will still make the code go through&lt;br/&gt;
a code path different then if no timeout was set.  So will proceed on upping the timeout.&lt;/p&gt;

&lt;p&gt;Still would be nice if others could comment if the test results logged are what would have&lt;br/&gt;
been expected if we encountered a timeout.  I don&apos;t want to hide a bug if there is one.  The comments&lt;br/&gt;
say &quot;test that we recover from login timeouts&quot;, and it looks like we did not in the cases reported. A better&lt;br/&gt;
comment in this test would help.&lt;/p&gt;</comment>
                            <comment id="13626090" author="mikem" created="Tue, 9 Apr 2013 02:39:31 +0100"  >&lt;p&gt;ran 100 times in top of 10.10 branch, sane, ibm17, windows 7 and did not fail once.&lt;/p&gt;</comment>
                            <comment id="13626533" author="rhillegas" created="Tue, 9 Apr 2013 13:42:04 +0100"  >&lt;p&gt;Increasing the timeout is a good solution, I think. The login timeout was added by derby-6094-03-aa-retryOnInterrupt.diff. The point was to force the Derby tests to exercise a new block of code added to Driver20 to handle interrupts raised during login attempts. As InterruptResilienceTest runs, interrupts are supposed to happen--although it&apos;s hard to force the exact timing of the interrupts. The login timeout added to this test is only supposed to test the following case:&lt;/p&gt;

&lt;p&gt;1) An interrupt occurs within the time limit set by DriverManager.setLoginTimeout()&lt;/p&gt;

&lt;p&gt;2) The new code added to Driver20 fields the interrupt and continues attempting to log in.&lt;/p&gt;

&lt;p&gt;There are other tests (not in InterruptResilienceTest) which test what happens when the timeout expires without being interrupted. I think you are doing the right thing by raising the timeout high enough that it won&apos;t fail on any of the rigs in your test lab. Thanks.&lt;/p&gt;</comment>
                            <comment id="13627090" author="mikem" created="Tue, 9 Apr 2013 21:53:20 +0100"  >&lt;p&gt;committed to trunk:&lt;br/&gt;
------------------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;r1466225 | mikem | 2013-04-09 13:48:16 -0700 (Tue, 09 Apr 2013) | 11 lines&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6122&quot; title=&quot;InterruptResilienceTest fails with: junit.framework.ComparisonFailure: Database shutdown expected:&amp;lt;[08006]&amp;gt; but was:&amp;lt;[XBDA0]&amp;gt;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6122&quot;&gt;&lt;del&gt;DERBY-6122&lt;/del&gt;&lt;/a&gt; -  InterruptResilienceTest fails with: junit.framework.ComparisonFailure: Database shutdown expected:&amp;lt;&lt;span class=&quot;error&quot;&gt;&amp;#91;08006&amp;#93;&lt;/span&gt;&amp;gt; but was:&amp;lt;&lt;span class=&quot;error&quot;&gt;&amp;#91;XBDA0&amp;#93;&lt;/span&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;The core problem that led to this assert was that an attempt by the&lt;br/&gt;
test to shutdown the database timed out with:&lt;br/&gt;
Caused by: java.sql.SQLException: Login timeout exceeded.&lt;/p&gt;

&lt;p&gt;The test had set a 10 second timeout assuming that was large enough such that&lt;br/&gt;
no timeout would be encountered, but failed a few times in public IBM lab&lt;br/&gt;
nightly regression runs.  Raising the number to 1000.&lt;/p&gt;</comment>
                            <comment id="13628145" author="mikem" created="Wed, 10 Apr 2013 20:27:05 +0100"  >&lt;p&gt;no need to backport this one any more as the login timeout feature is new to 10.10.&lt;/p&gt;

&lt;p&gt;committed fix to 10.10 branch:&lt;br/&gt;
s10_10_ibm16:5&amp;gt;svn commit&lt;br/&gt;
Sending        .&lt;br/&gt;
Sending        java\testing\org\apache\derbyTesting\functionTests\tests\store\InterruptResilienceTest.java&lt;br/&gt;
Transmitting file data .&lt;br/&gt;
Committed revision 1466635.&lt;/p&gt;</comment>
                            <comment id="13628147" author="mikem" created="Wed, 10 Apr 2013 20:28:13 +0100"  >&lt;p&gt;I was not able to reproduce this one, so fix is by code inspection.  Closing it for now, but if&lt;br/&gt;
it shows up again in a nightly run, just go ahead and reopen it.&lt;/p&gt;</comment>
                            <comment id="14180372" author="myrna" created="Wed, 22 Oct 2014 20:23:27 +0100"  >&lt;p&gt;closing all resolved issues reported by me.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12641475">DERBY-6155</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12634415">DERBY-6094</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10369"><![CDATA[Regression Test Failure]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 22 Mar 2013 01:04:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318840</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzcv5j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>319181</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>