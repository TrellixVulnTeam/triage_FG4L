<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:52:20 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-1115/DERBY-1115.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-1115] Write a test that ensures that code that translates a message id into a message does so correctly</title>
                <link>https://issues.apache.org/jira/browse/DERBY-1115</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;After finding, in my and others&apos; code, a number of situations where we used a message id with no matching message, or used the incorrect number of parameters for an internationalized message, I became determined to write a test that tries to track down these bugs, a kind of &quot;i18n lint&quot;.  &lt;/p&gt;

&lt;p&gt;It&apos;s very hard, almost impossible, to test these invocations of message formatting through a normal  unit test, because basically you have to write a full suite of negative tests.&lt;/p&gt;

&lt;p&gt;This bug is a placeholder for some work I am doing to accomplish this task using code parsing rather than trying to execute negative tests.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12330263">DERBY-1115</key>
            <summary>Write a test that ensures that code that translates a message id into a message does so correctly</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="davidvc">David Van Couvering</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Mar 2006 05:19:55 +0000</created>
                <updated>Sat, 17 Aug 2013 01:24:40 +0100</updated>
                            <resolved>Thu, 7 May 2009 19:47:57 +0100</resolved>
                                    <version>10.6.1.0</version>
                                    <fixVersion>10.6.1.0</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12370423" author="davidvc" created="Wed, 15 Mar 2006 05:22:00 +0000"  >&lt;p&gt;What I have done instead is done some ingenuous (IMHO &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;) use of grep and sed to &lt;b&gt;generate&lt;/b&gt; a unit test which basically extracts all (or as many as I could find) uses of message translation in the network client and puts it in a single test file.  I have yet to tackle this for the engine.&lt;/p&gt;

&lt;p&gt;So, I have this all working (see attached) and I actually already found one bug that way.  Since it depends on UNIX utilities, it can&apos;t be part of the standard unit tests, but I&apos;d like to check it in and recommend we use it for nightly regression and release tests.&lt;/p&gt;

&lt;p&gt;The question is, where to put it?  Where I have it right now is under java/build/i18nTestGen.  It seems a bit odd since it&apos;s not actually java code.  Is there a better place to put this?  Should it go under tools?  &lt;/p&gt;</comment>
                            <comment id="12370589" author="davidvc" created="Thu, 16 Mar 2006 06:31:03 +0000"  >&lt;p&gt; Submitted client-side test, revision 386187. Derbyall passed except for wisconsin.sql, which looks completely unrelated&lt;/p&gt;
</comment>
                            <comment id="12707038" author="kmarsden" created="Thu, 7 May 2009 19:47:57 +0100"  >&lt;p&gt;Closing this as fixed as there was a test written.  That said there are still some problems with the test.  This is filed as &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1567&quot; title=&quot;generateClientMessageTest.sh is broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1567&quot;&gt;DERBY-1567&lt;/a&gt;, but there is no need to keep both issues open.&lt;/p&gt;</comment>
                            <comment id="13742752" author="jira-bot" created="Sat, 17 Aug 2013 01:24:38 +0100"  >&lt;p&gt;Commit 1514927 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bryanpendleton&quot; class=&quot;user-hover&quot; rel=&quot;bryanpendleton&quot;&gt;Bryan Pendleton&lt;/a&gt; in branch &apos;code/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1514927&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1514927&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6299&quot; title=&quot;Improve the code coverage of  Org.apache.derby.iapi.services.sanity  package&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6299&quot;&gt;&lt;del&gt;DERBY-6299&lt;/del&gt;&lt;/a&gt;: Improve code coverage of org.apache.derby.iapi.services.sanity&lt;/p&gt;

&lt;p&gt;This patch was contributed by Ahsan Shamsudeen (ahsan dot competition at gmail dot com)&lt;/p&gt;

&lt;p&gt;This patch removes the classes SanityManager and AssertFailure from the&lt;br/&gt;
org.apache.derby.iapi.services.sanity package, replacing all uses of those&lt;br/&gt;
classes with references to the same-named classes in the&lt;br/&gt;
org.apache.derby.shared.common.sanity package.&lt;/p&gt;

&lt;p&gt;This change is a follow-on to &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1115&quot; title=&quot;Write a test that ensures that code that translates a message id into a message does so correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1115&quot;&gt;&lt;del&gt;DERBY-1115&lt;/del&gt;&lt;/a&gt;, which moved the body of these&lt;br/&gt;
classes to the new location, but left the old classes around as wrappers.&lt;/p&gt;

&lt;p&gt;Removing the wrapper classes simplifies the code, but is not intended to have&lt;br/&gt;
any other effect. There are no known bugs fixed by these changes, although&lt;br/&gt;
as pointed out during review, there may be behavior changes as a result of&lt;br/&gt;
this change. For example, code which specifies&lt;/p&gt;

&lt;p&gt;	if (re instanceof AssertFailure)&lt;/p&gt;

&lt;p&gt;may have different behavior now, since it is testing for an instance of the&lt;br/&gt;
underlying type, not an instance of the wrapper type.&lt;/p&gt;

&lt;p&gt;This change affects a large set of files, but the change itself is quite simple.&lt;/p&gt;

&lt;p&gt;Each of the files has a diff roughly like:&lt;/p&gt;

&lt;p&gt;-import org.apache.derby.iapi.services.sanity.SanityManager;&lt;br/&gt;
+import org.apache.derby.shared.common.sanity.SanityManager;&lt;/p&gt;

&lt;p&gt;In addition to modifying the import statement in all such .java files, we are&lt;br/&gt;
also deleting the two files&lt;/p&gt;

&lt;p&gt;D       java\engine\org\apache\derby\iapi\services\sanity\AssertFailure.java&lt;br/&gt;
D       java\engine\org\apache\derby\iapi\services\sanity\SanityManager.java&lt;/p&gt;

&lt;p&gt;These two files, left over from &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1115&quot; title=&quot;Write a test that ensures that code that translates a message id into a message does so correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1115&quot;&gt;&lt;del&gt;DERBY-1115&lt;/del&gt;&lt;/a&gt;, are trivial wrappers around the&lt;br/&gt;
same-named classes in o.a.d.shared.common.sanity package.&lt;/p&gt;

&lt;p&gt;So all we&apos;re doing, then, is following up on &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1115&quot; title=&quot;Write a test that ensures that code that translates a message id into a message does so correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1115&quot;&gt;&lt;del&gt;DERBY-1115&lt;/del&gt;&lt;/a&gt; by fixing the import&lt;br/&gt;
statements and removing the two wrapper classes.&lt;/p&gt;

&lt;p&gt;So it&apos;s a big change, but conceptually quite simple.&lt;/p&gt;</comment>
                            <comment id="13742753" author="jira-bot" created="Sat, 17 Aug 2013 01:24:39 +0100"  >&lt;p&gt;Commit 1514927 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bryanpendleton&quot; class=&quot;user-hover&quot; rel=&quot;bryanpendleton&quot;&gt;Bryan Pendleton&lt;/a&gt; in branch &apos;code/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1514927&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1514927&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6299&quot; title=&quot;Improve the code coverage of  Org.apache.derby.iapi.services.sanity  package&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6299&quot;&gt;&lt;del&gt;DERBY-6299&lt;/del&gt;&lt;/a&gt;: Improve code coverage of org.apache.derby.iapi.services.sanity&lt;/p&gt;

&lt;p&gt;This patch was contributed by Ahsan Shamsudeen (ahsan dot competition at gmail dot com)&lt;/p&gt;

&lt;p&gt;This patch removes the classes SanityManager and AssertFailure from the&lt;br/&gt;
org.apache.derby.iapi.services.sanity package, replacing all uses of those&lt;br/&gt;
classes with references to the same-named classes in the&lt;br/&gt;
org.apache.derby.shared.common.sanity package.&lt;/p&gt;

&lt;p&gt;This change is a follow-on to &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1115&quot; title=&quot;Write a test that ensures that code that translates a message id into a message does so correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1115&quot;&gt;&lt;del&gt;DERBY-1115&lt;/del&gt;&lt;/a&gt;, which moved the body of these&lt;br/&gt;
classes to the new location, but left the old classes around as wrappers.&lt;/p&gt;

&lt;p&gt;Removing the wrapper classes simplifies the code, but is not intended to have&lt;br/&gt;
any other effect. There are no known bugs fixed by these changes, although&lt;br/&gt;
as pointed out during review, there may be behavior changes as a result of&lt;br/&gt;
this change. For example, code which specifies&lt;/p&gt;

&lt;p&gt;	if (re instanceof AssertFailure)&lt;/p&gt;

&lt;p&gt;may have different behavior now, since it is testing for an instance of the&lt;br/&gt;
underlying type, not an instance of the wrapper type.&lt;/p&gt;

&lt;p&gt;This change affects a large set of files, but the change itself is quite simple.&lt;/p&gt;

&lt;p&gt;Each of the files has a diff roughly like:&lt;/p&gt;

&lt;p&gt;-import org.apache.derby.iapi.services.sanity.SanityManager;&lt;br/&gt;
+import org.apache.derby.shared.common.sanity.SanityManager;&lt;/p&gt;

&lt;p&gt;In addition to modifying the import statement in all such .java files, we are&lt;br/&gt;
also deleting the two files&lt;/p&gt;

&lt;p&gt;D       java\engine\org\apache\derby\iapi\services\sanity\AssertFailure.java&lt;br/&gt;
D       java\engine\org\apache\derby\iapi\services\sanity\SanityManager.java&lt;/p&gt;

&lt;p&gt;These two files, left over from &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1115&quot; title=&quot;Write a test that ensures that code that translates a message id into a message does so correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1115&quot;&gt;&lt;del&gt;DERBY-1115&lt;/del&gt;&lt;/a&gt;, are trivial wrappers around the&lt;br/&gt;
same-named classes in o.a.d.shared.common.sanity package.&lt;/p&gt;

&lt;p&gt;So all we&apos;re doing, then, is following up on &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1115&quot; title=&quot;Write a test that ensures that code that translates a message id into a message does so correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1115&quot;&gt;&lt;del&gt;DERBY-1115&lt;/del&gt;&lt;/a&gt; by fixing the import&lt;br/&gt;
statements and removing the two wrapper classes.&lt;/p&gt;

&lt;p&gt;So it&apos;s a big change, but conceptually quite simple.&lt;/p&gt;</comment>
                            <comment id="13742754" author="jira-bot" created="Sat, 17 Aug 2013 01:24:40 +0100"  >&lt;p&gt;Commit 1514927 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bryanpendleton&quot; class=&quot;user-hover&quot; rel=&quot;bryanpendleton&quot;&gt;Bryan Pendleton&lt;/a&gt; in branch &apos;code/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1514927&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1514927&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6299&quot; title=&quot;Improve the code coverage of  Org.apache.derby.iapi.services.sanity  package&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6299&quot;&gt;&lt;del&gt;DERBY-6299&lt;/del&gt;&lt;/a&gt;: Improve code coverage of org.apache.derby.iapi.services.sanity&lt;/p&gt;

&lt;p&gt;This patch was contributed by Ahsan Shamsudeen (ahsan dot competition at gmail dot com)&lt;/p&gt;

&lt;p&gt;This patch removes the classes SanityManager and AssertFailure from the&lt;br/&gt;
org.apache.derby.iapi.services.sanity package, replacing all uses of those&lt;br/&gt;
classes with references to the same-named classes in the&lt;br/&gt;
org.apache.derby.shared.common.sanity package.&lt;/p&gt;

&lt;p&gt;This change is a follow-on to &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1115&quot; title=&quot;Write a test that ensures that code that translates a message id into a message does so correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1115&quot;&gt;&lt;del&gt;DERBY-1115&lt;/del&gt;&lt;/a&gt;, which moved the body of these&lt;br/&gt;
classes to the new location, but left the old classes around as wrappers.&lt;/p&gt;

&lt;p&gt;Removing the wrapper classes simplifies the code, but is not intended to have&lt;br/&gt;
any other effect. There are no known bugs fixed by these changes, although&lt;br/&gt;
as pointed out during review, there may be behavior changes as a result of&lt;br/&gt;
this change. For example, code which specifies&lt;/p&gt;

&lt;p&gt;	if (re instanceof AssertFailure)&lt;/p&gt;

&lt;p&gt;may have different behavior now, since it is testing for an instance of the&lt;br/&gt;
underlying type, not an instance of the wrapper type.&lt;/p&gt;

&lt;p&gt;This change affects a large set of files, but the change itself is quite simple.&lt;/p&gt;

&lt;p&gt;Each of the files has a diff roughly like:&lt;/p&gt;

&lt;p&gt;-import org.apache.derby.iapi.services.sanity.SanityManager;&lt;br/&gt;
+import org.apache.derby.shared.common.sanity.SanityManager;&lt;/p&gt;

&lt;p&gt;In addition to modifying the import statement in all such .java files, we are&lt;br/&gt;
also deleting the two files&lt;/p&gt;

&lt;p&gt;D       java\engine\org\apache\derby\iapi\services\sanity\AssertFailure.java&lt;br/&gt;
D       java\engine\org\apache\derby\iapi\services\sanity\SanityManager.java&lt;/p&gt;

&lt;p&gt;These two files, left over from &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1115&quot; title=&quot;Write a test that ensures that code that translates a message id into a message does so correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1115&quot;&gt;&lt;del&gt;DERBY-1115&lt;/del&gt;&lt;/a&gt;, are trivial wrappers around the&lt;br/&gt;
same-named classes in o.a.d.shared.common.sanity package.&lt;/p&gt;

&lt;p&gt;So all we&apos;re doing, then, is following up on &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1115&quot; title=&quot;Write a test that ensures that code that translates a message id into a message does so correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1115&quot;&gt;&lt;del&gt;DERBY-1115&lt;/del&gt;&lt;/a&gt; by fixing the import&lt;br/&gt;
statements and removing the two wrapper classes.&lt;/p&gt;

&lt;p&gt;So it&apos;s a big change, but conceptually quite simple.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12346463">DERBY-1567</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12324182" name="README" size="1224" author="davidvc" created="Wed, 15 Mar 2006 05:23:09 +0000"/>
                            <attachment id="12324183" name="TestClientMessages.java" size="25253" author="davidvc" created="Wed, 15 Mar 2006 05:23:40 +0000"/>
                            <attachment id="12324180" name="genClient1.sed" size="51" author="davidvc" created="Wed, 15 Mar 2006 05:22:33 +0000"/>
                            <attachment id="12324181" name="genClient2.sed" size="263" author="davidvc" created="Wed, 15 Mar 2006 05:22:52 +0000"/>
                            <attachment id="12324179" name="generateClientMessageTest.sh" size="2259" author="davidvc" created="Wed, 15 Mar 2006 05:22:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 7 May 2009 18:47:57 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>29862</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0jp3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37009</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>