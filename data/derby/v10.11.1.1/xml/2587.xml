<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:54:25 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-2587/DERBY-2587.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-2587] Connection.createClob() and Connection.createBlob() need to return locator support enabled LOB objects in the NetworkClient</title>
                <link>https://issues.apache.org/jira/browse/DERBY-2587</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description></description>
                <environment></environment>
        <key id="12367936">DERBY-2587</key>
            <summary>Connection.createClob() and Connection.createBlob() need to return locator support enabled LOB objects in the NetworkClient</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="31583">DERBY-208</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="narayanan">V.Narayanan</assignee>
                                    <reporter username="narayanan">V.Narayanan</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Apr 2007 14:41:36 +0100</created>
                <updated>Fri, 15 Jun 2007 13:37:11 +0100</updated>
                            <resolved>Mon, 4 Jun 2007 09:01:52 +0100</resolved>
                                                    <fixVersion>10.3.1.4</fixVersion>
                                    <component>Network Server</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12491291" author="narayanan" created="Tue, 24 Apr 2007 14:52:56 +0100"  >&lt;p&gt;Derby-2496 (Implement Blob support for locators) adds a constructor to the Blob implementation public Blob(Agent agent, int locator) that accepts a locator as parameter. This constructor will be used in this patch to create a new Blob object associated with a valid locator value&lt;/p&gt;</comment>
                            <comment id="12491293" author="narayanan" created="Tue, 24 Apr 2007 15:04:49 +0100"  >&lt;p&gt;Pls find attached the Connection createBlob() method implementation.&lt;/p&gt;

&lt;p&gt;The following are the details of the work done&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Moved the createBlob and createClob from net/NetConnection40 to am/Connection.&lt;/li&gt;
	&lt;li&gt;Modified createBlob to use locators.&lt;/li&gt;
	&lt;li&gt;call blobCreateLocator() to get a locator value&lt;/li&gt;
	&lt;li&gt;If a valid locator value is obtained then return a Blob object associated with this&lt;br/&gt;
    locator value.&lt;/li&gt;
	&lt;li&gt;If an exception is thrown upon a call to the stored procedure BLOBCREATELOCATOR&lt;br/&gt;
   or CLOBCREATELOCATOR this information can be cached in the &lt;br/&gt;
   CallableLocatorProcedures class so that a round trip to the server can be avoided&lt;br/&gt;
   when locator support is not available&lt;/li&gt;
	&lt;li&gt;The locator code has been temporarily disabled.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Please note that this patch is dependent on Derby-2496 and cannot be committed&lt;br/&gt;
until &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2496&quot; title=&quot;Implement Blob support for Locators&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2496&quot;&gt;&lt;del&gt;DERBY-2496&lt;/del&gt;&lt;/a&gt; is committed.&lt;/p&gt;</comment>
                            <comment id="12492639" author="narayanan" created="Mon, 30 Apr 2007 10:20:53 +0100"  >&lt;p&gt;Derby-2496 has been committed. Hence this patch is not blocked anymore. I applied this patch to a freshworkspace and ran tests(junit All) they ran cleanly. I request for someone to consider this patch for reviews and comments and if everything is ok a commit too.&lt;/p&gt;</comment>
                            <comment id="12492685" author="rhillegas" created="Mon, 30 Apr 2007 16:19:11 +0100"  >&lt;p&gt;Thanks for this patch, too, Narayanan. I have a couple suggestions:&lt;/p&gt;

&lt;p&gt;1) Throughout the patch, the magic number -1 is used to mean &quot;locators not enabled&quot;. I think that the code would be less brittle if the magic number were replaced with a friendly constant like LOCATORS_NOT_ENABLED.&lt;/p&gt;

&lt;p&gt;2) Nit:  In CallableLocatorProcedures: &quot;isLocatorSupportEnabled == false&quot; seems like an awkward way to say &quot;!isLocatorSupportEnabled&quot;&lt;/p&gt;

&lt;p&gt;3) I was surprised by the comparison of the SQLState to a hardcoded &quot;42Y03&quot; rather than to some expression involving LANG_NO_SUCH_METHOD_ALIAS. Is there some reason that you can&apos;t use the friendly constant?&lt;/p&gt;</comment>
                            <comment id="12493073" author="narayanan" created="Wed, 2 May 2007 12:13:06 +0100"  >&lt;p&gt;Thank you for the reviews and comments on this patch Rick. &lt;/p&gt;

&lt;p&gt;I have addressed all the issues pointed out by you as part of v2.&lt;/p&gt;

&lt;p&gt;I am running tests on v2 and shall post the results as soon as the test run finishes.&lt;/p&gt;

&lt;p&gt;I request for v2 to be considered for reviews and comments.&lt;/p&gt;</comment>
                            <comment id="12493212" author="rhillegas" created="Wed, 2 May 2007 22:12:58 +0100"  >&lt;p&gt;Thanks for the changes, Narayanan. We&apos;re almost there. I think that the SQLState comparisons need to use ExceptionUtil.getSQLStateFromIdentifier() in order to guarantee that you only use the leading 5 characters of the message ID. I realize that this looks moot in this case since this message ID is only 5 characters long to begin with. But, in the future, someone may decorate that message ID with trailing information--and that will break the comparison in CallableLocatorProcedures.&lt;/p&gt;</comment>
                            <comment id="12493335" author="narayanan" created="Thu, 3 May 2007 11:47:48 +0100"  >&lt;p&gt;Thanks again for the review of the patch Rick. I have attached a patch with all the issues pointed out by you addressed. I saw a couple of errors which I have not seen before during test runs. &lt;/p&gt;

&lt;p&gt;I have pasted a snippet of the error output below. I seem to get such errors sporadically in my laptop. I am sure this error is not due to the using ExceptionUtil. But just to confirm I will run the tests again in another machine and I will run the tests on a fresh workspace in the laptop and revert back with the results.&lt;/p&gt;

&lt;p&gt;I request for this patch to be considered for reviews and comments.&lt;/p&gt;

&lt;p&gt;FormatableError:read error    : java.io.EOFException&lt;br/&gt;
FormatableError:class written : class org.apache.derby.impl.store.access.heap.Heap&lt;br/&gt;
FormatableError:read back as null&lt;br/&gt;
FormatableError:write id      : 467&lt;br/&gt;
java.io.EOFException&lt;br/&gt;
    at java.io.DataInputStream.readUnsignedByte(DataInputStream.java:273)&lt;br/&gt;
    at org.apache.derby.iapi.services.io.CompressedNumber.readInt(CompressedNumber.java:127)&lt;br/&gt;
    at org.apache.derby.impl.store.access.conglomerate.ConglomerateUtil.readCollationIdArray(ConglomerateUtil.java:328)&lt;br/&gt;
    at org.apache.derby.impl.store.access.heap.Heap.localReadExternal(Heap.java:1219)&lt;br/&gt;
    at org.apache.derby.impl.store.access.heap.Heap.readExternal(Heap.java:1238)&lt;br/&gt;
    at org.apache.derby.iapi.services.io.FormatIdInputStream.readObject(FormatIdInputStream.java:126)&lt;br/&gt;
    at org.apache.derby.iapi.services.io.DebugByteTeeOutputStream.checkObject(DebugByteTeeOutputStream.java:59)&lt;br/&gt;
    at org.apache.derby.iapi.services.io.FormatIdOutputStream.writeObject(FormatIdOutputStream.java:151)&lt;br/&gt;
    at org.apache.derby.iapi.services.io.ArrayUtil.writeArrayItems(ArrayUtil.java:75)&lt;br/&gt;
    at org.apache.derby.impl.sql.GenericStorablePreparedStatement.writeExternal(GenericStorablePreparedStatement.java:197)&lt;br/&gt;
    at org.apache.derby.iapi.services.io.FormatIdOutputStream.writeObject(FormatIdOutputStream.java:165)&lt;br/&gt;
    at org.apache.derby.iapi.types.UserType.writeExternal(UserType.java:286)&lt;br/&gt;
    at org.apache.derby.impl.store.raw.data.StoredPage.logColumn(StoredPage.java:6233)&lt;br/&gt;
    at org.apache.derby.impl.store.raw.data.StoredPage.logRow(StoredPage.java:3953)&lt;br/&gt;
    at org.apache.derby.impl.store.raw.data.UpdateOperation.writeOptionalDataToBuffer(UpdateOperation.java:255)&lt;br/&gt;
    at org.apache.derby.impl.store.raw.data.UpdateOperation.&amp;lt;init&amp;gt;(UpdateOperation.java:106)&lt;br/&gt;
    at org.apache.derby.impl.store.raw.data.LoggableActions.actionUpdate(LoggableActions.java:80)&lt;br/&gt;
    at org.apache.derby.impl.store.raw.data.StoredPage.doUpdateAtSlot(StoredPage.java:8521)&lt;br/&gt;
    at org.apache.derby.impl.store.raw.data.BasePage.updateAtSlot(BasePage.java:983)&lt;br/&gt;
    at org.apache.derby.impl.store.access.conglomerate.GenericConglomerateController.replace(GenericConglomerateController.java:468)&lt;br/&gt;
    at org.apache.derby.impl.sql.execute.RowChangerImpl.updateRow(RowChangerImpl.java:523)&lt;br/&gt;
    at org.apache.derby.impl.sql.catalog.TabInfoImpl.updateRow(TabInfoImpl.java:1100)&lt;br/&gt;
    at org.apache.derby.impl.sql.catalog.TabInfoImpl.updateRow(TabInfoImpl.java:975)&lt;br/&gt;
    at org.apache.derby.impl.sql.catalog.DataDictionaryImpl.updateSPS(DataDictionaryImpl.java:3491)&lt;br/&gt;
    at org.apache.derby.iapi.sql.dictionary.SPSDescriptor.updateSYSSTATEMENTS(SPSDescriptor.java:1097)&lt;br/&gt;
    at org.apache.derby.iapi.sql.dictionary.SPSDescriptor.getPreparedStatement(SPSDescriptor.java:706)&lt;br/&gt;
    at org.apache.derby.iapi.sql.dictionary.SPSDescriptor.getPreparedStatement(SPSDescriptor.java:642)&lt;br/&gt;
    at org.apache.derby.impl.sql.compile.ExecSPSNode.generate(ExecSPSNode.java:177)&lt;/p&gt;</comment>
                            <comment id="12493355" author="narayanan" created="Thu, 3 May 2007 13:32:56 +0100"  >&lt;p&gt;I see these errors on a run with a fresh workspace also. Confirms that these errors are not due to my patch. &lt;/p&gt;

&lt;p&gt;I request for v3 to be considered for reviews and comments and if everything is OK a commit too.&lt;/p&gt;</comment>
                            <comment id="12493471" author="rhillegas" created="Thu, 3 May 2007 20:31:06 +0100"  >&lt;p&gt;The patch looks good to me now but I&apos;m afraid that it breaks the JUnit tests. I have run the full JUnit tests twice against this patch and seen the following error both times. As a reference, I ran the tests against a clean client without the patch and I did not see this error:&lt;/p&gt;

&lt;p&gt;There was 1 error:&lt;br/&gt;
1) testTriggerNegative(org.apache.derbyTesting.functionTests.tests.lang.ProcedureInTriggerTest)java.sql.SQLException: Operation &apos;CREATE TRIGGER&apos; cannot be performed on object &apos;T1&apos; because there is an open ResultSet dependent on that object.&lt;br/&gt;
	at org.apache.derby.client.am.SQLExceptionFactory40.getSQLException(SQLExceptionFactory40.java:95)&lt;br/&gt;
	at org.apache.derby.client.am.SqlException.getSQLException(SqlException.java:346)&lt;br/&gt;
	at org.apache.derby.client.am.Statement.execute(Statement.java:824)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.ProcedureInTriggerTest.testTriggerNegative(ProcedureInTriggerTest.java:406)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:88)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
Caused by: org.apache.derby.client.am.SqlException: Operation &apos;CREATE TRIGGER&apos; cannot be performed on object &apos;T1&apos; because there is an open ResultSet dependent on that object.&lt;br/&gt;
	at org.apache.derby.client.am.Statement.completeSqlca(Statement.java:1713)&lt;br/&gt;
	at org.apache.derby.client.am.Statement.completeExecuteImmediate(Statement.java:1322)&lt;br/&gt;
	at org.apache.derby.client.net.NetStatementReply.parseEXCSQLIMMreply(NetStatementReply.java:207)&lt;br/&gt;
	at org.apache.derby.client.net.NetStatementReply.readExecuteImmediate(NetStatementReply.java:58)&lt;br/&gt;
	at org.apache.derby.client.net.StatementReply.readExecuteImmediate(StatementReply.java:45)&lt;br/&gt;
	at org.apache.derby.client.net.NetStatement.readExecuteImmediate_(NetStatement.java:125)&lt;br/&gt;
	at org.apache.derby.client.am.Statement.readExecuteImmediate(Statement.java:1318)&lt;br/&gt;
	at org.apache.derby.client.am.Statement.flowExecute(Statement.java:2014)&lt;br/&gt;
	at org.apache.derby.client.am.Statement.executeX(Statement.java:829)&lt;br/&gt;
	at org.apache.derby.client.am.Statement.execute(Statement.java:815)&lt;br/&gt;
	... 37 more&lt;/p&gt;

&lt;p&gt;FAILURES!!!&lt;br/&gt;
Tests run: 7521,  Failures: 0,  Errors: 1&lt;/p&gt;</comment>
                            <comment id="12493607" author="narayanan" created="Fri, 4 May 2007 08:53:15 +0100"  >&lt;p&gt;My apologies for this Rick. I got confused with the other errors I &lt;br/&gt;
encountered. I should have run this test on my other machine also. I &lt;br/&gt;
will revert back to you on this later today. Thank you for the reviews &lt;br/&gt;
and comments.&lt;/p&gt;

</comment>
                            <comment id="12493675" author="narayanan" created="Fri, 4 May 2007 14:38:15 +0100"  >&lt;p&gt;Thank you for the earlier reviews and comments Rick.&lt;/p&gt;

&lt;p&gt;The following is my status on this issue&lt;/p&gt;

&lt;p&gt;1) I was unable to reproduce the error when I run the test individually &lt;br/&gt;
in my laptop or in my solaris box.&lt;/p&gt;

&lt;p&gt;2) I have started a full test run (junit all) in my solaris box and am &lt;br/&gt;
waiting for it to complete.&lt;/p&gt;

&lt;p&gt;3) I see that &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1585&quot; title=&quot;derbylang/procedureInTrigger: not able to create trigger due to an open ResultSet&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1585&quot;&gt;&lt;del&gt;DERBY-1585&lt;/del&gt;&lt;/a&gt; also points out similar error occuring earlier.&lt;/p&gt;

&lt;p&gt;4) I am not seemingly changing anything to these tests and am lost as of &lt;br/&gt;
now as to what these are caused due to.&lt;/p&gt;

&lt;p&gt;Thanks again for the patient comments, My apologies for this delay.&lt;/p&gt;

</comment>
                            <comment id="12493684" author="narayanan" created="Fri, 4 May 2007 14:44:18 +0100"  >&lt;p&gt;Knut warned me once about not closing ResultSets in the patch I &lt;br/&gt;
submitted for 2443 and suggested a follow-up there. I am yet to do this &lt;br/&gt;
follow-up. I will do this just to ensure that this failure is not a &lt;br/&gt;
result of that.&lt;/p&gt;

</comment>
                            <comment id="12493973" author="narayanan" created="Mon, 7 May 2007 06:26:57 +0100"  >&lt;p&gt;A junit All run with the patch v3 in my solaris box doesn&apos;t seem to reproduce this error. I will produce a follow-up for 2443 today. I will look further into the possible causes of this error and report back with my findings.&lt;/p&gt;</comment>
                            <comment id="12494745" author="narayanan" created="Thu, 10 May 2007 14:21:02 +0100"  >&lt;p&gt;I have been trying to get a lead on fixing the failure in ProcedureInTriggerTest  from a viewpoint of this failure being caused by the addition of the v3 of the patch submitted but seem to find these unrelated. A search on the ProcedureInTriggerTest also reveals that it does not use LOB&apos;s. My feeling is that these failures are unrelated.&lt;/p&gt;

&lt;p&gt;Can this patch pls be reconsidered for a commit.&lt;/p&gt;</comment>
                            <comment id="12494763" author="rhillegas" created="Thu, 10 May 2007 15:18:45 +0100"  >&lt;p&gt;Thanks, Narayanan. It looks like this is a known heisenbug in our tests. I will re-apply the patch, re-run the tests, and if all goes well commit the patch. Cheers.&lt;/p&gt;</comment>
                            <comment id="12495087" author="rhillegas" created="Fri, 11 May 2007 17:08:14 +0100"  >&lt;p&gt;Committed ConnectionLocatorWork_v3.diff at subversion revision 537218. Thanks for the patch, Narayanan.&lt;/p&gt;</comment>
                            <comment id="12495473" author="narayanan" created="Mon, 14 May 2007 06:36:16 +0100"  >&lt;p&gt;Thank you for the commit Rick !&lt;/p&gt;

</comment>
                            <comment id="12499123" author="narayanan" created="Fri, 25 May 2007 16:54:07 +0100"  >&lt;p&gt;Pls find attached the Connection createClob() method implementation that returns a Clob that is locator enabled.&lt;/p&gt;

&lt;p&gt;The following are the details of the work done&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Modified createClob to use locators.&lt;/li&gt;
	&lt;li&gt;call clobCreateLocator() to get a locator value&lt;/li&gt;
	&lt;li&gt;If a valid locator value is obtained then return a Clob object associated with this&lt;br/&gt;
    locator value. &lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12499125" author="narayanan" created="Fri, 25 May 2007 16:57:11 +0100"  >&lt;p&gt;The createClob() code in the v4 patch has been temporarily disabled. It will be enabled once locator support for Clob is fully enabled. &lt;/p&gt;

&lt;p&gt;I have not run tests in v4 of the patch yet. I have started the tests and shall revert back with the results tommorrow.&lt;/p&gt;

&lt;p&gt;Please consider v4 of this patch for reviews and comments.&lt;/p&gt;</comment>
                            <comment id="12499285" author="narayanan" created="Sat, 26 May 2007 06:16:06 +0100"  >&lt;p&gt;I have run junit All on this patch and there were no failures. I request for v4 to be considered for a commit.&lt;/p&gt;</comment>
                            <comment id="12500650" author="knutanders" created="Fri, 1 Jun 2007 10:59:59 +0100"  >&lt;p&gt;Hi Narayanan,&lt;/p&gt;

&lt;p&gt;The patch basically looks correct to me, but I&apos;m not sure about this part:&lt;/p&gt;

&lt;p&gt;            //A valid locator value could not be obtained.&lt;br/&gt;
            clob = new org.apache.derby.client.am.Clob&lt;br/&gt;
                    (this.agent_, 0);&lt;/p&gt;

&lt;p&gt;Shouldn&apos;t this have been Clob(Agent,String) instead of Clob(Agent,int) to create an empty Clob which doesn&apos;t use locators?&lt;/p&gt;</comment>
                            <comment id="12500655" author="knutanders" created="Fri, 1 Jun 2007 11:06:07 +0100"  >&lt;p&gt;I tried to run jdbc4/TestConnectionMethods.java with -Dframework=DerbyNetClient, and I got this error which probably is caused by the issue I mentioned in my previous comment:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;Start: TestConnectionMethods jdk1.6.0_01 DerbyNetClient jdbc40:jdbc40 2007-06-01 12:01:38 ***&lt;br/&gt;
0 add&lt;br/&gt;
&amp;gt; java.sql.SQLException: The data in this BLOB or CLOB is no longer available.  The BLOB/CLOB&apos;s transaction may be committed, or its connection is closed.&lt;br/&gt;
&amp;gt; Caused by: org.apache.derby.client.am.SqlException: The data in this BLOB or CLOB is no longer available.  The BLOB/CLOB&apos;s transaction may be committed, or its connection is closed.&lt;br/&gt;
&amp;gt; 	... 3 more&lt;br/&gt;
Test Failed.&lt;/li&gt;
			&lt;li&gt;End:   TestConnectionMethods jdk1.6.0_01 DerbyNetClient jdbc40:jdbc40 2007-06-01 12:01:50 ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12500668" author="narayanan" created="Fri, 1 Jun 2007 12:12:43 +0100"  >&lt;p&gt;Thank youfor the comment, reviews and the test run Knut.&lt;/p&gt;

&lt;p&gt;You are correct.&lt;/p&gt;

&lt;p&gt;I just had to copy and paste the case from the case &lt;br/&gt;
where the locator was not being used. &lt;/p&gt;

&lt;p&gt;I have made the correction and attached the patch.&lt;/p&gt;

&lt;p&gt;I will run junit All and revert back with test results&lt;/p&gt;

&lt;p&gt;Pls consider v5 for reviews and comments.&lt;/p&gt;</comment>
                            <comment id="12500669" author="narayanan" created="Fri, 1 Jun 2007 12:14:05 +0100"  >&lt;p&gt;By Copy paste I mean retain the old way of returning non-locator empty clobs.&lt;/p&gt;</comment>
                            <comment id="12500670" author="narayanan" created="Fri, 1 Jun 2007 12:18:45 +0100"  >&lt;p&gt;Since the patch contains only disabled code for creating an empty Clob&lt;br/&gt;
that is locator enabled, I will run the following suites&lt;/p&gt;

&lt;p&gt;1) jdbcapi&lt;br/&gt;
2) jdbc4&lt;/p&gt;

&lt;p&gt;Pls do tell me if you think this will not suffice and I need to run more tests&lt;br/&gt;
I will do so.&lt;/p&gt;

&lt;p&gt;I ran jdbc4/TestConnectionMethods it passed.&lt;/p&gt;</comment>
                            <comment id="12500693" author="narayanan" created="Fri, 1 Jun 2007 13:33:56 +0100"  >&lt;p&gt;Thank you for replying back Knut !  &lt;/p&gt;

&lt;p&gt;I ran the following tests&lt;/p&gt;

&lt;p&gt;1) junit (jdbcapi, jdbc4) - I saw the failures that are seen in the nightly&apos;s. I observered all these failures in the nigthly&apos;s also.&lt;/p&gt;

&lt;p&gt;2) I ran the old harness tests jdbcapi and jdbc40 for the DerbynetClient framework (and Embedded althought not necessary)&lt;br/&gt;
    and I did not see any failures.&lt;/p&gt;

&lt;p&gt;I request for v5 to be considered for reviews and comments and if everything is OK a commit too.&lt;/p&gt;

&lt;p&gt;Thanks again for the reviews and comments.&lt;/p&gt;
</comment>
                            <comment id="12501131" author="knutanders" created="Mon, 4 Jun 2007 09:01:52 +0100"  >&lt;p&gt;Thanks Narayanan! Committed v5 with revision 544084.&lt;/p&gt;</comment>
                            <comment id="12501134" author="narayanan" created="Mon, 4 Jun 2007 09:07:51 +0100"  >&lt;p&gt;Thanks a ton for the reviews, comments and the commit Knut!&lt;/p&gt;


</comment>
                            <comment id="12505210" author="narayanan" created="Fri, 15 Jun 2007 13:37:11 +0100"  >&lt;p&gt;All patches submitted and committed.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12370325">DERBY-2702</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12366010">DERBY-2496</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12356150" name="ConnectionLocatorWork_v1.diff" size="9963" author="narayanan" created="Tue, 24 Apr 2007 15:04:49 +0100"/>
                            <attachment id="12356151" name="ConnectionLocatorWork_v1.stat" size="300" author="narayanan" created="Tue, 24 Apr 2007 15:04:49 +0100"/>
                            <attachment id="12356624" name="ConnectionLocatorWork_v2.diff" size="11217" author="narayanan" created="Wed, 2 May 2007 12:13:06 +0100"/>
                            <attachment id="12356625" name="ConnectionLocatorWork_v2.stat" size="300" author="narayanan" created="Wed, 2 May 2007 12:13:06 +0100"/>
                            <attachment id="12356698" name="ConnectionLocatorWork_v3.diff" size="11403" author="narayanan" created="Thu, 3 May 2007 11:47:48 +0100"/>
                            <attachment id="12356699" name="ConnectionLocatorWork_v3.stat" size="300" author="narayanan" created="Thu, 3 May 2007 11:47:48 +0100"/>
                            <attachment id="12358252" name="ConnectionLocatorWork_v4.diff" size="1938" author="narayanan" created="Fri, 25 May 2007 16:54:07 +0100"/>
                            <attachment id="12358253" name="ConnectionLocatorWork_v4.stat" size="89" author="narayanan" created="Fri, 25 May 2007 16:54:07 +0100"/>
                            <attachment id="12358709" name="ConnectionLocatorWork_v5.diff" size="1939" author="narayanan" created="Fri, 1 Jun 2007 12:12:43 +0100"/>
                            <attachment id="12358710" name="ConnectionLocatorWork_v5.stat" size="89" author="narayanan" created="Fri, 1 Jun 2007 12:12:43 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>10.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 30 Apr 2007 15:19:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30532</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy11tr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39946</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>