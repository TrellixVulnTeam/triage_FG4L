<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:22:38 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-4341/DERBY-4341.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-4341] Building with ant all with a different CLASSPATH defined causes the build to fail</title>
                <link>https://issues.apache.org/jira/browse/DERBY-4341</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;The problem happens when we are trying to compile the source code in a folder and have the CLASSPATH variable set to a different code tree folder. This results in compile failures like the following:&lt;/p&gt;

&lt;p&gt;runmessagecheck:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;runMessageBundleTest&amp;#93;&lt;/span&gt; WARNING: Message id 22011.S.1 in messages_en.properties is not referenced in either SQLState.java or MessageId.java&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;runMessageBundleTest&amp;#93;&lt;/span&gt; WARNING: Message id 42Y03.S.0 in messages_en.properties is not referenced in either SQLState.java or MessageId.java&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;runMessageBundleTest&amp;#93;&lt;/span&gt; WARNING: Message id 42Y03.S.1 in messages_en.properties is not referenced in either SQLState.java or MessageId.java&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;runMessageBundleTest&amp;#93;&lt;/span&gt; WARNING: Message id 42Y03.S.2 in messages_en.properties is not referenced in either SQLState.java or MessageId.java&lt;/p&gt;

&lt;p&gt;BUILD FAILED&lt;br/&gt;
/home/tiago/Desktop/DerbyStuff/CodeTenFiveTwo/build.xml:514: Message check failed. &lt;br/&gt;
See error in build output or call ant runmessagecheck.&lt;/p&gt;

&lt;p&gt;Total time: 1 minute 11 seconds&lt;/p&gt;

&lt;p&gt;This should be an easy fix and it is marked as a bug, since it doesn&apos;t seem very logical for the compiling process to be CLASSPATH-dependent. Note that unsetting the CLASSPATH altogether allows the compile to run without errors, so clearly this variable isn&apos;t needed and shouldn&apos;t be used when it is set.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12432431">DERBY-4341</key>
            <summary>Building with ant all with a different CLASSPATH defined causes the build to fail</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jsguru72">John Storta Jr.</assignee>
                                    <reporter username="espinha">Tiago R. Espinha</reporter>
                        <labels>
                    </labels>
                <created>Thu, 6 Aug 2009 19:10:21 +0100</created>
                <updated>Mon, 17 Jun 2013 10:19:22 +0100</updated>
                            <resolved>Fri, 19 Feb 2010 21:53:54 +0000</resolved>
                                    <version>10.6.1.0</version>
                                    <fixVersion>10.6.1.0</fixVersion>
                                    <component>Build tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12740187" author="bryanpendleton" created="Thu, 6 Aug 2009 19:31:04 +0100"  >&lt;p&gt;Thanks Tiago for having a look at this. This problem has bitten me before as well, and it would be nice to have it fixed.&lt;/p&gt;</comment>
                            <comment id="12764974" author="markiemark" created="Tue, 13 Oct 2009 07:46:40 +0100"  >&lt;p&gt;for now I&apos;ll just add the detail&lt;/p&gt;

&lt;p&gt;$ ant -v runmessagecheck&lt;br/&gt;
Apache Ant version 1.7.1 compiled on October 3 2008&lt;br/&gt;
Buildfile: build.xml&lt;br/&gt;
Detected Java version: 1.6 in: /usr/lib/jvm/java-6-sun-1.6.0.10/jre&lt;br/&gt;
Detected OS: Linux&lt;br/&gt;
parsing buildfile /home/mark/src/derbypristine/verypristine/build.xml with URI = &lt;a href=&quot;file:/home/mark/src/derbypristine/verypristine/build.xml&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:/home/mark/src/derbypristine/verypristine/build.xml&lt;/a&gt;&lt;br/&gt;
Project base dir set to: /home/mark/src/derbypristine/verypristine&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;antlib:org.apache.tools.ant&amp;#93;&lt;/span&gt; Could not load definitions from resource org/apache/tools/ant/antlib.xml. It could not be found.&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;property&amp;#93;&lt;/span&gt; Loading /home/mark/ant.properties&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;property&amp;#93;&lt;/span&gt; Unable to find property file: /home/mark/ant.properties&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;property&amp;#93;&lt;/span&gt; Loading /home/mark/src/derbypristine/verypristine/tools/ant/properties/dirs.properties&lt;br/&gt;
Property &quot;jdk&quot; has not been set&lt;br/&gt;
Property &quot;sanity&quot; has not been set&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;property&amp;#93;&lt;/span&gt; Loading /home/mark/src/derbypristine/verypristine/tools/ant/properties/sane$&lt;/p&gt;
{sanity}.properties&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;property&amp;#93;&lt;/span&gt; Unable to find property file: /home/mark/src/derbypristine/verypristine/tools/ant/properties/sane${sanity}
&lt;p&gt;.properties&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;property&amp;#93;&lt;/span&gt; Loading /home/mark/src/derbypristine/verypristine/java/engine/state.properties&lt;br/&gt;
Build sequence for target(s) `runmessagecheck&apos; is &lt;span class=&quot;error&quot;&gt;&amp;#91;runmessagecheck&amp;#93;&lt;/span&gt;&lt;br/&gt;
Complete build sequence is &lt;span class=&quot;error&quot;&gt;&amp;#91;runmessagecheck, checklocaleinfo, localeinfo, setInitialProperties, init, setissane, sanitynamesane, sanitynameinsane, setsanityname, junit-all-codeline-jars-set-properties, junit-init, junit-system-mini, junit-system-mini-codeline-jars, infowriter, toolsdocs, showenv, getstate, state, shared, parsers, engine, junit-sysinfo, getsvnversion, prebuild, setCompilerProperties, initjars, derbywar, include-in-javadoc, buildlocaleinfo, publishedapi-workhorse, ckversioninfo, writeversioninfo, versioninfo, emma-init, derbyjarwithosgi, localeinfowriter, junit-core, jdbc3stubs, clean, cleanstate, cleanparsers, cleanmessages, cleancatalog, cleantoursdb, clobber, snapshotError, snapshot, checksanenotset, state.exists, checkstateremoved, checkforpackagingfile, cleanalljars, cleandocs, cleansnapshot, cleanreleasefiles, prepareforrelease, junit-pptesting, checkCompilerLevel, jsr169stubs, jdbc4stubs, felixStubs, storeless, tools, drda, client, build, buildsource, vti-demo, demo, demodocs, cscuptodate, class_size_catalog, junit-jdbc4-workhorse, checkVMLevel, junit-jdbc4, junit-jmx, junit-lowmem, junit-all, insane, ensuresanitystate.insane, l10ncheck, derbyjar, derbytoolsjar, derbynetjar, derbyclientjar, derbyrunjar, derbylocalejars, ckderbytesting, derbytestingjar, buildjars, plugin, junit-clean, declare-autoloadable-driver, make-core-derbyjar-manifest, public-jdbc4-api, chkparser, genParser, testing, pptesting, all, publishedapi, derbydocs, grammardocs, testingdocs, javadoc, gump_all, junit-single, junit-single-codeline-jars, emma-instrumentation, emma-report, emma-all, localejar, evaluate.sane, sane, public-jdbc3-api, emma-single, printCompilerProperties, ensuresanitystate, ensuresanitystate.sane, cleanlocale, junit-html, junitreport, exclude-from-javadoc, engine_169_opt, emma-clean, meta-inf-common, cleanjars, cleanversion, junit-all-codeline-jars, make-locale-classpath-manifest, buildworld, dojjdocs, cibuild, buildjarsclean, &amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;runmessagecheck:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;runMessageBundleTest&amp;#93;&lt;/span&gt; WARNING: Message id XCL17.S in messages_en.properties is not referenced in either SQLState.java or MessageId.java&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;runMessageBundleTest&amp;#93;&lt;/span&gt; WARNING: Message id 08000.S.1 in messages_en.properties is not referenced in either SQLState.java or MessageId.java&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;runMessageBundleTest&amp;#93;&lt;/span&gt; WARNING: Message id XJ102.S in messages_en.properties is not referenced in either SQLState.java or MessageId.java&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;runMessageBundleTest&amp;#93;&lt;/span&gt; WARNING: Message id J106 in messages_en.properties is not referenced in either SQLState.java or MessageId.java&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;runMessageBundleTest&amp;#93;&lt;/span&gt; WARNING: Message id 25000 in messages_en.properties is not referenced in either SQLState.java or MessageId.java&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;runMessageBundleTest&amp;#93;&lt;/span&gt; WARNING: Message id 22004.S.4 in messages_en.properties is not referenced in either SQLState.java or MessageId.java&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;runMessageBundleTest&amp;#93;&lt;/span&gt; WARNING: Message id 42Y03 in messages_en.properties is not referenced in either SQLState.java or MessageId.java&lt;/p&gt;

&lt;p&gt;BUILD FAILED&lt;br/&gt;
/home/mark/src/derbypristine/verypristine/build.xml:514: Message check failed. &lt;br/&gt;
See error in build output or call ant runmessagecheck.&lt;br/&gt;
	at org.apache.derbyBuild.MessageBundleTest.execute(MessageBundleTest.java:69)&lt;br/&gt;
	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)&lt;br/&gt;
	at org.apache.tools.ant.Task.perform(Task.java:348)&lt;br/&gt;
	at org.apache.tools.ant.Target.execute(Target.java:357)&lt;br/&gt;
	at org.apache.tools.ant.Target.performTasks(Target.java:385)&lt;br/&gt;
	at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1337)&lt;br/&gt;
	at org.apache.tools.ant.Project.executeTarget(Project.java:1306)&lt;br/&gt;
	at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)&lt;br/&gt;
	at org.apache.tools.ant.Project.executeTargets(Project.java:1189)&lt;br/&gt;
	at org.apache.tools.ant.Main.runBuild(Main.java:758)&lt;br/&gt;
	at org.apache.tools.ant.Main.startAnt(Main.java:217)&lt;br/&gt;
	at org.apache.tools.ant.launch.Launcher.run(Launcher.java:257)&lt;br/&gt;
	at org.apache.tools.ant.launch.Launcher.main(Launcher.java:104)&lt;/p&gt;

&lt;p&gt;Total time: 0 seconds&lt;/p&gt;</comment>
                            <comment id="12833313" author="jsguru72" created="Sat, 13 Feb 2010 04:01:51 +0000"  >&lt;p&gt;I was trying to look into this issue, but I think I am missing a key piece.  I have performed the runmessagecheck target with both CLASSPATH set and with CLASSPATH unset.  In both cases the build is successful and the messages are the same.&lt;/p&gt;

&lt;p&gt;Can you provide some additional information about how to duplicate this issue?&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="12833400" author="bryanpendleton" created="Sat, 13 Feb 2010 15:20:42 +0000"  >&lt;p&gt;Hi John, thanks for investigating this! You can mark the issue as &quot;assigned&quot; to you,&lt;br/&gt;
during the time you are studying it, so that others will know.&lt;/p&gt;

&lt;p&gt;This problem doesn&apos;t &lt;b&gt;always&lt;/b&gt; occur, only sometimes.&lt;/p&gt;

&lt;p&gt;I think that it tends to occur under a scenario like this:&lt;br/&gt;
1) You have successfully built a certain vesion of the source&lt;br/&gt;
2) Your classpath points to the built version of the source&lt;br/&gt;
3) You update your subversion client to a new revision which holds new messages&lt;br/&gt;
4) You try to build, with you classpath still pointing to the old built jars,&lt;br/&gt;
   which do NOT refer to that message.&lt;/p&gt;

&lt;p&gt;So see if it helps to reproduce the problem, by adding some new messages to messages.xml&lt;br/&gt;
in your client, and then see if you are able to run the message checking tragets&lt;br/&gt;
with your classpath pointing at jars that don&apos;t hold those messages.&lt;/p&gt;</comment>
                            <comment id="12833590" author="jsguru72" created="Sun, 14 Feb 2010 16:53:55 +0000"  >&lt;p&gt;What seems to be the simple solution to this is to run ant with the -noclasspath option.&lt;/p&gt;

&lt;p&gt;$ ant -v runmessagecheck -noclasspath&lt;/p&gt;

&lt;p&gt;I can duplicate the issue and adding the -noclasspath option allows the runmessagecheck task to complete successfully, when it would fail otherwise.&lt;/p&gt;

&lt;p&gt;I am looking into a way to modify the build.xml so that it ignores a user&apos;s CLASSPATH.  There are several options I have found, but none seem to have any effect on the results.  Still looking.&lt;/p&gt;

&lt;p&gt;At this point there is a workaround (add the -noclasspath option), and I am still looking for a permanent solution.&lt;/p&gt;</comment>
                            <comment id="12833904" author="jsguru72" created="Mon, 15 Feb 2010 18:02:59 +0000"  >&lt;p&gt;I have been digging into this for a while and the more I read about ant the more it becomes clear that ant runs best when CLASSPATH is not set at all.  The ant documentation has a whole section about the classpath.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://ant.apache.org/manual/install.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ant.apache.org/manual/install.html&lt;/a&gt;&lt;br/&gt;
Section: &quot;The CLASSPATH environment variable&quot;&lt;/p&gt;

&lt;p&gt;The gist of it is that you should not run ant with CLASSPATH set.  And if you do, you should run ant with the -noclasspath option as I had indicated in the workaround section.&lt;/p&gt;

&lt;p&gt;They also include the following code as something that you can add to your build.xml file to error out if the CLASSPATH is set.&lt;br/&gt;
&amp;lt;property environment=&quot;env.&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;property name=&quot;env.CLASSPATH&quot; value=&quot;&quot;/&amp;gt;&lt;br/&gt;
    &amp;lt;fail message=&quot;Unset $CLASSPATH / %CLASSPATH% before running Ant!&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;condition&amp;gt;&lt;br/&gt;
            &amp;lt;not&amp;gt;&amp;lt;equals arg1=&quot;$&lt;/p&gt;
{env.CLASSPATH}&quot; arg2=&quot;&quot;/&amp;gt;&amp;lt;/not&amp;gt;&lt;br/&gt;
        &amp;lt;/condition&amp;gt;&lt;br/&gt;
    &amp;lt;/fail&amp;gt;&lt;br/&gt;
&lt;br/&gt;
This essentially checks if your CLASSPATH is set and reports a relevant error message.&lt;br/&gt;
&lt;br/&gt;
I&apos;ve tested it at the top of the build.xml and also within the runmessagecheck target.  With this in place, the build will fail with a message indicating the problem and how to fix it, which is at least clearer than just getting errors about missing messages.&lt;br/&gt;
&lt;br/&gt;
Below is my modified version of the runmessagecheck target.&lt;br/&gt;
  &amp;lt;!-- Run the MessageBundleTest --&amp;gt;&lt;br/&gt;
  &amp;lt;target name=&quot;runmessagecheck&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;property environment=&quot;env.&quot;/&amp;gt;&lt;br/&gt;
    &amp;lt;property name=&quot;env.CLASSPATH&quot; value=&quot;&quot;/&amp;gt;&lt;br/&gt;
    &amp;lt;fail message=&quot;Unset $CLASSPATH / %CLASSPATH% before running Ant!&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;condition&amp;gt;&lt;br/&gt;
            &amp;lt;not&amp;gt;&amp;lt;equals arg1=&quot;${env.CLASSPATH}
&lt;p&gt;&quot; arg2=&quot;&quot;/&amp;gt;&amp;lt;/not&amp;gt;&lt;br/&gt;
        &amp;lt;/condition&amp;gt;&lt;br/&gt;
    &amp;lt;/fail&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;taskdef &lt;br/&gt;
      name=&quot;runMessageBundleTest&quot;&lt;br/&gt;
      classname=&quot;org.apache.derbyBuild.MessageBundleTest&quot;&lt;br/&gt;
      classpath=&quot;$&lt;/p&gt;
{out.dir}
&lt;p&gt;&quot;&lt;br/&gt;
    /&amp;gt;&lt;br/&gt;
    &amp;lt;runMessageBundleTest/&amp;gt;&lt;br/&gt;
  &amp;lt;/target&amp;gt;&lt;/p&gt;


&lt;p&gt;The test could also be put at the top of the build.xml if we want to fail out any time CLASSPATH is set rather than just from within this one target.  I could see this same situation occurring with other targets and with it apparently never being a good idea to have the CLASSPATH set, we might want to avoid the case of getting additional bugs down the road as new targets exhibit the issue.&lt;/p&gt;

&lt;p&gt;In my opinion, the solution that matches what ant recommends is to update the documentation to reflect that ant should be run without the CLASSPATH set (or with the -noclasspath option)&lt;/p&gt;

&lt;p&gt;As a separate item, we can add the code I indicated to the appropriate place in build.xml to catch cases where it would fail so that a meaningful message is displayed.  One thing to keep in mind if the build.xml is changed.  If you have CLASSPATH set AND use the -noclasspath option, the code will still result in the fail since it does not check the -noclasspath option.  I am seeing if there is a way to also test for the -noclasspath option.&lt;/p&gt;

</comment>
                            <comment id="12833982" author="bryanpendleton" created="Mon, 15 Feb 2010 21:11:16 +0000"  >&lt;p&gt;Thanks for working on this problem, John!&lt;/p&gt;

&lt;p&gt;Can we run MessageBundleTest as a sub-process, using &amp;lt;java fork=&quot;true&quot;&amp;gt;,&lt;br/&gt;
and would that allow us to ignore the parent process&apos;s CLASSPATH, if it was set?&lt;/p&gt;</comment>
                            <comment id="12834064" author="jsguru72" created="Tue, 16 Feb 2010 03:55:11 +0000"  >&lt;p&gt;Thanks Bryan.&lt;/p&gt;

&lt;p&gt;I modified the runmessagecheck target to fork a java process.  Since this was no longer a taskdef running within the ant process, I had to modify the MessageBundleTest.java source so that it no longer extends org.apache.tools.ant.Task.  This meant changing the execute method to a standard main method.&lt;/p&gt;

&lt;p&gt;I also changed it to throw a basic Exception rather than a org.apache.tools.ant.BuildException.  Since it no longer runs in the ant environment, it does not have visibility to the ant classpath.&lt;/p&gt;

&lt;p&gt;Now when you run ant -v runmessagecheck, you get consistent results whether or not you have CLASSPATH set.  I also tested it with and without an extra message.&lt;/p&gt;

&lt;p&gt;The only downside I see is that there are some extra lines of output, especially when it finds an extra message and throws the exception. The results seem to get lost in the output.&lt;/p&gt;

&lt;p&gt;I&apos;ve attached a diff showing the changes I made from Revision 910374.&lt;/p&gt;

&lt;p&gt;I am new to all of this so if I am off in the weeds on my solution or not following the correct process for posting it, let me know.&lt;/p&gt;</comment>
                            <comment id="12834797" author="bryanpendleton" created="Wed, 17 Feb 2010 15:06:13 +0000"  >&lt;p&gt;Hi John,&lt;/p&gt;

&lt;p&gt;This seems like a promising approach to me.&lt;/p&gt;

&lt;p&gt;Can you attach an example of the output when MessageBundleTest finds problem,&lt;br/&gt;
so we can see what it would look like when it occurs?&lt;/p&gt;

&lt;p&gt;Also, is the &apos;-v&apos; necessary in your solution? Or will MessageBundleTest catch the&lt;br/&gt;
message problems with just &apos;ant runmessagecheck&apos;?&lt;/p&gt;</comment>
                            <comment id="12834905" author="jsguru72" created="Wed, 17 Feb 2010 18:22:34 +0000"  >&lt;p&gt;Sorry about the -v.  That was how it was specified in the original posting so that is what I was using in all of my testing.  It does work without the -v, and the output is naturally much cleaner.&lt;/p&gt;

&lt;p&gt;Here is what the output shows if it finds a failure.&lt;br/&gt;
$ ant runmessagecheck&lt;br/&gt;
Buildfile: build.xml&lt;/p&gt;

&lt;p&gt;runmessagecheck:&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt; WARNING: Message id 99999 in messages_en.properties is not referenced in either SQLState.java or MessageId.java&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt; Exception in thread &quot;main&quot; java.lang.Exception: Message check failed. &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt; See error in build output or call ant runmessagecheck.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt; 	at org.apache.derbyBuild.MessageBundleTest.main(MessageBundleTest.java:68)&lt;/p&gt;

&lt;p&gt;BUILD FAILED&lt;br/&gt;
/public/dev/svnwork/derby/build.xml:513: Java returned: 1&lt;/p&gt;

&lt;p&gt;Total time: 0 seconds&lt;br/&gt;
$&lt;/p&gt;


&lt;p&gt;If no issues, you get the following.&lt;br/&gt;
$ ant runmessagecheck&lt;br/&gt;
Buildfile: build.xml&lt;/p&gt;

&lt;p&gt;runmessagecheck:&lt;/p&gt;

&lt;p&gt;BUILD SUCCESSFUL&lt;br/&gt;
Total time: 0 seconds&lt;br/&gt;
$&lt;/p&gt;


&lt;p&gt;Outputs are the same regardless of whether or not the CLASSPATH is set.&lt;/p&gt;

</comment>
                            <comment id="12835250" author="bryanpendleton" created="Thu, 18 Feb 2010 15:28:17 +0000"  >&lt;p&gt;This seems like very reasonable behavior to me, and appears to address the principal concern&lt;br/&gt;
of this issue as I understand it.&lt;/p&gt;

&lt;p&gt;Are you comfortable with the patch at this point? Do you feel it is complete?&lt;/p&gt;</comment>
                            <comment id="12835354" author="jsguru72" created="Thu, 18 Feb 2010 19:28:57 +0000"  >&lt;p&gt;Yes.  I cannot think of anything else that should be done with it.  I think it addresses the reported problem with no side-effects that I have been able to find.&lt;/p&gt;

&lt;p&gt;I feel good about it and I think it is complete.&lt;/p&gt;</comment>
                            <comment id="12835396" author="bryanpendleton" created="Thu, 18 Feb 2010 21:03:01 +0000"  >&lt;p&gt;Great. I&apos;ll try to have a closer look at the patch in my environment, and&lt;br/&gt;
unless I encounter any problems I&apos;ll try to commit it soon.&lt;/p&gt;</comment>
                            <comment id="12835978" author="bryanpendleton" created="Fri, 19 Feb 2010 21:53:54 +0000"  >&lt;p&gt;Thanks John for the patch! Your change seems to work great&lt;br/&gt;
in my environment, so I&apos;ve committed it to the trunk as revision 911999.&lt;/p&gt;</comment>
                            <comment id="13685220" author="knutanders" created="Mon, 17 Jun 2013 10:19:22 +0100"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;bulk update&amp;#93;&lt;/span&gt; Close all resolved issues that haven&apos;t been updated for more than one year.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12435931" name="derby-4341.patch" size="1986" author="jsguru72" created="Tue, 16 Feb 2010 03:57:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 6 Aug 2009 18:31:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>24197</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10423"><![CDATA[Newcomer]]></customfieldvalue>
    <customfieldvalue key="10427"><![CDATA[Workaround attached]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0r3r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38209</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310050" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Urgency</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10052"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>