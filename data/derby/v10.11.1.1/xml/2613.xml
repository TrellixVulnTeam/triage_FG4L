<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:31:30 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-2613/DERBY-2613.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-2613] upgrade test problem when attempting to test 10.0.2.1 - </title>
                <link>https://issues.apache.org/jira/browse/DERBY-2613</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;I am not sure what is broken here.  it looks like a test problem, but that is only a guess.   When I got this problem I was trying to run&lt;br/&gt;
a full set of upgrade tests against the trunk and I had jars for all of the releases available from :&lt;br/&gt;
&lt;a href=&quot;https://svn.apache.org/repos/asf/db/derby/jars&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/repos/asf/db/derby/jars&lt;/a&gt;&lt;br/&gt;
(ie. :&lt;br/&gt;
m1_ibm15:64&amp;gt;ls */lib&lt;br/&gt;
10.0.2.1/lib:&lt;br/&gt;
derby.jar              derbyLocale_it.jar     derbyLocale_zh_CN.jar&lt;br/&gt;
derbyLocale_de_DE.jar  derbyLocale_ja_JP.jar  derbyLocale_zh_TW.jar&lt;br/&gt;
derbyLocale_es.jar     derbyLocale_ko_KR.jar  derbynet.jar&lt;br/&gt;
derbyLocale_fr.jar     derbyLocale_pt_BR.jar  derbytools.jar&lt;/p&gt;

&lt;p&gt;10.1.1.0/lib:&lt;br/&gt;
derby.jar              derbyLocale_ja_JP.jar  derbyTesting.jar&lt;br/&gt;
derbyLocale_de_DE.jar  derbyLocale_ko_KR.jar  derbyclient.jar&lt;br/&gt;
derbyLocale_es.jar     derbyLocale_pt_BR.jar  derbynet.jar&lt;br/&gt;
derbyLocale_fr.jar     derbyLocale_zh_CN.jar  derbytools.jar&lt;br/&gt;
derbyLocale_it.jar     derbyLocale_zh_TW.jar&lt;/p&gt;

&lt;p&gt;10.1.2.1/lib:&lt;br/&gt;
derby.jar              derbyLocale_ja_JP.jar  derbyTesting.jar&lt;br/&gt;
derbyLocale_de_DE.jar  derbyLocale_ko_KR.jar  derbyclient.jar&lt;br/&gt;
derbyLocale_es.jar     derbyLocale_pt_BR.jar  derbynet.jar&lt;br/&gt;
derbyLocale_fr.jar     derbyLocale_zh_CN.jar  derbytools.jar&lt;br/&gt;
derbyLocale_it.jar     derbyLocale_zh_TW.jar&lt;/p&gt;

&lt;p&gt;10.1.3.1/lib:&lt;br/&gt;
derby.jar              derbyLocale_ja_JP.jar  derbyTesting.jar&lt;br/&gt;
derbyLocale_de_DE.jar  derbyLocale_ko_KR.jar  derbyclient.jar&lt;br/&gt;
derbyLocale_es.jar     derbyLocale_pt_BR.jar  derbynet.jar&lt;br/&gt;
derbyLocale_fr.jar     derbyLocale_zh_CN.jar  derbytools.jar&lt;br/&gt;
derbyLocale_it.jar     derbyLocale_zh_TW.jar&lt;/p&gt;

&lt;p&gt;10.2.1.6/lib:&lt;br/&gt;
derby.jar              derbyLocale_ja_JP.jar  derbyclient.jar&lt;br/&gt;
derbyLocale_de_DE.jar  derbyLocale_ko_KR.jar  derbynet.jar&lt;br/&gt;
derbyLocale_es.jar     derbyLocale_pt_BR.jar  derbyrun.jar&lt;br/&gt;
derbyLocale_fr.jar     derbyLocale_zh_CN.jar  derbytools.jar&lt;br/&gt;
derbyLocale_it.jar     derbyLocale_zh_TW.jar&lt;/p&gt;

&lt;p&gt;10.2.2.0/lib:&lt;br/&gt;
derby.jar              derbyLocale_ja_JP.jar  derbyTesting.jar&lt;br/&gt;
derbyLocale_cs.jar     derbyLocale_ko_KR.jar  derbyclient.jar&lt;br/&gt;
derbyLocale_de_DE.jar  derbyLocale_pl.jar     derbynet.jar&lt;br/&gt;
derbyLocale_es.jar     derbyLocale_pt_BR.jar  derbyrun.jar&lt;br/&gt;
derbyLocale_fr.jar     derbyLocale_ru.jar     derbytools.jar&lt;br/&gt;
derbyLocale_hu.jar     derbyLocale_zh_CN.jar&lt;br/&gt;
derbyLocale_it.jar     derbyLocale_zh_TW.jar&lt;/p&gt;


&lt;p&gt;The phase that it broke in was when it was trying to test  was the following hierarchy as reported by junit.swingui.TestRunner:&lt;br/&gt;
Upgrade Suite&lt;br/&gt;
    Upgrade Tests from 10.0.2.1&lt;br/&gt;
         Upgrade Phase: UPGRADE&lt;/p&gt;

&lt;p&gt;It looks like this phase does not even get started as it can&apos;t find the db.  Note in the same run there is one soft upgrade error that happens in a &lt;br/&gt;
previous phase.  I have reported that as a separate issue in &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2612&quot; title=&quot;running soft upgrade of a 10.0 database vs. 10.3 software gives test error in testGetTablesModify  concerning XML type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2612&quot;&gt;&lt;del&gt;DERBY-2612&lt;/del&gt;&lt;/a&gt; .&lt;/p&gt;

&lt;p&gt;Here is the error reported:&lt;br/&gt;
2) Upgrade Phase: UPGRADEjava.sql.SQLException: Failed to start database &apos;single&lt;br/&gt;
Use/oneuse0&apos;, see the next exception for details.&lt;br/&gt;
    at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(SQLExcepti&lt;br/&gt;
onFactory.java:45)&lt;br/&gt;
    at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Util.java:88)&lt;br/&gt;
    at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Util.java:94)&lt;br/&gt;
    at org.apache.derby.impl.jdbc.Util.generateCsSQLException(Util.java:173)&lt;br/&gt;
    at org.apache.derby.impl.jdbc.EmbedConnection.newSQLException(EmbedConnectio&lt;br/&gt;
n.java:2119)&lt;br/&gt;
    at org.apache.derby.impl.jdbc.EmbedConnection.bootDatabase(EmbedConnection.j&lt;br/&gt;
ava:1783)&lt;br/&gt;
    at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(EmbedConnection.java:24&lt;br/&gt;
9)&lt;br/&gt;
    at org.apache.derby.jdbc.Driver30.getNewEmbedConnection(Driver30.java:74)&lt;br/&gt;
    at org.apache.derby.jdbc.InternalDriver.connect(InternalDriver.java:209)&lt;br/&gt;
    at org.apache.derby.jdbc.EmbeddedDataSource.getConnection(EmbeddedDataSource&lt;br/&gt;
.java:479)&lt;br/&gt;
    at org.apache.derby.jdbc.EmbeddedDataSource.getConnection(EmbeddedDataSource&lt;br/&gt;
.java:423)&lt;br/&gt;
    at org.apache.derbyTesting.functionTests.tests.upgradeTests.PhaseChanger.set&lt;br/&gt;
Up(PhaseChanger.java:94)&lt;br/&gt;
    at junit.extensions.TestSetup$1.protect(TestSetup.java:18)&lt;br/&gt;
    at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
    at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
    at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
    at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
    at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
    at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
    at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
    at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
    at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
    at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
    at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
    at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
    at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
    at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
    at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
    at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
    at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
    at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
    at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
    at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
    at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
    at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
    at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
    at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
    at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;/p&gt;


</description>
                <environment>m2_ibm15:435&amp;gt;sysinfo&lt;br/&gt;
------------------ Java Information ------------------&lt;br/&gt;
Java Version:    1.5.0&lt;br/&gt;
Java Vendor:     IBM Corporation&lt;br/&gt;
Java home:       c:\p4\m2\ibm15\jre&lt;br/&gt;
Java classpath:  .;.;c:/p4/m2/classes;c:/p4/m2/tools/java/jdbctests.zip;c:/p4/m2&lt;br/&gt;
/tools/java/jakarta-oro-2.0.8.jar;c:/p4/m2/tools/java/jgl3.1.0.jar;c:/p4/m2/tool&lt;br/&gt;
s/java/jndi/providerutil.jar;c:/p4/m2/tools/java/jndi/ldap.jar;c:/p4/m2/tools/ja&lt;br/&gt;
va/jndi/jndi.jar;c:/p4/m2/tools/java/jnl1.0F.zip;c:/p4/m2/tools/java/junit.jar;c&lt;br/&gt;
:/p4/m2/tools/java/servlet-2_2b.jar;c:/p4/m2/tools/java/xslt4j-2_5_0/xercesImpl.&lt;br/&gt;
jar;c:/p4/m2/tools/java/xslt4j-2_5_0/xml-apis.jar;c:/p4/m2/tools/java/xslt4j-2_5&lt;br/&gt;
_0/xalan.jar&lt;br/&gt;
OS name:         Windows XP&lt;br/&gt;
OS architecture: x86&lt;br/&gt;
OS version:      5.1 build 2600 Service Pack 2&lt;br/&gt;
Java user name:  mikem&lt;br/&gt;
Java user home:  C:\Documents and Settings\Administrator&lt;br/&gt;
Java user dir:   C:\mikem\_tools&lt;br/&gt;
java.specification.name: Java Platform API Specification&lt;br/&gt;
java.specification.version: 1.5&lt;br/&gt;
--------- Derby Information --------&lt;br/&gt;
JRE - JDBC: J2SE 5.0 - JDBC 3.0&lt;br/&gt;
[C:\p4\m2\classes] 10.3.0.0 alpha - (1)</environment>
        <key id="12368706">DERBY-2613</key>
            <summary>upgrade test problem when attempting to test 10.0.2.1 - </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mikem">Mike Matrigali</assignee>
                                    <reporter username="mikem">Mike Matrigali</reporter>
                        <labels>
                    </labels>
                <created>Sat, 5 May 2007 02:50:18 +0100</created>
                <updated>Mon, 29 Jun 2009 23:42:49 +0100</updated>
                            <resolved>Fri, 25 May 2007 19:16:16 +0100</resolved>
                                    <version>10.3.1.4</version>
                                    <fixVersion>10.2.2.1</fixVersion>
                    <fixVersion>10.3.1.4</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12493841" author="mikem" created="Sat, 5 May 2007 02:54:58 +0100"  >&lt;p&gt;problem also reproduces if only 10.0.2.1/lib exists in the directory path of jars to test.&lt;/p&gt;</comment>
                            <comment id="12493842" author="mikem" created="Sat, 5 May 2007 03:21:01 +0100"  >&lt;p&gt;when I reproduced with only 10.0 jars, derby.log had the following nested exception - it was not there when I ran the full&lt;br/&gt;
upgrade set of tests:&lt;/p&gt;

&lt;p&gt;============= begin nested exception, level (1) ===========^M&lt;br/&gt;
java.sql.SQLException: The conglomerate (-1) requested does not exist.^M&lt;br/&gt;
    at org.apache.derby.iapi.error.StandardException.newException(StandardExcept&lt;br/&gt;
ion.java:305)^M&lt;br/&gt;
    at org.apache.derby.impl.store.access.RAMTransaction.findExistingConglomerat&lt;br/&gt;
e(RAMTransaction.java:402)^M&lt;br/&gt;
    at org.apache.derby.impl.store.access.RAMTransaction.openConglomerate(RAMTra&lt;br/&gt;
nsaction.java:1327)^M&lt;br/&gt;
    at org.apache.derby.impl.sql.catalog.TabInfoImpl.insertRowListImpl(TabInfoIm&lt;br/&gt;
pl.java:481)^M&lt;br/&gt;
    at org.apache.derby.impl.sql.catalog.TabInfoImpl.insertRow(TabInfoImpl.java:&lt;br/&gt;
428)^M&lt;br/&gt;
    at org.apache.derby.impl.sql.catalog.DataDictionaryImpl.addDescriptor(DataDi&lt;br/&gt;
ctionaryImpl.java:1645)^M&lt;br/&gt;
    at org.apache.derby.impl.sql.catalog.DataDictionaryImpl.addDescriptor(DataDi&lt;br/&gt;
ctionaryImpl.java:1629)^M&lt;br/&gt;
    at org.apache.derby.impl.sql.catalog.DataDictionaryImpl.createRoutinePermPub&lt;br/&gt;
licDescriptor(DataDictionaryImpl.java:9906)^M&lt;br/&gt;
    at org.apache.derby.impl.sql.catalog.DataDictionaryImpl.createRoutinePermPub&lt;br/&gt;
licDescriptor(DataDictionaryImpl.java:9882)^M&lt;br/&gt;
    at org.apache.derby.impl.sql.catalog.DataDictionaryImpl.create_10_1_system_p&lt;br/&gt;
rocedures(DataDictionaryImpl.java:9970)^M&lt;br/&gt;
    at org.apache.derby.impl.sql.catalog.DD_Version.doFullUpgrade(DD_Version.jav&lt;br/&gt;
a:369)^M&lt;br/&gt;
    at org.apache.derby.impl.sql.catalog.DD_Version.upgradeIfNeeded(DD_Version.j&lt;br/&gt;
ava:210)^M&lt;br/&gt;
    at org.apache.derby.impl.sql.catalog.DataDictionaryImpl.loadDictionaryTables&lt;br/&gt;
(DataDictionaryImpl.java:6279)^M&lt;br/&gt;
    at org.apache.derby.impl.sql.catalog.DataDictionaryImpl.boot(DataDictionaryI&lt;br/&gt;
mpl.java:748)^M&lt;br/&gt;
    at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.java:&lt;br/&gt;
1994)^M&lt;br/&gt;
    at org.apache.derby.impl.services.monitor.TopService.bootModule(TopService.j&lt;br/&gt;
ava:291)^M&lt;br/&gt;
    at org.apache.derby.impl.services.monitor.BaseMonitor.startModule(BaseMonito&lt;br/&gt;
r.java:546)^M&lt;br/&gt;
    at org.apache.derby.iapi.services.monitor.Monitor.bootServiceModule(Monitor.&lt;br/&gt;
java:419)^M&lt;br/&gt;
    at org.apache.derby.impl.db.BasicDatabase.boot(BasicDatabase.java:214)^M&lt;br/&gt;
    at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.java:&lt;br/&gt;
1994)^M&lt;br/&gt;
    at org.apache.derby.impl.services.monitor.TopService.bootModule(TopService.j&lt;br/&gt;
ava:291)^M&lt;br/&gt;
    at org.apache.derby.impl.services.monitor.BaseMonitor.bootService(BaseMonito&lt;br/&gt;
r.java:1829)^M&lt;br/&gt;
    at org.apache.derby.impl.services.monitor.BaseMonitor.startProviderService(B&lt;br/&gt;
aseMonitor.java:1695)^M&lt;br/&gt;
    at org.apache.derby.impl.services.monitor.BaseMonitor.findProviderAndStartSe&lt;br/&gt;
rvice(BaseMonitor.java:1575)^M&lt;br/&gt;
    at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentService&lt;br/&gt;
(BaseMonitor.java:994)^M&lt;br/&gt;
    at org.apache.derby.iapi.services.monitor.Monitor.startPersistentService(Mon&lt;br/&gt;
itor.java:542)^M&lt;br/&gt;
    at org.apache.derby.impl.jdbc.EmbedConnection.bootDatabase(EmbedConnection.j&lt;br/&gt;
ava:1796)^M&lt;br/&gt;
    at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(EmbedConnection.java:32&lt;br/&gt;
6)^M&lt;br/&gt;
    at org.apache.derby.jdbc.Driver30.getNewEmbedConnection(Driver30.java:80)^M&lt;br/&gt;
    at org.apache.derby.jdbc.InternalDriver.connect(InternalDriver.java:209)^M&lt;br/&gt;
    at org.apache.derby.jdbc.EmbeddedDataSource.getConnection(EmbeddedDataSource&lt;br/&gt;
.java:479)^M&lt;br/&gt;
    at org.apache.derby.jdbc.EmbeddedDataSource.getConnection(EmbeddedDataSource&lt;br/&gt;
.java:423)^M&lt;br/&gt;
    at org.apache.derbyTesting.functionTests.tests.upgradeTests.PhaseChanger.set&lt;br/&gt;
Up(PhaseChanger.java:94)^M&lt;br/&gt;
    at junit.extensions.TestSetup$1.protect(TestSetup.java:18)^M&lt;br/&gt;
    at junit.framework.TestResult.runProtected(TestResult.java:124)^M&lt;br/&gt;
    at junit.extensions.TestSetup.run(TestSetup.java:23)^M&lt;br/&gt;
    at junit.framework.TestSuite.runTest(TestSuite.java:208)^M&lt;br/&gt;
    at junit.framework.TestSuite.run(TestSuite.java:203)^M&lt;br/&gt;
    at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)^M&lt;br/&gt;
    at junit.extensions.TestSetup$1.protect(TestSetup.java:19)^M&lt;br/&gt;
    at junit.framework.TestResult.runProtected(TestResult.java:124)^M&lt;br/&gt;
    at junit.extensions.TestSetup.run(TestSetup.java:23)^M&lt;br/&gt;
    at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)^M&lt;br/&gt;
    at junit.extensions.TestSetup$1.protect(TestSetup.java:19)^M&lt;br/&gt;
    at junit.framework.TestResult.runProtected(TestResult.java:124)^M&lt;br/&gt;
    at junit.extensions.TestSetup.run(TestSetup.java:23)^M&lt;br/&gt;
    at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)^M&lt;br/&gt;
    at junit.extensions.TestSetup$1.protect(TestSetup.java:19)^M&lt;br/&gt;
    at junit.framework.TestResult.runProtected(TestResult.java:124)^M&lt;br/&gt;
    at junit.extensions.TestSetup.run(TestSetup.java:23)^M&lt;br/&gt;
    at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)^M&lt;br/&gt;
    at junit.extensions.TestSetup$1.protect(TestSetup.java:19)^M&lt;br/&gt;
    at junit.framework.TestResult.runProtected(TestResult.java:124)^M&lt;br/&gt;
    at junit.extensions.TestSetup.run(TestSetup.java:23)^M&lt;br/&gt;
    at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)^M&lt;br/&gt;
    at junit.extensions.TestSetup$1.protect(TestSetup.java:19)^M&lt;br/&gt;
    at junit.framework.TestResult.runProtected(TestResult.java:124)^M&lt;br/&gt;
    at junit.extensions.TestSetup.run(TestSetup.java:23)^M&lt;br/&gt;
    at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)^M&lt;br/&gt;
    at junit.extensions.TestSetup$1.protect(TestSetup.java:19)^M&lt;br/&gt;
    at junit.framework.TestResult.runProtected(TestResult.java:124)^M&lt;br/&gt;
    at junit.extensions.TestSetup.run(TestSetup.java:23)^M&lt;br/&gt;
    at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)^M&lt;br/&gt;
    at junit.extensions.TestSetup$1.protect(TestSetup.java:19)^M&lt;br/&gt;
    at junit.framework.TestResult.runProtected(TestResult.java:124)^M&lt;br/&gt;
    at junit.extensions.TestSetup.run(TestSetup.java:23)^M&lt;br/&gt;
    at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)^M&lt;br/&gt;
    at junit.extensions.TestSetup$1.protect(TestSetup.java:19)^M&lt;br/&gt;
    at junit.framework.TestResult.runProtected(TestResult.java:124)^M&lt;br/&gt;
    at junit.extensions.TestSetup.run(TestSetup.java:23)^M&lt;br/&gt;
    at junit.framework.TestSuite.runTest(TestSuite.java:208)^M&lt;br/&gt;
    at junit.framework.TestSuite.run(TestSuite.java:203)^M&lt;br/&gt;
    at junit.swingui.TestRunner$16.run(TestRunner.java:623)^M&lt;br/&gt;
============= end nested exception, level (1) ===========^M&lt;br/&gt;
Cleanup action completed^M&lt;br/&gt;
----------------------------------------------------------------^M&lt;/p&gt;
</comment>
                            <comment id="12493847" author="mikem" created="Sat, 5 May 2007 04:10:04 +0100"  >&lt;p&gt;I only took a quick look at this, but it looks like the code to upgrade a 10.0 database first does a:&lt;br/&gt;
create_10_1_system_procedures()&lt;br/&gt;
which after adding the system procedures does a call to:&lt;br/&gt;
createRoutinePermPublicDescriptor(routine_uuid, tc);&lt;br/&gt;
which try&apos;s to update a catalog I believe was added in 10.2, but that catalog is added later in the upgrade process.  &lt;/p&gt;

&lt;p&gt;What is puzzling me is why this call is made in the create_10_1_system_procedures() and not in the &lt;br/&gt;
create_10_2_system_procedures?  &lt;/p&gt;</comment>
                            <comment id="12493862" author="mikem" created="Sat, 5 May 2007 08:02:59 +0100"  >&lt;p&gt;checkin 535466 fixes this issue of upgrade 10.0 database to 10.3.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2613&quot; title=&quot;upgrade test problem when attempting to test 10.0.2.1 - &quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2613&quot;&gt;&lt;del&gt;DERBY-2613&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Upgrade of 10.0 to 10.3 was failing because system procedures were being&lt;br/&gt;
created, and as part of the creation some updates were attempted to catalogs&lt;br/&gt;
that were not created yet.  Fixed in full upgrade by first creating the&lt;br/&gt;
new system catalogs and then creating the procedures.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10369"><![CDATA[Regression Test Failure]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23130</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0wbr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39055</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>