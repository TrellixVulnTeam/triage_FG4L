<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:29:23 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-2006/DERBY-2006.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-2006] Add JUnit and JUnitReport task as a target in Ant script</title>
                <link>https://issues.apache.org/jira/browse/DERBY-2006</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Ant has an optional tasks called JUnit and JUnitReport that runs JUnit tests and produces JUnit report respectively.  It will be nice to have these mechanism incorporated into the Ant script so one can easily kick off a JUnit test and view the result. &lt;/p&gt;</description>
                <environment>Any</environment>
        <key id="12354059">DERBY-2006</key>
            <summary>Add JUnit and JUnitReport task as a target in Ant script</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fuzzylogic">Andrew McIntyre</assignee>
                                    <reporter username="yipng">Yip Ng</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Oct 2006 18:32:58 +0100</created>
                <updated>Wed, 1 Jul 2009 00:55:09 +0100</updated>
                            <resolved>Fri, 3 Nov 2006 00:12:38 +0000</resolved>
                                    <version>10.3.1.4</version>
                                    <fixVersion>10.3.1.4</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12444962" author="fuzzylogic" created="Thu, 26 Oct 2006 19:45:56 +0100"  >&lt;p&gt;Here is a starter patch for this issue. It adds Ant targets that run the junit All suite and create a report.&lt;/p&gt;

&lt;p&gt;I could probably eliminate the need for the test policy change by dropping the &quot;showoutput&quot; tag in junit-oneclass, which is fine since there&apos;s no output it setup this way anyway. Without the policy change, there&apos;s a security exception in the Ant junit runner. &lt;/p&gt;

&lt;p&gt;I&apos;ll test that change later, but I wanted to get this out there for others to review. &lt;/p&gt;</comment>
                            <comment id="12444964" author="djd" created="Thu, 26 Oct 2006 20:02:41 +0100"  >&lt;p&gt;One ot the requirements will be to have multiple JUnit tests kicked off from ant, not just the single suite All.&lt;br/&gt;
Examples are the auto-load test for JDBC 4 that needs to be from a new JVM and possibly recovery type&lt;br/&gt;
tests that &quot;crash&quot; the JVM to test recovery.&lt;br/&gt;
Can these multiple runs be combined into a single html report?&lt;/p&gt;</comment>
                            <comment id="12444972" author="fuzzylogic" created="Thu, 26 Oct 2006 20:44:09 +0100"  >&lt;p&gt;Yes. The junitreport task collects all the reports in the junit directory into a single test report. So, any additional test runs besides All should be added to the list of dependencies for the junitreport target.&lt;/p&gt;</comment>
                            <comment id="12444984" author="fuzzylogic" created="Thu, 26 Oct 2006 21:14:22 +0100"  >&lt;p&gt;testing JIRA email&lt;/p&gt;</comment>
                            <comment id="12445005" author="fuzzylogic" created="Thu, 26 Oct 2006 22:17:41 +0100"  >&lt;p&gt;testing JIRA email&lt;/p&gt;</comment>
                            <comment id="12445235" author="bayard" created="Fri, 27 Oct 2006 18:45:50 +0100"  >&lt;p&gt;testing JIRA email.&lt;/p&gt;</comment>
                            <comment id="12446008" author="fuzzylogic" created="Tue, 31 Oct 2006 19:37:19 +0000"  >&lt;p&gt;Attaching second version of this patch, first version was lacking the policy file change. Although, I&apos;m hoping to find away around needing the policy file change. The problem is that Ant&apos;s junit runner calls System.setOut, I&apos;m thinking maybe setting the SecurityManager to null, either in the All suite&apos;s or the SecurityManagerTestSetup&apos;s tearDown method.&lt;/p&gt;</comment>
                            <comment id="12446017" author="djd" created="Tue, 31 Oct 2006 19:52:00 +0000"  >&lt;p&gt;Might be best for the code that determines the path to the derby jar files to do the same for the junit.jar file and set that as a system property that could then be picked up by the policy file. Then we could grant permissions to the junit.jar as needed.&lt;/p&gt;</comment>
                            <comment id="12446054" author="fuzzylogic" created="Tue, 31 Oct 2006 20:50:21 +0000"  >&lt;p&gt;Attaching example output from the junitreport target.&lt;/p&gt;

&lt;p&gt;Thanks for the pointer, Dan, I&apos;ll extend the code in SecurityManagerTestSetup to get the locations of junit and the ant junit classes if available and set properties for use in the policy file.&lt;/p&gt;</comment>
                            <comment id="12446077" author="fuzzylogic" created="Tue, 31 Oct 2006 22:03:07 +0000"  >&lt;p&gt;Attaching an updated patch which has SecurityManagerTestSetup get the locations of junit.jar and ant-junit.jar and updates the policy file so that the permissions in the policy file for the code in these jars is now granted specifically to them.&lt;/p&gt;

&lt;p&gt;Single suites run by setting derby.junit.testname to a testclass and running junit-oneclass works fine, e.g.: &lt;/p&gt;

&lt;p&gt;ant -Dderby.junit.testname=org.apache.derbyTesting.functionTests.tests.lang._Suite junit-oneclass&lt;/p&gt;

&lt;p&gt;Strangely, when I run All using the junitreport target, all the tests run and pass, but some error (for which Ant/Junit does not provide a stack trace) causes junit to print a FAILED message, although Ant then happily generates the report showing that all the tests passed and reports BUILD SUCCESSFUL at the end:&lt;/p&gt;

&lt;p&gt;junit-oneclass:&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running org.apache.derbyTesting.functionTests.suites.All&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 1190, Failures: 0, Errors: 1, Time elapsed: 1,335.125 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Test org.apache.derbyTesting.functionTests.suites.All FAILED&lt;/p&gt;

&lt;p&gt;junitreport:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;junitreport&amp;#93;&lt;/span&gt; Transform time: 2720ms&lt;/p&gt;

&lt;p&gt;BUILD SUCCESSFUL&lt;br/&gt;
Total time: 22 minutes 24 seconds&lt;/p&gt;

&lt;p&gt;I&apos;m planning on running tests in several other setups before committing this.&lt;/p&gt;</comment>
                            <comment id="12446126" author="djd" created="Wed, 1 Nov 2006 00:09:38 +0000"  >&lt;p&gt;Given that flat output and the out of memory errors seen, I wonder if the ant targets should be at a lower suite granurality than suites.All.&lt;br/&gt;
There could be a target that ran the various _Suite tests as separate junit invocations, mimicing the suites.All.&lt;/p&gt;
</comment>
                            <comment id="12446129" author="fuzzylogic" created="Wed, 1 Nov 2006 00:35:03 +0000"  >&lt;p&gt;That&apos;s definitely a good idea. I don&apos;t really like the flat output either. I was looking at doing this, and I noticed that currently All delegates to AllPackages, which only runs the jdbc4 suite if vmSupportsJDBC4. I don&apos;t want to duplicate this logic in Ant, so I think the thing to do is to also put similar logic into jdbc4._Suite. Seems like a good thing, anyway, to make the suite is more self-descriptive of what environments it will run in. Please let me know if that&apos;s not a good thing to do for some reason.&lt;/p&gt;

&lt;p&gt;Another patch coming shortly...&lt;/p&gt;</comment>
                            <comment id="12446133" author="djd" created="Wed, 1 Nov 2006 00:41:25 +0000"  >&lt;p&gt;That&apos;s a good idea but I don&apos;t think it will work. The reason I did not push the logic down to jdbc4._Suite is that the class won&apos;t even load in non JDK 6 environments since it is compiled with target=1.6. So it seemed pointless having the logic there. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Maybe _Suite could be compiled using target-1.4 after the tests have been compiled?&lt;/p&gt;</comment>
                            <comment id="12446136" author="fuzzylogic" created="Wed, 1 Nov 2006 01:12:45 +0000"  >&lt;p&gt;Thanks, Dan. Compiling _Suite with target=1.4 would only work if the rest of the jdbc4 classes have been built. Somone running a build without JDK 1.4 won&apos;t have those other classes available, so making _Suite work there would require getting every test class by reflection.&lt;/p&gt;

&lt;p&gt;Much cleaner, I think, to just mimic that little bit of logic to skip the jdbc4 suite if jdk16 is not available than to go to those lengths to get _Suite working. I&apos;ll put together a patch that works that way shortly.&lt;/p&gt;

&lt;p&gt;One last thing, I noticed the nist tests don&apos;t have a _Suite, although it does only have one junit test in the package. But, NistScripts hasn&apos;t been added to AllPackages. Should it be added to AllPackages, and should I add NistScripts to the list for Ant to run?&lt;/p&gt;</comment>
                            <comment id="12446137" author="fuzzylogic" created="Wed, 1 Nov 2006 01:13:37 +0000"  >&lt;p&gt;Never mind, I see NistScripts has been added to lang._Suite&lt;/p&gt;</comment>
                            <comment id="12446140" author="fuzzylogic" created="Wed, 1 Nov 2006 01:27:17 +0000"  >&lt;p&gt;Attaching a new patch which calls each of the top-level _Suites from the top-level junit-all target, and conditionally executes the jdbc4 suite only if we have a pointer to a 1.6 VM.&lt;/p&gt;</comment>
                            <comment id="12446158" author="kartha" created="Wed, 1 Nov 2006 05:23:18 +0000"  >&lt;p&gt;Tried the latest patch and was able to run the junitreport.  It took about 30 mins to run the Junit tests,  saw some Network server start timeout failures.&lt;/p&gt;

&lt;p&gt;Anyways with the current usage the junit test output goes to &quot;trunk\junit &quot;, so  a repeat run of the &apos;junitreport&apos; will overwrite the output from the previous run &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/help_16.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I am wondering if we can modify the ant task to direct the test o/p into a  directory name based on timestamp - this could help preserve the outputs from each run.&lt;/p&gt;

&lt;p&gt;Something like:&lt;br/&gt;
 &amp;lt;junitreport todir=&quot;junit/DerbyTest_&amp;lt;time-stamp&amp;gt;&quot;&amp;gt;&lt;/p&gt;
</comment>
                            <comment id="12446429" author="fuzzylogic" created="Thu, 2 Nov 2006 02:17:26 +0000"  >&lt;p&gt;Attaching a new patch which now appends the timestamp to the directory where the tests are being run. Also, makes the URL for the ant-junit codeBase be &quot;file://unused/&quot; to prevent the security manager from complaining about an empty URL. This just suppresses a warning printed to the console when installing a SecurityManager in a non-Ant junit test runner, it did not prevent tests from running or passing.&lt;/p&gt;

&lt;p&gt;I think this is ready for commit. If anyone has further suggestions, please let me know.&lt;/p&gt;</comment>
                            <comment id="12446440" author="djd" created="Thu, 2 Nov 2006 03:36:59 +0000"  >&lt;p&gt;Do you have more details on the &lt;a href=&quot;file://unused&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file://unused&lt;/a&gt; issue? The policy file is meant to handle variables not being set by ignoring those entries, so any setting of a URL to a dummy URL should not be required. I did a similar trick in the original harness because I didn&apos;t realise the correct behaviour, and so i removed that trick for the JUnit set up. I don&apos;t think this needs to be resolved before commit, but I think we should understand it better.&lt;/p&gt;</comment>
                            <comment id="12446449" author="fuzzylogic" created="Thu, 2 Nov 2006 04:45:55 +0000"  >&lt;p&gt;When installing the security manager, it complained of a Malformed URL parsing the policy file if the derbyTesting.antjunit property was set to an empty String. &lt;/p&gt;

&lt;p&gt;Attaching a patch which moves the setting of the property inside the try block. If Ant isn&apos;t present, the property is not set at all, and the policy file parses without the warning, and removes the setting of derbyTesting.antjunit to &lt;a href=&quot;file://unused/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file://unused/&lt;/a&gt; if Ant is not present.&lt;/p&gt;

&lt;p&gt;I&apos;ll wait until tomorrow to commit in case there are other comments.&lt;/p&gt;</comment>
                            <comment id="12446719" author="myrna" created="Thu, 2 Nov 2006 20:40:57 +0000"  >&lt;p&gt;I ran after applying patch v6; I saw 3 failures (networkserver timeouts).&lt;br/&gt;
I think this looks good and should be committed.&lt;br/&gt;
Any further improvements can get added later.&lt;/p&gt;</comment>
                            <comment id="12446775" author="fuzzylogic" created="Fri, 3 Nov 2006 00:12:38 +0000"  >&lt;p&gt;Committed _v6 patch to trunk with revision 470604.&lt;/p&gt;</comment>
                            <comment id="12446776" author="djd" created="Fri, 3 Nov 2006 00:28:28 +0000"  >&lt;p&gt;Dumb question, but what are the requirements to be able to run this task. I executed&lt;/p&gt;

&lt;p&gt;ant junit-all&lt;/p&gt;

&lt;p&gt;and got&lt;/p&gt;

&lt;p&gt;BUILD FAILED&lt;br/&gt;
C:&amp;#95;work\svn_linq\trunk\build.xml:1631: Could not create task or type of type: j&lt;br/&gt;
unit.&lt;/p&gt;

&lt;p&gt;Ant could not find the task or a class this task relies upon.&lt;/p&gt;</comment>
                            <comment id="12446778" author="djd" created="Fri, 3 Nov 2006 00:33:15 +0000"  >&lt;p&gt;Just seems it requires CLASSPATH to be set to include the derby code and junit.jar.&lt;br/&gt;
At least doing that is getting me further!&lt;/p&gt;</comment>
                            <comment id="12446781" author="djd" created="Fri, 3 Nov 2006 00:36:04 +0000"  >&lt;p&gt;So I guess junitreport is the intended top-level target?&lt;/p&gt;

&lt;p&gt;  junit-all runs all the tests but does not reproduce a report&lt;/p&gt;

&lt;p&gt;  junitreport depends on  junit-all and then runs a report&lt;/p&gt;</comment>
                            <comment id="12446783" author="fuzzylogic" created="Fri, 3 Nov 2006 00:47:10 +0000"  >&lt;p&gt;Correct, junitreport is the top-level target.&lt;/p&gt;

&lt;p&gt;About having to put junit.jar into the classpath, that&apos;s a general Ant problem, covered in this FAQ:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://ant.apache.org/faq.html#delegating-classloader-1.6&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ant.apache.org/faq.html#delegating-classloader-1.6&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Apparently this problem has been fixed in Ant 1.7 (due out any day now) such that &amp;lt;junit&amp;gt; tasks honor their nested classpath. &lt;/p&gt;</comment>
                            <comment id="12446788" author="djd" created="Fri, 3 Nov 2006 01:05:07 +0000"  >&lt;p&gt;Thanks Andrew for setting this up, just ran my first report and it looks good!&lt;/p&gt;

&lt;p&gt;I can see how to add other test cases in general but it&apos;s not obvious to me how it would be done for JDK 1.6 tests.&lt;br/&gt;
Is it possible to add jdbc4/AutoloadTest as an example?&lt;/p&gt;</comment>
                            <comment id="12446795" author="fuzzylogic" created="Fri, 3 Nov 2006 02:19:11 +0000"  >&lt;p&gt;Checked in revision 470636 which refactors junit-oneclass to always set the jvm for a junit run from a property and default the property to &apos;java&apos;. So, if the jvm has a different executable name than &apos;java,&apos; you can now override that by passing in derby.junit.jvm on the command-line. e.g.:&lt;/p&gt;

&lt;p&gt;ant -Dderby.junit.jvm=j9 junitreport&lt;/p&gt;

&lt;p&gt;Also, the junit-jdbc4 target is now more like the junit-all target. Additional jdbc4 tests can now be added to the junit-jdbc4 target simply by adding another &amp;lt;antcall&amp;gt;. For example, to add jdbc4/AutoloadTest, add:&lt;/p&gt;

&lt;p&gt;Index: build.xml&lt;br/&gt;
===================================================================&lt;br/&gt;
&amp;#8212; build.xml   (revision 470636)&lt;br/&gt;
+++ build.xml   (working copy)&lt;br/&gt;
@@ -1635,6 +1635,12 @@&lt;br/&gt;
       &amp;lt;param name=&quot;derby.junit.testname&quot;&lt;br/&gt;
              value=&quot;org.apache.derbyTesting.functionTests.tests.jdbc4._Suite&quot;/&amp;gt;&lt;br/&gt;
     &amp;lt;/antcall&amp;gt;&lt;br/&gt;
+    &amp;lt;antcall target=&quot;junit-oneclass&quot;&amp;gt;&lt;br/&gt;
+      &amp;lt;param name=&quot;derby.junit.jvm&quot;&lt;br/&gt;
+             value=&quot;$&lt;/p&gt;
{jdk16}
&lt;p&gt;/bin/java&quot;/&amp;gt;&lt;br/&gt;
+      &amp;lt;param name=&quot;derby.junit.testname&quot;&lt;br/&gt;
+             value=&quot;org.apache.derbyTesting.functionTests.tests.jdbc4.AutoloadTest&quot;/&amp;gt;&lt;br/&gt;
+    &amp;lt;/antcall&amp;gt;&lt;br/&gt;
   &amp;lt;/target&amp;gt;&lt;/p&gt;

&lt;p&gt;   &amp;lt;target name=&quot;junit-all&quot; depends=&quot;junit-init,junit-jdbc4&quot;&amp;gt;&lt;/p&gt;
</comment>
                            <comment id="12448010" author="myrna" created="Wed, 8 Nov 2006 02:42:19 +0000"  >&lt;p&gt;I played with this for (quite) a while, but with the current version I use to test j2ME on Windows (wctme5.7 jcl foundation class), which has a problem with security manager (see: &lt;a href=&quot;http://wiki.apache.org/db-derby/JunitVmIssues#head-0916dd3630b0667e49460439fbd041c720d93eaf&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/db-derby/JunitVmIssues#head-0916dd3630b0667e49460439fbd041c720d93eaf&lt;/a&gt;), I have to jump through quite a few hoops to get things working. In fact, I didn&apos;t actually get things working.&lt;br/&gt;
I&apos;ve gotten as far as hard-coding in a number of jvmargs in build.xml:&lt;br/&gt;
  &amp;lt;target name=&quot;junit-oneclass&quot; depends=&quot;junit-init&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;junit printsummary=&quot;on&quot;&lt;br/&gt;
           fork=&quot;yes&quot; forkmode=&quot;once&quot;&lt;br/&gt;
           jvm=&quot;$&lt;/p&gt;
{derby.junit.jvm}
&lt;p&gt;&quot;&lt;br/&gt;
           showoutput=&quot;yes&quot;&lt;br/&gt;
           dir=&quot;junit_$&lt;/p&gt;
{derby.junit.DSTAMP}_${derby.junit.TSTAMP}/testout&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;jvmarg value=&quot;-Dij.dataSource=org.apache.derby.jdbc.EmbeddedSimpleDataSource&quot;/&amp;gt; &lt;br/&gt;
        &amp;lt;jvmarg value=&quot;-jcl:foun10&quot;/&amp;gt; &lt;br/&gt;
        &amp;lt;jvmarg value=&quot;-Xbootclasspath/a:c:/wctme5.7/ive/lib/jdbc.jar&quot;/&amp;gt; &lt;br/&gt;
        &amp;lt;jvmarg value=&quot;-DderbyTesting.serverhost=localhost&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;jvmarg value=&quot;-DderbyTesting.clienthost=localhost&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;jvmarg value=&quot;-DderbyTesting.codeclasses=&lt;a href=&quot;file:/C:/derby/trunk/classes/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:/C:/derby/trunk/classes/&lt;/a&gt;&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;jvmarg value=&quot;-Djava.security.policy=&lt;a href=&quot;file:/C:/derby/trunk/classes/org/apache/derbyTesting/functionTests/util/derby_tests.policy&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:/C:/derby/trunk/classes/org/apache/derbyTesting/functionTests/util/derby_tests.policy&lt;/a&gt;&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;jvmarg value=&quot;-Dderby.system.home=c:/derby/trunk/junit_${derby.junit.DSTAMP}
&lt;p&gt;_$&lt;/p&gt;
{derby.junit.TSTAMP}&quot;/&amp;gt;&lt;br/&gt;
      &amp;lt;formatter type=&quot;xml&quot;/&amp;gt;&lt;br/&gt;
      &amp;lt;test name=&quot;${derby.junit.testname}&quot; todir=&quot;junit_${derby.junit.DSTAMP}_${derby.junit.TSTAMP}
&lt;p&gt;&quot;/&amp;gt;&lt;br/&gt;
      &amp;lt;classpath&amp;gt;&lt;br/&gt;
        &amp;lt;pathelement path=&quot;$&lt;/p&gt;
{out.dir}
&lt;p&gt;&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;pathelement path=&quot;$&lt;/p&gt;
{junit}
&lt;p&gt;&quot;/&amp;gt;&lt;br/&gt;
      &amp;lt;/classpath&amp;gt;&lt;br/&gt;
    &amp;lt;/junit&amp;gt;&lt;br/&gt;
  &amp;lt;/target&amp;gt;&lt;/p&gt;

&lt;p&gt;But this results in:     &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Exception in thread &quot;main&quot; java.security.AccessControlException: Access denied (java.lang.RuntimePermission setIO )&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at java.security.AccessController.checkPermission(AccessController.java:74)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at java.lang.SecurityManager.checkPermission(SecurityManager.java:612)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at java.lang.System.setOut(System.java:76)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:309)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:672)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:567)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Test org.apache.derbyTesting.functionTests.tests.tools._Suite FAILED&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;antcall&amp;#93;&lt;/span&gt; Exiting C:\derbyt\svn2\trunk\build.xml.&lt;/p&gt;

&lt;p&gt;and the resulting _Suite.xml files are empty.&lt;/p&gt;

&lt;p&gt;I suspect my specification of either the policy file or derby.system.home is off...&lt;br/&gt;
Anyways, this issue is closed, I think for now I&apos;ll just conclude that the ant target doesn&apos;t work well with wctme5.7 - foundation.&lt;/p&gt;</comment>
                            <comment id="12551433" author="fuzzylogic" created="Thu, 13 Dec 2007 09:05:16 +0000"  >&lt;p&gt;This issue has been resolved for over a year with no further movement. Closing.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12343726" name="derby_2006_v1.diff" size="1472" author="fuzzylogic" created="Thu, 26 Oct 2006 19:45:56 +0100"/>
                            <attachment id="12344028" name="derby_2006_v2.diff" size="2368" author="fuzzylogic" created="Tue, 31 Oct 2006 19:37:19 +0000"/>
                            <attachment id="12344042" name="derby_2006_v3.diff" size="4406" author="fuzzylogic" created="Tue, 31 Oct 2006 22:03:07 +0000"/>
                            <attachment id="12344060" name="derby_2006_v4.diff" size="5291" author="fuzzylogic" created="Wed, 1 Nov 2006 01:27:17 +0000"/>
                            <attachment id="12344150" name="derby_2006_v5.diff" size="5775" author="fuzzylogic" created="Thu, 2 Nov 2006 02:17:26 +0000"/>
                            <attachment id="12344152" name="derby_2006_v6.diff" size="5765" author="fuzzylogic" created="Thu, 2 Nov 2006 04:45:55 +0000"/>
                            <attachment id="12344035" name="example_output.zip" size="41715" author="fuzzylogic" created="Tue, 31 Oct 2006 20:50:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 26 Oct 2006 18:45:56 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30233</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0ts7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38643</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>