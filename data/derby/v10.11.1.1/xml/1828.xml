<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:21:11 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-1828/DERBY-1828.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-1828] Access rule violations should use a SQL state starting with &apos;42&apos; according to the SQL standard.</title>
                <link>https://issues.apache.org/jira/browse/DERBY-1828</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;The SQL standard says that SQL State &apos;42&apos; is for &quot;syntax error or access&lt;br/&gt;
rule violation&quot; (section 23.1).&lt;/p&gt;

&lt;p&gt;There is a question of what JDBC 4.0 exception should be thrown for a access rule violation,&lt;br/&gt;
JDBC 4.0 maps &apos;42&apos; to SQLSyntaxErrorException which seems wrong for an access rule.&lt;/p&gt;

&lt;p&gt;Message thread:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/db-derby-dev/200609.mbox/%3c45004A04.5080002@apache.org%3e&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mail-archives.apache.org/mod_mbox/db-derby-dev/200609.mbox/%3c45004A04.5080002@apache.org%3e&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12349434">DERBY-1828</key>
            <summary>Access rule violations should use a SQL state starting with &apos;42&apos; according to the SQL standard.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jorgenlo">J&#248;rgen L&#248;land</assignee>
                                    <reporter username="djd">Daniel John Debrunner</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Sep 2006 21:59:46 +0100</created>
                <updated>Tue, 30 Jun 2009 17:12:54 +0100</updated>
                            <resolved>Mon, 14 May 2007 15:12:24 +0100</resolved>
                                    <version>10.2.1.6</version>
                    <version>10.3.1.4</version>
                                    <fixVersion>10.3.1.4</fixVersion>
                                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                            <comments>
                            <comment id="12489708" author="jorgenlo" created="Wed, 18 Apr 2007 13:21:10 +0100"  >&lt;p&gt;See previous discussion: &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/db-derby-dev/200609.mbox/%3c45004A04.5080002@apache.org%3e&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mail-archives.apache.org/mod_mbox/db-derby-dev/200609.mbox/%3c45004A04.5080002@apache.org%3e&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;There seems to be an agreement that access rule violations should have state &apos;42&apos;, and that SQLSyntaxErrorException is the correct exception for these. Hence, I&apos;ll move the following errors to range 4250x (see SQLStates):&lt;/p&gt;

&lt;p&gt;String AUTH_NO_TABLE_PERMISSION                                    = &quot;28506&quot;;&lt;br/&gt;
String AUTH_NO_TABLE_PERMISSION_FOR_GRANT                          = &quot;28507&quot;;&lt;br/&gt;
String AUTH_NO_COLUMN_PERMISSION                                   = &quot;28508&quot;;&lt;br/&gt;
String AUTH_NO_COLUMN_PERMISSION_FOR_GRANT                         = &quot;28509&quot;;&lt;br/&gt;
String AUTH_NO_EXECUTE_PERMISSION                                  = &quot;2850A&quot;;&lt;br/&gt;
String AUTH_NO_EXECUTE_PERMISSION_FOR_GRANT                        = &quot;2850B&quot;;&lt;br/&gt;
String AUTH_NOT_OWNER                                              = &quot;2850C&quot;;&lt;br/&gt;
String AUTH_NO_ACCESS_NOT_OWNER                                    = &quot;2850D&quot;;&lt;br/&gt;
String AUTH_NOT_DATABASE_OWNER                                     = &quot;2850E&quot;;&lt;br/&gt;
String AUTH_GRANT_REVOKE_NOT_ALLOWED                               = &quot;2850F&quot;;&lt;br/&gt;
String AUTH_NO_OBJECT_PERMISSION                                   = &quot;2850G&quot;;&lt;br/&gt;
String AUTH_SHUTDOWN_NOT_DB_OWNER                                  = &quot;2850H.C&quot;;&lt;br/&gt;
String AUTH_ENCRYPT_NOT_DB_OWNER                                   = &quot;2850I.C&quot;;&lt;br/&gt;
String AUTH_HARD_UPGRADE_NOT_DB_OWNER                              = &quot;2850J.C&quot;;&lt;/p&gt;

&lt;p&gt;I am not sure if the following errors should be moved, and will not move them unless I&apos;m told otherwise.&lt;/p&gt;

&lt;p&gt;String AUTH_DATABASE_CONNECTION_REFUSED                            = &quot;04501.C&quot;;&lt;br/&gt;
String AUTH_SET_CONNECTION_READ_ONLY_IN_ACTIVE_XACT                = &quot;25501&quot;;&lt;br/&gt;
String AUTH_WRITE_WITH_READ_ONLY_CONNECTION                        = &quot;25502&quot;;&lt;br/&gt;
String AUTH_DDL_WITH_READ_ONLY_CONNECTION                          = &quot;25503&quot;;&lt;br/&gt;
String AUTH_CANNOT_SET_READ_WRITE                                  = &quot;25505&quot;;&lt;br/&gt;
String AUTH_INVALID_AUTHORIZATION_PROPERTY                         = &quot;28501&quot;;&lt;br/&gt;
String AUTH_INVALID_USER_NAME                                      = &quot;28502.C&quot;;&lt;br/&gt;
String AUTH_USER_IN_READ_AND_WRITE_LISTS                           = &quot;28503&quot;;&lt;br/&gt;
String AUTH_DUPLICATE_USERS                                        = &quot;28504&quot;;&lt;br/&gt;
String AUTH_INTERNAL_BAD_UUID                                      = &quot;28505&quot;;&lt;/p&gt;</comment>
                            <comment id="12489912" author="dagw" created="Thu, 19 Apr 2007 01:50:33 +0100"  >&lt;p&gt;The class &quot;28&quot; seems correct for failure to establish a connection&lt;br/&gt;
when checking credentials, cf. its usage in section 17.1 Connect&lt;br/&gt;
statement (SQL 2003). Since 2850H, 2850I and 2850J are thrown when&lt;br/&gt;
checking powers when connecting (albeit in a special mode), I think&lt;br/&gt;
they are correct to use the 28 class.&lt;/p&gt;

&lt;p&gt;I notice that in the plain connect case of connect failure due to&lt;br/&gt;
credentials check, class &quot;08&quot; is used (LOGIN_FAILED &quot;08004&quot;). It seems&lt;br/&gt;
to me this should be a &quot;28&quot; class error as well; I read the &quot;08&quot; class&lt;br/&gt;
&quot;connection exception&quot; as being for other failures related to a&lt;br/&gt;
connection (JDBC NonTransientConnectionException or&lt;br/&gt;
SQLTransientConnectionException).  The failed login due to credentials&lt;br/&gt;
checking seems to belong in the &quot;JDBC N/A SQLInvalidAuthorizationException&quot;&lt;br/&gt;
 subclass.&lt;/p&gt;

&lt;p&gt;Why &quot;04&quot; is used for AUTH_DATABASE_CONNECTION_REFUSED, I can&apos;t figure&lt;br/&gt;
out. Maybe someone can shed light on this. This also seems to be a 28&lt;br/&gt;
class error to me.&lt;/p&gt;

&lt;p&gt;Changing 08004 seems risky though, it would break many existing apps...&lt;/p&gt;</comment>
                            <comment id="12490130" author="djd" created="Thu, 19 Apr 2007 19:29:44 +0100"  >&lt;p&gt;Dag:&lt;/p&gt;

&lt;p&gt;&amp;gt; The class &quot;28&quot; seems correct for failure to establish a connection&lt;br/&gt;
&amp;gt; when checking credentials, cf. its usage in section 17.1 Connect&lt;br/&gt;
&amp;gt; statement (SQL 2003). &lt;/p&gt;

&lt;p&gt;Why?&lt;/p&gt;

&lt;p&gt;The only use for class 28 is for &quot;invalid authorization specification&quot;, all the uses of it in the SQL specification are for the case when the &lt;b&gt;format&lt;/b&gt; of the user identifier is invalid, not for when the authorization fails.&lt;/p&gt;

&lt;p&gt;I did raise this issue to the expert group for JDBC 4, I never understood why class 28 was special cased in the spec.&lt;/p&gt;
</comment>
                            <comment id="12490215" author="dagw" created="Fri, 20 Apr 2007 02:44:28 +0100"  >&lt;p&gt;Right, I think this paragraph of section 17.1 threw me off:&lt;br/&gt;
:&lt;br/&gt;
&amp;gt; 5) If the value of &amp;lt;connection user name&amp;gt;does not conform to the &lt;br/&gt;
&amp;gt;     implementation-defined restrictions, then an exception condition is &lt;br/&gt;
&amp;gt;    raised:invalid authorization specification .&lt;/p&gt;

&lt;p&gt;but this paragraph is more relevant to credentials failure:&lt;/p&gt;

&lt;p&gt;&amp;gt; 11) If the SQL-server rejects the establishment of the SQL-connection,then &lt;br/&gt;
&amp;gt;       an exception condition is raised: connection exception  SQL-server &lt;br/&gt;
&amp;gt;       rejected establishment of SQL-connection .&lt;/p&gt;

&lt;p&gt;so &quot;connection exception&quot;  (08) is correct. Sorry for the confusion.&lt;/p&gt;</comment>
                            <comment id="12492651" author="jorgenlo" created="Mon, 30 Apr 2007 11:47:28 +0100"  >&lt;p&gt;I have written a patch that moves &lt;/p&gt;

&lt;p&gt;AUTH_NO_TABLE_PERMISSION = &quot;28506&quot;;&lt;br/&gt;
AUTH_NO_TABLE_PERMISSION_FOR_GRANT = &quot;28507&quot;;&lt;br/&gt;
AUTH_NO_COLUMN_PERMISSION = &quot;28508&quot;;&lt;br/&gt;
AUTH_NO_COLUMN_PERMISSION_FOR_GRANT = &quot;28509&quot;;&lt;br/&gt;
AUTH_NO_EXECUTE_PERMISSION = &quot;2850A&quot;;&lt;br/&gt;
AUTH_NO_EXECUTE_PERMISSION_FOR_GRANT = &quot;2850B&quot;;&lt;br/&gt;
AUTH_NOT_OWNER = &quot;2850C&quot;;&lt;br/&gt;
AUTH_NO_ACCESS_NOT_OWNER = &quot;2850D&quot;;&lt;br/&gt;
AUTH_NOT_DATABASE_OWNER = &quot;2850E&quot;;&lt;br/&gt;
AUTH_GRANT_REVOKE_NOT_ALLOWED = &quot;2850F&quot;;&lt;br/&gt;
AUTH_NO_OBJECT_PERMISSION = &quot;2850G&quot;; &lt;/p&gt;

&lt;p&gt;to the 4250x range. This includes modifying a great deal of test cases. The patch runs fine with allsuites, but fails one derbyall test: &lt;/p&gt;

&lt;p&gt;derbyall/storeall/storeall.fail:store/bootLock.java&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;
			&lt;ul&gt;
				&lt;li&gt;
				&lt;ul&gt;
					&lt;li&gt;
					&lt;ul&gt;
						&lt;li&gt;
						&lt;ul&gt;
							&lt;li&gt;
							&lt;ul&gt;
								&lt;li&gt;
								&lt;ul&gt;
									&lt;li&gt;Diff file derbyall/storeall/storemore/bootLock.diff&lt;/li&gt;
								&lt;/ul&gt;
								&lt;/li&gt;
							&lt;/ul&gt;
							&lt;/li&gt;
						&lt;/ul&gt;
						&lt;/li&gt;
					&lt;/ul&gt;
					&lt;/li&gt;
				&lt;/ul&gt;
				&lt;/li&gt;
			&lt;/ul&gt;
			&lt;/li&gt;
			&lt;li&gt;Start: bootLock jdk1.5.0_06 storeall:storemore 2007-04-30 09:26:29 ***&lt;br/&gt;
2,4d1&lt;br/&gt;
&amp;lt; expected exception&lt;br/&gt;
&amp;lt; SQLSTATE(XJ040):&lt;br/&gt;
&amp;lt; SQLSTATE(XSDB6):&lt;br/&gt;
Test Failed.&lt;/li&gt;
			&lt;li&gt;End:   bootLock jdk1.5.0_06 storeall:storemore 2007-04-30 09:27:07 ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This test fails &quot;randomly&quot; here (on solaris 10, NFS, jdk 1.5) even on clean sandboxes, and I am pretty sure it is not related to the patch. &lt;/p&gt;</comment>
                            <comment id="12492653" author="jorgenlo" created="Mon, 30 Apr 2007 11:55:36 +0100"  >&lt;p&gt;The patch (1) partially solves the issue. More error codes with state &apos;28&apos; will most likely have to be moved.&lt;/p&gt;</comment>
                            <comment id="12492683" author="jorgenlo" created="Mon, 30 Apr 2007 16:12:33 +0100"  >&lt;p&gt;I have two questions regarding this issue:&lt;/p&gt;

&lt;p&gt;Q1) I need your opinion on whether or not this issue can be fixed before the next major release. I.e., may new error codes cause problems for existing applications?&lt;/p&gt;

&lt;p&gt;Q2) Second, what would be the correct SQL states for the messages currently found under the &quot;28&quot; header in SQLState? My suggestions are:&lt;/p&gt;


&lt;p&gt;***&lt;br/&gt;
Current in SQLState: AUTH_DATABASE_CONNECTION_REFUSED = &quot;04501.C&quot;;&lt;/p&gt;

&lt;p&gt;messages.properties reveals this:&lt;br/&gt;
----&lt;del&gt;8&amp;lt;&lt;/del&gt;-----&lt;br/&gt;
04501.C=Database connection refused.&lt;br/&gt;
...&lt;br/&gt;
08004=Connection refused : &lt;/p&gt;
{0}&lt;br/&gt;
08004.C.1=Connection authentication failure occurred.  Reason: {0}
&lt;p&gt;.&lt;br/&gt;
08004.C.2=The connection was refused because the database &lt;/p&gt;
{0} was not found.&lt;br/&gt;
----&lt;del&gt;&amp;gt;8&lt;/del&gt;-----&lt;br/&gt;
&lt;br/&gt;
Hence, it seems clear that 04501 is a variant of 08004, and should move accordingly. 08004 is &quot;SQL-server rejected establishment of SQL-connection&quot; according to SQL2003/SQL1999, which sounds reasonable.&lt;br/&gt;
&lt;br/&gt;
***&lt;br/&gt;
Currently in SQLState:&lt;br/&gt;
AUTH_INVALID_USER_NAME                                      = &quot;28502.C&quot;;&lt;br/&gt;
The message for this is &quot;The user name &apos;{0}
&lt;p&gt;&apos; is not valid.&quot; Another case of 08004? &lt;/p&gt;

&lt;p&gt;***&lt;br/&gt;
Current in SQLStates:&lt;br/&gt;
----&lt;del&gt;8&amp;lt;&lt;/del&gt;-----&lt;br/&gt;
AUTH_INVALID_AUTHORIZATION_PROPERTY                         = &quot;28501&quot;;&lt;br/&gt;
AUTH_USER_IN_READ_AND_WRITE_LISTS                           = &quot;28503&quot;;&lt;br/&gt;
AUTH_DUPLICATE_USERS                                        = &quot;28504&quot;;&lt;br/&gt;
AUTH_INTERNAL_BAD_UUID                                      = &quot;28505&quot;;&lt;br/&gt;
----&lt;del&gt;&amp;gt;8&lt;/del&gt;----- &lt;br/&gt;
State 42? &lt;/p&gt;


&lt;p&gt;***&lt;br/&gt;
Current in SQLStates:&lt;br/&gt;
----&lt;del&gt;8&amp;lt;&lt;/del&gt;-----&lt;br/&gt;
AUTH_NO_PERMISSION                                          = &quot;28506&quot;;&lt;br/&gt;
AUTH_NO_PERMISSION_FOR_GRANT                                = &quot;28507&quot;;&lt;br/&gt;
AUTH_NO_COLUMN_PERMISSION                                   = &quot;28508&quot;;&lt;br/&gt;
AUTH_NO_COLUMN_PERMISSION_FOR_GRANT                         = &quot;28509&quot;;&lt;br/&gt;
AUTH_NOT_OWNER                                              = &quot;2850C&quot;;&lt;br/&gt;
AUTH_NO_ACCESS_NOT_OWNER                                    = &quot;2850D&quot;;&lt;br/&gt;
AUTH_NOT_DATABASE_OWNER                                     = &quot;2850E&quot;;&lt;br/&gt;
AUTH_GRANT_REVOKE_NOT_ALLOWED                               = &quot;2850F&quot;;&lt;br/&gt;
----&lt;del&gt;&amp;gt;8&lt;/del&gt;----- &lt;br/&gt;
As already pointed out in this issue, these should move to &apos;42&apos; - syntax error or &lt;b&gt;access rule violation&lt;/b&gt;. This is what patch (1) does.&lt;/p&gt;

&lt;p&gt;***&lt;br/&gt;
Current in SQLStates:&lt;br/&gt;
----&lt;del&gt;8&amp;lt;&lt;/del&gt;-----&lt;br/&gt;
AUTH_SHUTDOWN_NOT_DB_OWNER                                  = &quot;2850H.C&quot;;&lt;br/&gt;
AUTH_ENCRYPT_NOT_DB_OWNER                                   = &quot;2850I.C&quot;;&lt;br/&gt;
AUTH_HARD_UPGRADE_NOT_DB_OWNER                              = &quot;2850J.C&quot;;&lt;br/&gt;
----&lt;del&gt;&amp;gt;8&lt;/del&gt;----- &lt;br/&gt;
May be either state &apos;08&apos; or &apos;42&apos;. They are violations of access rules (thrown when non-db owner tries to shutdown/encrypt/... the db), and therefore fit into state 42. However, the commands are requested through connect, and therefore also fit into 08 CONNECTION EXCEPTION. Since they are thrown at connect, I would suggest 08.&lt;/p&gt;

&lt;p&gt;In addition there are some &apos;25&apos; error codes, but these are not discussed for now.&lt;/p&gt;</comment>
                            <comment id="12492687" author="djd" created="Mon, 30 Apr 2007 16:30:38 +0100"  >&lt;p&gt;Just on this one:&lt;/p&gt;

&lt;p&gt;&amp;gt; Currently in SQLState:&lt;br/&gt;
&amp;gt; AUTH_INVALID_USER_NAME                                      = &quot;28502.C&quot;;&lt;br/&gt;
&amp;gt; The message for this is &quot;The user name &apos;&lt;/p&gt;
{0}
&lt;p&gt;&apos; is not valid.&quot; Another case of 08004? &lt;/p&gt;

&lt;p&gt;I think this remains as 28xxx, it&apos;s for the format of the user identifier being invalid, not that the user is not a valid user in the set of authenticated users.&lt;/p&gt;

&lt;p&gt;For an authentication failure Derby reports just that authentication failed. Systems should not report what specifically failed in an authentication&lt;br/&gt;
check, e.g. password is incorrect or user not known by the system. That provides more information for someone trying to break into the system.&lt;/p&gt;</comment>
                            <comment id="12493016" author="jorgenlo" created="Wed, 2 May 2007 07:00:12 +0100"  >&lt;p&gt;Thank you for the comment, Dan. I see your point regarding 28502, and hence leave it where it is. I will continue with this patch as described, but give the community some days to respond to whether or not it can be included in this release. &lt;/p&gt;</comment>
                            <comment id="12493659" author="jorgenlo" created="Fri, 4 May 2007 13:31:09 +0100"  >&lt;p&gt;Patch (2) supersedes (1). The patch moves all 2850x error codes except 28502 to 4250x or 08004 (if the exception is thrown during connect). 04501 is also moved to 08004. A whole lot of tests have been modified to expect the new codes.&lt;/p&gt;

&lt;p&gt;The patch passes allsuites, but fails bootLock in derbyall (which is normal here. Will have to fix it...).&lt;/p&gt;

&lt;p&gt;Myrna (in &quot;opinions please on possible existing app impact of &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1828&quot; title=&quot;Access rule violations should use a SQL state starting with &amp;#39;42&amp;#39; according to the SQL standard.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1828&quot;&gt;&lt;del&gt;DERBY-1828&lt;/del&gt;&lt;/a&gt;&quot;): &lt;br/&gt;
&amp;gt; Hi,&lt;/p&gt;

&lt;p&gt;&amp;gt; In &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1828&quot; title=&quot;Access rule violations should use a SQL state starting with &amp;#39;42&amp;#39; according to the SQL standard.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1828&quot;&gt;&lt;del&gt;DERBY-1828&lt;/del&gt;&lt;/a&gt;, J&#248;rgen proposes to adjust some SQLStates in the&lt;br/&gt;
&amp;gt; authorization area.&lt;br/&gt;
&amp;gt; I&apos;d like the community&apos;s input on the release-related question:&lt;/p&gt;

&lt;p&gt;&amp;gt; J&#248;rgen asks:&lt;br/&gt;
&amp;gt; &quot;Q1) I need your opinion on whether or not this issue can be fixed&lt;br/&gt;
&amp;gt; before the next major release. I.e., may new error codes cause&lt;br/&gt;
&amp;gt; problems for existing applications?&quot;&lt;/p&gt;

&lt;p&gt;Thanks for addressing this, Myrna. If there are no objections before Wed May 9, 2:00 PM CET, I will mark &quot;Patch available&quot; for patch (2).&lt;/p&gt;</comment>
                            <comment id="12494484" author="jorgenlo" created="Wed, 9 May 2007 13:04:34 +0100"  >&lt;p&gt;The patch (2indent) fixes indentation issues; the stat file is unchanged.&lt;/p&gt;</comment>
                            <comment id="12494498" author="jorgenlo" created="Wed, 9 May 2007 14:42:43 +0100"  >&lt;p&gt;I am uncertain about this release note, so it would be really great if someone reviewed it.&lt;/p&gt;

&lt;p&gt;Release note attempt:&lt;br/&gt;
---------------------------------------&lt;br/&gt;
Summary of Change&lt;br/&gt;
Most authorization failures have new error codes.&lt;/p&gt;

&lt;p&gt;Symptoms Seen by Applications Affected by Change&lt;br/&gt;
In the previous release, authorization failures had error codes 2850x and 04501. In this release, most of these errors have new error codes. The code changes are: 04501, 2850H, 2850I and 2850J are now 08004. 28506-2850G are now 42500-4250A, 28501 is now 4250B, 28503-28505 are now 4250C-4250E. Only the error codes have been changed; error messages are not affected.&lt;/p&gt;

&lt;p&gt;Incompatibilities with Previous Release&lt;br/&gt;
Applications that rely on authorization error codes may fail.&lt;/p&gt;

&lt;p&gt;Rationale for Change&lt;br/&gt;
The old error codes violated the SQL standard. The new error codes are correct.&lt;/p&gt;

&lt;p&gt;Application Changes Required&lt;br/&gt;
Applications that rely on authorization error codes must be recoded to expect the new codes. &lt;/p&gt;</comment>
                            <comment id="12494526" author="myrna" created="Wed, 9 May 2007 17:55:15 +0100"  >
&lt;p&gt;Hi J&#248;rgen,&lt;/p&gt;

&lt;p&gt;I think the Release Note looks good to me, thx!&lt;/p&gt;

&lt;p&gt;I glanced over the actual patch and have a comment, though...&lt;br/&gt;
I see you have not modified any of the translated messages.&lt;br/&gt;
It looks like a tremendous amount of work, but either the same thing&lt;br/&gt;
as happens for English should happen for all other translated&lt;br/&gt;
messages, or the affected messages in the other languages should be&lt;br/&gt;
removed altogether...&lt;/p&gt;

&lt;p&gt;Myrna&lt;/p&gt;</comment>
                            <comment id="12494527" author="myrna" created="Wed, 9 May 2007 17:56:56 +0100"  >&lt;p&gt;Forgot to say: modifying the translated message files can be done as a follow-up patch or subtask.&lt;/p&gt;</comment>
                            <comment id="12494647" author="jorgenlo" created="Thu, 10 May 2007 07:40:49 +0100"  >&lt;p&gt;Thank you for reviewing the patch, Myrna. &lt;/p&gt;

&lt;p&gt;I&apos;ll make a subtask and start working on this straight away.&lt;/p&gt;</comment>
                            <comment id="12494967" author="jorgenlo" created="Fri, 11 May 2007 07:18:41 +0100"  >&lt;p&gt;Reviewer/committer: Consider reviewing the patch (&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1828&quot; title=&quot;Access rule violations should use a SQL state starting with &amp;#39;42&amp;#39; according to the SQL standard.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1828&quot;&gt;&lt;del&gt;DERBY-1828&lt;/del&gt;&lt;/a&gt;-and-2633-1) in &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2633&quot; title=&quot;Authorization error codes have been moved. Translated messages must be moved accordingly.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2633&quot;&gt;&lt;del&gt;DERBY-2633&lt;/del&gt;&lt;/a&gt; instead of this one. It contains patch 2indent and the patch for the subtask.&lt;/p&gt;</comment>
                            <comment id="12495611" author="knutanders" created="Mon, 14 May 2007 15:12:24 +0100"  >&lt;p&gt;Committed revision 537850.&lt;/p&gt;</comment>
                            <comment id="12495619" author="jorgenlo" created="Mon, 14 May 2007 15:21:49 +0100"  >&lt;p&gt;Knut,&lt;br/&gt;
Thanks for committing the patch.&lt;/p&gt;</comment>
                            <comment id="12497083" author="mikem" created="Sat, 19 May 2007 00:23:34 +0100"  >&lt;p&gt;It looks like the following checkin is causing &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2647&quot; title=&quot;.lang.ErrorCodeTest fails with &amp;#39;Required Derby DataSource property {0} not set.&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2647&quot;&gt;&lt;del&gt;DERBY-2647&lt;/del&gt;&lt;/a&gt;:&lt;br/&gt;
r537850 | kahatlen | 2007-05-14 07:09:51 -0700 (Mon, 14 May 2007) | 7 lines&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1828&quot; title=&quot;Access rule violations should use a SQL state starting with &amp;#39;42&amp;#39; according to the SQL standard.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1828&quot;&gt;&lt;del&gt;DERBY-1828&lt;/del&gt;&lt;/a&gt;: Access rule violations should use a SQL state starting&lt;br/&gt;
with &apos;42&apos; according to the SQL standard.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2633&quot; title=&quot;Authorization error codes have been moved. Translated messages must be moved accordingly.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2633&quot;&gt;&lt;del&gt;DERBY-2633&lt;/del&gt;&lt;/a&gt;: Authorization error codes have been moved. Translated&lt;br/&gt;
messages must be moved accordingly.&lt;/p&gt;

&lt;p&gt;Patch contributed by J_rgen L_land.&lt;/p&gt;</comment>
                            <comment id="12570218" author="jorgenlo" created="Tue, 19 Feb 2008 13:43:34 +0000"  >&lt;p&gt;Closing issue as it has been tagged as fixed since May 2007&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12349415">DERBY-1825</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12356501" name="DERBY-1828-1.diff" size="79558" author="jorgenlo" created="Mon, 30 Apr 2007 11:47:28 +0100"/>
                            <attachment id="12356502" name="DERBY-1828-1.stat" size="578" author="jorgenlo" created="Mon, 30 Apr 2007 11:47:28 +0100"/>
                            <attachment id="12356772" name="DERBY-1828-2.diff" size="132726" author="jorgenlo" created="Fri, 4 May 2007 13:31:08 +0100"/>
                            <attachment id="12356773" name="DERBY-1828-2.stat" size="932" author="jorgenlo" created="Fri, 4 May 2007 13:31:09 +0100"/>
                            <attachment id="12356972" name="DERBY-1828-2indent.diff" size="132805" author="jorgenlo" created="Wed, 9 May 2007 13:04:31 +0100"/>
                            <attachment id="12356974" name="releaseNote.html" size="3200" author="jorgenlo" created="Wed, 9 May 2007 14:42:43 +0100"/>
                    </attachments>
                <subtasks>
                            <subtask id="12368979">DERBY-2633</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 18 Apr 2007 12:21:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22733</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10101"><![CDATA[Release Note Needed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0udz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38741</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>