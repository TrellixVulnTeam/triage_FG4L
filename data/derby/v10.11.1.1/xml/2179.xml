<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:43:21 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-2179/DERBY-2179.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-2179] suites.All fails after revision 483606 with ibm15</title>
                <link>https://issues.apache.org/jira/browse/DERBY-2179</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;With ibm 1.5 jvm, SR 3, suites.All fails with 4 failures and 61 errors. I backtracked my environment, clobbering all the way, to 483606. Before that checking, all passes, after, there are failures.&lt;/p&gt;

&lt;p&gt;I am attaching a run.out from a junit.textui.TestRunner result, but basically, there are 3 kind of errors:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Connection failed like this:&lt;br/&gt;
------------------------------------------------------&lt;br/&gt;
    FEEEEEEEEEEEEEEEEEEEEEEEEEEE.E.EE.EEjava.lang.Exception: DRDA_NoIO.S:Could not connect to Derby Network Server on host 127.0.0.1, port 1527.&lt;br/&gt;
	at org.apache.derby.impl.drda.NetworkServerControlImpl.consolePropertyMessageWork(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.drda.NetworkServerControlImpl.consolePropertyMessage(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.drda.NetworkServerControlImpl.setUpSocket(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.drda.NetworkServerControlImpl.ping(Unknown Source)&lt;br/&gt;
	at org.apache.derby.drda.NetworkServerControl.ping(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.junit.NetworkServerTestSetup.waitForServerStart(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.junit.NetworkServerTestSetup.setUp(Unknown Source)&lt;br/&gt;
------------------------------------------------------&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;2. SQLCAMESSAGE error 42X50 trouble like this one from SURData: &lt;br/&gt;
&quot;.............java.sql.SQLException: DERBY SQL error: SQLCODE: -1, SQLSTATE: 42X50, SQLERRMC: org.apache.derby.catalog.SystemProceduresSQLCAMESSAGEint, short, java.lang.String, java.lang.String, int, int, int, int, int, int, java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String[], int[]42X50&lt;br/&gt;
	at org.apache.derby.client.am.SQLExceptionFactory.getSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.client.am.SqlException.getSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.client.am.Statement.execute(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.jdbcapi.SURDataModelSetup.createDataModel(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.jdbcapi.SURDataModelSetup.createDataModel(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.jdbcapi.SURDataModelSetup.setUp(Unknown Source)&lt;br/&gt;
(..snipped junit stack...)&lt;br/&gt;
Caused by: org.apache.derby.client.am.SqlException: DERBY SQL error: SQLCODE: -1, SQLSTATE: 42X50, SQLERRMC: org.apache.derby.catalog.SystemProceduresSQLCAMESSAGEint, short, java.lang.String, java.lang.String, int, int, int, int, int, int, java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String[], int[]42X50&lt;br/&gt;
	at org.apache.derby.client.am.SqlException.copyAsUnchainedSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.client.am.Sqlca.chainDeferredExceptionsToAgentOrAsConnectionWarnings(Unknown Source)&lt;br/&gt;
	at org.apache.derby.client.am.Sqlca.getJDBCMessage(Unknown Source)&lt;br/&gt;
	at org.apache.derby.client.am.SqlException.getMessage(Unknown Source)&lt;br/&gt;
	... 29 more&lt;/p&gt;

&lt;p&gt;And various LangScripts and other tests also failed with error 42X50&lt;br/&gt;
e.g.: &lt;br/&gt;
1) GROUP BY expression testsERROR 42X50: No method was found that matched the method call org.apache.derby.catalog.SystemProcedures.SYSCS_SET_DATABASE_PROPERTY(java.lang.String, java.lang.String), tried all combinations of object and primitive types and any possible type conversion for any  parameters the method call may have. The method might exist but it is not public and/or static, or the parameter types are not method invocation convertible.&lt;br/&gt;
	at org.apache.derby.iapi.error.StandardException.newException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.compile.MethodCallNode.throwNoMethodFound(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.compile.MethodCallNode.resolveMethodCall(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.compile.StaticMethodCallNode.bindExpression(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.compile.JavaToSQLValueNode.bindExpression(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.compile.CallStatementNode.bindStatement(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.GenericStatement.prepMinion(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.GenericStatement.prepare(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.conn.GenericLanguageConnectionContext.prepareInternalStatement(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedPreparedStatement.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedCallableStatement.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.Driver30.newEmbedCallableStatement(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.prepareCall(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.prepareCall(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.junit.CleanDatabaseTestSetup.clearProperties(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.junit.CleanDatabaseTestSetup.cleanDatabase(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.junit.CleanDatabaseTestSetup.tearDown(Unknown Source)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:20)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
2) case(org.apache.derbyTesting.functionTests.tests.lang.LangScripts)ERROR 42X50: No method was found that matched the method call org.apache.derby.catalog.SystemProcedures.SYSCS_SET_DATABASE_PROPERTY(java.lang.String, java.lang.String), tried all combinations of object and primitive types and any possible type conversion for any  parameters the method call may have. The method might exist but it is not public and/or static, or the parameter types are not method invocation convertible.&lt;br/&gt;
	at org.apache.derby.iapi.error.StandardException.newException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.compile.MethodCallNode.throwNoMethodFound(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.compile.MethodCallNode.resolveMethodCall(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.compile.StaticMethodCallNode.bindExpression(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.compile.JavaToSQLValueNode.bindExpression(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.compile.CallStatementNode.bindStatement(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.GenericStatement.prepMinion(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.GenericStatement.prepare(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.conn.GenericLanguageConnectionContext.prepareInternalStatement(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedPreparedStatement.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedCallableStatement.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.Driver30.newEmbedCallableStatement(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.prepareCall(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.prepareCall(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.junit.CleanDatabaseTestSetup.clearProperties(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.junit.CleanDatabaseTestSetup.cleanDatabase(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.junit.CleanDatabaseTestSetup.setUp(Unknown Source)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:18)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;/p&gt;

&lt;p&gt;Plus,  XMLType and Operators suite fails because wombat was compromised, and also error 42X50.&lt;/p&gt;

&lt;p&gt;3. There were 2 failures:&lt;br/&gt;
1) testNegative(org.apache.derbyTesting.functionTests.tests.lang.GroupByExpressionTest)junit.framework.ComparisonFailure: Unexpected SQL state. expected:&amp;lt;42Y30&amp;gt; but was:&amp;lt;XJ001&amp;gt;&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.assertSQLState(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.assertSQLState(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.assertSQLState(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.assertCompileError(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.GroupByExpressionTest.testNegative(Unknown Source)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(Unknown Source)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
2) testInvalidXMLBindings(org.apache.derbyTesting.functionTests.tests.lang.XMLBindingTest)junit.framework.ComparisonFailure: Unexpected SQL state. expected:&amp;lt;...Z7...&amp;gt; but was:&amp;lt;...X5...&amp;gt;&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.assertSQLState(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.assertSQLState(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.assertCompileError(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.XMLBindingTest.testInvalidXMLBindings(Unknown Source)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(Unknown Source)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;/p&gt;
</description>
                <environment>with ibm 1.5. jvm, </environment>
        <key id="12358692">DERBY-2179</key>
            <summary>suites.All fails after revision 483606 with ibm15</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="djd">Daniel John Debrunner</assignee>
                                    <reporter username="myrna">Myrna van Lunteren</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Dec 2006 23:53:36 +0000</created>
                <updated>Tue, 20 Mar 2007 21:07:57 +0000</updated>
                            <resolved>Mon, 8 Jan 2007 22:14:53 +0000</resolved>
                                    <version>10.3.1.4</version>
                                    <fixVersion>10.3.1.4</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12458673" author="djd" created="Fri, 15 Dec 2006 05:07:11 +0000"  >&lt;p&gt;Thanks for the investigation Myrna, made it easier for me to find the problem.&lt;/p&gt;

&lt;p&gt;The problem is that the code installing the class loader in DatabaseClassLoadingTest assumes there is no context class loader but the IBM JVM seems to be setting one up. Thus once the test cleans up by removing its class loader it doesn&apos;t re-install the previous loader. Will have a patch tomorrow.&lt;/p&gt;</comment>
                            <comment id="12463143" author="djd" created="Mon, 8 Jan 2007 22:14:53 +0000"  >&lt;p&gt;Suites.All passes with IBM 1.5 and modified code has comments indicating what changes are required once the test case is enabled.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12347232" name="run.out" size="146722" author="myrna" created="Thu, 14 Dec 2006 23:54:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 15 Dec 2006 05:07:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22928</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy1347:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40155</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>