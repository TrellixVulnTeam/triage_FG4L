<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:42:05 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-4692/DERBY-4692.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-4692] Unions between BOOLEAN and non-BOOLEAN datatypes should be rejected</title>
                <link>https://issues.apache.org/jira/browse/DERBY-4692</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4684&quot; title=&quot;Correct the implicit casting of other types to BOOLEAN&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4684&quot;&gt;&lt;del&gt;DERBY-4684&lt;/del&gt;&lt;/a&gt; fixed problems in implicit casts to BOOLEAN. However, the query which created the implicit casts should raise an error for other reasons:&lt;/p&gt;

&lt;p&gt;select isindex from sys.sysconglomerates where conglomeratename = &apos;foo&apos;&lt;br/&gt;
union&lt;br/&gt;
values ( &apos;true&apos; )&lt;/p&gt;

&lt;p&gt;This should fail because if either of the datatypes being UNIONed is BOOLEAN, then both should be BOOLEAN. Here is my reasoning, copied from the related discussion on DERBY:&lt;/p&gt;

&lt;p&gt;1) The rules for determining whether two datatypes are union compatible are stated in the SQL Standard in part 2, section 7.3 (&amp;lt;query expression&amp;gt;), syntax rule 20.b.ii.&lt;/p&gt;

&lt;p&gt;2) That, in turn, refers the reader to section 9.3 (Result of data type combinations).&lt;/p&gt;

&lt;p&gt;3) Section 9.3, syntax rule 3.g says that if either of two values to be merged is BOOLEAN, then both must be BOOLEAN.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12466190">DERBY-4692</key>
            <summary>Unions between BOOLEAN and non-BOOLEAN datatypes should be rejected</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rhillegas">Rick Hillegas</assignee>
                                    <reporter username="rhillegas">Rick Hillegas</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Jun 2010 16:09:56 +0100</created>
                <updated>Mon, 29 Nov 2010 14:22:34 +0000</updated>
                            <resolved>Mon, 7 Jun 2010 16:13:06 +0100</resolved>
                                    <version>10.0.2.0</version>
                    <version>10.0.2.1</version>
                    <version>10.1.1.0</version>
                    <version>10.1.2.1</version>
                    <version>10.1.3.1</version>
                    <version>10.2.1.6</version>
                    <version>10.2.2.0</version>
                    <version>10.3.1.4</version>
                    <version>10.3.2.1</version>
                    <version>10.3.3.0</version>
                    <version>10.4.1.3</version>
                    <version>10.4.2.0</version>
                    <version>10.5.1.1</version>
                    <version>10.5.2.0</version>
                    <version>10.5.3.0</version>
                    <version>10.6.1.0</version>
                                    <fixVersion>10.7.1.1</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12875683" author="rhillegas" created="Fri, 4 Jun 2010 18:58:56 +0100"  >&lt;p&gt;Attaching derby-4692-01-aa-badUnions.diff. This patch prevents you from UNIONing BOOLEAN and non-BOOLEAN types. Regression tests passed cleanly for me after applying this patch.&lt;/p&gt;

&lt;p&gt;I am not sure that Derby is enforcing the Standard rules for UNION compatibility. Derby may be enforcing a weaker set of rules. Bringing Derby into full compliance with the Standard could break many existing applications so I do not recommend fixing this logic. However, as we re-enable BOOLEAN, it makes sense to me that the rules for BOOLEAN should be correct.&lt;/p&gt;

&lt;p&gt;Touches the following files:&lt;/p&gt;

&lt;p&gt;---------&lt;/p&gt;

&lt;p&gt;M      java/engine/org/apache/derby/impl/sql/compile/ResultColumnList.java&lt;/p&gt;

&lt;p&gt;Make sure that if either side of a UNION is BOOLEAN, then both sides are BOOLEAN.&lt;/p&gt;

&lt;p&gt;---------&lt;/p&gt;

&lt;p&gt;M      java/testing/org/apache/derbyTesting/functionTests/tests/lang/BooleanValuesTest.java&lt;/p&gt;

&lt;p&gt;Change this regression test to reject the UNION queries which allowed mixing of BOOLEAN and non-BOOLEAN values.&lt;/p&gt;</comment>
                            <comment id="12876271" author="rhillegas" created="Mon, 7 Jun 2010 16:13:06 +0100"  >&lt;p&gt;Committed patch at subversion revision 952263.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12313174">DERBY-499</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12459157">DERBY-4583</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12465874">DERBY-4684</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12446357" name="derby-4692-01-aa-badUnions.diff" size="8690" author="rhillegas" created="Fri, 4 Jun 2010 18:58:56 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10367"><![CDATA[Deviation from standard]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>24413</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10102"><![CDATA[Patch Available]]></customfieldvalue>
    <customfieldvalue key="10424"><![CDATA[Repro attached]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0ol3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37801</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>