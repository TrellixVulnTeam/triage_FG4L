<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:49:40 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-4873/DERBY-4873.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-4873] NullPointerException in testBoundaries with ibm jvm 1.6 </title>
                <link>https://issues.apache.org/jira/browse/DERBY-4873</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;With the line skipping the testBoundaries fixture of the InternationalConnectTest commented out, I get the following stack when I run the test with ibm 1.6:&lt;/p&gt;

&lt;p&gt;1) testBoundaries(org.apache.derbyTesting.functionTests.tests.jdbcapi.InternationalConnectTest)java.sql.SQLException: DERBY SQL error: SQLCODE: -1, SQLSTATE: XJ001, SQLERRMC: java.lang.NullPointerExceptionXJ001.U&lt;br/&gt;
	at org.apache.derby.client.am.SQLExceptionFactory40.getSQLException(SQLExceptionFactory40.java:96)&lt;br/&gt;
	at org.apache.derby.client.am.SqlException.getSQLException(SqlException.java:358)&lt;br/&gt;
	at org.apache.derby.jdbc.ClientDriver.connect(ClientDriver.java:149)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:322)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:273)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.jdbcapi.InternationalConnectTest.testBoundaries(InternationalConnectTest.java:111)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:48)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:109)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
Caused by: org.apache.derby.client.am.SqlException: DERBY SQL error: SQLCODE: -1, SQLSTATE: XJ001, SQLERRMC: java.lang.NullPointerExceptionXJ001.U&lt;br/&gt;
	at org.apache.derby.client.am.Connection.completeSqlca(Connection.java:2117)&lt;br/&gt;
	at org.apache.derby.client.net.NetConnectionReply.parseRdbAccessFailed(NetConnectionReply.java:541)&lt;br/&gt;
	at org.apache.derby.client.net.NetConnectionReply.parseAccessRdbError(NetConnectionReply.java:434)&lt;br/&gt;
	at org.apache.derby.client.net.NetConnectionReply.parseACCRDBreply(NetConnectionReply.java:297)&lt;br/&gt;
	at org.apache.derby.client.net.NetConnectionReply.readAccessDatabase(NetConnectionReply.java:121)&lt;br/&gt;
	at org.apache.derby.client.net.NetConnection.readSecurityCheckAndAccessRdb(NetConnection.java:846)&lt;br/&gt;
	at org.apache.derby.client.net.NetConnection.flowSecurityCheckAndAccessRdb(NetConnection.java:769)&lt;br/&gt;
	at org.apache.derby.client.net.NetConnection.flowUSRIDONLconnect(NetConnection.java:601)&lt;br/&gt;
	at org.apache.derby.client.net.NetConnection.flowConnect(NetConnection.java:408)&lt;br/&gt;
	at org.apache.derby.client.net.NetConnection.&amp;lt;init&amp;gt;(NetConnection.java:218)&lt;br/&gt;
	at org.apache.derby.client.net.NetConnection40.&amp;lt;init&amp;gt;(NetConnection40.java:77)&lt;br/&gt;
	at org.apache.derby.client.net.ClientJDBCObjectFactoryImpl40.newNetConnection(ClientJDBCObjectFactoryImpl40.java:269)&lt;br/&gt;
	at org.apache.derby.jdbc.ClientDriver.connect(ClientDriver.java:140)&lt;br/&gt;
	... 35 more&lt;/p&gt;

&lt;p&gt;This is after the latest check in for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4836&quot; title=&quot;many failures with IBM 1.5 and 1.6 on windows after test InternationalConnectTest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4836&quot;&gt;&lt;del&gt;DERBY-4836&lt;/del&gt;&lt;/a&gt; (revision 1028035).&lt;/p&gt;

&lt;p&gt;I&apos;ll attach derby.log.&lt;/p&gt;</description>
                <environment>Windows XP with ibm jvm 1.6 SR8</environment>
        <key id="12478631">DERBY-4873</key>
            <summary>NullPointerException in testBoundaries with ibm jvm 1.6 </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="knutanders">Knut Anders Hatlen</assignee>
                                    <reporter username="myrna">Myrna van Lunteren</reporter>
                        <labels>
                    </labels>
                <created>Fri, 29 Oct 2010 00:45:13 +0100</created>
                <updated>Wed, 31 Oct 2012 10:01:49 +0000</updated>
                            <resolved>Wed, 31 Oct 2012 10:01:49 +0000</resolved>
                                    <version>10.7.1.1</version>
                                    <fixVersion>10.5.3.2</fixVersion>
                    <fixVersion>10.6.2.4</fixVersion>
                    <fixVersion>10.7.1.1</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12926005" author="myrna" created="Fri, 29 Oct 2010 00:48:01 +0100"  >&lt;p&gt;I obtained this derby.log after also changing all fixture names except testBoundaries to have an extra &apos;t&apos;, thus only testBoundaries is run this way.&lt;/p&gt;

&lt;p&gt;my classpath includes derby.jar, derbyclient.jar, derbyrun.jar, derbyTesting.jar, junit.jar and jakarta-oro-2.0.8.jar.&lt;/p&gt;

&lt;p&gt;I don&apos;t see this behavior with sun&apos;s 1.6 jvm.&lt;/p&gt;</comment>
                            <comment id="12926196" author="knutanders" created="Fri, 29 Oct 2010 08:30:32 +0100"  >&lt;p&gt;The NPE is raised at BaseDataFileFactory.java:471, which looks like this:&lt;/p&gt;

&lt;p&gt;    istream.println(LINE);&lt;/p&gt;

&lt;p&gt;I don&apos;t know why istream is null here with the IBM VM, but I think this line is buggy, or at least not consistent with how printing to istream happens in the rest of the file. Normally, the helper method logMsg() is used, which checks if istream is null before calling println(), and initializes the field if necessary.&lt;/p&gt;

&lt;p&gt;The attached patch logMsg.diff makes BaseDataFileFactory.stop() use the helper method too.&lt;br/&gt;
Committed revision 1028633.&lt;/p&gt;

&lt;p&gt;This should at least take care of the NPE, but I don&apos;t know if it is enough to make the test pass on that platform.&lt;/p&gt;</comment>
                            <comment id="12927133" author="myrna" created="Mon, 1 Nov 2010 20:17:39 +0000"  >&lt;p&gt;Thanks for fixing the NPE...&lt;br/&gt;
I now get the issue with the delete / access denied error of &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4836&quot; title=&quot;many failures with IBM 1.5 and 1.6 on windows after test InternationalConnectTest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4836&quot;&gt;&lt;del&gt;DERBY-4836&lt;/del&gt;&lt;/a&gt;, which I&apos;ve reported as a jvm issue, so I think this issue can be closed.&lt;/p&gt;</comment>
                            <comment id="13469633" author="mamtas" created="Thu, 4 Oct 2012 20:51:32 +0100"  >&lt;p&gt;Backported to 10.6 with revision 1394225&lt;/p&gt;</comment>
                            <comment id="13469635" author="mamtas" created="Thu, 4 Oct 2012 20:52:10 +0100"  >&lt;p&gt;reopening for backporting&lt;/p&gt;</comment>
                            <comment id="13469845" author="mamtas" created="Fri, 5 Oct 2012 00:51:13 +0100"  >&lt;p&gt;Backported to 10.5 with revision 1394319&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12476715">DERBY-4836</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12458290" name="derby.log" size="9976" author="myrna" created="Fri, 29 Oct 2010 00:48:01 +0100"/>
                            <attachment id="12458310" name="logMsg.diff" size="620" author="knutanders" created="Fri, 29 Oct 2010 08:30:32 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10369"><![CDATA[Regression Test Failure]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 29 Oct 2010 07:30:32 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>24503</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxv3o7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5250</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>