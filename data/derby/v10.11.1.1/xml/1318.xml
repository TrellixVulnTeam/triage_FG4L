<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:36:43 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-1318/DERBY-1318.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-1318] Add an upgrade test to verify that DataSources can be serialized by the previous release and then correctly deserialized by the current release</title>
                <link>https://issues.apache.org/jira/browse/DERBY-1318</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Currently, our DataSources are serializable in order to play well with JNDI. However, we have no upgrade test verifying that DataSource serialization works across release boundaries. We should add this case to our upgrade tests.&lt;/p&gt;

&lt;p&gt;Further recommendations by Dan:&lt;/p&gt;

&lt;p&gt;&quot;I do think though that upgrade testing recently brought into the mainline by Deepa should be enhanced to test:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;serializing Derby&apos;&apos;s data source implementations in 10.1 and seeing it unserializes with 10.2&lt;br/&gt;
      (maybe into a BLOB column)&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;making a Reference object out of Derby&apos;&apos;s data source implementations in 10.1 and making it into&lt;br/&gt;
     an object with 10.2. (if this type of tetsing makes sense for References&apos;)&quot;&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12333543">DERBY-1318</key>
            <summary>Add an upgrade test to verify that DataSources can be serialized by the previous release and then correctly deserialized by the current release</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rhillegas">Rick Hillegas</reporter>
                        <labels>
                            <label>derby_triage10_8</label>
                    </labels>
                <created>Fri, 12 May 2006 03:16:45 +0100</created>
                <updated>Wed, 17 Aug 2011 21:14:22 +0100</updated>
                            <resolved>Wed, 17 Aug 2011 21:14:22 +0100</resolved>
                                    <version>10.2.1.6</version>
                                    <fixVersion>10.4.2.0</fixVersion>
                                    <component>JDBC</component>
                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12435837" author="rhillegas" created="Tue, 19 Sep 2006 15:56:12 +0100"  >&lt;p&gt;Moving to 10.2.2.0.&lt;/p&gt;</comment>
                            <comment id="12456061" author="rhillegas" created="Wed, 6 Dec 2006 14:51:16 +0000"  >&lt;p&gt;Move to 10.3.0.0.&lt;/p&gt;</comment>
                            <comment id="12467594" author="fuzzylogic" created="Thu, 25 Jan 2007 20:38:23 +0000"  >&lt;p&gt;Unsetting Fix Version on unassigned issues.&lt;/p&gt;</comment>
                            <comment id="12566159" author="kristwaa" created="Wed, 6 Feb 2008 15:29:11 +0000"  >&lt;p&gt;&apos;derby-1318-1a-for_comments.diff&apos; is a first attempt at writing a test for verifying compatibility for the current data source implementations towards to old ones. It will do basic testing only by de-serializing an old data source and recreating it by using javax.naming.Reference.&lt;/p&gt;

&lt;p&gt;It is based on checked in versions of old data sources. This might not be required if the upgrade test is run by default, but I think it might be a valuable addition anyway to catch incompatibilities quickly and it doesn&apos;t require you to have access to old releases.&lt;/p&gt;

&lt;p&gt;I have also included a utility that can be run to write data sources to file. All you have to do is run it with a given version of Derby on the classpath, and it will write all data sources it knows about (predefined list) to file if it can find them. The utility currently lives in &apos;functionTests/testData/serialized-data-sources&apos;, I&apos;m not convinced if that&apos;s the best place and I&apos;m open for other suggestions &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I would appreciate comments on the approach and the test in general.&lt;br/&gt;
I also feel the test I&apos;ve written is a bit on the side of the Jira issue, so I can create a separate issue if required.&lt;/p&gt;</comment>
                            <comment id="12568010" author="kristwaa" created="Tue, 12 Feb 2008 09:09:39 +0000"  >&lt;p&gt;I will commit the patch under this issue tomorrow if nobody objects.&lt;/p&gt;</comment>
                            <comment id="12568505" author="kristwaa" created="Wed, 13 Feb 2008 11:00:36 +0000"  >&lt;p&gt;&apos;derby-1318-1b-for_comments.diff&apos; is a slightly changed from 1a:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;uses more specific versions (for instance 10.3.2.1 instead of 10.3)&lt;/li&gt;
	&lt;li&gt;improved documentation slightly&lt;/li&gt;
	&lt;li&gt;added a read method to SerializeDataSource.java, which prints information about the specified file.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Also added the serialized data source files, which are not included in the diff because they are binary files.&lt;/p&gt;</comment>
                            <comment id="12568509" author="kristwaa" created="Wed, 13 Feb 2008 11:15:08 +0000"  >&lt;p&gt;Committed &apos;derby-1318-1b-for_comments.diff&apos; (and &apos;serialized-data-sources.zip&apos;)  to trunk with revision 627356.&lt;/p&gt;</comment>
                            <comment id="12569690" author="kristwaa" created="Sun, 17 Feb 2008 12:06:03 +0000"  >&lt;p&gt;&apos;derby-1318-2a-javadoc_and_build.diff&apos; fixes some JavaDoc errors and also makes the utility class SerializeDataSources be built and included in derbyTesting.jar.&lt;br/&gt;
Committed to trunk with revision 628482.&lt;/p&gt;</comment>
                            <comment id="12580818" author="dyret" created="Thu, 20 Mar 2008 16:10:48 +0000"  >&lt;p&gt;Removing Fix-version for unassigned issues&lt;/p&gt;</comment>
                            <comment id="12996115" author="myrna" created="Thu, 17 Feb 2011 21:53:36 +0000"  >&lt;p&gt;I see a test has been submitted. Perhaps this can be closed as fixed?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12374874" name="derby-1318-1a-for_comments.diff" size="38061" author="kristwaa" created="Wed, 6 Feb 2008 15:29:11 +0000"/>
                            <attachment id="12374875" name="derby-1318-1a-for_comments.stat" size="3925" author="kristwaa" created="Wed, 6 Feb 2008 15:29:11 +0000"/>
                            <attachment id="12375470" name="derby-1318-1b-for_comments.diff" size="36794" author="kristwaa" created="Wed, 13 Feb 2008 11:00:14 +0000"/>
                            <attachment id="12375471" name="derby-1318-1b-for_comments.stat" size="3261" author="kristwaa" created="Wed, 13 Feb 2008 11:00:26 +0000"/>
                            <attachment id="12375787" name="derby-1318-2a-javadoc_and_build.diff" size="3363" author="kristwaa" created="Sun, 17 Feb 2008 12:06:03 +0000"/>
                            <attachment id="12375472" name="serialized-data-sources.zip" size="16700" author="kristwaa" created="Wed, 13 Feb 2008 11:00:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 25 Jan 2007 20:38:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>29946</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0fgf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36322</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310050" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Urgency</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10052"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>