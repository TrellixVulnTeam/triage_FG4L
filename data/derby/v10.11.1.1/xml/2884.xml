<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:22:40 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-2884/DERBY-2884.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-2884] CtxStack should only create unmodifiable view once per instance</title>
                <link>https://issues.apache.org/jira/browse/DERBY-2884</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Each time a transaction is committed or aborted, GenericLanguageConnectionContext.resetSavepoints() goes through the stack of statement contexts and invokes resetSavePoint() on them. Instead of traversing the list in the CtxStack object directly, it fetches a read-only view of the list. Since the lifetime of a CtxStack object and the list within it can span multiple transactions, the read-only view only needs to be created the first time CtxStack.getUnmodifiableList() is called on an object.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12372738">DERBY-2884</key>
            <summary>CtxStack should only create unmodifiable view once per instance</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="knutanders">Knut Anders Hatlen</assignee>
                                    <reporter username="knutanders">Knut Anders Hatlen</reporter>
                        <labels>
                    </labels>
                <created>Sat, 30 Jun 2007 17:19:34 +0100</created>
                <updated>Mon, 29 Jun 2009 15:08:36 +0100</updated>
                            <resolved>Sun, 1 Jul 2007 16:12:03 +0100</resolved>
                                    <version>10.4.1.3</version>
                                    <fixVersion>10.4.1.3</fixVersion>
                                    <component>Services</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12509299" author="knutanders" created="Sat, 30 Jun 2007 17:32:43 +0100"  >&lt;p&gt;Attached is a patch which adds a field, unmodifiableList, to CtxStack and changes CtxStack.getUnmodifiableList() so that it keeps a reference to the returned list. The patch also makes stack_ final to make it clearer that it&apos;s always the same object and that it&apos;s OK to always return the same read-only view of it. No tests have been run yet.&lt;/p&gt;</comment>
                            <comment id="12509305" author="djd" created="Sat, 30 Jun 2007 18:20:20 +0100"  >&lt;p&gt;Nice find. Is it even worth creating the read-only list lazily? It&apos;s going to be used for every commit so every connection will have to create one.&lt;/p&gt;</comment>
                            <comment id="12509316" author="knutanders" created="Sat, 30 Jun 2007 19:28:13 +0100"  >&lt;p&gt;Currently, ContextManager.getContextStack() is only called on the statement stack, so creating one for the language connection stack too would waste a couple of bytes per connection. That shouldn&apos;t be much of a problem unless you&apos;re really tight on memory, though, so I don&apos;t mind changing it if you&apos;d prefer that approach.&lt;/p&gt;</comment>
                            <comment id="12509412" author="knutanders" created="Sun, 1 Jul 2007 16:09:09 +0100"  >&lt;p&gt;Attaching new patch which skips the lazy initialization of the read-only view. All tests passed.&lt;/p&gt;</comment>
                            <comment id="12509414" author="knutanders" created="Sun, 1 Jul 2007 16:12:03 +0100"  >&lt;p&gt;Committed revision 552323.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12360868" name="ctxstack.diff" size="1158" author="knutanders" created="Sat, 30 Jun 2007 17:32:42 +0100"/>
                            <attachment id="12360882" name="ctxstack2.diff" size="996" author="knutanders" created="Sun, 1 Jul 2007 16:09:09 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10362"><![CDATA[Performance]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 30 Jun 2007 17:20:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30640</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0wpb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39116</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>