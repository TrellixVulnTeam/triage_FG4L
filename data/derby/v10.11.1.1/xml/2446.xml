<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:08:14 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-2446/DERBY-2446.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-2446] Remove notion of the old test harness from TestConfiguration</title>
                <link>https://issues.apache.org/jira/browse/DERBY-2446</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;TestConfiguration has a notion of the old test harness. It is used when the old harness is running JUnit tests, and differs mostly by reading the system properties set by the harness and propagating these to the test configuration.&lt;/p&gt;

&lt;p&gt;I found only one JUnit test being run from the harness; LobStreamsTest.junit. However, this is also run by the JUnit suite jdbcapi.&lt;br/&gt;
My suggestion is to remove the code related to the old harness in TestConfiguration and disable LobStreamsTest in derbynetclientmats.&lt;/p&gt;

&lt;p&gt;A quick test showed that only LobStreamsTest failed when removing all the relevant code in TestConfiguration (ran both derbyall and suites.All).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12364715">DERBY-2446</key>
            <summary>Remove notion of the old test harness from TestConfiguration</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="myrna">Myrna van Lunteren</assignee>
                                    <reporter username="kristwaa">Kristian Waagan</reporter>
                        <labels>
                            <label>derby_triage10_11</label>
                    </labels>
                <created>Mon, 12 Mar 2007 12:54:22 +0000</created>
                <updated>Wed, 21 Jan 2015 00:23:52 +0000</updated>
                            <resolved>Wed, 16 Oct 2013 16:25:05 +0100</resolved>
                                    <version>10.3.1.4</version>
                                    <fixVersion>10.11.1.1</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12480099" author="knutanders" created="Mon, 12 Mar 2007 14:10:09 +0000"  >

&lt;p&gt;LobStreamsTest is run as part of the encodingTests suite in the old&lt;br/&gt;
harness. This suite is a selection of tests which are run with the&lt;br/&gt;
system property file.encoding set to UTF-16. Before LobStreamsTest is&lt;br/&gt;
removed from that suite, I think we should make sure that this is also&lt;br/&gt;
tested in suites.All (for instance by running the test twice, once as&lt;br/&gt;
it is and once wrapped in a SystemPropertyTestSetup).&lt;/p&gt;</comment>
                            <comment id="12480105" author="djd" created="Mon, 12 Mar 2007 14:25:55 +0000"  >&lt;p&gt;I looked at running LobStreamsTest with a different encoding a while back and couldn&apos;t figure out a way to do it. &lt;/p&gt;

&lt;p&gt;The java property file.encoding is reporting the encoding of the current platform, not to be used to set the encoding in use.&lt;/p&gt;

&lt;p&gt;I think the only official way to do this may be to run all the tests on two different machines with different encodings setup at the operating system level.&lt;/p&gt;</comment>
                            <comment id="12480118" author="kristwaa" created="Mon, 12 Mar 2007 15:24:10 +0000"  >&lt;p&gt;Thanks for the information.&lt;/p&gt;

&lt;p&gt;Is the current test in the old harness broken, or does it actually work because the test is run in a separate process?&lt;br/&gt;
Either way, I plan to make the suggested changes since we are aiming to &quot;kill the old harness&quot;.&lt;br/&gt;
If anyone feel this is something we should investigate further, please create a separate Jira for it.&lt;/p&gt;

&lt;p&gt;thanks,&lt;/p&gt;</comment>
                            <comment id="12480128" author="djd" created="Mon, 12 Mar 2007 15:44:50 +0000"  >&lt;p&gt;My guess on the old harness is that&apos;s broken but I don&apos;t know how. It&apos;s possibly one of:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the default encoding is not changed by setting file.encoding&lt;/li&gt;
	&lt;li&gt;the jvm is made inconsistent internally due to setting file.encoding&lt;/li&gt;
	&lt;li&gt;it just happens to work in some vms&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I don&apos;t think it has anything to do with running in a separate JVM, file.encoding is not for use in setting the jvm&apos;s locale.&lt;br/&gt;
See Sun&apos;s java bug 4163515&lt;/p&gt;

&lt;p&gt;Btw, I see three JUnit  tests still being run under the old harness, not just LobStreamsTest&lt;/p&gt;

&lt;p&gt;&amp;gt;grep junit *.runall&lt;br/&gt;
derbynetclientmats.runall:junitTests/derbyNet/CompatibilityTest.java&lt;br/&gt;
encodingTests.runall:jdbcapi/LobStreamsTest.junit&lt;br/&gt;
jdbc40.runall:jdbc4/AutoloadBooting.junit&lt;/p&gt;

&lt;p&gt;Also see &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1952&quot; title=&quot;Remove the running of JUnit tests from the old derby test harness to allow faster conversion to a pure-Junit world.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1952&quot;&gt;&lt;del&gt;DERBY-1952&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12480152" author="kristwaa" created="Mon, 12 Mar 2007 17:25:51 +0000"  >&lt;p&gt;Thanks Dan. I notcied this when I ran the tests with Java 1.6.&lt;br/&gt;
I think AutoloadBooting will be the most difficult one to fix. I guess we could live with moving LobStreamsTests, even though we might loose some testing coverage. I see an issue has been filed for rewriting the ComatibilityTest.&lt;/p&gt;

&lt;p&gt;I don&apos;t have the time to work on any of the related issues now, so I&apos;m unassigning myself. Hopefully enough information has been collected for someone to pick this up later.&lt;/p&gt;</comment>
                            <comment id="12603033" author="kristwaa" created="Fri, 6 Jun 2008 13:52:53 +0100"  >&lt;p&gt;Repeating Dans command from above, I now get:&lt;br/&gt;
&amp;gt; grep junit *.runall&lt;br/&gt;
derbynetclientmats.runall:junitTests/derbyNet/CompatibilityTest.java&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2076&quot; title=&quot;Rewrite junitTests/derbyNet/CompatibilityTest to conform to current JUnit usage&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2076&quot;&gt;&lt;del&gt;DERBY-2076&lt;/del&gt;&lt;/a&gt;. I also added a link to the issue.&lt;/p&gt;</comment>
                            <comment id="13103684" author="kristwaa" created="Tue, 13 Sep 2011 16:11:19 +0100"  >&lt;p&gt;When running derbyall, this test failed when I added code to throw an exception when TestConfiguration ended up with the harness config:&lt;br/&gt;
derbyall/derbynetclientmats/derbynetclientmats.fail:derbynet/testProtocol.java&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2031&quot; title=&quot;Convert derbynet/testProtocol.java to JUnit&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2031&quot;&gt;&lt;del&gt;DERBY-2031&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
I didn&apos;t run the compatibility test, so it may be dependent on the harness code in TestConfiguration still.&lt;/p&gt;</comment>
                            <comment id="13740116" author="myrna" created="Wed, 14 Aug 2013 21:06:20 +0100"  >&lt;p&gt;I think the last few tests - junitTests/CompatibilityTest and derbynet/TestProtocol.java - have been converted. &lt;br/&gt;
We were still running the CompatibilityTest both ways, though.&lt;/p&gt;

&lt;p&gt;I&apos;m attaching a patch which&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;removes the references to the harness from TestConfiguration.java&lt;br/&gt;
  I left the assignment of DEFAULT_CONFIG=JUNIT_CONFIG, although now, there is only one configuration. But we may in future have something else?&lt;/li&gt;
	&lt;li&gt;removes the junitTest/* directory altogether&lt;/li&gt;
	&lt;li&gt;removes this junitTest/* from suites/derbynetclientmats.runall&lt;/li&gt;
	&lt;li&gt;removes embeddedUseprocess.exclude&lt;br/&gt;
  (because it now no further purpose; all tests that were in it have been removed from derbyall).&lt;/li&gt;
	&lt;li&gt;removes various (converted) tests that are no longer run through derbyall from DerbyNetClientUseprocess.exclude and DerbyNetRemote.exclude.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13740126" author="myrna" created="Wed, 14 Aug 2013 21:16:37 +0100"  >&lt;p&gt;But (forgot to ask): does anyone want to keep the old junitTests/CompatibilityTest?&lt;/p&gt;</comment>
                            <comment id="13779031" author="myrna" created="Thu, 26 Sep 2013 19:02:40 +0100"  >&lt;p&gt;I am inclined to commit this, assuming no one wants to run the old junitTests/CompatibilityTest anymore...If I don&apos;t hear back, I&apos;ll commit next week.&lt;/p&gt;</comment>
                            <comment id="13793749" author="jira-bot" created="Sun, 13 Oct 2013 19:38:57 +0100"  >&lt;p&gt;Commit 1531729 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=myrna&quot; class=&quot;user-hover&quot; rel=&quot;myrna&quot;&gt;Myrna van Lunteren&lt;/a&gt; in branch &apos;code/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1531729&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1531729&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2446&quot; title=&quot;Remove notion of the old test harness from TestConfiguration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2446&quot;&gt;&lt;del&gt;DERBY-2446&lt;/del&gt;&lt;/a&gt;; Remove notion of the old test harness from TestConfiguration&lt;br/&gt;
  Removing remaining references, and also removing remaining files from tests/junitTests&lt;/p&gt;</comment>
                            <comment id="13793750" author="jira-bot" created="Sun, 13 Oct 2013 19:42:08 +0100"  >&lt;p&gt;Commit 1531730 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=myrna&quot; class=&quot;user-hover&quot; rel=&quot;myrna&quot;&gt;Myrna van Lunteren&lt;/a&gt; in branch &apos;code/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1531730&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1531730&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2446&quot; title=&quot;Remove notion of the old test harness from TestConfiguration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2446&quot;&gt;&lt;del&gt;DERBY-2446&lt;/del&gt;&lt;/a&gt;; Remove notion of the old test harness from TestConfiguration&lt;/p&gt;</comment>
                            <comment id="13796274" author="jira-bot" created="Wed, 16 Oct 2013 01:57:37 +0100"  >&lt;p&gt;Commit 1532613 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=myrna&quot; class=&quot;user-hover&quot; rel=&quot;myrna&quot;&gt;Myrna van Lunteren&lt;/a&gt; in branch &apos;code/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1532613&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1532613&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2446&quot; title=&quot;Remove notion of the old test harness from TestConfiguration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2446&quot;&gt;&lt;del&gt;DERBY-2446&lt;/del&gt;&lt;/a&gt;; Remove notion of the old test harness from TestConfiguration&lt;br/&gt;
  removing a now unnecessary line from the test policy file&lt;/p&gt;</comment>
                            <comment id="13796884" author="myrna" created="Wed, 16 Oct 2013 16:25:05 +0100"  >&lt;p&gt;I&apos;m resolving this issue, I think now all references to the old (10.1, 10.2?) junit tests are removed from TestConfiguration.&lt;/p&gt;</comment>
                            <comment id="14284878" author="myrna" created="Wed, 21 Jan 2015 00:23:52 +0000"  >&lt;p&gt;bulk change to close all issues resolved but not closed and not changed since June 1, 2014.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12355551">DERBY-2076</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12638429">DERBY-6124</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12475069">DERBY-4820</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12354754">DERBY-2045</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12352882">DERBY-1952</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12598043" name="Derby-2446_1.diff" size="188988" author="myrna" created="Wed, 14 Aug 2013 21:06:20 +0100"/>
                            <attachment id="12598042" name="Derby-2446_1.stat" size="2087" author="myrna" created="Wed, 14 Aug 2013 21:06:20 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 12 Mar 2007 14:10:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30449</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10423"><![CDATA[Newcomer]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0fa7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36294</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310050" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Urgency</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10052"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>