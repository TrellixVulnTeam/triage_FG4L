<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:11:35 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-276/DERBY-276.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-276] ResultSet.relative(int row) cannot be called when the cursor is not positioned on a row.</title>
                <link>https://issues.apache.org/jira/browse/DERBY-276</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;If the cursor is not positioned on a row, calling ResultSet.relative() causes the following exception:&lt;/p&gt;

&lt;p&gt;Exception in thread &quot;main&quot; ERROR X0X87: ResultSet.relative(int row) cannot be called when the cursor is not positioned on a row.&lt;br/&gt;
        at org.apache.derby.iapi.error.StandardException.newException(StandardException.java:301)&lt;br/&gt;
        at org.apache.derby.impl.sql.execute.ScrollInsensitiveResultSet.getRelativeRow(ScrollInsensitiveResultSet.java:336)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.EmbedResultSet.movePosition(EmbedResultSet.java:366)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.EmbedResultSet.relative(EmbedResultSet.java:1840)&lt;/p&gt;

&lt;p&gt;However, The 1.4.2 Javadoc says:&lt;br/&gt;
Note: Calling the method relative(1)  is identical to calling the method next() and calling the method relative(-1) is identical to calling the method previous(). (This is confirmed by the JDBC 3.0 spec, ch. 14.2.2)&lt;/p&gt;

&lt;p&gt;Since next() is valid, so should rs.relative(1) (and all other arguments, since a too large value will position the&lt;br/&gt;
cursor after the last row, and a too low value will position it before the first).&lt;/p&gt;</description>
                <environment></environment>
        <key id="32512">DERBY-276</key>
            <summary>ResultSet.relative(int row) cannot be called when the cursor is not positioned on a row.</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bernt">Bernt M. Johnsen</assignee>
                                    <reporter username="bernt">Bernt M. Johnsen</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 May 2005 19:12:26 +0100</created>
                <updated>Fri, 14 Apr 2006 00:19:54 +0100</updated>
                            <resolved>Fri, 14 Apr 2006 00:19:48 +0100</resolved>
                                                    <fixVersion>10.1.1.0</fixVersion>
                                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="65123" author="bernt" created="Thu, 12 May 2005 22:48:10 +0100"  >&lt;p&gt;The bug was produced with the Embedded Driver (as can be seen from the stack trace)&lt;/p&gt;</comment>
                            <comment id="65745" author="bernt" created="Thu, 19 May 2005 19:28:53 +0100"  >&lt;p&gt;The functionality of next,previous,first,last,beforeFirst,afterLast,relative and absolute should be aligned with ch. 14.2.2 in the JDBC 3.0 spec. Another issue found: absolute(0) should behave like beforeFirst()&lt;/p&gt;</comment>
                            <comment id="66249" author="bernt" created="Wed, 25 May 2005 18:06:23 +0100"  >&lt;p&gt;There has been a change from JDBC 2.0 to JDBC 3.0. In JDBC 2.0 relative(1)/relative(-1) is not necessarily equivalent to next()/previous(), and an exception should be thrown if relative() is called when the result set is not on a row. The JDBC 3.0 spec states that relative(1)/relative(-1) &lt;b&gt;IS&lt;/b&gt; equivalent to next()/previous() (chapter 14.2.2).&lt;/p&gt;

&lt;p&gt;The 3rd ed. of the tutorial still says that relative() should throw an exception if the result set is not on a row, but from the wording in the spec, I deduce that this must be a bug in the tutorial.&lt;/p&gt;</comment>
                            <comment id="66250" author="bernt" created="Wed, 25 May 2005 18:07:38 +0100"  >&lt;p&gt;Since the implemented functionality is JDBC 2.0 compliant, this is not a bug, but an &quot;improvement&quot; to become more JDBC 3.0 compliant.&lt;/p&gt;</comment>
                            <comment id="66251" author="bernt" created="Wed, 25 May 2005 18:22:35 +0100"  >&lt;p&gt;The same goes for absolute(0). It should throw an exception in JDBC 2.0, while it should be equivalent to beforeFirst() in JDBC 3.0.&lt;/p&gt;</comment>
                            <comment id="66254" author="shreyas" created="Wed, 25 May 2005 18:41:34 +0100"  >&lt;p&gt;Javadoc for J2SE 5.0 says...&lt;/p&gt;


&lt;p&gt;relative&lt;/p&gt;

&lt;p&gt;boolean relative(int rows)&lt;br/&gt;
                 throws SQLException&lt;/p&gt;

&lt;p&gt;    Moves the cursor a relative number of rows, either positive or negative. Attempting to move beyond the first/last row in the result set positions the cursor before/after the the first/last row. Calling relative(0) is valid, but does not change the cursor position.&lt;/p&gt;

&lt;p&gt;    Note: Calling the method relative(1) is identical to calling the method next() and calling the method relative(-1) is identical to calling the method previous().&lt;/p&gt;

&lt;p&gt;    Parameters:&lt;br/&gt;
        rows - an int specifying the number of rows to move from the current row; a positive number moves the cursor forward; a negative number moves the cursor backward &lt;br/&gt;
    Returns:&lt;br/&gt;
        true if the cursor is on a row; false otherwise &lt;br/&gt;
    Throws:&lt;br/&gt;
        SQLException - if a database access error occurs, there is no current row, or the result set type is TYPE_FORWARD_ONLY&lt;br/&gt;
    Since:&lt;br/&gt;
        1.2&lt;/p&gt;
</comment>
                            <comment id="12313208" author="djd" created="Fri, 10 Jun 2005 10:21:07 +0100"  >&lt;p&gt;Javadoc still needs some clarity:&lt;/p&gt;

&lt;p&gt;relative(1) isn&apos;t  identical to next()&lt;/p&gt;

&lt;p&gt;relative(1) on a scrollable result set is identical to next()&lt;/p&gt;

&lt;p&gt;JDBC 4.0 could clean this up.&lt;/p&gt;</comment>
                            <comment id="12313430" author="bernt" created="Mon, 13 Jun 2005 19:18:25 +0100"  >&lt;p&gt;The mailed patch has a minor issue. It gives NPE when relative(0) is acalled on an emtpy resultset.&lt;/p&gt;</comment>
                            <comment id="12313446" author="bernt" created="Mon, 13 Jun 2005 21:54:32 +0100"  >&lt;p&gt;New patch with minor issue fixed (relative(0) on empty resultsets)&lt;br/&gt;
Stat:&lt;br/&gt;
M      java/tools/org/apache/derby/impl/tools/ij/utilMain.java&lt;br/&gt;
M      java/engine/org/apache/derby/impl/sql/execute/ScrollInsensitiveResultSet.java&lt;br/&gt;
M      java/testing/org/apache/derbyTesting/functionTests/tests/lang/scrollCursors2.java&lt;br/&gt;
M      java/testing/org/apache/derbyTesting/functionTests/tests/lang/scrollCursors1.sql&lt;br/&gt;
M      java/testing/org/apache/derbyTesting/functionTests/master/DerbyNet/scrollCursors1.out&lt;br/&gt;
M      java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/scrollCursors1.out&lt;br/&gt;
M      java/testing/org/apache/derbyTesting/functionTests/master/scrollCursors1.out&lt;br/&gt;
M      java/client/org/apache/derby/client/am/ResultSet.java&lt;/p&gt;</comment>
                            <comment id="12313447" author="bernt" created="Mon, 13 Jun 2005 21:58:26 +0100"  >&lt;p&gt;Derbyall was run for the attached patch on version 190372M.&lt;br/&gt;
Platform: &lt;br/&gt;
Java Version:    1.5.0_03&lt;br/&gt;
Java Vendor:     Sun Microsystems Inc.&lt;br/&gt;
OS name:         Linux&lt;br/&gt;
OS architecture: i386&lt;br/&gt;
OS version:      2.4.20-31.9&lt;/p&gt;

&lt;p&gt;Fails: derbyall/derbyall.fail:tools/dblook_test.java&lt;br/&gt;
Not related to this patch&lt;/p&gt;</comment>
                            <comment id="12313684" author="bernt" created="Wed, 15 Jun 2005 17:41:55 +0100"  >&lt;p&gt;Extended tests for empty resultset. derbyall run with one fail: derbyall/derbyall.fail:tools/dblook_test.java&lt;br/&gt;
Tested on 190582M&lt;br/&gt;
Platform: &lt;br/&gt;
Java Version:    1.5.0_03&lt;br/&gt;
Java Vendor:     Sun Microsystems Inc.&lt;br/&gt;
OS name:         Linux&lt;br/&gt;
OS architecture: i386&lt;br/&gt;
OS version:      2.4.20-31.9&lt;/p&gt;
</comment>
                            <comment id="12314148" author="myrna" created="Tue, 21 Jun 2005 23:29:43 +0100"  >&lt;p&gt;The latest patch looks good to me.&lt;br/&gt;
I had to svn update to the revision used in the patch to make it apply, though...&lt;/p&gt;

&lt;p&gt;This now needs a committer&apos;s attention... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Myrna&lt;/p&gt;</comment>
                            <comment id="12314781" author="djd" created="Fri, 1 Jul 2005 02:13:22 +0100"  >&lt;p&gt;I&apos;ll look at committing this, it seems to have been forgotten about. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12314817" author="djd" created="Fri, 1 Jul 2005 07:02:03 +0100"  >&lt;p&gt;Patch committed revision 208683.&lt;/p&gt;</comment>
                            <comment id="12374360" author="kmarsden" created="Fri, 14 Apr 2006 00:17:09 +0100"  >&lt;p&gt;reopen to fix fix version&lt;/p&gt;</comment>
                            <comment id="12374361" author="kmarsden" created="Fri, 14 Apr 2006 00:19:48 +0100"  >&lt;p&gt;Fixed in 10.1 with revision 208776 - &quot;In preparation for the 10.1 release, roll up fixes from trunk.&quot;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12310757" name="DERBY-276-V2.diff" size="11678" author="bernt" created="Wed, 15 Jun 2005 17:41:55 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 25 May 2005 17:41:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>29470</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy16rz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40748</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>