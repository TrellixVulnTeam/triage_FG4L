<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:49:57 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-3371/DERBY-3371.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-3371] Strange (and untested) code fragment in RAMTransaction.addColumnToConglomerate()</title>
                <link>https://issues.apache.org/jira/browse/DERBY-3371</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;RAMTransaction.addColumnToConglomerate() contains this piece of code:&lt;/p&gt;

&lt;p&gt;            // remove old entry in the Conglomerate directory, and add new one&lt;br/&gt;
			if (tempCongloms != null)&lt;br/&gt;
				tempCongloms.remove(new Long(conglomId));&lt;br/&gt;
			tempCongloms.put(new Long(conglomId), conglom);&lt;/p&gt;

&lt;p&gt;1. According to the code coverage report (&lt;a href=&quot;http://people.apache.org/~fuzzylogic/codecoverage/529822/_files/3fc.html#5&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://people.apache.org/~fuzzylogic/codecoverage/529822/_files/3fc.html#5&lt;/a&gt;) these lines are not tested. If possible, a test that covers them should be added to the regression suite.&lt;/p&gt;

&lt;p&gt;2. The null check looks either unnecessary (seems to be the case after a brief inspection of the code), or incomplete since the last line will throw a NullPointerException regardless of the check if tempCongloms is null.&lt;/p&gt;

&lt;p&gt;3. The call to remove() before put() is redundant, since HashMap.put() will remove the old mapping implicitly.&lt;/p&gt;

&lt;p&gt;4. It seems to me that the object that is put into the HashMap always is the same as the one that is removed, so perhaps all these lines could be deleted.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12387559">DERBY-3371</key>
            <summary>Strange (and untested) code fragment in RAMTransaction.addColumnToConglomerate()</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="knutanders">Knut Anders Hatlen</assignee>
                                    <reporter username="knutanders">Knut Anders Hatlen</reporter>
                        <labels>
                    </labels>
                <created>Thu, 31 Jan 2008 17:57:24 +0000</created>
                <updated>Tue, 24 Jul 2012 18:28:05 +0100</updated>
                            <resolved>Fri, 25 May 2012 11:45:16 +0100</resolved>
                                    <version>10.4.1.3</version>
                                    <fixVersion>10.10.1.1</fixVersion>
                                    <component>Store</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12564710" author="knutanders" created="Fri, 1 Feb 2008 10:03:31 +0000"  >&lt;p&gt;The attached patch makes T_AccessFactory.alterTable() run tests on both temporary and non-temporary conglomerates. This change ensures that the above mentioned code fragment is executed in the tests.&lt;/p&gt;</comment>
                            <comment id="12565370" author="knutanders" created="Mon, 4 Feb 2008 14:38:06 +0000"  >&lt;p&gt;Committed the test patch with revision 618299.&lt;/p&gt;</comment>
                            <comment id="13281633" author="knutanders" created="Wed, 23 May 2012 15:42:18 +0100"  >&lt;p&gt;Attaching a patch that removes the unneeded lines. Regression tests ran cleanly with the patch.&lt;/p&gt;</comment>
                            <comment id="13283294" author="knutanders" created="Fri, 25 May 2012 11:45:16 +0100"  >&lt;p&gt;Committed revision 1342566.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12510845">DERBY-5285</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12528738" name="remove.diff" size="1003" author="knutanders" created="Wed, 23 May 2012 15:42:18 +0100"/>
                            <attachment id="12374534" name="test.diff" size="2015" author="knutanders" created="Fri, 1 Feb 2008 10:03:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30825</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0aqv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35559</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>