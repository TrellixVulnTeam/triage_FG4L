<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:39:33 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-1538/DERBY-1538.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-1538] Unexpected behavior on self privilege revocation</title>
                <link>https://issues.apache.org/jira/browse/DERBY-1538</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;When revoking the owner&apos;s own privilege against the table he have created, Derby executes the revocation successfully&lt;br/&gt;
but the owner is able to select from the table later as if though the REVOKE statement has no effect.  More importantly, I was expecting a SQLException with the appropriate SQLSTATE to be thrown when the owner attempts to revoke privilege from himself.  i.e.:&lt;/p&gt;

&lt;p&gt;ij&amp;gt; connect &apos;jdbc:derby:authtest&apos; user &apos;yip&apos; as conn1;&lt;br/&gt;
ij&amp;gt; create table t1 (c1 int);&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t1 values 1,2,3;&lt;br/&gt;
3 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; revoke select on t1 from yip;&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; select * from t1;&lt;br/&gt;
C1&lt;br/&gt;
-----------&lt;br/&gt;
1&lt;br/&gt;
2&lt;br/&gt;
3&lt;/p&gt;

&lt;p&gt;3 rows selected&lt;/p&gt;

&lt;p&gt;Here is the sysinfo:&lt;/p&gt;

&lt;p&gt;------------------ Java Information ------------------&lt;br/&gt;
Java Version:    1.4.2_12&lt;br/&gt;
Java Vendor:     Sun Microsystems Inc.&lt;br/&gt;
Java home:       C:\jdk142\jre&lt;br/&gt;
Java classpath:  derby.jar;derbytools.jar;.&lt;br/&gt;
OS name:         Windows XP&lt;br/&gt;
OS architecture: x86&lt;br/&gt;
OS version:      5.1&lt;br/&gt;
Java user name:  yip&lt;br/&gt;
Java user home:  C:\Documents and Settings\Administrator&lt;br/&gt;
Java user dir:   C:\derby\trunk\jars\sane&lt;br/&gt;
java.specification.name: Java Platform API Specification&lt;br/&gt;
java.specification.version: 1.4&lt;br/&gt;
--------- Derby Information --------&lt;br/&gt;
JRE - JDBC: J2SE 1.4.2 - JDBC 3.0&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;C:\derby\trunk\jars\sane\derby.jar&amp;#93;&lt;/span&gt; 10.2.0.4 alpha - (423353)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;C:\derby\trunk\jars\sane\derbytools.jar&amp;#93;&lt;/span&gt; 10.2.0.4 alpha - (423353)&lt;br/&gt;
------------------------------------------------------&lt;br/&gt;
----------------- Locale Information -----------------&lt;br/&gt;
Current Locale :  [English/United States &lt;span class=&quot;error&quot;&gt;&amp;#91;en_US&amp;#93;&lt;/span&gt;]&lt;br/&gt;
Found support for locale: &lt;span class=&quot;error&quot;&gt;&amp;#91;de_DE&amp;#93;&lt;/span&gt;&lt;br/&gt;
         version: 10.2.0.4 alpha - (423353)&lt;br/&gt;
Found support for locale: &lt;span class=&quot;error&quot;&gt;&amp;#91;es&amp;#93;&lt;/span&gt;&lt;br/&gt;
         version: 10.2.0.4 alpha - (423353)&lt;br/&gt;
Found support for locale: &lt;span class=&quot;error&quot;&gt;&amp;#91;fr&amp;#93;&lt;/span&gt;&lt;br/&gt;
         version: 10.2.0.4 alpha - (423353)&lt;br/&gt;
Found support for locale: &lt;span class=&quot;error&quot;&gt;&amp;#91;it&amp;#93;&lt;/span&gt;&lt;br/&gt;
         version: 10.2.0.4 alpha - (423353)&lt;br/&gt;
Found support for locale: &lt;span class=&quot;error&quot;&gt;&amp;#91;ja_JP&amp;#93;&lt;/span&gt;&lt;br/&gt;
         version: 10.2.0.4 alpha - (423353)&lt;br/&gt;
Found support for locale: &lt;span class=&quot;error&quot;&gt;&amp;#91;ko_KR&amp;#93;&lt;/span&gt;&lt;br/&gt;
         version: 10.2.0.4 alpha - (423353)&lt;br/&gt;
Found support for locale: &lt;span class=&quot;error&quot;&gt;&amp;#91;pt_BR&amp;#93;&lt;/span&gt;&lt;br/&gt;
         version: 10.2.0.4 alpha - (423353)&lt;br/&gt;
Found support for locale: &lt;span class=&quot;error&quot;&gt;&amp;#91;zh_CN&amp;#93;&lt;/span&gt;&lt;br/&gt;
         version: 10.2.0.4 alpha - (423353)&lt;br/&gt;
Found support for locale: &lt;span class=&quot;error&quot;&gt;&amp;#91;zh_TW&amp;#93;&lt;/span&gt;&lt;br/&gt;
         version: 10.2.0.4 alpha - (423353)&lt;br/&gt;
------------------------------------------------------&lt;/p&gt;</description>
                <environment>Windows XP Pro</environment>
        <key id="12346274">DERBY-1538</key>
            <summary>Unexpected behavior on self privilege revocation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bandaram">Satheesh Bandaram</assignee>
                                    <reporter username="yipng">Yip Ng</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Jul 2006 18:47:17 +0100</created>
                <updated>Sat, 26 Aug 2006 08:10:08 +0100</updated>
                            <resolved>Sat, 26 Aug 2006 08:10:08 +0100</resolved>
                                    <version>10.2.1.6</version>
                                    <fixVersion>10.2.1.6</fixVersion>
                    <fixVersion>10.3.1.4</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12422240" author="mamtas" created="Wed, 19 Jul 2006 21:20:51 +0100"  >&lt;p&gt;Welcome to Derby, Yip.&lt;/p&gt;

&lt;p&gt;As for this particular JIRA entry, I am not sure what SQL specification says about revoking privileges from self. But I do know that, currently in Derby, if a user in general tries to revoke a permission from another user that was never granted, the revoke is a no-op and returns back silently, just like what it did for your specific example. So, what you are seeing might be expected behavior which is not mentioned in the Grant/Revoke spec. Satheesh might now the specifics.&lt;/p&gt;</comment>
                            <comment id="12422308" author="bandaram" created="Thu, 20 Jul 2006 01:56:27 +0100"  >&lt;p&gt;Hi Yip... Dan had asked this question long time ago during spec reviews and I had proposed at that time that Derby should disallow revoking owners own permissions. I also thought I added checks in the code to disable revoking owner&apos;s own permissions, but I will check where I missed this.&lt;/p&gt;
</comment>
                            <comment id="12429241" author="bandaram" created="Sun, 20 Aug 2006 04:15:08 +0100"  >&lt;p&gt;If anyone has itch or interest to port this to 10.2, I will leave it up to them.&lt;/p&gt;

&lt;p&gt;This fix raises an error for both GRANT or REVOKE operations to or from object owners. Database owners also can&apos;t GRANT or REVOKE privileges to object owners. &lt;/p&gt;</comment>
                            <comment id="12429242" author="bandaram" created="Sun, 20 Aug 2006 04:15:44 +0100"  >&lt;p&gt;Closing this issue... If this fix is ported to 10.2, reopen to mark as fixed  in 10.2.&lt;/p&gt;</comment>
                            <comment id="12430080" author="kartha" created="Wed, 23 Aug 2006 20:20:44 +0100"  >&lt;p&gt;Does not look like the fix has gone into the 10.2 branch yet. I think this check for self privilege is useful, hence Re-opening this issue so it does not get left behind for 10.2&lt;/p&gt;

&lt;p&gt;Can one of the committers do the needful to merge this.&lt;/p&gt;</comment>
                            <comment id="12430543" author="rhillegas" created="Fri, 25 Aug 2006 18:13:35 +0100"  >&lt;p&gt;Ported to 10.2 branch at subversion revision 436859.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12312336">DERBY-464</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 19 Jul 2006 20:20:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22558</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy14rz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40424</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>