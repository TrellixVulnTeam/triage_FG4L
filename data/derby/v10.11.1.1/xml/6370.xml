<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:08:29 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-6370/DERBY-6370.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-6370] dblook doesn&apos;t schema-qualify identifiers in trigger actions</title>
                <link>https://issues.apache.org/jira/browse/DERBY-6370</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;dblook doesn&apos;t qualify identifiers in the trigger action if they weren&apos;t explicitly qualified in the original CREATE TRIGGER statement.&lt;/p&gt;

&lt;p&gt;Example:&lt;/p&gt;

&lt;p&gt;ij version 10.10&lt;br/&gt;
ij&amp;gt; connect &apos;jdbc:derby:db;create=true&apos;;  &lt;br/&gt;
ij&amp;gt; create table s1.t1(x int);&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; create table s2.t2(x int);&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; set schema s1;&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; create trigger tr1 after insert on t1 insert into s2.t2 select * from t1;&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; set schema s2;&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; create trigger tr2 after insert on s1.t1 insert into t2 select * from s1.t1;&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; exit;&lt;/p&gt;

&lt;p&gt;Then run dblook on the created database:&lt;/p&gt;

&lt;p&gt;&amp;#8211; Timestamp: 2013-10-04 12:46:14.974&lt;br/&gt;
&amp;#8211; Source database is: db&lt;br/&gt;
&amp;#8211; Connection URL is: jdbc:derby:db&lt;br/&gt;
&amp;#8211; appendLogs: false&lt;/p&gt;

&lt;p&gt;&amp;#8211; ----------------------------------------------&lt;br/&gt;
&amp;#8211; DDL Statements for schemas&lt;br/&gt;
&amp;#8211; ----------------------------------------------&lt;/p&gt;

&lt;p&gt;CREATE SCHEMA &quot;S1&quot;;&lt;/p&gt;

&lt;p&gt;CREATE SCHEMA &quot;S2&quot;;&lt;/p&gt;

&lt;p&gt;&amp;#8211; ----------------------------------------------&lt;br/&gt;
&amp;#8211; DDL Statements for tables&lt;br/&gt;
&amp;#8211; ----------------------------------------------&lt;/p&gt;

&lt;p&gt;CREATE TABLE &quot;S1&quot;.&quot;T1&quot; (&quot;X&quot; INTEGER);&lt;/p&gt;

&lt;p&gt;CREATE TABLE &quot;S2&quot;.&quot;T2&quot; (&quot;X&quot; INTEGER);&lt;/p&gt;

&lt;p&gt;&amp;#8211; ----------------------------------------------&lt;br/&gt;
&amp;#8211; DDL Statements for triggers&lt;br/&gt;
&amp;#8211; ----------------------------------------------&lt;/p&gt;

&lt;p&gt;CREATE TRIGGER &quot;S1&quot;.&quot;TR1&quot; AFTER INSERT ON &quot;S1&quot;.&quot;T1&quot; FOR EACH STATEMENT insert into s2.t2 select * from t1;&lt;/p&gt;

&lt;p&gt;CREATE TRIGGER &quot;S2&quot;.&quot;TR2&quot; AFTER INSERT ON &quot;S1&quot;.&quot;T1&quot; FOR EACH STATEMENT insert into t2 select * from s1.t1;&lt;/p&gt;


&lt;p&gt;dblook should either qualify all identifiers in the trigger actions, or contain SET SCHEMA statements before each of the CREATE TRIGGER statements to ensure the correct implicit schema is chosen.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12672316">DERBY-6370</key>
            <summary>dblook doesn&apos;t schema-qualify identifiers in trigger actions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="knutanders">Knut Anders Hatlen</assignee>
                                    <reporter username="knutanders">Knut Anders Hatlen</reporter>
                        <labels>
                            <label>derby_backport_reject_10_10</label>
                    </labels>
                <created>Fri, 4 Oct 2013 11:55:36 +0100</created>
                <updated>Wed, 15 Oct 2014 03:52:46 +0100</updated>
                            <resolved>Mon, 13 Oct 2014 19:44:07 +0100</resolved>
                                    <version>10.10.1.1</version>
                                    <fixVersion>10.11.1.1</fixVersion>
                                    <component>Tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13802713" author="knutanders" created="Wed, 23 Oct 2013 09:35:14 +0100"  >&lt;p&gt;For VIEWs, dblook has solved the problem by generating SET SCHEMA statements. Normalizing the trigger actions and qualifying unqualified names is more elegant, but adding SET SCHEMA statements is easier to implement.&lt;/p&gt;</comment>
                            <comment id="13964042" author="knutanders" created="Wed, 9 Apr 2014 12:34:02 +0100"  >&lt;p&gt;I&apos;ll have a try at rewriting the trigger actions with qualified names before they are stored in the system tables, using the tools added in &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6362&quot; title=&quot;CHECK constraint uses wrong schema for unqualified routine invocations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6362&quot;&gt;&lt;del&gt;DERBY-6362&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13984305" author="knutanders" created="Tue, 29 Apr 2014 14:56:28 +0100"  >&lt;p&gt;Rewriting the trigger text to have qualified names was trickier than the similar rewrite of CHECK constraints in &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6362&quot; title=&quot;CHECK constraint uses wrong schema for unqualified routine invocations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6362&quot;&gt;&lt;del&gt;DERBY-6362&lt;/del&gt;&lt;/a&gt;. What&apos;s different with triggers, is that the statements are stored twice in slightly different forms. For example, given the trigger&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;
  CREATE TRIGGER TR AFTER INSERT ON T1
    REFERENCING NEW TABLE AS NEW
    INSERT INTO T2 &lt;span class=&quot;code-keyword&quot;&gt;SELECT&lt;/span&gt; Y &lt;span class=&quot;code-keyword&quot;&gt;FROM&lt;/span&gt; NEW, T3 &lt;span class=&quot;code-keyword&quot;&gt;WHERE&lt;/span&gt; NEW.X = T3.X
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;the trigger action text will be stored in SYS.SYSTRIGGERS as&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;
INSERT INTO T2 &lt;span class=&quot;code-keyword&quot;&gt;SELECT&lt;/span&gt; Y &lt;span class=&quot;code-keyword&quot;&gt;FROM&lt;/span&gt; NEW, T3 &lt;span class=&quot;code-keyword&quot;&gt;WHERE&lt;/span&gt; NEW.X = T3.X
{code&amp;gt;

and in SYS.SYSSTATEMENTS as

{code:sql}
INSERT INTO T2 &lt;span class=&quot;code-keyword&quot;&gt;SELECT&lt;/span&gt; Y &lt;span class=&quot;code-keyword&quot;&gt;FROM&lt;/span&gt; new org.apache.derby.catalog.TriggerNewTransitionRows() NEW , T3 &lt;span class=&quot;code-keyword&quot;&gt;WHERE&lt;/span&gt; NEW.X = T3.X
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;dblook will need the first one of these to be rewritten and stored with fully qualified table names. However, in order to find the fully qualified names, we need to bind the trigger action text, and only the text stored in SYS.SYSSTATEMENTS is bindable. (The first one is not bindable because of the reference to NEW, which is not a proper table.)&lt;/p&gt;

&lt;p&gt;So in order to rewrite the identifiers, we&apos;ll have to (a) transform the action text from the first form to the second form, (b) bind it, (c) qualify the identifiers in the transformed action text, and (d) bring the qualified identifiers over to the original text stored in SYS.SYSTRIGGERS.&lt;/p&gt;

&lt;p&gt;(a) and (b) are already done by the current code. (c) can be done using the mechanisms developed in &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6362&quot; title=&quot;CHECK constraint uses wrong schema for unqualified routine invocations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6362&quot;&gt;&lt;del&gt;DERBY-6362&lt;/del&gt;&lt;/a&gt;. (d) is what requires a new approach.&lt;/p&gt;

&lt;p&gt;To help solve (d), I chose to enhance the current code for (a) so that it also produced a translation table that could be used to map positions in the transformed SQL text back to positions in the original text. This way, when qualify names in the transformed text in (c), we also know where to apply the same changes to the original text.&lt;/p&gt;

&lt;p&gt;The attached patch, d6370-1a.diff, uses this approach. All regression tests (except upgrade tests - &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6547&quot; title=&quot;testDERBY5120NumRowsInSydependsForTrigger fails when the starting version of the upgrade trajectory is 10.10.2.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6547&quot;&gt;&lt;del&gt;DERBY-6547&lt;/del&gt;&lt;/a&gt;) ran cleanly with the patch.&lt;/p&gt;

&lt;p&gt;List of changes made by the patch:&lt;/p&gt;

&lt;p&gt;&lt;b&gt;impl/sql/catalog/DataDictionaryImpl.java&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;Change getTriggerActionString() so that it records the positions where it has made changes to the original trigger action text when replacing transition variables with VTI calls. This extra information is used by CreateTableNode to map positions of identifiers back to the original trigger action text when qualifying them.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;impl/sql/compile/CreateTriggerNode.java&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;Change the code that replaces transition tables with VTIs in a similar manner to DataDictionaryImpl.getTriggerActionString(), so that it records where in the text changes have been made.&lt;/p&gt;

&lt;p&gt;Qualify names in actionText, originalActionText, whenText and originalWhenText by searching for TableName nodes and replacing them with their fully qualified equivalents.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;impl/sql/compile/sqlgrammar.jj&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;Make sure begin and end offsets of more query tree nodes are recorded by the parser. These offsets are needed when rewriting SQL fragments later. (This change may allow us to remove the actionOffset and whenOffset fields in CreateTriggerNode, and the corresponding parameters in DataDictionary.getTriggerActionString(). Will look into that later and post a followup patch if the code can be simplified.)&lt;/p&gt;

&lt;p&gt;&lt;b&gt;iapi/sql/dictionary/DataDictionary.java&lt;/b&gt;&lt;br/&gt;
&lt;b&gt;iapi/sql/dictionary/TriggerDescriptor.java&lt;/b&gt;&lt;br/&gt;
&lt;b&gt;impl/sql/execute/AlterTableConstantAction.java&lt;/b&gt;&lt;br/&gt;
&lt;b&gt;impl/storeless/EmptyDictionary.java&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;Minor signature changes needed because of the change in DataDictionaryImpl.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;impl/sql/compile/OffsetOrderVisitor.java&lt;/b&gt;&lt;br/&gt;
&lt;b&gt;impl/sql/compile/QueryTreeNode.java&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;Make OffsetOrderVisitor non-public, and instead expose the functionality through a public helper method in QueryTreeNode. This simplifies the calling code.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;impl/sql/compile/StaticMethodCallNode.java&lt;/b&gt;&lt;br/&gt;
&lt;b&gt;impl/sql/compile/AggregateNode.java&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;Preserve the name by which a user-defined aggregate is called. Without this fix, the name of UDAs used in the trigger action are not found by the visitors, and the names will stay unqualified after the rewrite.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;impl/sql/compile/FromBaseTable.java&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;Make sure TableName nodes in FROM lists are always bound. Without this fix, the TableName node will stay unbound if no column in the table is references (for example &lt;tt&gt;SELECT 1 FROM T&lt;/tt&gt;), and it will stay unqualified after the rewrite.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;impl/sql/compile/NextSequenceNode.java&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;Make sure the name of a sequence generator is bound, so that its name can be qualified in the trigger action.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;functionTests/master/DerbyNetClient/dblook_test_net.out&lt;/b&gt;&lt;br/&gt;
&lt;b&gt;functionTests/master/DerbyNetClient/dblook_test_net_territory.out&lt;/b&gt;&lt;br/&gt;
&lt;b&gt;functionTests/master/dblook_test.out&lt;/b&gt;&lt;br/&gt;
&lt;b&gt;functionTests/master/dblook_test_territory.out&lt;/b&gt;&lt;br/&gt;
&lt;b&gt;functionTests/master/derived.out&lt;/b&gt;&lt;br/&gt;
&lt;b&gt;functionTests/tests/lang/TriggerGeneralTest.java&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;Update test canons to reflect that identifiers used in triggers are normalized in the system tables.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;functionTests/tests/lang/TriggerTest.java&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;Add test case that verifies that all kinds of identifiers are qualified before they are stored, when used in a trigger action.&lt;/p&gt;</comment>
                            <comment id="13984581" author="dagw" created="Tue, 29 Apr 2014 18:53:42 +0100"  >&lt;p&gt;Looks like a good solution to me. I didn&apos;t scrutinize all the logic details for the transformations. +1&lt;/p&gt;</comment>
                            <comment id="13985274" author="knutanders" created="Wed, 30 Apr 2014 09:30:09 +0100"  >&lt;p&gt;Thanks, Dag.&lt;/p&gt;

&lt;p&gt;One thing to note is that some table names are not being qualified even with this patch. For example&lt;/p&gt;

&lt;p&gt;  update t set t.x = t.y&lt;/p&gt;

&lt;p&gt;will be rewritten to&lt;/p&gt;

&lt;p&gt;  update &quot;APP&quot;.&quot;T&quot; set t.x = &quot;T&quot;.y&lt;/p&gt;

&lt;p&gt;and similarly&lt;/p&gt;

&lt;p&gt;  insert into t (t.x) values (1)&lt;/p&gt;

&lt;p&gt;will be rewritten to&lt;/p&gt;

&lt;p&gt;  insert into &quot;APP&quot;.&quot;T&quot; (t.x) values (1)&lt;/p&gt;

&lt;p&gt;I guess this is because target columns of insert and update statements are bound in an odd way, which results in bugs such as &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6558&quot; title=&quot;Too lax checking of schema in INSERT and UPDATE statements&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6558&quot;&gt;DERBY-6558&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;It doesn&apos;t currently cause any problems that these table references are unqualified, since Derby currently ignores the schema in these statements and just assumes it&apos;s the same schema as the target table. We may need to revisit this when &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6558&quot; title=&quot;Too lax checking of schema in INSERT and UPDATE statements&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6558&quot;&gt;DERBY-6558&lt;/a&gt; is fixed. If we&apos;re lucky, though, the fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6558&quot; title=&quot;Too lax checking of schema in INSERT and UPDATE statements&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6558&quot;&gt;DERBY-6558&lt;/a&gt; will fix the rewriting of these statements as a side effect.&lt;/p&gt;</comment>
                            <comment id="13985297" author="jira-bot" created="Wed, 30 Apr 2014 10:05:25 +0100"  >&lt;p&gt;Commit 1591216 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=knutanders&quot; class=&quot;user-hover&quot; rel=&quot;knutanders&quot;&gt;Knut Anders Hatlen&lt;/a&gt; in branch &apos;code/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1591216&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1591216&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6370&quot; title=&quot;dblook doesn&amp;#39;t schema-qualify identifiers in trigger actions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6370&quot;&gt;&lt;del&gt;DERBY-6370&lt;/del&gt;&lt;/a&gt;: dblook doesn&apos;t schema-qualify identifiers in trigger actions&lt;/p&gt;

&lt;p&gt;Rewrite the triggered SQL statement and the WHEN clause of a trigger&lt;br/&gt;
so that all identifiers are fully qualified, before they are stored in&lt;br/&gt;
SYS.SYSTRIGGERS and SYS.SYSSTATEMENTS. This way, dblook is able to use&lt;br/&gt;
the information in the system tables to produce DDL that is&lt;br/&gt;
independent of the schema in which it is executed.&lt;/p&gt;</comment>
                            <comment id="13990481" author="knutanders" created="Tue, 6 May 2014 10:40:16 +0100"  >&lt;p&gt;The attached patch &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12643523/12643523_d6370-2a.diff&quot; title=&quot;d6370-2a.diff attached to DERBY-6370&quot;&gt;d6370-2a.diff&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; removes the no longer needed fields whenOffset and actionOffset from CreateTriggerNode, since the offsets can be found by calling getBeginOffset() and getEndOffset() on the QueryTreeNodes after the parser changes in the 1a patch. Regression tests passed with the patch.&lt;/p&gt;</comment>
                            <comment id="13990483" author="jira-bot" created="Tue, 6 May 2014 10:41:10 +0100"  >&lt;p&gt;Commit 1592695 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=knutanders&quot; class=&quot;user-hover&quot; rel=&quot;knutanders&quot;&gt;Knut Anders Hatlen&lt;/a&gt; in branch &apos;code/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1592695&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1592695&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6370&quot; title=&quot;dblook doesn&amp;#39;t schema-qualify identifiers in trigger actions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6370&quot;&gt;&lt;del&gt;DERBY-6370&lt;/del&gt;&lt;/a&gt;: dblook doesn&apos;t schema-qualify identifiers in trigger actions&lt;/p&gt;

&lt;p&gt;Remove no longer needed offset fields in CreateTriggerNode.&lt;/p&gt;</comment>
                            <comment id="13990489" author="knutanders" created="Tue, 6 May 2014 10:49:10 +0100"  >&lt;p&gt;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12643525/12643525_d6370-3a.diff&quot; title=&quot;d6370-3a.diff attached to DERBY-6370&quot;&gt;d6370-3a.diff&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; cleans up some other code I found while working on the 1a patch. The TableName.bind() method has a DataDictionary parameter, but it never uses it. The patch removes the parameter and updates the callers of the method. I&apos;m running regression tests on the patch.&lt;/p&gt;</comment>
                            <comment id="13990567" author="jira-bot" created="Tue, 6 May 2014 12:57:13 +0100"  >&lt;p&gt;Commit 1592726 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=knutanders&quot; class=&quot;user-hover&quot; rel=&quot;knutanders&quot;&gt;Knut Anders Hatlen&lt;/a&gt; in branch &apos;code/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1592726&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1592726&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6370&quot; title=&quot;dblook doesn&amp;#39;t schema-qualify identifiers in trigger actions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6370&quot;&gt;&lt;del&gt;DERBY-6370&lt;/del&gt;&lt;/a&gt;: dblook doesn&apos;t schema-qualify identifiers in trigger actions&lt;/p&gt;

&lt;p&gt;Remove unnecessary DataDictionary parameter from TableName.bind().&lt;/p&gt;</comment>
                            <comment id="14169022" author="mamtas" created="Mon, 13 Oct 2014 08:01:56 +0100"  >&lt;p&gt;Reopening it for backporting to 10.10&lt;/p&gt;</comment>
                            <comment id="14169736" author="mamtas" created="Mon, 13 Oct 2014 19:43:54 +0100"  >&lt;p&gt;This jira has three commit revisions and I tried backporting the first of the 3 revisions, 1592695 and realized that there are lots of conflicts which need to be resolved by hand and some of them are very tedious since the changed files have had many changes from 10.10 to 10.11 and many of the affected methods do not even exist in 10.10. Because of this, I am marking this jira reject for backport to 10.10 but if someone needs the fix in 10.10, it can be technically done, just bear in mind that it won&apos;t be a straight forward merge to 10.10.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12603246">DERBY-5901</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12671742">DERBY-6362</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12642456" name="d6370-1a.diff" size="71123" author="knutanders" created="Tue, 29 Apr 2014 14:56:28 +0100"/>
                            <attachment id="12643523" name="d6370-2a.diff" size="6911" author="knutanders" created="Tue, 6 May 2014 10:40:16 +0100"/>
                            <attachment id="12643525" name="d6370-3a.diff" size="10662" author="knutanders" created="Tue, 6 May 2014 10:49:10 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 29 Apr 2014 17:53:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>351942</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hziivj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>352230</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>