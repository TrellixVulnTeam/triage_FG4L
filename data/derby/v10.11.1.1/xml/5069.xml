<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:54:03 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-5069/DERBY-5069.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-5069] Since Feb 7,2011 weme 6.2 Junit tests have failed to run completely with Failed to invoke suite():java.lang.reflect.InvocationTargetException</title>
                <link>https://issues.apache.org/jira/browse/DERBY-5069</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Since Feb 8, the weme 6.2 Junit tests have failed to run. The only output on the test report is:&lt;/p&gt;

&lt;p&gt;Failed to invoke suite():java.lang.reflect.InvocationTargetException&lt;/p&gt;

&lt;p&gt;Below is the list of checkins on the day it started failing. derbyall looks ok. &lt;/p&gt;

&lt;p&gt;SUBVERSION LOG FROM 1067846 TO 1068253:&lt;br/&gt;
------------------------------------------------------------------------&lt;br/&gt;
r1068073 | rhillegas | 2011-02-07 11:34:02 -0800 (Mon, 07 Feb 2011) | 1 line&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4869&quot; title=&quot;Implement JDBC 4.1, the api increment introduced by Java 7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4869&quot;&gt;&lt;del&gt;DERBY-4869&lt;/del&gt;&lt;/a&gt;: Attempt to fix problem in tinderbox tests introduced by a previous commit today.&lt;br/&gt;
------------------------------------------------------------------------&lt;br/&gt;
r1067991 | rhillegas | 2011-02-07 08:04:25 -0800 (Mon, 07 Feb 2011) | 1 line&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4869&quot; title=&quot;Implement JDBC 4.1, the api increment introduced by Java 7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4869&quot;&gt;&lt;del&gt;DERBY-4869&lt;/del&gt;&lt;/a&gt;: Always raise SQLFeatureNotSupportedException when Connection.get/setNetworkTimeout() is called.&lt;br/&gt;
------------------------------------------------------------------------&lt;br/&gt;
r1067954 | rhillegas | 2011-02-07 06:54:31 -0800 (Mon, 07 Feb 2011) | 1 line&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4869&quot; title=&quot;Implement JDBC 4.1, the api increment introduced by Java 7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4869&quot;&gt;&lt;del&gt;DERBY-4869&lt;/del&gt;&lt;/a&gt;: Add JDBC 4.1 getParentLogger() method to Derby&apos;s implementations of Driver and CommonDataSource.&lt;br/&gt;
------------------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;This should be promoted to blocker if determined to be a product regression.&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12499747">DERBY-5069</key>
            <summary>Since Feb 7,2011 weme 6.2 Junit tests have failed to run completely with Failed to invoke suite():java.lang.reflect.InvocationTargetException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kmarsden">Kathey Marsden</assignee>
                                    <reporter username="kmarsden">Kathey Marsden</reporter>
                        <labels>
                    </labels>
                <created>Fri, 25 Feb 2011 19:25:31 +0000</created>
                <updated>Mon, 17 Jun 2013 10:19:47 +0100</updated>
                            <resolved>Mon, 28 Feb 2011 14:32:55 +0000</resolved>
                                                    <fixVersion>10.8.1.2</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12999508" author="kmarsden" created="Fri, 25 Feb 2011 19:45:06 +0000"  >&lt;p&gt;Assigning to myself at least until I figure out what is going on.  I see that the Sun J2ME tests have not run since September.&lt;/p&gt;</comment>
                            <comment id="12999530" author="kmarsden" created="Fri, 25 Feb 2011 20:22:06 +0000"  >&lt;p&gt;It looks like the Driver40 tests were not excluded for JS169, preventing the full suite from running, but there is something else to.  Still getting the error after changing Driver40Test and Driver40UnbootedTest. I am not sure why we don&apos;t get a stack trace with the invocation error.&lt;/p&gt;</comment>
                            <comment id="12999564" author="kmarsden" created="Fri, 25 Feb 2011 21:01:48 +0000"  >&lt;p&gt;The trouble seems to be associated with the addition of this testing to DriverTest&lt;br/&gt;
        // test that the driver is one of the special 40 versions if we are running&lt;br/&gt;
        // on Java 6 or higher&lt;br/&gt;
        println( &quot;Driver is a &quot; + driver.getClass().getName() );&lt;br/&gt;
        assertEquals( JDBC.vmSupportsJDBC4(), driver.getClass().getName().endsWith( &quot;40&quot; ) );&lt;/p&gt;

&lt;p&gt;But I am not sure why this particular part of the test is problematic as  there are lots of other references to driver that seem to be avoided successfully with this code in the suite() method.&lt;br/&gt;
  if (JDBC.vmSupportsJSR169())&lt;/p&gt;
        {
            return new TestSuite(
                &quot;DriverTest tests java.sql.Driver, not supported with JSR169&quot;);
        }</comment>
                            <comment id="12999609" author="kmarsden" created="Fri, 25 Feb 2011 22:33:22 +0000"  >&lt;p&gt;Here is the patch to get the J2ME tests running again and adds some diagnostics to make the source of the failure more obvious in the future.  I am still not clear on why the new Driver references in DriverTest are problematic while the old ones were not, but put the JSR169 test in jdbcapi._Suite before adding the test to avoid the problem.&lt;/p&gt;

&lt;p&gt;I ran jdbcapi._Suite without error and am going to kick off suites.All now. If it is not done by the end of the day, I will go ahead and check in as I want it to make the weekend runs as I think the release candidate is planned for Monday and it would be good to get the J2ME runs going again before that.&lt;/p&gt;
</comment>
                            <comment id="12999662" author="lilywei" created="Sat, 26 Feb 2011 00:15:41 +0000"  >&lt;p&gt;Thanks Kathey. I look at the derby-5069_diff.txt patch. We will avoid running DriverTest, Driver40Test and Driver40UnbootedTest. I think this is a good start point to get J2ME nightly running again and gather more information so we can understand it better to get the bottom of the problem. +1&lt;/p&gt;</comment>
                            <comment id="12999668" author="kmarsden" created="Sat, 26 Feb 2011 00:39:15 +0000"  >&lt;p&gt;Thank you Lily for looking at the change. I would really like to understand when the JSR169 check needs to be in the suite vs the test after the small changes to DriverTest.  I checked in the change to get the tests running again, but will leave this issue  open for a little bit  I try to understand that better.&lt;/p&gt;</comment>
                            <comment id="12999692" author="kmarsden" created="Sat, 26 Feb 2011 01:34:31 +0000"  >&lt;p&gt;It is the driver.getClass()  call that prevents the class from loading with weme. If I run the attached Program TestWemeLoad.java with the  driver.getClass call as attached I get the following error verifying the class.&lt;/p&gt;

&lt;p&gt;+ c:/cygwin/ibmsvn/ntsoftware/weme6.2/bin/j9 -jcl:foun11 -DderbyTesting.serverho&lt;br/&gt;
st=localhost -DderbyTesting.clienthost=localhost -Demma.active= -Xbootclasspath/&lt;br/&gt;
a:c:/cygwin/ibmsvn/ntsoftware/weme6.2/lib/jdbc.jar -Dbootcp=c:/cygwin/ibmsvn/nts&lt;br/&gt;
oftware/weme6.2/lib/jdbc.jar TestWemeLoad&lt;br/&gt;
Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: java.sql.Driver&lt;br/&gt;
        at java.lang.J9VMInternals.verifyImpl(Native Method)&lt;br/&gt;
        at java.lang.J9VMInternals.verify(J9VMInternals.java:88)&lt;br/&gt;
        at java.lang.J9VMInternals.initialize(J9VMInternals.java:150)&lt;/p&gt;


&lt;p&gt;If I comment out the line &lt;br/&gt;
	// System.out.println(driver.getClass());&lt;/p&gt;

&lt;p&gt;it runs and exits gracefully with:&lt;br/&gt;
Not going to run because I am J2ME&lt;/p&gt;

&lt;p&gt;I am curious if this is specific to WEME or if phoneME behaves the same way. I am sort of surprised even with the getClass() commented out that the class verifies with all the Driver and DriverManager references.&lt;/p&gt;

</comment>
                            <comment id="12999816" author="knutanders" created="Sat, 26 Feb 2011 18:51:59 +0000"  >&lt;p&gt;The test program gives a NoClassDefFoundError on phoneME too:&lt;/p&gt;

&lt;p&gt;java.lang.NoClassDefFoundError: java.sql.Driver&lt;br/&gt;
	at java.lang.Class.loadSuperClasses(Unknown Source)&lt;br/&gt;
	at java.lang.ClassLoader.defineClass(Unknown Source)&lt;br/&gt;
	at java.security.SecureClassLoader.defineClass(Unknown Source)&lt;br/&gt;
	at java.net.URLClassLoader.defineClass(Unknown Source)&lt;br/&gt;
	at java.net.URLClassLoader.access$100(Unknown Source)&lt;br/&gt;
	at java.net.URLClassLoader$1.run(Unknown Source)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(Unknown Source)&lt;br/&gt;
	at java.net.URLClassLoader.findClass(Unknown Source)&lt;br/&gt;
	at sun.misc.Launcher$AppClassLoader.findClass(Unknown Source)&lt;br/&gt;
	at java.lang.ClassLoader.loadClass(Unknown Source)&lt;br/&gt;
	at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)&lt;br/&gt;
	at java.lang.ClassLoader.loadClass(Unknown Source)&lt;br/&gt;
	at java.lang.ClassLoader.loadClassInternal(Unknown Source)&lt;br/&gt;
	at java.lang.Class.forName0(Native Method)&lt;br/&gt;
	at java.lang.Class.forName(Unknown Source)&lt;br/&gt;
	at TestWemeLoad.main(Unknown Source)&lt;br/&gt;
	at sun.misc.CVM.runMain(Unknown Source)&lt;/p&gt;</comment>
                            <comment id="12999879" author="myrna" created="Sun, 27 Feb 2011 04:38:58 +0000"  >
&lt;p&gt;Thanks Kathey for investigating and re-enabling the run for weme. The&lt;br/&gt;
Saturday run looks good except for 1 failure with ibm 1.6. (I&apos;ll take&lt;br/&gt;
a look).&lt;/p&gt;

&lt;p&gt;But looks to me like the release candidate is planned for a week from&lt;br/&gt;
Monday, although release notes draft &amp;amp; buddy testing were planned for&lt;br/&gt;
Monday.&lt;/p&gt;

&lt;p&gt;Myrna&lt;/p&gt;</comment>
                            <comment id="13000303" author="kmarsden" created="Mon, 28 Feb 2011 14:32:55 +0000"  >&lt;p&gt;Thanks Knut for checking phoneME, I will assume that is the correct behavior then and close this issue out.  Thank you too to Myrna for checking the nightlies.&lt;/p&gt;
</comment>
                            <comment id="13685359" author="knutanders" created="Mon, 17 Jun 2013 10:19:47 +0100"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;bulk update&amp;#93;&lt;/span&gt; Close all resolved issues that haven&apos;t been updated for more than one year.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12472008" name="TestWemeLoad.java" size="1556" author="kmarsden" created="Sat, 26 Feb 2011 01:34:31 +0000"/>
                            <attachment id="12471984" name="derby-5069_diff.txt" size="4194" author="kmarsden" created="Fri, 25 Feb 2011 22:33:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10420"><![CDATA[Regression]]></customfieldvalue>
    <customfieldvalue key="10369"><![CDATA[Regression Test Failure]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 26 Feb 2011 00:15:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>24630</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10422"><![CDATA[High Value Fix]]></customfieldvalue>
    <customfieldvalue key="10102"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0e0n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36089</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>