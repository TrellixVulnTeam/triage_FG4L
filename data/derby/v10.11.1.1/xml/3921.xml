<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:29:48 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-3921/DERBY-3921.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-3921] Replication: Test replication of encrypted databases</title>
                <link>https://issues.apache.org/jira/browse/DERBY-3921</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;It should be possible to replicate encrypted databases. Tests are needed to ensure that this works.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12407176">DERBY-3921</key>
            <summary>Replication: Test replication of encrypted databases</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="olesolberg">Ole Solberg</assignee>
                                    <reporter username="jorgenlo">J&#248;rgen L&#248;land</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 Oct 2008 14:21:43 +0100</created>
                <updated>Wed, 29 Jul 2009 22:45:58 +0100</updated>
                            <resolved>Wed, 29 Jul 2009 22:45:58 +0100</resolved>
                                    <version>10.5.1.1</version>
                                    <fixVersion>10.5.3.0</fixVersion>
                    <fixVersion>10.6.1.0</fixVersion>
                                    <component>Replication</component>
                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12671867" author="olesolberg" created="Mon, 9 Feb 2009 14:23:29 +0000"  >&lt;p&gt;Attaching a patch for testing replication on encrypted databases.&lt;/p&gt;

&lt;p&gt;The patch also contains a couple of additional changes &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;cleanup of support mechanisms for replication and&lt;/li&gt;
	&lt;li&gt;a simple test for indexing in replicated databases.&lt;/li&gt;
&lt;/ul&gt;




&lt;p&gt;M      java/testing/org/apache/derbyTesting/functionTests/tests/replicationTests/ReplicationRun.java&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Adding support for running replication tests on encrypted databases. (&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3921&quot; title=&quot;Replication: Test replication of encrypted databases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3921&quot;&gt;&lt;del&gt;DERBY-3921&lt;/del&gt;&lt;/a&gt;.)&lt;br/&gt;
         Adding a support method (makeReadyForReplication()) which handles all setup to run&lt;br/&gt;
         a test on a replicated database.&lt;br/&gt;
         Use of this has been only partially implemented (Only in the tests touched by this patch.)&lt;br/&gt;
         Will simplify more of the replicationtests to use this later on.&lt;/li&gt;
	&lt;li&gt;Adding support to run a simple (short time) replication load by default.&lt;br/&gt;
         To use the previous default load use &apos;-Dderby.tests.replSimpleLoad&apos;.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;M      java/testing/org/apache/derbyTesting/functionTests/tests/replicationTests/ReplicationRun_Local_3.java&lt;br/&gt;
       Adding support for running replication tests on encrypted databases. (&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3921&quot; title=&quot;Replication: Test replication of encrypted databases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3921&quot;&gt;&lt;del&gt;DERBY-3921&lt;/del&gt;&lt;/a&gt;.) &lt;/p&gt;

&lt;p&gt;M      java/testing/org/apache/derbyTesting/functionTests/tests/replicationTests/ReplicationRun_Local_3_p4.java&lt;br/&gt;
       Adding support for running replication tests on encrypted databases. (&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3921&quot; title=&quot;Replication: Test replication of encrypted databases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3921&quot;&gt;&lt;del&gt;DERBY-3921&lt;/del&gt;&lt;/a&gt;.) &lt;/p&gt;

&lt;p&gt;M      java/testing/org/apache/derbyTesting/functionTests/tests/replicationTests/ReplicationRun_Local.java&lt;br/&gt;
       testReplication_Local_existingTestsAsReplLoad() renamed to testReplication_Local_TestStraightReplication()&lt;/p&gt;

&lt;p&gt;M      java/testing/org/apache/derbyTesting/functionTests/tests/replicationTests/ReplicationRun_Local_3_p1.java&lt;br/&gt;
M      java/testing/org/apache/derbyTesting/functionTests/tests/replicationTests/ReplicationRun_Local_3_p3.java&lt;br/&gt;
       Using param &apos;replicationTest=null&apos; to NOT run any replication load.       &lt;/p&gt;

&lt;p&gt;A      java/testing/org/apache/derbyTesting/functionTests/tests/replicationTests/ReplicationRun_Local_3_p5.java&lt;br/&gt;
       Test &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3924&quot; title=&quot;Create test for restart of slave after master has crashed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3924&quot;&gt;DERBY-3924&lt;/a&gt; verifying the fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3878&quot; title=&quot;Replication: stopSlave does not close serversocket when master has crashed.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3878&quot;&gt;&lt;del&gt;DERBY-3878&lt;/del&gt;&lt;/a&gt;: test for restart of slave after master has crashed.&lt;/p&gt;

&lt;p&gt;A      java/testing/org/apache/derbyTesting/functionTests/tests/replicationTests/ReplicationRun_Local_3_p6.java&lt;br/&gt;
       Test for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3896&quot; title=&quot;Assert failure in LogicalUndoOperation.doMe() when starting slave with uncommitted transactions on the master&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3896&quot;&gt;DERBY-3896&lt;/a&gt;: failure in LogicalUndoOperation.doMe()  when starting slave with uncommitted &lt;br/&gt;
       transactions on the master. &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;testReplication_Local_3_p6_DERBY_3896() should be enabled when &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3896&quot; title=&quot;Assert failure in LogicalUndoOperation.doMe() when starting slave with uncommitted transactions on the master&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3896&quot;&gt;DERBY-3896&lt;/a&gt; is fixed.&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;A      java/testing/org/apache/derbyTesting/functionTests/tests/replicationTests/ReplicationRun_Local_1Indexing.java&lt;br/&gt;
       Simple test to verify indexes are replicated.&lt;/p&gt;


&lt;p&gt;A      java/testing/org/apache/derbyTesting/functionTests/tests/replicationTests/ReplicationRun_Local_Encrypted_1.java&lt;br/&gt;
       &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3921&quot; title=&quot;Replication: Test replication of encrypted databases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3921&quot;&gt;&lt;del&gt;DERBY-3921&lt;/del&gt;&lt;/a&gt;: Testing replication of encrypted databases.&lt;/p&gt;


&lt;p&gt;M      java/testing/org/apache/derbyTesting/functionTests/tests/replicationTests/ReplicationRun_Local_StateTest_part2.java&lt;br/&gt;
       Renaming some package internal methods.&lt;/p&gt;


&lt;p&gt;M      java/testing/org/apache/derbyTesting/functionTests/tests/replicationTests/ReplicationSuite.java&lt;br/&gt;
       Enabling new tests: &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;ReplicationRun_Local_Encrypted_1 - test for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3921&quot; title=&quot;Replication: Test replication of encrypted databases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3921&quot;&gt;&lt;del&gt;DERBY-3921&lt;/del&gt;&lt;/a&gt; / test replication of encrypted db.,&lt;/li&gt;
	&lt;li&gt;ReplicationRun_Local_3_p5 - test for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3924&quot; title=&quot;Create test for restart of slave after master has crashed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3924&quot;&gt;DERBY-3924&lt;/a&gt; / replication: test for restart of slave after master has crashed,&lt;/li&gt;
	&lt;li&gt;ReplicationRun_Local_3_p6 - test for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3896&quot; title=&quot;Assert failure in LogicalUndoOperation.doMe() when starting slave with uncommitted transactions on the master&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3896&quot;&gt;DERBY-3896&lt;/a&gt; / replication: failure in LogicalUndoOperation.doMe()&lt;br/&gt;
         when starting slave with uncommitted transactions on the master.&lt;/li&gt;
	&lt;li&gt;ReplicationRun_Local_1Indexing - simple test on indexing with replication,&lt;/li&gt;
&lt;/ul&gt;

</comment>
                            <comment id="12680177" author="rhillegas" created="Mon, 9 Mar 2009 15:39:37 +0000"  >&lt;p&gt;Thanks for the patch Ole. The replication suite ran cleanly for me after applying these changes. I have a couple small comments on the patch:&lt;/p&gt;

&lt;p&gt;Style: In a number of these tests, the setUp() and tearDown() overrides don&apos;t seem to do anything. I&apos;d be inclined to remove these methods.&lt;/p&gt;

&lt;p&gt;Headers: I like the fact that some of the test cases have JIRA numbers embedded in their names. This helps connect the test cases with the issues. It would be even more helpful if the test cases had header comments which explained more about what was being tested.&lt;/p&gt;

&lt;p&gt;Factoring: I see a lot of instances of code like this, which I&apos;d recommend abstracting into a shared method:&lt;/p&gt;

&lt;p&gt;+           URL = DB_PROTOCOL&lt;br/&gt;
+                +&quot;://&quot;+masterServerHost&lt;br/&gt;
+                &lt;ins&gt;&quot;:&quot;+masterServerPort&lt;/ins&gt;&quot;/&quot;&lt;br/&gt;
+                +masterDatabasePath+FS+masterDbSubPath+FS+replicatedDb&lt;br/&gt;
+                +useEncryption(false);&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;
</comment>
                            <comment id="12680831" author="olesolberg" created="Wed, 11 Mar 2009 10:30:59 +0000"  >&lt;p&gt;Thanks for your review Rick.&lt;/p&gt;

&lt;p&gt;I have uploaded &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3921&quot; title=&quot;Replication: Test replication of encrypted databases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3921&quot;&gt;&lt;del&gt;DERBY-3921&lt;/del&gt;&lt;/a&gt;_diff-v5.txt which should take care of your comments:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;cleaned up setUp(), tearDown(),&lt;/li&gt;
	&lt;li&gt;added more header comments in test cases being part of this patch,&lt;/li&gt;
	&lt;li&gt;refactored &apos;URL = DB_PROTOCOL .....&quot; code.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I will add more header comments in other test cases as part of  &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4026&quot; title=&quot;Improve description of the replication tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4026&quot;&gt;DERBY-4026&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Reran tests.&lt;/p&gt;


&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="12710825" author="dagw" created="Tue, 19 May 2009 19:24:16 +0100"  >&lt;p&gt;Tried to look at this patch, but it could no longer be applied..&lt;/p&gt;</comment>
                            <comment id="12711618" author="rhillegas" created="Thu, 21 May 2009 14:16:24 +0100"  >&lt;p&gt;Hi Ole: Sorry for not promptly reviewing your revised patch. I applied it and it seemed to me that the chunks which failed did not affect the point of the patch: adding a test for replication of encrypted databases. The regression test suite ran cleanly for me. I think this is a good increment. I have committed the revised patch at subversion revision 777105.&lt;/p&gt;</comment>
                            <comment id="12736847" author="dagw" created="Wed, 29 Jul 2009 22:19:07 +0100"  >&lt;p&gt;Reopening to backport to 10.5 branch.&lt;/p&gt;</comment>
                            <comment id="12736854" author="dagw" created="Wed, 29 Jul 2009 22:43:42 +0100"  >&lt;p&gt;Backported to 10.5 branch as svn 799091, closing.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12405470">DERBY-3890</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12401921" name="DERBY-3921_diff-v5.txt" size="78771" author="olesolberg" created="Wed, 11 Mar 2009 10:09:02 +0000"/>
                            <attachment id="12399824" name="DERBY-3921_diff.txt" size="71601" author="olesolberg" created="Mon, 9 Feb 2009 14:23:29 +0000"/>
                            <attachment id="12399823" name="DERBY-3921_stat.txt" size="1339" author="olesolberg" created="Mon, 9 Feb 2009 14:23:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 9 Feb 2009 14:23:29 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31056</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0ryf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38347</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>