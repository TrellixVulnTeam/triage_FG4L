<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:16:01 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-5131/DERBY-5131.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-5131] Disable the istat daemon by default for 10.8.1</title>
                <link>https://issues.apache.org/jira/browse/DERBY-5131</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Turning on the istat daemon increases the risk of problems which arise when a database shuts down in the middle of collecting index statistics. There is concern that this increased risk could be significant. A consensus has developed that the istat daemon should not run by default in 10.8.1. For the shutdown-related problem, see &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-5108&quot; title=&quot;Intermittent failure in AutomaticIndexStatisticsTest.testShutdownWhileScanningThenDelete on Windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-5108&quot;&gt;&lt;del&gt;DERBY-5108&lt;/del&gt;&lt;/a&gt;. For the community discussion of the risk to 10.8.1, see this email thread: &lt;a href=&quot;http://old.nabble.com/opinions-on-a-less-aggressive-release-of-the-istats-feature--to31129980.html#a31143697&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://old.nabble.com/opinions-on-a-less-aggressive-release-of-the-istats-feature--to31129980.html#a31143697&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This issue tracks the work needed to turn off the istat daemon (by default) in 10.8.1 but re-enable it as the default on the trunk.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12501351">DERBY-5131</key>
            <summary>Disable the istat daemon by default for 10.8.1</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rhillegas">Rick Hillegas</reporter>
                        <labels>
                    </labels>
                <created>Mon, 14 Mar 2011 13:49:05 +0000</created>
                <updated>Thu, 26 May 2011 13:56:54 +0100</updated>
                            <resolved>Thu, 26 May 2011 13:56:54 +0100</resolved>
                                                                    <component>SQL</component>
                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13006456" author="rhillegas" created="Mon, 14 Mar 2011 15:14:12 +0000"  >&lt;p&gt;Attaching derby-5131-01-aa-disableIn10.8.1.diff. This patch turns off the istat daemon by default and disables the istat tests. Regression tests ran cleanly for me. I verified by hand that the istat tests now fail if you run them: the required statistics tuples no longer turn up. Committed at subversion revision 1081416.&lt;/p&gt;

&lt;p&gt;Touches the following files:&lt;/p&gt;

&lt;p&gt;--------&lt;/p&gt;

&lt;p&gt;M      java/engine/org/apache/derby/impl/sql/catalog/DataDictionaryImpl.java&lt;/p&gt;

&lt;p&gt;Turns off the istat daemon by default.&lt;/p&gt;

&lt;p&gt;--------&lt;/p&gt;

&lt;p&gt;M      java/testing/org/apache/derbyTesting/functionTests/tests/store/_Suite.java&lt;/p&gt;

&lt;p&gt;Disables the istat tests.&lt;/p&gt;</comment>
                            <comment id="13006562" author="mikem" created="Mon, 14 Mar 2011 18:42:09 +0000"  >&lt;p&gt;There should be a test in the suite that verified the default setting is whatever it is supposed to be.  Also we should figure out a way to run the istat tests even if it is not enabled by default. &lt;/p&gt;</comment>
                            <comment id="13006595" author="rhillegas" created="Mon, 14 Mar 2011 19:46:09 +0000"  >&lt;p&gt;Hi Mike,&lt;/p&gt;

&lt;p&gt;I am going to back out this change after I create the 10.8.1 branch so I don&apos;t see that we need to write those additional tests you recommend. By running the istat tests with this patch applied, I have verified that the default behavior (for the 10.8 branch) will be istat=off. Thanks.&lt;/p&gt;</comment>
                            <comment id="13006610" author="mikem" created="Mon, 14 Mar 2011 20:06:55 +0000"  >&lt;p&gt;my thoughts was that these would be good tests in the 10.8 branch.   I agree that they are less useful for the trunk once it is on.  Since we will be supporting both istat=on and istat=off seems like we should test both modes.  It could be that off mode is already tested - I have not looked.  These need not be part of this JIRA.&lt;/p&gt;</comment>
                            <comment id="13006902" author="rhillegas" created="Tue, 15 Mar 2011 13:03:50 +0000"  >&lt;p&gt;Thanks for that clarification, Mike. I have created a follow-on issue, &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-5132&quot; title=&quot;Add tests to verify Derby behavior when automatic calculation of index statistics has been disabled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-5132&quot;&gt;DERBY-5132&lt;/a&gt;, for writing tests which verify Derby&apos;s behavior when istat is turned off. Sounds sensible since, as you note, we want to support both modes regardless of what the default is.&lt;/p&gt;</comment>
                            <comment id="13008103" author="rhillegas" created="Thu, 17 Mar 2011 20:09:46 +0000"  >&lt;p&gt;Attaching derby-5131-02-aa-enableAgain.diff. This patch backs out the previous patch and re-enables istat=on as the default Derby behavior. I have hand verified that the two istat regression tests run cleanly standalone in my environment. Committed at subversion revision 1082671.&lt;/p&gt;</comment>
                            <comment id="13039355" author="kristwaa" created="Wed, 25 May 2011 22:46:53 +0100"  >&lt;p&gt;Can this issue be resolved (invalid or won&apos;t fix?) and closed?&lt;/p&gt;</comment>
                            <comment id="13039690" author="rhillegas" created="Thu, 26 May 2011 13:56:54 +0100"  >&lt;p&gt;Closing this issue because any remaining work can happen on derby-5132.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12492660">DERBY-4939</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12500787">DERBY-5108</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12501454">DERBY-5132</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12473582" name="derby-5131-01-aa-disableIn10.8.1.diff" size="1974" author="rhillegas" created="Mon, 14 Mar 2011 15:14:12 +0000"/>
                            <attachment id="12473939" name="derby-5131-02-aa-enableAgain.diff" size="1974" author="rhillegas" created="Thu, 17 Mar 2011 20:09:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 14 Mar 2011 18:42:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31514</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0g6n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36440</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310050" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Urgency</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10052"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>