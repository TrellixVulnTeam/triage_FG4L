<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:50:38 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-577/DERBY-577.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-577] Test  harness should not change the user.dir property , it is meant for infomative purpose only.</title>
                <link>https://issues.apache.org/jira/browse/DERBY-577</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;If  the  user.dir property is changed ,  you wil  find IO calls are working on different directory than what is returned  by &lt;br/&gt;
File.getAbsolutePath()   if the file handle is created with a relative path  because of JVM issue: 4117557 &lt;a href=&quot;http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4117557&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4117557&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I think  it  is  not good  idea for test harness to change  the user.dir property.    It makes hard to debug tests ,  because &lt;br/&gt;
files  are not created  at  diferent location than  what is returned by getAbsolutePath().    Atleast,   I had  fun time figuring out this &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;user.dir  is being  changed at the following code segment :&lt;br/&gt;
org.apache.derbyTesting.functionTests.harness. RunTest.java &lt;br/&gt;
 testJvmProps.addElement(&quot;user.dir=&quot;+userDirName);&lt;/p&gt;





</description>
                <environment></environment>
        <key id="12317109">DERBY-577</key>
            <summary>Test  harness should not change the user.dir property , it is meant for infomative purpose only.</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="myrna">Myrna van Lunteren</assignee>
                                    <reporter username="tsuresh">Suresh Thalamati</reporter>
                        <labels>
                    </labels>
                <created>Tue, 20 Sep 2005 08:19:15 +0100</created>
                <updated>Tue, 16 May 2006 06:31:17 +0100</updated>
                            <resolved>Tue, 16 May 2006 06:30:52 +0100</resolved>
                                    <version>10.2.1.6</version>
                                    <fixVersion>10.2.1.6</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12329982" author="t.lecavelier" created="Tue, 20 Sep 2005 19:37:23 +0100"  >&lt;p&gt;Hi Suresh,&lt;/p&gt;

&lt;p&gt;I follow the references about userDirName, it appears it&apos;s build from System.getProperties() and I see nowhere &quot;userDirName&quot; is modified. If you see an occurence, could you specify where, please?&lt;/p&gt;

&lt;p&gt;Anyway, it seems user.dir is only use to create a tree of nested directories in order to perform tests. Maybe it could be remove safely from the jvm argLine used for the tests.&lt;/p&gt;</comment>
                            <comment id="12378840" author="myrna" created="Wed, 10 May 2006 15:27:03 +0100"  >&lt;p&gt;Attached patch - &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-577&quot; title=&quot;Test  harness should not change the user.dir property , it is meant for infomative purpose only.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-577&quot;&gt;&lt;del&gt;DERBY-577&lt;/del&gt;&lt;/a&gt;_102_20060509.* - removes the testJvmProps.addElement(&quot;user.dir=&quot;+userDirName); line from RunTest, as well as some additional lines that set user.dir.&lt;br/&gt;
As a result of this change, 2 tests failed - store/Beetle6038.java and tools/dblook_test.java (and derbynet/dblook_test_net.java which extends the tools one). With the change, these tests would pass when run with RunTest, but fail in a suite. &lt;br/&gt;
I found that instead of relying on getCanonicalPath() for these tests, I had to use a full path obtained by accessing derby.system.home - property - hence the changes to dblook_test.java and Beetle6038.java.&lt;/p&gt;

&lt;p&gt;derbyall passes with this change except for:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;wisconsin (looks like the known intermittent different optimizer choice)&lt;/li&gt;
	&lt;li&gt;SuicideOfStreaming (known current failure)&lt;/li&gt;
	&lt;li&gt;runtimeinfo (which fails intermittently in this 1 environment but passes elsewhere for me)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12378843" author="fuzzylogic" created="Wed, 10 May 2006 15:57:47 +0100"  >&lt;p&gt;Committed to trunk with revision 405670. Do you need this in 10.1?&lt;/p&gt;</comment>
                            <comment id="12402435" author="myrna" created="Tue, 16 May 2006 06:30:52 +0100"  >&lt;p&gt;Suresh indicated on the list that it&lt;br/&gt;
&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt; is not necessary to port this fix into 10.1 branch.&quot;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12326501" name="DERBY-577_102_20060509.diff" size="3894" author="myrna" created="Wed, 10 May 2006 15:27:03 +0100"/>
                            <attachment id="12326500" name="DERBY-577_102_20060509.stat" size="323" author="myrna" created="Wed, 10 May 2006 15:27:03 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 20 Sep 2005 18:37:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>29615</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy16fj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40692</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>