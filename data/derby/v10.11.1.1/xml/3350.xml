<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:11:56 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-3350/DERBY-3350.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-3350] SQL CAST always marks its type as nullable even if the expression to be cast is not nullable</title>
                <link>https://issues.apache.org/jira/browse/DERBY-3350</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Can be exposed as a column&apos;s type in a ResultSet being nullable when in reality it can never be null.&lt;/p&gt;

&lt;p&gt;Can impact performance as the SQL compiler can general optimal paths with correct nullability, e.g. a non-null INTEGER expression does not need normalization if being stored in a non-null INTEGER column, routine calling can be optimized for a RETURNS NULL ON NULL INPUT function if the inputs are never null.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12387082">DERBY-3350</key>
            <summary>SQL CAST always marks its type as nullable even if the expression to be cast is not nullable</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="djd">Daniel John Debrunner</assignee>
                                    <reporter username="djd">Daniel John Debrunner</reporter>
                        <labels>
                    </labels>
                <created>Thu, 24 Jan 2008 19:55:34 +0000</created>
                <updated>Tue, 29 Jan 2008 19:27:15 +0000</updated>
                            <resolved>Tue, 29 Jan 2008 19:27:15 +0000</resolved>
                                    <version>10.0.2.0</version>
                    <version>10.0.2.1</version>
                    <version>10.1.1.0</version>
                    <version>10.1.2.1</version>
                    <version>10.1.3.1</version>
                    <version>10.2.1.6</version>
                    <version>10.2.2.0</version>
                    <version>10.3.1.4</version>
                    <version>10.3.2.1</version>
                    <version>10.4.1.3</version>
                                    <fixVersion>10.4.1.3</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12562197" author="djd" created="Thu, 24 Jan 2008 20:07:39 +0000"  >&lt;p&gt;One issue is the nullability of various columns returned from DatabaseMetaData.getXXX() calls.&lt;/p&gt;

&lt;p&gt;E.g. getTables() column 1 TABLE_CAT is currently nullable for Derby&apos;s meta data, and this is tested in DatabaseMetaDataTest&lt;/p&gt;

&lt;p&gt;The JDBC docs say the column &apos;(may be null)&apos; - though I don&apos;t think that means has to be nullable in any implementation.&lt;/p&gt;

&lt;p&gt;Derby&apos;s expression that produces this column is:&lt;/p&gt;

&lt;p&gt;CAST (&apos;&apos; AS VARCHAR(128)) AS TABLE_CAT&lt;/p&gt;

&lt;p&gt; which returns the empty string as the catalog for the table, not NULL.&lt;/p&gt;

&lt;p&gt;Fixing this bug changes the nullability to not nullable and thus causes DatabaseMetaDataTest to fail. Seems like changing nullability to not null is correct here, it seems that Derby returns &apos;&apos; if a table does not have a catalog, and to preserve backwards compatibility that would continue to be the case, even if Derby supported catalogs.&lt;/p&gt;</comment>
                            <comment id="12562200" author="djd" created="Thu, 24 Jan 2008 20:26:46 +0000"  >&lt;p&gt;derby3350_code_diff.txt Patch that just shows the code changes, causes a number of tests to fail due to the change in nullability.&lt;/p&gt;</comment>
                            <comment id="12563628" author="djd" created="Tue, 29 Jan 2008 19:27:15 +0000"  >&lt;p&gt;Resolved with revision 616473 to trunk. Ensure that all changed nullability seen by tests was due to a CAST and the correct state was being returned.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12373960" name="derby3350_code_diff.txt" size="614" author="djd" created="Thu, 24 Jan 2008 20:26:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23588</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0zjr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39577</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>