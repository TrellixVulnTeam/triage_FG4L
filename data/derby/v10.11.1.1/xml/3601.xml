<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:41:38 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-3601/DERBY-3601.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-3601] Optimize LOBStateTracker for non-locator servers</title>
                <link>https://issues.apache.org/jira/browse/DERBY-3601</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;The following comments posted for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3571&quot; title=&quot;LOB locators are not released if the LOB columns are not accessed by the client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3571&quot;&gt;&lt;del&gt;DERBY-3571&lt;/del&gt;&lt;/a&gt; should be addressed if we choose to allow multiple calls to the various getter methods on LOB columns, except for the getter methods returning streams:&lt;br/&gt;
----- Knut Anders wrote:&lt;br/&gt;
&apos;ve tried out the 2a patch and it seems to work as intended. My only nits are:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;LOBStateTracker.checkCurrentRow(): couldn&apos;t Arrays.fill() be moved inside the if block?&lt;/li&gt;
	&lt;li&gt;should discardState() and markAccessed() check the release flag?&lt;/li&gt;
	&lt;li&gt;should ResultSet.createLOBColumnTracker() use LOBStateTracker.NO_OP_TRACKER instead of allocating a new when serverSupportsLocators() returns false?
&lt;hr /&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Note that it is a requirement that we allow multiple calls to the getter methods, otherwise we need to maintain the state for non-locator LOB columns as well to track the number of accesses. Another options is to rely on a different mechanism to track accesses.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12393294">DERBY-3601</key>
            <summary>Optimize LOBStateTracker for non-locator servers</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.png">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kristwaa">Kristian Waagan</assignee>
                                    <reporter username="kristwaa">Kristian Waagan</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Apr 2008 11:38:43 +0100</created>
                <updated>Mon, 29 Jun 2009 14:13:21 +0100</updated>
                            <resolved>Thu, 2 Oct 2008 16:30:54 +0100</resolved>
                                    <version>10.4.1.3</version>
                    <version>10.5.1.1</version>
                                    <fixVersion>10.4.2.1</fixVersion>
                    <fixVersion>10.5.1.1</fixVersion>
                                    <component>Network Client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12626110" author="kristwaa" created="Wed, 27 Aug 2008 14:42:02 +0100"  >&lt;p&gt;&apos;derby-3601-1a-comments_and_renaming.diff&apos; changes some of the comments in LOBStateTracker and renames variables and methods to better reflect reality.&lt;br/&gt;
I think when it was first written it was supposed to take care of more than it does today. Currently, the class is only used to track whether a LOB has been published to the end-user or not (happens through ResultSet.get&lt;span class=&quot;error&quot;&gt;&amp;#91;BC&amp;#93;&lt;/span&gt;lob).&lt;br/&gt;
There shouldn&apos;t be any functional changes in patch 1a.&lt;/p&gt;

&lt;p&gt;The next step is to implement the improvements suggested under this issue.&lt;br/&gt;
Patch ready for review.&lt;/p&gt;</comment>
                            <comment id="12626783" author="dagw" created="Fri, 29 Aug 2008 00:04:51 +0100"  >&lt;p&gt;Changes looks good and understandable to me.&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12626875" author="kristwaa" created="Fri, 29 Aug 2008 08:11:15 +0100"  >&lt;p&gt;Thank you for the review, Dag!&lt;/p&gt;

&lt;p&gt;I committed &apos;derby-3601-1a-comments_and_renaming.diff&apos; to trunk with revision 690133.&lt;br/&gt;
I expect another patch to be ready soon.&lt;/p&gt;</comment>
                            <comment id="12627430" author="kristwaa" created="Mon, 1 Sep 2008 11:55:11 +0100"  >&lt;p&gt;&apos;derby-3601-2a-non_locator_optimization.diff&apos; implements the suggested optimizations.&lt;br/&gt;
suites.All ran without failures on Solaris 10 with JDK 1.6.0.&lt;/p&gt;

&lt;p&gt;Patch ready for review.&lt;/p&gt;</comment>
                            <comment id="12636377" author="kristwaa" created="Thu, 2 Oct 2008 16:30:54 +0100"  >&lt;p&gt;Committed patch 2a to trunk with revision 701156.&lt;br/&gt;
I&apos;ll leave the issue open for a while and backport it if no problems are detected.&lt;/p&gt;</comment>
                            <comment id="12640461" author="kristwaa" created="Fri, 17 Oct 2008 08:52:16 +0100"  >&lt;p&gt;Backported fixes to 10.4 with revision 705502.&lt;br/&gt;
Closing issue.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12392355">DERBY-3571</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12388998" name="derby-3601-1a-comments_and_renaming.diff" size="8561" author="kristwaa" created="Wed, 27 Aug 2008 14:42:02 +0100"/>
                            <attachment id="12389280" name="derby-3601-2a-non_locator_optimization.diff" size="3581" author="kristwaa" created="Mon, 1 Sep 2008 11:55:11 +0100"/>
                            <attachment id="12389281" name="derby-3601-2a-non_locator_optimization.stat" size="128" author="kristwaa" created="Mon, 1 Sep 2008 11:55:11 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 28 Aug 2008 23:04:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30920</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0wvj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39144</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>