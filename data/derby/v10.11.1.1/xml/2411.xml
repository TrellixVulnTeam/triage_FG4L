<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:24:28 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-2411/DERBY-2411.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-2411] convert scrollCursors2.java  to junit</title>
                <link>https://issues.apache.org/jira/browse/DERBY-2411</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;convert scrollCursors2.java  to junit&lt;/p&gt;</description>
                <environment></environment>
        <key id="12364306">DERBY-2411</key>
            <summary>convert scrollCursors2.java  to junit</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kmarsden">Kathey Marsden</assignee>
                                    <reporter username="kmarsden">Kathey Marsden</reporter>
                        <labels>
                    </labels>
                <created>Tue, 6 Mar 2007 23:51:57 +0000</created>
                <updated>Fri, 9 Mar 2007 08:00:50 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 00:29:53 +0000</resolved>
                                    <version>10.3.1.4</version>
                                    <fixVersion>10.3.1.4</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12478843" author="kmarsden" created="Wed, 7 Mar 2007 18:44:15 +0000"  >&lt;p&gt;Attached is a patch to make a new junit test ScrollCursors2Test.java to replace scrollCursors2.java.  The test had an assertion style so this is just a line by line translation to junit.&lt;/p&gt;


</comment>
                            <comment id="12479268" author="knutanders" created="Thu, 8 Mar 2007 09:03:40 +0000"  >&lt;p&gt;I have read through the patch. It generally looks good. Please see my comments below.&lt;/p&gt;

&lt;p&gt;What about assertEquals() in these two cases?&lt;br/&gt;
+        rs.setFetchSize(5);&lt;br/&gt;
+        if (rs.getFetchSize() != 5) &lt;/p&gt;
{
+            fail(&quot;getFetchSize() expected to return 5&quot;);
+        }
&lt;p&gt;+&lt;br/&gt;
+        if (rs.getFetchDirection() != ResultSet.FETCH_FORWARD) &lt;/p&gt;
{
+            fail(&quot;getFetchDirection() expected to return FETCH_FORWARD, not &quot;
+                    + rs.getFetchDirection());
+        }

&lt;p&gt;assertNull(conn.getWarnings()) instead of the println loop?&lt;br/&gt;
+        // We should have gotten no warnings and a read only forward only cursor&lt;br/&gt;
+        warning = conn.getWarnings();&lt;br/&gt;
+        while (warning != null) &lt;/p&gt;
{
+            System.out.println(&quot;warning = &quot; + warning);
+            warning = warning.getNextWarning();
+        }

&lt;p&gt;assert instead of println here?&lt;br/&gt;
+        // Verify that result set from statement is&lt;br/&gt;
+        // scroll insensitive and read only&lt;br/&gt;
+        rs = ps_f_r.executeQuery();&lt;br/&gt;
+        if (rs.getType() != ResultSet.TYPE_FORWARD_ONLY) &lt;/p&gt;
{
+            System.out.println(&quot;cursor type = &quot; + rs.getType() + &quot;, not &quot;
+                    + ResultSet.TYPE_FORWARD_ONLY);
+        }
&lt;p&gt;+        if (rs.getConcurrency() != ResultSet.CONCUR_READ_ONLY) &lt;/p&gt;
{
+            System.out.println(&quot;concurrency = &quot; + rs.getConcurrency()
+                    + &quot;, not &quot; + ResultSet.CONCUR_READ_ONLY);
+        }

&lt;p&gt;assertNotNull? Actually, testing that the result set is not null could probably be removed since the subsequent use of it would fail anyway.&lt;br/&gt;
+        rs = s_f_r.executeQuery(&quot;values 1, 2, 3, 4, 5, 6&quot;);&lt;br/&gt;
+        if (rs == null) &lt;/p&gt;
{
+            fail(&quot;rs expected to be non-null.&quot;);
+        }&lt;br/&gt;
&lt;br/&gt;
This could be replaced with a single call to JDBC.assertDrainResults(rs, 5):&lt;br/&gt;
+        if (rs == null) {
+            fail(&quot;rs expected to be non-null.&quot;);
+        }
&lt;p&gt;+        // Iterate straight thru RS, expect only 5 rows.&lt;br/&gt;
+        for (int index = 1; index &amp;lt; 6; index++) {&lt;br/&gt;
+            if (!rs.next()) &lt;/p&gt;
{
+                fail(&quot;rs.next() failed, index = &quot; + index);
+                break;
+            }
&lt;p&gt;+        }&lt;br/&gt;
+        // We should not see another row (only 5, not 6)&lt;br/&gt;
+        if (rs.next()) &lt;/p&gt;
{
+            fail(&quot;rs.next() failed, should not have seen 6th row.&quot;);
+            passed = false;
+        }
&lt;p&gt;+        rs.close();&lt;/p&gt;

&lt;p&gt;scrollInsensitivePositive() and scrollInsensitiveNegative() should start with &quot;test&quot;.&lt;/p&gt;

&lt;p&gt;The last ResultSets in scrollInsensitiveNegative() and testScrollInsensitiveNegative() are not closed.&lt;/p&gt;

&lt;p&gt;scrollVerifyMaxRowWithFetchSize() could be private to clearly indicate that it&apos;s not a top-level test method.&lt;/p&gt;

&lt;p&gt;Class lacks copyright header.&lt;/p&gt;</comment>
                            <comment id="12479464" author="kmarsden" created="Fri, 9 Mar 2007 00:29:53 +0000"  >&lt;p&gt;Commited test and made changes from Knut&apos;s review&lt;/p&gt;</comment>
                            <comment id="12479525" author="knutanders" created="Fri, 9 Mar 2007 08:00:46 +0000"  >&lt;p&gt;Thank you for addressing my comments, Kathey. I noticed that ScrollCursors2Test.java didn&apos;t have the svn:eol-style property. Please check that you have configured subversion to set it to native automatically for java files. I fixed the eol-style in revision 516322. I also removed the javadoc for the deleted method in revision 516323.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12352851" name="derby-2411.diff" size="86594" author="kmarsden" created="Wed, 7 Mar 2007 18:44:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 8 Mar 2007 09:03:40 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30428</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy136f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40165</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>