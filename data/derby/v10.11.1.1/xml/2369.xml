<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:38:08 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-2369/DERBY-2369.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-2369] NetworkServerControl.shutdown() takes at least 1.5 seconds, could be faster.</title>
                <link>https://issues.apache.org/jira/browse/DERBY-2369</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;The shutdown command takes at least 1.5 seconds, broken into two parts:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;0.5 seconds is the first sleep after the shutdown request and before the first ping to see if the server is shutdown.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;~1 second is the time trying to obtain a socket in order to perform the ping to see if the server is shutdown. This socket creation fails (correctly) but takes time to do so.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The socket creation time can be avoided by re-using the socket that was used to send the shutdown request.&lt;/p&gt;

&lt;p&gt;The sleep time could be reduced by sleeping on a finer granularity, 0.5secs is a long time for a modern processor.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12363436">DERBY-2369</key>
            <summary>NetworkServerControl.shutdown() takes at least 1.5 seconds, could be faster.</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="djd">Daniel John Debrunner</assignee>
                                    <reporter username="djd">Daniel John Debrunner</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Feb 2007 20:51:07 +0000</created>
                <updated>Mon, 29 Jun 2009 15:12:55 +0100</updated>
                            <resolved>Sat, 24 Feb 2007 21:32:44 +0000</resolved>
                                                    <fixVersion>10.3.1.4</fixVersion>
                                    <component>Network Server</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12475162" author="djd" created="Thu, 22 Feb 2007 21:03:53 +0000"  >&lt;p&gt;derby2369_reuse_socket.txt&lt;/p&gt;

&lt;p&gt;Patch that re-uses the socket used to send the shutdown request to perform the ping to see if the server is shutdown.&lt;br/&gt;
Also fixes a bug where the message if the server did not shutdown in time could never be seen.&lt;br/&gt;
Drops around a second off the shutdown time.&lt;/p&gt;</comment>
                            <comment id="12475290" author="knutanders" created="Fri, 23 Feb 2007 08:37:30 +0000"  >&lt;p&gt;The patch looks good. +1 to commit if the tests pass. One minor comment: I think &quot;// as soon as we can&apos;t ping return&quot; shouldn&apos;t have been moved out of the catch block since it refers to the break statement.&lt;/p&gt;

&lt;p&gt;I assume the numbers you reported were seen on Windows? I didn&apos;t see any change in the time it took to shut down the server on Solaris (~1 second both with and without the patch), but it&apos;s a good change anyway.&lt;/p&gt;</comment>
                            <comment id="12475350" author="djd" created="Fri, 23 Feb 2007 15:03:54 +0000"  >&lt;p&gt;Thanks for the comment Knut Anders. yes i was running on windows. The patch doesn&apos;t include the second change to reduce the sleep time, that should decrease the time on Solaris.&lt;/p&gt;</comment>
                            <comment id="12475655" author="djd" created="Sat, 24 Feb 2007 21:32:44 +0000"  >&lt;p&gt;Committed revision 511353&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12351837" name="derby2369_reuse_socket.txt" size="2211" author="djd" created="Thu, 22 Feb 2007 21:03:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10362"><![CDATA[Performance]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 23 Feb 2007 08:37:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30403</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10102"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0wo7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39111</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>