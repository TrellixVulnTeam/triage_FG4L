<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:21:20 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-825/DERBY-825.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-825] writeSQLCAGRP() should use byte[] constants instead of Strings where feasible</title>
                <link>https://issues.apache.org/jira/browse/DERBY-825</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;writeSQLCAGRP() writes Strings into the message being built. Profiling shows that it is more expensive to write a String than a byte[] because the String must be converted to UTF8. writeSQLCAGRP() writes 5 bytes for SQLState, and this is done by either writing a String constant, or the return value from SQLException.getSQLState(). For the common case where there is no exception (SQLState = 5xspace), or the exception is a &quot;dummy&quot; exception (SQLState=00000 or 02000, End of Data), this is wasteful because the String has to be converted to byte[] each time, and in the case of the dummy exception, a new String object will be created each time getSQLState() is called, even if the exception object is the same (there is no caching, which is reasonable since exceptions are meant to be thrown, not kept around for a long time).&lt;/p&gt;

&lt;p&gt;A solution is to keep the commonly used SQLStates as byte[] constants that can be inserted into the message with writeBytes().&lt;/p&gt;

&lt;p&gt;If writeSQLCAGRP() is called with no SQLException (null) there is no attempt to put an internationalized error message into the outgoing message (The third argument to writeSQLCAXGRP() is null). This is reasonable, but the same optimization is not done when the exception is one of the dummy exceptions mentioned previously. In this case an internationalized version of the message &quot;End of Data&quot; is constructed and inserted into the message.  It would be better to call writeSQLCAXGRP(..,null,..) in this case as well, since it isn&apos;t needed by the client in this case.&lt;/p&gt;

&lt;p&gt;Finally, writeSQLCAERRWARN() uses writeScalarPaddedBytes() to write values that also can be stored as byte[] constants, and written faster with writeBytes()&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12327821">DERBY-825</key>
            <summary>writeSQLCAGRP() should use byte[] constants instead of Strings where feasible</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="31587">DERBY-212</parent>
                                    <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dyret">Dyre Tjeldvoll</assignee>
                                    <reporter username="dyret">Dyre Tjeldvoll</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Jan 2006 17:19:52 +0000</created>
                <updated>Mon, 29 Jun 2009 15:38:48 +0100</updated>
                            <resolved>Tue, 11 Apr 2006 02:54:19 +0100</resolved>
                                    <version>10.1.2.1</version>
                                    <fixVersion>10.1.3.1</fixVersion>
                                    <component>Network Server</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12363228" author="dyret" created="Thu, 19 Jan 2006 19:33:15 +0000"  >&lt;p&gt;derbynetclientmats had 3 failures also seen in nightly testing. derbynetmats had no failures.&lt;/p&gt;</comment>
                            <comment id="12363794" author="bernt" created="Tue, 24 Jan 2006 17:52:45 +0000"  >&lt;p&gt;Comitted as  	#370806  	Fri Jan 20 14:34:53 CET 2006  	bernt &lt;br/&gt;
The log message errouneous and ended up under &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-815&quot; title=&quot;Prevent unneeded object creation and excessive decoding in parseSQLDTA_work()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-815&quot;&gt;&lt;del&gt;DERBY-815&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="12363939" author="dyret" created="Wed, 25 Jan 2006 19:20:16 +0000"  >&lt;p&gt;Committed by Bernt Johnsen&lt;/p&gt;</comment>
                            <comment id="12373900" author="dyret" created="Tue, 11 Apr 2006 02:51:21 +0100"  >&lt;p&gt;Reopen to set fixin&lt;/p&gt;</comment>
                            <comment id="12373901" author="dyret" created="Tue, 11 Apr 2006 02:53:41 +0100"  >&lt;p&gt;Setting fixin to 10.1.3.0. But is not extremely important so it could be posponed if it is difficult to merge.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12322112" name="derby-825.diff" size="9148" author="dyret" created="Thu, 19 Jan 2006 19:33:15 +0000"/>
                            <attachment id="12322111" name="derby-825.stat" size="436" author="dyret" created="Thu, 19 Jan 2006 19:33:15 +0000"/>
                            <attachment id="12322113" name="derbynetclientmats_report.txt" size="208179" author="dyret" created="Thu, 19 Jan 2006 19:33:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10362"><![CDATA[Performance]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 24 Jan 2006 17:52:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>29725</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0wh3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39079</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>