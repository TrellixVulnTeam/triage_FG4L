<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:09:22 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-1757/DERBY-1757.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-1757] checkDataSource30 produces no output, most likely hangs</title>
                <link>https://issues.apache.org/jira/browse/DERBY-1757</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Seen while testing the 10.2.1.0 beta, in two different environments.&lt;/p&gt;

&lt;p&gt;Test produces no output, most likely it hangs and is killed after 1 hour.&lt;/p&gt;


&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;
			&lt;ul&gt;
				&lt;li&gt;
				&lt;ul&gt;
					&lt;li&gt;
					&lt;ul&gt;
						&lt;li&gt;
						&lt;ul&gt;
							&lt;li&gt;
							&lt;ul&gt;
								&lt;li&gt;
								&lt;ul&gt;
									&lt;li&gt;Diff file derbyall/derbynetclientmats/DerbyNetClient/derbynetmats/jdk14/checkDataSource30.diff&lt;/li&gt;
								&lt;/ul&gt;
								&lt;/li&gt;
							&lt;/ul&gt;
							&lt;/li&gt;
						&lt;/ul&gt;
						&lt;/li&gt;
					&lt;/ul&gt;
					&lt;/li&gt;
				&lt;/ul&gt;
				&lt;/li&gt;
			&lt;/ul&gt;
			&lt;/li&gt;
			&lt;li&gt;Start: checkDataSource30 jdk1.5.0_04 DerbyNetClient derbynetmats:jdk14 2006-08-15 01:21:15 ***&lt;br/&gt;
711 del&lt;br/&gt;
&amp;lt; By default, autocommit is true for a connection&lt;br/&gt;
&amp;lt; Default holdability for a connection is HOLD_CURSORS_OVER_COMMIT&lt;br/&gt;
&amp;lt; CONNECTION(not in xa transaction yet) HOLDABILITY true&lt;br/&gt;
&amp;lt; Notice that autocommit now is false for connection because it is part of the global transaction&lt;br/&gt;
&amp;lt; Notice that connection&apos;s holdability at this point is CLOSE_CURSORS_AT_COMMIT because it is part of the global transaction&lt;br/&gt;
&amp;lt; CONNECTION(in xa transaction) HOLDABILITY false&lt;br/&gt;
&amp;lt; CONNECTION(in xa transaction) HOLDABILITY false&lt;br/&gt;
&amp;lt; Autocommit on Connection inside global transaction has been set correctly to false&lt;br/&gt;
&amp;lt; CONNECTION(non-xa) HOLDABILITY false&lt;br/&gt;
&amp;lt; STATEMENT HOLDABILITY false&lt;br/&gt;
&amp;lt; STATEMENT HOLDABILITY false&lt;br/&gt;
&amp;lt; STATEMENT HOLDABILITY true&lt;br/&gt;
&amp;lt; PREPARED STATEMENT HOLDABILITY true&lt;br/&gt;
&amp;lt; CALLABLE STATEMENT HOLDABILITY true&lt;br/&gt;
&amp;lt; H@1 id 1&lt;br/&gt;
&amp;lt; H@2 id 2&lt;br/&gt;
&amp;lt; H@3 id 3&lt;br/&gt;
&amp;lt; CONNECTION(xa) HOLDABILITY false&lt;br/&gt;
&amp;lt; STATEMENT(this one was created with holdability false, outside the global transaction. Check it&apos;s holdability inside global transaction) HOLDABILITY false&lt;br/&gt;
&amp;lt; STATEMENT(this one was created with holdability true, outside the global transaction. Check it&apos;s holdability inside global transaction) HOLDABILITY true&lt;br/&gt;
&amp;lt; STATEMENT(this one was created with default holdability inside this global transaction. Check it&apos;s holdability) HOLDABILITY false&lt;br/&gt;
&amp;lt; PREPAREDSTATEMENT(this one was created with default holdability inside this global transaction. Check it&apos;s holdability) HOLDABILITY false&lt;br/&gt;
&amp;lt; CALLABLESTATEMENT(this one was created with default holdability inside this global transaction. Check it&apos;s holdability) HOLDABILITY false&lt;br/&gt;
&amp;lt; X@1 id 1&lt;br/&gt;
&amp;lt; X@2 id 2&lt;br/&gt;
&amp;lt; Expected SQLException No current connection. : &lt;br/&gt;
&amp;lt; Expected SQLException ResultSet not open.  Verify that autocommit is OFF.&lt;br/&gt;
&amp;lt; resume XA transaction and keep using rs&lt;br/&gt;
&amp;lt; Check holdability of various jdbc objects after resuming XA transaction&lt;br/&gt;
&amp;lt; CONNECTION(xa) HOLDABILITY false&lt;br/&gt;
&amp;lt; STATEMENT(this one was created with holdability false, outside the global transaction. Check it&apos;s holdability inside global transaction) HOLDABILITY false&lt;br/&gt;
&amp;lt; STATEMENT(this one was created with holdability true, outside the global transaction. Check it&apos;s holdability inside global transaction) HOLDABILITY true&lt;br/&gt;
&amp;lt; STATEMENT(this one was created with default holdability inside the global transaction when it was first started. Check it&apos;s holdability) HOLDABILITY false&lt;br/&gt;
&amp;lt; PREPAREDSTATEMENT(this one was created with default holdability inside the global transaction when it was first started. Check it&apos;s holdability) HOLDABILITY false&lt;br/&gt;
&amp;lt; CALLABLESTATEMENT(this one was created with default holdability inside the global transaction when it was first started. Check it&apos;s holdability) HOLDABILITY false&lt;br/&gt;
&amp;lt; STATEMENT(this one was created with default holdability after the global transaction was resumed. Check it&apos;s holdability) HOLDABILITY false&lt;br/&gt;
&amp;lt; PREPAREDSTATEMENT(this one was created with default holdability after the global transaction was resumed. Check it&apos;s holdability) HOLDABILITY false&lt;br/&gt;
&amp;lt; CALLABLESTATEMENT(this one was created with default holdability after the global transaction was resumed. Check it&apos;s holdability) HOLDABILITY false&lt;br/&gt;
&amp;lt; Expected SQLException ResultSet not open.  Verify that autocommit is OFF.&lt;br/&gt;
&amp;lt; Expected SQLException ResultSet not open.  Verify that autocommit is OFF.&lt;br/&gt;
&amp;lt; Set connection to hold &lt;br/&gt;
&amp;lt; CONNECTION(held) HOLDABILITY true&lt;br/&gt;
&amp;lt; CONNECTION(xa) HOLDABILITY false&lt;br/&gt;
&amp;lt; Expected SQLException(setHoldability) Cannot set holdability ResultSet.HOLD_CURSORS_OVER_COMMIT for a global transaction.&lt;br/&gt;
&amp;lt; HOLDABLE Statement in global xact false connection warning ResultSetHoldability restricted to ResultSet.CLOSE_CURSORS_AT_COMMIT for a global transaction.&lt;br/&gt;
&amp;lt; HOLDABLE PreparedStatement in global xact false connection warning ResultSetHoldability restricted to ResultSet.CLOSE_CURSORS_AT_COMMIT for a global transaction.&lt;br/&gt;
&amp;lt; HOLDABLE CallableStatement in global xact false connection warning ResultSetHoldability restricted to ResultSet.CLOSE_CURSORS_AT_COMMIT for a global transaction.&lt;br/&gt;
&amp;lt; CONNECTION(held) HOLDABILITY true&lt;br/&gt;
&amp;lt; PASS XA HOLDABILITY TEST&lt;br/&gt;
&amp;lt; **Test holdability state for: PooledConnection **&lt;br/&gt;
&amp;lt; PASS: Holdability matches expected holdability:HOLD_CURSORS_OVER_COMMIT&lt;br/&gt;
&amp;lt; ** Test autoCommit state for: PooledConnection**&lt;br/&gt;
&amp;lt; PASS: autoCommit reset on getConnection&lt;br/&gt;
&amp;lt; done creating  table&lt;br/&gt;
&amp;lt; *** Test isolation level reset on PooledConnection.getConnection()***&lt;br/&gt;
&amp;lt; setTransactionIsolation(Connection.TRANSACTION_READ_UNCOMMITTED&lt;br/&gt;
&amp;lt; PASS: No lock timeout occurs for READ_UNCOMMITTED&lt;br/&gt;
&amp;lt; Get a new connection with PooledConnection.getConnection()&lt;br/&gt;
&amp;lt; Isolation level should be reset to READ_COMMITTED&lt;br/&gt;
&amp;lt; PASS: Expected lock timeout for READ_COMMITTED&lt;br/&gt;
&amp;lt; done creating  table&lt;br/&gt;
&amp;lt; *** Test isolation level reset on XAConnection.getConnection()***&lt;br/&gt;
&amp;lt; setTransactionIsolation(Connection.TRANSACTION_READ_UNCOMMITTED&lt;br/&gt;
&amp;lt; PASS: No lock timeout occurs for READ_UNCOMMITTED&lt;br/&gt;
&amp;lt; Get a new connection with XAConnection.getConnection()&lt;br/&gt;
&amp;lt; Isolation level should be reset to READ_COMMITTED&lt;br/&gt;
&amp;lt; PASS: Expected lock timeout for READ_COMMITTED&lt;br/&gt;
&amp;lt; Checked class declared as: javax.sql.DataSource&lt;br/&gt;
&amp;lt; Completed checkDataSource30&lt;br/&gt;
Test Failed.&lt;/li&gt;
			&lt;li&gt;End:   checkDataSource30 jdk1.5.0_04 DerbyNetClient derbynetmats:jdk14 2006-08-15 02:21:22 ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment>Seen both on&lt;br/&gt;
&lt;br/&gt;
JVM: Sun JDK 6 (build 1.6.0-rc-b95)&lt;br/&gt;
OS: Solaris 10 (sparc) &lt;br/&gt;
&lt;br/&gt;
and&lt;br/&gt;
&lt;br/&gt;
JVM: Sun JDK 5 (1.5.0_04)&lt;br/&gt;
OS: RHEL 4 </environment>
        <key id="12348535">DERBY-1757</key>
            <summary>checkDataSource30 produces no output, most likely hangs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="vemund">Vemund &#216;stgaard</reporter>
                        <labels>
                    </labels>
                <created>Thu, 24 Aug 2006 10:48:17 +0100</created>
                <updated>Mon, 29 Jun 2009 23:57:53 +0100</updated>
                            <resolved>Wed, 20 Sep 2006 12:06:57 +0100</resolved>
                                    <version>10.2.1.6</version>
                                    <fixVersion>10.2.1.6</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12433250" author="mikem" created="Thu, 7 Sep 2006 22:45:55 +0100"  >&lt;p&gt;I&apos;ve seen multiple developers report running into the testing failure, bumping priority from minor to major.&lt;/p&gt;</comment>
                            <comment id="12435808" author="rhillegas" created="Tue, 19 Sep 2006 15:34:59 +0100"  >&lt;p&gt;Moving to 10.2.2.0.&lt;/p&gt;</comment>
                            <comment id="12436215" author="knutanders" created="Wed, 20 Sep 2006 12:06:57 +0100"  >&lt;p&gt;Marking the issue as resolved since the hang has not been seen in the nightlies since before &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1817&quot; title=&quot;Race condition in network server&amp;#39;s thread pool&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1817&quot;&gt;&lt;del&gt;DERBY-1817&lt;/del&gt;&lt;/a&gt; was fixed. The fix has also been checked into the 10.2 branch.&lt;/p&gt;</comment>
                            <comment id="12551410" author="fuzzylogic" created="Thu, 13 Dec 2007 09:05:12 +0000"  >&lt;p&gt;This issue has been resolved for over a year with no further movement. Closing.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12349317">DERBY-1817</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10369"><![CDATA[Regression Test Failure]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 7 Sep 2006 21:45:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22686</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0vs7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38967</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>