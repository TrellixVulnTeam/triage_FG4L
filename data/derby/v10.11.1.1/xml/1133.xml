<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:21:57 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-1133/DERBY-1133.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-1133] Split jdbc4 tests so that the suite can be run independently under the embedded and DerbyNetClients like other Derby test suites</title>
                <link>https://issues.apache.org/jira/browse/DERBY-1133</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Right now the jdbc4 suite runs under the DerbyNetClient. However, under the covers, the tests also run themselves against the embedded client. We should fix these tests so that the whole suite can run just under DerbyNetClient or just under the embedded client.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12330482">DERBY-1133</key>
            <summary>Split jdbc4 tests so that the suite can be run independently under the embedded and DerbyNetClients like other Derby test suites</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rhillegas">Rick Hillegas</assignee>
                                    <reporter username="rhillegas">Rick Hillegas</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Mar 2006 02:33:50 +0000</created>
                <updated>Tue, 15 May 2007 22:16:54 +0100</updated>
                            <resolved>Tue, 15 May 2007 22:16:54 +0100</resolved>
                                    <version>10.2.1.6</version>
                                    <fixVersion>10.2.2.1</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12371276" author="rhillegas" created="Wed, 22 Mar 2006 02:40:49 +0000"  >&lt;p&gt;This submission makes the following changes:&lt;/p&gt;

&lt;p&gt;1) Rototills the jdbc4 tests so that, in general, they get their connections using ij.startJBMS() as other unit tests do. This lets us run a given test under multiple frameworks. It also eliminates the following curious behavior of these tests: they used to run themselves back-to-back embedded and then under DerbyNetClient.&lt;/p&gt;

&lt;p&gt;2) Eliminates the jdbc4 suite and replaces it with two new suites: jdbc40 and jdbc40_embeddedOnly. The new jdbc40 suite can be run under either the embedded or the DerbyNetClient frameworks. The new jdbc40_embeddedOnly suite only runs embedded. Hopefully, over time tests will migrate out of jdbc40_embeddedOnly into jdbc40 and we can eliminate jdbc40_embeddedOnly.&lt;/p&gt;

&lt;p&gt;3) Adds a short webpage describing how to run the jdbc4 tests. This webpage is wired into the top level testing help (java/testing/README.htm) as section 6.&lt;/p&gt;

&lt;p&gt;This patch affects the following files:&lt;/p&gt;

&lt;p&gt;M      java\testing\README.htm&lt;br/&gt;
M      java\testing\org\apache\derbyTesting\functionTests\tests\jdbc4\TestConnection.java&lt;br/&gt;
A      java\testing\org\apache\derbyTesting\functionTests\tests\jdbc4\default_app.properties&lt;br/&gt;
D      java\testing\org\apache\derbyTesting\functionTests\tests\jdbc4\TestJDBC40Exception_app.properties&lt;br/&gt;
D      java\testing\org\apache\derbyTesting\functionTests\tests\jdbc4\TestDbMetaData_app.properties&lt;br/&gt;
M      java\testing\org\apache\derbyTesting\functionTests\tests\jdbc4\TestPreparedStatement_app.properties&lt;br/&gt;
M      java\testing\org\apache\derbyTesting\functionTests\tests\jdbc4\TestQueryObject_app.properties&lt;br/&gt;
M      java\testing\org\apache\derbyTesting\functionTests\tests\jdbc4\TestCallableStatementMethods.java&lt;br/&gt;
M      java\testing\org\apache\derbyTesting\functionTests\tests\jdbc4\TestPreparedStatementMethods.java&lt;br/&gt;
M      java\testing\org\apache\derbyTesting\functionTests\tests\jdbc4\StartTestConnection.java&lt;br/&gt;
M      java\testing\org\apache\derbyTesting\functionTests\tests\jdbc4\TestResultSetMethods.java&lt;br/&gt;
A      java\testing\org\apache\derbyTesting\functionTests\tests\jdbc4\README.html&lt;br/&gt;
M      java\testing\org\apache\derbyTesting\functionTests\tests\jdbc4\TestConnectionMethods.java&lt;br/&gt;
D      java\testing\org\apache\derbyTesting\functionTests\tests\jdbc4\TestCallableStatementMethods_app.properties&lt;br/&gt;
M      java\testing\org\apache\derbyTesting\functionTests\tests\jdbc4\TestJDBC40Exception.java&lt;br/&gt;
M      java\testing\org\apache\derbyTesting\functionTests\tests\jdbc4\TestPreparedStatementMethods_app.properties&lt;br/&gt;
M      java\testing\org\apache\derbyTesting\functionTests\tests\jdbc4\TestDbMetaData.java&lt;br/&gt;
D      java\testing\org\apache\derbyTesting\functionTests\tests\jdbc4\TestResultSetMethods_app.properties&lt;br/&gt;
M      java\testing\org\apache\derbyTesting\functionTests\tests\jdbc4\TestQueryObject.java&lt;br/&gt;
M      java\testing\org\apache\derbyTesting\functionTests\tests\jdbc4\TestConnectionMethods_app.properties&lt;br/&gt;
M      java\testing\org\apache\derbyTesting\functionTests\tests\jdbc4\copyfiles.ant&lt;br/&gt;
M      java\testing\org\apache\derbyTesting\functionTests\master\TestDbMetaData.out&lt;br/&gt;
A      java\testing\org\apache\derbyTesting\functionTests\suites\jdbc40_embeddedOnly.runall&lt;br/&gt;
A      java\testing\org\apache\derbyTesting\functionTests\suites\jdbc40_embeddedOnly.properties&lt;br/&gt;
D      java\testing\org\apache\derbyTesting\functionTests\suites\jdbc4.runall&lt;br/&gt;
A      java\testing\org\apache\derbyTesting\functionTests\suites\jdbc40.runall&lt;br/&gt;
D      java\testing\org\apache\derbyTesting\functionTests\suites\jdbc4.properties&lt;br/&gt;
A      java\testing\org\apache\derbyTesting\functionTests\suites\jdbc40.properties&lt;/p&gt;</comment>
                            <comment id="12371295" author="kristwaa" created="Wed, 22 Mar 2006 05:01:11 +0000"  >&lt;p&gt;It is a bit unclear to me why we need to have two different suites.&lt;br/&gt;
Is it done to make it easier to keep the overview?&lt;/p&gt;

&lt;p&gt;Questions:&lt;br/&gt;
1) Are there specific reasons why the exclude mechanisms of the test harness are not used?&lt;br/&gt;
Would it  work to have only one suite, then add the (currently) two tests not supposed to be run under DerbyNetClient to &apos;suites/DerbyNetClient.exclude&apos;, with comments describing why they are excluded?&lt;br/&gt;
2) Is there a flag in the harness for excluding runs for JDK 1.5?&lt;br/&gt;
3) Should the jdbc40 suite be added to any other suites? (derbyall and derbynetclientmats)&lt;/p&gt;

&lt;p&gt;Great work fixing up the jdbc4  suite &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12371314" author="rhillegas" created="Wed, 22 Mar 2006 06:06:19 +0000"  >&lt;p&gt;Hi Kristian,&lt;/p&gt;

&lt;p&gt;Thanks for reviewing this patch. Here are responses to your review:&lt;/p&gt;

&lt;p&gt;1) No good reason. I just didn&apos;t know about DerbyNetClient.exclude. Thanks for teaching me about this corner of our test harness fractal. I have eliminated the useless jdbc40_embeddedOnly suite and attached a second rev of the patch. This is much better.&lt;/p&gt;

&lt;p&gt;2) I think Myrna answered this question affirmatively on derby-dev.&lt;/p&gt;

&lt;p&gt;3) I agree that we want to wire jdbc40 into derbyall and derbynetclientmats once Anurag finishes work on &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-955&quot; title=&quot;Get derbyall on jdk1.6&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-955&quot;&gt;&lt;del&gt;DERBY-955&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="12371317" author="rhillegas" created="Wed, 22 Mar 2006 06:13:27 +0000"  >&lt;p&gt;Committed the second patch at subversion revision 387640.&lt;/p&gt;</comment>
                            <comment id="12371331" author="fuzzylogic" created="Wed, 22 Mar 2006 06:53:36 +0000"  >&lt;p&gt;Hi Rick, just read the readme. If you want to keep the running of the jdbc40 tests to a single command, you could always set the suite files up like so:&lt;/p&gt;

&lt;p&gt;jdbc40all.properties:&lt;br/&gt;
suites=jdbc40 jdbc40netclient&lt;/p&gt;

&lt;p&gt;jdbc40netclient.properties:&lt;br/&gt;
framework=DerbyNetClient&lt;br/&gt;
suites=jdbc40&lt;/p&gt;

&lt;p&gt;Then you just need to run jdbc40all to get both runs in a single command.&lt;/p&gt;</comment>
                            <comment id="12371408" author="olav" created="Wed, 22 Mar 2006 17:51:30 +0000"  >&lt;p&gt;Hi Rick, thanks for fixing up the jdbc4 suite to make it possible to run using the standard test frameworks.&lt;/p&gt;

&lt;p&gt;Some minor comments to your patch:&lt;/p&gt;

&lt;p&gt;1. I think the StartTestConnection.java test could be removed from the test suite. This test tested that the previously used metods for creating a connection to the database worked. With your change to get the connections using ij.startJBMS, this test basically runs connection.close.&lt;/p&gt;

&lt;p&gt;2. The following files can be removed (if you do 1.):&lt;/p&gt;

&lt;p&gt;      jdbc4/StartTestConnection.java&lt;br/&gt;
      jdbc4/TestConnection.java&lt;/p&gt;

&lt;p&gt;3. A tiny comment: the files for the jdbc4 test code was basically TAB free before your check-in.....&lt;/p&gt;</comment>
                            <comment id="12371439" author="anurag" created="Thu, 23 Mar 2006 01:41:03 +0000"  >&lt;p&gt;&amp;gt; 3) I agree that we want to wire jdbc40 into derbyall and derbynetclientmats once Anurag finishes work on &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-955&quot; title=&quot;Get derbyall on jdk1.6&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-955&quot;&gt;&lt;del&gt;DERBY-955&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
I think we can add jdbc40 in derbyall and  derbynetclientmats now. The number of failures are down to 8 with jdk1.6&lt;/p&gt;</comment>
                            <comment id="12371454" author="rhillegas" created="Thu, 23 Mar 2006 03:54:34 +0000"  >&lt;p&gt;Additional patch bug1133_3_cruft.diff addresses Olav&apos;s comments about the vacuous StartTestConnection test. Test removed:&lt;/p&gt;

&lt;p&gt;D      java\testing\org\apache\derbyTesting\functionTests\tests\jdbc4\TestConnection.java&lt;br/&gt;
D      java\testing\org\apache\derbyTesting\functionTests\tests\jdbc4\StartTestConnection.java&lt;br/&gt;
M      java\testing\org\apache\derbyTesting\functionTests\suites\jdbc40.runall&lt;/p&gt;</comment>
                            <comment id="12371455" author="rhillegas" created="Thu, 23 Mar 2006 03:58:43 +0000"  >&lt;p&gt;Committed patch bug1133_3_cruft.diff at subversion revision 387925.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12324419" name="bug1133.diff" size="37682" author="rhillegas" created="Wed, 22 Mar 2006 02:40:49 +0000"/>
                            <attachment id="12324461" name="bug1133_3_cruft.diff" size="5480" author="rhillegas" created="Thu, 23 Mar 2006 03:54:31 +0000"/>
                            <attachment id="12324425" name="bug1133_rev2.diff" size="37196" author="rhillegas" created="Wed, 22 Mar 2006 06:06:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 22 Mar 2006 05:01:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>29866</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy128f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40012</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>