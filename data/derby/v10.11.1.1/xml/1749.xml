<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:11:49 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-1749/DERBY-1749.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-1749] Implement Bracketed SQL comments (/*...*/ comments)</title>
                <link>https://issues.apache.org/jira/browse/DERBY-1749</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Hibernate use multiline sql statements to show the internal building of the hql statements. You can disable this feature, but it would be nice if you can implements bracketed SQL comments in Derby.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12348467">DERBY-1749</key>
            <summary>Implement Bracketed SQL comments (/*...*/ comments)</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="james.f.adams">James F. Adams</assignee>
                                    <reporter username="azgard">Conny Krey&#223;el</reporter>
                        <labels>
                    </labels>
                <created>Wed, 23 Aug 2006 11:54:07 +0100</created>
                <updated>Wed, 1 Jul 2009 01:34:49 +0100</updated>
                            <resolved>Fri, 16 Nov 2007 14:19:37 +0000</resolved>
                                    <version>10.1.3.1</version>
                    <version>10.2.1.6</version>
                    <version>10.2.2.0</version>
                    <version>10.3.1.4</version>
                                    <fixVersion>10.4.1.3</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12444250" author="bernt" created="Tue, 24 Oct 2006 09:43:18 +0100"  >&lt;p&gt;This is Optional Feature T352 (&lt;a href=&quot;http://wiki.apache.org/db-derby/SQLvsDerbyFeatures&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/db-derby/SQLvsDerbyFeatures&lt;/a&gt;). &lt;/p&gt;

&lt;p&gt;Implementing this might also ease the use of optimizer overrides from Java&lt;br/&gt;
code. E.g. the following SQL&lt;/p&gt;

&lt;p&gt;SELECT * FROM t1 &amp;#8211; DERBY-PROPERTIES index = t1_c1&lt;br/&gt;
FOR UPDATE OF c2, c1&lt;/p&gt;

&lt;p&gt;Will in Java look like (newline is needed to terminate the &quot;--&quot;&lt;br/&gt;
comment):&lt;/p&gt;

&lt;p&gt;stmt.executeQuery(&quot;SELECT * FROM t1 &amp;#8211; DERBY-PROPERTIES index = t1_c1 \nFOR UPDATE OF c2, c1&quot;);&lt;/p&gt;

&lt;p&gt;while with T352 implemented, could be something like&lt;/p&gt;

&lt;p&gt;stmt.executeQuery(&quot;SELECT * FROM t1 /* DERBY-PROPERTIES index = t1_c1 */ FOR UPDATE OF c2, c1&quot;);&lt;/p&gt;

&lt;p&gt;which I think is a bit more readable.&lt;/p&gt;</comment>
                            <comment id="12444253" author="bernt" created="Tue, 24 Oct 2006 09:46:25 +0100"  >&lt;p&gt;This is of course Optional Feature T351. Sorry for the typo.&lt;/p&gt;</comment>
                            <comment id="12537519" author="thomanie" created="Thu, 25 Oct 2007 07:56:03 +0100"  >&lt;p&gt;Workaround details missing from orginal report:&lt;/p&gt;

&lt;p&gt;Change the &quot;sql_comments&quot; flag in the Hibernate configfile to disable comments in the generated sql.&lt;/p&gt;</comment>
                            <comment id="12537520" author="thomanie" created="Thu, 25 Oct 2007 08:01:44 +0100"  >&lt;p&gt;Flagging most recent released versions as affected as well.&lt;/p&gt;</comment>
                            <comment id="12537741" author="dagw" created="Thu, 25 Oct 2007 22:41:09 +0100"  >&lt;p&gt;Here is a patch for sqlgrammar.jj which implements bracketed comments &lt;/p&gt;

&lt;p&gt;Not a complete patch; no tests added yet, running regression&lt;br/&gt;
tests now.&lt;/p&gt;</comment>
                            <comment id="12538591" author="dagw" created="Mon, 29 Oct 2007 20:53:54 +0000"  >&lt;p&gt;The patch is not sufficient: the standard demands that bracketed comments &lt;br/&gt;
can nest, cf. SQL 2003 section 5.2 &amp;lt;token&amp;gt; and &amp;lt;separator&amp;gt;, syntax rule 10):&lt;/p&gt;

&lt;p&gt;   &quot;Within a &amp;lt;bracketed comment contents&amp;gt;, any &amp;lt;solidus&amp;gt; immediately followed by &lt;br/&gt;
    an &amp;lt;asterisk&amp;gt; without any intervening &amp;lt;separator&amp;gt; shall be considered to be the &lt;br/&gt;
    &amp;lt;bracketed comment introducer&amp;gt; of a &amp;lt;separator&amp;gt; that is a &amp;lt;bracketed comment&amp;gt;. &quot;&lt;/p&gt;
</comment>
                            <comment id="12540735" author="dagw" created="Wed, 7 Nov 2007 12:33:01 +0000"  >&lt;p&gt;Unassiging myself for now.&lt;/p&gt;</comment>
                            <comment id="12541542" author="james.f.adams" created="Sat, 10 Nov 2007 13:34:08 +0000"  >&lt;p&gt;Derby-1749-2 is an updated patch to sqlgrammar.jj which implements nested bracketed comments.&lt;/p&gt;

&lt;p&gt;Not a complete patch; no tests added yet.&lt;/p&gt;
</comment>
                            <comment id="12541756" author="thomanie" created="Mon, 12 Nov 2007 12:08:55 +0000"  >&lt;p&gt;Attaching proposal for updated comments text for the Reference Guide under &quot;Capitalization and special characters&quot;.&lt;/p&gt;</comment>
                            <comment id="12542417" author="dagw" created="Wed, 14 Nov 2007 11:12:18 +0000"  >&lt;p&gt;Patch looks good, James, thanks! Do you plan to add tests also?&lt;/p&gt;

&lt;p&gt;Thomas, thanks for the doc updates. &lt;br/&gt;
The description should mention that bracketed comments nest.&lt;br/&gt;
Could you make the changes to the .dita files also?&lt;/p&gt;</comment>
                            <comment id="12542436" author="james.f.adams" created="Wed, 14 Nov 2007 12:33:47 +0000"  >&lt;p&gt;Attached new patch (Derby-1749-3.diff) that adds some simple bracketed comment tests.&lt;/p&gt;</comment>
                            <comment id="12542455" author="thomanie" created="Wed, 14 Nov 2007 13:20:19 +0000"  >&lt;p&gt;Updated dita source and html attached. This includes a comment on nested bracketed comments. Thanks for spotting that Dag.&lt;/p&gt;</comment>
                            <comment id="12542832" author="dagw" created="Thu, 15 Nov 2007 18:10:54 +0000"  >&lt;p&gt;Thanks for making tests, too, James! &lt;br/&gt;
The tests look good and passed in my sandbox.&lt;/p&gt;

&lt;p&gt;I will add some with a mix of eol(&quot;---&quot;) and bracketed comments for &lt;br/&gt;
good measure.&lt;/p&gt;

&lt;p&gt;And Thomas, thanks for the doc patch, I generated the docs&lt;br/&gt;
with it and it looks good. &lt;/p&gt;

&lt;p&gt;I will probably substitute &quot;asterisk&quot; for &quot;star&quot; to keep&lt;br/&gt;
in line with typography language.&lt;/p&gt;

&lt;p&gt;I will commit both when my regression tests are done.&lt;/p&gt;</comment>
                            <comment id="12542833" author="dagw" created="Thu, 15 Nov 2007 18:14:24 +0000"  >&lt;p&gt;Thomas, would you be willing to write and attach the release notes for this feature also?&lt;br/&gt;
Template can be found here:&lt;/p&gt;

&lt;p&gt;../tools/release/templates/releaseNote.html&lt;/p&gt;</comment>
                            <comment id="12542843" author="thomanie" created="Thu, 15 Nov 2007 18:45:59 +0000"  >&lt;p&gt;+1 for the asterisk change Dag.&lt;br/&gt;
Sure, I&apos;ll do a releaseNote for this issue .&lt;/p&gt;</comment>
                            <comment id="12542851" author="thomanie" created="Thu, 15 Nov 2007 19:06:37 +0000"  >&lt;p&gt;Attaching releaseNote.html&lt;/p&gt;</comment>
                            <comment id="12542862" author="djd" created="Thu, 15 Nov 2007 19:46:01 +0000"  >&lt;p&gt;Dag, could you explain why a release note is needed. I thought release notes were for changes that might affect existing working applications, I didn&apos;t think new features had release notes?&lt;/p&gt;</comment>
                            <comment id="12543079" author="dagw" created="Fri, 16 Nov 2007 14:07:09 +0000"  >&lt;p&gt;The releaseNotes.html is probably redundant here, see discussion&lt;br/&gt;
in &lt;a href=&quot;http://www.nabble.com/-jira--Created%3A-%28DERBY-1749%29-Implement-Bracketed-SQL-comments-%28-*...*--comments%29-t2151720i20.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.nabble.com/-jira--Created%3A-%28DERBY-1749%29-Implement-Bracketed-SQL-comments-%28-*...*--comments%29-t2151720i20.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12543080" author="dagw" created="Fri, 16 Nov 2007 14:08:43 +0000"  >&lt;p&gt;Same as Derby-1749-3.diff, but adds a few new test cases.&lt;/p&gt;</comment>
                            <comment id="12543082" author="dagw" created="Fri, 16 Nov 2007 14:11:51 +0000"  >&lt;p&gt;Committed Derby-1749-4.diff as svn 595662.&lt;/p&gt;

&lt;p&gt;Thanks for the good work, James!&lt;/p&gt;</comment>
                            <comment id="12543083" author="dagw" created="Fri, 16 Nov 2007 14:13:25 +0000"  >&lt;p&gt;Assigned this to you James, since you did most of the work.&lt;/p&gt;</comment>
                            <comment id="12543085" author="dagw" created="Fri, 16 Nov 2007 14:19:37 +0000"  >&lt;p&gt;Committed patch d1749-rrefsqlj28468.dita.diff to the documentation trunk&lt;br/&gt;
as svn 595671. Thanks Thomas! &lt;/p&gt;

&lt;p&gt;Removing release note needed flag as per the discussion we had, see previous comments.&lt;/p&gt;

&lt;p&gt;Resolving.&lt;/p&gt;</comment>
                            <comment id="12561070" author="dagw" created="Mon, 21 Jan 2008 17:14:41 +0000"  >&lt;p&gt;Did not hear back from reporter, so closing.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12394049">DERBY-3626</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12383725">DERBY-3242</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12383724">DERBY-3241</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12368418" name="DERBY-1749.diff" size="598" author="dagw" created="Thu, 25 Oct 2007 22:41:09 +0100"/>
                            <attachment id="12369292" name="Derby-1749-2.txt" size="981" author="james.f.adams" created="Sat, 10 Nov 2007 13:34:08 +0000"/>
                            <attachment id="12369505" name="Derby-1749-3.diff" size="5373" author="james.f.adams" created="Wed, 14 Nov 2007 12:33:47 +0000"/>
                            <attachment id="12369661" name="Derby-1749-4.diff" size="6755" author="dagw" created="Fri, 16 Nov 2007 14:08:43 +0000"/>
                            <attachment id="12369366" name="d1749-ref-single.html.diff" size="2329" author="thomanie" created="Mon, 12 Nov 2007 12:08:54 +0000"/>
                            <attachment id="12369508" name="d1749-ref-single.html.diff-2" size="2391" author="thomanie" created="Wed, 14 Nov 2007 13:20:19 +0000"/>
                            <attachment id="12369510" name="d1749-rrefsqlj28468.dita.diff" size="1058" author="thomanie" created="Wed, 14 Nov 2007 13:20:19 +0000"/>
                            <attachment id="12369367" name="d1749-rrefsqlj28468.html.diff" size="531" author="thomanie" created="Mon, 12 Nov 2007 12:08:54 +0000"/>
                            <attachment id="12369509" name="d1749-rrefsqlj28468.html.diff-2" size="593" author="thomanie" created="Wed, 14 Nov 2007 13:20:19 +0000"/>
                            <attachment id="12369612" name="releaseNote.html" size="3861" author="thomanie" created="Thu, 15 Nov 2007 19:06:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>10.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 24 Oct 2006 08:43:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30128</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0siv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38439</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>