<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:51:06 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-4270/DERBY-4270.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-4270] Make replication tests save derby.log and database when a failure occurs.</title>
                <link>https://issues.apache.org/jira/browse/DERBY-4270</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Currently, derby.log is saved when a failure happens for most JUnit test. Replication tests use&lt;br/&gt;
special subdirectories, so derby.log and the database files are not saved in the failure directory for these tests.&lt;br/&gt;
It would be good to fix this to help diagnose intermittent errors.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12427771">DERBY-4270</key>
            <summary>Make replication tests save derby.log and database when a failure occurs.</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dagw">Dag H. Wanvik</assignee>
                                    <reporter username="dagw">Dag H. Wanvik</reporter>
                        <labels>
                    </labels>
                <created>Fri, 12 Jun 2009 19:18:46 +0100</created>
                <updated>Thu, 30 Jul 2009 00:25:50 +0100</updated>
                            <resolved>Tue, 16 Jun 2009 10:59:39 +0100</resolved>
                                                    <fixVersion>10.5.3.0</fixVersion>
                    <fixVersion>10.6.1.0</fixVersion>
                                    <component>Replication</component>
                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12718935" author="dagw" created="Fri, 12 Jun 2009 19:34:08 +0100"  >&lt;p&gt;Uploading a fix which adds an overload of JUnit&apos;s runBare method to&lt;br/&gt;
ReplicationRun. This methods first calls BaseTestCase&apos;s version, and&lt;br/&gt;
then additionally saves away the log and db files for the two common&lt;br/&gt;
replication directories sb_slave and db_master.&lt;/p&gt;

&lt;p&gt;Injecting a bug in a replication test, I see this subdirectory in failure dir:&lt;/p&gt;

&lt;p&gt;../fail/Embedded_40/ReplicationRun_Local_3_p4/testReplication_Local_3_p4_StateNegativeTests:&lt;br/&gt;
  :&lt;br/&gt;
  &lt;del&gt;rw-r&lt;/del&gt;&lt;del&gt;r&lt;/del&gt;-   1 dw136774    66797 Jun 12 20:26 db_master-derby.log&lt;br/&gt;
  drwxr-xr-x   4 dw136774      512 Jun 12 20:26 db_master-wombat&lt;br/&gt;
  &lt;del&gt;rw-r&lt;/del&gt;&lt;del&gt;r&lt;/del&gt;-   1 dw136774    12863 Jun 12 20:26 db_slave-derby.log&lt;br/&gt;
  drwxr-xr-x   4 dw136774      512 Jun 12 20:26 db_slave-wombat&lt;br/&gt;
  &lt;del&gt;rw-r&lt;/del&gt;&lt;del&gt;r&lt;/del&gt;-   1 dw136774     2250 Jun 12 20:26 error-stacktrace.out&lt;/p&gt;

&lt;p&gt;so it seems to work as expected.&lt;/p&gt;</comment>
                            <comment id="12720029" author="dagw" created="Tue, 16 Jun 2009 10:59:39 +0100"  >&lt;p&gt;Committed patch derby-4270-2 as svn 785139, resolving.&lt;/p&gt;</comment>
                            <comment id="12736908" author="dagw" created="Thu, 30 Jul 2009 00:25:13 +0100"  >&lt;p&gt;Backported to 10.5 as svn 799121.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12410777" name="derby-4270-2.diff" size="5704" author="dagw" created="Tue, 16 Jun 2009 11:00:12 +0100"/>
                            <attachment id="12410778" name="derby-4270-2.stat" size="171" author="dagw" created="Tue, 16 Jun 2009 11:00:12 +0100"/>
                            <attachment id="12410504" name="derby-4270.diff" size="3417" author="dagw" created="Fri, 12 Jun 2009 19:34:08 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31182</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0rxz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38345</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>