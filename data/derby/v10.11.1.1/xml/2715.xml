<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:20:34 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-2715/DERBY-2715.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-2715] AssertionFailedError in LobStreamsTest and ClobUpdateableReaderTest on WinXP, Win2003</title>
                <link>https://issues.apache.org/jira/browse/DERBY-2715</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>
&lt;p&gt;&lt;a href=&quot;http://dbtg.thresher.com/derby/test/Daily/jvm1.4/testing/testlog/w2003/541997-suitesAll_diff.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dbtg.thresher.com/derby/test/Daily/jvm1.4/testing/testlog/w2003/541997-suitesAll_diff.txt&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://dbtg.thresher.com/derby/test/Daily/jvm1.5/testing/testlog/w2003/541997-suitesAll_diff.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dbtg.thresher.com/derby/test/Daily/jvm1.5/testing/testlog/w2003/541997-suitesAll_diff.txt&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://dbtg.thresher.com/derby/test/Daily/jvm1.6/testing/testlog/w2003/541997-suitesAll_diff.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dbtg.thresher.com/derby/test/Daily/jvm1.6/testing/testlog/w2003/541997-suitesAll_diff.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://dbtg.thresher.com/derby/test/trunk15/jvm1.5/testing/testlog/CYGWIN_NT-5.1_i686-unknown/542008-org.apache.derbyTesting.functionTests.suites.All_diff.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dbtg.thresher.com/derby/test/trunk15/jvm1.5/testing/testlog/CYGWIN_NT-5.1_i686-unknown/542008-org.apache.derbyTesting.functionTests.suites.All_diff.txt&lt;/a&gt;&lt;/p&gt;

</description>
                <environment>OS: WinXP, Win Vista, Win2003&lt;br/&gt;
VM: Sun 1.4, 1.5, 1.6</environment>
        <key id="12370414">DERBY-2715</key>
            <summary>AssertionFailedError in LobStreamsTest and ClobUpdateableReaderTest on WinXP, Win2003</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="anurag">Anurag Shekhar</assignee>
                                    <reporter username="olesolberg">Ole Solberg</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 May 2007 16:43:19 +0100</created>
                <updated>Thu, 2 May 2013 03:29:05 +0100</updated>
                            <resolved>Thu, 14 Jun 2007 21:25:48 +0100</resolved>
                                    <version>10.3.1.4</version>
                                    <fixVersion>10.3.1.4</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12499610" author="mikem" created="Mon, 28 May 2007 18:14:52 +0100"  >&lt;p&gt;I saw these same errors in a windows xp client at revision 542155 running ibm15 jvm.&lt;/p&gt;</comment>
                            <comment id="12499974" author="mikem" created="Wed, 30 May 2007 00:37:12 +0100"  >&lt;p&gt;Is anyone planning on looking at these failures, I see them consistently on my machine.  They look like they are consistently affecting a number of the publically reported regression suite runs.  It would be nice to get clean public  regression runs before considering making a release.&lt;/p&gt;</comment>
                            <comment id="12499975" author="mikem" created="Wed, 30 May 2007 00:39:39 +0100"  >&lt;p&gt;Failing against number of ibm jvms, here are a few off of the 542374  build.&lt;br/&gt;
&lt;a href=&quot;http://people.apache.org/~fuzzylogic/derby_test_results/main/testlog/ibm142/542374-suites.All_diff.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://people.apache.org/~fuzzylogic/derby_test_results/main/testlog/ibm142/542374-suites.All_diff.txt&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://people.apache.org/~fuzzylogic/derby_test_results/main/testSummary-542374.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://people.apache.org/~fuzzylogic/derby_test_results/main/testSummary-542374.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12499985" author="myrna" created="Wed, 30 May 2007 01:34:17 +0100"  >&lt;p&gt;Judging by the test results on thresher, this first started occurring&lt;br/&gt;
after commits of 541977&lt;br/&gt;
(&lt;a href=&quot;http://svn.apache.org/viewvc?view=rev&amp;amp;revision=541977&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc?view=rev&amp;amp;revision=541977&lt;/a&gt;) and 541981&lt;br/&gt;
(&lt;a href=&quot;http://svn.apache.org/viewvc?view=rev&amp;amp;revision=541981&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc?view=rev&amp;amp;revision=541981&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="12500054" author="knutanders" created="Wed, 30 May 2007 09:01:00 +0100"  >&lt;p&gt;The &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2379&quot; title=&quot;provide encryption support for temporary files used by lob if the data base is encrypted&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2379&quot;&gt;&lt;del&gt;DERBY-2379&lt;/del&gt;&lt;/a&gt; check-in seems like the most likely culprit. I would guess that there are unclosed temporary files which prevent the database directory from being removed.&lt;/p&gt;</comment>
                            <comment id="12500065" author="anurag" created="Wed, 30 May 2007 09:29:04 +0100"  >&lt;p&gt;I am planning to post a patch which will do file cleanup once connection is closed or transaction is commited/rolled back. that patch should take care of this issue.&lt;/p&gt;</comment>
                            <comment id="12502057" author="kmarsden" created="Wed, 6 Jun 2007 20:19:27 +0100"  >&lt;p&gt;Still seeing this 6/5  10.3.0.0 alpha - (544701)&lt;br/&gt;
Is the patch attached to another issue?&lt;/p&gt;</comment>
                            <comment id="12503532" author="army" created="Mon, 11 Jun 2007 19:28:13 +0100"  >&lt;p&gt;Note the similarity between the stack trace for this failure and the one for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2636&quot; title=&quot;ImportExportProcedureTestjunit.framework.AssertionFailedError encountered running full junit test suite&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2636&quot;&gt;&lt;del&gt;DERBY-2636&lt;/del&gt;&lt;/a&gt;.  May be relevant, maybe not...&lt;/p&gt;</comment>
                            <comment id="12503977" author="anurag" created="Tue, 12 Jun 2007 20:50:54 +0100"  >&lt;p&gt;There are two left over files in tmp directory causing this failure. This patch takes &lt;br/&gt;
care of removing one file. Another file will be removed once derby-2787 is committed.&lt;/p&gt;

&lt;p&gt;I tried this patch along with derby-2787 and both LobStreamsTest and &lt;br/&gt;
ClobUpdateableReaderTest runs cleanly under windows 2000. I am assuming &lt;br/&gt;
it will run fine under 2003 and XP too.&lt;/p&gt;</comment>
                            <comment id="12503979" author="anurag" created="Tue, 12 Jun 2007 20:52:56 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2787&quot; title=&quot;make entry for clob in connection so that temporary file is removed when a connection is closed or transaction is commited/rolledback&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2787&quot;&gt;&lt;del&gt;DERBY-2787&lt;/del&gt;&lt;/a&gt; is partial fix for this bug.&lt;/p&gt;</comment>
                            <comment id="12503980" author="anurag" created="Tue, 12 Jun 2007 20:56:11 +0100"  >&lt;p&gt;I haven&apos;t yet tried suites.All wil this patch. I post results of suites.All latter.&lt;/p&gt;</comment>
                            <comment id="12503998" author="kmarsden" created="Tue, 12 Jun 2007 21:49:01 +0100"  >&lt;p&gt;Hi Anurag,&lt;/p&gt;

&lt;p&gt;I have a question about LobStreamsTest in general.  Should a test in the  functional test suite be using internal interfaces?&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;

&lt;p&gt;Kathey&lt;/p&gt;</comment>
                            <comment id="12504133" author="anurag" created="Wed, 13 Jun 2007 07:15:03 +0100"  >&lt;p&gt;LobStreamsTest and ClobUpdateableReaderTest are not &lt;br/&gt;
using any internal interfaces. The file generated are &lt;br/&gt;
results of some of the operations performed (setString &lt;br/&gt;
and Writer.write). The bug this patch address is to delete &lt;br/&gt;
the abandoned before switching to new file.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2787&quot; title=&quot;make entry for clob in connection so that temporary file is removed when a connection is closed or transaction is commited/rolledback&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2787&quot;&gt;&lt;del&gt;DERBY-2787&lt;/del&gt;&lt;/a&gt; address the issue of deleting file once Clob &lt;br/&gt;
is no longer usable (due to commit/rollback &lt;br/&gt;
or closed connection)&lt;/p&gt;</comment>
                            <comment id="12504635" author="anurag" created="Thu, 14 Jun 2007 11:16:41 +0100"  >&lt;p&gt;My previous patch had a bug (i was deleting wrong file). I have fixed it in this patch. suites.All runs fine with the patch. I have run suites.All on linux.&lt;/p&gt;

&lt;p&gt;I will appreciate if some one can try running jdbcapi/ClobUpdateableReaderTest on windows with this patch.&lt;/p&gt;</comment>
                            <comment id="12504755" author="olesolberg" created="Thu, 14 Jun 2007 15:46:53 +0100"  >&lt;p&gt;I ran jdbcapi/ClobUpdateableReaderTest and suites.All on windows with&lt;br/&gt;
your patch and did not see the failure signature of &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2715&quot; title=&quot;AssertionFailedError in LobStreamsTest and ClobUpdateableReaderTest on WinXP, Win2003&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2715&quot;&gt;&lt;del&gt;DERBY-2715&lt;/del&gt;&lt;/a&gt; in the logs.&lt;/p&gt;


&lt;p&gt;Output from jdbcapi/ClobUpdateableReaderTest (also using&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2316&quot; title=&quot;Convert compatibility/testScript.xml to JUnit&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2316&quot;&gt;&lt;del&gt;DERBY-2316&lt;/del&gt;&lt;/a&gt;/derby-2316_v3.diff.txt):&lt;br/&gt;
.&lt;br/&gt;
testUpdateableStoreReader used 9984ms .&lt;br/&gt;
testUpdateableReader used 766ms .&lt;br/&gt;
testUpdateableStoreReader used 4344ms .&lt;br/&gt;
testUpdateableReader used 1109ms&lt;br/&gt;
Time: 26,578&lt;/p&gt;

&lt;p&gt;OK (4 tests)&lt;/p&gt;



&lt;p&gt;(For suites.All there were other failures/errors in the upgrade tests&lt;br/&gt;
however due to the fact I do not have the old derby jars available on&lt;br/&gt;
the win test machine.)&lt;/p&gt;
</comment>
                            <comment id="12504766" author="anurag" created="Thu, 14 Jun 2007 16:05:25 +0100"  >&lt;p&gt;Thanks Ole for doing this.&lt;/p&gt;

&lt;p&gt;The patch has been run on windows without any&lt;br/&gt;
related failures. I have run the patch on my linux&lt;br/&gt;
system without any failures.&lt;/p&gt;

&lt;p&gt;I request for this patch to be considered for a commit.&lt;/p&gt;
</comment>
                            <comment id="12504898" author="myrna" created="Thu, 14 Jun 2007 21:25:48 +0100"  >&lt;p&gt;I committed the (misnamed) patch derby2815v2 with revision 547394.&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?view=rev&amp;amp;revision=547394&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc?view=rev&amp;amp;revision=547394&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12505193" author="olesolberg" created="Fri, 15 Jun 2007 13:23:15 +0100"  >&lt;p&gt;Correction to my Comment &quot;Ole Solberg - &lt;span class=&quot;error&quot;&gt;&amp;#91;14/Jun/07 07:46 AM &amp;#93;&lt;/span&gt;&quot;:&lt;/p&gt;

&lt;p&gt;&amp;lt; Output from jdbcapi/ClobUpdateableReaderTest (also using &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2316&quot; title=&quot;Convert compatibility/testScript.xml to JUnit&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2316&quot;&gt;&lt;del&gt;DERBY-2316&lt;/del&gt;&lt;/a&gt;/derby-2316_v3.diff.txt)&lt;/p&gt;

&lt;p&gt;&amp;gt; Output from jdbcapi/ClobUpdateableReaderTest (also using &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2667&quot; title=&quot;Improve diagnostic information for failed  derby JUnit tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2667&quot;&gt;&lt;del&gt;DERBY-2667&lt;/del&gt;&lt;/a&gt;/JUnitMethodTrace.diff.txt , JUnitMethodTrace_Extra.diff.txt )&lt;/p&gt;</comment>
                            <comment id="12505432" author="olesolberg" created="Sat, 16 Jun 2007 07:27:16 +0100"  >&lt;p&gt;Verified OK in last nights tests.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12370514">DERBY-2729</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12363734">DERBY-2379</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12371226">DERBY-2787</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12359545" name="derby-2715.diff" size="2664" author="anurag" created="Tue, 12 Jun 2007 20:50:54 +0100"/>
                            <attachment id="12359709" name="derby-2815v2.diff" size="2722" author="anurag" created="Thu, 14 Jun 2007 11:16:41 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10369"><![CDATA[Regression Test Failure]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 28 May 2007 17:14:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23199</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0vbb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38891</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>