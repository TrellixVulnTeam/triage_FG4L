<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:44:24 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-1241/DERBY-1241.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-1241] When booting a database under security manager,  boot may  fail with message java.sql.SQLException: Java exception: &apos;access denied (java.io.FilePermission   for  logmirror.ctrl   if database was not shutdown cleanly after  previous access</title>
                <link>https://issues.apache.org/jira/browse/DERBY-1241</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;logmirror.ctrl is getting accessed outside the privileged block when the checkpoint instant is invalid  on log factory boot method and cause this failure on boot if  the database was not shutdown cleanly.  The reproduction  (see comment) shows that can happens after database creation. &lt;/p&gt;

&lt;p&gt;This problem was reported on the derby-dev list  by Olav Sandstaa , filing jira entry  for it. &lt;/p&gt;

&lt;p&gt;Olav Sandstaa wrote:&lt;/p&gt;

&lt;p&gt;&amp;gt; Rick Hillegas &amp;lt;Richard.Hillegas@Sun.COM&amp;gt; wrote:&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; java.sql.SQLException: Java exception: &apos;access denied (java.io.FilePermission /export/home/tmp/derbyjdbc4/DerbyNetClient/TestConnectionMethods/wombat/log/logmirror.ctrl read): java.security.AccessControlException&apos;.&lt;br/&gt;
&amp;gt;     at java.security.AccessControlContext.checkPermission(AccessControlContext.java:321)&lt;br/&gt;
&amp;gt;     at java.security.AccessController.checkPermission(AccessController.java:546)&lt;br/&gt;
&amp;gt;     at java.lang.SecurityManager.checkPermission(SecurityManager.java:532)&lt;br/&gt;
&amp;gt;     at java.lang.SecurityManager.checkRead(SecurityManager.java:871)&lt;br/&gt;
&amp;gt;     at java.io.File.exists(File.java:731)&lt;br/&gt;
&amp;gt;     at org.apache.derby.impl.store.raw.log.LogToFile.boot(LogToFile.java:2940)&lt;br/&gt;
&amp;gt;     at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.java:1996)&lt;br/&gt;
&amp;gt;     at org.apache.derby.impl.services.monitor.TopService.bootModule(TopService.java:290)&lt;br/&gt;
&amp;gt;     at org.apache.derby.impl.services.monitor.BaseMonitor.startModule(BaseMonitor.java:542)&lt;br/&gt;
&amp;gt;     at org.apache.derby.iapi.services.monitor.Monitor.bootServiceModule(Monitor.java:418)&lt;br/&gt;
&amp;gt;     at org.apache.derby.impl.store.raw.data.BaseDataFileFactory.bootLogFactory(BaseDataFileFactory.java:1762)&lt;br/&gt;
&amp;gt;     at org.apache.derby.impl.store.raw.data.BaseDataFileFactory.setRawStoreFactory(BaseDataFileFactory.java:1218)&lt;br/&gt;
&amp;gt;     at org.apache.derby.impl.store.raw.RawStore.boot(RawStore.java:250)&lt;br/&gt;
&amp;gt;     at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.java:1996)&lt;br/&gt;
&amp;gt;     at org.apache.derby.impl.services.monitor.TopService.bootModule(TopService.java:290)&lt;br/&gt;
&amp;gt;     at org.apache.derby.impl.services.monitor.BaseMonitor.startModule(BaseMonitor.java:542)&lt;br/&gt;
&amp;gt;     at org.apache.derby.iapi.services.monitor.Monitor.bootServiceModule(Monitor.java:418)&lt;br/&gt;
&amp;gt;     at org.apache.derby.impl.store.access.RAMAccessManager.boot(RAMAccessManager.java:987)&lt;br/&gt;
&amp;gt;     at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.java:1996)&lt;br/&gt;
&amp;gt;     at org.apache.derby.impl.services.monitor.TopService.bootModule(TopService.java:290)&lt;br/&gt;
&amp;gt;     at org.apache.derby.impl.services.monitor.BaseMonitor.startModule(BaseMonitor.java:542)&lt;br/&gt;
&amp;gt;     at org.apache.derby.iapi.services.monitor.Monitor.bootServiceModule(Monitor.java:418)&lt;br/&gt;
&amp;gt;     at org.apache.derby.impl.db.BasicDatabase.bootStore(BasicDatabase.java:738)&lt;br/&gt;
&amp;gt;     at org.apache.derby.impl.db.BasicDatabase.boot(BasicDatabase.java:178)&lt;br/&gt;
&amp;gt;     at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.java:1996)&lt;br/&gt;
&amp;gt;     at org.apache.derby.impl.services.monitor.TopService.bootModule(TopService.java:290)&lt;br/&gt;
&amp;gt;     at org.apache.derby.impl.services.monitor.BaseMonitor.bootService(BaseMonitor.java:1831)&lt;br/&gt;
&amp;gt;     at org.apache.derby.impl.services.monitor.BaseMonitor.startProviderService(BaseMonitor.java:1697)&lt;br/&gt;
&amp;gt;     at org.apache.derby.impl.services.monitor.BaseMonitor.findProviderAndStartService(BaseMonitor.java:1577)&lt;br/&gt;
&amp;gt;     at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentService(BaseMonitor.java:990)&lt;br/&gt;
&amp;gt;     at org.apache.derby.iapi.services.monitor.Monitor.startPersistentService(Monitor.java:541)&lt;br/&gt;
&amp;gt;     at org.apache.derby.impl.jdbc.EmbedConnection.bootDatabase(EmbedConnection.java:1586)&lt;br/&gt;
&amp;gt;     at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(EmbedConnection.java:216)&lt;br/&gt;
&amp;gt;     at org.apache.derby.impl.jdbc.EmbedConnection30.&amp;lt;init&amp;gt;(EmbedConnection30.java:72)&lt;br/&gt;
&amp;gt;     at org.apache.derby.impl.jdbc.EmbedConnection40.&amp;lt;init&amp;gt;(EmbedConnection40.java:48)&lt;br/&gt;
&amp;gt;     at org.apache.derby.jdbc.Driver40.getNewEmbedConnection(Driver40.java:62)&lt;br/&gt;
&amp;gt;     at org.apache.derby.jdbc.InternalDriver.connect(InternalDriver.java:199)&lt;br/&gt;
&amp;gt;     at org.apache.derby.impl.drda.Database.makeConnection(Database.java:231)&lt;br/&gt;
&amp;gt;     at org.apache.derby.impl.drda.DRDAConnThread.getConnFromDatabaseName(DRDAConnThread.java:1147)&lt;br/&gt;
&amp;gt;     at org.apache.derby.impl.drda.DRDAConnThread.verifyUserIdPassword(DRDAConnThread.java:1125)&lt;br/&gt;
&amp;gt;     at org.apache.derby.impl.drda.DRDAConnThread.parseSECCHK(DRDAConnThread.java:2709)&lt;br/&gt;
&amp;gt;     at org.apache.derby.impl.drda.DRDAConnThread.parseDRDAConnection(DRDAConnThread.java:987)&lt;br/&gt;
&amp;gt;     at org.apache.derby.impl.drda.DRDAConnThread.processCommands(DRDAConnThread.java:830)&lt;br/&gt;
&amp;gt;     at org.apache.derby.impl.drda.DRDAConnThread.run(DRDAConnThread.java:236)&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; The security exception is raised when Derby tries to get access to the&lt;br/&gt;
&amp;gt; log/logmirror.ctrl file during the second startup of the database. I&lt;br/&gt;
&amp;gt; would have expected that since this file was created earlier during&lt;br/&gt;
&amp;gt; the initial startup of the test, the test should already have the&lt;br/&gt;
&amp;gt; required security permissions to access it during the second startup?&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; Anyway, the best solution to this problem would be to be able to reuse&lt;br/&gt;
&amp;gt; functionality that already might exist in the test framework. Any&lt;br/&gt;
&amp;gt; suggestions are appreciated.&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; Regards,&lt;br/&gt;
&amp;gt; Olav&lt;br/&gt;
&amp;gt;&lt;/p&gt;

&lt;p&gt;By looking at the stack it looks like log/logmirror.ctrl  is not getting accessed in the privileged block at  line 2940 in LogToFile.java.&lt;br/&gt;
if (checkpointInstant == LogCounter.INVALID_LOG_INSTANT &amp;amp;&amp;amp;                     getMirrorControlFileName().exists())&lt;/p&gt;

&lt;p&gt;Not sure how you got checkpointInstant to be INVALID , may be your test program might have exited before a first valid checkpoint. Any one fixing this bugs should make sure that is the case.&lt;/p&gt;

&lt;p&gt;In any case  call to exists should have been privExists(getMirrorControlFileName()).&lt;/p&gt;


&lt;p&gt;Please file a Jira entry  with information on how to reproduce this bug.&lt;/p&gt;


&lt;p&gt;Thanks&lt;br/&gt;
-suresh&lt;/p&gt;</description>
                <environment></environment>
        <key id="12332459">DERBY-1241</key>
            <summary>When booting a database under security manager,  boot may  fail with message java.sql.SQLException: Java exception: &apos;access denied (java.io.FilePermission   for  logmirror.ctrl   if database was not shutdown cleanly after  previous access</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="myrna">Myrna van Lunteren</assignee>
                                    <reporter username="tsuresh">Suresh Thalamati</reporter>
                        <labels>
                    </labels>
                <created>Fri, 21 Apr 2006 07:34:57 +0100</created>
                <updated>Mon, 14 May 2007 18:52:33 +0100</updated>
                            <resolved>Wed, 2 Aug 2006 00:44:39 +0100</resolved>
                                                    <fixVersion>10.2.1.6</fixVersion>
                                    <component>Store</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12423822" author="andreask" created="Thu, 27 Jul 2006 12:51:09 +0100"  >&lt;p&gt;The following scenario reproduced this problem:&lt;/p&gt;

&lt;p&gt;1. Start Network server with security manager enabled&lt;br/&gt;
2. Use ij to connect to the server and create a database&lt;br/&gt;
3. Stop Network server using Ctrl-c (i.e do not shut down database gracefully)&lt;br/&gt;
4. Restart Network server with security manager enabled&lt;br/&gt;
5. Use ij to connect to the server and connect to the database previously created&lt;/p&gt;
</comment>
                            <comment id="12423839" author="kmarsden" created="Thu, 27 Jul 2006 14:36:43 +0100"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Changed priority to Critical since datbase won&apos;t boot .&lt;/li&gt;
	&lt;li&gt;Changed summary to reflect the user symptom and moved code issue description into the Description field&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Does this issue exist in 10.1?&lt;br/&gt;
What is the user workaround for this issue?  Would it work to boot the database once without security manager to recover?&lt;/p&gt;</comment>
                            <comment id="12423884" author="myrna" created="Thu, 27 Jul 2006 19:25:21 +0100"  >&lt;p&gt;I tried my scenario (see &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1598&quot; title=&quot;unable to boot exisiting database from network server when running with security manager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1598&quot;&gt;&lt;del&gt;DERBY-1598&lt;/del&gt;&lt;/a&gt;, marked as duplicate to this one) with 10.1.3.1 (build 417277) and instead of a java.security.AccessControlException I get a NullPointerException:&lt;br/&gt;
--------&lt;del&gt;10.1.3.1 derby.log&lt;/del&gt;(sorry, insane jars-no line numbers)----------&lt;br/&gt;
2006-07-27 17:55:40.578 GMT Thread&lt;span class=&quot;error&quot;&gt;&amp;#91;DRDAConnThread_2,5,main&amp;#93;&lt;/span&gt; Cleanup action starting&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
        at org.apache.derby.impl.store.raw.log.LogToFile.getFirstLogNeeded(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.store.raw.log.LogToFile.deleteObsoleteLogfiles(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.store.raw.log.LogToFile.stop(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.TopService.stop(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.TopService.shutdown(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.bootService(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.startProviderService(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.findProviderAndStartService(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentService(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentService(Unknown Source)&lt;br/&gt;
        at org.apache.derby.iapi.services.monitor.Monitor.startPersistentService(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.EmbedConnection.bootDatabase(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.EmbedConnection30.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
        at org.apache.derby.jdbc.Driver30.getNewEmbedConnection(Unknown Source)&lt;br/&gt;
        at org.apache.derby.jdbc.InternalDriver.connect(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.drda.Database.makeConnection(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.drda.DRDAConnThread.getConnFromDatabaseName(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.drda.DRDAConnThread.verifyUserIdPassword(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.drda.DRDAConnThread.parseSECCHK(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.drda.DRDAConnThread.parseDRDAConnection(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.drda.DRDAConnThread.processCommands(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.drda.DRDAConnThread.run(Unknown Source)&lt;br/&gt;
-----------------------------------------&lt;br/&gt;
I guess getting a security exception is an improvement of sorts.&lt;br/&gt;
Subsequent connects in the same session in 10.1.3.1 give &lt;br/&gt;
ERROR 08004: The application server rejected establishment of the connection.  An attempt was made to access a database, tstdb101, which was not found.&lt;/p&gt;

&lt;p&gt;In my scenario, the workaround for the 10.2 problem (adding permissions to read, write, delete under derby.system.home already granted to derby.jar also to derbynet.jar) also gets around the 10.1.3.1 NPE./08004; and thereafter, I can reset the policy file and bounce the server  and reconnect as much as I want. &lt;/p&gt;

&lt;p&gt;And yes, this trick works with 10.2 also.&lt;/p&gt;



</comment>
                            <comment id="12423890" author="myrna" created="Thu, 27 Jul 2006 19:35:04 +0100"  >&lt;p&gt;I&apos;m attaching the &apos;current&apos; derby_tests.policy file that I used in my scenario to get the problem - for historical reference. &lt;/p&gt;</comment>
                            <comment id="12423913" author="rhillegas" created="Thu, 27 Jul 2006 21:50:08 +0100"  >&lt;p&gt;Bumping urgency.&lt;/p&gt;</comment>
                            <comment id="12423935" author="tsuresh" created="Thu, 27 Jul 2006 22:40:45 +0100"  >&lt;p&gt;fix  might be  simple one line chage of calling file.exists on mirror control file  in the privileged block.  I wanted to write a reproducible/consistent regression test fot this bug,  never got around to it.  Unassigning myself  for this bug,  I am busy  with  re-encryption work ,  don&apos;t have time to write the test now.    &lt;/p&gt;


&lt;p&gt;Thanks&lt;br/&gt;
-suresh&lt;/p&gt;






</comment>
                            <comment id="12424261" author="kmarsden" created="Sat, 29 Jul 2006 03:07:40 +0100"  >&lt;p&gt;marking this 10.2. It was already urgent and critical and It seems like a simple fix with big benefit for 10.2&lt;/p&gt;</comment>
                            <comment id="12424655" author="myrna" created="Mon, 31 Jul 2006 22:01:57 +0100"  >&lt;p&gt;I will apply the fix suggested, run derbyall, test the fix manually in the scenario I found &amp;amp; the other one described, and create a patch for 10.2.&lt;br/&gt;
Then I will add another JIRA issue to indicate we need a regression test later.&lt;/p&gt;</comment>
                            <comment id="12425026" author="myrna" created="Tue, 1 Aug 2006 22:22:55 +0100"  >&lt;p&gt;I&apos;m attaching a patch -&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1241&quot; title=&quot;When booting a database under security manager,  boot may  fail with message java.sql.SQLException: Java exception: &amp;#39;access denied (java.io.FilePermission   for  logmirror.ctrl   if database was not shutdown cleanly after  previous access&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1241&quot;&gt;&lt;del&gt;DERBY-1241&lt;/del&gt;&lt;/a&gt;_20060801.diff - that fixes the reproducible case described in this bug, using the fix suggested by Andreas in &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1598&quot; title=&quot;unable to boot exisiting database from network server when running with security manager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1598&quot;&gt;&lt;del&gt;DERBY-1598&lt;/del&gt;&lt;/a&gt;, and ran derbyall on it.&lt;br/&gt;
As expected (because derbyall never caught this problem) I saw no unexpected failures (failed: wisconsin (&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1625&quot; title=&quot;wisconsin test unable to establish connection&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1625&quot;&gt;&lt;del&gt;DERBY-1625&lt;/del&gt;&lt;/a&gt;), TransactionTable(&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1626&quot; title=&quot;TransactionTable.sql fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1626&quot;&gt;&lt;del&gt;DERBY-1626&lt;/del&gt;&lt;/a&gt;)).&lt;/p&gt;
</comment>
                            <comment id="12425051" author="fuzzylogic" created="Tue, 1 Aug 2006 23:52:39 +0100"  >&lt;p&gt;This is a pretty obvious fix for a serious problem. I think we should get this in for 10.2, even if writing a proper regression test for it won&apos;t happen till later. And, I see that Myrna has also filed a JIRA for that so it won&apos;t drop off the radar.&lt;/p&gt;

&lt;p&gt;Does anyone object to committing this patch?&lt;/p&gt;</comment>
                            <comment id="12425062" author="fuzzylogic" created="Wed, 2 Aug 2006 00:44:39 +0100"  >&lt;p&gt;Verified manual test case. Committed to trunk with revision 427796. Seems like a good candidate for merging to 10.1 also.&lt;/p&gt;</comment>
                            <comment id="12425994" author="myrna" created="Sat, 5 Aug 2006 22:10:06 +0100"  >&lt;p&gt;The merge command gave me an error, so I prepared a patch for 10.1...However, I cannot now connect to that machine, and it will be about 2 weeks before I can.&lt;br/&gt;
&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
It&apos;s a minor thing, and unless we&apos;re making another 10.1 version I guess this can sit until I can access that box again.&lt;br/&gt;
If that changes, and a 10.1 patch is needed sooner, someone can easily change that one line.&lt;br/&gt;
I did test the repro case that caused NPEs and 08004 errors with 10.1 and it was fixed after applying the patch to 10.1 and derbyall ran fine.&lt;/p&gt;</comment>
                            <comment id="12432072" author="myrna" created="Fri, 1 Sep 2006 07:46:32 +0100"  >&lt;p&gt;Attaching the promised 10.1 patch. &lt;/p&gt;

&lt;p&gt;This is the merge comamnd I couldn&apos;t get to work: &lt;br/&gt;
svn merge -r 427795:427796 &lt;a href=&quot;https://svn.apache.org/repos/asf/derby/code/trunk&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/repos/asf/derby/code/trunk&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It gave me an error:&lt;/p&gt;

&lt;p&gt;svn: REPORT request failed on &apos;/repos/asf/!svn/vcc/default&apos;&lt;br/&gt;
svn:&lt;br/&gt;
Cannot replace a directory from within&lt;/p&gt;

&lt;p&gt;with the patched 10.1.3.1 insane jars derbyall ran with only 1 failed test: JapanCodeConversion (because of using a jre rather than jdk path).&lt;/p&gt;</comment>
                            <comment id="12432076" author="fuzzylogic" created="Fri, 1 Sep 2006 07:54:34 +0100"  >&lt;p&gt;I think the &apos;db&apos; part of the URL was missing. This command:&lt;/p&gt;

&lt;p&gt;svn merge -r 427795:427796 &lt;a href=&quot;https://svn.apache.org/repos/asf/db/derby/code/trunk/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/repos/asf/db/derby/code/trunk/&lt;/a&gt; .&lt;/p&gt;

&lt;p&gt;produced the expected merge.&lt;/p&gt;

&lt;p&gt;I committed the original patch and confirmed the above merge command worked as expected. Committed to 10.1 branch with revision 439213.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12347105">DERBY-1627</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12337929" name="DERBY-1241_20060801.diff" size="623" author="myrna" created="Tue, 1 Aug 2006 22:22:55 +0100"/>
                            <attachment id="12340020" name="DERBY-1421_101_20060802.diff" size="623" author="myrna" created="Fri, 1 Sep 2006 07:46:32 +0100"/>
                            <attachment id="12337658" name="derby_tests.policy" size="7634" author="myrna" created="Thu, 27 Jul 2006 19:35:04 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 27 Jul 2006 11:51:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22391</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10102"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy12av:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40023</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310050" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Urgency</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10051"><![CDATA[Urgent]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>