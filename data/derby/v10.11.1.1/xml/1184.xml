<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:54:14 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-1184/DERBY-1184.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-1184] &apos;CallableStatement.registerOutParameter(int,int,String)&apos; does nothing in client driver</title>
                <link>https://issues.apache.org/jira/browse/DERBY-1184</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;The method &apos;CallableStatement.registerOutParameter(int,int,String)&apos; does nothing in the client driver. As stated in &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-447&quot; title=&quot;getBoolean() throws data conversion exception for DECIMAL type in J2ME/CDC/Foundation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-447&quot;&gt;&lt;del&gt;DERBY-447&lt;/del&gt;&lt;/a&gt;, the method throws a not-implemented exception in the embedded driver. The method should be changed to do this on the client side as well.&lt;/p&gt;</description>
                <environment>Derby network client</environment>
        <key id="12331690">DERBY-1184</key>
            <summary>&apos;CallableStatement.registerOutParameter(int,int,String)&apos; does nothing in client driver</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bryanpendleton">Bryan Pendleton</assignee>
                                    <reporter username="kristwaa">Kristian Waagan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 6 Apr 2006 06:23:12 +0100</created>
                <updated>Tue, 12 Feb 2013 13:13:47 +0000</updated>
                            <resolved>Fri, 7 Apr 2006 23:34:07 +0100</resolved>
                                    <version>10.2.1.6</version>
                                    <fixVersion>10.2.1.6</fixVersion>
                                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12373435" author="kristwaa" created="Thu, 6 Apr 2006 07:09:12 +0100"  >&lt;p&gt;&apos;derby-1184-1a.diff&apos; changes the method CallableStatement.registerOutParameter(int,int,String) to throw a not-implemented exception. It was doing nothing before (no actions taken, no exceptions thrown except for the case where the method was called on a closed CallableStatement).&lt;/p&gt;

&lt;p&gt;derbyall is running. I will report tomorrow if there are problems, but I don&apos;t expect that to be the case since the method is probably not used in any tests.&lt;/p&gt;

&lt;p&gt;This patch fixes one of the differences between embedded and client driver reported in &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-477&quot; title=&quot;JDBC client and embedded drivers differ wrt API subset supported&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-477&quot;&gt;&lt;del&gt;DERBY-477&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="12373438" author="bryanpendleton" created="Thu, 6 Apr 2006 07:43:15 +0100"  >&lt;p&gt;This looks like a nice clean change, but shouldn&apos;t we add a test? Unless you find during your derbyall run that there already is a test, that is.&lt;/p&gt;</comment>
                            <comment id="12373442" author="kristwaa" created="Thu, 6 Apr 2006 08:29:42 +0100"  >&lt;p&gt;Yes, a test should be added, but since the existing test was canon based test, I did not find the time to add a test and update the canons. This is not my itch at the moment, I stumbled over this when working on a JDBC4 feature.&lt;br/&gt;
If it is of interest, I can add a test for this in the jdbc4/CallableStatementTest, but it would then only be run under JDK 1.6.&lt;br/&gt;
If the missing test is a blocker, I suggest the patch is put on hold until someone else find the time to write/update the test.&lt;/p&gt;

&lt;p&gt;I created the quick patch because I found the bug quite ugly; a method pretending everything is okay, when it actually does nothing...&lt;/p&gt;</comment>
                            <comment id="12373443" author="kristwaa" created="Thu, 6 Apr 2006 08:30:43 +0100"  >&lt;p&gt;I won&apos;t be working more on this for a long time... A test is missing, please add it &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12373508" author="bryanpendleton" created="Fri, 7 Apr 2006 01:36:02 +0100"  >&lt;p&gt;Thanks for contributing the patch, Kristian. I will see if there is a simple way for me to add a test for this change; I think I can see a way to do it.&lt;/p&gt;

&lt;p&gt;Unless there are any other comments on this issue, I&apos;ll commit this change once I get the test in place.&lt;/p&gt;</comment>
                            <comment id="12373561" author="bryanpendleton" created="Fri, 7 Apr 2006 10:08:54 +0100"  >&lt;p&gt;Here&apos;s my proposal for a regression test. Attached file &apos;derby_1184_with_test.diff&apos; is an updated patch file which includes Kristian&apos;s original change to CallableStatement.java and also includes a change to derbynet/callable.java to add a simple regression test.&lt;/p&gt;</comment>
                            <comment id="12373590" author="kristwaa" created="Fri, 7 Apr 2006 16:52:20 +0100"  >&lt;p&gt;derbyall run without failures (Solaris10, Java 1.5, 646 tests run).&lt;/p&gt;</comment>
                            <comment id="12373643" author="bryanpendleton" created="Fri, 7 Apr 2006 23:34:07 +0100"  >&lt;p&gt;Patch committed to subversion as revision 392304. Kristian, can you please confirm and close this issue? Thanks.&lt;/p&gt;</comment>
                            <comment id="12373649" author="kristwaa" created="Sat, 8 Apr 2006 00:13:56 +0100"  >&lt;p&gt;Code changes are okay and works as expected, but the test has become out of synch with the SQL states.  In revision 392060, the SQL state &quot;0AX01&quot; was replaced by &quot;0A000&quot;. I suggest a committer takes care of this simple change in the test derbynet/callable.java.&lt;/p&gt;

&lt;p&gt;When the test is updated, the issue can be closed.&lt;/p&gt;</comment>
                            <comment id="12373651" author="bryanpendleton" created="Sat, 8 Apr 2006 00:24:57 +0100"  >&lt;p&gt;Thanks for the good eyes, Kristian!&lt;/p&gt;

&lt;p&gt;I confirmed your finding, updated the test, and committed the changed test to subversion as revision 392313.&lt;/p&gt;

&lt;p&gt;Can you re-check that the test is now working correctly for you?&lt;/p&gt;</comment>
                            <comment id="12373686" author="kristwaa" created="Sat, 8 Apr 2006 06:34:39 +0100"  >&lt;p&gt;Confirmed that the test passes (DerbyNetClient only). Thanks for writing the test and fixing the problem Bryan!&lt;/p&gt;</comment>
                            <comment id="13576101" author="rhillegas" created="Mon, 11 Feb 2013 20:44:35 +0000"  >&lt;p&gt;Work on &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6000&quot; title=&quot;Implement support for JDBC 4.2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6000&quot;&gt;&lt;del&gt;DERBY-6000&lt;/del&gt;&lt;/a&gt; will undo work done on this issue. I am re-plumbing these methods so that they forward to overloads which don&apos;t have the typeName parameter. Derby does not need the type name in order to correctly dispatch these methods for UDT types. Since at least JDBC 3.0, the javadoc for these methods has said the following:&lt;/p&gt;

&lt;p&gt;&quot;A JDBC driver that does not need the type code and type name information may ignore it. To be portable, however, applications should always provide these values for user-defined and REF parameters. Although it is intended for user-defined and REF parameters, this method may be used to register a parameter of any JDBC type. If the parameter does not have a user-defined or REF type, the typeName parameter is ignored.&quot;&lt;/p&gt;</comment>
                            <comment id="13576293" author="dagw" created="Tue, 12 Feb 2013 02:01:42 +0000"  >&lt;p&gt;So, after your changes the method isn&apos;t vacuous as it was before this issue was resolved? If so, I guess the net effect of your changes is to ignore the typeName parameter, whereas before it thew an exception. Am i understanding this correctly? Does this change make network and embedded clients diverge in behavior on this?&lt;/p&gt;</comment>
                            <comment id="13576603" author="rhillegas" created="Tue, 12 Feb 2013 13:13:47 +0000"  >&lt;p&gt;Hi Dag,&lt;/p&gt;

&lt;p&gt;Yes, that&apos;s right. Now the typeName parameter is ignored as the javadoc requires. The client and embedded drivers do the same thing: instead of throwing an exception, the method is forwarded to CallableStatement.registerOutParameter( int, int ). Over the past several years, this method has had various behaviors on Derby depending on the driver:&lt;/p&gt;

&lt;p&gt;1) Vacuous. Silently does nothing.&lt;/p&gt;

&lt;p&gt;2) Throws an exception.&lt;/p&gt;

&lt;p&gt;3) Forwards to another overload.&lt;/p&gt;

&lt;p&gt;Now both drivers do (3).&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
-Rick&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12616758">DERBY-6000</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12324996" name="derby-1184-1a.diff" size="1121" author="kristwaa" created="Thu, 6 Apr 2006 07:09:12 +0100"/>
                            <attachment id="12324997" name="derby-1184-1a.stat" size="69" author="kristwaa" created="Thu, 6 Apr 2006 07:09:12 +0100"/>
                            <attachment id="12325025" name="derby_1184_with_test.diff" size="2481" author="bryanpendleton" created="Fri, 7 Apr 2006 10:08:52 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 6 Apr 2006 06:43:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22357</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10102"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy16wv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40770</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>