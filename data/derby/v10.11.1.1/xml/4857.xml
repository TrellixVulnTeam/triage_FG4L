<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:51:50 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-4857/DERBY-4857.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-4857] Utilize the SOAP API to fetch JIRA issue list for release notes generation</title>
                <link>https://issues.apache.org/jira/browse/DERBY-4857</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Somewhat simplified, the release manager (RM) must currently perform the following manual steps to feed the release note generate the data it needs:&lt;br/&gt;
 a) Create manual JIRA filter to select issues addressed by the release.&lt;br/&gt;
 b) Save the filter result to disk as XML.&lt;br/&gt;
 c) Write/modify the XML parser to be able to parse the report.&lt;br/&gt;
 d) Determine and record all JIRA release note attachment ids for the issues requiring a release note.&lt;/p&gt;

&lt;p&gt;By using the current version of the SOAP API (3.13.5), steps (b) to (d) can be removed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12477867">DERBY-4857</key>
            <summary>Utilize the SOAP API to fetch JIRA issue list for release notes generation</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kristwaa">Kristian Waagan</assignee>
                                    <reporter username="kristwaa">Kristian Waagan</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Oct 2010 14:45:25 +0100</created>
                <updated>Tue, 30 Nov 2010 09:25:34 +0000</updated>
                            <resolved>Thu, 11 Nov 2010 09:18:53 +0000</resolved>
                                    <version>10.7.1.1</version>
                                    <fixVersion>10.7.1.1</fixVersion>
                                    <component>Build tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12922969" author="kristwaa" created="Wed, 20 Oct 2010 15:02:14 +0100"  >&lt;p&gt;Attaching patch 1a, which contains the first revision of the described tool.&lt;/p&gt;

&lt;p&gt;Maven2 is required, to build do &apos;mvn -Pbuildclient&apos;. There exists another target in case the WSDL file has to be updated: &apos;mvn -Pfetch-wsdl&apos;.&lt;br/&gt;
&apos;mvn clean&apos; cleans up generated files.&lt;/p&gt;

&lt;p&gt;To test, run:&lt;br/&gt;
 o java -jar target/JiraSOAP-LATEST-jar-with-dependencies.jar&lt;br/&gt;
 o read the help text, re-run with proper arguments &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
 o run &apos;ant relnotes&apos; pointing at the file generated above to generate the release notes (as HTML)&lt;/p&gt;

&lt;p&gt;&amp;#8211; Apache Derby SOAP client for generating release notes &amp;#8211;&lt;/p&gt;

&lt;p&gt;The main purpose of this client is to fetch the required information from&lt;br/&gt;
JIRA, such that the release manager can generate the release notes.&lt;br/&gt;
This tool does not generate the release notes, but provides some of the&lt;br/&gt;
information for the tool doing that.&lt;/p&gt;

&lt;p&gt;Usage:&lt;br/&gt;
  o &amp;lt;USER&amp;gt; &amp;lt;PASSWORD&amp;gt; &amp;lt;VERSION&amp;gt; &amp;lt;FILTERID&amp;gt; &amp;lt;DESTINATION_FILE&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;lt;REMOVE_ISSUES&amp;gt;&amp;#93;&lt;/span&gt;&lt;br/&gt;
    generates a list of fixed issues for the specified release version,&lt;br/&gt;
    which can be processed by the ReleaseNotesGenerator tool&lt;br/&gt;
  o &amp;lt;USER&amp;gt; &amp;lt;PASSWORD&amp;gt; ancestors &amp;lt;VERSION&amp;gt;&lt;br/&gt;
    prints the ancestors of the specified version&lt;br/&gt;
    (only released versions can be ancestor)&lt;/p&gt;

&lt;p&gt;Argument values:&lt;br/&gt;
  o VERSION&lt;br/&gt;
      Derby version string, i.e. 10.6.2.1&lt;br/&gt;
  o FILTERID&lt;br/&gt;
      JIRA id, only digits allowed&lt;/p&gt;

&lt;p&gt;&amp;#8212;&lt;/p&gt;

&lt;p&gt;What remains:&lt;br/&gt;
 o more testing&lt;br/&gt;
 o does the client to anything useful?&lt;br/&gt;
 o does it need to do anything else?&lt;br/&gt;
 o integrate with &apos;ant relnotes&apos; target?&lt;/p&gt;</comment>
                            <comment id="12922981" author="kristwaa" created="Wed, 20 Oct 2010 15:28:16 +0100"  >&lt;p&gt;I see that I forgot to document &amp;lt;REMOVE_ISSUES&amp;gt;, which defaults to true.&lt;br/&gt;
It decides if the results from the JIRA filter is filtered against the set of ancestors., i.e. if an issue is marked as fixed in both the target release version and one of the ancestors it will be removed (not included in the release notes).&lt;/p&gt;</comment>
                            <comment id="12923152" author="rhillegas" created="Wed, 20 Oct 2010 21:22:21 +0100"  >&lt;p&gt;Thanks for the patch, Kristian. I have taken a look at it and have a couple preliminary comments to offer. Unfortunately, I don&apos;t know enough about this technology to be able to test-drive the patch. Here are some things I tried in order to build this patch:&lt;/p&gt;

&lt;p&gt;o I changed directory to the root of my client and typed &quot;mvn -Pbuildclient&quot;. Nothing happened. The buildclient target was not recognized.&lt;/p&gt;

&lt;p&gt;o I changed directory to maven2 and typed &quot;mvn -Pbuildclient&quot;. Again, the buildclient target was not recognized.&lt;/p&gt;

&lt;p&gt;o From the root of my client, I did an &quot;ant clobber&quot; followed by &quot;ant all&quot;. This build failed because ReportParser was not found.&lt;/p&gt;

&lt;p&gt;I would like to test-drive the patch. Could you expand the instructions? Think in terms of writing a cookbook for someone who knows absolutely nothing about SOAP and very little about maven. For instance, there seem to be some classes which are generated by the SOAP/maven machinery but I don&apos;t know how or when that generation is supposed to happen. Thanks.&lt;/p&gt;

&lt;p&gt;---------------&lt;/p&gt;

&lt;p&gt;Here are some preliminary comments on the patch:&lt;/p&gt;

&lt;p&gt;o The name Client seems a little vague to me. Could this class be renamed to something which captures more of its behavior, like JiraFilterReader or FilteredIssueLister? There may be a small chunk of code in there which could be carved out into a generic Client or SoapClient or JiraSoapClient class, but most of the work seems focused on reading a Jira filter and writing a list of issues.&lt;/p&gt;

&lt;p&gt;o If I understand the code correctly, the logic in Client.getAncestors() is trying to construct the upgrade trajectory which will be used to calculate the set of issues to include in the release notes. Most of the work is done in Client.getReleasedVersions(). Most of the time, I think that this logic will do the right thing. However, its concept of ancestor differs somewhat from the concept of ancestor which is assumed by our release notes process. That concept is discussed in this email thread: &lt;a href=&quot;http://old.nabble.com/Release-Notes-to5931299.html#a6248974&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://old.nabble.com/Release-Notes-to5931299.html#a6248974&lt;/a&gt; Here&apos;s how I think the concepts differ:&lt;/p&gt;

&lt;p&gt;a) For Client.getAncestors(), released distribution A is an ancestor of release candidate B if (A.releaseID &amp;lt; B.releaseID).&lt;/p&gt;

&lt;p&gt;b) Given the discussion in the email thread referenced above, ancestry should be recursively defined by the precedingRelease function. If C is a release, then precedingRelease( C ) is the &quot;preceding release&quot; mentioned at the beginning of the release notes for C. The ancestry set of candidate B is &lt;/p&gt;
{ precedingRelease(B), precedingRelease(precedingRelease(B)), ...}
&lt;p&gt;. In this scheme, released distribution A is an ancestor of release candidate B if A is in that ancestry set.&lt;/p&gt;

&lt;p&gt;Definition (a) yields a larger set of ancestors than definition (b) does. I believe that the logic in (a) will overaggressively filter issues. Here is the problem case:&lt;/p&gt;

&lt;p&gt;i) We release 10.6.2.1.&lt;/p&gt;

&lt;p&gt;ii) Then we release 10.7.1.0.&lt;/p&gt;

&lt;p&gt;iii) Then we fix bug NNNN in both the 10.6 and 10.7 branches.&lt;/p&gt;

&lt;p&gt;iv) Then we release 10.6.3.0, including the fix for NNNN.&lt;/p&gt;

&lt;p&gt;v) Then we release 10.7.2.0, also including the fix for NNNN. Note that precedingRelease( 10.7.2.0 ) = 10.7.1.0 NOT 10.6.3.0.&lt;/p&gt;

&lt;p&gt;vi) The fix for NNNN will not appear in the release notes for 10.7.2.0 under definition (a). However, the fix will appear in the release notes for 10.7.2.0 under definition (b).&lt;/p&gt;

&lt;p&gt;Unfortunately, I don&apos;t think that Jira contains enough information to calculate release ancestry under definition (b). I think that the information can be reconstructed by parsing the release notes in our subversion tags. Alternatively, we could maintain the ancestry graph in the codeline.&lt;/p&gt;

&lt;p&gt;What you have so far is a big improvement over the current situation. I think it would be OK to fix getAncestors() later on.&lt;/p&gt;</comment>
                            <comment id="12923162" author="kristwaa" created="Wed, 20 Oct 2010 21:42:58 +0100"  >&lt;p&gt;Hi Rick,&lt;/p&gt;

&lt;p&gt;Thanks for trying to test the patch. I&apos;m unable to give you proper feedback right now, but here are a few quick hints.&lt;/p&gt;

&lt;p&gt;The broken build problem will be fixed by &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4858&quot; title=&quot;Remove deprecated code for generating CHANGES.html&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4858&quot;&gt;&lt;del&gt;DERBY-4858&lt;/del&gt;&lt;/a&gt;, alternatively you can just revert the ReportParser class in java/build/org/apache/derbyBuild. I missed this problem because I was just messing around in tools/release and didn&apos;t do a &apos;ant clobber all&apos; from the root.&lt;/p&gt;

&lt;p&gt;You have to go into tools/release/jirasoap and issue the mvn-command from there. The directory jirasoap contains a fully independent Maven-project. It doesn&apos;t depend on the rest of the Derby code at all.&lt;/p&gt;

&lt;p&gt;It is not clear to me that the getAncestors-method is behaving incorrectly, but that may be the case. Are you able to test this by using a set of the existing releases, or have we not yet created a scenario as you described with potential future versions in your comment?&lt;br/&gt;
For instance, I was under the impression that the current version of the tool is able to deal correctly with the 10.3.3.0 release. It was released between 10.4.2.1 and 10.4.2.0. The tool uses the release version and the release date to determine the preceding release.&lt;br/&gt;
You can invoke the tool with the ancestors-argument to print the list of ancestors for a given version (see the usage msg). &lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;</comment>
                            <comment id="12923500" author="rhillegas" created="Thu, 21 Oct 2010 17:23:38 +0100"  >&lt;p&gt;Thanks for the additional instructions, Kristian. I will take a closer look later today.&lt;/p&gt;

&lt;p&gt;Concerning the semantics of getAncestors(): I don&apos;t think we have an example of the problem in our existing set of releases. We almost had an example involving the following releases:&lt;/p&gt;

&lt;p&gt;o 10.4.1.3 (released 2008-04-24), whose preceding release was 10.3.2.1&lt;/p&gt;

&lt;p&gt;o 10.3.3.0 (released 2008-05-12)&lt;/p&gt;

&lt;p&gt;The problem would have occurred if the release dates for 10.4.1.3 and 10.3.3.0 were reversed.&lt;/p&gt;

&lt;p&gt;Let me try to restate the problem.&lt;/p&gt;

&lt;p&gt;1) Suppose we have two active branches A and B where A &amp;lt; B. We have already cut official releases off both branches: A.x and B.y.&lt;/p&gt;

&lt;p&gt;2) We discover that we have a serious security or data corruption bug: NNNN.&lt;/p&gt;

&lt;p&gt;3) We fix NNNN in both the A and B branches.&lt;/p&gt;

&lt;p&gt;4) Then the community cuts a new emergency release A.x+ off the A branch.&lt;/p&gt;

&lt;p&gt;5) Afterward, the community cuts an emergency release B.y+ off the B branch. Note that precedingRelease( B.y+ ) = B.y NOT A.x.&lt;/p&gt;

&lt;p&gt;Under definition (a), A.x+ is an ancestor of B.y+. That means that NNNN will not appear in the release notes for B.y+. That&apos;s a shame because the reason we&apos;re issuing B.y+ is to fix NNNN.&lt;/p&gt;

&lt;p&gt;However, under definition (b), A.x+ wouldn&apos;t be an ancestor of B.y+ so NNNN would appear in the release notes. Everything would be fine.&lt;/p&gt;

&lt;p&gt;Note that the problem would not occur if we reversed the order of steps (3) and (4). That is, we won&apos;t see the problem if the emergency release on the later branch is produced BEFORE the emergency release on the earlier branch.&lt;/p&gt;

&lt;p&gt;Hope this makes more sense now.&lt;/p&gt;


</comment>
                            <comment id="12923603" author="rhillegas" created="Thu, 21 Oct 2010 20:41:04 +0100"  >&lt;p&gt;Thanks for the advice about how to test-drive the patch, Kristian. I reverted ReportParser.java, then did &quot;ant clobber&quot; followed by &quot;ant all&quot;. Now I see this build error:&lt;/p&gt;

&lt;p&gt;     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; building generated sanity info&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt; Warning: Lookahead adequacy checking not being performed since option LOOKAHEAD is more than 1.  Set option FORCE_LA_CHECK to true to force checking.&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; /Users/rh161140/derby/mainline/trunk/java/build/org/apache/derbyBuild/ChangesFileGenerator.java:200: cannot find symbol&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; symbol  : variable bugListDoc&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; location: class org.apache.derbyBuild.ChangesFileGenerator&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt;         for (Iterator i = JiraIssue.createJiraIssueList( bugListDoc, excludeReleaseIDList, reportParser ).iterator(); i.hasNext(); )&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt;                                                          ^&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; 1 error&lt;/p&gt;

&lt;p&gt;BUILD FAILED&lt;br/&gt;
/Users/rh161140/derby/mainline/trunk/build.xml:526: The following error occurred while executing this line:&lt;br/&gt;
/Users/rh161140/derby/mainline/trunk/build.xml:561: The following error occurred while executing this line:&lt;br/&gt;
/Users/rh161140/derby/mainline/trunk/java/build/build.xml:59: The following error occurred while executing this line:&lt;br/&gt;
/Users/rh161140/derby/mainline/trunk/java/build/org/apache/derbyBuild/build.xml:53: Compile failed; see the compiler error output for details.&lt;/p&gt;</comment>
                            <comment id="12923614" author="kristwaa" created="Thu, 21 Oct 2010 21:24:11 +0100"  >&lt;p&gt;Sorry for providing the crappy patch, Rick.&lt;br/&gt;
As I said earlier, no need to do ant clobber to test the SOAP client &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;In any case, I have committed the patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4858&quot; title=&quot;Remove deprecated code for generating CHANGES.html&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4858&quot;&gt;&lt;del&gt;DERBY-4858&lt;/del&gt;&lt;/a&gt;. Please update your svn workspace and try again.&lt;/p&gt;

&lt;p&gt;I haven&apos;t had the time to test the release ancestry scenario you mentioned, but I do plan to  make it easy to override the ancestry from the command line. There will be at least one follow-up patch (your existing comments have not been addressed, and I suspect there may be more comment once you get the client running).&lt;/p&gt;</comment>
                            <comment id="12923971" author="rhillegas" created="Fri, 22 Oct 2010 20:02:41 +0100"  >&lt;p&gt;Thanks again for the patch, Kristian. I updated my client, which got me past the build issues. After that, I was able to test-drive the patch and successfully build the release notes. Love it. A couple comments:&lt;/p&gt;

&lt;p&gt;o It would be nice if the tool had a quiet mode. Maven is pretty chatty and yours truly doesn&apos;t need to see the list of excluded bugs.&lt;/p&gt;

&lt;p&gt;o Maven coughs up the following warning. It didn&apos;t seem to hurt anything but I&apos;m probably not the only person who will be puzzled by it:&lt;/p&gt;

&lt;p&gt;    WARNING: Unable to find required classes (javax.activation.DataHandler and javax.mail.internet.MimeMultipart). Attachment support is disabled.&lt;/p&gt;

&lt;p&gt;o I had to remove the following sanity-check from ReleaseNotesGenerator (line 282). It will kill release notes generation for feature releases. That is because the release manager wants to publish the release notes a good week before creating the branch and building the first release candidate. At that time, the version number in release.properties is still an alpha version number. I tripped across the fact that the version number in release.properties on the trunk was 10.7.0.0 but I was trying to generate release notes for 10.7.1.0:&lt;/p&gt;

&lt;p&gt; else if (!relVer.equals(releaseID)) &lt;/p&gt;
{
            throw new IllegalStateException(&quot;target release version mismatch &quot; +
                    &quot;between release.properties and bug list: &quot; + releaseID +
                    &quot; != &quot; + relVer);
        }

&lt;p&gt;I think that the release number which appears in RELEASE-NOTES.html should originate with the release number which you specify when you run &quot;java -jar target/JiraSOAP-LATEST-jar-with-dependencies.jar&quot;.&lt;/p&gt;

&lt;p&gt;At this point, you have removed one of the redundant places where we specify the release number (namely, in releaseSummary.xml). That&apos;s progress. I don&apos;t think we need to sand this down further, although it&apos;s worth thinking about streamlining how many times we still specify a release id:&lt;/p&gt;

&lt;p&gt;o We specify a release id when we define the jira filter which defines the raw stream of bug ids.&lt;/p&gt;

&lt;p&gt;o We specify a release id when we run &quot;java -jar target/JiraSOAP-LATEST-jar-with-dependencies.jar&quot;.&lt;/p&gt;

&lt;p&gt;o We specify a release id when we run the master target which builds the release candidate.&lt;/p&gt;

&lt;p&gt;Here is the script which I used to tie together all of the pieces of release-notes generation. This may be useful to other release managers who want to test-drive this patch:&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
-Rick&lt;/p&gt;

&lt;p&gt;----------------&lt;/p&gt;

&lt;p&gt;#! /bin/bash&lt;br/&gt;
#&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Run the machinery which creates the release notes. Make sure&lt;/li&gt;
	&lt;li&gt;that you are not on a corporate VPN--otherwise maven may hang&lt;/li&gt;
	&lt;li&gt;while trying to access the network.&lt;br/&gt;
#&lt;/li&gt;
	&lt;li&gt;Arguments:&lt;br/&gt;
#&lt;/li&gt;
	&lt;li&gt;$1  jira user name&lt;/li&gt;
	&lt;li&gt;$2  jira password&lt;/li&gt;
	&lt;li&gt;$3  release version (e.g. 10.7.1.0)&lt;/li&gt;
	&lt;li&gt;$4  numeric id of filter used to create jira report of fixed bugs (e.g. 12314683)&lt;br/&gt;
#&lt;/li&gt;
	&lt;li&gt;E.g.:&lt;br/&gt;
#&lt;/li&gt;
	&lt;li&gt;createReleaseNotes rhillegas mypassword 10.7.1.0 12314683&lt;/li&gt;
&lt;/ol&gt;



&lt;p&gt;export jiraname=$1&lt;br/&gt;
export jirapassword=$2&lt;br/&gt;
export derbyversion=$3&lt;/p&gt;

&lt;p&gt;export relnotesdir=$HOME/junk/$derbyversion-relnotes&lt;/p&gt;

&lt;p&gt;export filterid=$4&lt;br/&gt;
export destinationfile=$relnotesdir/fixedBugsList.txt&lt;br/&gt;
export remove=true&lt;/p&gt;

&lt;p&gt;mkdir $relnotesdir&lt;/p&gt;

&lt;p&gt;cd $BRANCH/tools/release/jirasoap&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;build the application which uses SOAP to tease information out of JIRA&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;mvn -Pbuildclient&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;now produce the filtered list of issues&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;java -jar target/JiraSOAP-LATEST-jar-with-dependencies.jar $jiraname $jirapassword $derbyversion $filterid $destinationfile $remove&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;now generate RELEASE-NOTES.html from the filtered list&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;cd ..&lt;/p&gt;

&lt;p&gt;ant -Drelnotes.src.reports=$relnotesdir genrelnotes&lt;/p&gt;</comment>
                            <comment id="12924097" author="dagw" created="Sat, 23 Oct 2010 01:23:31 +0100"  >&lt;p&gt;Discussed Rick&apos;s 5) points to define ancestry with Kristian a bit. I think Rick&apos;s definition makes sense: B.y+ is neither an ancestor or descendant of A.x+, so any release notes for patch P added in A.x+ should not be culled from B.y+. &lt;br/&gt;
Iff A.x is the first release of A, both B.y and B.y+ are descendants of A.x, if I understand the definition correctly, so fixes made in A.x &lt;b&gt;should&lt;/b&gt; be culled for B.y as well as for B.y+.&lt;/p&gt;

</comment>
                            <comment id="12924535" author="kristwaa" created="Mon, 25 Oct 2010 12:42:31 +0100"  >&lt;p&gt;Thanks a lot for the feedback, Rick.&lt;/p&gt;

&lt;p&gt;I have decided to split the work into three pieces:&lt;br/&gt;
 a) client code&lt;br/&gt;
 b) changes to existing ReleaseNotesGenerator&lt;br/&gt;
 c) ant integration&lt;/p&gt;

&lt;p&gt;I have attached patch 2a to add the new client code, and based on the feedback from Rick I think it is useful enough to be committed right away. Committed to trunk with revision 1027056.&lt;br/&gt;
I made some changes compared to patch 1a, most of them were formatting, documentation and naming changes. Specifically, Rick&apos;s comments:&lt;br/&gt;
 o renamed class to FilteredIssueLister, which is the primary functionality&lt;br/&gt;
 o made the tool quieter (use reportDisqualifiedIssues=true to make it chattier again)&lt;br/&gt;
 o added some extra (unused) dependencies to remove the warning message&lt;br/&gt;
 o (the sanity check will be addressed in the next patch since it lives in ReleaseNotesGenerator)&lt;br/&gt;
 o I have not done anything more regarding the release id specification&lt;/p&gt;

&lt;p&gt;In addition I made the tool always write the data file as UTF-8.&lt;/p&gt;

&lt;p&gt;Regarding the ancestry chain, the tool seems to do the right thing as long as it has a release date for the release being made. Unfortunately, the tool won&apos;t have that for new releases... I will write some test code and investigate further.&lt;br/&gt;
For now I have made it possible to override the ancestry chain manually.&lt;/p&gt;</comment>
                            <comment id="12924555" author="kristwaa" created="Mon, 25 Oct 2010 13:57:08 +0100"  >&lt;p&gt;Attaching patch 3a, which modifies the existing release notes generator classes to work with the data produced by the JIRA SOAP client.&lt;/p&gt;

&lt;p&gt;M       java/build/org/apache/derbyBuild/ReleaseNotesGenerator.java&lt;/p&gt;

&lt;p&gt;Changed comments, removed use of ReportParser, adjusted code to use the new code to obtain the list of JiraIssues.&lt;br/&gt;
Removed sanity check from patch 1a (blocked progress).&lt;/p&gt;

&lt;p&gt;M       java/build/org/apache/derbyBuild/GeneratorBase.java&lt;/p&gt;

&lt;p&gt;Removed use of TagReader.&lt;/p&gt;

&lt;p&gt;D       java/build/org/apache/derbyBuild/ReportParser.java&lt;/p&gt;

&lt;p&gt;Deleted class (no longer used).&lt;/p&gt;

&lt;p&gt;M       java/build/org/apache/derbyBuild/JiraIssue.java&lt;/p&gt;

&lt;p&gt;Added code to parse the data file generated by the JIRA SOAP client.&lt;br/&gt;
Added method hasMissingReleaseNotes.&lt;br/&gt;
Modified constructor.&lt;/p&gt;

&lt;p&gt;Patch ready for review. Already tested by Rick, so I expect to commit this shortly.&lt;/p&gt;</comment>
                            <comment id="12924566" author="kristwaa" created="Mon, 25 Oct 2010 14:47:59 +0100"  >&lt;p&gt;Attaching patch 4a, which integrates the JIRA SOAP client with ant.&lt;/p&gt;

&lt;p&gt;Hopefully, running &apos;ant genrelnotes&apos; from tools/release should be enough to get people going. I won&apos;t say more, and will wait for feedback &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Note that you have to apply both patch 3a and 4a to test this.&lt;br/&gt;
For now I have created one master target (I reused genrelnotes), but it may be better to split it up into two sub-targets to allow for modification of the issue list before running the release notes generator.&lt;br/&gt;
What do those who have been RMs say about that?&lt;/p&gt;

&lt;p&gt;Patch ready for review.&lt;/p&gt;</comment>
                            <comment id="12924584" author="rhillegas" created="Mon, 25 Oct 2010 16:01:54 +0100"  >&lt;p&gt;Thanks for the additional patches, Kristian. I think that I will wait for you to commit this work before I test-drive it. How do I run this machinery now? I suspect that &quot;ant genrelnotes&quot; isn&apos;t good enough. I probably need to specify a number of variables (such as my jira credentials, the release id, the filter id, etc..). What does the command line look like?&lt;/p&gt;

&lt;p&gt;I&apos;m happy with a single master target.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="12924606" author="kristwaa" created="Mon, 25 Oct 2010 17:16:54 +0100"  >&lt;p&gt;Attached new version of patch 4a due to having used the wrong property name in the help text.&lt;/p&gt;

&lt;p&gt;Rick,&lt;br/&gt;
if you run &apos;ant genrelnotes&apos; you should get all the information you need.&lt;/p&gt;

&lt;p&gt;I&apos;ll take the patches for a test-spin on Windows, and if that works out okay I&apos;ll just commit them.&lt;/p&gt;</comment>
                            <comment id="12924829" author="lilywei" created="Tue, 26 Oct 2010 04:53:15 +0100"  >&lt;p&gt;I volunteer to test-drive the 3a and 4a patch on Windows. After doing &apos;mvn clean install&apos; on maven2 and tools/release/jirasoap, I sync up the latest codeline from trunk and apply 3a and 4a patch. I was not able to build the RELESE-NOTES.html using &apos;ant genrelnotes&apos;. However, the createreleasenote.sh script works for me. I am not sure why I am getting an error from FilteredIssueListen. I got an error as jirasoap.FilteredIssueLister is fetching issue. Error print out as:&quot;Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: version &apos;true&apos; doesn&apos;t exist&lt;br/&gt;
        at org.apache.derbyBuild.jirasoap.FilteredIssueLister.getVersion(Filtere&lt;br/&gt;
dIssueLister.java:487)&lt;br/&gt;
        at org.apache.derbyBuild.jirasoap.FilteredIssueLister.prepareReleaseNote&lt;br/&gt;
s(FilteredIssueLister.java:245)&lt;br/&gt;
        at org.apache.derbyBuild.jirasoap.FilteredIssueLister.main(FilteredIssue&lt;br/&gt;
Lister.java:610)&quot;&lt;/p&gt;

&lt;p&gt;I was still able to generate a RELEASE-NOTES.html. I attach the file for reference.  I did not change releaseSummary.html to reflect my build environment when I run the script.&lt;/p&gt;</comment>
                            <comment id="12924901" author="kristwaa" created="Tue, 26 Oct 2010 10:06:07 +0100"  >&lt;p&gt;Thanks, Lily.&lt;/p&gt;

&lt;p&gt;The error you are getting means that you have specified a version as &apos;true&apos;, which doesn&apos;t exist (in JIRA). Versions are supposed to be formatted as major.minor.fixpack.point, for instance 10.6.2.1.&lt;br/&gt;
Rick&apos;s script won&apos;t work any more because the Java application now expects a different set of arguments - this is the reason you&apos;re getting the error message above.&lt;/p&gt;

&lt;p&gt;Now, it turns out  the current script is unable to execute Maven on Windows, even under Cygwin. The solution is to invoke &quot;mvn.bat&quot; instead of &quot;mvn&quot;.&lt;br/&gt;
I have added logic to determine the correct Maven executable, and I am now able to execute &apos;ant genrelnotes&apos; on Windows (haven&apos;t tested if my changes broke this on *nix now...)&lt;br/&gt;
I&apos;m still hoping it will be enough for people to invoke &apos;ant genrelnotes&apos; from tools/release.&lt;/p&gt;

&lt;p&gt;Attaching patch 4b. Ready for review / testing (hint: use the filter id that Rick used, and release version 10.7.1.0).&lt;/p&gt;

&lt;p&gt;PS! Lily, you don&apos;t have to care about what&apos;s inside the &apos;maven2&apos; directory. That&apos;s another, independent Maven project.&lt;/p&gt;</comment>
                            <comment id="12925307" author="kristwaa" created="Wed, 27 Oct 2010 10:43:52 +0100"  >&lt;p&gt;Attached patch 3b, where I rewrote the instructions for running the ant target.&lt;/p&gt;

&lt;p&gt;Committed to trunk with revision 1027878.&lt;/p&gt;</comment>
                            <comment id="12925310" author="kristwaa" created="Wed, 27 Oct 2010 10:58:45 +0100"  >&lt;p&gt;Tested this on Solaris again, and it seems to work.&lt;br/&gt;
Committed patch 4b to trunk with revision 1027882.&lt;/p&gt;

&lt;p&gt;There may be improvements to be made, maybe tuning the output or removing some inputs. I&apos;ll let people give it a try first, and wait for feedback from the release managers.&lt;/p&gt;</comment>
                            <comment id="12925435" author="lilywei" created="Wed, 27 Oct 2010 17:15:57 +0100"  >&lt;p&gt;Hi Kristian:&lt;br/&gt;
     Thank you for checking in the patch. I volunteer to do the test drive again.&lt;br/&gt;
I sync up to the latest. I am able to build all the distribution on my base.dir/release/distributions/*. Yeah!! &lt;/p&gt;

&lt;p&gt;     Before I do that, I already build my docs(I was using my old 10.6 docs), javadoc and RELEASE-NOTES.html. Does &apos;ant genrelnotes&apos; always regenerate RELEASE-NOTES.html or it will use existing RELEASE-NOTES.html if it finds it in the default place? How does bump up the last digit works now? Does the last digit come from maintversion.properties in the distributions directory? &lt;/p&gt;

&lt;p&gt;     Thank you so much for doing this and thanks for detail instruction on ant -p.&lt;/p&gt;</comment>
                            <comment id="12925745" author="kristwaa" created="Thu, 28 Oct 2010 09:11:29 +0100"  >&lt;p&gt;Hi Lily,&lt;/p&gt;

&lt;p&gt;&apos;ant genrelnotes&apos; will overwrite the existing RELEASE-NOTES.html. You should be able to see that using &apos;svn st|diff&apos;. Remember that you still have to edit releaseSummary.xml for the release notes to be complete and correct.&lt;/p&gt;

&lt;p&gt;If you look at the start and end of the fixedBugsList.txt, you should see a few important pieces of information (this is also printed to standard out when you run the target):&lt;br/&gt;
 o the target release version&lt;br/&gt;
 o the derived previous release version (this is checked against the one entered in releaseSummary.xml)&lt;br/&gt;
 o the derived ancestry chain (used to exclude issues)&lt;br/&gt;
 o issue statistics (# total, # written, # disqualified, # release note)&lt;/p&gt;

&lt;p&gt;Also included in the output is the path to the output file.&lt;/p&gt;

&lt;p&gt;This patch doesn&apos;t touch the logic bumping the last digit. I think that is something Rick is, or have been, working on.&lt;br/&gt;
Did you run &apos;ant genrelnotes&apos; on Windows?&lt;/p&gt;

&lt;p&gt;FYI, I expect there will be at least one more patch for this issue, but I&apos;d like to wait for Rick&apos;s further feedback as well.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;</comment>
                            <comment id="12927472" author="rhillegas" created="Tue, 2 Nov 2010 15:53:14 +0000"  >&lt;p&gt;Thanks, Kristian. What is checked in works well. A couple small issues:&lt;/p&gt;

&lt;p&gt;1) After running the genrelnotes target, I expected to see RELEASE-NOTES.html checked out in my code client. It was. That&apos;s good. However, &quot;svn status&quot; also showed the following artifact. I think that the ignore bit needs to be set on this artifact:&lt;/p&gt;

&lt;p&gt;?      tools/release/jirasoap/target&lt;/p&gt;

&lt;p&gt;2) The genrenotes target is less chatty. That&apos;s good. However, maven is still coughing up a long list of numbers and question marks. These don&apos;t mean much to me. Can they be suppressed too? See the output included below.&lt;/p&gt;

&lt;p&gt;-----------&lt;/p&gt;

&lt;p&gt;Here is the new script which I use to drive release notes generation:&lt;/p&gt;

&lt;p&gt;#! /bin/bash&lt;br/&gt;
#&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;generate release notes&lt;br/&gt;
#&lt;/li&gt;
	&lt;li&gt;$1  jira password&lt;/li&gt;
	&lt;li&gt;$2  filter id&lt;/li&gt;
	&lt;li&gt;$3  release version&lt;br/&gt;
#&lt;/li&gt;
	&lt;li&gt;E.g.:&lt;br/&gt;
#&lt;/li&gt;
	&lt;li&gt;generateReleaseNotes blahblah 12314683 10.7.1.0&lt;br/&gt;
#&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;echo If the script hangs, you may need to get off your company VPN.&lt;/p&gt;

&lt;p&gt;jiraUser=rhillegas&lt;br/&gt;
jiraPassword=$1&lt;br/&gt;
filterID=$2&lt;br/&gt;
releaseVersion=$3&lt;br/&gt;
reportDir=$HOME/junk/$releaseVersion-relnotes&lt;/p&gt;


&lt;p&gt;cd $BRANCH/tools/release&lt;/p&gt;

&lt;p&gt;ant -Djira.user=$jiraUser -Djira.password=$jiraPassword -Djira.filter.id=$filterID -Drelease.version=$releaseVersion -Drelnotes.src.reports=$reportDir genrelnotes&lt;/p&gt;

&lt;p&gt;-------------------------&lt;/p&gt;

&lt;p&gt;Here is the output of running that script:&lt;/p&gt;

&lt;p&gt;If the script hangs, you may need to get off your company VPN.&lt;br/&gt;
Buildfile: build.xml&lt;/p&gt;

&lt;p&gt;check-properties:&lt;/p&gt;

&lt;p&gt;missing-properties:&lt;/p&gt;

&lt;p&gt;maven-exec-windows:&lt;/p&gt;

&lt;p&gt;maven-exec-unix:&lt;/p&gt;

&lt;p&gt;genrelnotes:&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; Downloading: &lt;a href=&quot;http://repo1.maven.org/maven2/javax/mail/mail/1.4.1/mail-1.4.1.pom&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://repo1.maven.org/maven2/javax/mail/mail/1.4.1/mail-1.4.1.pom&lt;/a&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; 995/?&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;      Downloading: &lt;a href=&quot;http://repo1.maven.org/maven2/javax/activation/activation/1.1/activation-1.1.pom&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://repo1.maven.org/maven2/javax/activation/activation/1.1/activation-1.1.pom&lt;/a&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; 1058/?&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;       Downloading: &lt;a href=&quot;http://repo1.maven.org/maven2/javax/activation/activation/1.1/activation-1.1.jar&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://repo1.maven.org/maven2/javax/activation/activation/1.1/activation-1.1.jar&lt;/a&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; Downloading: &lt;a href=&quot;http://repo1.maven.org/maven2/javax/mail/mail/1.4.1/mail-1.4.1.jar&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://repo1.maven.org/maven2/javax/mail/mail/1.4.1/mail-1.4.1.jar&lt;/a&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; 497/?&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; 1008/?1520/?2032/?2544/?3056/?3568/?4072/?4584/?5095/?5607/?6118/?6630/?7142/?7654/?8164/?8676/?9187/?9699/?9859/?10371/?10882/?11394/?11906/?12451/?13053/?13710/?14222/?14734/?15287/?15836/?16348/?16711/?17165/?17392/?17933/?18446/?18998/?19552/?20063/?20575/?21086/?21601/?22158/?22730/?23275/?23786/?24298/?24811/?25356/?25899/?26428/?26997/?27556/?28151/?28711/?29258/?29769/?30281/?30793/?31304/?31816/?32327/?32887/?33433/?33944/?34398/?34910/?35421/?35933/?36445/?36893/?37443/?37953/?38530/?39077/?39625/?40237/?40795/?41306/?41846/?42358/?42869/?43381/?43893/?44404/?44915/?45474/?46030/?46554/?47116/?47578/?48140/?48707/?49188/?49755/?50330/?50914/?51010/?51574/?52084/?52596/?53158/?53728/?54293/?54853/?55365/?55973/?56560/?57127/?57683/?58290/?58802/?59313/?59825/?60336/?60848/?61360/?61576/?62088/?62599/?63111/?63623/?64135/?64471/?64982/?65497/?66008/?66520/?67031/?67543/?68054/?68567/?69026/?69539/?70051/?70563/?71075/?71587/?72103/?72616/?73127/?73639/?74151/?74662/?75174/?75686/?76232/?76744/?77255/?77487/?77999/?78555/?79067/?79620/?80133/?80471/?80983/?81495/?82006/?82518/?83031/?83542/?84054/?84470/?84982/?85495/?85951/?86463/?86976/?87488/?87999/?88511/?89023/?89534/?90047/?90593/?91104/?91659/?92172/?92760/?93272/?93592/?94145/?94658/?95171/?95683/?96194/?96530/?97041/?97553/?98065/?98578/?99089/?99601/?100112/?100626/?100874/?101386/?101899/?102355/?102866/?103378/?103889/?104401/?104913/?105424/?105936/?106479/?106990/?107540/?108052/?108603/?109114/?109664/?110176/?110687/?111283/?111795/?112385/?112898/?113410/?113922/?114497/?115009/?115520/?115666/?116220/?116776/?117287/?117775/?118286/?118638/?119151/?119607/?120118/?120638/?121183/?121694/?122249/?122760/?123316/?123827/?124339/?124851/?125363/?125918/?125990/?126502/?127060/?127573/?128085/?128598/?129110/?129621/?130133/?130646/?131159/?131672/?132183/?132695/?133207/?133719/?134230/?134743/?135254/?135765/?136224/?136735/?137255/?137774/?138286/?138798/?139310/?139821/?140334/?140846/?141358/?141870/?142382/?142470/?142982/?143548/?144060/?144617/?145130/?145642/?146215/?146423/?146728/?147239/?147751/?148263/?148775/?149334/?149846/?150358/?150957/?151468/?152030/?152542/?152998/?153554/?153825/?154387/?154899/?155192/?155707/?156264/?156775/?157337/?157952/?158463/?158975/?159486/?159998/?160510/?161021/?161532/?162044/?162595/?163106/?163662/?164224/?164736/?165311/?165822/?166386/?166898/?167409/?167954/?168511/?169023/?169570/?170122/?170634/?171229/?171776/?172289/?172802/?173313/?173824/?174336/?174849/?175360/?175871/?176384/?176897/?177408/?177922/?178434/?178946/?179242/?179754/?180267/?180483/?180684/?181196/?181710/?182262/?182817/?183329/?183840/?184352/?184864/?185375/?185887/?186399/?186854/?187402/?187914/?187986/?188496/?189042/?189465/?190019/?190530/?191139/?191651/?192208/?192719/?193053/?193594/?194106/?194617/?195165/?195677/?196189/?196741/?197253/?197803/?198314/?198474/?199020/?199530/?200036/?200548/?201100/?201540/?202051/?202563/?203075/?203587/?204040/?204553/?205065/?205577/?206130/?206642/?207154/?207666/?208178/?208729/?209282/?209794/?210306/?210818/?211330/?211842/?212387/?212900/?213412/?213924/?214435/?214644/?214644/? 503/?214644/? 1015/?214644/? 1527/?214644/? 2038/?214644/? 2550/?214644/? 3062/?214644/? 3573/?214644/? 4077/?215155/? 4077/?215667/? 4077/?216090/? 4077/?216602/? 4077/?217149/? 4077/?217616/? 4077/?218232/? 4077/?218744/? 4077/?219256/? 4077/?219768/? 4077/?220280/? 4077/?220615/? 4077/?221068/? 4077/?221612/? 4077/?222181/? 4077/?222734/? 4077/?223245/? 4077/?223757/? 4077/?224315/? 4077/?224876/? 4077/?225440/? 4077/?225996/? 4077/?226508/? 4077/?226654/? 4077/?227167/? 4077/?227680/? 4077/?228192/? 4077/?228705/? 4077/?229217/? 4077/?229730/? 4077/?230243/? 4077/?230755/? 4077/?231266/? 4077/?231777/? 4077/?232289/? 4077/?232801/? 4077/?233313/? 4077/?233824/? 4077/?234336/? 4077/?234848/? 4077/?235361/? 4077/?235874/? 4077/?236386/? 4077/?236802/? 4077/?237313/? 4077/?237764/? 4077/?238277/? 4077/?238789/? 4077/?239300/? 4077/?239812/? 4077/?240362/? 4077/?240906/? 4077/?241417/? 4077/?241928/? 4077/?242466/? 4077/?242990/? 4077/?243502/? 4077/?244014/? 4077/?244086/? 4077/?244597/? 4077/?245109/? 4077/?245621/? 4077/?246184/? 4077/?246696/? 4077/?247208/? 4077/?247232/? 4077/?247744/? 4077/?248347/? 4077/?248858/? 4077/?249406/? 4077/?249961/? 4077/?250472/? 4077/?251037/? 4077/?251595/? 4077/?252153/? 4077/?252720/? 4077/?253281/? 4077/?253794/? 4077/?254317/? 4077/?254813/? 4077/?255324/? 4077/?255872/? 4077/?256427/? 4077/?256939/? 4077/?257450/? 4077/?257962/? 4077/?258473/? 4077/?258985/? 4077/?259497/? 4077/?260053/? 4077/?260564/? 4077/?261125/? 4077/?261637/? 4077/?262131/? 4077/?262131/? 4588/?262131/? 5100/?262131/? 5612/?262131/? 6164/?262131/? 6839/?262131/? 7351/?262131/? 7862/?262131/? 8419/?262131/? 8971/?262131/? 9489/?262131/? 10000/?262131/? 10160/?262642/? 10160/?263153/? 10160/?263716/? 10160/?264228/? 10160/?264740/? 10160/?265075/? 10160/?265657/? 10160/?266247/? 10160/?266670/? 10160/?267208/? 10160/?267786/? 10160/?268210/? 10160/?268625/? 10160/?269164/? 10160/?269715/? 10160/?270257/? 10160/?270769/? 10160/?271311/? 10160/?271819/? 10160/?272277/? 10160/?272788/? 10160/?273329/? 10160/?273874/? 10160/?274385/? 10160/?274896/? 10160/?275408/? 10160/?275919/? 10160/?276432/? 10160/?276943/? 10160/?277455/? 10160/?277965/? 10160/?278518/? 10160/?279072/? 10160/?279615/? 10160/?280172/? 10160/?280717/? 10160/?281261/? 10160/?281773/? 10160/?282284/? 10160/?282795/? 10160/?283375/? 10160/?283931/? 10160/?284484/? 10160/?284995/? 10160/?285561/? 10160/?286102/? 10160/?286614/? 10160/?287161/? 10160/?287747/? 10160/?288258/? 10160/?288853/? 10160/?289351/? 10160/?289862/? 10160/?290443/? 10160/?290954/? 10160/?291540/? 10160/?292099/? 10160/?292659/? 10160/?293209/? 10160/?293721/? 10160/?294233/? 10160/?294745/? 10160/?295257/? 10160/?295768/? 10160/?296310/? 10160/?296860/? 10160/?297410/? 10160/?297960/? 10160/?298510/? 10160/?299022/? 10160/?299572/? 10160/?299852/? 10160/?300434/? 10160/?300945/? 10160/?301369/? 10160/?301881/? 10160/?302392/? 10160/?302816/? 10160/?303327/? 10160/?303839/? 10160/?304262/? 10160/?304774/? 10160/?305284/? 10160/?305708/? 10160/?306220/? 10160/?306672/? 10160/?307184/? 10160/?307695/? 10160/?308207/? 10160/?308749/? 10160/?309261/? 10160/?309772/? 10160/?310333/? 10160/?310906/? 10160/?311418/? 10160/?311930/? 10160/?312442/? 10160/?312953/? 10160/?313492/? 10160/?314069/? 10160/?314582/? 10160/?315093/? 10160/?315606/? 10160/?316116/? 10160/?316629/? 10160/?317140/? 10160/?317459/? 10160/?317459/? 10672/?317459/? 11184/?317459/? 11695/?317459/? 12207/?317459/? 12719/?317459/? 13231/?317459/? 13795/?317459/? 14366/?317459/? 14878/?317459/? 15389/?317459/? 15901/?317459/? 16459/?317459/? 16875/?317459/? 17329/?317459/? 17545/?317971/? 17545/?318481/? 17545/?319092/? 17545/?319653/? 17545/?320252/? 17545/?320809/? 17545/?321320/? 17545/?321918/? 17545/?322469/? 17545/?323084/? 17545/?323647/? 17545/?323753/? 17545/?324359/? 17545/?324915/? 17545/?325525/? 17545/?326037/? 17545/?326605/? 17545/?327010/? 17545/?327561/? 17545/?328072/? 17545/?328616/? 17545/?329135/? 17545/?329646/? 17545/?330201/? 17545/?330712/? 17545/?331223/? 17545/?331774/? 17545/?332335/? 17545/?332615/? 17545/?333126/? 17545/?333637/? 17545/?334194/? 17545/?334706/? 17545/?335217/? 17545/?335729/? 17545/?336240/? 17545/?336752/? 17545/?337264/? 17545/?337775/? 17545/?338287/? 17545/?338798/? 17545/?339310/? 17545/?339822/? 17545/?340334/? 17545/?340906/? 17545/?341418/? 17545/?341930/? 17545/?342453/? 17545/?343003/? 17545/?343515/? 17545/?344026/? 17545/?344539/? 17545/?345050/? 17545/?345562/? 17545/?346109/? 17545/?346621/? 17545/?347132/? 17545/?347645/? 17545/?348157/? 17545/?348716/? 17545/?349228/? 17545/?349741/? 17545/?350252/? 17545/?350764/? 17545/?351309/? 17545/?351821/? 17545/?352334/? 17545/?352846/? 17545/?353358/? 17545/?353870/? 17545/?354382/? 17545/?354894/? 17545/?355406/? 17545/?355919/? 17545/?356431/? 17545/?356943/? 17545/?357455/? 17545/?357908/? 17545/?358419/? 17545/?358974/? 17545/?359533/? 17545/?360046/? 17545/?360559/? 17545/?361071/? 17545/?361583/? 17545/?362096/? 17545/?362608/? 17545/?363120/? 17545/?363631/? 17545/?364142/? 17545/?364657/? 17545/?365170/? 17545/?365682/? 17545/?366194/? 17545/?366707/? 17545/?367219/? 17545/?367730/? 17545/?368242/? 17545/?368795/? 17545/?369307/? 17545/?369819/? 17545/?370331/? 17545/?370842/? 17545/?371354/? 17545/?371864/? 17545/?372378/? 17545/?372891/? 17545/?373403/? 17545/?373914/? 17545/?373914/? 18057/?373914/? 18568/?373914/? 19167/?373914/? 19679/?373914/? 20191/?373914/? 20702/?373914/? 21268/?373914/? 21822/?373914/? 22334/?373914/? 22846/?373914/? 23357/?373914/? 23869/?373914/? 24433/?373914/? 24945/?373914/? 25555/?373914/? 26066/?373914/? 26594/?374374/? 26594/?374885/? 26594/?375476/? 26594/?375991/? 26594/?376503/? 26594/?377015/? 26594/?377609/? 26594/?378121/? 26594/?378632/? 26594/?379143/? 26594/?379655/? 26594/?380167/? 26594/?380692/? 26594/?381204/? 26594/?381715/? 26594/?382226/? 26594/?382738/? 26594/?383250/? 26594/?383761/? 26594/?384273/? 26594/?384785/? 26594/?385297/? 26594/?385809/? 26594/?386320/? 26594/?386832/? 26594/?387381/? 26594/?387892/? 26594/?388405/? 26594/?388509/? 26594/?389108/? 26594/?389673/? 26594/?390146/? 26594/?390642/? 26594/?391188/? 26594/?391710/? 26594/?392222/? 26594/?392733/? 26594/?393077/? 26594/?393588/? 26594/?394100/? 26594/?394611/? 26594/?395122/? 26594/?395633/? 26594/?395969/? 26594/?396481/? 26594/?397030/? 26594/?397493/? 26594/?398004/? 26594/?398604/? 26594/?399028/? 26594/?399036/? 26594/?399615/? 26594/?400171/? 26594/?400720/? 26594/?401232/? 26594/?401782/? 26594/?402306/? 26594/?402844/? 26594/?403397/? 26594/?403950/? 26594/?404462/? 26594/?405019/? 26594/?405577/? 26594/?406092/? 26594/?406645/? 26594/?406701/? 26594/?407263/? 26594/?407786/? 26594/?408238/? 26594/?408722/? 26594/?409272/? 26594/?409689/? 26594/?410236/? 26594/?410793/? 26594/?411346/? 26594/?411852/? 26594/?412407/? 26594/?412910/? 26594/?413512/? 26594/?414061/? 26594/?414612/? 26594/?415164/? 26594/?415671/? 26594/?416222/? 26594/?416807/? 26594/?417365/? 26594/?417873/? 26594/?418377/? 26594/?418935/? 26594/?419498/? 26594/?420055/? 26594/?420458/? 26594/?420963/? 26594/?421467/? 26594/?421886/? 26594/?422390/? 26594/?423060/? 26594/?424324/? 26594/?426211/? 26594/?428286/? 26594/?430130/? 26594/?432072/? 26594/?434052/? 26594/?436028/? 26594/?437834/? 26594/?439600/? 26594/?440147/? 26594/?440147/? 27106/?440147/? 27657/?440147/? 28168/?440147/? 28720/?440147/? 29319/?440147/? 29696/?440147/? 30250/?440147/? 30763/?440147/? 31274/?440147/? 31786/?440147/? 32298/?440147/? 32809/?440147/? 33321/?440147/? 33832/?440147/? 34080/?440147/? 34577/?440147/? 35193/?440147/? 35617/?442262/? 35617/?444290/? 35617/?446386/? 35617/?447676/? 35617/?                36128/?&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; 36683/?37233/?37743/?38297/?38633/?39145/?39657/?40081/?40594/?41106/?41618/?42130/?42645/?43156/?43668/?44217/?44729/?45241/?45755/?46307/?46818/?47330/?47842/?48400/?48943/?49454/?49965/?50477/?50988/?51428/?51762/?52324/?52833/?53343/?53889/?54450/?55012/?55577/?56086/?56649/?57206/?57760/?58268/?58833/?60364/?62983/?       &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;jirasoapclient&amp;#93;&lt;/span&gt; getting JIRA service&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;jirasoapclient&amp;#93;&lt;/span&gt; logging in as &apos;rhillegas&apos;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;jirasoapclient&amp;#93;&lt;/span&gt; fetching versions&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;jirasoapclient&amp;#93;&lt;/span&gt; fetching issues from filter (id = 12314683)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;jirasoapclient&amp;#93;&lt;/span&gt; persisting issues (filter matched 145 issues)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;jirasoapclient&amp;#93;&lt;/span&gt; wrote 104 issues, 5 with release notes, 41 issues disqualified&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;jirasoapclient&amp;#93;&lt;/span&gt; dump file: /Users/rh161140/junk/10.7.1.0-relnotes/fixedBugsList.txt&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;generateReleaseNotes&amp;#93;&lt;/span&gt; setting summary file name to:/Users/rh161140/derby/mainline/trunk/releaseSummary.xml previousReleaseID: 10.6.2.1 excludeReleaseIDList.size():0&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;generateReleaseNotes&amp;#93;&lt;/span&gt; &amp;#8212; Creating Jira issue list&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;generateReleaseNotes&amp;#93;&lt;/span&gt; // Produced on Tue Nov 02 08:42:16 PDT 2010&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;generateReleaseNotes&amp;#93;&lt;/span&gt; // Release version: 10.7.1.0&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;generateReleaseNotes&amp;#93;&lt;/span&gt; // Previous release: 10.6.2.1&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;generateReleaseNotes&amp;#93;&lt;/span&gt; // Derived ancestry chain&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;generateReleaseNotes&amp;#93;&lt;/span&gt; //   10.6.2.1&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;generateReleaseNotes&amp;#93;&lt;/span&gt; //   10.6.1.0&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;generateReleaseNotes&amp;#93;&lt;/span&gt; //   10.5.3.0&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;generateReleaseNotes&amp;#93;&lt;/span&gt; //   10.5.2.0&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;generateReleaseNotes&amp;#93;&lt;/span&gt; //   10.5.1.1&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;generateReleaseNotes&amp;#93;&lt;/span&gt; //   10.4.2.0&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;generateReleaseNotes&amp;#93;&lt;/span&gt; //   10.4.1.3&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;generateReleaseNotes&amp;#93;&lt;/span&gt; //   10.3.2.1&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;generateReleaseNotes&amp;#93;&lt;/span&gt; // Filter id: 12314683, user id rhillegas&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;generateReleaseNotes&amp;#93;&lt;/span&gt; // Filter issue count: 145&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;generateReleaseNotes&amp;#93;&lt;/span&gt; // Issues written: 104&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;generateReleaseNotes&amp;#93;&lt;/span&gt; // Issues disqualified: 41&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;generateReleaseNotes&amp;#93;&lt;/span&gt; // Issues with release note: 5&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; Release notes written to /Users/rh161140/derby/mainline/trunk/RELEASE-NOTES.html&lt;/p&gt;

&lt;p&gt;BUILD SUCCESSFUL&lt;br/&gt;
Total time: 45 seconds&lt;/p&gt;</comment>
                            <comment id="12927812" author="kristwaa" created="Wed, 3 Nov 2010 10:17:26 +0000"  >&lt;p&gt;Thanks for testing the client further, Rick.&lt;br/&gt;
Regarding your comments:&lt;br/&gt;
 a) I added the directory to the svn:ignore property of tools/release/jirasoap. Note that the directory is deleted when/if you run &apos;ant clean&apos; from tools/release.&lt;/p&gt;

&lt;p&gt; b) You will only see those numbers when you are downloading stuff you need, but that you don&apos;t have locally. In any case, adding &apos;--batch-mode&apos; to the exec task made them go away (maven will still notify you of downloads, but not use the download meter).&lt;/p&gt;

&lt;p&gt;I also modified the printout regarding the summary file and the exclude list (which isn&apos;t used any more).&lt;/p&gt;

&lt;p&gt;Attaching patch 5a, which addresses the issues above. Committed to trunk with revision 1030383.&lt;/p&gt;</comment>
                            <comment id="12927858" author="kristwaa" created="Wed, 3 Nov 2010 14:07:53 +0000"  >&lt;p&gt;Attaching patch 6a, which contains some minor tweaks and fixes for the SOAP client.&lt;br/&gt;
Fixed an error in the release ancestry chain computation logic, corrected typo(s) and renamed a variable.&lt;br/&gt;
I moved the release date formatting code into DerbyVersion, added a getFormattedReleaseDate() method and changed the toString() method.&lt;/p&gt;

&lt;p&gt;Committed to trunk with revision 1030471.&lt;/p&gt;</comment>
                            <comment id="12930965" author="kristwaa" created="Thu, 11 Nov 2010 09:18:53 +0000"  >&lt;p&gt;Marking as fixed.&lt;/p&gt;

&lt;p&gt;If backporting, see also 1032576 (may not be required since a branch has already been created).&lt;/p&gt;</comment>
                            <comment id="12965166" author="kristwaa" created="Tue, 30 Nov 2010 09:25:34 +0000"  >&lt;p&gt;Closing issue.&lt;br/&gt;
I have decided to not backport, because there has been a lot of other changes in the build/release system. This fix isn&apos;t dependent on those other fixes, but to me it makes sense to have a clear cut between where we use new functionality and where we use old mechanisms. This affects documentation too (mostly wiki).&lt;br/&gt;
The release manager(s) should be aware that several release process tasks have changed in 10.7.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12458034" name="RELEASE-NOTES.html" size="31711" author="lilywei" created="Tue, 26 Oct 2010 04:53:15 +0100"/>
                            <attachment id="12457666" name="derby-4857-1a-jirasoap_relnotes.diff" size="303425" author="kristwaa" created="Wed, 20 Oct 2010 15:02:14 +0100"/>
                            <attachment id="12457667" name="derby-4857-1a-jirasoap_relnotes.stat" size="1144" author="kristwaa" created="Wed, 20 Oct 2010 15:02:14 +0100"/>
                            <attachment id="12457965" name="derby-4857-2a-jirasoap_maven_client.diff" size="286688" author="kristwaa" created="Mon, 25 Oct 2010 12:42:31 +0100"/>
                            <attachment id="12457964" name="derby-4857-2a-jirasoap_maven_client.stat" size="669" author="kristwaa" created="Mon, 25 Oct 2010 12:42:31 +0100"/>
                            <attachment id="12457971" name="derby-4857-3a-jirasoap_relnotesgen_changes.diff" size="26889" author="kristwaa" created="Mon, 25 Oct 2010 13:57:08 +0100"/>
                            <attachment id="12457970" name="derby-4857-3a-jirasoap_relnotesgen_changes.stat" size="243" author="kristwaa" created="Mon, 25 Oct 2010 13:57:07 +0100"/>
                            <attachment id="12458142" name="derby-4857-3b-jirasoap_relnotesgen_changes.diff" size="29179" author="kristwaa" created="Wed, 27 Oct 2010 10:43:52 +0100"/>
                            <attachment id="12457977" name="derby-4857-4a-jirasoap_ant_integration.diff" size="8070" author="kristwaa" created="Mon, 25 Oct 2010 17:16:54 +0100"/>
                            <attachment id="12457972" name="derby-4857-4a-jirasoap_ant_integration.stat" size="174" author="kristwaa" created="Mon, 25 Oct 2010 14:47:59 +0100"/>
                            <attachment id="12458058" name="derby-4857-4b-jirasoap_ant_integration.diff" size="8400" author="kristwaa" created="Tue, 26 Oct 2010 10:06:07 +0100"/>
                            <attachment id="12458730" name="derby-4857-5a-minor_tweaks.diff" size="1433" author="kristwaa" created="Wed, 3 Nov 2010 10:17:26 +0000"/>
                            <attachment id="12458740" name="derby-4857-6a-client_tweaks.diff" size="10253" author="kristwaa" created="Wed, 3 Nov 2010 14:07:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>13.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 20 Oct 2010 20:22:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31412</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0ocn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37763</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>