<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:31:20 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-1844/DERBY-1844.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-1844] jdbcapi/blobclob4BLOB.java fails with JCC drivers</title>
                <link>https://issues.apache.org/jira/browse/DERBY-1844</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Test fails with JCC versions 2.4, 2.6 and 2.8. &lt;/p&gt;

&lt;p&gt;Sample diff:&lt;br/&gt;
&amp;lt; FAIL: Caught exception java.lang.NegativeArraySizeException&lt;br/&gt;
592a592&lt;br/&gt;
&amp;gt; FAIL: Caught exception java.lang.NegativeArraySizeException: &lt;/p&gt;</description>
                <environment>IBM JDK 1.4.2</environment>
        <key id="12349774">DERBY-1844</key>
            <summary>jdbcapi/blobclob4BLOB.java fails with JCC drivers</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="myrna">Myrna van Lunteren</assignee>
                                    <reporter username="deepa">Deepa Remesh</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 Sep 2006 00:18:55 +0100</created>
                <updated>Wed, 1 Jul 2009 01:09:11 +0100</updated>
                            <resolved>Thu, 28 Sep 2006 08:41:26 +0100</resolved>
                                    <version>10.2.1.6</version>
                    <version>10.3.1.4</version>
                                    <fixVersion>10.2.2.0</fixVersion>
                    <fixVersion>10.3.1.4</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12435100" author="deepa" created="Fri, 15 Sep 2006 20:50:41 +0100"  >&lt;p&gt;Failure seen on IBM JDK 1.4.2.&lt;/p&gt;</comment>
                            <comment id="12435139" author="mikem" created="Fri, 15 Sep 2006 23:17:14 +0100"  >&lt;p&gt;I also saw this diff in my nightly run against an ibm 1.4.2 jvm.  I know there was a recent change that eliminated some jvm specific masters, do we need one for ibm 1.4.2 or maybe some sed?  My diff &lt;br/&gt;
was mostly as described above with the diff just being the &quot;:&quot; but the first line is also slightly different - &lt;br/&gt;
here is my full diff:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;
			&lt;ul&gt;
				&lt;li&gt;
				&lt;ul&gt;
					&lt;li&gt;
					&lt;ul&gt;
						&lt;li&gt;
						&lt;ul&gt;
							&lt;li&gt;
							&lt;ul&gt;
								&lt;li&gt;
								&lt;ul&gt;
									&lt;li&gt;Diff file derbyall/derbynetmats/DerbyNet/jdbcapi/blobclob4BLOB.diff&lt;/li&gt;
								&lt;/ul&gt;
								&lt;/li&gt;
							&lt;/ul&gt;
							&lt;/li&gt;
						&lt;/ul&gt;
						&lt;/li&gt;
					&lt;/ul&gt;
					&lt;/li&gt;
				&lt;/ul&gt;
				&lt;/li&gt;
			&lt;/ul&gt;
			&lt;/li&gt;
			&lt;li&gt;Start: blobclob4BLOB jdk1.4.2 DerbyNet derbynetmats:jdbcapi 2006-09-15 10:28&lt;br/&gt;
:32 ***&lt;br/&gt;
475a476&lt;br/&gt;
&amp;gt;   at java.lang.String.substring(String.java(Compiled Code))&lt;br/&gt;
592 del&lt;br/&gt;
&amp;lt; FAIL: Caught exception java.lang.NegativeArraySizeException&lt;br/&gt;
592a593&lt;br/&gt;
&amp;gt; FAIL: Caught exception java.lang.NegativeArraySizeException:&lt;br/&gt;
594 del&lt;br/&gt;
&amp;lt; FAIL: Caught exception java.lang.NegativeArraySizeException&lt;br/&gt;
594a595&lt;br/&gt;
&amp;gt; FAIL: Caught exception java.lang.NegativeArraySizeException:&lt;br/&gt;
596 del&lt;br/&gt;
&amp;lt; FAIL: Caught exception java.lang.NegativeArraySizeException&lt;br/&gt;
596a597&lt;br/&gt;
&amp;gt; FAIL: Caught exception java.lang.NegativeArraySizeException:&lt;br/&gt;
598 del&lt;br/&gt;
&amp;lt; FAIL: Caught exception java.lang.NegativeArraySizeException&lt;br/&gt;
598a599&lt;br/&gt;
&amp;gt; FAIL: Caught exception java.lang.NegativeArraySizeException:&lt;br/&gt;
600 del&lt;br/&gt;
&amp;lt; FAIL: Caught exception java.lang.NegativeArraySizeException&lt;br/&gt;
600a601&lt;br/&gt;
&amp;gt; FAIL: Caught exception java.lang.NegativeArraySizeException:&lt;br/&gt;
606 del&lt;br/&gt;
&amp;lt; FAIL: Caught exception java.lang.NegativeArraySizeException&lt;br/&gt;
606a607&lt;br/&gt;
&amp;gt; FAIL: Caught exception java.lang.NegativeArraySizeException:&lt;br/&gt;
608 del&lt;br/&gt;
&amp;lt; FAIL: Caught exception java.lang.NegativeArraySizeException&lt;br/&gt;
608a609&lt;br/&gt;
&amp;gt; FAIL: Caught exception java.lang.NegativeArraySizeException:&lt;br/&gt;
610 del&lt;br/&gt;
&amp;lt; FAIL: Caught exception java.lang.NegativeArraySizeException&lt;br/&gt;
610a611&lt;br/&gt;
&amp;gt; FAIL: Caught exception java.lang.NegativeArraySizeException:&lt;br/&gt;
612 del&lt;br/&gt;
&amp;lt; FAIL: Caught exception java.lang.NegativeArraySizeException&lt;br/&gt;
612a613&lt;br/&gt;
&amp;gt; FAIL: Caught exception java.lang.NegativeArraySizeException:&lt;br/&gt;
614 del&lt;br/&gt;
&amp;lt; FAIL: Caught exception java.lang.NegativeArraySizeException&lt;br/&gt;
614a615&lt;br/&gt;
&amp;gt; FAIL: Caught exception java.lang.NegativeArraySizeException:&lt;br/&gt;
620 del&lt;br/&gt;
&amp;lt; FAIL: Caught exception java.lang.NegativeArraySizeException&lt;br/&gt;
620a621&lt;br/&gt;
&amp;gt; FAIL: Caught exception java.lang.NegativeArraySizeException:&lt;br/&gt;
622 del&lt;br/&gt;
&amp;lt; FAIL: Caught exception java.lang.NegativeArraySizeException&lt;br/&gt;
622a623&lt;br/&gt;
&amp;gt; FAIL: Caught exception java.lang.NegativeArraySizeException:&lt;br/&gt;
624 del&lt;br/&gt;
&amp;lt; FAIL: Caught exception java.lang.NegativeArraySizeException&lt;br/&gt;
624a625&lt;br/&gt;
&amp;gt; FAIL: Caught exception java.lang.NegativeArraySizeException:&lt;br/&gt;
626 del&lt;br/&gt;
&amp;lt; FAIL: Caught exception java.lang.NegativeArraySizeException&lt;br/&gt;
626a627&lt;br/&gt;
&amp;gt; FAIL: Caught exception java.lang.NegativeArraySizeException:&lt;br/&gt;
628 del&lt;br/&gt;
&amp;lt; FAIL: Caught exception java.lang.NegativeArraySizeException&lt;br/&gt;
628a629&lt;br/&gt;
&amp;gt; FAIL: Caught exception java.lang.NegativeArraySizeException:&lt;br/&gt;
634 del&lt;br/&gt;
&amp;lt; FAIL: Caught exception java.lang.NegativeArraySizeException&lt;br/&gt;
634a635&lt;br/&gt;
&amp;gt; FAIL: Caught exception java.lang.NegativeArraySizeException:&lt;br/&gt;
636 del&lt;br/&gt;
&amp;lt; FAIL: Caught exception java.lang.NegativeArraySizeException&lt;br/&gt;
636a637&lt;br/&gt;
&amp;gt; FAIL: Caught exception java.lang.NegativeArraySizeException:&lt;br/&gt;
638 del&lt;br/&gt;
&amp;lt; FAIL: Caught exception java.lang.NegativeArraySizeException&lt;br/&gt;
638a639&lt;br/&gt;
&amp;gt; FAIL: Caught exception java.lang.NegativeArraySizeException:&lt;br/&gt;
640 del&lt;br/&gt;
&amp;lt; FAIL: Caught exception java.lang.NegativeArraySizeException&lt;br/&gt;
640a641&lt;br/&gt;
&amp;gt; FAIL: Caught exception java.lang.NegativeArraySizeException:&lt;br/&gt;
642 del&lt;br/&gt;
&amp;lt; FAIL: Caught exception java.lang.NegativeArraySizeException&lt;br/&gt;
642a643&lt;br/&gt;
&amp;gt; FAIL: Caught exception java.lang.NegativeArraySizeException:&lt;br/&gt;
649 del&lt;br/&gt;
&amp;lt; FAIL: Caught exception java.lang.NegativeArraySizeException&lt;br/&gt;
649a650&lt;br/&gt;
&amp;gt; FAIL: Caught exception java.lang.NegativeArraySizeException:&lt;br/&gt;
651 del&lt;br/&gt;
&amp;lt; FAIL: Caught exception java.lang.NegativeArraySizeException&lt;br/&gt;
651a652&lt;br/&gt;
&amp;gt; FAIL: Caught exception java.lang.NegativeArraySizeException:&lt;br/&gt;
653 del&lt;br/&gt;
&amp;lt; FAIL: Caught exception java.lang.NegativeArraySizeException&lt;br/&gt;
653a654&lt;br/&gt;
&amp;gt; FAIL: Caught exception java.lang.NegativeArraySizeException:&lt;br/&gt;
655 del&lt;br/&gt;
&amp;lt; FAIL: Caught exception java.lang.NegativeArraySizeException&lt;br/&gt;
655a656&lt;br/&gt;
&amp;gt; FAIL: Caught exception java.lang.NegativeArraySizeException:&lt;br/&gt;
657 del&lt;br/&gt;
&amp;lt; FAIL: Caught exception java.lang.NegativeArraySizeException&lt;br/&gt;
657a658&lt;br/&gt;
&amp;gt; FAIL: Caught exception java.lang.NegativeArraySizeException:&lt;br/&gt;
676 del&lt;br/&gt;
&amp;lt; FAIL: Caught exception java.lang.NegativeArraySizeException&lt;br/&gt;
676a677&lt;br/&gt;
&amp;gt; FAIL: Caught exception java.lang.NegativeArraySizeException:&lt;br/&gt;
678 del&lt;br/&gt;
&amp;lt; FAIL: Caught exception java.lang.NegativeArraySizeException&lt;br/&gt;
678a679&lt;br/&gt;
&amp;gt; FAIL: Caught exception java.lang.NegativeArraySizeException:&lt;br/&gt;
680 del&lt;br/&gt;
&amp;lt; FAIL: Caught exception java.lang.NegativeArraySizeException&lt;br/&gt;
680a681&lt;br/&gt;
&amp;gt; FAIL: Caught exception java.lang.NegativeArraySizeException:&lt;br/&gt;
682 del&lt;br/&gt;
&amp;lt; FAIL: Caught exception java.lang.NegativeArraySizeException&lt;br/&gt;
682a683&lt;br/&gt;
&amp;gt; FAIL: Caught exception java.lang.NegativeArraySizeException:&lt;br/&gt;
684 del&lt;br/&gt;
&amp;lt; FAIL: Caught exception java.lang.NegativeArraySizeException&lt;br/&gt;
684a685&lt;br/&gt;
&amp;gt; FAIL: Caught exception java.lang.NegativeArraySizeException:&lt;br/&gt;
690 del&lt;br/&gt;
&amp;lt; FAIL: Caught exception java.lang.NegativeArraySizeException&lt;br/&gt;
690a691&lt;br/&gt;
&amp;gt; FAIL: Caught exception java.lang.NegativeArraySizeException:&lt;br/&gt;
692 del&lt;br/&gt;
&amp;lt; FAIL: Caught exception java.lang.NegativeArraySizeException&lt;br/&gt;
692a693&lt;br/&gt;
&amp;gt; FAIL: Caught exception java.lang.NegativeArraySizeException:&lt;br/&gt;
694 del&lt;br/&gt;
&amp;lt; FAIL: Caught exception java.lang.NegativeArraySizeException&lt;br/&gt;
694a695&lt;br/&gt;
&amp;gt; FAIL: Caught exception java.lang.NegativeArraySizeException:&lt;br/&gt;
782 del&lt;br/&gt;
&amp;lt; FAIL &amp;#8211; unexpected exception:java.lang.NegativeArraySizeException&lt;br/&gt;
783 del&lt;br/&gt;
&amp;lt; java.lang.NegativeArraySizeException&lt;br/&gt;
783a783,784&lt;br/&gt;
&amp;gt; FAIL &amp;#8211; unexpected exception:java.lang.NegativeArraySizeException:&lt;br/&gt;
&amp;gt; java.lang.NegativeArraySizeException:&lt;br/&gt;
Test Failed.&lt;/li&gt;
			&lt;li&gt;End:   blobclob4BLOB jdk1.4.2 DerbyNet derbynetmats:jdbcapi 2006-09-15 10:29&lt;br/&gt;
:30 ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12435441" author="johnemb" created="Mon, 18 Sep 2006 10:31:54 +0100"  >&lt;p&gt;Looks like this is only an issue on IBM JVMs, so adding ibm14- and/or ibm15-specific masters seems like the best (temporary) solution to me.&lt;/p&gt;

&lt;p&gt;What worries me slightly is that a message starting with &quot;FAIL: Caught exception&quot; is part of the master file. I am assuming that the NegativeArraySizeException is caused by a known bug in the JCC driver triggered by &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1516&quot; title=&quot;Inconsistent behavior for getBytes and getSubString for embedded versus network&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1516&quot;&gt;&lt;del&gt;DERBY-1516&lt;/del&gt;&lt;/a&gt;, as explained in &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;, but a comment about this in the code and/or in the master file would have been very helpful.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;: &lt;a href=&quot;http://issues.apache.org/jira/browse/DERBY-1516#action_12427294&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/browse/DERBY-1516#action_12427294&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12435470" author="oysteing" created="Mon, 18 Sep 2006 13:48:31 +0100"  >&lt;p&gt;The exception messages was introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1516&quot; title=&quot;Inconsistent behavior for getBytes and getSubString for embedded versus network&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1516&quot;&gt;&lt;del&gt;DERBY-1516&lt;/del&gt;&lt;/a&gt;, for which the patch contains several of the:&lt;/p&gt;

&lt;p&gt;-Known JCC Bug 5914&lt;br/&gt;
+FAIL: Caught exception java.lang.NegativeArraySizeException&lt;/p&gt;

&lt;p&gt;I agree with John that we should avoid FAIL-messages in the master file.  I think for most tests, FAIL means that the test fails, not an expected failure of a test case.  In this test, such messages are also expected for the embedded framework, but in that case the name of the exception is replaced by asterisks:&lt;/p&gt;

&lt;p&gt;FAIL &amp;#8211; unexpected exception ****************&lt;/p&gt;

&lt;p&gt;I have not found out how this is achieved, but maybe this is an alternative to separate canons?&lt;/p&gt;</comment>
                            <comment id="12438257" author="myrna" created="Thu, 28 Sep 2006 00:52:19 +0100"  >&lt;p&gt;Re how the *** is done - the blobclob4BLOB uses the testutil/TestUtil:dumpSQLExceptions() method; but not when the framework is DerbyNet.&lt;/p&gt;</comment>
                            <comment id="12438352" author="myrna" created="Thu, 28 Sep 2006 08:31:47 +0100"  >&lt;p&gt;Attaching a patch for the trunk that adds all the offending lines to blobclob4BLOB_sed.properties.&lt;br/&gt;
I think this approach is better than adding more canons, for we&apos;d start to quickly proliferate them - we&apos;d already need one for ibm15 and one for ibm142...&lt;/p&gt;

&lt;p&gt;Ran this test with ibm15, jdk14, ibm14 with embedded, DerbyNet, DerbyNetClient. &lt;/p&gt;
</comment>
                            <comment id="12438353" author="myrna" created="Thu, 28 Sep 2006 08:34:52 +0100"  >&lt;p&gt;The behavior is also seen on 10.2, so this should get fixed there too. &lt;/p&gt;</comment>
                            <comment id="12438355" author="fuzzylogic" created="Thu, 28 Sep 2006 08:41:26 +0100"  >&lt;p&gt;Committed to trunk with revision 450738 and to 10.2 with revision 450739.&lt;/p&gt;

&lt;p&gt;JIRA issue to rewrite this test as a junit test has been filed as &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1895&quot; title=&quot;Convert jdbcapi/blobclob4BLOB.java to Junit&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1895&quot;&gt;&lt;del&gt;DERBY-1895&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12347932">DERBY-1691</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12341858" name="DERBY-1844_20060928.diff" size="2533" author="myrna" created="Thu, 28 Sep 2006 08:31:47 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10369"><![CDATA[Regression Test Failure]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 15 Sep 2006 22:17:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22745</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0tfr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38587</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>