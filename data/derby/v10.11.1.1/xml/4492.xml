<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:23:54 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-4492/DERBY-4492.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-4492] Localized help message from derbyrun.jar has wrong encoding</title>
                <link>https://issues.apache.org/jira/browse/DERBY-4492</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;When I change the locale to one of the languages for which we have localized tools messages, either by changing the system locale or by setting the derby.ui.locale property, the output from derbyrun.jar is garbled:&lt;/p&gt;

&lt;p&gt;$ java -Dderby.ui.locale=zh_TW -jar derbyrun.jar&lt;br/&gt;
&#193;&#238;&#174;&#202;&#8805;&#239;&#212;&#186;&#246;&lt;br/&gt;
java -jar derbyrun.jar ij &lt;span class=&quot;error&quot;&gt;&amp;#91;-p propertiesfile&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;sql script&amp;#93;&lt;/span&gt;&lt;br/&gt;
java -jar derbyrun.jar sysinfo &lt;span class=&quot;error&quot;&gt;&amp;#91;-cp ...&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;-cp help&amp;#93;&lt;/span&gt; &lt;br/&gt;
java -jar derbyrun.jar dblook &lt;span class=&quot;error&quot;&gt;&amp;#91;args&amp;#93;&lt;/span&gt; (&#202;&#224;&#241;&#202;&#242;&#216;&#8240;&#8719;&#231;&#194;&#228;&#8224;&#194;&#186;&#239;&#202;&#239;&#8719;&#8240;&#170;&#8226;&#202;&#252;&#8226;&#193;&#250;&#227;&#193;&#238;&#174;&#202;&#8805;&#239;)&lt;br/&gt;
java -jar derbyrun.jar server &lt;span class=&quot;error&quot;&gt;&amp;#91;args&amp;#93;&lt;/span&gt; (&#202;&#224;&#241;&#202;&#242;&#216;&#8240;&#8719;&#231;&#194;&#228;&#8224;&#194;&#186;&#239;&#202;&#239;&#8719;&#8240;&#170;&#8226;&#202;&#252;&#8226;&#193;&#250;&#227;&#193;&#238;&#174;&#202;&#8805;&#239;)&lt;br/&gt;
$ java -Dderby.ui.locale=de_DE -jar derbyrun.jar&lt;br/&gt;
Syntax:&lt;br/&gt;
java -jar derbyrun.jar ij &lt;span class=&quot;error&quot;&gt;&amp;#91;-p Merkmaldatei&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;sql Script&amp;#93;&lt;/span&gt;&lt;br/&gt;
java -jar derbyrun.jar sysinfo &lt;span class=&quot;error&quot;&gt;&amp;#91;-cp ...&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;-cp help&amp;#93;&lt;/span&gt; &lt;br/&gt;
java -jar derbyrun.jar dblook &lt;span class=&quot;error&quot;&gt;&amp;#91;Argumente&amp;#93;&lt;/span&gt; (oder ohne Argumente f&#8730;&#186;r Syntaxinformationen)&lt;br/&gt;
java -jar derbyrun.jar server &lt;span class=&quot;error&quot;&gt;&amp;#91;Argumente&amp;#93;&lt;/span&gt; (oder ohne Argumente f&#8730;&#186;r Syntaxinformationen)&lt;/p&gt;

&lt;p&gt;Only the help message from derbyrun.jar is garbled. The other tools appear to produce fine output, even when invoked via derbyrun.jar:&lt;/p&gt;

&lt;p&gt;$ java -Dderby.ui.locale=zh_TW -jar derbyrun.jar sysinfo&lt;br/&gt;
------------------ Java &#36039;&#35338; ------------------&lt;br/&gt;
Java &#29256;&#26412;&#65306;       1.6.0_17&lt;br/&gt;
Java &#20379;&#25033;&#21830;&#65306;     Sun Microsystems Inc.&lt;br/&gt;
Java &#39318;&#38913;&#65306;       /usr/jdk/instances/jdk1.6.0/jre&lt;br/&gt;
Java &#39006;&#21029;&#36335;&#24465;&#65306;   derbyrun.jar&lt;br/&gt;
OS &#21517;&#31281;&#65306;         SunOS&lt;br/&gt;
.&lt;br/&gt;
.&lt;br/&gt;
.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12444081">DERBY-4492</key>
            <summary>Localized help message from derbyrun.jar has wrong encoding</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="knutanders">Knut Anders Hatlen</assignee>
                                    <reporter username="knutanders">Knut Anders Hatlen</reporter>
                        <labels>
                    </labels>
                <created>Wed, 23 Dec 2009 10:02:43 +0000</created>
                <updated>Fri, 11 Feb 2011 09:32:32 +0000</updated>
                            <resolved>Fri, 15 Jan 2010 10:12:50 +0000</resolved>
                                    <version>10.4.2.0</version>
                    <version>10.5.2.0</version>
                    <version>10.5.3.0</version>
                                    <fixVersion>10.4.2.1</fixVersion>
                    <fixVersion>10.5.3.1</fixVersion>
                    <fixVersion>10.6.1.0</fixVersion>
                                    <component>Localization</component>
                    <component>Tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12794155" author="knutanders" created="Wed, 23 Dec 2009 19:01:47 +0000"  >&lt;p&gt;This is a regression in 10.5.2.0. Before, the messages looked OK. Here&apos;s from 10.5.1.1:&lt;/p&gt;

&lt;p&gt;% java -Dderby.ui.locale=de_DE -jar /code/derby/oldreleases/10.5.1.1/derbyrun.jar&lt;br/&gt;
Syntax:&lt;br/&gt;
java -jar derbyrun.jar ij &lt;span class=&quot;error&quot;&gt;&amp;#91;-p Merkmaldatei&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;sql Script&amp;#93;&lt;/span&gt;&lt;br/&gt;
java -jar derbyrun.jar sysinfo &lt;span class=&quot;error&quot;&gt;&amp;#91;-cp ...&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;-cp help&amp;#93;&lt;/span&gt; &lt;br/&gt;
java -jar derbyrun.jar dblook &lt;span class=&quot;error&quot;&gt;&amp;#91;Argumente&amp;#93;&lt;/span&gt; (oder ohne Argumente f&#252;r Syntaxinformationen)&lt;br/&gt;
java -jar derbyrun.jar server &lt;span class=&quot;error&quot;&gt;&amp;#91;Argumente&amp;#93;&lt;/span&gt; (oder ohne Argumente f&#252;r Syntaxinformationen)&lt;/p&gt;

&lt;p&gt;It looks like the problem is in the message files. Here&apos;s the message above from toolsmessages_de_DE.properties in 10.5.3.0:&lt;/p&gt;

&lt;p&gt;RUN_Usage=Syntax\:\njava -jar derbyrun.jar ij &lt;span class=&quot;error&quot;&gt;&amp;#91;-p Merkmaldatei&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;sql Script&amp;#93;&lt;/span&gt;\njava -jar derbyrun.jar sysinfo &lt;span class=&quot;error&quot;&gt;&amp;#91;-cp ...&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;-cp help&amp;#93;&lt;/span&gt; \njava -jar derbyrun.jar dblook &lt;span class=&quot;error&quot;&gt;&amp;#91;Argumente&amp;#93;&lt;/span&gt; (oder ohne Argumente f\u221A\u00BAr Syntaxinformationen)\njava -jar derbyrun.jar server &lt;span class=&quot;error&quot;&gt;&amp;#91;Argumente&amp;#93;&lt;/span&gt; (oder ohne Argumente f\u221A\u00BAr Syntaxinformationen)&lt;/p&gt;

&lt;p&gt;Note that the word &quot;f&#252;r&quot; is represented as &quot;f\u221A\u00BAr&quot;, that is two characters for the single character &quot;&#252;&quot;, so that it is displayed as &quot;&#8730;&#186;&quot;.&lt;/p&gt;</comment>
                            <comment id="12794187" author="knutanders" created="Wed, 23 Dec 2009 19:44:04 +0000"  >&lt;p&gt;This seems to affect more messages, not only the ones used by derbyrun.jar:&lt;/p&gt;

&lt;p&gt;ij&amp;gt; connect &apos;jdbc:derby:db;territory=de_DE;create=true&apos;;&lt;br/&gt;
ij&amp;gt; create table t(x int);&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; alter table t add constraint c primary key &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;;&lt;br/&gt;
ERROR 42831: &apos;X&apos; kann Nullwerte enthalten und daher keine Spalte eines Prim&#8730;&#167;rschl&#8730;&#186;ssels sein.&lt;/p&gt;

&lt;p&gt;&quot;Prim&#8730;&#167;rschl&#8730;&#186;ssels&quot; should have been &quot;Prim&#228;rschl&#252;ssels&quot;.&lt;/p&gt;

&lt;p&gt;It looks like all messages touched by revision 793870 (&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4221&quot; title=&quot;Provide message localizations for 10.5&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4221&quot;&gt;&lt;del&gt;DERBY-4221&lt;/del&gt;&lt;/a&gt;) have the wrong escape sequence for non-ascii characters. At least it looks so for the languages that I have some minimal knowledge about.&lt;/p&gt;</comment>
                            <comment id="12794229" author="myrna" created="Wed, 23 Dec 2009 21:40:50 +0000"  >&lt;p&gt;That sounds, unfortunately, like the messages for that error were generated using an incorrect encoding.&lt;/p&gt;

&lt;p&gt;I believe they need to be generated with UTF8...&lt;/p&gt;

&lt;p&gt;Which languages did you look at specifically? German, and?&lt;/p&gt;

&lt;p&gt;I believe the translations were contributed by Rick. Perhaps it&apos;s possible to arrange for regeneration with the correct encoding? &lt;/p&gt;

&lt;p&gt;Is this problem large enough to warrant a new 10.5 release?&lt;/p&gt;
</comment>
                            <comment id="12794239" author="knutanders" created="Wed, 23 Dec 2009 22:01:53 +0000"  >&lt;p&gt;&amp;gt; Which languages did you look at specifically? German, and?&lt;/p&gt;

&lt;p&gt;I&apos;ve found problems with the messages in these locales:&lt;/p&gt;

&lt;p&gt;de_DE&lt;br/&gt;
fr_FR&lt;br/&gt;
zh_TW&lt;br/&gt;
zh_CN&lt;br/&gt;
ja_JP&lt;/p&gt;

&lt;p&gt;(No, I don&apos;t know Chinese or Japanese, but I know what Chinese and Japanese characters don&apos;t look like...)&lt;/p&gt;

&lt;p&gt;I suspect there are problems with all the locales touched by &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4221&quot; title=&quot;Provide message localizations for 10.5&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4221&quot;&gt;&lt;del&gt;DERBY-4221&lt;/del&gt;&lt;/a&gt;, but those are the only languages I have checked explicitly.&lt;/p&gt;

&lt;p&gt;For French and German, the problem isn&apos;t that severe. The messages look odd, but they are still possible to understand since most characters are ascii anyway. For languages that uses mostly non-ascii characters, I would believe the garbled messages are completely incomprehensible, though.&lt;/p&gt;</comment>
                            <comment id="12794376" author="knutanders" created="Thu, 24 Dec 2009 09:59:00 +0000"  >&lt;p&gt;This problem also appears to affect the messages touched for 10.4 (&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3804&quot; title=&quot;Provide localizations for messages added in 10.4.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3804&quot;&gt;&lt;del&gt;DERBY-3804&lt;/del&gt;&lt;/a&gt;). The messages for 10.3 and earlier look fine, as far as I can tell.&lt;/p&gt;

&lt;p&gt;Now, the garbling seems to be different in 10.4 and 10.5.&lt;/p&gt;

&lt;p&gt;In 10.4, a word such as &quot;Schl&#252;ssel&quot; would be encoded as &quot;Schl\u00C3\u00BCssel&quot;, whereas it should have been &quot;Schl\u00FCssel&quot;. Here, the problem seems obvious: &quot;&#252;&quot; has the codepoint 0xFC, and should therefore have the unicode escape sequence \u00FC. However, the UTF-8 encoding of &#252; is &lt;/p&gt;
{0xC3, 0xBC}, and it looks like each byte in the UTF-8 encoded sequence is inserted as a separate codepoint. That is, &#252; --&amp;gt; {0xC3, 0xBC}
&lt;p&gt; --&amp;gt; \u00C3\u00BC --&amp;gt; &#195;&#188;. It should be fairly easy to write a script that goes through the original patch and fixes up this.&lt;/p&gt;

&lt;p&gt;In 10.5, I have a harder time seeing what&apos;s going on. There, the character &#252; (0xFC) is escaped as \u221A\u00BA, and &#246; (0xF6) as \u221A\u2202. I fail to see a pattern here.&lt;/p&gt;</comment>
                            <comment id="12794377" author="knutanders" created="Thu, 24 Dec 2009 10:24:29 +0000"  >&lt;p&gt;I think I can see what happened in 10.5 now. I came across the character table for Mac OS Roman encoding here: &lt;a href=&quot;http://smontagu.damowmow.com/genEncodingTest.cgi?family=apple&amp;amp;codepage=roman&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://smontagu.damowmow.com/genEncodingTest.cgi?family=apple&amp;amp;codepage=roman&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Now, &quot;&#246;&quot; has the codepoint 0xF6, which is encoded in UTF-8 as &lt;/p&gt;
{0xC3, 0xB6}
&lt;p&gt;. If you decode this byte sequence using the above mentioned character table, you get the character sequence &quot;&#8730;&#8706;&quot;, which has the unicode escape sequence \u221A\u2202. This is the same escape sequence used to represent &#246; in the 10.5 messages.&lt;/p&gt;

&lt;p&gt;Same goes for &quot;&#252;&quot;: Codepoint 0xFC --&amp;gt; UTF-8 &lt;/p&gt;
{0xC3, 0xBC}
&lt;p&gt; --&amp;gt; decoded using character table to &quot;&#8730;&#186;&quot;, whose unicode escape is \u221A\u00BA.&lt;/p&gt;

&lt;p&gt;I think this should be a fairly easy scripting task to fix as well.&lt;/p&gt;</comment>
                            <comment id="12794450" author="rhillegas" created="Thu, 24 Dec 2009 16:00:51 +0000"  >&lt;p&gt;I am attaching handback.zip. These are the 10.5 message files in UTF-8, as I received them from the translators. These are the steps of the process I followed:&lt;/p&gt;

&lt;p&gt;1) First I converted our messages to UTF-8 because that is the format which the translators required.&lt;/p&gt;

&lt;p&gt;2) Then the translators made the necessary changes.&lt;/p&gt;

&lt;p&gt;3) Then I converted the changed files back to the encoding which Derby uses.&lt;/p&gt;

&lt;p&gt;At one point I considered changing the encoding on all of our message files to UTF-8. I don&apos;t know why we are using our current encoding. I don&apos;t know what will break if we do this.&lt;/p&gt;

&lt;p&gt;But if the files in handback.zip look good to you, it might be worthwhile checking them in and then changing the encoding on the remaining message files to UTF-8.&lt;/p&gt;

&lt;p&gt;On the other hand, this might not fix the problem if the errors were introduced in step (1) rather than in step (3).&lt;/p&gt;</comment>
                            <comment id="12794463" author="knutanders" created="Thu, 24 Dec 2009 17:30:48 +0000"  >&lt;p&gt;Thanks Rick. The files in handback.zip appear to be correct, so I&apos;ll see if I can redo step (3), and then go on to fixing up the 10.4 messages. Changing the encoding of the files to UTF-8 sounds appealing, but I think I&apos;ll go for the minimal change for now.&lt;/p&gt;</comment>
                            <comment id="12794465" author="knutanders" created="Thu, 24 Dec 2009 17:48:12 +0000"  >&lt;p&gt;It looks like the files in handback.zip also fix the messages that were touched in 10.4 (haven&apos;t checked them all yet, but those I have checked look correct).&lt;/p&gt;</comment>
                            <comment id="12794490" author="knutanders" created="Thu, 24 Dec 2009 20:14:33 +0000"  >&lt;p&gt;I used the attached java class to regenerate the message files and created a diff against the messages on trunk. I haven&apos;t gone through the messages yet to verify that all the changes look sensible, but at least the output from the commands in the bug description looks fine.&lt;/p&gt;</comment>
                            <comment id="12795592" author="knutanders" created="Thu, 31 Dec 2009 12:21:20 +0000"  >&lt;p&gt;Another issue is that long messages (like the IJ help message) are truncated. These messages appear to be correct in the handback.zip file, and in the attached patch.&lt;/p&gt;</comment>
                            <comment id="12795594" author="knutanders" created="Thu, 31 Dec 2009 12:38:51 +0000"  >&lt;p&gt;I&apos;m uploading a new version of the program I used to convert the UTF-8 files to escaped ASCII files. This version also escapes tab characters as \t so that the diff becomes smaller. I will regenerate the files and upload a new patch.&lt;/p&gt;

&lt;p&gt;It looks like the messages in handback.zip are ordered slightly different from the messages in the source, which also makes the patch somewhat bigger than necessary. I&apos;ll try to fix this in the new version of the patch.&lt;/p&gt;</comment>
                            <comment id="12796130" author="knutanders" created="Mon, 4 Jan 2010 10:19:39 +0000"  >&lt;p&gt;As to why the message files are not UTF-8 encoded in the first place, I think this is because Properties.load(InputStream) is specified to take a stream encoded in ISO-8859-1. There is a method Properties.load(Reader) that could be used to read files with any encoding, but it is only available on Java 1.6 and later.&lt;/p&gt;</comment>
                            <comment id="12796140" author="knutanders" created="Mon, 4 Jan 2010 11:08:09 +0000"  >&lt;p&gt;Attached is a new version of the class that converts the UTF-8 encoded files to the escaped format that Derby understands. It now uses a custom comparator to get the same ordering as the original message files, and it also performs some additional washing of the input to prevent unnecessary diffs.&lt;/p&gt;

&lt;p&gt;A new patch generated from the latest version of the converter is also attached. I intend to commit that patch if all the regression tests pass.&lt;/p&gt;</comment>
                            <comment id="12796399" author="knutanders" created="Mon, 4 Jan 2010 22:33:48 +0000"  >&lt;p&gt;All the regression tests passed.&lt;/p&gt;</comment>
                            <comment id="12797977" author="knutanders" created="Fri, 8 Jan 2010 10:51:26 +0000"  >&lt;p&gt;Committed revision 897161.&lt;/p&gt;

&lt;p&gt;I also intend to check in the fix on the 10.5 branch before I close this issue.&lt;/p&gt;</comment>
                            <comment id="12799684" author="knutanders" created="Wed, 13 Jan 2010 10:28:38 +0000"  >&lt;p&gt;Merged to 10.5 and committed revision 898704.&lt;/p&gt;</comment>
                            <comment id="12800643" author="knutanders" created="Fri, 15 Jan 2010 09:55:44 +0000"  >&lt;p&gt;Here&apos;s a patch that fixes the encoding on 10.4. To create this patch I followed these steps:&lt;/p&gt;

&lt;p&gt;1) Ran a script on the original localization patch that was applied to 10.4 (revision 682388) and replaced the broken escape sequences with the correct ones (e.g., \u00C3\u00A4 -&amp;gt; \u00E4)&lt;/p&gt;

&lt;p&gt;2) Applied the modified patch to sandbox with the 10.4 branch on revision 682387, which is right before the original 10.4 localization patch was checked in&lt;/p&gt;

&lt;p&gt;3) Updated the sandbox to revision 682388, resolving all conflicts by choosing my changes&lt;/p&gt;

&lt;p&gt;4) Updated the sandbox all the way to head of 10.4&lt;/p&gt;

&lt;p&gt;5) svn diff &amp;gt; backport-10.4.diff&lt;/p&gt;

&lt;p&gt;All the regression tests ran cleanly (well, almost... one failure in derbyall because of &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4418&quot; title=&quot;derbyall/encryptionAll/encryptionAll/aes fails on 10.4, 10.3 and 10.2 with Sun JVM 1.6.0_15 on Solaris&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4418&quot;&gt;&lt;del&gt;DERBY-4418&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="12800651" author="knutanders" created="Fri, 15 Jan 2010 10:08:33 +0000"  >&lt;p&gt;Here&apos;s a sample from 10.4. With 10.4.2.0:&lt;/p&gt;

&lt;p&gt;kah@ugle:~ % java -Dderby.ui.locale=fr_FR -jar /code/derby/oldreleases/10.4.2.0/derbynet.jar&lt;br/&gt;
DRDA_NoCommand.U&lt;br/&gt;
Syntaxe : NetworkServerControl &amp;lt;commandes&amp;gt; &lt;br/&gt;
Commandes :&lt;br/&gt;
start &lt;span class=&quot;error&quot;&gt;&amp;#91;-h &amp;lt;h&#244;te&amp;gt;&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;-p &amp;lt;num&#233;ro_port&amp;gt;&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;-noSecurityManager&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;-ssl &amp;lt;mode_ssl&amp;gt;&amp;#93;&lt;/span&gt;&lt;br/&gt;
shutdown &lt;span class=&quot;error&quot;&gt;&amp;#91;-h &amp;lt;h&#195;&#180;te&amp;gt;&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;-p &amp;lt;num&#195;&#169;ro_port&amp;gt;&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;-ssl &amp;lt;mode_ssl&amp;gt;&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;-user &amp;lt;nom_utilisateur&amp;gt;&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;-password &amp;lt;mot_de_passe&amp;gt;&amp;#93;&lt;/span&gt;&lt;br/&gt;
...&lt;/p&gt;

&lt;p&gt;Notice the wrong encoding for h&#244;te and num&#233;ro_port on the shutdown line.&lt;/p&gt;

&lt;p&gt;With patched 10.4:&lt;/p&gt;

&lt;p&gt;kah@ugle:~ % java -Dderby.ui.locale=fr_FR -jar /code/derby/10.4/jars/sane/derbynet.jar &lt;br/&gt;
DRDA_NoCommand.U&lt;br/&gt;
Syntaxe : NetworkServerControl &amp;lt;commandes&amp;gt; &lt;br/&gt;
Commandes :&lt;br/&gt;
start &lt;span class=&quot;error&quot;&gt;&amp;#91;-h &amp;lt;h&#244;te&amp;gt;&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;-p &amp;lt;num&#233;ro_port&amp;gt;&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;-noSecurityManager&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;-ssl &amp;lt;mode_ssl&amp;gt;&amp;#93;&lt;/span&gt;&lt;br/&gt;
shutdown &lt;span class=&quot;error&quot;&gt;&amp;#91;-h &amp;lt;h&#244;te&amp;gt;&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;-p &amp;lt;num&#233;ro_port&amp;gt;&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;-ssl &amp;lt;mode_ssl&amp;gt;&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;-user &amp;lt;nom_utilisateur&amp;gt;&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;-password &amp;lt;mot_de_passe&amp;gt;&amp;#93;&lt;/span&gt;&lt;br/&gt;
...&lt;/p&gt;</comment>
                            <comment id="12800652" author="knutanders" created="Fri, 15 Jan 2010 10:12:50 +0000"  >&lt;p&gt;Committed backport-10.4.diff to the 10.4 branch with revision 899582.&lt;/p&gt;</comment>
                            <comment id="12801869" author="myrna" created="Mon, 18 Jan 2010 17:16:11 +0000"  >&lt;p&gt;Perhaps we should add a test to prevent this from happening in the future...I&apos;ll think on it. If anyone has some suggestions? &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12463757">DERBY-4643</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12495330">DERBY-4969</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12401259">DERBY-3804</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12425106">DERBY-4221</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12429329" name="Escape.java" size="5375" author="knutanders" created="Mon, 4 Jan 2010 11:08:09 +0000"/>
                            <attachment id="12429209" name="Escape.java" size="1985" author="knutanders" created="Thu, 31 Dec 2009 12:38:51 +0000"/>
                            <attachment id="12428927" name="Escape.java" size="1908" author="knutanders" created="Thu, 24 Dec 2009 20:14:33 +0000"/>
                            <attachment id="12430383" name="backport-10.4.diff" size="292377" author="knutanders" created="Fri, 15 Jan 2010 09:55:44 +0000"/>
                            <attachment id="12430382" name="backport-10.4.stat" size="941" author="knutanders" created="Fri, 15 Jan 2010 09:55:44 +0000"/>
                            <attachment id="12428917" name="handback.zip" size="365199" author="rhillegas" created="Thu, 24 Dec 2009 16:00:51 +0000"/>
                            <attachment id="12428928" name="unicode_escape.diff" size="1210536" author="knutanders" created="Thu, 24 Dec 2009 20:14:33 +0000"/>
                            <attachment id="12429330" name="unicode_escape_v2.diff" size="904413" author="knutanders" created="Mon, 4 Jan 2010 11:08:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10420"><![CDATA[Regression]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 23 Dec 2009 21:40:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>24293</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0j5z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36923</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>