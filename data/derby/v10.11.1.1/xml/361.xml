<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:13:00 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-361/DERBY-361.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-361]  Unknown page format  error  while doing recovery after a  a crash while doing  in place compress.</title>
                <link>https://issues.apache.org/jira/browse/DERBY-361</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Crash was done manually when compress was almost  in the end. &lt;/p&gt;

&lt;p&gt;Log trace before the crash:&lt;/p&gt;

&lt;p&gt;DEBUG LogTrace OUTPUT: Write log record: tranId=14527 instant: (23,6270154) leng&lt;br/&gt;
th: 20BeginXact null transactionStatus 0&lt;/p&gt;

&lt;p&gt;DEBUG LogTrace OUTPUT: Write log record: tranId=14527 instant: (23,6270190) leng&lt;br/&gt;
th: 25&lt;br/&gt;
Page Operation: Page(0,Container(0, 768)) pageVersion 9567 :  CompressSpaceOpera&lt;br/&gt;
tion: newHighestPage = 0;num_pages_truncated = 956 to Page(0,Container(0, 768))&lt;/p&gt;

&lt;p&gt;DEBUG LogTrace OUTPUT: Flush log to 1350071&lt;br/&gt;
DEBUG LogTrace OUTPUT: Write log record: tranId=Null instant: (23,6251544) lengt&lt;br/&gt;
h: 21&lt;br/&gt;
Checksum Operation  algorithm = 1 value = 3588488 data length= 18650&lt;/p&gt;

&lt;p&gt;DEBUG LogTrace OUTPUT: Begin log sync...&lt;br/&gt;
DEBUG LogTrace OUTPUT: end log sync.&lt;br/&gt;
DEBUG LogTrace OUTPUT: Flush log to 6270235&lt;br/&gt;
DEBUG LogTrace OUTPUT: Begin log sync...&lt;br/&gt;
DEBUG LogTrace OUTPUT: end log sync.&lt;br/&gt;
DEBUG LogTrace OUTPUT: Write log record: tranId=14527 instant: (24,61) length: 1&lt;br/&gt;
7&lt;br/&gt;
EndXact null Committed : transactionStatus =  Committed&lt;/p&gt;



&lt;p&gt;&amp;#8212;&lt;/p&gt;

&lt;p&gt;C:\suresht\databases&amp;gt;java -Dij.protocol=jdbc:derby: org.apache.derby.tools.ij&lt;br/&gt;
ij version 10.1&lt;br/&gt;
ij&amp;gt; call SYSCS_UTIL.SYSCS_INPLACE_COMPRESS_TABLE(&apos;APP&apos; , &apos;T1&apos; , 1 , 1, 1) ;&lt;br/&gt;
IJ ERROR: Unable to establish connection&lt;br/&gt;
ij&amp;gt; connect &apos;jdbc:derby:wombat&apos;;&lt;br/&gt;
ERROR XJ040: Failed to start database &apos;wombat&apos;, see the next exception for detai&lt;br/&gt;
ls.&lt;br/&gt;
ERROR XSDB1: Unknown page format at page Page(102,Container(0, 768))&lt;br/&gt;
ij&amp;gt;&lt;/p&gt;

&lt;p&gt;What was done on the DB :&lt;br/&gt;
$ rm -rf wombat&lt;br/&gt;
$ ij&lt;/p&gt;

&lt;p&gt;C:\suresht\databases&amp;gt;rem set DERBY_INSTALL=&lt;/p&gt;

&lt;p&gt;C:\suresht\databases&amp;gt;java -Dij.protocol=jdbc:derby: org.apache.derby.tools.ij&lt;br/&gt;
ij version 10.1&lt;br/&gt;
ij&amp;gt; Terminate batch job (Y/N)? ^C&lt;/p&gt;

&lt;p&gt;$ ij&lt;/p&gt;

&lt;p&gt;C:\suresht\databases&amp;gt;rem set DERBY_INSTALL=&lt;/p&gt;

&lt;p&gt;C:\suresht\databases&amp;gt;java -Dij.protocol=jdbc:derby: org.apache.derby.tools.ij&lt;br/&gt;
ij version 10.1&lt;br/&gt;
ij&amp;gt; connect &apos;jdbc:derby:wombat;create=true&apos;;&lt;br/&gt;
ij&amp;gt; create table t1(a int ) ;&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t1 values(1) ;&lt;br/&gt;
1 row inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t1 select a + 1 from t1 ;&lt;br/&gt;
1 row inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t1 select a + 1 from t1 ;&lt;br/&gt;
2 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t1 select a + 1 from t1 ;&lt;br/&gt;
4 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t1 select a + 1 from t1 ;&lt;br/&gt;
8 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t1 select a + 1 from t1 ;&lt;br/&gt;
16 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t1 select a + 1 from t1 ;&lt;br/&gt;
32 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t1 select a + 1 from t1 ;&lt;br/&gt;
64 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t1 select a + 1 from t1 ;&lt;br/&gt;
128 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t1 select a + 1 from t1 ;&lt;br/&gt;
256 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t1 select a + 1 from t1 ;&lt;br/&gt;
512 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t1 select a + 1 from t1 ;&lt;br/&gt;
1024 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t1 select a + 1 from t1 ;&lt;br/&gt;
2048 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t1 select a + 1 from t1 ;&lt;br/&gt;
4096 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t1 select a + 1 from t1 ;&lt;br/&gt;
8192 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t1 select a + 1 from t1 ;&lt;br/&gt;
16384 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t1 select a + 1 from t1 ;&lt;br/&gt;
32768 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t1 select a + 1 from t1 ;&lt;br/&gt;
65536 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t1 select a + 1 from t1 ;&lt;br/&gt;
131072 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t1 select a + 1 from t1 ;&lt;br/&gt;
262144 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; commit ;&lt;br/&gt;
ij&amp;gt; delete from t1 ;&lt;br/&gt;
524288 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt;  select * from new org.apache.derby.diag.SpaceTable(&apos;T1&apos;) ;&lt;br/&gt;
ERROR 42X01: Syntax error: Encountered &quot;&amp;lt;EOF&amp;gt;&quot; at line 1, column 57.&lt;br/&gt;
ij&amp;gt;  select * from new org.apache.derby.diag.SpaceTable(&apos;T1&apos;) t ;&lt;br/&gt;
CONGLOMERATENAME&lt;/p&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;ISIND&amp;amp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;NUMALLOCATEDPAGES   &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;NUM&lt;br/&gt;
FREEPAGES        &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;NUMUNFILLEDPAGES    &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;PAGESIZE   &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;ESTIMSPACESAVING&lt;br/&gt;
--------------------------------------------------------------------------------&lt;br/&gt;
--------------------------------------------------------------------------------&lt;br/&gt;
-----------------------------------------------------------------------&lt;br/&gt;
T1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;0     &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1                   &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;382&lt;br/&gt;
6                &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1                   &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;4096       &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;15671296&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;


&lt;p&gt;1 row selected&lt;br/&gt;
ij&amp;gt; select NUMALLOCATEDPAGES from new org.apache.derby.diag.SpaceTable(&apos;T1&apos;) t ;&lt;/p&gt;

&lt;p&gt;NUMALLOCATEDPAGES&lt;br/&gt;
--------------------&lt;br/&gt;
1&lt;/p&gt;

&lt;p&gt;1 row selected&lt;br/&gt;
ij&amp;gt; select NUMAFREEPAGES from new org.apache.derby.diag.SpaceTable(&apos;T1&apos;) t ;&lt;br/&gt;
ERROR 42X04: Column &apos;NUMAFREEPAGES&apos; is either not in any table in the FROM list&lt;br/&gt;
or appears within a join specification and is outside the scope of the join spec&lt;br/&gt;
ification or appears in a HAVING clause and is not in the GROUP BY list. If this&lt;br/&gt;
 is a CREATE or ALTER TABLE  statement then &apos;NUMAFREEPAGES&apos; is not a column in t&lt;br/&gt;
he target table.&lt;br/&gt;
ij&amp;gt; select NUMFREEPAGES from new org.apache.derby.diag.SpaceTable(&apos;T1&apos;) t ;&lt;br/&gt;
NUMFREEPAGES&lt;br/&gt;
--------------------&lt;br/&gt;
3826&lt;/p&gt;

&lt;p&gt;1 row selected&lt;br/&gt;
ij&amp;gt;  call SYSCS_UTIL.SYSCS_INPLACE_COMPRESS_TABLE(&apos;APP&apos; , &apos;T1&apos; , 1 , 1, 1) ;&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; select NUMFREEPAGES from new org.apache.derby.diag.SpaceTable(&apos;T1&apos;) t ;&lt;br/&gt;
NUMFREEPAGES&lt;br/&gt;
--------------------&lt;br/&gt;
0&lt;/p&gt;

&lt;p&gt;1 row selected&lt;br/&gt;
ij&amp;gt; select * from new org.apache.derby.diag.SpaceTable(&apos;T1&apos;) t ;&lt;br/&gt;
CONGLOMERATENAME&lt;/p&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;ISIND&amp;amp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;NUMALLOCATEDPAGES   &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;NUM&lt;br/&gt;
FREEPAGES        &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;NUMUNFILLEDPAGES    &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;PAGESIZE   &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;ESTIMSPACESAVING&lt;br/&gt;
--------------------------------------------------------------------------------&lt;br/&gt;
--------------------------------------------------------------------------------&lt;br/&gt;
-----------------------------------------------------------------------&lt;br/&gt;
T1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;0     &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1                   &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1                   &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;4096       &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;0&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;


&lt;p&gt;1 row selected&lt;br/&gt;
ij&amp;gt; ^CTerminate batch job (Y/N)? ^C&lt;/p&gt;

&lt;p&gt;$ ij\&lt;br/&gt;
&amp;gt;&lt;br/&gt;
$ ij&lt;/p&gt;

&lt;p&gt;C:\suresht\databases&amp;gt;rem set DERBY_INSTALL=&lt;/p&gt;

&lt;p&gt;C:\suresht\databases&amp;gt;java -Dij.protocol=jdbc:derby: org.apache.derby.tools.ij&lt;br/&gt;
ij version 10.1&lt;br/&gt;
ij&amp;gt; connect &apos;jdbc:derby:wombat&apos;;&lt;br/&gt;
ij&amp;gt; select * from t1 ;&lt;br/&gt;
A&lt;br/&gt;
-----------&lt;/p&gt;

&lt;p&gt;0 rows selected&lt;br/&gt;
ij&amp;gt; insert into t1 values(1) ;&lt;br/&gt;
1 row inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t1 select * from t1 ;&lt;br/&gt;
1 row inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t1 select * from t1 ;&lt;br/&gt;
2 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t1 select * from t1 ;&lt;br/&gt;
4 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t1 select a+1 from t1 ;&lt;br/&gt;
8 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t1 select a+1 from t1 ;&lt;br/&gt;
16 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t1 select a+1 from t1 ;&lt;br/&gt;
32 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t1 select a+1 from t1 ;&lt;br/&gt;
64 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t1 select a+1 from t1 ;&lt;br/&gt;
128 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t1 select a+1 from t1 ;&lt;br/&gt;
256 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t1 select a+1 from t1 ;&lt;br/&gt;
512 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t1 select a+1 from t1 ;&lt;br/&gt;
1024 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t1 select a+1 from t1 ;&lt;br/&gt;
2048 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t1 select a+1 from t1 ;&lt;br/&gt;
4096 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t1 select a+1 from t1 ;&lt;br/&gt;
8192 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t1 select a+1 from t1 ;&lt;br/&gt;
16384 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t1 select a+1 from t1 ;&lt;br/&gt;
32768 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t1 select a+1 from t1 ;&lt;br/&gt;
65536 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; delete from t1 ;&lt;br/&gt;
131072 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; select * from new org.apache.derby.diag.SpaceTable(&apos;T1&apos;) t ;&lt;br/&gt;
CONGLOMERATENAME&lt;/p&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;ISIND&amp;amp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;NUMALLOCATEDPAGES   &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;NUM&lt;br/&gt;
FREEPAGES        &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;NUMUNFILLEDPAGES    &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;PAGESIZE   &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;ESTIMSPACESAVING&lt;br/&gt;
--------------------------------------------------------------------------------&lt;br/&gt;
--------------------------------------------------------------------------------&lt;br/&gt;
-----------------------------------------------------------------------&lt;br/&gt;
T1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;0     &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;1                   &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;956&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;0                   &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;4096       &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;3915776&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;


&lt;p&gt;1 row selected&lt;br/&gt;
ij&amp;gt;  call SYSCS_UTIL.SYSCS_INPLACE_COMPRESS_TABLE(&apos;APP&apos; , &apos;T1&apos; , 1 , 1, 1) ;&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; Terminate batch job (Y/N)? ^C&lt;/p&gt;

&lt;p&gt;$ ij&lt;/p&gt;

&lt;p&gt;C:\suresht\databases&amp;gt;rem set DERBY_INSTALL=&lt;/p&gt;

&lt;p&gt;C:\suresht\databases&amp;gt;java -Dij.protocol=jdbc:derby: org.apache.derby.tools.ij&lt;br/&gt;
ij version 10.1&lt;br/&gt;
ij&amp;gt; call SYSCS_UTIL.SYSCS_INPLACE_COMPRESS_TABLE(&apos;APP&apos; , &apos;T1&apos; , 1 , 1, 1) ;&lt;br/&gt;
IJ ERROR: Unable to establish connection&lt;br/&gt;
ij&amp;gt; connect &apos;jdbc:derby:wombat&apos;;&lt;br/&gt;
ERROR XJ040: Failed to start database &apos;wombat&apos;, see the next exception for detai&lt;br/&gt;
ls.&lt;br/&gt;
ERROR XSDB1: Unknown page format at page Page(102,Container(0, 768))&lt;br/&gt;
ij&amp;gt;&lt;/p&gt;

&lt;p&gt;Stacks:&lt;br/&gt;
 pageVersion 8611 :  Change page allocation status of 102 to 1(undo 0) instant =&lt;br/&gt;
 (23,6494) logEnd = (23,6536) logIn at 22 available 4&lt;br/&gt;
DEBUG LogTrace OUTPUT: scanned 12606 : Page Operation: Page(102,Container(0, 768&lt;br/&gt;
)) pageVersion 412 : Invalidate Page - it has been deallocated instant = (23,653&lt;br/&gt;
6) logEnd = (23,6574) logIn at 18 available 4&lt;/p&gt;

&lt;p&gt;------------  BEGIN SHUTDOWN ERROR STACK -------------&lt;/p&gt;

&lt;p&gt;ERROR XSLA7: Cannot redo operation Page Operation: Page(102,Container(0, 768)) p&lt;br/&gt;
ageVersion 412 : Invalidate Page - it has been deallocated in the log.&lt;br/&gt;
        at org.apache.derby.iapi.error.StandardException.newException(StandardEx&lt;br/&gt;
ception.java:315)&lt;br/&gt;
        at org.apache.derby.impl.store.raw.log.FileLogger.redo(FileLogger.java:1&lt;br/&gt;
515)&lt;br/&gt;
        at org.apache.derby.impl.store.raw.log.LogToFile.recover(LogToFile.java:&lt;br/&gt;
798)&lt;br/&gt;
        at org.apache.derby.impl.store.raw.RawStore.boot(RawStore.java:323)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.j&lt;br/&gt;
ava:1985)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.TopService.bootModule(TopServi&lt;br/&gt;
ce.java:290)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.startModule(BaseMo&lt;br/&gt;
nitor.java:539)&lt;br/&gt;
        at org.apache.derby.iapi.services.monitor.Monitor.bootServiceModule(Moni&lt;br/&gt;
tor.java:418)&lt;br/&gt;
        at org.apache.derby.impl.store.access.RAMAccessManager.boot(RAMAccessMan&lt;br/&gt;
ager.java:994)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.j&lt;br/&gt;
ava:1985)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.TopService.bootModule(TopServi&lt;br/&gt;
ce.java:290)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.startModule(BaseMo&lt;br/&gt;
nitor.java:539)&lt;br/&gt;
        at org.apache.derby.iapi.services.monitor.Monitor.bootServiceModule(Moni&lt;br/&gt;
tor.java:418)&lt;br/&gt;
        at org.apache.derby.impl.db.BasicDatabase.bootStore(BasicDatabase.java:7&lt;br/&gt;
57)&lt;br/&gt;
        at org.apache.derby.impl.db.BasicDatabase.boot(BasicDatabase.java:178)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.j&lt;br/&gt;
ava:1985)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.TopService.bootModule(TopServi&lt;br/&gt;
ce.java:290)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.bootService(BaseMo&lt;br/&gt;
nitor.java:1832)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.startProviderServi&lt;br/&gt;
ce(BaseMonitor.java:1698)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.findProviderAndSta&lt;br/&gt;
rtService(BaseMonitor.java:1577)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentSer&lt;br/&gt;
vice(BaseMonitor.java:996)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentSer&lt;br/&gt;
vice(BaseMonitor.java:988)&lt;br/&gt;
        at org.apache.derby.iapi.services.monitor.Monitor.startPersistentService&lt;br/&gt;
(Monitor.java:533)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.EmbedConnection.bootDatabase(EmbedConnecti&lt;br/&gt;
on.java:1551)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(EmbedConnection.jav&lt;br/&gt;
a:196)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.EmbedConnection30.&amp;lt;init&amp;gt;(EmbedConnection30&lt;br/&gt;
.java:72)&lt;br/&gt;
        at org.apache.derby.jdbc.Driver30.getNewEmbedConnection(Driver30.java:73&lt;br/&gt;
)&lt;br/&gt;
        at org.apache.derby.jdbc.InternalDriver.connect(InternalDriver.java:183)&lt;br/&gt;
        at java.sql.DriverManager.getConnection(DriverManager.java:512)&lt;br/&gt;
        at java.sql.DriverManager.getConnection(DriverManager.java:140)&lt;br/&gt;
        at org.apache.derby.impl.tools.ij.ij.dynamicConnection(ij.java:836)&lt;br/&gt;
        at org.apache.derby.impl.tools.ij.ij.ConnectStatement(ij.java:698)&lt;br/&gt;
        at org.apache.derby.impl.tools.ij.ij.ijStatement(ij.java:528)&lt;br/&gt;
        at org.apache.derby.impl.tools.ij.utilMain.go(utilMain.java:289)&lt;br/&gt;
        at org.apache.derby.impl.tools.ij.Main.go(Main.java:203)&lt;br/&gt;
        at org.apache.derby.impl.tools.ij.Main.mainCore(Main.java:169)&lt;br/&gt;
        at org.apache.derby.impl.tools.ij.Main14.main(Main14.java:55)&lt;br/&gt;
        at org.apache.derby.tools.ij.main(ij.java:60)&lt;br/&gt;
============= begin nested exception, level (1) ===========&lt;br/&gt;
ERROR XSDB1: Unknown page format at page Page(102,Container(0, 768))&lt;br/&gt;
        at org.apache.derby.iapi.error.StandardException.newException(StandardEx&lt;br/&gt;
ception.java:315)&lt;br/&gt;
        at org.apache.derby.impl.store.raw.data.CachedPage.changeInstanceTo(Cach&lt;br/&gt;
edPage.java:315)&lt;br/&gt;
        at org.apache.derby.impl.store.raw.data.CachedPage.setIdentity(CachedPag&lt;br/&gt;
e.java:195)&lt;br/&gt;
        at org.apache.derby.impl.services.cache.CachedItem.takeOnIdentity(Cached&lt;br/&gt;
Item.java:235)&lt;br/&gt;
        at org.apache.derby.impl.services.cache.Clock.addEntry(Clock.java:798)&lt;br/&gt;
        at org.apache.derby.impl.services.cache.Clock.find(Clock.java:303)&lt;br/&gt;
        at org.apache.derby.impl.store.raw.data.FileContainer.getAnyPage(FileCon&lt;br/&gt;
tainer.java:2430)&lt;br/&gt;
        at org.apache.derby.impl.store.raw.data.BaseContainer.getAnyPage(BaseCon&lt;br/&gt;
tainer.java:473)&lt;br/&gt;
        at org.apache.derby.impl.store.raw.data.BaseContainerHandle.getAnyPage(B&lt;br/&gt;
aseContainerHandle.java:590)&lt;br/&gt;
        at org.apache.derby.impl.store.raw.data.PageBasicOperation.findpage(Page&lt;br/&gt;
BasicOperation.java:303)&lt;br/&gt;
        at org.apache.derby.impl.store.raw.data.PageBasicOperation.needsRedo(Pag&lt;br/&gt;
eBasicOperation.java:159)&lt;br/&gt;
        at org.apache.derby.impl.store.raw.log.FileLogger.redo(FileLogger.java:1&lt;br/&gt;
394)&lt;br/&gt;
        at org.apache.derby.impl.store.raw.log.LogToFile.recover(LogToFile.java:&lt;br/&gt;
798)        at org.apache.derby.impl.store.raw.RawStore.boot(RawStore.java:323)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.j&lt;br/&gt;
ava:1985)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.TopService.bootModule(TopServi&lt;br/&gt;
ce.java:290)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.startModule(BaseMo&lt;br/&gt;
nitor.java:539)&lt;br/&gt;
        at org.apache.derby.iapi.services.monitor.Monitor.bootServiceModule(Moni&lt;br/&gt;
tor.java:418)&lt;br/&gt;
        at org.apache.derby.impl.store.access.RAMAccessManager.boot(RAMAccessMan&lt;br/&gt;
ager.java:994)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.j&lt;br/&gt;
ava:1985)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.TopService.bootModule(TopServi&lt;br/&gt;
ce.java:290)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.startModule(BaseMo&lt;br/&gt;
nitor.java:539)&lt;br/&gt;
        at org.apache.derby.iapi.services.monitor.Monitor.bootServiceModule(Moni&lt;br/&gt;
tor.java:418)&lt;br/&gt;
        at org.apache.derby.impl.db.BasicDatabase.bootStore(BasicDatabase.java:7&lt;br/&gt;
57)&lt;br/&gt;
        at org.apache.derby.impl.db.BasicDatabase.boot(BasicDatabase.java:178)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.j&lt;br/&gt;
ava:1985)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.TopService.bootModule(TopServi&lt;br/&gt;
ce.java:290)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.bootService(BaseMo&lt;br/&gt;
nitor.java:1832)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.startProviderServi&lt;br/&gt;
ce(BaseMonitor.java:1698)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.findProviderAndSta&lt;br/&gt;
rtService(BaseMonitor.java:1577)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentSer&lt;br/&gt;
vice(BaseMonitor.java:996)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentSer&lt;br/&gt;
vice(BaseMonitor.java:988)&lt;br/&gt;
        at org.apache.derby.iapi.services.monitor.Monitor.startPersistentService&lt;br/&gt;
(Monitor.java:533)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.EmbedConnection.bootDatabase(EmbedConnecti&lt;br/&gt;
on.java:1551)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(EmbedConnection.jav&lt;br/&gt;
a:196)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.EmbedConnection30.&amp;lt;init&amp;gt;(EmbedConnection30&lt;br/&gt;
.java:72)&lt;br/&gt;
        at org.apache.derby.jdbc.Driver30.getNewEmbedConnection(Driver30.java:73&lt;br/&gt;
)&lt;br/&gt;
        at org.apache.derby.jdbc.InternalDriver.connect(InternalDriver.java:183)&lt;br/&gt;
        at java.sql.DriverManager.getConnection(DriverManager.java:512)&lt;br/&gt;
        at java.sql.DriverManager.getConnection(DriverManager.java:140)&lt;br/&gt;
        at org.apache.derby.impl.tools.ij.ij.dynamicConnection(ij.java:836)&lt;br/&gt;
        at org.apache.derby.impl.tools.ij.ij.ConnectStatement(ij.java:698)&lt;br/&gt;
        at org.apache.derby.impl.tools.ij.ij.ijStatement(ij.java:528)&lt;br/&gt;
        at org.apache.derby.impl.tools.ij.utilMain.go(utilMain.java:289)&lt;br/&gt;
        at org.apache.derby.impl.tools.ij.Main.go(Main.java:203)&lt;br/&gt;
        at org.apache.derby.impl.tools.ij.Main.mainCore(Main.java:169)&lt;br/&gt;
        at org.apache.derby.impl.tools.ij.Main14.main(Main14.java:55)&lt;br/&gt;
        at org.apache.derby.tools.ij.main(ij.java:60)&lt;br/&gt;
============= end nested exception, level (1) ===========&lt;br/&gt;
============= begin nested exception, level (2) ===========&lt;br/&gt;
ERROR XBM0U: No class was registered for identifier 0.&lt;br/&gt;
        at org.apache.derby.iapi.error.StandardException.newException(StandardEx&lt;br/&gt;
ception.java:311)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.classFromIdentifie&lt;br/&gt;
r(BaseMonitor.java:648)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.newInstanceFromIde&lt;br/&gt;
ntifier(BaseMonitor.java:661)&lt;br/&gt;
        at org.apache.derby.iapi.services.monitor.Monitor.newInstanceFromIdentif&lt;br/&gt;
ier(Monitor.java:618)&lt;br/&gt;
        at org.apache.derby.impl.store.raw.data.CachedPage.changeInstanceTo(Cach&lt;br/&gt;
edPage.java:303)&lt;br/&gt;
        at org.apache.derby.impl.store.raw.data.CachedPage.setIdentity(CachedPag&lt;br/&gt;
e.java:195)&lt;br/&gt;
        at org.apache.derby.impl.services.cache.CachedItem.takeOnIdentity(Cached&lt;br/&gt;
Item.java:235)&lt;br/&gt;
        at org.apache.derby.impl.services.cache.Clock.addEntry(Clock.java:798)&lt;br/&gt;
        at org.apache.derby.impl.services.cache.Clock.find(Clock.java:303)&lt;br/&gt;
-&lt;del&gt;More&lt;/del&gt;-        at org.apache.derby.impl.store.raw.data.FileContainer.getAnyPage(FileCon&lt;br/&gt;
tainer.java:2430)&lt;br/&gt;
        at org.apache.derby.impl.store.raw.data.BaseContainer.getAnyPage(BaseCon&lt;br/&gt;
tainer.java:473)&lt;br/&gt;
        at org.apache.derby.impl.store.raw.data.BaseContainerHandle.getAnyPage(B&lt;br/&gt;
aseContainerHandle.java:590)&lt;br/&gt;
        at org.apache.derby.impl.store.raw.data.PageBasicOperation.findpage(Page&lt;br/&gt;
BasicOperation.java:303)&lt;br/&gt;
        at org.apache.derby.impl.store.raw.data.PageBasicOperation.needsRedo(Pag&lt;br/&gt;
eBasicOperation.java:159)&lt;br/&gt;
        at org.apache.derby.impl.store.raw.log.FileLogger.redo(FileLogger.java:1&lt;br/&gt;
394)&lt;br/&gt;
        at org.apache.derby.impl.store.raw.log.LogToFile.recover(LogToFile.java:&lt;br/&gt;
798)&lt;br/&gt;
        at org.apache.derby.impl.store.raw.RawStore.boot(RawStore.java:323)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.j&lt;br/&gt;
ava:1985)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.TopService.bootModule(TopServi&lt;br/&gt;
ce.java:290)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.startModule(BaseMo&lt;br/&gt;
nitor.java:539)&lt;br/&gt;
        at org.apache.derby.iapi.services.monitor.Monitor.bootServiceModule(Moni&lt;br/&gt;
tor.java:418)&lt;br/&gt;
        at org.apache.derby.impl.store.access.RAMAccessManager.boot(RAMAccessMan&lt;br/&gt;
ager.java:994)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.j&lt;br/&gt;
ava:1985)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.TopService.bootModule(TopServi&lt;br/&gt;
ce.java:290)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.startModule(BaseMo&lt;br/&gt;
nitor.java:539)&lt;br/&gt;
        at org.apache.derby.iapi.services.monitor.Monitor.bootServiceModule(Moni&lt;br/&gt;
tor.java:418)&lt;br/&gt;
        at org.apache.derby.impl.db.BasicDatabase.bootStore(BasicDatabase.java:7&lt;br/&gt;
57)&lt;br/&gt;
        at org.apache.derby.impl.db.BasicDatabase.boot(BasicDatabase.java:178)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.boot(BaseMonitor.j&lt;br/&gt;
ava:1985)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.TopService.bootModule(TopServi&lt;br/&gt;
ce.java:290)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.bootService(BaseMo&lt;br/&gt;
nitor.java:1832)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.startProviderServi&lt;br/&gt;
ce(BaseMonitor.java:1698)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.findProviderAndSta&lt;br/&gt;
rtService(BaseMonitor.java:1577)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentSer&lt;br/&gt;
vice(BaseMonitor.java:996)&lt;br/&gt;
        at org.apache.derby.impl.services.monitor.BaseMonitor.startPersistentSer&lt;br/&gt;
vice(BaseMonitor.java:988)&lt;br/&gt;
        at org.apache.derby.iapi.services.monitor.Monitor.startPersistentService&lt;br/&gt;
(Monitor.java:533)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.EmbedConnection.bootDatabase(EmbedConnecti&lt;br/&gt;
on.java:1551)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.EmbedConnection.&amp;lt;init&amp;gt;(EmbedConnection.jav&lt;br/&gt;
a:196)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.EmbedConnection30.&amp;lt;init&amp;gt;(EmbedConnection30&lt;br/&gt;
.java:72)&lt;br/&gt;
        at org.apache.derby.jdbc.Driver30.getNewEmbedConnection(Driver30.java:73&lt;br/&gt;
)&lt;br/&gt;
        at org.apache.derby.jdbc.InternalDriver.connect(InternalDriver.java:183)&lt;br/&gt;
        at java.sql.DriverManager.getConnection(DriverManager.java:512)&lt;br/&gt;
        at java.sql.DriverManager.getConnection(DriverManager.java:140)&lt;br/&gt;
        at org.apache.derby.impl.tools.ij.ij.dynamicConnection(ij.java:836)&lt;br/&gt;
        at org.apache.derby.impl.tools.ij.ij.ConnectStatement(ij.java:698)&lt;br/&gt;
        at org.apache.derby.impl.tools.ij.ij.ijStatement(ij.java:528)&lt;br/&gt;
        at org.apache.derby.impl.tools.ij.utilMain.go(utilMain.java:289)&lt;br/&gt;
        at org.apache.derby.impl.tools.ij.Main.go(Main.java:203)&lt;br/&gt;
        at org.apache.derby.impl.tools.ij.Main.mainCore(Main.java:169)&lt;br/&gt;
        at org.apache.derby.impl.tools.ij.Main14.main(Main14.java:55)&lt;br/&gt;
        at org.apache.derby.tools.ij.main(ij.java:60)&lt;br/&gt;
============= end nested exception, level (2) ===========&lt;br/&gt;
-&lt;del&gt;More&lt;/del&gt;-&lt;/p&gt;</description>
                <environment>Windows.</environment>
        <key id="12311387">DERBY-361</key>
            <summary> Unknown page format  error  while doing recovery after a  a crash while doing  in place compress.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mikem">Mike Matrigali</assignee>
                                    <reporter username="tsuresh">Suresh Thalamati</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Jun 2005 09:03:36 +0100</created>
                <updated>Thu, 13 Dec 2007 09:04:40 +0000</updated>
                            <resolved>Wed, 29 Jun 2005 10:39:02 +0100</resolved>
                                    <version>10.1.1.0</version>
                                    <fixVersion>10.1.1.0</fixVersion>
                                    <component>Store</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12313656" author="tsuresh" created="Wed, 15 Jun 2005 09:16:11 +0100"  >&lt;p&gt;wombat..jar -  database  which got unknown page format error. &lt;/p&gt;</comment>
                            <comment id="12313657" author="tsuresh" created="Wed, 15 Jun 2005 09:23:29 +0100"  >&lt;p&gt;derby2.log -  partial log file with log trace on. &lt;/p&gt;</comment>
                            <comment id="12314659" author="mikem" created="Wed, 29 Jun 2005 10:39:02 +0100"  >&lt;p&gt;The problem was that redo recovery encountered a page that no longer existed in the file after a &lt;br/&gt;
compress space that removed the page from the file.  To avoid the issue, forced a checkpoint&lt;br/&gt;
before the compress.&lt;/p&gt;</comment>
                            <comment id="12420360" author="rhillegas" created="Wed, 12 Jul 2006 00:58:14 +0100"  >&lt;p&gt;Assigning to Store component.&lt;/p&gt;</comment>
                            <comment id="12551276" author="fuzzylogic" created="Thu, 13 Dec 2007 09:04:40 +0000"  >&lt;p&gt;This issue has been resolved for over a year with no further movement. Closing.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12310747" name="derby2.log" size="6607170" author="tsuresh" created="Wed, 15 Jun 2005 09:23:29 +0100"/>
                            <attachment id="12310746" name="wombat.jar" size="824502" author="tsuresh" created="Wed, 15 Jun 2005 09:16:10 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 29 Jun 2005 09:39:02 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>21917</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy10if:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39733</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>