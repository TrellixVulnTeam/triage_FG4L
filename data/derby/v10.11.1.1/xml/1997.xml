<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:08:54 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-1997/DERBY-1997.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-1997] Misleading text in WwdEmbedded demo source file for Working With Derby</title>
                <link>https://issues.apache.org/jira/browse/DERBY-1997</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;I&apos;m making some minor fixes to the Working With Derby manual (&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1948&quot; title=&quot;10.2 &amp;#39;Working with Derby&amp;#39; manual errors.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1948&quot;&gt;&lt;del&gt;DERBY-1948&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1972&quot; title=&quot;Working With Derby needs some formatting fixes and other minor cleanup&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1972&quot;&gt;&lt;del&gt;DERBY-1972&lt;/del&gt;&lt;/a&gt;). The description of the WwdEmbedded.java program in the HTML generated from the file rwwdactivity3.dita (&lt;a href=&quot;http://db.apache.org/derby/docs/dev/workingwithderby/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://db.apache.org/derby/docs/dev/workingwithderby/&lt;/a&gt;) contains the following paragraph:&lt;/p&gt;

&lt;p&gt;DERBY EXCEPTION REPORTING CLASSES: The two methods at the end of the file, errorPrint and SQLExceptionPrint, are generic exception reporting routines that can be used with any JDBC program. This type of exception handling is required because often multiple exceptions (SQLException) are chained together then thrown. A while loop is used to report on each error in the chain. These classes are used by calling the errorPrint method from the catch block of the code that accesses the database.&lt;/p&gt;

&lt;p&gt;The introductory text &quot;DERBY EXCEPTION REPORTING CLASSES&quot; is keyed to a comment with the same text in the DERBY_HOME/demo/programs/workingwithderby/WwdEmbedded.java program:&lt;/p&gt;

&lt;p&gt;     //   ## DERBY EXCEPTION REPORTING CLASSES  ## &lt;/p&gt;

&lt;p&gt;    /***     Exception reporting methods&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;with special handling of SQLExceptions&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    ***/&lt;/p&gt;


&lt;p&gt;The problem is that there are no Derby exception reporting classes, only methods, as far as I can tell. The use of the term CLASSES is likely to confuse any users not well acquainted with Java (one of the target audiences of this manual). It would be great if someone could change CLASSES to METHODS in the WwdEmbedded.java file so that I can make the corresponding fix to the rwwdactivity3.dita file. I would also have to correct the confusing last sentence of the paragraph; I think it would make more sense to say, &quot;The program starts this process by calling the errorPrint method from the catch block of the code that accesses the database.&quot; (I can&apos;t just change &quot;classes&quot; to &quot;methods&quot; because errorPrint &lt;b&gt;is&lt;/b&gt; one of the methods.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12353884">DERBY-1997</key>
            <summary>Misleading text in WwdEmbedded demo source file for Working With Derby</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chaase3">Kim Haase</assignee>
                                    <reporter username="chaase3">Kim Haase</reporter>
                        <labels>
                            <label>derby_triage10_5_2</label>
                    </labels>
                <created>Tue, 24 Oct 2006 20:13:33 +0100</created>
                <updated>Fri, 20 Jun 2014 14:27:34 +0100</updated>
                            <resolved>Tue, 11 Mar 2014 14:16:55 +0000</resolved>
                                    <version>10.2.1.6</version>
                                    <fixVersion>10.11.1.1</fixVersion>
                                    <component>Demos/Scripts</component>
                    <component>Documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="12728655" author="knutanders" created="Wed, 8 Jul 2009 13:27:52 +0100"  >&lt;p&gt;Triaged for 10.5.2.&lt;/p&gt;

&lt;p&gt;Working With Derby has now been merged with Getting Started with Derby (&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2390&quot; title=&quot;DOCS - Merge Working with Derby and Getting Started Guide&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2390&quot;&gt;&lt;del&gt;DERBY-2390&lt;/del&gt;&lt;/a&gt;), but the problematic text is still there - &lt;a href=&quot;http://db.apache.org/derby/docs/dev/getstart/rwwdactivity3.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://db.apache.org/derby/docs/dev/getstart/rwwdactivity3.html&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;One alternative way to fix it is to remove the exception reporting methods altogether (both from code and from docs). I think the reason why they were written in the first place, was that Java 1.3 didn&apos;t have initCause/getCause. But now those methods are available on all supported platforms, and we use them, so a simple call to printStackTrace() on the top-level exception should normally show the full exception chain.&lt;/p&gt;</comment>
                            <comment id="13690672" author="dyret" created="Fri, 21 Jun 2013 21:10:38 +0100"  >&lt;p&gt;Removed the obsolete functions and used printStackTrace as suggested&lt;/p&gt;</comment>
                            <comment id="13691144" author="dyret" created="Sat, 22 Jun 2013 14:33:26 +0100"  >&lt;p&gt;Patch without white space diff&lt;/p&gt;</comment>
                            <comment id="13691708" author="dagw" created="Mon, 24 Jun 2013 06:35:49 +0100"  >&lt;p&gt;The last patch (by date) looks good to me +1. &lt;/p&gt;

&lt;p&gt;Hint: We usually use the .diff suffix,and intelligible names on the patch its self, e.g. derby-&amp;lt;issue&amp;gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;lt;partid&amp;gt;&amp;#93;&lt;/span&gt;-&amp;lt;rev&amp;gt;.diff. The &amp;lt;partid&amp;gt; is often omitted for simple issues, being called into service only for issues for which many incremental patches are needed.  That said, exact usage varies among devs &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;This makes it easier for reviewers that download many patches to keep track of them. &lt;/p&gt;</comment>
                            <comment id="13691796" author="dyret" created="Mon, 24 Jun 2013 09:47:13 +0100"  >&lt;p&gt;Thanks for the review Dag. &lt;/p&gt;

&lt;p&gt;I didn&apos;t really like the names either, but that&apos;s what Netbeans does when exporting uncommitted changes to Jira. A neat feature, really, so I wonder if it is possible to configure the name it chooses for the patch... If not, I might be tempted to submit an enhancement request to NB. At least I was able to tell NB that I want to see white-space changes in diffs.&lt;/p&gt;</comment>
                            <comment id="13692823" author="dagw" created="Tue, 25 Jun 2013 08:58:10 +0100"  >&lt;p&gt;Right, I also use NetBeans but I haven&apos;t used that feature. I use command line &quot;svn diff&quot; (or git diff)  to create the patches so I can choose the name of the patch file.&lt;br/&gt;
If you could persuade the NB folks to let us customize patch names, that would be nice.&lt;/p&gt;</comment>
                            <comment id="13693886" author="jira-bot" created="Wed, 26 Jun 2013 11:16:17 +0100"  >&lt;p&gt;Commit 1496870 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dyret&quot; class=&quot;user-hover&quot; rel=&quot;dyret&quot;&gt;Dyre Tjeldvoll&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1496870&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1496870&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1997&quot; title=&quot;Misleading text in WwdEmbedded demo source file for Working With Derby&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1997&quot;&gt;&lt;del&gt;DERBY-1997&lt;/del&gt;&lt;/a&gt;: Remove custom exception printing methods and replace with printStackTrace as suggested&lt;/p&gt;</comment>
                            <comment id="13696839" author="chaase3" created="Mon, 1 Jul 2013 15:19:05 +0100"  >&lt;p&gt;Thanks a lot, Dyre, for making these fixes. Did you notice there is also a WwdClientExample.java file that also should have those methods removed? &lt;/p&gt;

&lt;p&gt;Also, a comment still refers to the errorPrint method.&lt;/p&gt;

&lt;p&gt;One main purpose of the two functions was to provide some helpful output if the exception is a SQLException. I wonder if the catch clause could include this output for SQLExceptions and use printStackTrace for other exceptions.&lt;/p&gt;</comment>
                            <comment id="13897041" author="chaase3" created="Mon, 10 Feb 2014 21:29:19 +0000"  >&lt;p&gt;I just happened to notice, while working on &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6236&quot; title=&quot;Remove references to old JVMs (pre-Java 6) from the user guides&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6236&quot;&gt;&lt;del&gt;DERBY-6236&lt;/del&gt;&lt;/a&gt;, that this issue has not been resolved. The error-reporting methods mentioned in the Getting Started topic that describes the WwdEmbedded program were removed from the java/demo/workingwithderby/WwdEmbedded.java file and replaced with a call to e.printStacktrace (which should probably be replaced with a proper logging call nowadays). However, the corresponding changes were not subsequently made to the java/demo/workingwithderby/WwdClientExample.java file or to the Getting Started topic.&lt;/p&gt;</comment>
                            <comment id="13897899" author="chaase3" created="Tue, 11 Feb 2014 15:03:16 +0000"  >&lt;p&gt;I also notice that the Developer&apos;s Guide topic &quot;Example of processing SQLExceptions&quot; (&lt;a href=&quot;http://db.apache.org/derby/docs/10.10/devguide/rdevprocsqle.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://db.apache.org/derby/docs/10.10/devguide/rdevprocsqle.html&lt;/a&gt;) describes error-reporting methods similar to those in the Working with Derby example. &lt;/p&gt;

&lt;p&gt;We probably do want to call printStackTrace after all to get the full exception chain.&lt;/p&gt;</comment>
                            <comment id="13904516" author="chaase3" created="Tue, 18 Feb 2014 20:13:46 +0000"  >&lt;p&gt;The behavior of the client example is different from that of the embedded example. When I run the embedded example, the printStackTrace call reports the SQLSTATE value (22001) in the exception chain. &lt;/p&gt;

&lt;p&gt;java.sql.SQLDataException: A truncation error was encountered trying to shrink VARCHAR &apos;I wish to see a Java program fail&apos; to length 32.&lt;br/&gt;
        at org.apache.derby.impl.jdbc.SQLExceptionFactory40.getSQLException(Unknown Source)&lt;br/&gt;
 ...&lt;br/&gt;
Caused by: java.sql.SQLException: A truncation error was encountered trying to shrink VARCHAR &apos;I wish to see a Java program fail&apos; to length 32.&lt;br/&gt;
        at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source)&lt;br/&gt;
        at org.apache.derby.impl.jdbc.SQLExceptionFactory40.wrapArgsForTransportAcrossDRDA(Unknown Source)&lt;br/&gt;
        ... 11 more&lt;br/&gt;
Caused by: ERROR 22001: A truncation error was encountered trying to shrink VARCHAR &apos;I wish to see a Java program fail&apos; to length 32.&lt;br/&gt;
        at org.apache.derby.iapi.error.StandardException.newException(Unknown Source)&lt;/p&gt;

&lt;p&gt;When I run the client example, the SQLSTATE error does not appear:&lt;/p&gt;

&lt;p&gt;java.sql.SQLDataException: A truncation error was encountered trying to shrink VARCHAR &apos;I wish to see a Java program fail&apos; to length 32.&lt;br/&gt;
        at org.apache.derby.client.am.SQLExceptionFactory40.getSQLException(Unknown Source)&lt;br/&gt;
...&lt;br/&gt;
Caused by: org.apache.derby.client.am.SqlException: A truncation error was encountered trying to shrink VARCHAR &apos;I wish to see a Java program fail&apos; to length 32.&lt;br/&gt;
        at org.apache.derby.client.am.Statement.completeExecute(Unknown Source)&lt;br/&gt;
        at org.apache.derby.client.net.NetStatementReply.parseEXCSQLSTTreply(Unknown Source)&lt;/p&gt;

&lt;p&gt;So maybe the error-printing methods should be left in the client example after all. It would be nice to know why this happens, though.&lt;/p&gt;

&lt;p&gt;(I&apos;m running against a 10.10.1.1 installation because I get an upgrade error trying to run the client example against a 10.11 build. I can&apos;t think why, since the embedded example, with derby.jar instead of derbyclient.jar in the classpath, works fine.) &lt;/p&gt;</comment>
                            <comment id="13904593" author="knutanders" created="Tue, 18 Feb 2014 21:06:58 +0000"  >&lt;p&gt;I think the difference is that iapi.error.StandardException in embedded overrides toString() and prepends the SQLState to the error message, whereas client.am.SqlException simply inherits Throwable.toString(). I suppose we could harmonize the two.&lt;/p&gt;</comment>
                            <comment id="13904611" author="chaase3" created="Tue, 18 Feb 2014 21:17:02 +0000"  >&lt;p&gt;Thanks for the explanation! I guess that should be a separate issue, though. Should I file it or should you?&lt;/p&gt;</comment>
                            <comment id="13905350" author="knutanders" created="Wed, 19 Feb 2014 12:21:51 +0000"  >&lt;p&gt;I&apos;ve filed &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6484&quot; title=&quot;Include SQLState in client exception messages&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6484&quot;&gt;&lt;del&gt;DERBY-6484&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13905479" author="chaase3" created="Wed, 19 Feb 2014 14:20:58 +0000"  >&lt;p&gt;Thanks, Knut, for filing &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6484&quot; title=&quot;Include SQLState in client exception messages&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6484&quot;&gt;&lt;del&gt;DERBY-6484&lt;/del&gt;&lt;/a&gt; to reconcile the exception reporting behavior. Perhaps I should document the hoped-for behavior instead of the current behavior ...&lt;/p&gt;</comment>
                            <comment id="13908288" author="knutanders" created="Fri, 21 Feb 2014 13:13:36 +0000"  >&lt;p&gt;I&apos;ve also filed &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6488&quot; title=&quot;Get rid of the EmbedSQLException class&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6488&quot;&gt;&lt;del&gt;DERBY-6488&lt;/del&gt;&lt;/a&gt; to get rid of the extra EmbedSQLException in the exception chain on the embedded driver (it masquerades as a plain java.sql.SQLException in the stack trace by overriding toString() and replacing the internal class name).&lt;/p&gt;

&lt;p&gt;On embedded the chain looks like this: SQLDataException -&amp;gt; EmbedSQLException -&amp;gt; StandardException&lt;br/&gt;
The client has a simpler chain: SQLDataException -&amp;gt; SqlException&lt;/p&gt;

&lt;p&gt;That&apos;s probably going to be more work than the fix in the toString() method, though.&lt;/p&gt;</comment>
                            <comment id="13919591" author="chaase3" created="Tue, 4 Mar 2014 16:44:16 +0000"  >&lt;p&gt;I notice that even though &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6484&quot; title=&quot;Include SQLState in client exception messages&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6484&quot;&gt;&lt;del&gt;DERBY-6484&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6488&quot; title=&quot;Get rid of the EmbedSQLException class&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6488&quot;&gt;&lt;del&gt;DERBY-6488&lt;/del&gt;&lt;/a&gt; have been fixed, the discrepancy in error reporting between the Getting Started embedded and client examples still exists (3 exceptions from embedded, 2 from client). I built a new version of Derby after running svn update, but I seem to get the same exceptions as before (I never did get EmbedSQLException). It doesn&apos;t look as if &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6493&quot; title=&quot;Improve reporting of exceptions wrapped in InvocationTargetException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6493&quot;&gt;&lt;del&gt;DERBY-6493&lt;/del&gt;&lt;/a&gt; is likely to resolve this discrepancy. Is there anything else that might? &lt;/p&gt;</comment>
                            <comment id="13923847" author="knutanders" created="Fri, 7 Mar 2014 12:36:48 +0000"  >&lt;p&gt;Hi Kim,&lt;/p&gt;

&lt;p&gt;What code are you running when you see the differing exceptions? When I run the WwdEmbedded and WwdClientExample classes in the java/demo directory using head of trunk, I see these exceptions:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;% java WwdEmbedded
Connected to database jdbcDemoDB
Enter wish-list item (enter exit to end): 
I wish to see a Java program fail
 . . . exception thrown:
java.sql.SQLDataException: A truncation error was encountered trying to shrink VARCHAR &apos;I wish to see a Java program fail&apos; to length 32.
	at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(SQLExceptionFactory.java:83)
	at org.apache.derby.impl.jdbc.Util.generateCsSQLException(Util.java:233)
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(TransactionResourceImpl.java:424)
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(TransactionResourceImpl.java:353)
	at org.apache.derby.impl.jdbc.EmbedConnection.handleException(EmbedConnection.java:2396)
	at org.apache.derby.impl.jdbc.ConnectionChild.handleException(ConnectionChild.java:82)
	at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(EmbedStatement.java:1430)
	at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeStatement(EmbedPreparedStatement.java:1709)
	at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeLargeUpdate(EmbedPreparedStatement.java:320)
	at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeUpdate(EmbedPreparedStatement.java:309)
	at WwdEmbedded.main(WwdEmbedded.java:85)
Caused by: ERROR 22001: A truncation error was encountered trying to shrink VARCHAR &apos;I wish to see a Java program fail&apos; to length 32.
	at org.apache.derby.iapi.error.StandardException.newException(StandardException.java:290)
	at org.apache.derby.iapi.error.StandardException.newException(StandardException.java:285)
	at org.apache.derby.iapi.types.SQLChar.hasNonBlankChars(SQLChar.java:1846)
	at org.apache.derby.iapi.types.SQLVarchar.normalize(SQLVarchar.java:181)
	at org.apache.derby.iapi.types.SQLVarchar.normalize(SQLVarchar.java:158)
	at org.apache.derby.iapi.types.DataTypeDescriptor.normalize(DataTypeDescriptor.java:647)
	at org.apache.derby.impl.sql.execute.NormalizeResultSet.normalizeColumn(NormalizeResultSet.java:332)
	at org.apache.derby.impl.sql.execute.NormalizeResultSet.normalizeRow(NormalizeResultSet.java:376)
	at org.apache.derby.impl.sql.execute.NormalizeResultSet.getNextRowCore(NormalizeResultSet.java:191)
	at org.apache.derby.impl.sql.execute.DMLWriteResultSet.getNextRowCore(DMLWriteResultSet.java:142)
	at org.apache.derby.impl.sql.execute.InsertResultSet.getNextRowCore(InsertResultSet.java:1175)
	at org.apache.derby.impl.sql.execute.InsertResultSet.open(InsertResultSet.java:453)
	at org.apache.derby.impl.sql.GenericPreparedStatement.executeStmt(GenericPreparedStatement.java:470)
	at org.apache.derby.impl.sql.GenericPreparedStatement.execute(GenericPreparedStatement.java:349)
	at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(EmbedStatement.java:1338)
	... 4 more
Getting Started With Derby JDBC program ending.

% java WwdClientExample
Connected to database jdbcDemoDB
 . . . . creating table WISH_LIST
Enter wish-list item (enter exit to end): 
I wish to see a Java program fail
 . . . exception thrown:

---SQLException Caught---

SQLState:   22001
Severity: 30000
Message:  A truncation error was encountered trying to shrink VARCHAR &apos;I wish to see a Java program fail&apos; to length 32.
java.sql.SQLDataException: A truncation error was encountered trying to shrink VARCHAR &apos;I wish to see a Java program fail&apos; to length 32.
	at org.apache.derby.client.am.SQLExceptionFactory.getSQLException(SQLExceptionFactory.java:72)
	at org.apache.derby.client.am.SqlException.getSQLException(SqlException.java:321)
	at org.apache.derby.client.am.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:404)
	at WwdClientExample.main(WwdClientExample.java:81)
Caused by: ERROR 22001: A truncation error was encountered trying to shrink VARCHAR &apos;I wish to see a Java program fail&apos; to length 32.
	at org.apache.derby.client.am.ClientStatement.completeExecute(ClientStatement.java:1861)
	at org.apache.derby.client.net.NetStatementReply.parseEXCSQLSTTreply(NetStatementReply.java:323)
	at org.apache.derby.client.net.NetStatementReply.readExecute(NetStatementReply.java:72)
	at org.apache.derby.client.net.StatementReply.readExecute(StatementReply.java:59)
	at org.apache.derby.client.net.NetPreparedStatement.readExecute_(NetPreparedStatement.java:167)
	at org.apache.derby.client.am.ClientPreparedStatement.readExecute(ClientPreparedStatement.java:1842)
	at org.apache.derby.client.am.ClientPreparedStatement.flowExecute(ClientPreparedStatement.java:2129)
	at org.apache.derby.client.am.ClientPreparedStatement.executeUpdateX(ClientPreparedStatement.java:409)
	at org.apache.derby.client.am.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:395)
	... 1 more
Getting Started With Derby JDBC program ending.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Both chains have two exceptions.&lt;/p&gt;</comment>
                            <comment id="13923892" author="chaase3" created="Fri, 7 Mar 2014 14:07:43 +0000"  >&lt;p&gt;I&apos;ve been using JDK 6u45 on Solaris, not the most usual platform, I suppose. I&apos;ll try it again and also try updating to JDK 7.&lt;/p&gt;</comment>
                            <comment id="13923940" author="chaase3" created="Fri, 7 Mar 2014 15:02:37 +0000"  >&lt;p&gt;You are quite right, Knut &amp;#8211; I must have had a bad classpath somewhere when I ran it before. I just get two errors now from both versions. I will file a patch to remove the old-fashioned error handling from the client example and update the comments in both.&lt;/p&gt;

&lt;p&gt;Thanks for your forbearance.&lt;/p&gt;</comment>
                            <comment id="13923944" author="chaase3" created="Fri, 7 Mar 2014 15:09:41 +0000"  >&lt;p&gt;Attaching &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1997&quot; title=&quot;Misleading text in WwdEmbedded demo source file for Working With Derby&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1997&quot;&gt;&lt;del&gt;DERBY-1997&lt;/del&gt;&lt;/a&gt;.diff and &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1997&quot; title=&quot;Misleading text in WwdEmbedded demo source file for Working With Derby&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1997&quot;&gt;&lt;del&gt;DERBY-1997&lt;/del&gt;&lt;/a&gt;.stat, removing the old-fashioned error-printing methods from the client example and updating the comments in both the client and embedded examples.&lt;/p&gt;

&lt;p&gt;M       java/demo/workingwithderby/WwdEmbedded.java&lt;br/&gt;
M       java/demo/workingwithderby/WwdClientExample.java&lt;/p&gt;

&lt;p&gt;A follow-on patch will be needed to update the Getting Started manual.&lt;/p&gt;</comment>
                            <comment id="13924085" author="chaase3" created="Fri, 7 Mar 2014 17:29:19 +0000"  >&lt;p&gt;Is there any point in keeping the &quot;Example of processing SQLExceptions&quot; topic in the Developer&apos;s Guide (&lt;a href=&quot;http://db.apache.org/derby/docs/10.10/devguide/rdevprocsqle.html)?&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://db.apache.org/derby/docs/10.10/devguide/rdevprocsqle.html)?&lt;/a&gt; It uses the same mechanism that the Working with Derby examples used to process the exceptions &amp;#8211; going through the exception chain using getNextException().&lt;/p&gt;

&lt;p&gt;The NATIVE authentication example in &quot;NATIVE authentication and SQL authorization example&quot; does too (&lt;a href=&quot;http://db.apache.org/derby/docs/10.10/devguide/rdevcsecurenativeauthex.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://db.apache.org/derby/docs/10.10/devguide/rdevcsecurenativeauthex.html&lt;/a&gt;). &lt;/p&gt;

&lt;p&gt;Thanks for any advice.&lt;/p&gt;</comment>
                            <comment id="13925656" author="knutanders" created="Mon, 10 Mar 2014 11:07:45 +0000"  >&lt;p&gt;In most cases I believe that going through the chain using getNextException() isn&apos;t going to give more information than printStackTrace(), but there still are some cases where printStackTrace() won&apos;t show all exceptions that getNextException() would. That&apos;s typically when Derby continues processing after an error, and reports all errors at the end. See for example SystemProcedures.rollBackAndThrowSQLException().&lt;/p&gt;</comment>
                            <comment id="13925727" author="chaase3" created="Mon, 10 Mar 2014 13:27:38 +0000"  >&lt;p&gt;Thanks for that clarification, Knut. So it probably makes sense to remove those methods from Getting Started for the sake of simplicity, but to leave them in the Developer&apos;s Guide (possibly with an explanation).&lt;/p&gt;</comment>
                            <comment id="13925776" author="chaase3" created="Mon, 10 Mar 2014 14:55:38 +0000"  >&lt;p&gt;Attaching &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1997&quot; title=&quot;Misleading text in WwdEmbedded demo source file for Working With Derby&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1997&quot;&gt;&lt;del&gt;DERBY-1997&lt;/del&gt;&lt;/a&gt;-doc.diff, &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1997&quot; title=&quot;Misleading text in WwdEmbedded demo source file for Working With Derby&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1997&quot;&gt;&lt;del&gt;DERBY-1997&lt;/del&gt;&lt;/a&gt;-doc.stat, and &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1997&quot; title=&quot;Misleading text in WwdEmbedded demo source file for Working With Derby&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1997&quot;&gt;&lt;del&gt;DERBY-1997&lt;/del&gt;&lt;/a&gt;-doc.zip, with documentation changes as follows:&lt;/p&gt;

&lt;p&gt;M       src/getstart/rwwdactivity3.dita&lt;br/&gt;
M       src/devguide/cdevconcepts844813.dita&lt;br/&gt;
M       src/devguide/rdevprocsqle.dita&lt;/p&gt;

&lt;p&gt;The corrections to cdevconcepts844813.dita are mainly for formatting.&lt;/p&gt;

&lt;p&gt;Please let me know what additional changes are needed in either the code or the doc patch. Thanks!&lt;/p&gt;</comment>
                            <comment id="13930277" author="knutanders" created="Tue, 11 Mar 2014 12:16:15 +0000"  >&lt;p&gt;Thank you, Kim. These changes look good to me. +1 to commit.&lt;/p&gt;</comment>
                            <comment id="13930328" author="jira-bot" created="Tue, 11 Mar 2014 13:42:38 +0000"  >&lt;p&gt;Commit 1576342 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chaase3&quot; class=&quot;user-hover&quot; rel=&quot;chaase3&quot;&gt;Kim Haase&lt;/a&gt; in branch &apos;code/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1576342&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1576342&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1997&quot; title=&quot;Misleading text in WwdEmbedded demo source file for Working With Derby&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1997&quot;&gt;&lt;del&gt;DERBY-1997&lt;/del&gt;&lt;/a&gt;  Misleading text in WwdEmbedded demo source file for Working With Derby&lt;/p&gt;

&lt;p&gt;Modified two demo source files to make embedded and client error handling identical.&lt;/p&gt;

&lt;p&gt;Patch: &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1997&quot; title=&quot;Misleading text in WwdEmbedded demo source file for Working With Derby&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1997&quot;&gt;&lt;del&gt;DERBY-1997&lt;/del&gt;&lt;/a&gt;.diff&lt;/p&gt;</comment>
                            <comment id="13930372" author="jira-bot" created="Tue, 11 Mar 2014 14:13:01 +0000"  >&lt;p&gt;Commit 1576358 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chaase3&quot; class=&quot;user-hover&quot; rel=&quot;chaase3&quot;&gt;Kim Haase&lt;/a&gt; in branch &apos;docs/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1576358&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1576358&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1997&quot; title=&quot;Misleading text in WwdEmbedded demo source file for Working With Derby&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1997&quot;&gt;&lt;del&gt;DERBY-1997&lt;/del&gt;&lt;/a&gt;  Misleading text in WwdEmbedded demo source file for Working With Derby&lt;/p&gt;

&lt;p&gt;Modified two Developer&apos;s Guide topics and one Getting Started topic.&lt;/p&gt;

&lt;p&gt;Patch: &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1997&quot; title=&quot;Misleading text in WwdEmbedded demo source file for Working With Derby&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1997&quot;&gt;&lt;del&gt;DERBY-1997&lt;/del&gt;&lt;/a&gt;-doc.diff&lt;/p&gt;</comment>
                            <comment id="13930381" author="chaase3" created="Tue, 11 Mar 2014 14:16:56 +0000"  >&lt;p&gt;Thanks, Knut!&lt;/p&gt;

&lt;p&gt;Committed patch &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1997&quot; title=&quot;Misleading text in WwdEmbedded demo source file for Working With Derby&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1997&quot;&gt;&lt;del&gt;DERBY-1997&lt;/del&gt;&lt;/a&gt;.diff to code trunk at revision 1576342. &lt;/p&gt;

&lt;p&gt;Committed patch &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1997&quot; title=&quot;Misleading text in WwdEmbedded demo source file for Working With Derby&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1997&quot;&gt;&lt;del&gt;DERBY-1997&lt;/del&gt;&lt;/a&gt;-doc.diff to documentation trunk at revision 1576358. &lt;/p&gt;

&lt;p&gt;It might be possible to backport the fixes to 10.10 (at least), but since the issue is minor and was rediscovered in the course of 10.11 work that changed some of the files involved, I don&apos;t see a need to do so. I am open to persuasion, though.&lt;/p&gt;</comment>
                            <comment id="14038777" author="chaase3" created="Fri, 20 Jun 2014 14:27:34 +0100"  >&lt;p&gt;Fixes appear in Latest Alpha Manuals.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12696520">DERBY-6488</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12695942">DERBY-6484</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12633698" name="DERBY-1997-doc.diff" size="8230" author="chaase3" created="Mon, 10 Mar 2014 14:55:38 +0000"/>
                            <attachment id="12633699" name="DERBY-1997-doc.stat" size="124" author="chaase3" created="Mon, 10 Mar 2014 14:55:38 +0000"/>
                            <attachment id="12633700" name="DERBY-1997-doc.zip" size="8636" author="chaase3" created="Mon, 10 Mar 2014 14:55:38 +0000"/>
                            <attachment id="12633383" name="DERBY-1997.diff" size="2770" author="chaase3" created="Fri, 7 Mar 2014 15:09:41 +0000"/>
                            <attachment id="12633384" name="DERBY-1997.stat" size="109" author="chaase3" created="Fri, 7 Mar 2014 15:09:41 +0000"/>
                            <attachment id="12589152" name="vcs-diff3523819486798216332.patch" size="1989" author="dyret" created="Fri, 21 Jun 2013 21:10:38 +0100"/>
                            <attachment id="12589254" name="vcs-diff7276709987551559550.patch" size="1627" author="dyret" created="Sat, 22 Jun 2013 14:33:26 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 8 Jul 2009 12:27:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22826</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0isn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36863</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310050" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Urgency</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10052"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>