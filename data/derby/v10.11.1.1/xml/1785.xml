<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:39:42 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-1785/DERBY-1785.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-1785] junit tests fail with permission access problems when run with j9 jvms</title>
                <link>https://issues.apache.org/jira/browse/DERBY-1785</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;The junit tests have been made to run with security manager.&lt;br/&gt;
Until now, using the org.apache.derbyTesting.functionTests.harness classes, there was exception logic that stopped the j9 jvms from running with security manager, but that&apos;s now changed for the junit tests.&lt;/p&gt;

&lt;p&gt;For instance, the test store/bootAllTest.junit fails with the following error:&lt;br/&gt;
There was 1 error:&lt;br/&gt;
1) testSettingBootAllPropertyWithHomePropertySet(org.apache.derbyTesting.functionTests.tests.store.BootAllTest)java.security.AccessControlException: Access denied (java.util.PropertyPermission framework read)&lt;br/&gt;
	at java.security.AccessController.checkPermission(AccessController.java:74)&lt;br/&gt;
	at java.lang.SecurityManager.checkPermission(SecurityManager.java:612)&lt;br/&gt;
	at java.lang.SecurityManager.checkPropertyAccess(SecurityManager.java:366)&lt;br/&gt;
	at java.lang.System.getProperty(System.java:319)&lt;br/&gt;
	at java.lang.System.getProperty(System.java:301)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.util.TestUtil$1.run(TestUtil.java:177)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(AccessController.java:147)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.util.TestUtil.getFramework(TestUtil.java:174)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.util.TestUtil.getDataSourcePrefix(TestUtil.java:391)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.util.TestUtil.getSimpleDataSource(TestUtil.java:330)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.util.TestUtil.getDataSource(TestUtil.java:324)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.util.TestDataSourceFactory.getDataSource(TestDataSourceFactory.java:47)&lt;br/&gt;
	at org.apache.derbyTesting.junit.TestConfiguration.openConnection(TestConfiguration.java:296)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.openConnection(BaseJDBCTestCase.java:197)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.store.BootAllTest.setUp(BootAllTest.java:58)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:76)&lt;/p&gt;</description>
                <environment>using ibm&amp;#39;s j9 jvm as available with wssd5.6 or wctme5.7 (jcl:Max or jcl:foundation configuration)</environment>
        <key id="12348951">DERBY-1785</key>
            <summary>junit tests fail with permission access problems when run with j9 jvms</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="myrna">Myrna van Lunteren</assignee>
                                    <reporter username="myrna">Myrna van Lunteren</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 Aug 2006 22:44:35 +0100</created>
                <updated>Wed, 1 Jul 2009 01:09:07 +0100</updated>
                            <resolved>Thu, 2 Nov 2006 23:35:12 +0000</resolved>
                                    <version>10.2.1.6</version>
                    <version>10.3.1.4</version>
                                    <fixVersion>10.2.2.0</fixVersion>
                    <fixVersion>10.3.1.4</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12433254" author="skambha" created="Thu, 7 Sep 2006 22:55:31 +0100"  >&lt;p&gt;The below 3 tests failed with java.security.AccessControlException on a testrun with insane jars on 09/01  with wctme5.7  Just adding the diffs here .  jars - 10.3.0.0 alpha - (439522)&lt;/p&gt;

&lt;p&gt;    derbyall/derbyall.fail:lang/_Suite.junit&lt;br/&gt;
    derbyall/derbyall.fail:jdbcapi/_Suite.junit&lt;br/&gt;
    derbyall/storeall/storeall.fail:store/BootAllTest.junit&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;
			&lt;ul&gt;
				&lt;li&gt;
				&lt;ul&gt;
					&lt;li&gt;
					&lt;ul&gt;
						&lt;li&gt;
						&lt;ul&gt;
							&lt;li&gt;
							&lt;ul&gt;
								&lt;li&gt;
								&lt;ul&gt;
									&lt;li&gt;Diff file derbyall/derbylang/_Suite.diff&lt;/li&gt;
								&lt;/ul&gt;
								&lt;/li&gt;
							&lt;/ul&gt;
							&lt;/li&gt;
						&lt;/ul&gt;
						&lt;/li&gt;
					&lt;/ul&gt;
					&lt;/li&gt;
				&lt;/ul&gt;
				&lt;/li&gt;
			&lt;/ul&gt;
			&lt;/li&gt;
			&lt;li&gt;Start: _Suite jdk1.3.1 subset - 2.2 derbyall:derbylang 2006-09-03 11:25:02 ***&lt;br/&gt;
0 add&lt;br/&gt;
&amp;gt; .EEEEEEEE&lt;br/&gt;
&amp;gt; There were 8 errors:&lt;br/&gt;
&amp;gt; 1) case(org.apache.derbyTesting.functionTests.tests.lang.LangScripts)java.security.AccessControlException: Access denied (java.io.FilePermission fail\Embedded\LangScripts\case read)&lt;br/&gt;
&amp;gt; 2) case(org.apache.derbyTesting.functionTests.tests.lang.LangScripts)java.security.AccessControlException: Access denied (java.lang.RuntimePermission createClassLoader )&lt;br/&gt;
&amp;gt; 3) constantExpression(org.apache.derbyTesting.functionTests.tests.lang.LangScripts)java.security.AccessControlException: Access denied (java.lang.RuntimePermission createClassLoader )&lt;br/&gt;
&amp;gt; 4) bit2(org.apache.derbyTesting.functionTests.tests.lang.LangScripts)java.security.AccessControlException: Access denied (java.lang.RuntimePermission createClassLoader )&lt;br/&gt;
&amp;gt; 5) derived(org.apache.derbyTesting.functionTests.tests.lang.LangScripts)java.security.AccessControlException: Access denied (java.lang.RuntimePermission createClassLoader )&lt;br/&gt;
&amp;gt; 6) arithmetic(org.apache.derbyTesting.functionTests.tests.lang.LangScripts)java.security.AccessControlException: Access denied (java.lang.RuntimePermission createClassLoader )&lt;br/&gt;
&amp;gt; 7) depend(org.apache.derbyTesting.functionTests.tests.lang.LangScripts)java.security.AccessControlException: Access denied (java.lang.RuntimePermission createClassLoader )&lt;br/&gt;
&amp;gt; 8) union(org.apache.derbyTesting.functionTests.tests.lang.LangScripts)java.security.AccessControlException: Access denied (java.lang.RuntimePermission createClassLoader )&lt;br/&gt;
&amp;gt; FAILURES!!!&lt;br/&gt;
&amp;gt; Tests run: 1,  Failures: 0,  Errors: 8&lt;br/&gt;
Test Failed.&lt;br/&gt;
--------------------------------------
			&lt;ul&gt;
				&lt;li&gt;
				&lt;ul&gt;
					&lt;li&gt;
					&lt;ul&gt;
						&lt;li&gt;
						&lt;ul&gt;
							&lt;li&gt;
							&lt;ul&gt;
								&lt;li&gt;
								&lt;ul&gt;
									&lt;li&gt;Diff file derbyall/storeall/storemore/BootAllTest.diff&lt;/li&gt;
								&lt;/ul&gt;
								&lt;/li&gt;
							&lt;/ul&gt;
							&lt;/li&gt;
						&lt;/ul&gt;
						&lt;/li&gt;
					&lt;/ul&gt;
					&lt;/li&gt;
				&lt;/ul&gt;
				&lt;/li&gt;
			&lt;/ul&gt;
			&lt;/li&gt;
			&lt;li&gt;Start: BootAllTest jdk1.3.1 subset - 2.2 storeall:storemore 2006-09-03 11:42:49 ***&lt;br/&gt;
0 add&lt;br/&gt;
&amp;gt; .E&lt;br/&gt;
&amp;gt; There was 1 error:&lt;br/&gt;
&amp;gt; 1) testSettingBootAllPropertyWithHomePropertySet(org.apache.derbyTesting.functionTests.tests.store.BootAllTest)java.lang.ExceptionInInitializerError: java.security.AccessControlException: Access denied (java.util.PropertyPermission jdbc.drivers read)&lt;br/&gt;
&amp;gt; FAILURES!!!&lt;br/&gt;
&amp;gt; Tests run: 1,  Failures: 0,  Errors: 1&lt;br/&gt;
Test Failed.&lt;/li&gt;
			&lt;li&gt;End:   BootAllTest jdk1.3.1 subset - 2.2 storeall:storemore 2006-09-03 11:42:49 ***&lt;br/&gt;
-------------------------------------&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;
			&lt;ul&gt;
				&lt;li&gt;
				&lt;ul&gt;
					&lt;li&gt;
					&lt;ul&gt;
						&lt;li&gt;
						&lt;ul&gt;
							&lt;li&gt;
							&lt;ul&gt;
								&lt;li&gt;
								&lt;ul&gt;
									&lt;li&gt;Diff file derbyall/derbylang/GroupByExpressionTest.diff&lt;/li&gt;
								&lt;/ul&gt;
								&lt;/li&gt;
							&lt;/ul&gt;
							&lt;/li&gt;
						&lt;/ul&gt;
						&lt;/li&gt;
					&lt;/ul&gt;
					&lt;/li&gt;
				&lt;/ul&gt;
				&lt;/li&gt;
			&lt;/ul&gt;
			&lt;/li&gt;
			&lt;li&gt;Start: GroupByExpressionTest jdk1.3.1 subset - 2.2 derbyall:derbylang 2006-09-03 10:39:18 ***&lt;br/&gt;
0 add&lt;br/&gt;
&amp;gt; .E.E.E.E.E.EE&lt;br/&gt;
&amp;gt; There were 7 errors:&lt;br/&gt;
&amp;gt; 1) testSimpleExpressions(org.apache.derbyTesting.functionTests.tests.lang.GroupByExpressionTest)java.security.AccessControlException: Access denied (java.lang.RuntimePermission createClassLoader )&lt;br/&gt;
&amp;gt; 2) testSubSelect(org.apache.derbyTesting.functionTests.tests.lang.GroupByExpressionTest)java.security.AccessControlException: Access denied (java.util.PropertyPermission java.security.policy read)&lt;br/&gt;
&amp;gt; 3) testMiscExpressions(org.apache.derbyTesting.functionTests.tests.lang.GroupByExpressionTest)java.security.AccessControlException: Access denied (java.util.PropertyPermission java.security.policy read)&lt;br/&gt;
&amp;gt; 4) testExtractOperator(org.apache.derbyTesting.functionTests.tests.lang.GroupByExpressionTest)java.security.AccessControlException: Access denied (java.util.PropertyPermission java.security.policy read)&lt;br/&gt;
&amp;gt; 5) testDuplicateColumns(org.apache.derbyTesting.functionTests.tests.lang.GroupByExpressionTest)java.security.AccessControlException: Access denied (java.util.PropertyPermission java.security.policy read)&lt;br/&gt;
&amp;gt; 6) testNegative(org.apache.derbyTesting.functionTests.tests.lang.GroupByExpressionTest)java.security.AccessControlException: Access denied (java.util.PropertyPermission java.security.policy read)&lt;br/&gt;
&amp;gt; 7) junit.framework.TestSuite@11861186java.security.AccessControlException: Access denied (java.io.FilePermission C:\jartest\JarResults.2006-09-01\wctme5.7_derbyall\derbyall\derbylang\GroupByExpressionTest\wombat\seg0\c3c0.dat read)&lt;br/&gt;
&amp;gt; FAILURES!!!&lt;br/&gt;
&amp;gt; Tests run: 6,  Failures: 0,  Errors: 7&lt;br/&gt;
Test Failed.&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12434006" author="deepa" created="Mon, 11 Sep 2006 23:41:01 +0100"  >&lt;p&gt;One more test fails with java.security.AccessControlException with sane jars with wsdd5.6 vm: jdbcapi/UpdatableResultSetTest.junit&lt;/p&gt;

&lt;p&gt;Diff:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;Start: UpdatableResultSetTest jdk1.3.1 subset - 2.1 derbyall:jdbcapi 2006-09-10 22:32:30 ***&lt;br/&gt;
0 add&lt;br/&gt;
&amp;gt; .E.E.E.E.E.E.E.E.E.E.E.E&lt;br/&gt;
&amp;gt; There were 12 errors:&lt;br/&gt;
&amp;gt; 1) testInsertRowOnQuotedTable(org.apache.derbyTesting.functionTests.tests.jdbcapi.UpdatableResultSetTest)java.lang.ExceptionInInitializerError: java.security.AccessControlException: Access denied (java.util.PropertyPermission jdbc.drivers read)&lt;br/&gt;
&amp;gt; 2) testUpdateRowOnQuotedTable(org.apache.derbyTesting.functionTests.tests.jdbcapi.UpdatableResultSetTest)java.security.AccessControlException: Access denied (java.util.PropertyPermission java.security.policy read)&lt;br/&gt;
&amp;gt; 3) testDeleteRowOnQuotedTable(org.apache.derbyTesting.functionTests.tests.jdbcapi.UpdatableResultSetTest)java.security.AccessControlException: Access denied (java.util.PropertyPermission java.security.policy read)&lt;br/&gt;
&amp;gt; 4) testInsertRowOnQuotedColumn(org.apache.derbyTesting.functionTests.tests.jdbcapi.UpdatableResultSetTest)java.security.AccessControlException: Access denied (java.util.PropertyPermission java.security.policy read)&lt;br/&gt;
&amp;gt; 5) testUpdateRowOnQuotedColumn(org.apache.derbyTesting.functionTests.tests.jdbcapi.UpdatableResultSetTest)java.security.AccessControlException: Access denied (java.util.PropertyPermission java.security.policy read)&lt;br/&gt;
&amp;gt; 6) testDeleteRowOnQuotedColumn(org.apache.derbyTesting.functionTests.tests.jdbcapi.UpdatableResultSetTest)java.security.AccessControlException: Access denied (java.util.PropertyPermission java.security.policy read)&lt;br/&gt;
&amp;gt; 7) testInsertRowOnQuotedSchema(org.apache.derbyTesting.functionTests.tests.jdbcapi.UpdatableResultSetTest)java.security.AccessControlException: Access denied (java.util.PropertyPermission java.security.policy read)&lt;br/&gt;
&amp;gt; 8) testUpdateRowOnQuotedSchema(org.apache.derbyTesting.functionTests.tests.jdbcapi.UpdatableResultSetTest)java.security.AccessControlException: Access denied (java.util.PropertyPermission java.security.policy read)&lt;br/&gt;
&amp;gt; 9) testDeleteRowOnQuotedSchema(org.apache.derbyTesting.functionTests.tests.jdbcapi.UpdatableResultSetTest)java.security.AccessControlException: Access denied (java.util.PropertyPermission java.security.policy read)&lt;br/&gt;
&amp;gt; 10) testInsertRowOnQuotedCursor(org.apache.derbyTesting.functionTests.tests.jdbcapi.UpdatableResultSetTest)java.security.AccessControlException: Access denied (java.util.PropertyPermission java.security.policy read)&lt;br/&gt;
&amp;gt; 11) testUpdateRowOnQuotedCursor(org.apache.derbyTesting.functionTests.tests.jdbcapi.UpdatableResultSetTest)java.security.AccessControlException: Access denied (java.util.PropertyPermission java.security.policy read)&lt;br/&gt;
&amp;gt; 12) testDeleteRowOnQuotedCursor(org.apache.derbyTesting.functionTests.tests.jdbcapi.UpdatableResultSetTest)java.security.AccessControlException: Access denied (java.util.PropertyPermission java.security.policy read)&lt;br/&gt;
&amp;gt; FAILURES!!!&lt;br/&gt;
&amp;gt; Tests run: 12,  Failures: 0,  Errors: 12&lt;br/&gt;
Test Failed.&lt;/li&gt;
			&lt;li&gt;End:   UpdatableResultSetTest jdk1.3.1 subset - 2.1 derbyall:jdbcapi 2006-09-10 22:32:30 ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12440184" author="myrna" created="Thu, 5 Oct 2006 18:20:43 +0100"  >&lt;p&gt;I&apos;m assigning this to me because I keep forgetting the number. If someone else feels interest, be welcome to take it away. &lt;/p&gt;

&lt;p&gt;In the mean time, I have tried to find out what is wrong with this and I&apos;ve been unsuccessful so far.&lt;br/&gt;
In &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-855&quot; title=&quot;Document optimizer overrides which were introduced in 10.2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-855&quot;&gt;&lt;del&gt;DERBY-855&lt;/del&gt;&lt;/a&gt; Dan stated that he had found a problem with the security manager and had reported this to IBM. I checked on the status of that problem; it is fixed in the follow-up release of wctme5.7_foundation (called weme6.1, which is based on jdkj2ME specification 1.1). I tested with that product and indeed the problem Dan saw has been fixed...&lt;/p&gt;

&lt;p&gt;However, I still see the access permission problems with junit with that version.&lt;br/&gt;
I will continue to investigate. I think this is an important detail - we have said we&apos;re supporting JSR169, yet it appears the only check we have are our test runs with &quot;j9&quot; foundation. If someone else is running JSR169 tests, I hope they&apos;ll announce it.&lt;/p&gt;

&lt;p&gt;The problem needs to be better identified, and possibly a fix needs to be arranged.&lt;/p&gt;

&lt;p&gt;As a workaround there are 2 approaches:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;ignore the failing tests. This basically means skipping every junit test. We can do this for each test as it gets morphed into a junit test, which means a ridiculous maintenance task, or in the test harness. But this would hollow out the testing for JSR169 support.&lt;/li&gt;
	&lt;li&gt;make the junit tests not run with security manager if the jvm is j9. This seems fairly ugly&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;(third option I thought maybe a separate policy file could be made, but judging from the error, it isn&apos;t having the permissions to read the policy file, so I&apos;m not sure that will work.)&lt;/p&gt;</comment>
                            <comment id="12440223" author="djd" created="Thu, 5 Oct 2006 20:29:03 +0100"  >&lt;p&gt;I thought the following approach would work when running the tests directlly.&lt;br/&gt;
Set up the java.security.policy and derbyTesting.codeclasses (or codejar) on the command line when running the JUnit test runner. Something like:&lt;/p&gt;

&lt;p&gt;-DderbyTesting.codeclasses=&amp;lt;url_to_classes_folder&amp;gt; -Djava.security.policy=&amp;lt;url_to_policy_file_in_classes_folder&amp;gt;&lt;/p&gt;

&lt;p&gt;-DderbyTesting.codeclasses=&lt;a href=&quot;file:/C:/_work/trunk/classes/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:/C:/_work/trunk/classes/&lt;/a&gt;&lt;br/&gt;
-Djava.security.policy=&lt;a href=&quot;file:/C:/_work/trunk/classes/org/apache/derbyTesting/functionTests/util/derby_tests.policy&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:/C:/_work/trunk/classes/org/apache/derbyTesting/functionTests/util/derby_tests.policy&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;With this I get an error parsing the policy file:&lt;/p&gt;

&lt;p&gt;Parsing policy file: &lt;a href=&quot;file:/C:/_work/trunk/classes/org/apache/derbyTesting/functionTests/util/derby_tests.policy&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:/C:/_work/trunk/classes/org/apache/derbyTesting/functionTests/util/derby_tests.policy&lt;/a&gt;, found unexpected: permission&lt;/p&gt;</comment>
                            <comment id="12440229" author="djd" created="Thu, 5 Oct 2006 20:52:49 +0100"  >&lt;p&gt;Adding this (dummy) properties on the command line stopped the parsing problem and allowed me to run a test.&lt;/p&gt;

&lt;p&gt;-DderbyTesting.serverhost=host -DderbyTesting.clienthost=host&lt;/p&gt;

&lt;p&gt;(I also had derby.system.home set on the command line).&lt;/p&gt;</comment>
                            <comment id="12440674" author="myrna" created="Sat, 7 Oct 2006 15:46:38 +0100"  >&lt;p&gt;Attaching a band-aid patch for this issue. I chose to comment out the method rather than remove as a way to document the quirky behavior.&lt;/p&gt;

&lt;p&gt;I ran derbyall with wctme5.7 foundation class libraries, and found only other known problems except for the last one which is not caused by this patch:&lt;br/&gt;
grantRevokeDDL.sql &amp;amp; grantRevokeDDL2.sql - DERBY1849&lt;br/&gt;
procedureInTrigger.sql - &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1829&quot; title=&quot;lang/procedureInTrigger.sql fails with wctme5.7 foundation with CNFE  java.sql.DriverManager and other exceptions.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1829&quot;&gt;&lt;del&gt;DERBY-1829&lt;/del&gt;&lt;/a&gt; (and maybe &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1585&quot; title=&quot;derbylang/procedureInTrigger: not able to create trigger due to an open ResultSet&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1585&quot;&gt;&lt;del&gt;DERBY-1585&lt;/del&gt;&lt;/a&gt;, which appears in an odd state)&lt;br/&gt;
SURTest_ij.sql - &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1850&quot; title=&quot;Test  jdbcapi/SURTest_ij.sql fails on  IBM WCTME 5.7 Foundation (jdkJ2ME Foundation Specification v1.0)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1850&quot;&gt;&lt;del&gt;DERBY-1850&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
jdbcapi/_Suite.junit - &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1897&quot; title=&quot;junit test jdbcapi/_Suite fails with wctme5.7_foundation (j9 -jcl:foun) with NoClassDefFoundError: javax.sql.PooledConnection&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1897&quot;&gt;&lt;del&gt;DERBY-1897&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
bootAllTest.junit - no bug - new failure after fix of &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1618&quot; title=&quot;store/BootAllTest.junit fails on with jdk13 based jvms&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1618&quot;&gt;&lt;del&gt;DERBY-1618&lt;/del&gt;&lt;/a&gt; - test uses java.sql.DriverManager in the setup:&lt;br/&gt;
1) testSettingBootAllPropertyWithHomePropertySet(org.apache.derbyTesting.functionTests.tests.store.BootAllTest)java.lang.NoClassDefFoundError: java.sql.DriverManager&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.store.BootAllTest.setUp(BootAllTest.java:68)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:76)&lt;/p&gt;

&lt;p&gt;I will consider making a patch for 10.2 which would address the non-foundation j9 run. But as of 10.3 we weren&apos;t going to support jdk 1.3.1 based jvms, which also means the wsdd5.6 and wctme5.7.&lt;/p&gt;

&lt;p&gt;In the mean time this is a trivial patch for the trunk for most environments. I would appreciate the attention of a kindly committer.&lt;/p&gt;</comment>
                            <comment id="12440705" author="myrna" created="Sat, 7 Oct 2006 20:49:51 +0100"  >&lt;p&gt;Attaching a patch for 10.2. I&apos;ve decided to do the same thing as for the trunk for the foundation setup; but do a crude skip for all junit tests when run through the harness against the other j9 versions.&lt;/p&gt;

&lt;p&gt;I have run selected tests with wsdd5.6, wctme5.7, wctme5.7_foundation and jdk142 to ensure I didn&apos;t mess anything up.&lt;/p&gt;</comment>
                            <comment id="12441297" author="mikem" created="Tue, 10 Oct 2006 23:24:51 +0100"  >&lt;p&gt;committed patch &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1785&quot; title=&quot;junit tests fail with permission access problems when run with j9 jvms&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1785&quot;&gt;&lt;del&gt;DERBY-1785&lt;/del&gt;&lt;/a&gt;_20061007.diff to the trunk:&lt;/p&gt;

&lt;p&gt;m3_ibm142:47&amp;gt;svn commit&lt;/p&gt;

&lt;p&gt;Sending        java\testing\org\apache\derbyTesting\functionTests\harness\j9_foundation.java&lt;br/&gt;
Transmitting file data .&lt;br/&gt;
Committed revision 462607.&lt;/p&gt;</comment>
                            <comment id="12441306" author="mikem" created="Tue, 10 Oct 2006 23:53:43 +0100"  >&lt;p&gt;committed patch &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1785&quot; title=&quot;junit tests fail with permission access problems when run with j9 jvms&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1785&quot;&gt;&lt;del&gt;DERBY-1785&lt;/del&gt;&lt;/a&gt;_102_20061007.diff to 10.2 branch.  unchecking patch available as fix has now gone in to trunk and 10.2.&lt;/p&gt;

&lt;p&gt;m102_ibm142:59&amp;gt;svn commit&lt;/p&gt;

&lt;p&gt;Sending        java\testing\org\apache\derbyTesting\functionTests\harness\RunTes&lt;br/&gt;
t.java&lt;br/&gt;
Sending        java\testing\org\apache\derbyTesting\functionTests\harness\j9_fou&lt;br/&gt;
ndation.java&lt;br/&gt;
Transmitting file data ..&lt;br/&gt;
Committed revision 462625.&lt;/p&gt;</comment>
                            <comment id="12443055" author="djd" created="Tue, 17 Oct 2006 21:23:58 +0100"  >&lt;p&gt;Notes on how to run Junit tests standalone with WCTME 5.7 foundation are written up in&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://wiki.apache.org/db-derby/JunitVmIssues#head-0916dd3630b0667e49460439fbd041c720d93eaf&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/db-derby/JunitVmIssues#head-0916dd3630b0667e49460439fbd041c720d93eaf&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12446773" author="myrna" created="Thu, 2 Nov 2006 23:34:54 +0000"  >&lt;p&gt;I tried running with junit and wctme5.7 (foundation) according to the suggestions above, and I did not see the permission exception.&lt;/p&gt;

&lt;p&gt;So I guess this issue can be closed.&lt;/p&gt;

&lt;p&gt;I did see a bunch of other exceptions, starting with:&lt;br/&gt;
EEEEEEEEEEEEEEEEEEEEEEE.EE.EFEEEEjava.sql.SQLException: org.apache.derby.jdbc.EmbeddedDriver is not registered with the JDBC driver manager&lt;br/&gt;
	at org.apache.derby.jdbc.EmbeddedSimpleDataSource.findDriver(EmbeddedSimpleDataSource.java:435)&lt;br/&gt;
	at org.apache.derby.jdbc.EmbeddedSimpleDataSource.getConnection(EmbeddedSimpleDataSource.java:406)&lt;br/&gt;
	at org.apache.derby.jdbc.EmbeddedSimpleDataSource.getConnection(EmbeddedSimpleDataSource.java:373)&lt;br/&gt;
	at org.apache.derbyTesting.junit.TestConfiguration.getConnection(TestConfiguration.java:626)&lt;br/&gt;
	at org.apache.derbyTesting.junit.TestConfiguration.getDefaultConnection(TestConfiguration.java:592)&lt;br/&gt;
	at org.apache.derbyTesting.junit.TestConfiguration.openDefaultConnection(TestConfiguration.java:566)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestSetup.getConnection(BaseJDBCTestSetup.java:74)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.jdbcapi.SURDataModelSetup.setUp(SURDataModelSetup.java:137)&lt;br/&gt;
....&lt;/p&gt;

&lt;p&gt;But I will open another issue to track that problem.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12342506" name="DERBY-1785_102_20061007.diff" size="1964" author="myrna" created="Sat, 7 Oct 2006 20:49:51 +0100"/>
                            <attachment id="12342501" name="DERBY-1785_20061007.diff" size="1062" author="myrna" created="Sat, 7 Oct 2006 15:46:38 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10369"><![CDATA[Regression Test Failure]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 7 Sep 2006 21:55:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22704</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0tnb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38621</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310050" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Urgency</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10052"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>