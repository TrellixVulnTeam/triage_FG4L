<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:35:19 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-5434/DERBY-5434.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-5434] On linux with  IBM JDK 1.7 suites.All does not run at all failing with java.lang.reflect.InvocationTargetException</title>
                <link>https://issues.apache.org/jira/browse/DERBY-5434</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;On IBM 1.7, presumably after the checkin of &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-5363&quot; title=&quot;Tighten permissions of DB files to owner with &amp;gt;= JDK7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-5363&quot;&gt;&lt;del&gt;DERBY-5363&lt;/del&gt;&lt;/a&gt; suites.All fails to run with the exception:&lt;/p&gt;

&lt;p&gt;Failed to invoke class org.apache.derbyTesting.functionTests.tests.engine._Suite&lt;br/&gt;
java.lang.reflect.InvocationTargetException&lt;br/&gt;
		 at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
		 at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:88)&lt;br/&gt;
		 at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)&lt;br/&gt;
		 at java.lang.reflect.Method.invoke(Method.java:613)&lt;br/&gt;
		 at org.apache.derbyTesting.functionTests.suites.AllPackages.invokeSuite(AllPackages.java:176)&lt;br/&gt;
		 at org.apache.derbyTesting.functionTests.suites.AllPackages.suite(AllPackages.java:63)&lt;br/&gt;
		 at org.apache.derbyTesting.functionTests.suites.All.suite(All.java:51)&lt;br/&gt;
		 at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
		 at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:88)&lt;br/&gt;
		 at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)&lt;br/&gt;
		 at java.lang.reflect.Method.invoke(Method.java:613)&lt;br/&gt;
		 at junit.runner.BaseTestRunner.getTest(BaseTestRunner.java:126)&lt;br/&gt;
		 at junit.textui.TestRunner.start(TestRunner.java:184)&lt;br/&gt;
		 at junit.textui.TestRunner.main(TestRunner.java:143)&lt;br/&gt;
Caused by: junit.framework.AssertionFailedError&lt;br/&gt;
		 at junit.framework.Assert.fail(Assert.java:47)&lt;br/&gt;
		 at junit.framework.Assert.fail(Assert.java:53)&lt;br/&gt;
		 at org.apache.derbyTesting.functionTests.tests.engine.RestrictiveFilePermissionsTest$2.run(RestrictiveFilePermissionsTest.java:673)&lt;br/&gt;
		 at java.security.AccessController.doPrivileged(AccessController.java:254)&lt;br/&gt;
		 at org.apache.derbyTesting.functionTests.tests.engine.RestrictiveFilePermissionsTest.checkAccessToOwner(RestrictiveFilePermissionsTest.java:590)&lt;br/&gt;
		 at org.apache.derbyTesting.functionTests.tests.engine.RestrictiveFilePermissionsTest.suite(RestrictiveFilePermissionsTest.java:92)&lt;br/&gt;
		 at org.apache.derbyTesting.functionTests.tests.engine._Suite.suite(_Suite.java:51)&lt;br/&gt;
		 ... 14 more&lt;br/&gt;
Failed to invoke suite():java.lang.reflect.InvocationTargetException&lt;/p&gt;


&lt;p&gt;This JDK was just released recently and I am not sure where to get it publicly.   I am not sure if this is  a JVM bug.  I will take a look and if it is not something that can be fixed quickly, will skip this test on IBM 1.7 until we can figure it out so the other tests can run.&lt;/p&gt;

</description>
                <environment>SuSE linux&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
java version &amp;quot;1.7.0-ea&amp;quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build pxi3270-20110508_04)&lt;br/&gt;
IBM J9 VM (build 2.6, JRE 1.7.0 Linux x86-32 20110507_81834 (JIT enabled, AOT enabled)&lt;br/&gt;
J9VM - R26_head_20110506_1737_B81772&lt;br/&gt;
JIT  - r11_20110506_19491&lt;br/&gt;
GC   - R26_head_20110506_1718_B81770&lt;br/&gt;
J9CL - 20110507_81834)&lt;br/&gt;
JCL - 20110506_04 based on Oracle 7b135&lt;br/&gt;
&lt;a href=&apos;mailto:kmarsden@kmarsden-lt2&apos;&gt;kmarsden@kmarsden-lt2&lt;/a&gt;:~/ibm17/bin&amp;gt;</environment>
        <key id="12525122">DERBY-5434</key>
            <summary>On linux with  IBM JDK 1.7 suites.All does not run at all failing with java.lang.reflect.InvocationTargetException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kmarsden">Kathey Marsden</assignee>
                                    <reporter username="kmarsden">Kathey Marsden</reporter>
                        <labels>
                    </labels>
                <created>Thu, 29 Sep 2011 01:19:09 +0100</created>
                <updated>Mon, 17 Jun 2013 10:19:05 +0100</updated>
                            <resolved>Thu, 16 Feb 2012 00:15:16 +0000</resolved>
                                    <version>10.9.1.0</version>
                                    <fixVersion>10.9.1.0</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13116940" author="kmarsden" created="Thu, 29 Sep 2011 02:18:22 +0100"  >&lt;p&gt;This patch removes the offending test engine.RestrictiveFilePermissiionsTest from the suite so tests will run with IBM 1.7.&lt;/p&gt;

&lt;p&gt;You can reproduce the problem after the patch by running just the one test.&lt;/p&gt;</comment>
                            <comment id="13116941" author="kmarsden" created="Thu, 29 Sep 2011 02:22:41 +0100"  >&lt;p&gt;Lowering the severity now that we are skipping the test.&lt;/p&gt;</comment>
                            <comment id="13116974" author="kmarsden" created="Thu, 29 Sep 2011 04:00:54 +0100"  >&lt;p&gt;Attaching CheckAccessToOwner, a scaled down junit test without Derby.  It passes on Windows butfails on Linux with:&lt;br/&gt;
1) testCheckAccessToOwner(CheckAccessToOwner)junit.framework.AssertionFailedError&lt;br/&gt;
        at CheckAccessToOwner$2.run(CheckAccessToOwner.java:172)&lt;br/&gt;
        at java.security.AccessController.doPrivileged(AccessController.java:254)&lt;br/&gt;
        at CheckAccessToOwner.checkAccessToOwner(CheckAccessToOwner.java:97)&lt;br/&gt;
        at CheckAccessToOwner.testCheckAccessToOwner(CheckAccessToOwner.java:42)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:76)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;/p&gt;

&lt;p&gt;FAILURES!!!&lt;br/&gt;
Tests run: 1,  Failures: 1,  Errors: 0&lt;/p&gt;

&lt;p&gt;I&apos;ll take a closer look tomorrow, but am not yet familiar with the new methods.  Any insight is welcome.&lt;/p&gt;</comment>
                            <comment id="13116982" author="dagw" created="Thu, 29 Sep 2011 04:35:07 +0100"  >&lt;p&gt;Apparently java.nio.Files.getFileAttributeView returns null for that platform, perhaps it is not implemented for Linux (yet?).&lt;/p&gt;

&lt;p&gt;The test expected  FileAttributeView to be available with Java 7. The engine implementation has similar code as the test. The engine, though, falls back on the Java 6 approach &lt;b&gt;to set the permissions&lt;/b&gt; if it does not successfully execute java.nio.Files.getFileAttributeView, cf line 876 in FileUtil:&lt;/p&gt;

&lt;p&gt;if (view == null) &lt;/p&gt;
{
        // ACLs not supported on this platform
        return false;
}

&lt;p&gt;The test can&apos;t use that approach as the JDK 6 API doesn&apos;t support &lt;b&gt;reading the permissions&lt;/b&gt;, so I guess the best solution here is to skip the test on the IBM JDK if not on Windows.&lt;/p&gt;</comment>
                            <comment id="13160486" author="kmarsden" created="Thu, 1 Dec 2011 00:06:12 +0000"  >&lt;p&gt;The test uses a method not available on IBM JDK 1.7.  Added a change to skip the test in for this JDK.&lt;/p&gt;
</comment>
                            <comment id="13685119" author="knutanders" created="Mon, 17 Jun 2013 10:19:05 +0100"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;bulk update&amp;#93;&lt;/span&gt; Close all resolved issues that haven&apos;t been updated for more than one year.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12515817">DERBY-5363</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12496965" name="CheckAccessToOwner.java" size="12666" author="kmarsden" created="Thu, 29 Sep 2011 04:00:54 +0100"/>
                            <attachment id="12496955" name="derby-5434_disable_restrictedtest_diff.txt" size="1268" author="kmarsden" created="Thu, 29 Sep 2011 02:18:22 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10365"><![CDATA[Crash]]></customfieldvalue>
    <customfieldvalue key="10369"><![CDATA[Regression Test Failure]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 29 Sep 2011 03:35:07 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37579</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10422"><![CDATA[High Value Fix]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0e1j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36093</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>