<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:17:01 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-2430/DERBY-2430.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-2430]  setObject(int targetType, Blob source) and setObject(int targetType, Clob source) should disallow updates on all targetTypes except BLOB and CLOB respectively</title>
                <link>https://issues.apache.org/jira/browse/DERBY-2430</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;updateBlob(int columnIndex, Blob x), updateClob(int columnIndex, Clob x) can be implemented by forwarding calls to  setObject(int targetType, Blob source), setObject(int targetType, Clob source). If this this done then&lt;/p&gt;

&lt;p&gt;1) updateClob on a CHAR/VARCHAR/LONG VARCHAR column throws an exception on the Embedded Driver but not on the NetworkClient&lt;br/&gt;
2) updateBlob works on a CHAR/VARCHAR/LONG VARCHAR FOR BIT DATA throws an exception on the Embedded Driver but not on the NetworkClient&lt;/p&gt;

&lt;p&gt;From what the JDBC 4.0 spec says (pg 198 table b-5) the Embedded behaviour seems to be correct.&lt;/p&gt;

&lt;p&gt;This can be fixed by Matching Embedded behaviour. This would involve throwing an exception in the cases mentioned above&lt;/p&gt;
</description>
                <environment>All</environment>
        <key id="12364533">DERBY-2430</key>
            <summary> setObject(int targetType, Blob source) and setObject(int targetType, Clob source) should disallow updates on all targetTypes except BLOB and CLOB respectively</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="32841">DERBY-310</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="narayanan">V.Narayanan</assignee>
                                    <reporter username="narayanan">V.Narayanan</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Mar 2007 07:50:37 +0000</created>
                <updated>Sat, 16 Jun 2007 17:26:54 +0100</updated>
                            <resolved>Sat, 16 Jun 2007 17:26:54 +0100</resolved>
                                                    <fixVersion>10.3.1.4</fixVersion>
                                    <component>Network Client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12479523" author="narayanan" created="Fri, 9 Mar 2007 07:58:40 +0000"  >&lt;p&gt;The above patch removes the code that allows types other than Clob and Blob in the setObject method of CrossConverters class. I have also fixed a failure in UpdatableResultSetTest.java . This involved adding the SQLState of the exception that will be thrown when we do a updateClob or a updateBlob on the disallowed types into the updateObjectRulesTableForNetworkClient array.&lt;/p&gt;

&lt;p&gt;I am running derbyall with this patch. I shall post the results soon. I have put this up for review.&lt;/p&gt;

&lt;p&gt;Narayanan&lt;/p&gt;</comment>
                            <comment id="12479572" author="narayanan" created="Fri, 9 Mar 2007 12:12:44 +0000"  >&lt;p&gt;I had one failure in derbynet/testSecMec.java when I ran derbyall and it did not seem related to my patch.&lt;/p&gt;

&lt;p&gt;I request for this patch to be please considered for a commit.&lt;/p&gt;

&lt;p&gt;--------------------------------------------------------------------------------------------------&lt;br/&gt;
The diff for derbynet/testSecMec.java said this&lt;/p&gt;

&lt;p&gt;&amp;lt; TEST_DS - USRSSBPWD + BUILTIN (T4):EXCEPTION testSecurityMechanism()  Connection authentication failure occurred.  Reason: userid or password invalid.&lt;br/&gt;
&amp;lt; Turning OFF Derby BUILTIN authentication&lt;br/&gt;
&amp;lt; USRSSBPWD + BUILTIN (T5): jdbc:derby://xxxFILTERED_HOSTNAMExxx:xxxFILTEREDPORTxxx/wombat;user=neelima;password=lee;shutdown=true;securityMechanism=8 - EXCEPTION DERBY SQL error: SQLCODE: -1, SQLSTATE: 08006, SQLERRMC: Database &apos;wombat&apos; shutdown.&lt;br/&gt;
&amp;lt; -----&lt;br/&gt;
&amp;lt; Testing with derby.drda.securityMechanism=INVALID_VALUE&lt;br/&gt;
&amp;lt; EXPECTED EXCEPTION DRDA_InvalidValue.U:Invalid value, INVALID_VALUE, for derby.drda.securityMechanism.&lt;br/&gt;
&amp;lt; -----&lt;br/&gt;
&amp;lt; Testing with derby.drda.securityMechanism=&lt;br/&gt;
&amp;lt; EXPECTED EXCEPTION DRDA_InvalidValue.U:Invalid value, , for derby.drda.securityMechanism.&lt;br/&gt;
&amp;lt; Completed testSecMec&lt;br/&gt;
Test Failed.&lt;/p&gt;</comment>
                            <comment id="12480102" author="narayanan" created="Mon, 12 Mar 2007 14:15:07 +0000"  >&lt;p&gt;I did a svn update in the checkout in which I had done this modification. After this I did a svn update and the output did not reveal any broken files&lt;/p&gt;

&lt;p&gt;M      java/testing/org/apache/derbyTesting/functionTests/tests/lang/UpdatableResultSetTest.java&lt;br/&gt;
M      java/client/org/apache/derby/client/am/CrossConverters.java&lt;br/&gt;
X      tools/testing/derby&lt;/p&gt;

&lt;p&gt;This issue blocks 2443 for which I have put in a patch for review alone&lt;/p&gt;

&lt;p&gt;I request a interested person to consider this patch for review and comment and if everything is ok a commit recommendation or a commit.&lt;/p&gt;

&lt;p&gt;thanx,&lt;br/&gt;
Narayanan&lt;/p&gt;</comment>
                            <comment id="12480103" author="narayanan" created="Mon, 12 Mar 2007 14:16:10 +0000"  >&lt;p&gt;pardon my earlier typo. I meant to say I did a &quot;svn status&quot; after doing a &quot;svn update&quot;.&lt;/p&gt;</comment>
                            <comment id="12480300" author="knutanders" created="Tue, 13 Mar 2007 07:50:04 +0000"  >&lt;p&gt;Thanks Narayanan. The patch looks good. Committed revision 517577.&lt;br/&gt;
I set the &quot;Release Note Needed&quot; flag to indicate that this change should be mentioned in the release notes for 10.3. It would be OK to incorporate the release note for this issue into the release note for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1610&quot; title=&quot;Resolve difference of type compatibility between Embedded and NetworkServer/NetworkDriver&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1610&quot;&gt;&lt;del&gt;DERBY-1610&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="12480307" author="narayanan" created="Tue, 13 Mar 2007 08:30:08 +0000"  >&lt;p&gt;Thank you for the commit knut. This patch blocks issue 2443 and this commit will help me in submitting a final patch to that issue. &lt;/p&gt;

&lt;p&gt;Thanx a ton for this one,&lt;br/&gt;
Narayanan&lt;/p&gt;</comment>
                            <comment id="12505184" author="narayanan" created="Fri, 15 Jun 2007 13:14:45 +0100"  >&lt;p&gt;Re-opening to attach release note.&lt;/p&gt;</comment>
                            <comment id="12505185" author="narayanan" created="Fri, 15 Jun 2007 13:15:41 +0100"  >&lt;p&gt;Attaching the release note for this issue&lt;/p&gt;</comment>
                            <comment id="12505201" author="narayanan" created="Fri, 15 Jun 2007 13:28:05 +0100"  >&lt;p&gt;All patches submitted and committed and release note added&lt;/p&gt;</comment>
                            <comment id="12505482" author="rhillegas" created="Sat, 16 Jun 2007 17:16:03 +0100"  >&lt;p&gt;Reopen issue so that I can scrub the release note.&lt;/p&gt;</comment>
                            <comment id="12505483" author="rhillegas" created="Sat, 16 Jun 2007 17:17:26 +0100"  >&lt;p&gt;Attaching scrubbed version the release note. This removes the cruft inserted by an html editor, which the SAX parser can&apos;t digest.&lt;/p&gt;</comment>
                            <comment id="12505484" author="rhillegas" created="Sat, 16 Jun 2007 17:25:12 +0100"  >&lt;p&gt;Correct unbalanced paragraph tag in release note.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12364635">DERBY-2443</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12346905">DERBY-1610</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12359930" name="releaseNote.html" size="3778" author="rhillegas" created="Sat, 16 Jun 2007 17:25:12 +0100"/>
                            <attachment id="12359929" name="releaseNote.html" size="3772" author="rhillegas" created="Sat, 16 Jun 2007 17:17:26 +0100"/>
                            <attachment id="12359852" name="releaseNote.html" size="3998" author="narayanan" created="Fri, 15 Jun 2007 13:15:40 +0100"/>
                            <attachment id="12352961" name="setObjectForClobBlob_v1.diff" size="5640" author="narayanan" created="Fri, 9 Mar 2007 07:58:39 +0000"/>
                            <attachment id="12352962" name="setObjectForClobBlob_v1.stat" size="257" author="narayanan" created="Fri, 9 Mar 2007 07:58:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 13 Mar 2007 07:50:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30439</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10101"><![CDATA[Release Note Needed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy11qv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39933</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>