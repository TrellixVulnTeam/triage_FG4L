<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:21:41 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-5492/DERBY-5492.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-5492] Restrictive file permissions: permissions removed also for owner on NTFS if Acl does not contain explicit entry for owner</title>
                <link>https://issues.apache.org/jira/browse/DERBY-5492</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;It turns out that the file owner does not necessarily get an explicit AclEntry; this depends on whether the created file has sufficient permissions already through, say, a permission for everybody to write. The present logic removes all AclEntries except those granted to the file&apos;s owner, erroneously presuming there would be such an entry always. This led to all AclEntries being removed. &lt;/p&gt;

&lt;p&gt;This error is seen in Oracle&apos;s nightly regressions for Windows, but did not reproduced when running manually on Windows. This was due to different default inherited permissions on the directories in which the regression tests were run.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12530548">DERBY-5492</key>
            <summary>Restrictive file permissions: permissions removed also for owner on NTFS if Acl does not contain explicit entry for owner</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dagw">Dag H. Wanvik</assignee>
                                    <reporter username="dagw">Dag H. Wanvik</reporter>
                        <labels>
                            <label>derby_backport_reject_10_8</label>
                    </labels>
                <created>Mon, 7 Nov 2011 10:29:06 +0000</created>
                <updated>Mon, 8 Jul 2013 21:57:40 +0100</updated>
                            <resolved>Wed, 9 Nov 2011 09:40:45 +0000</resolved>
                                    <version>10.9.1.0</version>
                                    <fixVersion>10.9.1.0</fixVersion>
                                    <component>Store</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13145326" author="dagw" created="Mon, 7 Nov 2011 10:34:42 +0000"  >&lt;p&gt;Uploading a patch which makes two changes:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Construct a new AclEntry for the owner with all rights, and removed existing ones (NTFS). This should handle the error seen in Oracle&apos;s regressions.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;For Solaris/ZFS and similar file systems which support both Posix file attributes view and ACLs, don&apos;t touch the ACLs but stick to the Posix flags.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; For the latter my rationale is as follows: Principle of least surprise: most users never touch the ACLs but use the more familiar Posix file masks. It turned out the existing Derby implementation, although protecting the file adequately, showed a &quot;+&quot; in the ls(1) listing indicating that the settings could not be directly mapped onto the Posix model. The reason was that we removed more permissions than the plain read,write, and execute. Since ZFS internally builds on ACLs, the ls(1) listing would should that Derby had been tinkering with the non-mappable ACL permissions. I think it is better to stick to the Posix permissions by default. If people are using ACL functionality they are likely more than average concerned with security and can run with default file permissions and take full responsibility of the permissions fo created filed. Rationale end.&lt;/p&gt;

&lt;p&gt;Rerunning regressions of NTFS, Solaris/ZFS and Linux. &lt;/p&gt;</comment>
                            <comment id="13146253" author="knutanders" created="Tue, 8 Nov 2011 12:47:37 +0000"  >&lt;p&gt;I ran a quick test on the Windows machine where we saw the failures in the nightly tests. I ran the derbynet test suite and verified that it failed with permission problems without the patch and passed with the patch.&lt;/p&gt;

&lt;p&gt;Tiny nit: The patch adds an import for the Monitor class, but it doesn&apos;t use it. The rest of the changes look good to me.&lt;/p&gt;</comment>
                            <comment id="13146892" author="dagw" created="Wed, 9 Nov 2011 09:38:00 +0000"  >&lt;p&gt;Thanks for looking at the patch, Knut. Uploading derby-5492-2 which removes two unused imports. Committed at svn 1199673 and closing.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12515817">DERBY-5363</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12502744" name="derby-5492-1.diff" size="9230" author="dagw" created="Mon, 7 Nov 2011 10:34:42 +0000"/>
                            <attachment id="12502745" name="derby-5492-1.stat" size="176" author="dagw" created="Mon, 7 Nov 2011 10:34:42 +0000"/>
                            <attachment id="12503041" name="derby-5492-2.diff" size="9110" author="dagw" created="Wed, 9 Nov 2011 09:38:00 +0000"/>
                            <attachment id="12503042" name="derby-5492-2.stat" size="176" author="dagw" created="Wed, 9 Nov 2011 09:38:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10361"><![CDATA[Security]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 8 Nov 2011 12:47:37 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>216286</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0elb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36182</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>