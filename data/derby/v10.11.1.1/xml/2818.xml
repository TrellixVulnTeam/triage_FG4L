<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:54:02 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-2818/DERBY-2818.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-2818] Rewrite ClobUpdatableReader constructors</title>
                <link>https://issues.apache.org/jira/browse/DERBY-2818</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;When the fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2806&quot; title=&quot;calling getByteLength on org.apache.derby.impl.jdbc.StoreStreamClob makes BinaryStream, fetched before this call, unusable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2806&quot;&gt;&lt;del&gt;DERBY-2806&lt;/del&gt;&lt;/a&gt; is in place, the current implementation of ClobUpdateableReader will fail.&lt;br/&gt;
This patch is a preparation for the mentioned issue, and I have also removed some &quot;internal&quot; (package private) methods from EmbedClob and replaced it with a single one. &lt;/p&gt;

&lt;p&gt;Instead of writing methods that forwards calls to the underlying InternalClob, the method getInternalClob will return the internal clob itself. This seems more in place, since the method getByteLength does not belong in EmbedClob. It also comes with a warning that using the reference to the internal clob object requires the caller to take more care. Second, isWritable() does not belong to EmbedClob either, as a Clob is always writable (unless the database/connection itself is read/only). However, the internal clob representation may be read-only, in case EmbedClob must clone the content and create a writable representation.&lt;/p&gt;

&lt;p&gt;The fix leaves more of the handling of implementation details to the InternalClob itself.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12371623">DERBY-2818</key>
            <summary>Rewrite ClobUpdatableReader constructors</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kristwaa">Kristian Waagan</assignee>
                                    <reporter username="kristwaa">Kristian Waagan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Jun 2007 13:50:50 +0100</created>
                <updated>Fri, 15 Jun 2007 14:05:34 +0100</updated>
                            <resolved>Thu, 14 Jun 2007 17:32:21 +0100</resolved>
                                    <version>10.3.1.4</version>
                                    <fixVersion>10.3.1.4</fixVersion>
                                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12504706" author="kristwaa" created="Thu, 14 Jun 2007 13:56:07 +0100"  >&lt;p&gt;&apos;derby-2818-1a.diff&apos; rewrites (in part) the three constructors in ClobUpdateableReader and replaces a few methods in EmbedClob with a single replacement method.&lt;/p&gt;</comment>
                            <comment id="12504803" author="kristwaa" created="Thu, 14 Jun 2007 17:32:21 +0100"  >&lt;p&gt;Committed &apos;derby-2818-1a.diff&apos; to trunk with revision 547296.&lt;/p&gt;

&lt;p&gt;Ran suites.All and derbyall without failures.&lt;/p&gt;</comment>
                            <comment id="12505220" author="kristwaa" created="Fri, 15 Jun 2007 14:05:34 +0100"  >&lt;p&gt;No problems reported by the nightlies. Closing the issue.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12371445">DERBY-2806</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12370518">DERBY-2730</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12359722" name="derby-2818-1a.diff" size="7386" author="kristwaa" created="Thu, 14 Jun 2007 13:56:06 +0100"/>
                            <attachment id="12359723" name="derby-2818-1a.stat" size="133" author="kristwaa" created="Thu, 14 Jun 2007 13:56:06 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30607</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy11s7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39939</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>