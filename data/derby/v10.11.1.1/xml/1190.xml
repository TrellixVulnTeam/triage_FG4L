<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:20:24 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-1190/DERBY-1190.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-1190] Network Server reports wrong product name when logging connections to derby.log</title>
                <link>https://issues.apache.org/jira/browse/DERBY-1190</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;The Derby Network Server is symptomatic of dissociative identity disorder when derby.drda.logConnections=true. At startup and shutdown the network server correctly recognizes itself as &quot;Apache Derby&quot;. When logging connections, however, it thinks it is &quot;Cloudscape&quot;. &lt;/p&gt;

&lt;p&gt;See the following derby.log for an example:&lt;/p&gt;

&lt;p&gt;======= derby.log  START ================&lt;/p&gt;

&lt;p&gt;Apache Derby Network Server - 10.2.0.0 alpha started and ready to accept connections on port 1527 at 2006-04-07 09:09:22.766 GMT&lt;br/&gt;
Connection number: 1.&lt;br/&gt;
----------------------------------------------------------------&lt;br/&gt;
2006-04-07 09:10:02.054 GMT:&lt;br/&gt;
 Booting Derby version The Apache Software Foundation - Apache Derby - 10.2.0.0 alpha - (392214): instance c013800d-010a-739c-e4bf-0000001109c8&lt;br/&gt;
on database directory /export/home/tmp/test/testDB&lt;/p&gt;

&lt;p&gt;Database Class Loader started - derby.database.classpath=&apos;&apos;&lt;br/&gt;
2006-04-07 09:10:03.287 GMT Thread&lt;span class=&quot;error&quot;&gt;&amp;#91;DRDAConnThread_3,5,main&amp;#93;&lt;/span&gt; (DATABASE = testDB), (DRDAID = &lt;/p&gt;
{1}
&lt;p&gt;), Cloudscape Network Server connected to database testDB;create=true&lt;/p&gt;

&lt;p&gt;======= derby.log  END ================&lt;/p&gt;

&lt;p&gt;To reproduce, do the following:&lt;/p&gt;


&lt;p&gt;1. Start the network server with the property derby.drda.logConnections set to true. An example follows:&lt;/p&gt;

&lt;p&gt;bash-3.00 $ java -Dderby.drda.logConnections=true -jar $&lt;/p&gt;
{DERBY_CURRENT}/derbyrun.jar NetworkServerControl start&lt;br/&gt;
Apache Derby Network Server - 10.2.0.0 alpha started and ready to accept connections on port 1527 at 2006-04-07 09:09:22.766 GMT&lt;br/&gt;
Connection number: 1.&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
2. Use the client driver to connect to the server. An example follows (using IJ):&lt;br/&gt;
&lt;br/&gt;
bash-3.00 $ java -jar ${DERBY_CURRENT}
&lt;p&gt;/derbyrun.jar ij&lt;br/&gt;
ij version 10.2&lt;br/&gt;
ij&amp;gt; connect &apos;jdbc:derby://localhost:1527/testDB;create=true&apos;;&lt;br/&gt;
ij&amp;gt; exit;&lt;/p&gt;
</description>
                <environment>Derby client/server environments</environment>
        <key id="12331768">DERBY-1190</key>
            <summary>Network Server reports wrong product name when logging connections to derby.log</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="johnemb">John H. Embretsen</assignee>
                                    <reporter username="johnemb">John H. Embretsen</reporter>
                        <labels>
                    </labels>
                <created>Fri, 7 Apr 2006 19:20:05 +0100</created>
                <updated>Sun, 9 Apr 2006 17:08:38 +0100</updated>
                            <resolved>Sat, 8 Apr 2006 06:22:13 +0100</resolved>
                                    <version>10.1.2.1</version>
                    <version>10.2.1.6</version>
                                    <fixVersion>10.2.1.6</fixVersion>
                                    <component>Network Server</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12373616" author="johnemb" created="Fri, 7 Apr 2006 19:29:35 +0100"  >&lt;p&gt;Attached patch &apos;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1190&quot; title=&quot;Network Server reports wrong product name when logging connections to derby.log&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1190&quot;&gt;&lt;del&gt;DERBY-1190&lt;/del&gt;&lt;/a&gt;_v1.diff&apos; correcting this issue. Status file is also included (&apos;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1190&quot; title=&quot;Network Server reports wrong product name when logging connections to derby.log&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1190&quot;&gt;&lt;del&gt;DERBY-1190&lt;/del&gt;&lt;/a&gt;_v1.stat&apos;). &lt;/p&gt;

&lt;p&gt;I have not (yet) run derbyall, since this is a trivial change of a String in org/apache/derby/impl/drda/DRDAConnThread.java.&lt;/p&gt;

&lt;p&gt;Please review and commit if acceptable...&lt;/p&gt;
</comment>
                            <comment id="12373624" author="johnemb" created="Fri, 7 Apr 2006 20:24:28 +0100"  >&lt;p&gt;Below is an example derby.log with &apos;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1190&quot; title=&quot;Network Server reports wrong product name when logging connections to derby.log&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1190&quot;&gt;&lt;del&gt;DERBY-1190&lt;/del&gt;&lt;/a&gt;_v1.diff&apos; applied to current trunk. The only change is that &quot;Cloudscape&quot; is replaced with &quot;Apache Derby&quot; in the connection log text&lt;br/&gt;
.&lt;/p&gt;

&lt;p&gt;======= derby.log START ================ &lt;/p&gt;

&lt;p&gt;Apache Derby Network Server - 10.2.0.0 alpha started and ready to accept connections on port 1527 at 2006-04-07 09:14:20.258 GMT&lt;br/&gt;
Connection number: 1.&lt;br/&gt;
----------------------------------------------------------------&lt;br/&gt;
2006-04-07 09:16:32.804 GMT:&lt;br/&gt;
 Booting Derby version The Apache Software Foundation - Apache Derby - 10.2.0.0 alpha - (392214M): instance c013800d-010a-73a1-6ed3-000000149b70&lt;br/&gt;
on database directory /export/home/tmp/test/testDB&lt;/p&gt;

&lt;p&gt;Database Class Loader started - derby.database.classpath=&apos;&apos;&lt;br/&gt;
2006-04-07 09:16:34.051 GMT Thread&lt;span class=&quot;error&quot;&gt;&amp;#91;DRDAConnThread_3,5,main&amp;#93;&lt;/span&gt; (DATABASE = testDB), (DRDAID = &lt;/p&gt;
{1}
&lt;p&gt;), Apache Derby Network Server connected to database testDB;create=true&lt;/p&gt;

&lt;p&gt;======= derby.log END ================ &lt;/p&gt;</comment>
                            <comment id="12373685" author="bryanpendleton" created="Sat, 8 Apr 2006 06:22:13 +0100"  >&lt;p&gt;This seems like a simple, clear change. I verified the fix by hand-testing a network server with derby.drda.logConnections=true, and I also ran derbyall just to be sure, and encountered no problems.&lt;/p&gt;

&lt;p&gt;I&apos;ve committed the change to subversion as revision 392404.&lt;/p&gt;

&lt;p&gt;John, can you confirm that the fix went in properly, and then close this issue? Thanks.&lt;/p&gt;</comment>
                            <comment id="12373762" author="johnemb" created="Sun, 9 Apr 2006 17:08:36 +0100"  >&lt;p&gt;Thanks, Bryan, for committing!&lt;/p&gt;

&lt;p&gt;Verified that the fix is present and working as expected in up-to-date trunk (SVN rev. 392611). &lt;br/&gt;
Did not notice any related failures when running derbyall on an earlier revision with the patch applied, on Solaris 10 x86, Sun JDK 1.5. &lt;/p&gt;

&lt;p&gt;Closing the issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12325050" name="DERBY-1190_v1.diff" size="606" author="johnemb" created="Fri, 7 Apr 2006 19:29:33 +0100"/>
                            <attachment id="12325051" name="DERBY-1190_v1.stat" size="64" author="johnemb" created="Fri, 7 Apr 2006 19:29:35 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 8 Apr 2006 05:22:13 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22360</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy16wf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40768</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>