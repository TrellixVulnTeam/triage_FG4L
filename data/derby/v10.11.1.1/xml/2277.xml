<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:10:49 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-2277/DERBY-2277.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-2277] Make it possible to run the testsuite with jdk1.7</title>
                <link>https://issues.apache.org/jira/browse/DERBY-2277</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Today if you try to run the testsuite with jdk1.7 you get a ClassNotFoundException:&lt;/p&gt;

&lt;p&gt;Process exception: java.lang.ClassNotFoundException: org.apache.derbyTesting.functionTests.harness.jdk17&lt;br/&gt;
Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: org.apache.derbyTesting.functionTests.harness.jdk17&lt;br/&gt;
   at java.net.URLClassLoader$1.run(URLClassLoader.java:203)&lt;br/&gt;
   at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
   at java.net.URLClassLoader.findClass(URLClassLoader.java:191)&lt;br/&gt;
   at java.lang.ClassLoader.loadClass(ClassLoader.java:306)&lt;br/&gt;
   at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:276)&lt;br/&gt;
   at java.lang.ClassLoader.loadClass(ClassLoader.java:251)&lt;br/&gt;
   at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:319)&lt;br/&gt;
   at java.lang.Class.forName0(Native Method)&lt;br/&gt;
   at java.lang.Class.forName(Class.java:169)&lt;br/&gt;
   at org.apache.derbyTesting.functionTests.harness.jvm.getJvm(Unknown Source)&lt;br/&gt;
   at org.apache.derbyTesting.functionTests.harness.RunTest.buildTestCommand(Unknown Source)&lt;br/&gt;
   at org.apache.derbyTesting.functionTests.harness.RunTest.testRun(Unknown Source)&lt;br/&gt;
   at org.apache.derbyTesting.functionTests.harness.RunTest.main(Unknown Source) &lt;/p&gt;</description>
                <environment>jdk1.7</environment>
        <key id="12361560">DERBY-2277</key>
            <summary>Make it possible to run the testsuite with jdk1.7</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.png">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vemund">Vemund &#216;stgaard</assignee>
                                    <reporter username="vemund">Vemund &#216;stgaard</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Jan 2007 14:17:26 +0000</created>
                <updated>Wed, 1 Jul 2009 00:55:09 +0100</updated>
                            <resolved>Wed, 7 Feb 2007 22:49:41 +0000</resolved>
                                                    <fixVersion>10.3.1.4</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12468972" author="vemund" created="Wed, 31 Jan 2007 10:39:10 +0000"  >&lt;p&gt;Patch that adds a new file jdk17.java to the testharness, making it possible to run the old harness tests with jdk1.7.&lt;/p&gt;</comment>
                            <comment id="12469209" author="myrna" created="Wed, 31 Jan 2007 21:54:15 +0000"  >&lt;p&gt;I looked at the patch, and ran supersimple with j9 and jdk14, and it all looked good, so I committed the patch with revision 501994&lt;/p&gt;

&lt;p&gt;An appropriate entry in the java/testing/Readme.htm would be good.&lt;/p&gt;
</comment>
                            <comment id="12470542" author="vemund" created="Tue, 6 Feb 2007 12:23:09 +0000"  >&lt;p&gt;Thank you, Myrna.&lt;/p&gt;

&lt;p&gt;I&apos;ve added a patch that makes the apporipriate modifications to java/testing/README.html, documenting that jdk17 has been added. I also made a change to the README saying that jdk16 is now the default jvm if the testsuite is run with an &quot;unknown&quot; jvm, as this was changed in JIRA2279.&lt;/p&gt;

&lt;p&gt;I have one question, however, related to how the README.htm explains running the testsuite with a new jvm. The documentation says that you should first just run the testsuite, and if everything works ok you do not have to do anything. If behaviour is different with this jvm, though, you may have to:&lt;br/&gt;
&quot;create a subclass of&lt;br/&gt;
org.apache.derbyTesting.functionTests.harness.jvm. In this class,&lt;br/&gt;
specify any jvm specific property settings required&quot;&lt;/p&gt;

&lt;p&gt;Now, I found that this class was needed to be able to execute the testsuite at all, or I got a ClassNotFoundException. Did I stumble on a bug, or should the documentation be changed to say that you must always create a new subclass of harness.jvm when running with a new jvm?&lt;/p&gt;</comment>
                            <comment id="12470544" author="vemund" created="Tue, 6 Feb 2007 12:26:27 +0000"  >&lt;p&gt;Forgot to grant license, so attaching the same files again.&lt;/p&gt;</comment>
                            <comment id="12471137" author="myrna" created="Wed, 7 Feb 2007 22:49:17 +0000"  >&lt;p&gt;I committed the README.htm changes with revision 504724, (with one minor change - 1.7 instead of 1.6 for the second occurrence). see &lt;a href=&quot;http://svn.apache.org/viewvc?view=rev&amp;amp;revision=504724&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc?view=rev&amp;amp;revision=504724&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;That text re being able to run with the same jvm class...&lt;br/&gt;
Well, it is possible that a new jvm reports itself as one of the existing jvms. &lt;br/&gt;
The harness tries to come up with a likely classname to call with Class.forName, based on jvm-properties. Over time, the set of variables to check has been added to, presumably because theoretically similar jvms behaved differently (causing different output and requiring new master/canon branches and/or different special properties). Currently, it checks for java.vm.name, java.vm.vendor, java.vm.version, and com.ibm.oti.configuration. So, if your new vm has a different value for any of those properties, the harness will attempt to instantiate a non-existing class. And, so you&apos;ll need either a new jvm class (boo), or changes to the harness (worse). &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12350003" name="2277-diff" size="3504" author="vemund" created="Wed, 31 Jan 2007 10:39:10 +0000"/>
                            <attachment id="12350004" name="2277-diff.stat" size="143" author="vemund" created="Wed, 31 Jan 2007 10:39:10 +0000"/>
                            <attachment id="12350437" name="2277-diff2" size="1416" author="vemund" created="Tue, 6 Feb 2007 12:26:26 +0000"/>
                            <attachment id="12350435" name="2277-diff2" size="1416" author="vemund" created="Tue, 6 Feb 2007 12:23:09 +0000"/>
                            <attachment id="12350438" name="2277-diff2.stat" size="97" author="vemund" created="Tue, 6 Feb 2007 12:26:26 +0000"/>
                            <attachment id="12350436" name="2277-diff2.stat" size="97" author="vemund" created="Tue, 6 Feb 2007 12:23:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 31 Jan 2007 21:54:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30358</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0tsn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38645</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>