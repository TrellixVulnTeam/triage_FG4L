<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:31:58 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-5224/DERBY-5224.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-5224] [patch] reduce cohesion by removing overzealous casting</title>
                <link>https://issues.apache.org/jira/browse/DERBY-5224</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;various spots casts assignments to a type more restrictive than needed, increasing cohesion. Patch reduces the casting to the required types.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12506740">DERBY-5224</key>
            <summary>[patch] reduce cohesion by removing overzealous casting</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.png">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dbrosius@apache.org">Dave Brosius</assignee>
                                    <reporter username="dbrosius@apache.org">Dave Brosius</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 May 2011 17:56:56 +0100</created>
                <updated>Mon, 17 Jun 2013 10:19:18 +0100</updated>
                            <resolved>Fri, 13 May 2011 12:22:41 +0100</resolved>
                                                    <fixVersion>10.9.1.0</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13031594" author="knutanders" created="Wed, 11 May 2011 09:20:41 +0100"  >&lt;p&gt;The patch looks fine to me. (It includes the &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-5200&quot; title=&quot;[patch] embellish build.xml to automatically install junit.jar in the correct directory if it doesn&amp;#39;t exist.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-5200&quot;&gt;&lt;del&gt;DERBY-5200&lt;/del&gt;&lt;/a&gt; changes too, but that should be easy enough to revert when applying the patch.) Dave, did you run any tests on the patch?&lt;/p&gt;</comment>
                            <comment id="13031863" author="dbrosius@apache.org" created="Wed, 11 May 2011 18:18:41 +0100"  >&lt;p&gt;ran &lt;/p&gt;

&lt;p&gt;java -classpath tools/java/junit.jar:tools/java/jakarta-oro-2.0.8.jar:jars/sane/derbyTesting.jar:jars/sane/derby.jar:jars/sane/derbyTools.jar:jars/sane/derbyTools.jar:jars/sane/derbyrun.jar:jars/sane/derbynet.jar:jars/sane/derbyclient.jar -Xmx800m -XX:MaxPermSize=512m junit.textui.TestRunner org.apache.derbyTesting.functionTests.suites.All&lt;/p&gt;

&lt;p&gt;with no errors&lt;/p&gt;</comment>
                            <comment id="13032155" author="dagw" created="Wed, 11 May 2011 23:55:40 +0100"  >&lt;p&gt;I am not sure this change is always &quot;in tune&quot; with the current idioms we employ. For example, when allocating compiler nodes using the factory method, e.g.&lt;/p&gt;

&lt;p&gt;prnRSN = (RowCountNode)getNodeFactory().getNode(&lt;br/&gt;
                C_NodeTypes.ROW_COUNT_NODE,&lt;br/&gt;
                prnRSN,&lt;br/&gt;
                topList,&lt;br/&gt;
                offset,&lt;br/&gt;
                fetchFirst,&lt;br/&gt;
                getContextManager());&lt;/p&gt;

&lt;p&gt;the pattern has always been to cast to the class corresponding to the nodetype, i.e. ROW_COUNT_NODE, although we don&apos;t not always need the specialized node version at the point where it is being created. Perhaps it would be beneficial to stick to this established pattern to avoid introducing errors? I don&apos;t see the need to change this a priori?&lt;/p&gt;</comment>
                            <comment id="13032163" author="dbrosius@apache.org" created="Thu, 12 May 2011 00:05:16 +0100"  >&lt;p&gt;Do what you like of course, but if that is the case, it would seem to me that prnRSN in your example should be defined as a RowCountNode then.&lt;/p&gt;</comment>
                            <comment id="13032197" author="dagw" created="Thu, 12 May 2011 01:18:07 +0100"  >&lt;p&gt;I checked again, and I see that the pattern I referred to isn&apos;t always used at all: For example in SelectNode, ca 30% of node creations do &lt;b&gt;not&lt;/b&gt; use the pattern. So, I&apos;m ok with the change.&lt;/p&gt;</comment>
                            <comment id="13032423" author="lilywei" created="Thu, 12 May 2011 15:17:44 +0100"  >&lt;p&gt;+1 The change looks good to me. I think more cohesion is better by casting. I also run derbyall and all tests pass with the patch.&lt;/p&gt;</comment>
                            <comment id="13032968" author="knutanders" created="Fri, 13 May 2011 12:21:25 +0100"  >&lt;p&gt;Thanks, Dave, for the patch, and Dag and Lily for reviewing and testing the patch. Committed revision 1102679.&lt;/p&gt;</comment>
                            <comment id="13685196" author="knutanders" created="Mon, 17 Jun 2013 10:19:18 +0100"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;bulk update&amp;#93;&lt;/span&gt; Close all resolved issues that haven&apos;t been updated for more than one year.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12478711" name="reduce_cohesion.diff" size="14192" author="dbrosius@apache.org" created="Tue, 10 May 2011 17:57:12 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 11 May 2011 08:20:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31557</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0gb3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36460</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310050" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Urgency</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10053"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>