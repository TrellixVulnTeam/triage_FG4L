<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:53:47 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-1983/DERBY-1983.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-1983] Change build system so that base level is JDK 1.4</title>
                <link>https://issues.apache.org/jira/browse/DERBY-1983</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description></description>
                <environment></environment>
        <key id="12353714">DERBY-1983</key>
            <summary>Change build system so that base level is JDK 1.4</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12353713">DERBY-1982</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="djd">Daniel John Debrunner</assignee>
                                    <reporter username="djd">Daniel John Debrunner</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Oct 2006 19:42:35 +0100</created>
                <updated>Fri, 9 Mar 2007 21:31:34 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 21:31:34 +0000</resolved>
                                                    <fixVersion>10.3.1.4</fixVersion>
                                    <component>Build tools</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12443926" author="djd" created="Fri, 20 Oct 2006 20:01:11 +0100"  >&lt;p&gt;Just to note that J2ME/CDC/Foundation should continue to be a working environment for Derby.&lt;/p&gt;</comment>
                            <comment id="12449678" author="chdh@inventec.ch" created="Tue, 14 Nov 2006 14:40:55 +0000"  >&lt;p&gt;Why not change the base level for the build system to JDK 1.5, which has been released on September 2004? Thats since more than two years. I don&apos;t have JDK 1.4 installed any more...&lt;/p&gt;</comment>
                            <comment id="12449703" author="djd" created="Tue, 14 Nov 2006 16:58:13 +0000"  >&lt;p&gt;I do think that Derby should be buildable using jdk 1.4 or jdk 1.5, but I think Derby should still run on JDK 1.4 and I&apos;m willing to scratch that itch.&lt;/p&gt;

&lt;p&gt;I saw some article on the web that indicated most Java developers have not switched to 1.5 and are still based on 1.4.2.&lt;br/&gt;
I do not believe we should restrict the potential pool of Derby developers by requiring JDK 1.5 (or JDK 6) to build Derby.&lt;/p&gt;

&lt;p&gt;Since JDBC 3 is the JDBC support level for 1.4 and 1.5 having the build work with either should be fine.&lt;/p&gt;</comment>
                            <comment id="12449787" author="fuzzylogic" created="Tue, 14 Nov 2006 21:13:15 +0000"  >&lt;p&gt;It is possible today to build with the 1.5 compiler and runtime classes and get a binary build that continues to work on JDK 1.4. I&apos;ve tested it and everything works as expected.&lt;/p&gt;

&lt;p&gt;I did have to make one small change to get it to compile. In JDK 1.5, Xalan is no longer directly accessible in the runtime classes. They&apos;ve moved the org.apache.xpath classes into com.sun for some reason, probably to promote the javax.xml.transform APIs (see &lt;a href=&quot;http://java.sun.com/j2se/1.5.0/docs/guide/xml/jaxp/JAXP-Compatibility_150.html#xsltXpath&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://java.sun.com/j2se/1.5.0/docs/guide/xml/jaxp/JAXP-Compatibility_150.html#xsltXpath&lt;/a&gt;) . So, I had to grab my own copy of xalan.jar and serializer jar and include it in the compile target in iapi/types in order to build the XML classes. Otherwise it&apos;s just a matter of replacing the j14lib ant property to point to your 1.5 runtime classes, and then running Ant in your 1.5 VM. &lt;/p&gt;</comment>
                            <comment id="12449803" author="djd" created="Tue, 14 Nov 2006 21:35:02 +0000"  >&lt;p&gt;I think Andrew&apos;s method above works but will silently allow JDK 1.5 methods and/or classes to be used which are not present in JDK 1.4.&lt;/p&gt;

&lt;p&gt;The documentation for Javac has this example for cros compilation:&lt;/p&gt;

&lt;p&gt;javac -target 1.4 -bootclasspath jdk1.4.2/lib/classes.zip \&lt;br/&gt;
             -extdirs &quot;&quot; OldCode.java&lt;/p&gt;

&lt;p&gt;and a note about needing to point the compiler to a different set of base classes.&lt;/p&gt;</comment>
                            <comment id="12479720" author="djd" created="Fri, 9 Mar 2007 21:14:27 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;this was posted to derby-dev today - also putting it here for reference&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Revision 516518 changes the default base compile level to JDK 1.4 (for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1983&quot; title=&quot;Change build system so that base level is JDK 1.4&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1983&quot;&gt;&lt;del&gt;DERBY-1983&lt;/del&gt;&lt;/a&gt;). Basically two changes:&lt;/p&gt;

&lt;p&gt; compile.classpath now defaults to java14compile.classpath&lt;br/&gt;
 compiler target/source flags now use 1.4 instead of 1.3&lt;/p&gt;

&lt;p&gt;I think this change will be transparent to everyone, i.e. nothing need change in your setup. You can remove the setting j13lib from your ant.properties if you want though.&lt;/p&gt;

&lt;p&gt;I think some more changes are required before the instructions can be changed to not require jdk 1.3 and the various optional downloads, I just need to go through the build.xml files again and see which are still referenced &amp;amp; why.&lt;/p&gt;

&lt;p&gt;Note that compile.classpath is not the same value logically as java14compile.classpath even though the default setup makes them the same. compile.classpath is used to compile classes that need to work in JDK 1.4 and J2ME, whereas java14compile.classpath is used for classes that cannot run in J2ME. I hopefully improved the comments around this in tools/ant/properties/compilepath.properties.&lt;br/&gt;
Ideally one should be able to set compile.classpath to J2ME/CDC/Foundation 1.1 + JSR 169 libraries and compile successfully. This is to allow greater confidence that the base code will work on JSR169 and not rely on any JDK 1.4 features. I&apos;m not sure it that actually works at the moment though, will be checking that later. &lt;/p&gt;</comment>
                            <comment id="12479725" author="djd" created="Fri, 9 Mar 2007 21:31:34 +0000"  >&lt;p&gt;with revision 516554 you can fully remove any dependency on jdk 1.3&lt;/p&gt;

&lt;p&gt;Apart from removing your setting of j13lib from your ant.properties you can also remove these downloads from tools/java&lt;/p&gt;

&lt;p&gt;jce1_2_2.jar&lt;br/&gt;
jdbc2_0-stdext.jar&lt;br/&gt;
jta-1_0_1B-classes.zip&lt;/p&gt;

&lt;p&gt;I updated the BUILDING.txt with the exception of the mac-os instructions. Wasn&apos;t sure what to do there.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 14 Nov 2006 14:40:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30218</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy1367:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40164</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>