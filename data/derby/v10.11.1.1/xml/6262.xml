<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:27:41 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-6262/DERBY-6262.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-6262] Simplify message-generating methods using varargs</title>
                <link>https://issues.apache.org/jira/browse/DERBY-6262</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;I&apos;ve found that many methods that generate messages could be collapsed into a single method using varargs. Right now, many of them exist in multiple variants, typically for zero up to three or four message arguments.&lt;/p&gt;

&lt;p&gt;Examples:&lt;br/&gt;
  Monitor.logTextMessage()&lt;br/&gt;
  MessageService.getTextMessage()&lt;br/&gt;
  Constructors in SqlException and SqlWarning&lt;/p&gt;</description>
                <environment></environment>
        <key id="12652843">DERBY-6262</key>
            <summary>Simplify message-generating methods using varargs</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="knutanders">Knut Anders Hatlen</assignee>
                                    <reporter username="knutanders">Knut Anders Hatlen</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Jun 2013 10:44:47 +0100</created>
                <updated>Wed, 3 Sep 2014 09:31:44 +0100</updated>
                            <resolved>Tue, 25 Jun 2013 13:38:33 +0100</resolved>
                                    <version>10.11.1.1</version>
                                    <fixVersion>10.11.1.1</fixVersion>
                                    <component>Miscellaneous</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13683265" author="knutanders" created="Fri, 14 Jun 2013 11:19:30 +0100"  >&lt;p&gt;The attached patch, derby-6262-01-a.diff, makes the following changes:&lt;/p&gt;

&lt;p&gt;1) SqlException.java: Replace five constructors with a single one using varargs. No changes needed in the callers.&lt;/p&gt;

&lt;p&gt;2) SqlWarning.java: Replace three constructors with a single one using varargs. No changes needed in the callers.&lt;/p&gt;

&lt;p&gt;3) SQLWarningFactory.java: Replace four methods with a single one using varargs. No changes needed in the callers.&lt;/p&gt;

&lt;p&gt;4) MessageService.java: Replace seven methods with a single one using varargs. Since the seven methods didn&apos;t have the exact same names, some callers had to be updated to call a message with a different name.&lt;/p&gt;

&lt;p&gt;5) Monitor.java: Replace five methods with a single one using varargs. No changes needed in the callers.&lt;/p&gt;

&lt;p&gt;6) Util.java: Replace six methods with two varargs methods. One of the varargs methods had to change the parameter order to get the varargs parameter at the end of the parameter list. Callers of that method had to be updated with correctly ordered arguments. This also revealed a minor bug in EmbedClob.position() where an exception was passed as a message argument instead of the position. That is, the patch changes the error message created for this code:&lt;/p&gt;

&lt;p&gt;    Connection conn = DriverManager.getConnection(&quot;jdbc:derby:memory:db;create=true&quot;);&lt;br/&gt;
    Clob c = conn.createClob();&lt;br/&gt;
    c.position(&quot;test&quot;, 65);&lt;/p&gt;

&lt;p&gt;from&lt;/p&gt;

&lt;p&gt;    The position argument &apos;java.io.EOFException&apos; exceeds the size of the BLOB/CLOB.&lt;/p&gt;

&lt;p&gt;to&lt;/p&gt;

&lt;p&gt;    The position argument &apos;65&apos; exceeds the size of the BLOB/CLOB.&lt;/p&gt;

&lt;p&gt;7) MessageUtil.java: Replace five methods with a single one using varargs. No changes needed in the callers.&lt;/p&gt;


&lt;p&gt;All regression tests passed with the patch.&lt;/p&gt;</comment>
                            <comment id="13685459" author="jira-bot" created="Mon, 17 Jun 2013 12:14:45 +0100"  >&lt;p&gt;Commit 1493714 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=knutanders&quot; class=&quot;user-hover&quot; rel=&quot;knutanders&quot;&gt;Knut Anders Hatlen&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1493714&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1493714&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6262&quot; title=&quot;Simplify message-generating methods using varargs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6262&quot;&gt;&lt;del&gt;DERBY-6262&lt;/del&gt;&lt;/a&gt;: Simplify message-generating methods using varargs&lt;/p&gt;</comment>
                            <comment id="13685952" author="bryanpendleton" created="Mon, 17 Jun 2013 21:41:42 +0100"  >&lt;p&gt;Nice simplification, and a good illustration of the benefits of moving to a modern Java platform.&lt;/p&gt;</comment>
                            <comment id="13686793" author="knutanders" created="Tue, 18 Jun 2013 15:43:07 +0100"  >&lt;p&gt;Thanks, Bryan.&lt;/p&gt;

&lt;p&gt;derby-6262-02-a.diff further reduces the number of constructors in SqlException (6 constructors are replaced by 2) and in DisconnectException (7 are replaced by 2).&lt;/p&gt;

&lt;p&gt;Some of the removed constructors didn&apos;t have the Object[] argument last in the parameter list, which is the only position in which varargs are allowed, so some reordering of arguments in the callers was needed.&lt;/p&gt;

&lt;p&gt;All regression tests ran cleanly.&lt;/p&gt;</comment>
                            <comment id="13687862" author="jira-bot" created="Wed, 19 Jun 2013 11:49:40 +0100"  >&lt;p&gt;Commit 1494541 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=knutanders&quot; class=&quot;user-hover&quot; rel=&quot;knutanders&quot;&gt;Knut Anders Hatlen&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1494541&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1494541&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6262&quot; title=&quot;Simplify message-generating methods using varargs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6262&quot;&gt;&lt;del&gt;DERBY-6262&lt;/del&gt;&lt;/a&gt;: Simplify message-generating methods using varargs&lt;/p&gt;

&lt;p&gt;Use varargs in more constructors in SqlException and&lt;br/&gt;
DisconnectException. Since the message arguments in some of those&lt;br/&gt;
methods were not the last arguments, some reordering of arguments in&lt;br/&gt;
the callers was needed.&lt;/p&gt;</comment>
                            <comment id="13687878" author="knutanders" created="Wed, 19 Jun 2013 12:07:54 +0100"  >&lt;p&gt;Attaching derby-6262-03-a.diff, which collapses many message formatting methods in the tools.&lt;/p&gt;

&lt;p&gt;Since all of the methods had the message arguments at the end, they mapped nicely to varargs, and no callers of the methods had to be changed. I couldn&apos;t resist changing one caller, though: NetworkServerControlImpl.localizeMessage() had a big switch statement to choose which of the five overloads of LocalizedResource.getTextMessage() to call. The patch replaces that code with a single call to getTextMessage().&lt;/p&gt;

&lt;p&gt;All tests ran cleanly with the patch.&lt;/p&gt;</comment>
                            <comment id="13689285" author="jira-bot" created="Thu, 20 Jun 2013 15:37:46 +0100"  >&lt;p&gt;Commit 1495023 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=knutanders&quot; class=&quot;user-hover&quot; rel=&quot;knutanders&quot;&gt;Knut Anders Hatlen&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1495023&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1495023&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6262&quot; title=&quot;Simplify message-generating methods using varargs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6262&quot;&gt;&lt;del&gt;DERBY-6262&lt;/del&gt;&lt;/a&gt;: Simplify message-generating methods using varargs&lt;/p&gt;

&lt;p&gt;Reduce number of methods that format messages in tools classes.&lt;/p&gt;</comment>
                            <comment id="13691989" author="knutanders" created="Mon, 24 Jun 2013 15:03:55 +0100"  >&lt;p&gt;client.am.LogWriter has lots of methods for tracing method entry and exit.&lt;/p&gt;

&lt;p&gt;For example, there are 30 different traceEntry() methods, but a single traceEntry() method using varargs would suffice. The 5 different traceDeprecatedEntry() methods could be simplified in a similar fashion.&lt;/p&gt;

&lt;p&gt;There are also many traceExit() methods. They all take the same number of arguments, so varargs won&apos;t help. However, many of them simply convert an argument from a primitive type to a string and forward it to the generic traceExit() method that takes an Object. The same could be achieved by removing the specialized traceExit() methods for primitive types and just rely on auto-boxing to relay the calls directly to the method that takes an Object.&lt;/p&gt;

&lt;p&gt;Attaching derby-6262-04-a.diff makes the suggested changes.&lt;/p&gt;

&lt;p&gt;All regression tests ran cleanly.&lt;/p&gt;</comment>
                            <comment id="13692931" author="jira-bot" created="Tue, 25 Jun 2013 12:02:33 +0100"  >&lt;p&gt;Commit 1496410 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=knutanders&quot; class=&quot;user-hover&quot; rel=&quot;knutanders&quot;&gt;Knut Anders Hatlen&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1496410&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1496410&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6262&quot; title=&quot;Simplify message-generating methods using varargs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6262&quot;&gt;&lt;del&gt;DERBY-6262&lt;/del&gt;&lt;/a&gt;: Simplify message-generating methods using varargs&lt;/p&gt;

&lt;p&gt;Reduce number of trace methods in LogWriter using varargs and&lt;br/&gt;
auto-boxing.&lt;/p&gt;</comment>
                            <comment id="13692976" author="knutanders" created="Tue, 25 Jun 2013 13:35:53 +0100"  >&lt;p&gt;Attaching derby-6262-05-a.diff, which uses varargs to reduce the number of newSQLException() overloads in EmbedConnection and ConnectionChild. It also makes EmbedConnection use the helper method more places.&lt;/p&gt;</comment>
                            <comment id="13692978" author="jira-bot" created="Tue, 25 Jun 2013 13:36:31 +0100"  >&lt;p&gt;Commit 1496449 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=knutanders&quot; class=&quot;user-hover&quot; rel=&quot;knutanders&quot;&gt;Knut Anders Hatlen&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1496449&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1496449&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6262&quot; title=&quot;Simplify message-generating methods using varargs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6262&quot;&gt;&lt;del&gt;DERBY-6262&lt;/del&gt;&lt;/a&gt;: Simplify message-generating methods using varargs&lt;/p&gt;

&lt;p&gt;Use varargs in EmbedConnection.newSQLException() and&lt;br/&gt;
ConnectionChild.newSQLException().&lt;/p&gt;</comment>
                            <comment id="13692979" author="knutanders" created="Tue, 25 Jun 2013 13:38:33 +0100"  >&lt;p&gt;I&apos;m not aware of any other message-generating methods that could take advantage of varargs. Resolving the issue.&lt;/p&gt;</comment>
                            <comment id="14119644" author="knutanders" created="Wed, 3 Sep 2014 09:31:44 +0100"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;bulk update&amp;#93;&lt;/span&gt; Close all resolved issues that haven&apos;t been updated for more than one year.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12651664">DERBY-6254</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12587799" name="derby-6262-01-a.diff" size="20146" author="knutanders" created="Fri, 14 Jun 2013 11:19:30 +0100"/>
                            <attachment id="12588372" name="derby-6262-02-a.diff" size="24803" author="knutanders" created="Tue, 18 Jun 2013 15:43:07 +0100"/>
                            <attachment id="12588575" name="derby-6262-03-a.diff" size="7438" author="knutanders" created="Wed, 19 Jun 2013 12:07:54 +0100"/>
                            <attachment id="12589405" name="derby-6262-04-a.diff" size="14182" author="knutanders" created="Mon, 24 Jun 2013 15:03:55 +0100"/>
                            <attachment id="12589598" name="derby-6262-05-a.diff" size="5995" author="knutanders" created="Tue, 25 Jun 2013 13:35:53 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 17 Jun 2013 11:14:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333166</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzfbev:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333494</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>