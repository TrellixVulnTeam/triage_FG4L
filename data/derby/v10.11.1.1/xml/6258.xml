<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:24:14 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-6258/DERBY-6258.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-6258] Restrict permissions on BACKUP.HISTORY</title>
                <link>https://issues.apache.org/jira/browse/DERBY-6258</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;DirFile4.getOutputStream(boolean) does not restrict the file permissions on the file if it ends up creating a new file.&lt;/p&gt;

&lt;p&gt;This method is only used for writing to BACKUP.HISTORY during backup. The BACKUP.HISTORY file in the backup does have restricted file permissions, it is only the file in the original database that is created with less restrictive permissions.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12652174">DERBY-6258</key>
            <summary>Restrict permissions on BACKUP.HISTORY</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="knutanders">Knut Anders Hatlen</assignee>
                                    <reporter username="knutanders">Knut Anders Hatlen</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Jun 2013 09:17:16 +0100</created>
                <updated>Wed, 21 Jan 2015 00:23:08 +0000</updated>
                            <resolved>Tue, 25 Jun 2013 12:37:18 +0100</resolved>
                                    <version>10.9.1.0</version>
                    <version>10.10.1.1</version>
                                    <fixVersion>10.10.2.0</fixVersion>
                    <fixVersion>10.11.1.1</fixVersion>
                                    <component>Store</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13680315" author="knutanders" created="Tue, 11 Jun 2013 09:49:02 +0100"  >&lt;p&gt;The attached patch makes sure DirFile4.getOutputStream(boolean) restricts the file permissions if it creates a new file (and Derby is set up to restrict file permissions).&lt;/p&gt;

&lt;p&gt;It also makes RestrictiveFilePermissionsTest.testBackupRestoreFiles() check the permissions of the files in the original database after backup to verify the fix.&lt;/p&gt;

&lt;p&gt;When running the test without the fix, I found that it would only report the problem on Windows. On *nix platforms it ran cleanly also without the fix. The reason is that the checkAccessToOwner() method uses different logic on different platforms: PosixFileAttributesView when available, and AclFileAttributesView otherwise. The case for PosixFileAttributesView lacked a call to fail() when unexpected permissions were found. The patch adds the missing call so that the permissions are verified on more platforms.&lt;/p&gt;

&lt;p&gt;Running regression tests on the patch.&lt;/p&gt;</comment>
                            <comment id="13680334" author="knutanders" created="Tue, 11 Jun 2013 10:28:42 +0100"  >&lt;p&gt;All the regression tests ran cleanly with the patch.&lt;/p&gt;</comment>
                            <comment id="13681043" author="jira-bot" created="Wed, 12 Jun 2013 09:28:36 +0100"  >&lt;p&gt;Commit 1492110 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=knutanders&quot; class=&quot;user-hover&quot; rel=&quot;knutanders&quot;&gt;Knut Anders Hatlen&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1492110&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1492110&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6258&quot; title=&quot;Restrict permissions on BACKUP.HISTORY&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6258&quot;&gt;&lt;del&gt;DERBY-6258&lt;/del&gt;&lt;/a&gt;: Restrict permissions on BACKUP.HISTORY&lt;/p&gt;</comment>
                            <comment id="13692942" author="jira-bot" created="Tue, 25 Jun 2013 12:36:27 +0100"  >&lt;p&gt;Commit 1496425 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=knutanders&quot; class=&quot;user-hover&quot; rel=&quot;knutanders&quot;&gt;Knut Anders Hatlen&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1496425&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1496425&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6258&quot; title=&quot;Restrict permissions on BACKUP.HISTORY&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6258&quot;&gt;&lt;del&gt;DERBY-6258&lt;/del&gt;&lt;/a&gt;: Restrict permissions on BACKUP.HISTORY&lt;/p&gt;

&lt;p&gt;Merged revision 1492110 from trunk.&lt;/p&gt;</comment>
                            <comment id="14284752" author="myrna" created="Wed, 21 Jan 2015 00:23:08 +0000"  >&lt;p&gt;bulk change to close all issues resolved but not closed and not changed since June 1, 2014.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12515817">DERBY-5363</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12587228" name="derby-6258-01-a.diff" size="4158" author="knutanders" created="Tue, 11 Jun 2013 09:49:02 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 12 Jun 2013 08:28:36 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>332498</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzf7av:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>332827</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>