<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:17:25 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-5283/DERBY-5283.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-5283] Crash / process termination during SYSCS_DISABLE_LOG_ARCHIVE_MODE can leave service.properties broken</title>
                <link>https://issues.apache.org/jira/browse/DERBY-5283</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;If Derby is terminated while SYSCS_DISABLE_LOG_ARCHIVE_MODE is being called service.properties can be left in a broken state.&lt;/p&gt;

&lt;p&gt;Depending on timing either of the two cases can happen:&lt;br/&gt;
Case 1:&lt;br/&gt;
&quot;ERROR XBM0S: Unable to rename file &apos;C:\PATH_TO_DB\service.properties&apos; to &apos;C:\PATH_TO_DB\service.propertiesold&apos; &quot; is thrown when next trying to call&lt;br/&gt;
SYSCS_DISABLE_LOG_ARCHIVE_MODE(1). Both &quot;service.properties&quot; and &quot;service.propertiesold&quot; are present in the database directory. Removing &quot;service.propertiesold&quot; corrects the problem.&lt;/p&gt;

&lt;p&gt;Case 2:&lt;br/&gt;
&quot;SQLException: Database &apos;C:\PATH_TO_DB&apos; not found&quot; is thrown when booting the database. The file service.properties does not exist in the database directory but service.propertiesold does exist. Renaming the file back to &quot;service.properties&quot; corrects the problem.&lt;/p&gt;

&lt;p&gt;As mentioned above both cases have workarounds but they require manual intervention which is a problem for applications installed to a customer site. It would be great if a more reliable method to update the file could be found.&lt;/p&gt;

&lt;p&gt;The following sample code will reproduce the issue fairly reliably by terminating the java process:&lt;/p&gt;

&lt;p&gt;import java.sql.*;&lt;br/&gt;
import org.apache.derby.jdbc.*;&lt;/p&gt;

&lt;p&gt;public class DerbyLogArchiveModeTest {&lt;/p&gt;

&lt;p&gt;    public static void main(String[] args) {&lt;br/&gt;
        final EmbeddedDataSource ds = new EmbeddedDataSource();&lt;br/&gt;
        ds.setDatabaseName(&quot;derbyTest&quot;);&lt;br/&gt;
        ds.setCreateDatabase(&quot;create&quot;);&lt;/p&gt;

&lt;p&gt;        try {&lt;br/&gt;
            final Connection conn = ds.getConnection();&lt;/p&gt;

&lt;p&gt;            try {&lt;br/&gt;
                final Statement stmt = conn.createStatement();&lt;/p&gt;

&lt;p&gt;                try {&lt;br/&gt;
                    while (true) &lt;/p&gt;
{
                        stmt.execute(&quot;call SYSCS_UTIL.SYSCS_DISABLE_LOG_ARCHIVE_MODE(1)&quot;);
                    }
&lt;p&gt;                } finally &lt;/p&gt;
{
                    stmt.close();
                }
&lt;p&gt;            } finally &lt;/p&gt;
{
                conn.close();
            }
&lt;p&gt;        } catch (SQLException e) &lt;/p&gt;
{
            e.printStackTrace();
        }
&lt;p&gt;    }&lt;br/&gt;
}&lt;/p&gt;</description>
                <environment>&amp;gt;sysinfo&lt;br/&gt;
------------------ Java Information ------------------&lt;br/&gt;
Java Version:    1.6.0_26&lt;br/&gt;
Java Vendor:     Sun Microsystems Inc.&lt;br/&gt;
Java home:       C:\Program Files (x86)\Java\jre6&lt;br/&gt;
Java classpath:  .;C:\Program Files (x86)\Java\jre6\lib\ext\QTJava.zip;C:\Users\BMASON\Sandbox\libs\db-derby-10.6.1.0-bin\bin\../lib/derby.jar;C:\Users\BMASON\Sandbox\libs\db-derby-10.6.1.0-bin\bin\../lib/derbynet.jar;C:\Users\BMASON\Sandbox\libs\db-derby-10.6.1.0-bin\bin\../lib/derbyclient.jar;C:\Users\BMASON\Sandbox\libs\db-derby-10.6.1.0-bin\bin\../lib/derbytools.jar&lt;br/&gt;
OS name:         Windows 7&lt;br/&gt;
OS architecture: x86&lt;br/&gt;
OS version:      6.1&lt;br/&gt;
Java user name:  bmason&lt;br/&gt;
Java user home:  C:\Users\BMASON&lt;br/&gt;
Java user dir:   C:\Users\BMASON\Sandbox\libs\db-derby-10.6.1.0-bin\bin&lt;br/&gt;
java.specification.name: Java Platform API Specification&lt;br/&gt;
java.specification.version: 1.6&lt;br/&gt;
java.runtime.version: 1.6.0_26-b03&lt;br/&gt;
--------- Derby Information --------&lt;br/&gt;
JRE - JDBC: Java SE 6 - JDBC 4.0&lt;br/&gt;
[C:\Users\BMASON\Sandbox\libs\db-derby-10.6.1.0-bin\lib\derby.jar] 10.6.1.0 - (938214)&lt;br/&gt;
[C:\Users\BMASON\Sandbox\libs\db-derby-10.6.1.0-bin\lib\derbytools.jar] 10.6.1.0 - (938214)&lt;br/&gt;
[C:\Users\BMASON\Sandbox\libs\db-derby-10.6.1.0-bin\lib\derbynet.jar] 10.6.1.0 - (938214)&lt;br/&gt;
[C:\Users\BMASON\Sandbox\libs\db-derby-10.6.1.0-bin\lib\derbyclient.jar] 10.6.1.0 - (938214)&lt;br/&gt;
------------------------------------------------------&lt;br/&gt;
----------------- Locale Information -----------------&lt;br/&gt;
Current Locale :  [English/New Zealand [en_NZ]]&lt;br/&gt;
Found support for locale: [cs]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;version: 10.6.1.0 - (938214)&lt;br/&gt;
Found support for locale: [de_DE]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;version: 10.6.1.0 - (938214)&lt;br/&gt;
Found support for locale: [es]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;version: 10.6.1.0 - (938214)&lt;br/&gt;
Found support for locale: [fr]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;version: 10.6.1.0 - (938214)&lt;br/&gt;
Found support for locale: [hu]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;version: 10.6.1.0 - (938214)&lt;br/&gt;
Found support for locale: [it]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;version: 10.6.1.0 - (938214)&lt;br/&gt;
Found support for locale: [ja_JP]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;version: 10.6.1.0 - (938214)&lt;br/&gt;
Found support for locale: [ko_KR]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;version: 10.6.1.0 - (938214)&lt;br/&gt;
Found support for locale: [pl]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;version: 10.6.1.0 - (938214)&lt;br/&gt;
Found support for locale: [pt_BR]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;version: 10.6.1.0 - (938214)&lt;br/&gt;
Found support for locale: [ru]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;version: 10.6.1.0 - (938214)&lt;br/&gt;
Found support for locale: [zh_CN]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;version: 10.6.1.0 - (938214)&lt;br/&gt;
Found support for locale: [zh_TW]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;version: 10.6.1.0 - (938214)&lt;br/&gt;
------------------------------------------------------&lt;br/&gt;
</environment>
        <key id="12510630">DERBY-5283</key>
            <summary>Crash / process termination during SYSCS_DISABLE_LOG_ARCHIVE_MODE can leave service.properties broken</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kristwaa">Kristian Waagan</assignee>
                                    <reporter username="b.mason@adinstruments.com">Brett Mason</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 Jun 2011 04:49:21 +0100</created>
                <updated>Thu, 8 Aug 2013 20:30:50 +0100</updated>
                            <resolved>Mon, 24 Oct 2011 13:16:43 +0100</resolved>
                                    <version>10.6.1.0</version>
                    <version>10.8.1.2</version>
                                    <fixVersion>10.8.3.3</fixVersion>
                    <fixVersion>10.9.1.0</fixVersion>
                                    <component>Miscellaneous</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13050888" author="b.mason@adinstruments.com" created="Fri, 17 Jun 2011 04:53:43 +0100"  >&lt;p&gt;We have worked around this issue in our application by removing the call to disable log archive mode since it was no longer needed. However we would be particularly interested in any other scenarios which would cause service.properties to be updated under &quot;normal&quot; usage.&lt;/p&gt;</comment>
                            <comment id="13094507" author="kristwaa" created="Wed, 31 Aug 2011 14:09:34 +0100"  >&lt;p&gt;I think we can improve the situation here, and I have written a prototype patch that fixes this.&lt;br/&gt;
However, before moving on to the code, I have a few questions.&lt;/p&gt;

&lt;p&gt;Is it safe to assume that we can always undo the change to the properties file?&lt;br/&gt;
Undo would be to continue using the old properties file, and redo would be to start using the new properties file.&lt;br/&gt;
I understand that some, if not most, of the properties are only set at database creation time.&lt;/p&gt;

&lt;p&gt;There are two types of error conditions:&lt;br/&gt;
 a) The VM is killed while updating the service properties.&lt;br/&gt;
 b) Updating the service properties is aborted due to a problem (most likely file privileges problem) - the VM stays up&lt;/p&gt;

&lt;p&gt;In (a) recovery must happen on the next boot, whereas for (b) actions must be taken to correct the situation immediately. Both of these cases would involve a set of file operations; verifying, deleting, or renaming a file.&lt;br/&gt;
As a further improvement, I would suggest that we print an entry to derby.log when Derby automatically recovers from a problem with the service.properties file.&lt;/p&gt;

&lt;p&gt;When it comes to the content of the files on disk, are the following assumptions valid?&lt;br/&gt;
 1) Writing to streams from Java may produce incomplete files.&lt;br/&gt;
 2) Low level file operations invoked from Java, like delete and rename, will always result in valid files on disk.&lt;br/&gt;
    Note that this does not imply that rename(old,new) is atomic, but, assuming new didn&apos;t already exist, new will be a complete copy of old if it exists after the crash.&lt;/p&gt;

&lt;p&gt;I started out with a rather complex solution for this (using checksums), but I think I&apos;ll take the time to simplify it - we can add to it if required.&lt;/p&gt;</comment>
                            <comment id="13095204" author="kristwaa" created="Thu, 1 Sep 2011 10:39:19 +0100"  >&lt;p&gt;Attaching patch 1a, an improvement to how the service.properties is dealt with:&lt;br/&gt;
 o add an EOF-marker when writing a new service.properties file&lt;br/&gt;
 o add code to recover from error conditions, in short (CUR = current/new service.properties, OLD = backed up service.properties):&lt;br/&gt;
    a) if !CUR and OLD rename OLD to CUR&lt;br/&gt;
    b) if CUR and OLD check CUR and rename/delete OLD as appropriate&lt;/p&gt;

&lt;p&gt;This more code changes that I had hoped more - much of it due to error handling. I haven&apos;t added localization code for the various error messages.&lt;/p&gt;

&lt;p&gt;Patch ready for review.&lt;/p&gt;</comment>
                            <comment id="13124117" author="knutanders" created="Mon, 10 Oct 2011 15:01:12 +0100"  >&lt;p&gt;The suggested approach sounds good to me.&lt;/p&gt;

&lt;p&gt;One possible simplification:&lt;/p&gt;

&lt;p&gt;Instead of materializing the entire service.properties file in prepareServicePropertiesContents() outside of the try block in saveServiceProperties(), we could move it into the existing try block:&lt;/p&gt;

&lt;p&gt;                        try&lt;/p&gt;
                        {
                            os = servicePropertiesFile.getOutputStream();
                            properties.store( os, serviceName + MessageService.getTextMessage(MessageId.SERVICE_PROPERTIES_DONT_EDIT));
                            storageFactory.sync( os, false);
                            os.close();
                            os = null;
                        }

&lt;p&gt;and call something like os.write(SERVICE_PROPERTIES_END_TOKEN.getBytes(&quot;US-ASCII&quot;)) between properties.store() and storageFactory.sync(). That would allow us to remove the error handling in prepareServicePropertiesContents() (well, actually, we could remove the entire method), since the same error handling seems to be performed by the try/catch in saveServiceProperties().&lt;/p&gt;

&lt;p&gt;What would be a good way to test this fix? Creating a database, shutting it down, and then modifying service.properties/service.propertiesold before booting it?&lt;/p&gt;

&lt;p&gt;It might also be useful to link to the original exception in the cases where we re-throw SecurityException and IOException as StandardException (in handleSecPrivException() and resolveServicePropertiesFiles()).&lt;/p&gt;</comment>
                            <comment id="13127319" author="kristwaa" created="Fri, 14 Oct 2011 08:03:23 +0100"  >&lt;p&gt;Attaching patch 1b.&lt;/p&gt;

&lt;p&gt;Thanks, Knut Anders.&lt;br/&gt;
I have added a basic test, where I start with a pristine database, modify the two relevant files (i.e. copy or delete), and then boot the database and assert what happened to the two files.&lt;br/&gt;
The test doesn&apos;t verify what is written to derby.log.&lt;/p&gt;

&lt;p&gt;There are many things that can be changed slightly, i.e. logging of messages and so on.&lt;/p&gt;

&lt;p&gt;Patch 1b ready for review.&lt;/p&gt;</comment>
                            <comment id="13128710" author="knutanders" created="Mon, 17 Oct 2011 08:35:20 +0100"  >&lt;p&gt;Patch 1b looks good to me, and the tests look complete. One minor nit: I didn&apos;t immediately understand the abbreviation in the new helper method getSFPath(). Perhaps spell it out or rename it to getMostAccuratePath()?&lt;/p&gt;</comment>
                            <comment id="13128728" author="kristwaa" created="Mon, 17 Oct 2011 09:43:48 +0100"  >&lt;p&gt;Thanks, Knut Anders.&lt;/p&gt;

&lt;p&gt;I&apos;ll rename that method.&lt;br/&gt;
While writing it, I started thinking about whether we actually want to show the full path of the file we&apos;re having trouble with - for security reasons. For instance, with the network server it could reveal where the database lives and that may reveal where derby.system.home is. Not a big problem per se, but it would allow a potential attacker to target his/her discovery attacks (be it at the OS level or by exploiting weaknesses in Derby).&lt;/p&gt;

&lt;p&gt;What do people think?&lt;br/&gt;
Should we aim at only printing full names to the log stream (i.e. derby.log by default), and hide or print them relative to the database directory &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; when throwing exceptions?&lt;/p&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &apos;service.properties&apos; instead of &apos;/export/home/MyFancyApp/dbs/database1/service.properties&apos;, and &apos;seg0/c431.dat&apos; instead of &apos;/.../database1/seg0/c431.dat&apos;.&lt;/p&gt;</comment>
                            <comment id="13134008" author="kristwaa" created="Mon, 24 Oct 2011 13:07:45 +0100"  >&lt;p&gt;Attaching patch 1c, which renames the getSFPath method and fixed a bug with the use of BufferedWriter.&lt;/p&gt;</comment>
                            <comment id="13134014" author="kristwaa" created="Mon, 24 Oct 2011 13:16:43 +0100"  >&lt;p&gt;Committed patch 1c to trunk with revision 1188109.&lt;/p&gt;</comment>
                            <comment id="13135284" author="kristwaa" created="Tue, 25 Oct 2011 18:51:46 +0100"  >&lt;p&gt;Attaching patch 2a, which updates lang.ErrorCodeTest with the two new error messages added by the fix for this issue.&lt;/p&gt;

&lt;p&gt;Committed to trunk with revision 1188828.&lt;/p&gt;</comment>
                            <comment id="13685288" author="knutanders" created="Mon, 17 Jun 2013 10:19:35 +0100"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;bulk update&amp;#93;&lt;/span&gt; Close all resolved issues that haven&apos;t been updated for more than one year.&lt;/p&gt;</comment>
                            <comment id="13707079" author="kmarsden" created="Fri, 12 Jul 2013 17:52:41 +0100"  >&lt;p&gt;Assign to myself temporarily for backport&lt;/p&gt;</comment>
                            <comment id="13707156" author="kmarsden" created="Fri, 12 Jul 2013 18:54:32 +0100"  >&lt;p&gt;Attached is a patch for 10.8 for this issue. It also includes the fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-5816&quot; title=&quot;store.ServicePropertiesFileTest fails on z/OS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-5816&quot;&gt;&lt;del&gt;DERBY-5816&lt;/del&gt;&lt;/a&gt; which was a test failure caused by the original change.  The message files had to be manually merged.&lt;/p&gt;

&lt;p&gt;revisions merged were: &lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-5283&quot; title=&quot;Crash / process termination during SYSCS_DISABLE_LOG_ARCHIVE_MODE can leave service.properties broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-5283&quot;&gt;&lt;del&gt;DERBY-5283&lt;/del&gt;&lt;/a&gt;  1188109 1188828&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-5816&quot; title=&quot;store.ServicePropertiesFileTest fails on z/OS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-5816&quot;&gt;&lt;del&gt;DERBY-5816&lt;/del&gt;&lt;/a&gt; 1350361 1353764&lt;/p&gt;</comment>
                            <comment id="13711268" author="jira-bot" created="Wed, 17 Jul 2013 17:52:36 +0100"  >&lt;p&gt;Commit 1504199 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kmarsden&quot; class=&quot;user-hover&quot; rel=&quot;kmarsden&quot;&gt;Kathey Marsden&lt;/a&gt; in branch &apos;code/branches/10&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1504199&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1504199&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-5283&quot; title=&quot;Crash / process termination during SYSCS_DISABLE_LOG_ARCHIVE_MODE can leave service.properties broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-5283&quot;&gt;&lt;del&gt;DERBY-5283&lt;/del&gt;&lt;/a&gt; Crash / process termination during SYSCS_DISABLE_LOG_ARCHIVE_MODE can leave service.properties broken &lt;/p&gt;

&lt;p&gt;Merge from trunk also includes the fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-5816&quot; title=&quot;store.ServicePropertiesFileTest fails on z/OS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-5816&quot;&gt;&lt;del&gt;DERBY-5816&lt;/del&gt;&lt;/a&gt; which was a test failure caused by the original change. The message files had to be manually merged.&lt;/p&gt;

&lt;p&gt;revisions merged were:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-5283&quot; title=&quot;Crash / process termination during SYSCS_DISABLE_LOG_ARCHIVE_MODE can leave service.properties broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-5283&quot;&gt;&lt;del&gt;DERBY-5283&lt;/del&gt;&lt;/a&gt; 1188109 1188828&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-5816&quot; title=&quot;store.ServicePropertiesFileTest fails on z/OS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-5816&quot;&gt;&lt;del&gt;DERBY-5816&lt;/del&gt;&lt;/a&gt; 1350361 1353764&lt;/p&gt;</comment>
                            <comment id="13711270" author="jira-bot" created="Wed, 17 Jul 2013 17:52:38 +0100"  >&lt;p&gt;Commit 1504199 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kmarsden&quot; class=&quot;user-hover&quot; rel=&quot;kmarsden&quot;&gt;Kathey Marsden&lt;/a&gt; in branch &apos;code/branches/10&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1504199&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1504199&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-5283&quot; title=&quot;Crash / process termination during SYSCS_DISABLE_LOG_ARCHIVE_MODE can leave service.properties broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-5283&quot;&gt;&lt;del&gt;DERBY-5283&lt;/del&gt;&lt;/a&gt; Crash / process termination during SYSCS_DISABLE_LOG_ARCHIVE_MODE can leave service.properties broken &lt;/p&gt;

&lt;p&gt;Merge from trunk also includes the fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-5816&quot; title=&quot;store.ServicePropertiesFileTest fails on z/OS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-5816&quot;&gt;&lt;del&gt;DERBY-5816&lt;/del&gt;&lt;/a&gt; which was a test failure caused by the original change. The message files had to be manually merged.&lt;/p&gt;

&lt;p&gt;revisions merged were:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-5283&quot; title=&quot;Crash / process termination during SYSCS_DISABLE_LOG_ARCHIVE_MODE can leave service.properties broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-5283&quot;&gt;&lt;del&gt;DERBY-5283&lt;/del&gt;&lt;/a&gt; 1188109 1188828&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-5816&quot; title=&quot;store.ServicePropertiesFileTest fails on z/OS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-5816&quot;&gt;&lt;del&gt;DERBY-5816&lt;/del&gt;&lt;/a&gt; 1350361 1353764&lt;/p&gt;</comment>
                            <comment id="13733877" author="jira-bot" created="Thu, 8 Aug 2013 20:30:50 +0100"  >&lt;p&gt;Commit 1511979 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=myrna&quot; class=&quot;user-hover&quot; rel=&quot;myrna&quot;&gt;Myrna van Lunteren&lt;/a&gt; in branch &apos;code/branches/10.8&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1511979&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1511979&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-5283&quot; title=&quot;Crash / process termination during SYSCS_DISABLE_LOG_ARCHIVE_MODE can leave service.properties broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-5283&quot;&gt;&lt;del&gt;DERBY-5283&lt;/del&gt;&lt;/a&gt;; Crash / process termination during SYSCS_DISABLE_LOG_ARCHIVE_MODE can leave service.properties broken&lt;br/&gt;
  fixing a javadoc warning by merging the fix from trunk.&lt;br/&gt;
  merge command:  svn merge -c 1188144 &lt;a href=&quot;https://svn.apache.org/repos/asf/db/derby/code/trunk&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/repos/asf/db/derby/code/trunk&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12656863">DERBY-6289</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12492586" name="derby-5283-1a-recover.diff" size="19065" author="kristwaa" created="Thu, 1 Sep 2011 10:39:19 +0100"/>
                            <attachment id="12498990" name="derby-5283-1b-recover.diff" size="34883" author="kristwaa" created="Fri, 14 Oct 2011 08:03:23 +0100"/>
                            <attachment id="12500429" name="derby-5283-1c-recover.diff" size="35139" author="kristwaa" created="Mon, 24 Oct 2011 13:07:45 +0100"/>
                            <attachment id="12500733" name="derby-5283-2a-update_test_with_errorcodes.diff" size="1309" author="kristwaa" created="Tue, 25 Oct 2011 18:51:46 +0100"/>
                            <attachment id="12592038" name="derby-5283_10_8_diff.txt" size="27856" author="kmarsden" created="Fri, 12 Jul 2013 18:54:32 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10364"><![CDATA[Data corruption]]></customfieldvalue>
    <customfieldvalue key="10421"><![CDATA[Seen in production]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 31 Aug 2011 13:09:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>24757</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0eov:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36198</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>