<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:49:49 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-3412/DERBY-3412.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-3412] junit regression test failure on j2me  in testForwardOnlyNegative(org.apache.derbyTesting.functionTests.tests.lang.ScrollCursors2Test)junit.framework.AssertionFailedError</title>
                <link>https://issues.apache.org/jira/browse/DERBY-3412</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;5 new failures as of 2/11/08 in the ScrollCursors2Test, only seen in j2me test:&lt;/p&gt;

&lt;p&gt;1) testForwardOnlyNegative(org.apache.derbyTesting.functionTests.tests.lang.ScrollCursors2Test)junit.framework.AssertionFailedError&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.ScrollCursors2Test.testForwardOnlyNegative(ScrollCursors2Test.java:95)&lt;br/&gt;
	at java.lang.reflect.AccessibleObject.invokeV(AccessibleObject.java:205)&lt;br/&gt;
	at &amp;lt;unknown class&amp;gt;.&amp;lt;unknown method&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:99)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
2) testForwardOnlyPositive(org.apache.derbyTesting.functionTests.tests.lang.ScrollCursors2Test)junit.framework.AssertionFailedError&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.ScrollCursors2Test.testForwardOnlyPositive(ScrollCursors2Test.java:263)&lt;br/&gt;
	at java.lang.reflect.AccessibleObject.invokeV(AccessibleObject.java:205)&lt;br/&gt;
	at &amp;lt;unknown class&amp;gt;.&amp;lt;unknown method&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:99)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
3) testScrollInsensitivePositive(org.apache.derbyTesting.functionTests.tests.lang.ScrollCursors2Test)junit.framework.AssertionFailedError&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.ScrollCursors2Test.testScrollInsensitivePositive(ScrollCursors2Test.java:352)&lt;br/&gt;
	at java.lang.reflect.AccessibleObject.invokeV(AccessibleObject.java:205)&lt;br/&gt;
	at &amp;lt;unknown class&amp;gt;.&amp;lt;unknown method&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:99)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
4) testScrollInsensitiveNegative(org.apache.derbyTesting.functionTests.tests.lang.ScrollCursors2Test)junit.framework.AssertionFailedError&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.ScrollCursors2Test.testScrollInsensitiveNegative(ScrollCursors2Test.java:505)&lt;br/&gt;
	at java.lang.reflect.AccessibleObject.invokeV(AccessibleObject.java:205)&lt;br/&gt;
	at &amp;lt;unknown class&amp;gt;.&amp;lt;unknown method&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:99)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
5) testCallableStatements(org.apache.derbyTesting.functionTests.tests.lang.ScrollCursors2Test)junit.framework.ComparisonFailure: expected:&amp;lt;...2&amp;gt; but was:&amp;lt;...1&amp;gt;&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.ScrollCursors2Test.testCallableStatements(ScrollCursors2Test.java:580)&lt;br/&gt;
	at java.lang.reflect.AccessibleObject.invokeV(AccessibleObject.java:205)&lt;br/&gt;
	at &amp;lt;unknown class&amp;gt;.&amp;lt;unknown method&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:99)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;/p&gt;</description>
                <environment>Java Version:    J2ME Foundation Specification v1.1&lt;br/&gt;
Java Vendor:     IBM Corporation&lt;br/&gt;
Java home:       c:\jartest\weme6.1&lt;br/&gt;
Java classpath:  c:/jartest/classes/derby.jar;c:/jartest/classes/derbyLocale_zh_TW.jar;c:/jartest/classes/derbyLocale_zh_CN.jar;c:/jartest/classes/derbyLocale_ru.jar;c:/jartest/classes/derbyLocale_pt_BR.jar;c:/jartest/classes/derbyLocale_pl.jar;c:/jartest/classes/derbyLocale_ko_KR.jar;c:/jartest/classes/derbyLocale_ja_JP.jar;c:/jartest/classes/derbyLocale_it.jar;c:/jartest/classes/derbyLocale_hu.jar;c:/jartest/classes/derbyLocale_fr.jar;c:/jartest/classes/derbyLocale_es.jar;c:/jartest/classes/derbyLocale_de_DE.jar;c:/jartest/classes/derbyLocale_cs.jar;c:/jartest/tools/java/junit.jar;c:/jartest/classes/derbytools.jar;c:/jartest/classes/derbyrun.jar;c:/jartest/classes/derbyTesting.jar;c:/jartest/classes/functionTests.jar&lt;br/&gt;
OS name:         Windows XP&lt;br/&gt;
OS architecture: x86&lt;br/&gt;
OS version:      5.1 build 2600 Service Pack 2&lt;br/&gt;
Java user name:  cloudtest&lt;br/&gt;
Java user home:  C:\Documents and Settings\cloudtest&lt;br/&gt;
Java user dir:   C:\jartest\JarResults.2008-02-11\weme6.1_derbyall&lt;br/&gt;
java.specification.name: J2ME Foundation Specification&lt;br/&gt;
java.specification.version: 1.1</environment>
        <key id="12388499">DERBY-3412</key>
            <summary>junit regression test failure on j2me  in testForwardOnlyNegative(org.apache.derbyTesting.functionTests.tests.lang.ScrollCursors2Test)junit.framework.AssertionFailedError</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kristwaa">Kristian Waagan</assignee>
                                    <reporter username="mikem">Mike Matrigali</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Feb 2008 23:50:59 +0000</created>
                <updated>Fri, 21 Jan 2011 17:51:28 +0000</updated>
                            <resolved>Mon, 25 Feb 2008 18:30:04 +0000</resolved>
                                    <version>10.4.1.3</version>
                                    <fixVersion>10.4.1.3</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12568379" author="djd" created="Wed, 13 Feb 2008 00:42:42 +0000"  >&lt;p&gt;I committed Revision: 627203 to try to help to solve this. It should leave an indication of the SQLWarning&lt;br/&gt;
that is being generated when none is expected.&lt;/p&gt;</comment>
                            <comment id="12568380" author="djd" created="Wed, 13 Feb 2008 00:45:08 +0000"  >&lt;p&gt;FYI - that classpath (in the environment) is really overkill.&lt;/p&gt;

&lt;p&gt;The locale files are not needed in the classpath (they are included automatically).&lt;/p&gt;

&lt;p&gt;Also with derbynet.jar derby.jar is automatically included.&lt;/p&gt;

&lt;p&gt;and derbyrun.jar will include all the other jars &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;The long classpath in the environment also tends to mess up jira&apos;s api.&lt;/p&gt;</comment>
                            <comment id="12568390" author="mikem" created="Wed, 13 Feb 2008 01:18:04 +0000"  >&lt;p&gt;It would be nice if the test runner on failure or just as part of startup logged the type of environment info that we want logged in a JIRA entry, then we could standardize on what to put in it.  In general I just cut/paste from the derbyall log which I believe just does a sysinfo figuring more is better.  I am just cut/pasting from the stuff that eventually should get logged publically in the derby public test runs, but we continue to have problems getting that to work well for us.  &lt;/p&gt;

&lt;p&gt;Actually I looked after the fact and for the jsr169 ibm jvm the info I included here isn&apos;t that useful as it doesn&apos;t really give an identification of the jvm - not sure if that is a problem with sysinfo or the jvm.  I don&apos;t use this jvm very much so didn&apos;t really notice at first.&lt;/p&gt;</comment>
                            <comment id="12568601" author="djd" created="Wed, 13 Feb 2008 15:55:16 +0000"  >&lt;p&gt;The point I was making is that what ever is running this test is setting a classpath that needlessly contains jar&lt;br/&gt;
files that are automatically included by others. It&apos;s not a matter of how it&apos;s reported, just that the user&apos;s classpath&lt;br/&gt;
could be vastly simplified.&lt;/p&gt;</comment>
                            <comment id="12568741" author="mikem" created="Wed, 13 Feb 2008 23:00:37 +0000"  >&lt;p&gt;The test failed again in the same environment.  Here is the output with the added failure information printed from dan&apos;s change:&lt;br/&gt;
There were 5 failures:&lt;br/&gt;
1) testForwardOnlyNegative(org.apache.derbyTesting.functionTests.tests.lang.ScrollCursors2Test)junit.framework.AssertionFailedError: Expected no SQLWarnings - got: 01J01 Database &apos;wombat&apos; not created, connection made to existing database instead.&lt;br/&gt;
	at org.apache.derbyTesting.junit.JDBC.assertNoWarnings(JDBC.java:521)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.ScrollCursors2Test.testForwardOnlyNegative(ScrollCursors2Test.java:90)&lt;br/&gt;
	at java.lang.reflect.AccessibleObject.invokeV(AccessibleObject.java:205)&lt;br/&gt;
	at &amp;lt;unknown class&amp;gt;.&amp;lt;unknown method&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:99)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
2) testForwardOnlyPositive(org.apache.derbyTesting.functionTests.tests.lang.ScrollCursors2Test)junit.framework.AssertionFailedError: Expected no SQLWarnings - got: 01J01 Database &apos;wombat&apos; not created, connection made to existing database instead.&lt;br/&gt;
	at org.apache.derbyTesting.junit.JDBC.assertNoWarnings(JDBC.java:521)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.ScrollCursors2Test.testForwardOnlyPositive(ScrollCursors2Test.java:252)&lt;br/&gt;
	at java.lang.reflect.AccessibleObject.invokeV(AccessibleObject.java:205)&lt;br/&gt;
	at &amp;lt;unknown class&amp;gt;.&amp;lt;unknown method&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:99)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
3) testScrollInsensitivePositive(org.apache.derbyTesting.functionTests.tests.lang.ScrollCursors2Test)junit.framework.AssertionFailedError: Expected no SQLWarnings - got: 01J01 Database &apos;wombat&apos; not created, connection made to existing database instead.&lt;br/&gt;
	at org.apache.derbyTesting.junit.JDBC.assertNoWarnings(JDBC.java:521)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.ScrollCursors2Test.testScrollInsensitivePositive(ScrollCursors2Test.java:337)&lt;br/&gt;
	at java.lang.reflect.AccessibleObject.invokeV(AccessibleObject.java:205)&lt;br/&gt;
	at &amp;lt;unknown class&amp;gt;.&amp;lt;unknown method&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:99)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
4) testScrollInsensitiveNegative(org.apache.derbyTesting.functionTests.tests.lang.ScrollCursors2Test)junit.framework.AssertionFailedError: Expected no SQLWarnings - got: 01J01 Database &apos;wombat&apos; not created, connection made to existing database instead.&lt;br/&gt;
	at org.apache.derbyTesting.junit.JDBC.assertNoWarnings(JDBC.java:521)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.ScrollCursors2Test.testScrollInsensitiveNegative(ScrollCursors2Test.java:486)&lt;br/&gt;
	at java.lang.reflect.AccessibleObject.invokeV(AccessibleObject.java:205)&lt;br/&gt;
	at &amp;lt;unknown class&amp;gt;.&amp;lt;unknown method&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:99)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
5) testCallableStatements(org.apache.derbyTesting.functionTests.tests.lang.ScrollCursors2Test)junit.framework.ComparisonFailure: expected:&amp;lt;...2&amp;gt; but was:&amp;lt;...1&amp;gt;&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.ScrollCursors2Test.testCallableStatements(ScrollCursors2Test.java:561)&lt;br/&gt;
	at java.lang.reflect.AccessibleObject.invokeV(AccessibleObject.java:205)&lt;br/&gt;
	at &amp;lt;unknown class&amp;gt;.&amp;lt;unknown method&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:99)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:19)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:23)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;/p&gt;</comment>
                            <comment id="12568745" author="mikem" created="Wed, 13 Feb 2008 23:07:47 +0000"  >&lt;p&gt;is this test failing here because it is running in a different order than other jvm&apos;s so that issue may be in other tests, or&lt;br/&gt;
is this test wrong?  &lt;/p&gt;

&lt;p&gt;Here are the changes that happened when this issue started to appear, have not narrowed down to one change:&lt;br/&gt;
SUBVERSION LOG FROM 620381 TO 620689:&lt;br/&gt;
------------------------------------------------------------------------&lt;br/&gt;
r620522 | oysteing | 2008-02-11 08:38:11 -0800 (Mon, 11 Feb 2008) | 4 lines&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3392&quot; title=&quot;Performing failover on a database not being replicated should give a more meaningful error message.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3392&quot;&gt;&lt;del&gt;DERBY-3392&lt;/del&gt;&lt;/a&gt;: Performing failover on a database not being replicated should give a more meaningful error message.&lt;br/&gt;
Contributed by Narayanan.&lt;/p&gt;


&lt;p&gt;------------------------------------------------------------------------&lt;br/&gt;
r620499 | oysteing | 2008-02-11 06:54:39 -0800 (Mon, 11 Feb 2008) | 3 lines&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3359&quot; title=&quot;The log shipper needs to be modified to vary the shipping intervals dynamically (based on load)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3359&quot;&gt;&lt;del&gt;DERBY-3359&lt;/del&gt;&lt;/a&gt;: Make mf final and some other minor clean-up.&lt;/p&gt;


&lt;p&gt;------------------------------------------------------------------------&lt;br/&gt;
r620485 | kristwaa | 2008-02-11 05:53:32 -0800 (Mon, 11 Feb 2008) | 4 lines&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3309&quot; title=&quot;Minor cleanups in ClientPooledConnection40 and ClientPooledConnection&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3309&quot;&gt;&lt;del&gt;DERBY-3309&lt;/del&gt;&lt;/a&gt;: Minor cleanups in ClientPooledConnection40 and ClientPooledConnection.&lt;br/&gt;
This patch fixes the broken synchronization of the list of connection event listeners, and also replaces the Vector with an ArrayList.&lt;br/&gt;
Patch file: derby-3309-4a-cpc_listeners_synch.diff&lt;/p&gt;

&lt;p&gt;------------------------------------------------------------------------&lt;br/&gt;
r620483 | oysteing | 2008-02-11 05:14:08 -0800 (Mon, 11 Feb 2008) | 3 lines&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3359&quot; title=&quot;The log shipper needs to be modified to vary the shipping intervals dynamically (based on load)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3359&quot;&gt;&lt;del&gt;DERBY-3359&lt;/del&gt;&lt;/a&gt;: Make sure to initialize mf in constructor.&lt;br/&gt;
Contributed by Narayanan.&lt;/p&gt;

&lt;p&gt;------------------------------------------------------------------------&lt;br/&gt;
r620480 | kristwaa | 2008-02-11 05:02:38 -0800 (Mon, 11 Feb 2008) | 3 lines&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3306&quot; title=&quot;jdbc4.StatementEventsTest cannot be run individually in a clean environment&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3306&quot;&gt;&lt;del&gt;DERBY-3306&lt;/del&gt;&lt;/a&gt;: jdbc4.StatementEventsTest cannot be run individually in a clean environment. This is in fact a more general fix for tests using a DataSource obtained through the JUnit framework utility classes to create connections. The connections will now default to create the database if it does not exists. The accompanying test changes were required to get a clean suites.All run, and falls into three categories; test doesn&apos;t want to create db, asserting on zero warnings or uses connection attributes that conflict with db creation.&lt;br/&gt;
Patch file: derby-3306-1c-create_db_by_default_and_test_fixes.diff&lt;/p&gt;

&lt;p&gt;------------------------------------------------------------------------&lt;br/&gt;
r620469 | kristwaa | 2008-02-11 04:14:17 -0800 (Mon, 11 Feb 2008) | 3 lines&lt;/p&gt;

&lt;p&gt;Removed unused, private field &apos;accumulatedSetReadOnlyWarning_&apos;.&lt;br/&gt;
Patch file: n/a&lt;/p&gt;

&lt;p&gt;------------------------------------------------------------------------&lt;br/&gt;
r620453 | oysteing | 2008-02-11 02:53:18 -0800 (Mon, 11 Feb 2008) | 3 lines&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3359&quot; title=&quot;The log shipper needs to be modified to vary the shipping intervals dynamically (based on load)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3359&quot;&gt;&lt;del&gt;DERBY-3359&lt;/del&gt;&lt;/a&gt;: Replication dynamically adjust shipping interval for LogShipper.&lt;br/&gt;
Contributed by Narayanan.&lt;/p&gt;

&lt;p&gt;------------------------------------------------------------------------&lt;br/&gt;
r620444 | oysteing | 2008-02-11 01:31:20 -0800 (Mon, 11 Feb 2008) | 4 lines&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3383&quot; title=&quot;Replication: stopSlave boots database?&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3383&quot;&gt;&lt;del&gt;DERBY-3383&lt;/del&gt;&lt;/a&gt;: Replication: Make sure stopSlave does not boot the database if not already booted.&lt;br/&gt;
Contributed by Jorgen Loland&lt;/p&gt;


&lt;p&gt;------------------------------------------------------------------------&lt;/p&gt;</comment>
                            <comment id="12568757" author="djd" created="Wed, 13 Feb 2008 23:57:48 +0000"  >&lt;p&gt;I would guess it is:&lt;/p&gt;

&lt;p&gt;620480 | kristwaa | 2008-02-11 05:02:38 -0800 (Mon, 11 Feb 2008) | 3 lines&lt;/p&gt;

&lt;p&gt; &quot;... The connections will now default to create the database if it does not exists. ... &quot;&lt;/p&gt;

&lt;p&gt;I thought that previously the getConnection() was smart enough to only set create if it was needed.&lt;br/&gt;
Not sure why it needed to be changed.&lt;/p&gt;</comment>
                            <comment id="12568918" author="kristwaa" created="Thu, 14 Feb 2008 13:00:34 +0000"  >&lt;p&gt;That seems to be correct, and the error falls into one of the categories&lt;br/&gt;
I mentioned in &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3306&quot; title=&quot;jdbc4.StatementEventsTest cannot be run individually in a clean environment&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3306&quot;&gt;&lt;del&gt;DERBY-3306&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
I forgot to consider the case where the utility classes were used by the&lt;br/&gt;
connectors, and as you say, they are already smart enough to set create&lt;br/&gt;
only when needed.&lt;br/&gt;
I don&apos;t run tests on a J2ME platform.&lt;/p&gt;

&lt;p&gt;However, there are a number of tests that just do&lt;br/&gt;
(JDBC|J2EE)DataSource.getXConnectionSource(), then ds.getConnection() in&lt;br/&gt;
the test itself. These tests fail if you run them in a clean&lt;br/&gt;
environment, because the database does not exist and the tests have&lt;br/&gt;
been written assuming the database will exist or be created if required.&lt;/p&gt;

&lt;p&gt;A few options for a fix:&lt;br/&gt;
  a) Revert the changes, let these tests fail if run in a clean&lt;br/&gt;
     environment (no existing db).&lt;br/&gt;
  b) Somehow unset createDatabase when the framework obtains the&lt;br/&gt;
     connection for you, but keep &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3306&quot; title=&quot;jdbc4.StatementEventsTest cannot be run individually in a clean environment&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3306&quot;&gt;&lt;del&gt;DERBY-3306&lt;/del&gt;&lt;/a&gt; changes.&lt;br/&gt;
  c) Identify all tests failing in a clean environment and code a&lt;br/&gt;
     workaround.&lt;/p&gt;

&lt;p&gt;The tests affected by &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3306&quot; title=&quot;jdbc4.StatementEventsTest cannot be run individually in a clean environment&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3306&quot;&gt;&lt;del&gt;DERBY-3306&lt;/del&gt;&lt;/a&gt;, are tests asserting on no warnings,&lt;br/&gt;
expecting exceptions on connection attempts to non-existing databases,&lt;br/&gt;
asserting on connection URLs and connections with attributes conflicting&lt;br/&gt;
with the create attribute.&lt;br/&gt;
I ran suites.All with a modified TestConfiguration to only use&lt;br/&gt;
DataSource, and saw a total of 11 failures out of 10175 tests;&lt;br/&gt;
    5 x DatabaseMetaDataTest.testGetURL&lt;br/&gt;
    5 x ScrollCursors2Test.&amp;lt;variousMethods&amp;gt;&lt;br/&gt;
    1 x ClientSideSystemPropertiesTest.testConnection&lt;br/&gt;
        (fails because it is written for DriverManager?)&lt;/p&gt;

&lt;p&gt;The reason for obtaining the data source directly and creating a&lt;br/&gt;
connection oneself, is probably because one needs full control over the&lt;br/&gt;
data source and cannot trust/expect the test framework to do the right&lt;br/&gt;
thing.&lt;/p&gt;

&lt;p&gt;Regarding the (non-exhaustive) list of solutions, I have made a&lt;br/&gt;
patch suggestion for option b. It clutters the data source connectors a&lt;br/&gt;
little, but not much. With it, only the ClientSideSystemPropertiesTest fail.&lt;br/&gt;
Option a and c can also be pursued.&lt;br/&gt;
I guess option a would mean all responsibility for creating the required&lt;br/&gt;
databases is put on the test developer, which&lt;br/&gt;
is fine for future tests, but requires work to go back and change&lt;br/&gt;
existing tests. &lt;br/&gt;
I&apos;ll back out the change if requested.&lt;/p&gt;

&lt;p&gt;Any thoughts on which solution to choose?&lt;/p&gt;</comment>
                            <comment id="12570611" author="kristwaa" created="Wed, 20 Feb 2008 08:58:43 +0000"  >&lt;p&gt;I have decided to go for options a and c above. See &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3306&quot; title=&quot;jdbc4.StatementEventsTest cannot be run individually in a clean environment&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3306&quot;&gt;&lt;del&gt;DERBY-3306&lt;/del&gt;&lt;/a&gt; for comments / explanation.&lt;br/&gt;
When the new patch is committed, I expect this issue will be fixed as well.&lt;/p&gt;</comment>
                            <comment id="12571120" author="kristwaa" created="Thu, 21 Feb 2008 17:56:55 +0000"  >&lt;p&gt;I expect the patch committed for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3306&quot; title=&quot;jdbc4.StatementEventsTest cannot be run individually in a clean environment&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3306&quot;&gt;&lt;del&gt;DERBY-3306&lt;/del&gt;&lt;/a&gt; (revsion 629894) to fix this regression.&lt;br/&gt;
It would be nice if the reporter could confirm the fix and close the issue if appropriate.&lt;br/&gt;
I have not run the test on a J2ME platform, so verification is required.&lt;/p&gt;</comment>
                            <comment id="12572152" author="myrna" created="Mon, 25 Feb 2008 18:30:04 +0000"  >&lt;p&gt;I don&apos;t see this failing any more, compare:&lt;br/&gt;
&lt;a href=&quot;http://people.apache.org/~myrnavl/derby_test_results/main/windows/testSummary-629676.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://people.apache.org/~myrnavl/derby_test_results/main/windows/testSummary-629676.html&lt;/a&gt; of Feb 20,&lt;br/&gt;
which shows the 5 errors for revision 629676, and:&lt;br/&gt;
&lt;a href=&quot;http://people.apache.org/~myrnavl/derby_test_results/main/windows/testSummary-630069.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://people.apache.org/~myrnavl/derby_test_results/main/windows/testSummary-630069.html&lt;/a&gt; of Feb 21 which shows 0 errors for revision 630069.&lt;/p&gt;

</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12385849">DERBY-3306</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12375591" name="derby-3412-option_b.diff" size="4444" author="kristwaa" created="Thu, 14 Feb 2008 13:00:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10369"><![CDATA[Regression Test Failure]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 13 Feb 2008 00:42:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23628</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0lpb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37334</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>