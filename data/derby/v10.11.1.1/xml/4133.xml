<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:33:34 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-4133/DERBY-4133.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-4133] &apos;testTableFunctionInJar&apos; fails w/ &apos;The class &apos;DummyVTI&apos; does not exist or is inaccessible...&apos; on jvm1.4</title>
                <link>https://issues.apache.org/jira/browse/DERBY-4133</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Seen in tests on jvm1.4 since ~ svn rev. 759509&lt;/p&gt;

&lt;p&gt;See e.g.&lt;br/&gt;
&lt;a href=&quot;http://dbtg.thresher.com/derby/test/Daily/jvm1.4/testing/Limited/testSummary-759509.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dbtg.thresher.com/derby/test/Daily/jvm1.4/testing/Limited/testSummary-759509.html&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;E.g.:&lt;br/&gt;
1) testTableFunctionInJar(org.apache.derbyTesting.functionTests.tests.lang.DatabaseClassLoadingTest)java.sql.SQLException: The class &apos;DummyVTI&apos; does not exist or is inaccessible. This can happen if the class is not public.&lt;br/&gt;
	at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.seeNextException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.handleException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.ConnectionChild.handleException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedStatement.execute(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedStatement.executeQuery(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.DatabaseClassLoadingTest.testTableFunctionInJar(DatabaseClassLoadingTest.java:1045)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:105)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
Caused by: java.sql.SQLException: Java exception: &apos;DummyVTI : DummyVTI (Unsupported major.minor version 49.0): java.lang.ClassNotFoundException&apos;.&lt;br/&gt;
	at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.javaException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(Unknown Source)&lt;br/&gt;
	... 38 more&lt;br/&gt;
Caused by: java.lang.ClassNotFoundException: DummyVTI : DummyVTI (Unsupported major.minor version 49.0)&lt;br/&gt;
	at org.apache.derby.impl.services.reflect.DatabaseClasses.loadApplicationClass(Unknown Source)&lt;br/&gt;
	at org.apache.derby.iapi.services.loader.ClassInspector.getClass(Unknown Source)&lt;br/&gt;
	at org.apache.derby.iapi.services.loader.ClassInspector.accessible(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.compile.QueryTreeNode.verifyClassExist(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.compile.StaticMethodCallNode.bindExpression(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.compile.JavaToSQLValueNode.bindExpression(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.compile.ResultColumn.bindExpression(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.compile.ResultColumnList.bindExpressions(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.compile.RowResultSetNode.bindExpressions(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.compile.DMLStatementNode.bindExpressions(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.compile.DMLStatementNode.bind(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.compile.CursorNode.bindStatement(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.GenericStatement.prepMinion(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.GenericStatement.prepare(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.sql.conn.GenericLanguageConnectionContext.prepareInternalStatement(Unknown Source)&lt;br/&gt;
	... 34 more&lt;/p&gt;</description>
                <environment>OS: All?&lt;br/&gt;
&lt;br/&gt;
JVM:&lt;br/&gt;
Sun Microsystems Inc.&lt;br/&gt;
java version &amp;quot;1.4.2_02&amp;quot;&lt;br/&gt;
Java(TM) 2 Runtime Environment, Standard Edition (build 1.4.2_02-b03)&lt;br/&gt;
Java HotSpot(TM) Client VM (build 1.4.2_02-b03 mixed mode 32-bit)&lt;br/&gt;
</environment>
        <key id="12421638">DERBY-4133</key>
            <summary>&apos;testTableFunctionInJar&apos; fails w/ &apos;The class &apos;DummyVTI&apos; does not exist or is inaccessible...&apos; on jvm1.4</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="olesolberg">Ole Solberg</reporter>
                        <labels>
                    </labels>
                <created>Tue, 31 Mar 2009 11:17:15 +0100</created>
                <updated>Tue, 21 Oct 2014 16:28:58 +0100</updated>
                            <resolved>Thu, 23 Apr 2009 17:12:29 +0100</resolved>
                                    <version>10.4.2.1</version>
                    <version>10.6.1.0</version>
                                    <fixVersion>10.5.2.0</fixVersion>
                    <fixVersion>10.6.1.0</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12698926" author="rhillegas" created="Tue, 14 Apr 2009 21:58:46 +0100"  >&lt;p&gt;Attaching derby-4133-01-aa-disableOn1.4.diff. This disables the offending test on jdk 1.4. The  jar file used by this test is built by Java 5 or 6 and won&apos;t load on older vms. Committed at subversion revision 764948.&lt;/p&gt;</comment>
                            <comment id="12698928" author="rhillegas" created="Tue, 14 Apr 2009 22:02:45 +0100"  >&lt;p&gt;Ported 764948 from the trunk to the 10.5 branch at subversion revision 764952.&lt;/p&gt;</comment>
                            <comment id="12699127" author="knutanders" created="Wed, 15 Apr 2009 10:11:00 +0100"  >&lt;p&gt;I don&apos;t see anything in dummy_vti.jar that requires Java 5. Couldn&apos;t we just rebuild that jar file with a 1.4 compiler so that it gets tested on 1.4 too and we don&apos;t need to clutter the test with version checks?&lt;/p&gt;

&lt;p&gt;Also, if we disable a test, I think we should do that in the suite() method and not from inside the test case. The way it is disabled now, JUnit will report that the test case passed on Java 1.4, whereas it in fact didn&apos;t run.&lt;/p&gt;</comment>
                            <comment id="12699176" author="rhillegas" created="Wed, 15 Apr 2009 13:57:52 +0100"  >&lt;p&gt;Thanks, Knut. Those sound like useful improvements. It would be an easy matter to rebuild the jar file with a 1.4 compiler. Before doing that, however, I would revisit the machinery by which the test jar files are built. Currently, they are built outside of the normal build machinery and then checked into the codeline. There&apos;s nothing in place to guarantee the version of the compiler which is used to build these jar files.&lt;/p&gt;</comment>
                            <comment id="12699185" author="knutanders" created="Wed, 15 Apr 2009 14:16:51 +0100"  >&lt;p&gt;I agree. +1 to building these jars as part of a normal build. That will hopefully also mean that the source code for the jars is available without first extracting the jars.&lt;/p&gt;</comment>
                            <comment id="12699280" author="myrna" created="Wed, 15 Apr 2009 18:06:07 +0100"  >&lt;p&gt;The fix for this went into the 10.5 branch (rev. 764952) &lt;b&gt;after&lt;/b&gt; I made the 10.5.1.1 Release Candidate (revision 764942), but &lt;b&gt;before&lt;/b&gt; I bumped the version number to 10.5.1.2. (rev. 764986). So it&apos;s not fixed in the 10.5.1.1 rc2.&lt;/p&gt;</comment>
                            <comment id="12701950" author="kmarsden" created="Thu, 23 Apr 2009 15:32:22 +0100"  >&lt;p&gt;Reopening as this still occurs in the 10.4 branch. Are there plans to backport the fix or provide a different fix based on Knut&apos;s comments?&lt;/p&gt;</comment>
                            <comment id="12701977" author="rhillegas" created="Thu, 23 Apr 2009 17:10:30 +0100"  >&lt;p&gt;Ported 764948 from trunk to 10.4 branch at subversion revision 767954.&lt;/p&gt;</comment>
                            <comment id="12701978" author="rhillegas" created="Thu, 23 Apr 2009 17:12:29 +0100"  >&lt;p&gt;Closing this issue again. I will open a new issue for adding build scripts and sources for our test assets which are jar files. That is a mini-project which falls outside the scope of the current JIRA.&lt;/p&gt;</comment>
                            <comment id="12701981" author="kmarsden" created="Thu, 23 Apr 2009 17:21:28 +0100"  >&lt;p&gt;Thanks Rick for backporting the fix!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12421593">DERBY-4131</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12419647">DERBY-4126</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12423595">DERBY-4183</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12405461" name="derby-4133-01-aa-disableOn1.4.diff" size="1128" author="rhillegas" created="Tue, 14 Apr 2009 21:58:46 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10369"><![CDATA[Regression Test Failure]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 14 Apr 2009 20:58:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>24049</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0s53:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38377</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>