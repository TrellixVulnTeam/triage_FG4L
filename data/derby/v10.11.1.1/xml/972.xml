<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:34:47 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-972/DERBY-972.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-972] tests derbynet/csPrepStmt and prepStmt use mechanisms that are not portable over encodings</title>
                <link>https://issues.apache.org/jira/browse/DERBY-972</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;With zOS, with the classic 32 bit jvm, the tests derbynet/csPrepStmt and prepStmt.java fail because the insert with setAsciiStream of a byte array obtained from a new String.getBytes() (and/or the retrieval of that inserted value) is not ok. No error is returned, but the select shows no value.&lt;/p&gt;

&lt;p&gt;This is the section in the test csPrepStmt:&lt;br/&gt;
-----------------&lt;br/&gt;
                	ps.setString(10, &quot;column11string&quot;);&lt;br/&gt;
			byte[] c11ba = new String(&quot;column11vcstring&quot;).getBytes();&lt;br/&gt;
			int len = c11ba.length;&lt;br/&gt;
			ps.setAsciiStream(11, new ByteArrayInputStream(c11ba), &lt;br/&gt;
len);&lt;br/&gt;
and the value is retrieved using an ResultSet.getString(#)&lt;br/&gt;
--------------------------&lt;br/&gt;
28 del&lt;br/&gt;
&amp;lt; got row:   1 2 3 4 5.0 6.0 7.0 88.88 99.100 column11string &lt;br/&gt;
      column11vcstring column12lvcstring &lt;br/&gt;
0123456789abcdef10111213202020 0123456789abcdef10111213 &lt;br/&gt;
0123456789abcdef10111213 xxxxxxFILTERED-TIMESTAMPxxxxx-04-12 &lt;br/&gt;
11:44:30.0&lt;br/&gt;
28a28&lt;br/&gt;
&amp;gt; got row:   1 2 3 4 5.0 6.0 7.0 88.88 99.100 column11string    &lt;br/&gt;
    column12lvcstring 0123456789abcdef10111213202020 &lt;br/&gt;
0123456789abcdef10111213 0123456789abcdef10111213 &lt;br/&gt;
xxxxxxFILTERED-TIMESTAMPxxxxx-04-12 11:44:30.0&lt;br/&gt;
--------------------&lt;br/&gt;
(i.e. the string &quot;column11vcstring&quot; is not in the database)&lt;/p&gt;

&lt;p&gt;This needs to be replaced by a encoding-neutral (eg. fixed encoding) mechanism and the tests derbynet/prepStmt.java and csPrepStmt.java need to be checked for other non-portable &lt;br/&gt;
code.&lt;/p&gt;
</description>
                <environment>z/OS , ibm142 (&amp;#39;Classic&amp;#39;, 32 bit jvm)</environment>
        <key id="12328914">DERBY-972</key>
            <summary>tests derbynet/csPrepStmt and prepStmt use mechanisms that are not portable over encodings</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="skambha">Sunitha Kambhampati</assignee>
                                    <reporter username="myrna">Myrna van Lunteren</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 Feb 2006 06:42:41 +0000</created>
                <updated>Wed, 12 Jul 2006 02:40:42 +0100</updated>
                            <resolved>Wed, 26 Apr 2006 07:31:09 +0100</resolved>
                                    <version>10.1.2.1</version>
                                    <fixVersion>10.1.3.1</fixVersion>
                    <fixVersion>10.2.1.6</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12375447" author="skambha" created="Fri, 21 Apr 2006 08:03:28 +0100"  >&lt;p&gt;This patch (Derby972.diff.txt , Derby972.stat.txt) fixes the test issue to use a fixed (UTF-8 )encoding.   Ran tests on  Z/os with ibm142  JVM ok. &lt;/p&gt;

&lt;p&gt;Also ran both tests on windows with JCC, and Client with Sun JVM1.5 OK. &lt;/p&gt;

&lt;p&gt;Can someone please commit this test only patch.  Thanks. &lt;/p&gt;</comment>
                            <comment id="12375650" author="skambha" created="Sat, 22 Apr 2006 06:52:22 +0100"  >&lt;p&gt;Patch available for review/commit  - derby972.diff.txt.   Thanks.&lt;/p&gt;</comment>
                            <comment id="12376119" author="skambha" created="Tue, 25 Apr 2006 06:00:25 +0100"  >&lt;p&gt;I&apos;d like to port these test changes to the 10.1 codeline.  The merge command is &lt;/p&gt;

&lt;p&gt; svn merge -r 396033:396034 &lt;a href=&quot;https://svn.apache.org/repos/asf/db/derby/code/trunk&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/repos/asf/db/derby/code/trunk&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Ran these two tests OK on 10.1. Can someone please port this. Thanks. &lt;/p&gt;</comment>
                            <comment id="12376366" author="fuzzylogic" created="Wed, 26 Apr 2006 07:31:09 +0100"  >&lt;p&gt;Committed revision 396034 to trunk and 397018 to 10.1.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12325106">DERBY-658</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12325642" name="Derby972.diff.txt" size="2466" author="skambha" created="Fri, 21 Apr 2006 08:03:28 +0100"/>
                            <attachment id="12325643" name="Derby972.stat.txt" size="178" author="skambha" created="Fri, 21 Apr 2006 08:03:28 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 21 Apr 2006 07:03:28 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22226</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy15lj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40557</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>