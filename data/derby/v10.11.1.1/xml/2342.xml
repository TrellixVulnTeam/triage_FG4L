<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:51:47 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-2342/DERBY-2342.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-2342] convert importExport.java to junit</title>
                <link>https://issues.apache.org/jira/browse/DERBY-2342</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Convert org.apache.derbyTesting.functionTests.tests.tools.importExport to junit. New test is called ImportExportTest.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12362979">DERBY-2342</key>
            <summary>convert importExport.java to junit</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fuzzylogic">Andrew McIntyre</assignee>
                                    <reporter username="fuzzylogic">Andrew McIntyre</reporter>
                        <labels>
                    </labels>
                <created>Fri, 16 Feb 2007 01:39:19 +0000</created>
                <updated>Tue, 20 Mar 2007 21:50:18 +0000</updated>
                            <resolved>Sat, 3 Mar 2007 01:15:36 +0000</resolved>
                                    <version>10.3.1.4</version>
                                    <fixVersion>10.3.1.4</fixVersion>
                                    <component>Tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12473583" author="fuzzylogic" created="Fri, 16 Feb 2007 01:40:27 +0000"  >&lt;p&gt;Patch that converts importExport.java to junit.&lt;/p&gt;</comment>
                            <comment id="12473584" author="fuzzylogic" created="Fri, 16 Feb 2007 01:40:43 +0000"  >&lt;p&gt;stat file for v1 patch&lt;/p&gt;</comment>
                            <comment id="12473591" author="fuzzylogic" created="Fri, 16 Feb 2007 03:14:30 +0000"  >&lt;p&gt;Attaching a second version of this patch which changes assertFilesEqual(String, String) to assertEquals(File,File) and moves it to BaseTestCase and reuses assertEquals for InputStreams instead of implementing something similar again.&lt;/p&gt;</comment>
                            <comment id="12473861" author="tsuresh" created="Sat, 17 Feb 2007 01:19:54 +0000"  >&lt;p&gt;Thanks for converting this test to junit , Andrew.   Patch looks good to me., I don&apos;t know much about junit.. &lt;br/&gt;
Just couple of  trivial  comments/questions.&lt;/p&gt;

&lt;p&gt;In the old tests harness I thought the  policy was  test  files shoud  not be accessed under priveleged blocks.  In  the new junit framework&lt;br/&gt;
is it necessary to add priveleged blocks to access test files also ?&lt;/p&gt;

&lt;p&gt;some comments :&lt;/p&gt;


&lt;p&gt;File : &lt;br/&gt;
++ java/testing/org/apache/derbyTesting/junit/BaseTestCase.java	(working copy)&lt;/p&gt;


&lt;p&gt;1) &lt;br/&gt;
+					assertEquals(f1, f2);&lt;br/&gt;
+				} catch (FileNotFoundException e) &lt;/p&gt;
{
+					fail(&quot;FileNotFoundException in assertEquals(File,File): &quot; + e.toString());
+				}
&lt;p&gt; catch (IOException e) &lt;/p&gt;
{
+					fail(&quot;IOException in assertEquals(File, File): &quot; + e.toString());
+				}

&lt;p&gt;It might be better to throw the exception up  or a print stack trace also.    If it ever fails on some platform , stacks will be helpful. &lt;/p&gt;

&lt;p&gt;2) &lt;br/&gt;
 +				&lt;br/&gt;
+				return new Boolean(true);&lt;/p&gt;

&lt;p&gt;Any reson for returning   a Boolean object  from the run() method  ?   I thought you are actaully passing it up , &lt;br/&gt;
 but looks like  it just getting ignored. May you should just return null. &lt;/p&gt;


&lt;p&gt;+++ java/testing/org/apache/derbyTesting/functionTests/tests/tools/ImportExportTest.java	(revision 0)&lt;/p&gt;

&lt;p&gt;1) &lt;br/&gt;
+   Derby - Class org.apache.derbyTesting.functionTests.tests.tools.importExport&lt;/p&gt;

&lt;p&gt;&amp;#8211;  Name is copyright notices is correct. &lt;/p&gt;


&lt;p&gt;2) &lt;br/&gt;
+		ps.setString(3, (fromTable==null ?  fromTable : &quot;extinout/&quot; + fromTable + &quot;.dat&quot; ));&lt;/p&gt;

&lt;p&gt;support files exttinout /extin are hard coded in this test.   May be you want to use the  methods defined in SupportFilesSetup class.&lt;br/&gt;
to access/create support files.  p SupportFilesSetup : ublic static File getReadOnly(String name) ..etc.&lt;/p&gt;

&lt;p&gt;3)   This test  is easy to understand.  you may want to add still some comments to the test , especially  the data verification case. &lt;/p&gt;


&lt;p&gt;Thanks&lt;br/&gt;
-suresh&lt;/p&gt;




</comment>
                            <comment id="12473876" author="fuzzylogic" created="Sat, 17 Feb 2007 04:29:23 +0000"  >&lt;p&gt;Thanks very much for the review, Suresh! Attaching a patch which incorporates most of your suggestions.&lt;/p&gt;

&lt;p&gt;I&apos;ve used SupportFilesSetup.getReadWrite() to get the Files to pass to assertEquals(File,File). For the other cases where the directory is hardcoded, we need to pass a String to the import or export procedure. I could get a File or URL with getReadWrite or getReadWriteURL, but then I&apos;d either have to get the String representation of the File or URL and do some manipulation of that String to get it into the format that the import/export procedures are expecting. I&apos;m not sure that it is worth the trouble to do that when the location of the support file directories is unlikely to change.&lt;/p&gt;

&lt;p&gt;Patch is still not quite ready to commit, though, as I&apos;m seeing some failures on jdk16 in client mode.&lt;/p&gt;</comment>
                            <comment id="12477538" author="fuzzylogic" created="Fri, 2 Mar 2007 22:55:00 +0000"  >&lt;p&gt;Attaching an updated version of this patch which passes on jdk16 as well. &lt;/p&gt;</comment>
                            <comment id="12477539" author="fuzzylogic" created="Fri, 2 Mar 2007 22:55:45 +0000"  >&lt;p&gt;Attaching an updated patch for this issue which passes on jdk16 as well.&lt;/p&gt;</comment>
                            <comment id="12477557" author="fuzzylogic" created="Fri, 2 Mar 2007 23:52:07 +0000"  >&lt;p&gt;Attaching another updated patch, this catches the test up to the changes made by Suresh for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-378&quot; title=&quot;support for  import/export  of  tables with clob/blob and the other binary data types   will be good addition to derby,&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-378&quot;&gt;&lt;del&gt;DERBY-378&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="12477574" author="fuzzylogic" created="Sat, 3 Mar 2007 01:15:36 +0000"  >&lt;p&gt;Committed -v5 patch with revision 514040.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12351312" name="derby-2342-v1.diff" size="38781" author="fuzzylogic" created="Fri, 16 Feb 2007 01:40:27 +0000"/>
                            <attachment id="12351313" name="derby-2342-v1.stat" size="928" author="fuzzylogic" created="Fri, 16 Feb 2007 01:40:43 +0000"/>
                            <attachment id="12351316" name="derby-2342-v2.diff" size="38197" author="fuzzylogic" created="Fri, 16 Feb 2007 03:14:30 +0000"/>
                            <attachment id="12351414" name="derby-2342-v3.diff" size="38801" author="fuzzylogic" created="Sat, 17 Feb 2007 04:29:23 +0000"/>
                            <attachment id="12352484" name="derby-2342-v4.diff" size="37586" author="fuzzylogic" created="Fri, 2 Mar 2007 22:55:45 +0000"/>
                            <attachment id="12352491" name="derby-2342-v5.diff" size="37798" author="fuzzylogic" created="Fri, 2 Mar 2007 23:52:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 17 Feb 2007 01:19:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30394</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy131r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40144</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>