<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:18:24 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-1708/DERBY-1708.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-1708] Unprivileged user can perform lock table statement on a table which he/she does not have any access rights</title>
                <link>https://issues.apache.org/jira/browse/DERBY-1708</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;An unprivileged user was able to lock a table for which he/she does not own.  e.g.:&lt;/p&gt;

&lt;p&gt;ij version 10.2&lt;br/&gt;
ij&amp;gt; connect &apos;jdbc:derby:wombat;create=true&apos; user &apos;user1&apos; as user1;&lt;br/&gt;
WARNING 01J14: SQL authorization is being used without first enabling authentication.&lt;br/&gt;
ij&amp;gt; create table t1 (i int);&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; connect &apos;jdbc:derby:wombat;create=true&apos; user &apos;user2&apos; as user2;&lt;br/&gt;
WARNING 01J01: Database &apos;wombat&apos; not created, connection made to existing database instead.&lt;br/&gt;
WARNING 01J14: SQL authorization is being used without first enabling authentication.&lt;br/&gt;
ij(USER2)&amp;gt; autocommit off;&lt;br/&gt;
ij(USER2)&amp;gt; lock table user1.t1 in exclusive mode;&lt;br/&gt;
0 rows inserted/updated/deleted&lt;/p&gt;

&lt;p&gt;sysinfo:&lt;br/&gt;
------------------ Java Information ------------------&lt;br/&gt;
Java Version:    1.4.2_12&lt;br/&gt;
Java Vendor:     Sun Microsystems Inc.&lt;br/&gt;
Java home:       C:\Program Files\Java\j2re1.4.2_12&lt;br/&gt;
Java classpath:  derby.jar;derbytools.jar;.&lt;br/&gt;
OS name:         Windows XP&lt;br/&gt;
OS architecture: x86&lt;br/&gt;
OS version:      5.1&lt;br/&gt;
Java user name:  Yip&lt;br/&gt;
Java user home:  C:\Documents and Settings\Yip&lt;br/&gt;
Java user dir:   C:\work3\derby\tests\derby-10.2.1.0\lib&lt;br/&gt;
java.specification.name: Java Platform API Specification&lt;br/&gt;
java.specification.version: 1.4&lt;br/&gt;
--------- Derby Information --------&lt;br/&gt;
JRE - JDBC: J2SE 1.4.2 - JDBC 3.0&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;C:\work3\derby\tests\derby-10.2.1.0\lib\derby.jar&amp;#93;&lt;/span&gt; 10.2.1.0 beta - (430903)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;C:\work3\derby\tests\derby-10.2.1.0\lib\derbytools.jar&amp;#93;&lt;/span&gt; 10.2.1.0 beta - (430903&lt;br/&gt;
)&lt;br/&gt;
------------------------------------------------------&lt;br/&gt;
----------------- Locale Information -----------------&lt;br/&gt;
Current Locale :  [English/United States &lt;span class=&quot;error&quot;&gt;&amp;#91;en_US&amp;#93;&lt;/span&gt;]&lt;br/&gt;
Found support for locale: &lt;span class=&quot;error&quot;&gt;&amp;#91;de_DE&amp;#93;&lt;/span&gt;&lt;br/&gt;
         version: 10.2.1.0 - (430903)&lt;br/&gt;
Found support for locale: &lt;span class=&quot;error&quot;&gt;&amp;#91;es&amp;#93;&lt;/span&gt;&lt;br/&gt;
         version: 10.2.1.0 - (430903)&lt;br/&gt;
Found support for locale: &lt;span class=&quot;error&quot;&gt;&amp;#91;fr&amp;#93;&lt;/span&gt;&lt;br/&gt;
         version: 10.2.1.0 - (430903)&lt;br/&gt;
Found support for locale: &lt;span class=&quot;error&quot;&gt;&amp;#91;it&amp;#93;&lt;/span&gt;&lt;br/&gt;
         version: 10.2.1.0 - (430903)&lt;br/&gt;
Found support for locale: &lt;span class=&quot;error&quot;&gt;&amp;#91;ja_JP&amp;#93;&lt;/span&gt;&lt;br/&gt;
         version: 10.2.1.0 - (430903)&lt;br/&gt;
Found support for locale: &lt;span class=&quot;error&quot;&gt;&amp;#91;ko_KR&amp;#93;&lt;/span&gt;&lt;br/&gt;
         version: 10.2.1.0 - (430903)&lt;br/&gt;
Found support for locale: &lt;span class=&quot;error&quot;&gt;&amp;#91;pt_BR&amp;#93;&lt;/span&gt;&lt;br/&gt;
         version: 10.2.1.0 - (430903)&lt;br/&gt;
Found support for locale: &lt;span class=&quot;error&quot;&gt;&amp;#91;zh_CN&amp;#93;&lt;/span&gt;&lt;br/&gt;
         version: 10.2.1.0 - (430903)&lt;br/&gt;
Found support for locale: &lt;span class=&quot;error&quot;&gt;&amp;#91;zh_TW&amp;#93;&lt;/span&gt;&lt;br/&gt;
         version: 10.2.1.0 - (430903)&lt;br/&gt;
------------------------------------------------------&lt;/p&gt;</description>
                <environment>Sun JDK 1.4.2</environment>
        <key id="12348102">DERBY-1708</key>
            <summary>Unprivileged user can perform lock table statement on a table which he/she does not have any access rights</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yipng">Yip Ng</assignee>
                                    <reporter username="yipng">Yip Ng</reporter>
                        <labels>
                    </labels>
                <created>Wed, 16 Aug 2006 23:17:22 +0100</created>
                <updated>Thu, 13 Dec 2007 09:05:10 +0000</updated>
                            <resolved>Fri, 25 Aug 2006 23:09:49 +0100</resolved>
                                    <version>10.2.1.6</version>
                                    <fixVersion>10.2.1.6</fixVersion>
                    <fixVersion>10.3.1.4</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12429077" author="kartha" created="Fri, 18 Aug 2006 19:30:24 +0100"  >&lt;p&gt;This issue needs resolution for 10.2, hence bumping the urgency.&lt;/p&gt;</comment>
                            <comment id="12429253" author="yipng" created="Sun, 20 Aug 2006 09:56:06 +0100"  >&lt;p&gt;Attaching patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1708&quot; title=&quot;Unprivileged user can perform lock table statement on a table which he/she does not have any access rights&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1708&quot;&gt;&lt;del&gt;DERBY-1708&lt;/del&gt;&lt;/a&gt; for 10.2.  The problem is that the lock table statement is missing the logic to collect the required privilege at compilation phase; thus, it fails to enforce the required privilege needed by the statement at execution time.  Running derbyall now.  The patch is ready for review.&lt;/p&gt;</comment>
                            <comment id="12429358" author="yipng" created="Mon, 21 Aug 2006 09:15:31 +0100"  >&lt;p&gt;derbyall passes, no new regression introduced with this patch.&lt;/p&gt;</comment>
                            <comment id="12430073" author="mikem" created="Wed, 23 Aug 2006 19:31:05 +0100"  >&lt;p&gt;it looks like this patch no longer applies as there have been subsequent changes to the grantRevokeddl test, could you submit a new patch:&lt;/p&gt;

&lt;p&gt;m3_142:131&amp;gt;patch --dry-run -p0 -i c:/tmp/derby1708-10.2-diff01.txt&lt;br/&gt;
patching file `java/engine/org/apache/derby/impl/sql/compile/LockTableNode.java&apos;&lt;/p&gt;

&lt;p&gt;patching file `java/testing/org/apache/derbyTesting/functionTests/tests/lang/gra&lt;br/&gt;
ntRevokeDDL.sql&apos;&lt;br/&gt;
Hunk #1 FAILED at 1782.&lt;br/&gt;
1 out of 1 hunk FAILED &amp;#8211; saving rejects to java/testing/org/apache/derbyTesting&lt;br/&gt;
/functionTests/tests/lang/grantRevokeDDL.sql.rej&lt;br/&gt;
patching file `java/testing/org/apache/derbyTesting/functionTests/master/grantRe&lt;br/&gt;
vokeDDL.out&apos;&lt;br/&gt;
Hunk #1 FAILED at 2834.&lt;br/&gt;
1 out of 1 hunk FAILED &amp;#8211; saving rejects to java/testing/org/apache/derbyTesting&lt;br/&gt;
/functionTests/master/grantRevokeDDL.out.rej&lt;/p&gt;</comment>
                            <comment id="12430112" author="yipng" created="Wed, 23 Aug 2006 23:05:34 +0100"  >&lt;p&gt;Submitting patch derby1708-trunk.diff01.txt for trunk.  &lt;/p&gt;</comment>
                            <comment id="12430251" author="rhillegas" created="Thu, 24 Aug 2006 15:19:04 +0100"  >&lt;p&gt;Assign to 10.2.&lt;/p&gt;</comment>
                            <comment id="12430291" author="mikem" created="Thu, 24 Aug 2006 18:14:37 +0100"  >&lt;p&gt;I am looking at building/testing this patch against the trunk, would appreciate at least one other person to review.&lt;/p&gt;</comment>
                            <comment id="12430365" author="mikem" created="Fri, 25 Aug 2006 01:06:56 +0100"  >&lt;p&gt;committed to trunk:&lt;br/&gt;
m1_142:148&amp;gt;svn commit&lt;/p&gt;

&lt;p&gt;Sending        java\engine\org\apache\derby\impl\sql\compile\LockTableNode.java&lt;br/&gt;
Sending        java\testing\org\apache\derbyTesting\functionTests\master\grantRevokeDDL.out&lt;br/&gt;
Sending        java\testing\org\apache\derbyTesting\functionTests\tests\lang\grantRevokeDDL.sql&lt;br/&gt;
Transmitting file data ...&lt;br/&gt;
Committed revision 434577.&lt;/p&gt;</comment>
                            <comment id="12430404" author="mamtas" created="Fri, 25 Aug 2006 06:29:29 +0100"  >&lt;p&gt;I realize that the patch for this jira entry is already committed but just wanted to share that I reviewed the patch and it looks good. Thanks, Yip.&lt;/p&gt;</comment>
                            <comment id="12430441" author="yipng" created="Fri, 25 Aug 2006 09:31:33 +0100"  >&lt;p&gt;Thanks for taking the time to review the patch, Mamta.&lt;/p&gt;</comment>
                            <comment id="12430446" author="yipng" created="Fri, 25 Aug 2006 09:40:00 +0100"  >&lt;p&gt;Thanks for reviewing and committing the patch, Mike.  &lt;/p&gt;</comment>
                            <comment id="12430615" author="rhillegas" created="Fri, 25 Aug 2006 21:26:52 +0100"  >&lt;p&gt;Ported &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1708&quot; title=&quot;Unprivileged user can perform lock table statement on a table which he/she does not have any access rights&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1708&quot;&gt;&lt;del&gt;DERBY-1708&lt;/del&gt;&lt;/a&gt; (434577) to 10.2 branch at subversion revision 436929.&lt;/p&gt;</comment>
                            <comment id="12430626" author="mikem" created="Fri, 25 Aug 2006 22:04:50 +0100"  >&lt;p&gt;patch has been applied to trunk and 10.2, unchecking patch available.&lt;/p&gt;</comment>
                            <comment id="12551402" author="fuzzylogic" created="Thu, 13 Dec 2007 09:05:10 +0000"  >&lt;p&gt;This issue has been resolved for over a year with no further movement. Closing.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12312336">DERBY-464</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12339183" name="derby1708-10.2-diff01.txt" size="4040" author="yipng" created="Sun, 20 Aug 2006 09:56:06 +0100"/>
                            <attachment id="12339182" name="derby1708-10.2-stat01.txt" size="343" author="yipng" created="Sun, 20 Aug 2006 09:56:06 +0100"/>
                            <attachment id="12339445" name="derby1708-trunk-diff01.txt" size="4028" author="yipng" created="Wed, 23 Aug 2006 23:05:34 +0100"/>
                            <attachment id="12339444" name="derby1708-trunk-stat01.txt" size="343" author="yipng" created="Wed, 23 Aug 2006 23:05:34 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 18 Aug 2006 18:30:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22654</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy1027:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39660</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310050" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Urgency</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10051"><![CDATA[Urgent]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>