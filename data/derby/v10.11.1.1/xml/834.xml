<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:24:38 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-834/DERBY-834.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-834] i18n/urlLocale.sql test fails on Windows XP</title>
                <link>https://issues.apache.org/jira/browse/DERBY-834</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;See &lt;a href=&quot;http://www.multinet.no/~solberg/public/Apache/Derby/testlog/CYGWIN_NT-5.2_i686-unknown/370210-i18nTest_diff.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.multinet.no/~solberg/public/Apache/Derby/testlog/CYGWIN_NT-5.2_i686-unknown/370210-i18nTest_diff.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This failure has been around since forever, I went all the way back to revision 295051 in October 2005 and it was there.&lt;/p&gt;

&lt;p&gt;I don&apos;t see this test on my platform (XP, JDK 1.4, en_US locale), maybe it&apos;s a Norwegian thing &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</description>
                <environment>CYGWIN&lt;br/&gt;
NT-5.2&lt;br/&gt;
i686-unknown&lt;br/&gt;
Sun JDK 1.5 VM</environment>
        <key id="12327871">DERBY-834</key>
            <summary>i18n/urlLocale.sql test fails on Windows XP</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="myrna">Myrna van Lunteren</assignee>
                                    <reporter username="davidvc">David Van Couvering</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Jan 2006 09:48:11 +0000</created>
                <updated>Thu, 2 Mar 2006 06:43:10 +0000</updated>
                            <resolved>Thu, 2 Mar 2006 04:52:54 +0000</resolved>
                                    <version>10.2.1.6</version>
                                    <fixVersion>10.2.1.6</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12367263" author="myrna" created="Wed, 22 Feb 2006 06:16:22 +0000"  >&lt;p&gt;This behavior is to be expected when the test is run on a machine that does not have the en_US locale set. &lt;/p&gt;

&lt;p&gt;observe this in the .sql: &lt;br/&gt;
----------------------- &lt;br/&gt;
create procedure checkDatabaseLoc(in locale char(12)) parameter style java language java external name &apos;org.apache.derbyTesting.functionTests.tests.i18n.DefaultLocale.checkDatabaseLocale&apos;; &lt;br/&gt;
create procedure checkRDefaultLoc() parameter style java language java external name &apos;org.apache.derbyTesting.functionTests.tests.i18n.DefaultLocale.checkRDefaultLocale&apos;; &lt;br/&gt;
&amp;#8211; this current database was created with the default locale &lt;br/&gt;
call checkDatabaseLoc(&apos;en_US&apos;); &lt;br/&gt;
call checkRDefaultLoc(); &lt;br/&gt;
------------------------ &lt;br/&gt;
so, it assumes that the default locale was en_US. &lt;/p&gt;

&lt;p&gt;Observe also for example this in the DefaultLocale.java: &lt;br/&gt;
------------------------ &lt;br/&gt;
// used in urlLocale test &lt;br/&gt;
public static void checkRDefaultLocale() throws SQLException &lt;/p&gt;
{ 
System.out.println(savedLocale); 
if (!savedLocale.equals(&quot;en_US&quot;)) 
throw new SQLException(&quot;wrong_locale&quot;); 
} 
&lt;p&gt;-------------------------- &lt;/p&gt;

&lt;p&gt;Now, whether this is a reasonable assumption is a different question... &lt;/p&gt;

&lt;p&gt;So far, the only way I have found of ensuring that the test runs with default locale set to en_US is by hacking into the test harness&apos; jvm.java and forcing user.country to US and user.language to en. &lt;/p&gt;

&lt;p&gt;Is that an acceptable thing to do? &lt;/p&gt;

&lt;p&gt;I will experiment some more with different ways of setting this parameter. &lt;/p&gt;

&lt;p&gt;Myrna &lt;/p&gt;</comment>
                            <comment id="12367606" author="myrna" created="Fri, 24 Feb 2006 08:59:13 +0000"  >&lt;p&gt;I got no response to my previous suggestion (forcing user.language &amp;amp; user.country) and I was not happy with that approach.&lt;/p&gt;

&lt;p&gt;Instead, the current patch (&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-834&quot; title=&quot;i18n/urlLocale.sql test fails on Windows XP&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-834&quot;&gt;&lt;del&gt;DERBY-834&lt;/del&gt;&lt;/a&gt;_2006_02_23.*)  simply does not contain a hardcoded reference to en_US.&lt;br/&gt;
It counts on the value of the actual encoding, coming out of java.util.Locale.getDefault(), to be correct, and compares this with the string returned form org.apache.derby.iapi.db.Factory.getDatabaseOfConnection.getLocale, in one call that only produces output if something is wrong.&lt;/p&gt;</comment>
                            <comment id="12368347" author="fuzzylogic" created="Thu, 2 Mar 2006 04:52:54 +0000"  >&lt;p&gt;Committed revision 382138.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12323349" name="DERBY-834_2006_02_23.diff" size="2835" author="myrna" created="Fri, 24 Feb 2006 08:59:13 +0000"/>
                            <attachment id="12323348" name="DERBY-834_2006_02_23.stat" size="253" author="myrna" created="Fri, 24 Feb 2006 08:59:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 22 Feb 2006 06:16:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22171</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy1727:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40794</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>