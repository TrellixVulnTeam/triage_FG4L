<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:11:21 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-6387/DERBY-6387.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-6387] Incorrect ordering of triggers in dblook</title>
                <link>https://issues.apache.org/jira/browse/DERBY-6387</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;The order in which triggers fire, is partly determined by the order in which they are created.&lt;/p&gt;

&lt;p&gt;See here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://db.apache.org/derby/docs/10.10/ref/rrefsqlj43125.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://db.apache.org/derby/docs/10.10/ref/rrefsqlj43125.html&lt;/a&gt;&lt;/p&gt;

&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   When multiple triggers are defined for the same database event for&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   the same table for the same trigger time (before or after), triggers&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   are fired in the order in which they were created.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;


&lt;p&gt;And here:&lt;/p&gt;

&lt;p&gt;SQL:2003, part 2, section 4.38.1 General description of triggers:&lt;/p&gt;

&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   The order of execution of a set of triggers is ascending by value of&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   their timestamp of creation in their descriptors, such that the&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;   oldest trigger executes first.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;


&lt;p&gt;Since the order of creation matters, dblook should generate CREATE TRIGGER statements in an order that preserves the original order of execution.&lt;/p&gt;

&lt;p&gt;dblook currently generates CREATE TRIGGER statements in the order returned by a SELECT query against SYS.SYSTRIGGERS. The SELECT query does not have an ORDER BY clause, so it is not guaranteed to return the rows in a specific order.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12675020">DERBY-6387</key>
            <summary>Incorrect ordering of triggers in dblook</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="knutanders">Knut Anders Hatlen</assignee>
                                    <reporter username="knutanders">Knut Anders Hatlen</reporter>
                        <labels>
                    </labels>
                <created>Tue, 22 Oct 2013 13:48:37 +0100</created>
                <updated>Wed, 21 Jan 2015 00:23:52 +0000</updated>
                            <resolved>Thu, 6 Mar 2014 17:26:21 +0000</resolved>
                                    <version>10.10.1.1</version>
                                    <fixVersion>10.10.2.0</fixVersion>
                    <fixVersion>10.11.1.1</fixVersion>
                                    <component>Tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13801779" author="knutanders" created="Tue, 22 Oct 2013 13:58:09 +0100"  >&lt;p&gt;Here&apos;s how to reproduce (tested on 10.10.1.1 and trunk):&lt;/p&gt;

&lt;p&gt;Create a database using the attached create-triggers.sql script. The script creates a number of triggers so that it fills up the first disk page in SYS.SYSTRIGGERS, then it drops most of the triggers so that the first page becomes empty. Finally, it creates more triggers so that the second page fills up, and it starts reusing space on the first page. Since the last triggers get inserted into the first page of SYS.SYSTRIGGERS, the unordered SELECT query will return the triggers out of creation order.&lt;/p&gt;

&lt;p&gt;Running dblook on the created database will give this output:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;
-- ----------------------------------------------&lt;/span&gt;
-- DDL Statements for triggers
-- ----------------------------------------------

CREATE TRIGGER &lt;span class=&quot;code-quote&quot;&gt;&quot;APP&quot;&lt;/span&gt;.&lt;span class=&quot;code-quote&quot;&gt;&quot;TR23&quot;&lt;/span&gt; AFTER &lt;span class=&quot;code-keyword&quot;&gt;UPDATE&lt;/span&gt; OF &lt;span class=&quot;code-quote&quot;&gt;&quot;X&quot;&lt;/span&gt; ON &lt;span class=&quot;code-quote&quot;&gt;&quot;APP&quot;&lt;/span&gt;.&lt;span class=&quot;code-quote&quot;&gt;&quot;T1&quot;&lt;/span&gt; REFERENCING NEW_TABLE AS NEW FOR EACH STATEMENT &lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; * &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; sys.systables natural join sys.sysschemas &lt;span class=&quot;code-keyword&quot;&gt;where&lt;/span&gt; exists(&lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; * &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; new &lt;span class=&quot;code-keyword&quot;&gt;where&lt;/span&gt; x &amp;gt; 100);

CREATE TRIGGER &lt;span class=&quot;code-quote&quot;&gt;&quot;APP&quot;&lt;/span&gt;.&lt;span class=&quot;code-quote&quot;&gt;&quot;TR24&quot;&lt;/span&gt; AFTER &lt;span class=&quot;code-keyword&quot;&gt;UPDATE&lt;/span&gt; OF &lt;span class=&quot;code-quote&quot;&gt;&quot;X&quot;&lt;/span&gt; ON &lt;span class=&quot;code-quote&quot;&gt;&quot;APP&quot;&lt;/span&gt;.&lt;span class=&quot;code-quote&quot;&gt;&quot;T1&quot;&lt;/span&gt; REFERENCING NEW_TABLE AS NEW FOR EACH STATEMENT &lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; * &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; sys.systables natural join sys.sysschemas &lt;span class=&quot;code-keyword&quot;&gt;where&lt;/span&gt; exists(&lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; * &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; new &lt;span class=&quot;code-keyword&quot;&gt;where&lt;/span&gt; x &amp;gt; 100);

CREATE TRIGGER &lt;span class=&quot;code-quote&quot;&gt;&quot;APP&quot;&lt;/span&gt;.&lt;span class=&quot;code-quote&quot;&gt;&quot;TR13&quot;&lt;/span&gt; AFTER &lt;span class=&quot;code-keyword&quot;&gt;UPDATE&lt;/span&gt; OF &lt;span class=&quot;code-quote&quot;&gt;&quot;X&quot;&lt;/span&gt; ON &lt;span class=&quot;code-quote&quot;&gt;&quot;APP&quot;&lt;/span&gt;.&lt;span class=&quot;code-quote&quot;&gt;&quot;T1&quot;&lt;/span&gt; REFERENCING NEW_TABLE AS NEW FOR EACH STATEMENT &lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; * &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; sys.systables natural join sys.sysschemas &lt;span class=&quot;code-keyword&quot;&gt;where&lt;/span&gt; exists(&lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; * &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; new &lt;span class=&quot;code-keyword&quot;&gt;where&lt;/span&gt; x &amp;gt; 100);

CREATE TRIGGER &lt;span class=&quot;code-quote&quot;&gt;&quot;APP&quot;&lt;/span&gt;.&lt;span class=&quot;code-quote&quot;&gt;&quot;TR14&quot;&lt;/span&gt; AFTER &lt;span class=&quot;code-keyword&quot;&gt;UPDATE&lt;/span&gt; OF &lt;span class=&quot;code-quote&quot;&gt;&quot;X&quot;&lt;/span&gt; ON &lt;span class=&quot;code-quote&quot;&gt;&quot;APP&quot;&lt;/span&gt;.&lt;span class=&quot;code-quote&quot;&gt;&quot;T1&quot;&lt;/span&gt; REFERENCING NEW_TABLE AS NEW FOR EACH STATEMENT &lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; * &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; sys.systables natural join sys.sysschemas &lt;span class=&quot;code-keyword&quot;&gt;where&lt;/span&gt; exists(&lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; * &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; new &lt;span class=&quot;code-keyword&quot;&gt;where&lt;/span&gt; x &amp;gt; 100);

CREATE TRIGGER &lt;span class=&quot;code-quote&quot;&gt;&quot;APP&quot;&lt;/span&gt;.&lt;span class=&quot;code-quote&quot;&gt;&quot;TR15&quot;&lt;/span&gt; AFTER &lt;span class=&quot;code-keyword&quot;&gt;UPDATE&lt;/span&gt; OF &lt;span class=&quot;code-quote&quot;&gt;&quot;X&quot;&lt;/span&gt; ON &lt;span class=&quot;code-quote&quot;&gt;&quot;APP&quot;&lt;/span&gt;.&lt;span class=&quot;code-quote&quot;&gt;&quot;T1&quot;&lt;/span&gt; REFERENCING NEW_TABLE AS NEW FOR EACH STATEMENT &lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; * &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; sys.systables natural join sys.sysschemas &lt;span class=&quot;code-keyword&quot;&gt;where&lt;/span&gt; exists(&lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; * &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; new &lt;span class=&quot;code-keyword&quot;&gt;where&lt;/span&gt; x &amp;gt; 100);

CREATE TRIGGER &lt;span class=&quot;code-quote&quot;&gt;&quot;APP&quot;&lt;/span&gt;.&lt;span class=&quot;code-quote&quot;&gt;&quot;TR16&quot;&lt;/span&gt; AFTER &lt;span class=&quot;code-keyword&quot;&gt;UPDATE&lt;/span&gt; OF &lt;span class=&quot;code-quote&quot;&gt;&quot;X&quot;&lt;/span&gt; ON &lt;span class=&quot;code-quote&quot;&gt;&quot;APP&quot;&lt;/span&gt;.&lt;span class=&quot;code-quote&quot;&gt;&quot;T1&quot;&lt;/span&gt; REFERENCING NEW_TABLE AS NEW FOR EACH STATEMENT &lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; * &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; sys.systables natural join sys.sysschemas &lt;span class=&quot;code-keyword&quot;&gt;where&lt;/span&gt; exists(&lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; * &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; new &lt;span class=&quot;code-keyword&quot;&gt;where&lt;/span&gt; x &amp;gt; 100);

CREATE TRIGGER &lt;span class=&quot;code-quote&quot;&gt;&quot;APP&quot;&lt;/span&gt;.&lt;span class=&quot;code-quote&quot;&gt;&quot;TR17&quot;&lt;/span&gt; AFTER &lt;span class=&quot;code-keyword&quot;&gt;UPDATE&lt;/span&gt; OF &lt;span class=&quot;code-quote&quot;&gt;&quot;X&quot;&lt;/span&gt; ON &lt;span class=&quot;code-quote&quot;&gt;&quot;APP&quot;&lt;/span&gt;.&lt;span class=&quot;code-quote&quot;&gt;&quot;T1&quot;&lt;/span&gt; REFERENCING NEW_TABLE AS NEW FOR EACH STATEMENT &lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; * &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; sys.systables natural join sys.sysschemas &lt;span class=&quot;code-keyword&quot;&gt;where&lt;/span&gt; exists(&lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; * &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; new &lt;span class=&quot;code-keyword&quot;&gt;where&lt;/span&gt; x &amp;gt; 100);

CREATE TRIGGER &lt;span class=&quot;code-quote&quot;&gt;&quot;APP&quot;&lt;/span&gt;.&lt;span class=&quot;code-quote&quot;&gt;&quot;TR18&quot;&lt;/span&gt; AFTER &lt;span class=&quot;code-keyword&quot;&gt;UPDATE&lt;/span&gt; OF &lt;span class=&quot;code-quote&quot;&gt;&quot;X&quot;&lt;/span&gt; ON &lt;span class=&quot;code-quote&quot;&gt;&quot;APP&quot;&lt;/span&gt;.&lt;span class=&quot;code-quote&quot;&gt;&quot;T1&quot;&lt;/span&gt; REFERENCING NEW_TABLE AS NEW FOR EACH STATEMENT &lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; * &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; sys.systables natural join sys.sysschemas &lt;span class=&quot;code-keyword&quot;&gt;where&lt;/span&gt; exists(&lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; * &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; new &lt;span class=&quot;code-keyword&quot;&gt;where&lt;/span&gt; x &amp;gt; 100);

CREATE TRIGGER &lt;span class=&quot;code-quote&quot;&gt;&quot;APP&quot;&lt;/span&gt;.&lt;span class=&quot;code-quote&quot;&gt;&quot;TR19&quot;&lt;/span&gt; AFTER &lt;span class=&quot;code-keyword&quot;&gt;UPDATE&lt;/span&gt; OF &lt;span class=&quot;code-quote&quot;&gt;&quot;X&quot;&lt;/span&gt; ON &lt;span class=&quot;code-quote&quot;&gt;&quot;APP&quot;&lt;/span&gt;.&lt;span class=&quot;code-quote&quot;&gt;&quot;T1&quot;&lt;/span&gt; REFERENCING NEW_TABLE AS NEW FOR EACH STATEMENT &lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; * &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; sys.systables natural join sys.sysschemas &lt;span class=&quot;code-keyword&quot;&gt;where&lt;/span&gt; exists(&lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; * &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; new &lt;span class=&quot;code-keyword&quot;&gt;where&lt;/span&gt; x &amp;gt; 100);

CREATE TRIGGER &lt;span class=&quot;code-quote&quot;&gt;&quot;APP&quot;&lt;/span&gt;.&lt;span class=&quot;code-quote&quot;&gt;&quot;TR20&quot;&lt;/span&gt; AFTER &lt;span class=&quot;code-keyword&quot;&gt;UPDATE&lt;/span&gt; OF &lt;span class=&quot;code-quote&quot;&gt;&quot;X&quot;&lt;/span&gt; ON &lt;span class=&quot;code-quote&quot;&gt;&quot;APP&quot;&lt;/span&gt;.&lt;span class=&quot;code-quote&quot;&gt;&quot;T1&quot;&lt;/span&gt; REFERENCING NEW_TABLE AS NEW FOR EACH STATEMENT &lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; * &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; sys.systables natural join sys.sysschemas &lt;span class=&quot;code-keyword&quot;&gt;where&lt;/span&gt; exists(&lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; * &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; new &lt;span class=&quot;code-keyword&quot;&gt;where&lt;/span&gt; x &amp;gt; 100);

CREATE TRIGGER &lt;span class=&quot;code-quote&quot;&gt;&quot;APP&quot;&lt;/span&gt;.&lt;span class=&quot;code-quote&quot;&gt;&quot;TR21&quot;&lt;/span&gt; AFTER &lt;span class=&quot;code-keyword&quot;&gt;UPDATE&lt;/span&gt; OF &lt;span class=&quot;code-quote&quot;&gt;&quot;X&quot;&lt;/span&gt; ON &lt;span class=&quot;code-quote&quot;&gt;&quot;APP&quot;&lt;/span&gt;.&lt;span class=&quot;code-quote&quot;&gt;&quot;T1&quot;&lt;/span&gt; REFERENCING NEW_TABLE AS NEW FOR EACH STATEMENT &lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; * &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; sys.systables natural join sys.sysschemas &lt;span class=&quot;code-keyword&quot;&gt;where&lt;/span&gt; exists(&lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; * &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; new &lt;span class=&quot;code-keyword&quot;&gt;where&lt;/span&gt; x &amp;gt; 100);

CREATE TRIGGER &lt;span class=&quot;code-quote&quot;&gt;&quot;APP&quot;&lt;/span&gt;.&lt;span class=&quot;code-quote&quot;&gt;&quot;TR22&quot;&lt;/span&gt; AFTER &lt;span class=&quot;code-keyword&quot;&gt;UPDATE&lt;/span&gt; OF &lt;span class=&quot;code-quote&quot;&gt;&quot;X&quot;&lt;/span&gt; ON &lt;span class=&quot;code-quote&quot;&gt;&quot;APP&quot;&lt;/span&gt;.&lt;span class=&quot;code-quote&quot;&gt;&quot;T1&quot;&lt;/span&gt; REFERENCING NEW_TABLE AS NEW FOR EACH STATEMENT &lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; * &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; sys.systables natural join sys.sysschemas &lt;span class=&quot;code-keyword&quot;&gt;where&lt;/span&gt; exists(&lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; * &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; new &lt;span class=&quot;code-keyword&quot;&gt;where&lt;/span&gt; x &amp;gt; 100);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Notice that the triggers TR23 and TR24 come first even though they were created last. If a new database is created using the dblook output, TR23 and TR24 will fire before the other triggers, but they should fire last.&lt;/p&gt;</comment>
                            <comment id="13850551" author="knutanders" created="Tue, 17 Dec 2013 15:10:15 +0000"  >&lt;p&gt;The attached patch, d6387-1a.diff, adds an ORDER BY clause to the query dblook uses when reading SYS.SYSTRIGGERS. It also adds a test case to tools/dblook_test.java to verify the fix.&lt;/p&gt;

&lt;p&gt;All regression tests ran cleanly with the patch.&lt;/p&gt;</comment>
                            <comment id="13851720" author="jira-bot" created="Wed, 18 Dec 2013 13:29:53 +0000"  >&lt;p&gt;Commit 1551940 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=knutanders&quot; class=&quot;user-hover&quot; rel=&quot;knutanders&quot;&gt;Knut Anders Hatlen&lt;/a&gt; in branch &apos;code/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1551940&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1551940&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6387&quot; title=&quot;Incorrect ordering of triggers in dblook&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6387&quot;&gt;&lt;del&gt;DERBY-6387&lt;/del&gt;&lt;/a&gt;: Incorrect ordering of triggers in dblook&lt;/p&gt;

&lt;p&gt;Order the triggers by the CREATIONTIMESTAMP column so that dblook&lt;br/&gt;
produces a script that recreates the triggers in the same order as&lt;br/&gt;
they were originally created.&lt;/p&gt;</comment>
                            <comment id="13853619" author="mamtas" created="Fri, 20 Dec 2013 03:07:07 +0000"  >&lt;p&gt;Knut, I noticed following failure in IBM&apos;s internal test runs and was wondering if it might be related to your changes to dblook_test&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;Start: dblook_test jdk1.6.0 derbyall:derbytools 2013-12-18 19:59:43 ***&lt;br/&gt;
6537a6538&lt;br/&gt;
&amp;gt; CREATE TRIGGER &quot;APP&quot;.&quot;TR15&quot; AFTER UPDATE ON &quot;APP&quot;.&quot;T1&quot; REFERENCING NEW_TABLE AS NEW FOR EACH STATEMENT select * from sys.systables natural join sys.sysschemas where exists(select * from new where x &amp;gt; 100)&lt;br/&gt;
6539d6539&lt;br/&gt;
&amp;lt; CREATE TRIGGER &quot;APP&quot;.&quot;TR15&quot; AFTER UPDATE ON &quot;APP&quot;.&quot;T1&quot; REFERENCING NEW_TABLE AS NEW FOR EACH STATEMENT select * from sys.systables natural join sys.sysschemas where exists(select * from new where x &amp;gt; 100)&lt;br/&gt;
Test Failed.&lt;/li&gt;
			&lt;li&gt;End:   dblook_test jdk1.6.0 derbyall:derbytools 2013-12-18 20:00:22 ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13853883" author="knutanders" created="Fri, 20 Dec 2013 11:29:04 +0000"  >&lt;p&gt;I&apos;m guessing that the new test case in dblook_test suffers from the same instability as &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-5866&quot; title=&quot; testFiringConstraintOrder(org.apache.derbyTesting.functionTests.tests.lang.TriggerTest)junit.framework.AssertionFailedError: matching triggers need to be fired in order creation:1,NO CASCADE BEFORE,DELETE,ROW&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-5866&quot;&gt;&lt;del&gt;DERBY-5866&lt;/del&gt;&lt;/a&gt; if the creation timestamps of two triggers happen to be equal. Hopefully, it will go away once &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-5866&quot; title=&quot; testFiringConstraintOrder(org.apache.derbyTesting.functionTests.tests.lang.TriggerTest)junit.framework.AssertionFailedError: matching triggers need to be fired in order creation:1,NO CASCADE BEFORE,DELETE,ROW&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-5866&quot;&gt;&lt;del&gt;DERBY-5866&lt;/del&gt;&lt;/a&gt; has been fixed.&lt;/p&gt;</comment>
                            <comment id="13913287" author="mikem" created="Wed, 26 Feb 2014 18:38:36 +0000"  >&lt;p&gt;consider for 10.10 backport&lt;/p&gt;</comment>
                            <comment id="13913645" author="mikem" created="Wed, 26 Feb 2014 22:43:09 +0000"  >&lt;p&gt;temp assign to myself while working on backport to 10.10.&lt;/p&gt;</comment>
                            <comment id="13915962" author="jira-bot" created="Fri, 28 Feb 2014 16:41:51 +0000"  >&lt;p&gt;Commit 1572994 from mikem@apache.org in branch &apos;code/branches/10.10&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1572994&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1572994&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6387&quot; title=&quot;Incorrect ordering of triggers in dblook&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6387&quot;&gt;&lt;del&gt;DERBY-6387&lt;/del&gt;&lt;/a&gt;: Incorrect ordering of triggers in dblook&lt;/p&gt;

&lt;p&gt;backported change #1551940.  backport required some manual merge as the&lt;br/&gt;
key query had changed in multiple ways on the trunk.  Fix was to just add&lt;br/&gt;
the &quot;order by&quot; by hand to the existing 10.10 query.&lt;/p&gt;

&lt;p&gt;Order the triggers by the CREATIONTIMESTAMP column so that dblook&lt;br/&gt;
produces a script that recreates the triggers in the same order as&lt;br/&gt;
they were originally created.&lt;/p&gt;</comment>
                            <comment id="13922781" author="mikem" created="Thu, 6 Mar 2014 17:26:15 +0000"  >&lt;p&gt;backported fix to 10.10.  I do not plan on working on this any more at the present time.  Could be backported further if someone was interested.  reassigning original owner.&lt;/p&gt;</comment>
                            <comment id="14284880" author="myrna" created="Wed, 21 Jan 2015 00:23:52 +0000"  >&lt;p&gt;bulk change to close all issues resolved but not closed and not changed since June 1, 2014.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12687925">DERBY-6450</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12695601">DERBY-6481</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12609644" name="create-triggers.sql" size="4894" author="knutanders" created="Tue, 22 Oct 2013 13:58:09 +0100"/>
                            <attachment id="12619115" name="d6387-1a.diff" size="19099" author="knutanders" created="Tue, 17 Dec 2013 15:10:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 18 Dec 2013 13:29:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>354642</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10424"><![CDATA[Repro attached]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzizgf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>354931</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>