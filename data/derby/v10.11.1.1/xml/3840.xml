<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:33:37 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-3840/DERBY-3840.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-3840] The test code executes java processes by just executing java instead of using a full path. This may cause the wrong java to be picked up.</title>
                <link>https://issues.apache.org/jira/browse/DERBY-3840</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;There are places in the code where we execute a java process. e.g.  BaseTestCase.assertExecJavaCmdAsExpected where we execcute a java process and just call &quot;java&quot;.  In windows at least the new shell created for the exec&apos;ed process does not share the parent process path but rather picks up the path from the Windows System variables.  This can cause the wrong java to be picked up.  Also the method does not work for j9 because it calls &quot;java&quot; instead of the actual executable name.  Perhaps we should have a method:&lt;/p&gt;


&lt;p&gt;    public static final String getJavaExecutableName() &lt;/p&gt;
{
	    String vmname = getSystemProperty(&quot;com.ibm.oti.vm.exe&quot;);
	    if (vmname == null)
	        vmname = getSystemProperty(&quot;java.home&quot;) + File.pathSeparator + &quot;java&quot;;
	    return vmname;
	}


&lt;p&gt;There are also issues with this in NetworkServerControlApiTest.  NetworkServerTestSetup and the replication tests and maybe others as well.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12402386">DERBY-3840</key>
            <summary>The test code executes java processes by just executing java instead of using a full path. This may cause the wrong java to be picked up.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kmarsden">Kathey Marsden</assignee>
                                    <reporter username="kmarsden">Kathey Marsden</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Aug 2008 16:31:33 +0100</created>
                <updated>Tue, 30 Jun 2009 17:06:49 +0100</updated>
                            <resolved>Wed, 10 Sep 2008 18:48:11 +0100</resolved>
                                    <version>10.5.1.1</version>
                                    <fixVersion>10.5.1.1</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12628472" author="kmarsden" created="Thu, 4 Sep 2008 22:42:20 +0100"  >&lt;p&gt;Attaching a patch for this issue.  Added utility method to BaseTestCase to get the executable name  and used that where java processes are spawned.&lt;/p&gt;</comment>
                            <comment id="12628497" author="kristwaa" created="Thu, 4 Sep 2008 23:35:17 +0100"  >&lt;p&gt;Changes look good to me.&lt;br/&gt;
Suggestions for improvement;&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;remove the line of blanks&lt;/li&gt;
	&lt;li&gt;fix indentation and add JavaDoc for the new method in BaseTestCase&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Out of curiosity, do you know if the &quot;com.ibm.oti.vm.exe&quot; property is read-only in the j9 VM?&lt;/p&gt;</comment>
                            <comment id="12628682" author="kmarsden" created="Fri, 5 Sep 2008 18:38:11 +0100"  >&lt;p&gt;Thanks for looking at the patch.&lt;/p&gt;

&lt;p&gt;Here is an updated patch with the javadoc.  It does not appear that the  com.ibm.oti.vm.exe property is read only. I can set it to something else on the command line and it will change.&lt;/p&gt;
</comment>
                            <comment id="12629154" author="kristwaa" created="Mon, 8 Sep 2008 14:23:48 +0100"  >&lt;p&gt;Thank you, Kathey.&lt;/p&gt;

&lt;p&gt;What I wanted to know about the method, is whether the path is included or not. Your example in the JavaDoc confirms this.&lt;br/&gt;
(Nit: Two of the lines have a different indentation than the rest of the JavaDoc).&lt;/p&gt;

&lt;p&gt;I just wondered about the system variable for security reasons. Since this is testing code, it doesn&apos;t matter I suppose.&lt;br/&gt;
I also checked with the Sun VM, and you&apos;re allowed to change it there as well. I don&apos;t think the VM will use these values internally, but it will report the values set.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12389543" name="DERBY-3840_diff.txt" size="10043" author="kmarsden" created="Thu, 4 Sep 2008 22:42:20 +0100"/>
                            <attachment id="12389571" name="DERBY-3840_diff2.txt" size="10153" author="kmarsden" created="Fri, 5 Sep 2008 18:38:11 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 4 Sep 2008 22:35:17 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23871</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10423"><![CDATA[Newcomer]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0ukv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38772</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>