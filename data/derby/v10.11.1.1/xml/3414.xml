<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:46:08 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-3414/DERBY-3414.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-3414] In Network server, rollback inside a java procedure does not close the resultsets created before the call to the java procedure.</title>
                <link>https://issues.apache.org/jira/browse/DERBY-3414</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Inside network server framework, if there is java procedure will rollback inside it, the rollback does not close the resultsets that were created before the call to java procedure was made. This happens in trunk, 10.3 and 10.2 codelines. I haven&apos;t tried earlier versions of Derby. In embedded mode, the resultsets (created before the call to java procedure) get closed when the rollback is done inside the java procedure.&lt;/p&gt;

&lt;p&gt;I will soon attach a standalone test case for this behavior.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12388563">DERBY-3414</key>
            <summary>In Network server, rollback inside a java procedure does not close the resultsets created before the call to the java procedure.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mamtas">Mamta A. Satoor</reporter>
                        <labels>
                            <label>derby_triage10_9</label>
                    </labels>
                <created>Wed, 13 Feb 2008 16:52:03 +0000</created>
                <updated>Thu, 10 Jan 2013 10:35:36 +0000</updated>
                                            <version>10.2.1.6</version>
                    <version>10.2.2.0</version>
                    <version>10.3.1.4</version>
                    <version>10.3.2.1</version>
                                                    <component>Network Server</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12568629" author="mamtas" created="Wed, 13 Feb 2008 17:03:22 +0000"  >&lt;p&gt;This test program in it&apos;s current state is coded to run in Network server mode and one can see from the output of the test run that resultsets are left open after the rollback&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Testing with jdbc:derby://localhost:1527/c:/dellater/db;create=true&lt;br/&gt;
rs1 still open???????&lt;br/&gt;
resultSet still open???????&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;When the code is changed so it is run in embedded mode, the output is as follows which shows the expected behavior of resultset closing because of the rollback inside the java procedure&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Testing with org.apache.derby.jdbc.EmbeddedDriver&lt;br/&gt;
closed as expected rs1&lt;br/&gt;
closed as expected resultSet&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12568816" author="mamtas" created="Thu, 14 Feb 2008 06:31:20 +0000"  >&lt;p&gt;Added a junit test case for this behavior. The test went into trunk(revision 627673) and 10.3 codeline(revision 627674).&lt;/p&gt;

&lt;p&gt;The test case runs in embedded mode to show the correct behavior for rollback inside a java procedure causing all the resultsets to close. The test case for now has been commented out for network server mode and it should be enabled when this jira entry is fixed.&lt;/p&gt;</comment>
                            <comment id="12730307" author="espinha" created="Mon, 13 Jul 2009 13:04:11 +0100"  >&lt;p&gt;Triaged for 10.5.2.&lt;/p&gt;

&lt;p&gt;Assigned normal urgency and checked Embedded/Client difference.&lt;/p&gt;</comment>
                            <comment id="13543614" author="dagw" created="Fri, 4 Jan 2013 05:33:15 +0000"  >&lt;p&gt;We should update LangProcedureTest when this issue is fixed; with the the client driver we skip a test case due to this issue.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12626909">DERBY-6038</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12375500" name="test_rollback_in_procedure.java" size="5752" author="mamtas" created="Wed, 13 Feb 2008 17:03:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10363"><![CDATA[Embedded/Client difference]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 13 Jul 2009 12:04:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23630</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0d6n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35954</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310050" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Urgency</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10052"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>