<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:30:28 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-5918/DERBY-5918.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-5918] CREATE TABLE AS SELECT doesn&apos;t work on tables with BOOLEAN columns</title>
                <link>https://issues.apache.org/jira/browse/DERBY-5918</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;You can&apos;t use CREATE TABLE AS SELECT from a table with a BOOLEAN column. This limitation was put in when CREATE TABLE AS SELECT was added. At that time you could not create user tables with BOOLEAN columns and we did not want people to be able to subvert that restriction by using CREATE TABLE AS SELECT from a system table with BOOLEAN columns. The following script shows this problem:&lt;/p&gt;

&lt;p&gt;connect &apos;jdbc:derby:memory:db;create=true&apos;;&lt;/p&gt;

&lt;p&gt;create table t1( a int );&lt;br/&gt;
create table t2( a boolean );&lt;/p&gt;

&lt;p&gt;create table t3 as select * from t1 with no data;&lt;br/&gt;
create table t4 as select * from t2 with no data;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12606447">DERBY-5918</key>
            <summary>CREATE TABLE AS SELECT doesn&apos;t work on tables with BOOLEAN columns</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rhillegas">Rick Hillegas</assignee>
                                    <reporter username="rhillegas">Rick Hillegas</reporter>
                        <labels>
                            <label>derby_triage10_10</label>
                    </labels>
                <created>Thu, 6 Sep 2012 18:41:44 +0100</created>
                <updated>Fri, 14 Jun 2013 18:12:27 +0100</updated>
                            <resolved>Wed, 17 Oct 2012 16:49:13 +0100</resolved>
                                    <version>10.10.1.1</version>
                                    <fixVersion>10.7.1.4</fixVersion>
                    <fixVersion>10.8.3.0</fixVersion>
                    <fixVersion>10.9.2.2</fixVersion>
                    <fixVersion>10.10.1.1</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13449944" author="dmyers" created="Thu, 6 Sep 2012 19:59:42 +0100"  >&lt;p&gt;By way of a work around if this is a required functionality for you use the following process. &lt;/p&gt;

&lt;p&gt;Connect to your DB.&lt;/p&gt;

&lt;p&gt;capture a result set of the source table, and examine the resultSetMetaData for each field one at a time.&lt;/p&gt;

&lt;p&gt;build a &amp;lt;Create Table &lt;span class=&quot;error&quot;&gt;&amp;#91;tableName&amp;#93;&lt;/span&gt;.... &amp;gt; by capturing your colum names and type data from the above metaData object.&lt;/p&gt;

&lt;p&gt;If anyone needs it I can post method code that does this... I just don&apos;t have it to hand right this instant.&lt;/p&gt;

&lt;p&gt;(only downside is it requires you to write a java class, to hold the connection info and an apropriate method).&lt;/p&gt;

&lt;p&gt;As I say I&apos;ll try to attach a couple of java files untill a &apos;proper&apos; fix is initiated&lt;/p&gt;</comment>
                            <comment id="13450465" author="dmyers" created="Fri, 7 Sep 2012 09:41:20 +0100"  >&lt;p&gt;I&apos;ve just noticed that you have set this for version 10.10&lt;/p&gt;

&lt;p&gt;I found this error in 10.9&lt;/p&gt;

&lt;p&gt;I also note that from Riks comment that the Boolean data type was added fairly recently, I don&apos;t know precisely when. Should this bug push an update through to the previously available versions that included the Boolean type?&lt;/p&gt;

&lt;p&gt;Edit: located the &apos;add boolean data type&apos; jira bug: &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4716&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/DERBY-4716&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It seems the boolean type was first added in 10.6.1&lt;/p&gt;

&lt;p&gt;David&lt;/p&gt;</comment>
                            <comment id="13450469" author="dmyers" created="Fri, 7 Sep 2012 09:49:42 +0100"  >&lt;p&gt;implementation of Boolean data type&lt;/p&gt;</comment>
                            <comment id="13450645" author="rhillegas" created="Fri, 7 Sep 2012 15:06:17 +0100"  >&lt;p&gt;Hi David,&lt;/p&gt;

&lt;p&gt;I agree that the fix for this bug could be backported all the way back to 10.7, the release which introduced the BOOLEAN datatype. Thanks.&lt;/p&gt;</comment>
                            <comment id="13477461" author="bryanpendleton" created="Wed, 17 Oct 2012 00:22:25 +0100"  >&lt;p&gt;I believe &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-5953&quot; title=&quot;CREATE TABLE ... AS SELECT fails with error ERROR 42X71: Invalid data type &amp;#39;BOOLEAN&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-5953&quot;&gt;&lt;del&gt;DERBY-5953&lt;/del&gt;&lt;/a&gt; is a duplicate.&lt;/p&gt;</comment>
                            <comment id="13477805" author="rhillegas" created="Wed, 17 Oct 2012 13:12:23 +0100"  >&lt;p&gt;Marking this as &quot;Seen in production&quot; because of derby-5953.&lt;/p&gt;</comment>
                            <comment id="13477829" author="rhillegas" created="Wed, 17 Oct 2012 13:48:55 +0100"  >&lt;p&gt;Attaching derby-5918-01-aa-removeHurdle.diff. This patch removes the false assertion by DataTypeDescriptor that users aren&apos;t allowed to create BOOLEAN columns. This fixes the bug. I am running regression tests now.&lt;/p&gt;


&lt;p&gt;Touches the following files:&lt;/p&gt;

&lt;p&gt;------------&lt;/p&gt;

&lt;p&gt;M       java/engine/org/apache/derby/iapi/types/DataTypeDescriptor.java&lt;/p&gt;

&lt;p&gt;Removes the disabling lie.&lt;/p&gt;

&lt;p&gt;------------&lt;/p&gt;

&lt;p&gt;M       java/testing/org/apache/derbyTesting/functionTests/tests/lang/BooleanValuesTest.java&lt;/p&gt;

&lt;p&gt;Adds a test case for this bug.&lt;/p&gt;</comment>
                            <comment id="13477953" author="rhillegas" created="Wed, 17 Oct 2012 16:26:32 +0100"  >&lt;p&gt;One test failed: CreateTableFromQueryTest. Attaching a second rev of the patch which fixes this test: derby-5918-01-ab-removeHurdle.diff. Committed at subversion revision 1399306.&lt;/p&gt;

&lt;p&gt;Touches the following additional file:&lt;/p&gt;

&lt;p&gt;M       java/testing/org/apache/derbyTesting/functionTests/tests/lang/CreateTableFromQueryTest.java&lt;/p&gt;</comment>
                            <comment id="13477970" author="rhillegas" created="Wed, 17 Oct 2012 16:49:13 +0100"  >&lt;p&gt;Ported 1399306 to the following branches:&lt;/p&gt;

&lt;p&gt;10.9 at subversion revision 1399310&lt;/p&gt;

&lt;p&gt;10.8 at subversion revision 1399312&lt;/p&gt;

&lt;p&gt;10.7 at subversion revision 1399313&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12612104">DERBY-5953</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12467937">DERBY-4716</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12549500" name="derby-5918-01-aa-removeHurdle.diff" size="2260" author="rhillegas" created="Wed, 17 Oct 2012 13:48:55 +0100"/>
                            <attachment id="12549519" name="derby-5918-01-ab-removeHurdle.diff" size="3043" author="rhillegas" created="Wed, 17 Oct 2012 16:26:32 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10421"><![CDATA[Seen in production]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 6 Sep 2012 18:59:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>245801</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10424"><![CDATA[Repro attached]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy09t3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35407</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310050" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Urgency</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10052"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>