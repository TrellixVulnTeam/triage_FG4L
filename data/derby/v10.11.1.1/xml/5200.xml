<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:39:24 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-5200/DERBY-5200.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-5200] [patch] embellish build.xml to automatically install junit.jar in the correct directory if it doesn&apos;t exist.</title>
                <link>https://issues.apache.org/jira/browse/DERBY-5200</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;if tools/java/junit.jar doesn&apos;t exist, automatically install it from the central maven repository (location overrideable in local.properties) when running junit.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12504755">DERBY-5200</key>
            <summary>[patch] embellish build.xml to automatically install junit.jar in the correct directory if it doesn&apos;t exist.</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.png">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dbrosius@apache.org">Dave Brosius</assignee>
                                    <reporter username="dbrosius@apache.org">Dave Brosius</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Apr 2011 06:21:01 +0100</created>
                <updated>Mon, 17 Jun 2013 10:19:41 +0100</updated>
                            <resolved>Fri, 13 May 2011 10:52:22 +0100</resolved>
                                    <version>10.7.1.1</version>
                                    <fixVersion>10.9.1.0</fixVersion>
                                    <component>Build tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13031591" author="knutanders" created="Wed, 11 May 2011 09:06:40 +0100"  >&lt;p&gt;Downloading junit.jar automatically when needed sounds like a useful improvement. If I understand the patch correctly, it will install junit.jar when running the junit-all target, which is the target that runs the tests. But before running the tests, one would have to build the tests, which also requires junit.jar. So it is very likely that junit.jar is already there when junit-all is invoked, otherwise the test couldn&apos;t have been built. Should perhaps the testing target (the target that builds the tests) also depend on install_junit?&lt;/p&gt;</comment>
                            <comment id="13031943" author="dbrosius@apache.org" created="Wed, 11 May 2011 19:49:34 +0100"  >&lt;p&gt;Good point, pretty silly by me, added new patch that does this work in &apos;init&apos;&lt;/p&gt;</comment>
                            <comment id="13031944" author="dbrosius@apache.org" created="Wed, 11 May 2011 19:49:53 +0100"  >&lt;p&gt;version 2&lt;/p&gt;</comment>
                            <comment id="13032126" author="dagw" created="Wed, 11 May 2011 23:19:58 +0100"  >&lt;p&gt;I cloned a fresh sandbox and tested this patch, and it did the right thing. +1 from me. &lt;/p&gt;

&lt;p&gt;Aside: I did need to set up proxy for my ant first, though (I was behind a firewall in this case). My Gnome desktop is configured correctly to handle proxies, so setting and exporting ANT_ARGS=&quot;-autoproxy&quot; in my shell worked for me. Cf. &lt;a href=&quot;http://ant.apache.org/manual/proxy.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ant.apache.org/manual/proxy.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13032361" author="knutanders" created="Thu, 12 May 2011 12:30:50 +0100"  >&lt;p&gt;Perhaps init is a bit too early? That target is also invoked if you build the product only, not just when you build the tests. If you have for example a packaging script that runs something like &quot;ant buildsource buildjars&quot;, this doesn&apos;t currently require junit.jar, but now it will start trying to download junit.jar automatically, and will fail if it&apos;s running in an environment without connectivity. I think it would be good to limit the downloading to the case where junit.jar is needed and doesn&apos;t already exist.&lt;/p&gt;</comment>
                            <comment id="13032396" author="dbrosius@apache.org" created="Thu, 12 May 2011 14:19:37 +0100"  >&lt;p&gt;if the download fails for some reason, log messages, but don&apos;t fail the built in case developer is in a disconnected state.&lt;/p&gt;</comment>
                            <comment id="13032932" author="knutanders" created="Fri, 13 May 2011 10:52:22 +0100"  >&lt;p&gt;Thanks, Dave!&lt;/p&gt;

&lt;p&gt;As a future improvement we may consider limiting the downloading to when we&apos;re building the tests, so that those who only care about building the product don&apos;t need to download it at all. But this looks like an improvement that&apos;s worth checking in as it is. Committed revision 1102636.&lt;/p&gt;</comment>
                            <comment id="13032938" author="knutanders" created="Fri, 13 May 2011 11:03:05 +0100"  >&lt;p&gt;The attached patch updates the build instructions with a note about JUnit now being downloaded automatically if it&apos;s missing. Committed revision 1102645.&lt;/p&gt;</comment>
                            <comment id="13034473" author="myrna" created="Tue, 17 May 2011 02:04:57 +0100"  >&lt;p&gt;I have a question regarding this fix.&lt;br/&gt;
I thought an alternative to having junit.jar in java/tools/junit.jar was if you have a property for junit in a properties file.&lt;br/&gt;
So I have a line like this in my local.properties:&lt;br/&gt;
    junit=/local1/junit/junit.jar&lt;br/&gt;
This way I keep out one more non-checked in file and I need only one junit.jar for a number of checked-out branches.&lt;/p&gt;

&lt;p&gt;Since the fix for this bug went in, the build downloads junit.jar, which I think is pointless in my set-up.&lt;/p&gt;

&lt;p&gt;Did I do something wrong in making use of this property? Or is it ok to change this so it will only download junit.jar if the junit property is not set?&lt;/p&gt;

</comment>
                            <comment id="13034496" author="dbrosius@apache.org" created="Tue, 17 May 2011 02:58:47 +0100"  >
&lt;p&gt;that seems reasonable.&lt;/p&gt;</comment>
                            <comment id="13034497" author="dbrosius@apache.org" created="Tue, 17 May 2011 02:58:49 +0100"  >&lt;p&gt;&amp;gt;&amp;gt;  Or is it ok to change this so it will only download junit.jar if the junit property is not set? &lt;/p&gt;

&lt;p&gt;that seems reasonable&lt;/p&gt;</comment>
                            <comment id="13035209" author="myrna" created="Wed, 18 May 2011 06:48:51 +0100"  >&lt;p&gt;Adding a patch that checks if junit is set; if it&apos;s set, but junit.jar is not there, the build will error out; if it&apos;s set and junit.jar is there, it will use that one; if junit is not set, it will get junit.jar and copy it into basedir/tools/java and use it from there.&lt;br/&gt;
Added a comment to BUILDING.html too.&lt;/p&gt;

&lt;p&gt;This worked for me, if there are no comments, I&apos;ll commit tomorrow. &lt;/p&gt;</comment>
                            <comment id="13035701" author="myrna" created="Wed, 18 May 2011 22:35:29 +0100"  >&lt;p&gt;I changed the BUILDING.html a little, so now there&apos;s more about the junit property under the customized build area, and the requirements section is unchanged. Committed to trunk with revision 1124438.&lt;/p&gt;</comment>
                            <comment id="13685326" author="knutanders" created="Mon, 17 Jun 2013 10:19:41 +0100"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;bulk update&amp;#93;&lt;/span&gt; Close all resolved issues that haven&apos;t been updated for more than one year.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12479552" name="DERBY_5200_2.diff" size="2346" author="myrna" created="Wed, 18 May 2011 06:48:51 +0100"/>
                            <attachment id="12478961" name="auto_download_junit.diff" size="1473" author="dbrosius@apache.org" created="Thu, 12 May 2011 14:19:36 +0100"/>
                            <attachment id="12478858" name="auto_download_junit.diff" size="1453" author="dbrosius@apache.org" created="Wed, 11 May 2011 19:49:53 +0100"/>
                            <attachment id="12476833" name="auto_download_junit.diff" size="1480" author="dbrosius@apache.org" created="Wed, 20 Apr 2011 06:22:58 +0100"/>
                            <attachment id="12479075" name="update_instructions.diff" size="639" author="knutanders" created="Fri, 13 May 2011 11:03:05 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 11 May 2011 08:06:40 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31542</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0g9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36453</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>