<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:23:32 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-3496/DERBY-3496.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-3496] CallableStatement with output parameter leaves cursor open after execution</title>
                <link>https://issues.apache.org/jira/browse/DERBY-3496</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;When executing a CallableStatement which has an output parameter, the language result set is left open and makes subsequent calls to Connection.setTransactionIsolation() fail with &quot;ERROR X0X03: Invalid transaction state - held cursor requires same isolation level&quot;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12390245">DERBY-3496</key>
            <summary>CallableStatement with output parameter leaves cursor open after execution</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dyret">Dyre Tjeldvoll</assignee>
                                    <reporter username="knutanders">Knut Anders Hatlen</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Mar 2008 12:17:24 +0000</created>
                <updated>Tue, 27 May 2008 17:17:11 +0100</updated>
                            <resolved>Tue, 25 Mar 2008 13:38:25 +0000</resolved>
                                    <version>10.4.1.3</version>
                                    <fixVersion>10.3.3.0</fixVersion>
                    <fixVersion>10.4.1.3</fixVersion>
                                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12575320" author="knutanders" created="Wed, 5 Mar 2008 12:21:56 +0000"  >&lt;p&gt;The attached patch (junit-repro.diff) adds a test case to jdbcapi/CallableTest which fails in both embedded and client/server mode.&lt;/p&gt;

&lt;p&gt;$ java junit.textui.TestRunner org.apache.derbyTesting.functionTests.tests.jdbcapi.CallableTest&lt;br/&gt;
....E.............E.........&lt;br/&gt;
Time: 6.071&lt;br/&gt;
There were 2 errors:&lt;br/&gt;
1) testIsolationLevelChangeAfterFunctionCall(org.apache.derbyTesting.functionTests.tests.jdbcapi.CallableTest)java.sql.SQLException: Invalid transaction state - held cursor requires same isolation level&lt;br/&gt;
....&lt;br/&gt;
2) testIsolationLevelChangeAfterFunctionCall(org.apache.derbyTesting.functionTests.tests.jdbcapi.CallableTest)java.sql.SQLException: Invalid transaction state - held cursor requires same isolation level&lt;br/&gt;
....&lt;/p&gt;</comment>
                            <comment id="12575323" author="knutanders" created="Wed, 5 Mar 2008 12:25:47 +0000"  >&lt;p&gt;If the CallableStatement is closed before the isolation level is changed, it works in embedded mode, but it still fails the same way in client/server mode.&lt;/p&gt;</comment>
                            <comment id="12576136" author="dyret" created="Fri, 7 Mar 2008 11:00:52 +0000"  >&lt;p&gt;Adding 10.3.2.2 and 10.4.0.0 as fix versions as it looks like a candidate for merging to 10.3&lt;/p&gt;</comment>
                            <comment id="12580779" author="dyret" created="Thu, 20 Mar 2008 14:36:55 +0000"  >&lt;p&gt;Attaching derby-3496.diff which incorporates the new test case attached earlier.&lt;/p&gt;</comment>
                            <comment id="12581023" author="knutanders" created="Fri, 21 Mar 2008 07:53:30 +0000"  >&lt;p&gt;The fix looks correct to me, but the new line in EmbedCallableStatement is not indented correctly (probably due to incorrect tab size setting in your IDE).&lt;/p&gt;</comment>
                            <comment id="12581894" author="dyret" created="Tue, 25 Mar 2008 12:40:26 +0000"  >&lt;p&gt;Committed revision 640787.&lt;/p&gt;

&lt;p&gt;I did fix the indentation problem before committing. The &quot;IDE&quot; in question is &apos;vi&apos;. :set hardtabs=4 (perhaps followed by :set autoindent) appears to be the magic words.&lt;/p&gt;</comment>
                            <comment id="12581896" author="dyret" created="Tue, 25 Mar 2008 12:42:34 +0000"  >&lt;p&gt;Need to merge it to release branch&lt;/p&gt;</comment>
                            <comment id="12581934" author="dyret" created="Tue, 25 Mar 2008 13:28:12 +0000"  >&lt;p&gt;Merged to 10.4 in revision 640801.&lt;/p&gt;</comment>
                            <comment id="12581940" author="dyret" created="Tue, 25 Mar 2008 13:38:16 +0000"  >&lt;p&gt;Merged to 10.3 with revision 640808.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12388885">DERBY-3427</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12378316" name="derby-3496.diff" size="1475" author="dyret" created="Thu, 20 Mar 2008 14:36:55 +0000"/>
                            <attachment id="12377162" name="junit-repro.diff" size="973" author="knutanders" created="Wed, 5 Mar 2008 12:21:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 7 Mar 2008 11:00:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23670</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0yun:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39464</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>