<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:07:44 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-4735/DERBY-4735.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-4735] prepare of an XA read only transaction with a declared global temporary table gets and ASSERT in SANE mode.</title>
                <link>https://issues.apache.org/jira/browse/DERBY-4735</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;An ASSERT while attempting to do a prepare on a readonly XA transaction that has done&lt;br/&gt;
work with an a declare global temporary table.&lt;/p&gt;

&lt;p&gt; java ReproXATempTableAssert&lt;br/&gt;
ot 1rows from session.t1 before commit&lt;br/&gt;
Exception in thread &quot;main&quot; org.apache.derby.shared.common.sanity.AssertFailure:&lt;br/&gt;
ASSERT FAILED real connection should have been idle at this point&lt;br/&gt;
       at org.apache.derby.shared.common.sanity.SanityManager.ASSERT(SanityMana&lt;br/&gt;
er.java:120)&lt;br/&gt;
       at org.apache.derby.jdbc.EmbedXAResource.prepare(EmbedXAResource.java:29&lt;br/&gt;
)&lt;br/&gt;
       at ReproXATempTableAssert.tempTableInXA(ReproXATEmpTableAssert.java:54)&lt;br/&gt;
       at ReproXATempTableAssert.main(ReproXATEmpTableAssert.java:14)&lt;br/&gt;
--------------&lt;br/&gt;
tack traces for all live threads:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;snip thread dump&amp;#93;&lt;/span&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12468681">DERBY-4735</key>
            <summary>prepare of an XA read only transaction with a declared global temporary table gets and ASSERT in SANE mode.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mikem">Mike Matrigali</reporter>
                        <labels>
                            <label>derby_triage10_8</label>
                    </labels>
                <created>Wed, 7 Jul 2010 01:22:17 +0100</created>
                <updated>Wed, 16 Feb 2011 14:39:27 +0000</updated>
                                            <version>10.7.1.1</version>
                                                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12885751" author="mikem" created="Wed, 7 Jul 2010 01:23:20 +0100"  >&lt;p&gt;standalone test case is attached.&lt;/p&gt;</comment>
                            <comment id="12885752" author="mikem" created="Wed, 7 Jul 2010 01:24:36 +0100"  >&lt;p&gt;Kathey Marden  checked in fixtures for the RawStore error and  the Assert case to XATest. The fixtures are xtestXATempTableD4731_RawStore() and xtestXATempTableD4731_Assert and can be enabled by removing the &apos;x&apos; in front. &lt;/p&gt;</comment>
                            <comment id="12885753" author="mikem" created="Wed, 7 Jul 2010 01:26:20 +0100"  >&lt;p&gt;I ran the junit tests in sane=false mode and the prepare gets XA_RDONLY which I think is what is expected, I think the test is wrong and should be looking for that return.  Still does not explain the ASSERT in sane mode.&lt;/p&gt;</comment>
                            <comment id="12888157" author="mikem" created="Wed, 14 Jul 2010 03:39:48 +0100"  >&lt;p&gt;This issue may be related to &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4731&quot; title=&quot;XA two phase commit with active  GLOBAL TEMPORARY TABLE causes  An internal error identified by RawStore module&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4731&quot;&gt;&lt;del&gt;DERBY-4731&lt;/del&gt;&lt;/a&gt;.  The test case is almost the same.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12468454">DERBY-4731</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12448837" name="ReproXATempTableAssert.java" size="6374" author="mikem" created="Wed, 7 Jul 2010 01:23:20 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>24434</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10424"><![CDATA[Repro attached]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0i5j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36759</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310050" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Urgency</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10053"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>