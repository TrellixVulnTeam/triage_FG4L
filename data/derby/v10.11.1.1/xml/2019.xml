<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:46:14 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-2019/DERBY-2019.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-2019] IJ&apos;s describe command does not handle quotes very well</title>
                <link>https://issues.apache.org/jira/browse/DERBY-2019</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;In IJ, the describe &amp;lt;table | view&amp;gt; command does not handle quotes very well. Current behavior is:&lt;/p&gt;

&lt;p&gt;a) Double quotes:&lt;/p&gt;

&lt;p&gt;IJ does not recognize describe command when encountering double quotes.&lt;/p&gt;

&lt;p&gt;    ij&amp;gt; create table &quot;CamelCaseTable&quot; (col1_in_cct int);&lt;br/&gt;
    0 rows inserted/updated/deleted&lt;br/&gt;
    ij&amp;gt; describe &quot;CamelCaseTable&quot;;&lt;br/&gt;
    ERROR 42X01: Syntax error: Encountered &quot;describe&quot; at line 1, column 1.&lt;/p&gt;

&lt;p&gt;I&apos;m assuming that it should be possible to execute the describe command on case-sensitive table names.&lt;/p&gt;

&lt;p&gt;b) Single quotes:&lt;/p&gt;

&lt;p&gt;IJ describes all tables in current schema when encountering two single quotes after the describe command.&lt;/p&gt;

&lt;p&gt;    ij&amp;gt; create table table1 (col1_table1 int);&lt;br/&gt;
    0 rows inserted/updated/deleted&lt;br/&gt;
    ij&amp;gt; create table table2 (col1_table2 int);&lt;br/&gt;
    0 rows inserted/updated/deleted&lt;br/&gt;
    ij&amp;gt; describe &apos;&apos;;&lt;br/&gt;
    COLUMN_NAME         |TYPE_NAME|DEC&amp;amp;|NUM&amp;amp;|COLUM&amp;amp;|COLUMN_DEF|CHAR_OCTE&amp;amp;|IS_NULL&amp;amp;&lt;br/&gt;
    ------------------------------------------------------------------------------&lt;br/&gt;
    COL1_TABLE1         |INTEGER  |0   |10  |10    |NULL      |NULL      |YES&lt;br/&gt;
    COL1_TABLE2         |INTEGER  |0   |10  |10    |NULL      |NULL      |YES&lt;/p&gt;

&lt;p&gt;    2 rows selected&lt;/p&gt;

&lt;p&gt;In case b), it does not make a difference whether the single quotes actually surround a valid table name, some garbage, or nothing at all.&lt;/p&gt;

&lt;p&gt;I must admit that b) seems like a useful feature, listing all columns in all tables in a schema, but it&apos;s usage is not very intuitive, nor is it documented, so this may be a bug.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12354294">DERBY-2019</key>
            <summary>IJ&apos;s describe command does not handle quotes very well</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bryanpendleton">Bryan Pendleton</assignee>
                                    <reporter username="johnemb">John H. Embretsen</reporter>
                        <labels>
                    </labels>
                <created>Mon, 30 Oct 2006 14:09:21 +0000</created>
                <updated>Wed, 9 May 2007 12:08:22 +0100</updated>
                            <resolved>Tue, 8 May 2007 16:45:40 +0100</resolved>
                                    <version>10.2.1.6</version>
                    <version>10.3.1.4</version>
                                    <fixVersion>10.3.1.4</fixVersion>
                                    <component>Tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12493882" author="bryanpendleton" created="Sat, 5 May 2007 16:21:30 +0100"  >&lt;p&gt;Attached is &apos;describe_enhancement.diff&apos;, a patch proposal.&lt;/p&gt;

&lt;p&gt;I think it improves the behavior of the &apos;describe&apos; command in the areas that John noted.&lt;/p&gt;

&lt;p&gt;IJ&apos;s describe command already accepted a string for the table name,&lt;br/&gt;
although it expected single quotes, not double quotes. IJ seems to&lt;br/&gt;
prefer to use single quotes for its commands, as double quotes are&lt;br/&gt;
passed through to the underlying driver.&lt;/p&gt;

&lt;p&gt;But there were several bugs with the handling of the table name in single quotes:&lt;br/&gt;
1) The table name was unnecessarily forced to upper case.&lt;br/&gt;
2) The command only worked properly if you gave both schema and table name.&lt;br/&gt;
3) It had a rather bizarre behavior with an empty string, as John observed.&lt;/p&gt;

&lt;p&gt;So my patch proposal fixes those bugs, addresses the empty string&lt;br/&gt;
case by treating it as an error, adds a simple &apos;*&apos; feature as a wildcard, and&lt;br/&gt;
adds some new tests.&lt;/p&gt;

&lt;p&gt;With the patch, &lt;br/&gt;
   describe &apos;CamelCaseTable&apos;;&lt;br/&gt;
can be used to describe a table with a mixed-case name.&lt;/p&gt;

&lt;p&gt;I&apos;ll make a separate proposal to add all this information to the docs at:&lt;br/&gt;
&lt;a href=&quot;http://db.apache.org/derby/docs/dev/tools/rtoolsijcomrefdescribe.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://db.apache.org/derby/docs/dev/tools/rtoolsijcomrefdescribe.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Please have a look at the patch and let me know what you think.&lt;/p&gt;</comment>
                            <comment id="12493889" author="bryanpendleton" created="Sat, 5 May 2007 19:25:13 +0100"  >&lt;p&gt;Attached is docs.diff, with a patch proposal to the&lt;br/&gt;
describe page in the tools guide, and the HTML-formatted&lt;br/&gt;
version of that page for easier review. Please let me know&lt;br/&gt;
what you think of the code and docs change proposals.&lt;/p&gt;</comment>
                            <comment id="12493990" author="johnemb" created="Mon, 7 May 2007 09:19:43 +0100"  >&lt;p&gt;Thank you very much for the patch and documentation work, Bryan! I tried the patch, and it resolves all the odd cases reported in this Jira issue. I have not run any other tests with the patch, but I noticed that a number of both positive and negative test statements for the describe command were added to the tools/ij7.sql test script. Nicely done!&lt;/p&gt;

&lt;p&gt;Also, now that the documentation will be improved, I can certainly accept the potentially slightly confusing error messages for&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;describe without a valid argument, e.g.&lt;br/&gt;
     ij&amp;gt; describe *;&lt;br/&gt;
     ERROR 42X01: Syntax error: Encountered &quot;describe&quot; at line 1, column 1.&lt;/li&gt;
	&lt;li&gt;using the wildcard &apos;*&apos; in a schema with no tables/views&lt;br/&gt;
     ij&amp;gt; describe &apos;*&apos;;&lt;br/&gt;
     IJ ERROR: No table exists with the name null&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I&apos;d say go ahead and commit these changes, unless there are further comments.&lt;/p&gt;</comment>
                            <comment id="12494311" author="bryanpendleton" created="Tue, 8 May 2007 16:45:40 +0100"  >&lt;p&gt;Hi John, thank you very much for the review and feedback!&lt;/p&gt;

&lt;p&gt;Committed the code change to the trunk as revision 536227,&lt;br/&gt;
and committed the docs change to the docs trunk as 536228.&lt;/p&gt;</comment>
                            <comment id="12494476" author="johnemb" created="Wed, 9 May 2007 12:08:22 +0100"  >&lt;p&gt;Verified both the code and the doc changes.&lt;br/&gt;
Thanks Bryan!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12360059">DERBY-2222</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12356822" name="describe_enhancement.diff" size="6931" author="bryanpendleton" created="Sat, 5 May 2007 16:21:29 +0100"/>
                            <attachment id="12356825" name="docs.diff" size="2213" author="bryanpendleton" created="Sat, 5 May 2007 19:25:13 +0100"/>
                            <attachment id="12356824" name="rtoolsijcomrefdescribe.html" size="10811" author="bryanpendleton" created="Sat, 5 May 2007 19:25:13 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 5 May 2007 15:21:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>655</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy12gf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40048</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310050" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Urgency</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10052"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>