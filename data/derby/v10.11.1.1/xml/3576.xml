<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:50:04 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-3576/DERBY-3576.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-3576] Merge EngineBlob and EngineClob into a single interface</title>
                <link>https://issues.apache.org/jira/browse/DERBY-3576</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;There are currently two identical interfaces called EngineBlob and EngineClob.&lt;br/&gt;
Merging these into a single interface would simplify some of the code handling Blob and Clob in the network server, and it also allows a leaner implementation of a stored procedure freeing LOB locators without knowing if the locator represents a Blob or a Clob.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12392529">DERBY-3576</key>
            <summary>Merge EngineBlob and EngineClob into a single interface</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12392528">DERBY-3575</parent>
                                    <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kristwaa">Kristian Waagan</assignee>
                                    <reporter username="kristwaa">Kristian Waagan</reporter>
                        <labels>
                    </labels>
                <created>Fri, 28 Mar 2008 07:59:08 +0000</created>
                <updated>Mon, 4 May 2009 19:22:41 +0100</updated>
                            <resolved>Sun, 30 Mar 2008 12:15:08 +0100</resolved>
                                    <version>10.4.1.3</version>
                    <version>10.5.1.1</version>
                                    <fixVersion>10.3.3.0</fixVersion>
                    <fixVersion>10.4.1.3</fixVersion>
                    <fixVersion>10.5.1.1</fixVersion>
                                    <component>Network Server</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12582938" author="kristwaa" created="Fri, 28 Mar 2008 08:16:45 +0000"  >&lt;p&gt;&apos;derby-3576-1a-enginelob_interface.diff&apos; merges the two interfaces into one, and updates all references and usages.&lt;/p&gt;

&lt;p&gt;I&apos;m running the regression tests and hope to get this patch in today.&lt;br/&gt;
Patch ready for review.&lt;/p&gt;</comment>
                            <comment id="12582950" author="kristwaa" created="Fri, 28 Mar 2008 09:29:23 +0000"  >&lt;p&gt;suites.All ran without related failures on 10.4:&lt;br/&gt;
Tests run: 10340,  Failures: 1,  Errors: 0&lt;/p&gt;

&lt;p&gt;The failed test was the ManagementMBeanTest.testStartStopManagementFromApplication test.&lt;/p&gt;</comment>
                            <comment id="12583085" author="knutanders" created="Fri, 28 Mar 2008 16:28:32 +0000"  >&lt;p&gt;I had a quick look at the patch and I think it reduces the complexity of the code, so it gets a +1 from me.&lt;/p&gt;</comment>
                            <comment id="12583339" author="bryanpendleton" created="Sat, 29 Mar 2008 16:34:26 +0000"  >&lt;p&gt;I have no objections to the patch as proposed, but am wondering: would there&lt;br/&gt;
be any benefit to handling this differently, by introducing a &quot;EngineLargeObject&quot;&lt;br/&gt;
interface from which both EngineBlob and EngineClob extend, and moving all&lt;br/&gt;
of the current content of both EngineBlob and EngineClob into EngineLargeObject?&lt;/p&gt;

&lt;p&gt;That way, code such as you mention, which doesn&apos;t need to know the difference&lt;br/&gt;
between the two, could be simplified by just using EngineLargeObject, but&lt;br/&gt;
code (perhaps in the future) which needed to handle Clob differently than Blob&lt;br/&gt;
could still use one of the sub-interfaces.&lt;/p&gt;

&lt;p&gt;Just thought I&apos;d raise the possibility; as I said before I have no objections to the&lt;br/&gt;
proposal as stated.&lt;/p&gt;</comment>
                            <comment id="12583433" author="kristwaa" created="Sun, 30 Mar 2008 11:57:08 +0100"  >&lt;p&gt;&apos;derby-3576-1b-enginelob_interface.diff&apos; is the same as 1a, except a comment is added to the EngineLOB class JavaDoc.&lt;/p&gt;

&lt;p&gt;Bryan, what you describe is what I had in mind as well.&lt;br/&gt;
Unless I have misunderstood you, the difference between my current patch and your suggestion is that my patch removes the two unused interfaces whereas you&apos;re considering to keep them.&lt;/p&gt;

&lt;p&gt;My thought was that since the two interfaces will be empty and there is no other code needing them, it was better to get rid of them. Introducing them later will take very little effort, and we also get the possibility of a discussion on whether they are required or not.&lt;br/&gt;
My main motivation behind the change in the first place, was that separating between Blob and Clob is not currently required and it complicates other work on the client.&lt;/p&gt;

&lt;p&gt;For the record, large object handling through the interfaces discussed is very limited. They were introduced to support locators.&lt;/p&gt;

&lt;p&gt;Normally I would wait for your reply on this one, but because the release candidate is getting very close and you say you have no objections to the current patch, I push forward and commit it.&lt;br/&gt;
Thank you for your comment!&lt;/p&gt;</comment>
                            <comment id="12583435" author="kristwaa" created="Sun, 30 Mar 2008 12:15:08 +0100"  >&lt;p&gt;Committed &apos;derby-3576-1b-enginelob_interface.diff &apos; to trunk with revision 642707 and merged it to the 10.4 branch with revision 642711.&lt;br/&gt;
Unless the ongoing discussion brings out the need for more changes, I don&apos;t expect more patches to go in for this issue.&lt;/p&gt;</comment>
                            <comment id="12583450" author="bryanpendleton" created="Sun, 30 Mar 2008 14:54:11 +0100"  >&lt;p&gt;&amp;gt; better to get rid of them. Introducing them later will take very little effort, &lt;br/&gt;
&amp;gt; and we also get the possibility of a discussion on whether they are required or not.&lt;/p&gt;

&lt;p&gt;I agree. I looked more closely at derby-3576-1b-enginelob_interface.diff  and it&lt;br/&gt;
looks excellent. I see no reason to have the empty interfaces until we are ready&lt;br/&gt;
to use them.&lt;/p&gt;

&lt;p&gt;Thanks for the follow-up, Kristian.&lt;/p&gt;</comment>
                            <comment id="12584009" author="mamtas" created="Tue, 1 Apr 2008 06:23:38 +0100"  >&lt;p&gt;Kristian, one minor thing I noticed is javadoc gives following error on our internal IBM machines. Could it be because javadoc does not know where to find the class EmbedConnection? It seems strange but do we need to have an import of this class in order for javadoc to find the link to it?&lt;br/&gt;
Docs:&lt;br/&gt;
  Failed with following errors. Check details in docs.txt&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;javadoc&amp;#93;&lt;/span&gt; C:\nightlies\main\src\opensource\java\engine\org\apache\derby\iapi\jdbc\EngineLOB.java:46: warning - Tag @link: reference not found: EmbedConnection#getLobMapping&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;javadoc&amp;#93;&lt;/span&gt; C:\nightlies\main\src\opensource\java\engine\org\apache\derby\iapi\jdbc\EngineLOB.java:46: warning - Tag @link: reference not found: EmbedConnection#getLobMapping&lt;br/&gt;
	  &lt;span class=&quot;error&quot;&gt;&amp;#91;javadoc&amp;#93;&lt;/span&gt; 2 warnings&lt;/p&gt;</comment>
                            <comment id="12584069" author="kristwaa" created="Tue, 1 Apr 2008 10:07:13 +0100"  >&lt;p&gt;Thanks for informing me about the problem Mamta.&lt;/p&gt;

&lt;p&gt;I have fixed it with revision 643326 and 643328 (10.4), and you are correct the we either need an import or use a fully qualified reference to the class. I chose the latter, since we don&apos;t use EmbedConnection in the method signatures.&lt;/p&gt;

&lt;p&gt;Closing the issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12378776" name="derby-3576-1a-enginelob_interface.diff" size="8985" author="kristwaa" created="Fri, 28 Mar 2008 08:16:45 +0000"/>
                            <attachment id="12378777" name="derby-3576-1a-enginelob_interface.stat" size="508" author="kristwaa" created="Fri, 28 Mar 2008 08:16:45 +0000"/>
                            <attachment id="12378891" name="derby-3576-1b-enginelob_interface.diff" size="9229" author="kristwaa" created="Sun, 30 Mar 2008 11:57:08 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 28 Mar 2008 16:28:32 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30909</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0xfz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39236</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>