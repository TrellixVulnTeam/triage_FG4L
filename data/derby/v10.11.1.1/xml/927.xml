<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:33:20 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-927/DERBY-927.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-927] Cleanup code in the monitor to clarify the relationship between StorageFactory and PersistentService</title>
                <link>https://issues.apache.org/jira/browse/DERBY-927</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;The addition of the StorageFactory code into the BaseMonitor code muddied the water with respect to what is a service and what is a storage factory.&lt;br/&gt;
Cleanup the code and add comments and/or a package.html to describe what is going on.&lt;br/&gt;
Look at loading the storage factories through the modules.properties rather than the hard-coded list and thus gain the benefit of the standard module environment&lt;br/&gt;
checking (jvm level and dependent classes) and ensure classes are loaded from modules.properties consistently.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12328628">DERBY-927</key>
            <summary>Cleanup code in the monitor to clarify the relationship between StorageFactory and PersistentService</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="djd">Daniel John Debrunner</reporter>
                        <labels>
                    </labels>
                <created>Tue, 7 Feb 2006 05:56:30 +0000</created>
                <updated>Thu, 7 May 2009 20:23:51 +0100</updated>
                                                                            <component>Services</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12435888" author="rhillegas" created="Tue, 19 Sep 2006 16:31:22 +0100"  >&lt;p&gt;Moving to 10.2.2.0.&lt;/p&gt;</comment>
                            <comment id="12456148" author="djd" created="Wed, 6 Dec 2006 18:05:11 +0000"  >&lt;p&gt;Not planning on fixing this for 10.2.2&lt;/p&gt;</comment>
                            <comment id="12502680" author="myrna" created="Fri, 8 Jun 2007 06:53:53 +0100"  >&lt;p&gt;This issue has not seen any activity since December. Is progress still being made? Does it need to have the fixin for 10.3?&lt;/p&gt;</comment>
                            <comment id="12510528" author="myrna" created="Fri, 6 Jul 2007 00:53:23 +0100"  >&lt;p&gt;It doesn&apos;t look like this is going to make it for 10.3.&lt;/p&gt;</comment>
                            <comment id="12534258" author="chatom" created="Fri, 12 Oct 2007 10:50:43 +0100"  >&lt;p&gt;Folks, I have a question that is related to this area.  I was examining the code in StorageFactoryService.removeServiceRoot() and saw an assert-statement expecting (serviceName) and storageFactory.getCanonicalName() to be equal.&lt;/p&gt;

&lt;p&gt;It is not clear to me why the two strings must be equal.  The (storageFactory) variable comes from StorageFactoryService.privGetStorageFactoryInstance().  Inside that function, the (subSubProtocol) portion of the (serviceName/databaseName) is chopped off before the (storageFactory) is initialized with the parameters.&lt;/p&gt;

&lt;p&gt;So if (serviceName) contains a subSubProtocol prefix, then it is possible for the assert-statement to fail, no?&lt;/p&gt;</comment>
                            <comment id="12547732" author="mzaun" created="Mon, 3 Dec 2007 05:53:08 +0000"  >&lt;p&gt;A particular line of code&lt;br/&gt;
  java/engine/org/apache/derby/impl/services/monitor/BaseMonitor.java:1086&lt;br/&gt;
very much looks like a copy&amp;amp;paste bug to me:&lt;br/&gt;
    private Vector getImplementations(Properties moduleList, boolean actualModuleList) {&lt;br/&gt;
            ...&lt;br/&gt;
            if (key.startsWith(Property.MODULE_PREFIX)) &lt;/p&gt;
{
                tag = key.substring(Property.MODULE_PREFIX.length());
            }
&lt;p&gt; else if (key.startsWith(Property.SUB_SUB_PROTOCOL_PREFIX)) &lt;/p&gt;
{
                tag = key.substring(Property.MODULE_PREFIX.length());
                                             ^^^^^^^^^^^^^
I guess MODULE_PREFIX was meant to be replaced with SUB_SUB_PROTOCOL_PREFIX. 
            }
&lt;p&gt; ...&lt;/p&gt;</comment>
                            <comment id="12707054" author="kmarsden" created="Thu, 7 May 2009 20:23:51 +0100"  >&lt;p&gt;Unnassigning due to inactivity. Please reassign yourself if you would like to work on this issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 19 Sep 2006 15:31:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>29782</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0x1r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39172</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310050" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Urgency</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10053"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>