<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:19:01 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-5679/DERBY-5679.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-5679] Rolling back a transaction leads to an inconsistent state</title>
                <link>https://issues.apache.org/jira/browse/DERBY-5679</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Rolling back a transaction can leave a table in an inconsistent state if the table has been previously altered through the addition of new columns. It appears that if newly added columns have not been changed from their default value, then when a transaction which sets new values for these columns is rolled back the new columns are not restored to their previous values.&lt;/p&gt;

&lt;p&gt;Attached is an ij script with fairly minimal steps to reproduce the problem on Derby 10.6.2.0 and 10.8.2.2 (Win7 x64, Sun 32-bit JRE 1.6.0.26). Expected and observed output also attached.&lt;/p&gt;

&lt;p&gt;Would appreciate any suggestions as to a workaround for this issue. Running SYSCS_UTIL.SYSCS_COMPRESS_TABLE on the table after adding the columns seems to avoid the problem but may be just masking the issue.&lt;/p&gt;</description>
                <environment>&amp;gt;sysinfo&lt;br/&gt;
------------------ Java Information ------------------&lt;br/&gt;
Java Version:    1.6.0_26&lt;br/&gt;
Java Vendor:     Sun Microsystems Inc.&lt;br/&gt;
Java home:       C:\Program Files (x86)\Java\jre6&lt;br/&gt;
Java classpath:  .;C:\Program Files (x86)\Java\jre7\lib\ext\QTJava.zip;C:\Users\BMASON\Sandbox\libs\db-derby-10.8.2.2-bin\bin\../lib/derby.jar;C:\Users\BMASON\Sandbox\libs\db-derby-10.8.2.2-bin\bin\../lib/derbynet.jar;C:\Users\BMASON\Sandbox\libs\db-derby-10.8.2.2-bin\bin\../lib/derbyclient.jar;C:\Users\BMASON\Sandbox\libs\db-derby-10.8.2.2-bin\bin\../lib/derbytools.jar&lt;br/&gt;
OS name:         Windows 7&lt;br/&gt;
OS architecture: x86&lt;br/&gt;
OS version:      6.1&lt;br/&gt;
Java user name:  bmason&lt;br/&gt;
Java user home:  C:\Users\BMASON&lt;br/&gt;
Java user dir:   C:\Users\BMASON\Sandbox\libs\db-derby-10.8.2.2-bin\bin&lt;br/&gt;
java.specification.name: Java Platform API Specification&lt;br/&gt;
java.specification.version: 1.6&lt;br/&gt;
java.runtime.version: 1.6.0_26-b03&lt;br/&gt;
--------- Derby Information --------&lt;br/&gt;
JRE - JDBC: Java SE 6 - JDBC 4.0&lt;br/&gt;
[C:\Users\BMASON\Sandbox\libs\db-derby-10.8.2.2-bin\lib\derby.jar] 10.8.2.2 - (1181258)&lt;br/&gt;
[C:\Users\BMASON\Sandbox\libs\db-derby-10.8.2.2-bin\lib\derbytools.jar] 10.8.2.2 - (1181258)&lt;br/&gt;
[C:\Users\BMASON\Sandbox\libs\db-derby-10.8.2.2-bin\lib\derbynet.jar] 10.8.2.2 - (1181258)&lt;br/&gt;
[C:\Users\BMASON\Sandbox\libs\db-derby-10.8.2.2-bin\lib\derbyclient.jar] 10.8.2.2 - (1181258)&lt;br/&gt;
------------------------------------------------------&lt;br/&gt;
----------------- Locale Information -----------------&lt;br/&gt;
Current Locale :  [English/New Zealand [en_NZ]]&lt;br/&gt;
Found support for locale: [cs]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;version: 10.8.2.2 - (1181258)&lt;br/&gt;
Found support for locale: [de_DE]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;version: 10.8.2.2 - (1181258)&lt;br/&gt;
Found support for locale: [es]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;version: 10.8.2.2 - (1181258)&lt;br/&gt;
Found support for locale: [fr]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;version: 10.8.2.2 - (1181258)&lt;br/&gt;
Found support for locale: [hu]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;version: 10.8.2.2 - (1181258)&lt;br/&gt;
Found support for locale: [it]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;version: 10.8.2.2 - (1181258)&lt;br/&gt;
Found support for locale: [ja_JP]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;version: 10.8.2.2 - (1181258)&lt;br/&gt;
Found support for locale: [ko_KR]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;version: 10.8.2.2 - (1181258)&lt;br/&gt;
Found support for locale: [pl]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;version: 10.8.2.2 - (1181258)&lt;br/&gt;
Found support for locale: [pt_BR]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;version: 10.8.2.2 - (1181258)&lt;br/&gt;
Found support for locale: [ru]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;version: 10.8.2.2 - (1181258)&lt;br/&gt;
Found support for locale: [zh_CN]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;version: 10.8.2.2 - (1181258)&lt;br/&gt;
Found support for locale: [zh_TW]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;version: 10.8.2.2 - (1181258)&lt;br/&gt;
------------------------------------------------------&lt;br/&gt;
</environment>
        <key id="12548730">DERBY-5679</key>
            <summary>Rolling back a transaction leads to an inconsistent state</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rhillegas">Rick Hillegas</assignee>
                                    <reporter username="b.mason@adinstruments.com">Brett Mason</reporter>
                        <labels>
                    </labels>
                <created>Thu, 29 Mar 2012 21:21:32 +0100</created>
                <updated>Fri, 28 Jun 2013 00:13:18 +0100</updated>
                            <resolved>Fri, 28 Jun 2013 00:13:18 +0100</resolved>
                                    <version>10.6.2.1</version>
                    <version>10.8.2.2</version>
                                    <fixVersion>10.8.3.3</fixVersion>
                    <fixVersion>10.9.1.0</fixVersion>
                                    <component>Store</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13241597" author="b.mason@adinstruments.com" created="Thu, 29 Mar 2012 21:23:12 +0100"  >&lt;p&gt;ij script to reproduce the issue and expected output.&lt;/p&gt;</comment>
                            <comment id="13241844" author="mikem" created="Thu, 29 Mar 2012 23:02:12 +0100"  >&lt;p&gt;until  the bug is fixed won&apos;t know for sure, but I would expect running SYSCS_UTIL.SYSCS_COMPRESS_TABLE after the alters and committing to be safest workaround, and would not expect that it is leaving a masked issue.&lt;/p&gt;

&lt;p&gt;when you alter a table and add a column nullable column without a default value I think we don&apos;t actually change the rows in the table, but instead count on logic where if you&lt;br/&gt;
see a row with less columns than expected at the physical layer, we translate those missing columns into nulls.  And I expect the bug&lt;br/&gt;
to have something to do with this logic either when you update the last column with missing columns in the middle, or some problem &lt;br/&gt;
during undo with same logic.&lt;/p&gt;

&lt;p&gt;When you do the compress, as knut said, the system underneath creates a whole new table and inserts new rows into it.  I would expect that&lt;br/&gt;
these new rows are all &quot;full&quot; and thus don&apos;t go through the tricky code.&lt;/p&gt;</comment>
                            <comment id="13259792" author="rhillegas" created="Mon, 23 Apr 2012 19:11:36 +0100"  >&lt;p&gt;Attaching derby-5679-01-aa-alterTableTouchAllRows.diff. This patch fixes the bug for new ALTER TABLEs.&lt;/p&gt;

&lt;p&gt;There is short-circuiting logic in the language layer as well as the store. If the ALTER TABLE ADD COLUMN statement specifies a non-null default, then at execution time we cook up an update statement to stuff that default into the new column in all rows. We don&apos;t do this if the default is null. This patch removes that short-circuiting and makes us touch all of the rows if the default is null.&lt;/p&gt;

&lt;p&gt;This won&apos;t fix the bug if the ALTER TABLE statement happened before upgrading to the release which contains this fix. To fix the bug in that case, we need to fix the storage layer. If we fix the bug in the storage layer, then we probably don&apos;t need this change to the language layer.&lt;/p&gt;

&lt;p&gt;I&apos;m happy to take a look at the storage layer. I will start poking around. Would appreciate any pointers about where I should be looking, though.&lt;/p&gt;

&lt;p&gt;I&apos;m posting this patch in case the store fix turns out to be too tricky.&lt;/p&gt;

&lt;p&gt;Touches the following files:&lt;/p&gt;

&lt;p&gt;------------&lt;/p&gt;

&lt;p&gt;M       java/engine/org/apache/derby/impl/sql/execute/AlterTableConstantAction.java&lt;/p&gt;

&lt;p&gt;The fix.&lt;/p&gt;

&lt;p&gt;------------&lt;/p&gt;

&lt;p&gt;M       java/testing/org/apache/derbyTesting/functionTests/tests/lang/AlterTableTest.java&lt;/p&gt;

&lt;p&gt;Regression test case.&lt;/p&gt;</comment>
                            <comment id="13259873" author="rhillegas" created="Mon, 23 Apr 2012 20:38:20 +0100"  >&lt;p&gt;This line in StoredPage.storeRecordForUpdate() looks suspicious:&lt;/p&gt;

&lt;p&gt;            if (StoredFieldHeader.isNonexistent(newFieldStatus) &amp;amp;&amp;amp; (fieldId &amp;lt; oldEndFieldExclusive)) {&lt;/p&gt;

&lt;p&gt;I think there may need to be a corresponding block of code which writes a null marker when:&lt;/p&gt;

&lt;p&gt;            if (StoredFieldHeader.isNonexistent(newFieldStatus) &amp;amp;&amp;amp; (fieldId &amp;gt;= oldEndFieldExclusive))&lt;/p&gt;</comment>
                            <comment id="13260083" author="mikem" created="Tue, 24 Apr 2012 00:42:23 +0100"  >&lt;p&gt;The design intent of the code was to not require all rows to be updated when a null default column was added.   Doing so will create a huge performance degredation for the operation for tables with lots of rows.  &lt;/p&gt;</comment>
                            <comment id="13260090" author="mikem" created="Tue, 24 Apr 2012 00:50:40 +0100"  >&lt;p&gt;the storeRecordForUpdate code is about the most complicated code in store (at least for me as I didn&apos;t write it), so would not surprise me there is a bug with this case of mismatched number of columns in page and recover log record processing).  This is the only time where rows will be be missing columns at the end in actual usage - though store is supposed to support it.  &lt;/p&gt;

&lt;p&gt;My assumption is that the problem is either the log record written out is bad, or the recovery process on the log record is bad.  Can you tell&lt;br/&gt;
from debugging which so far?  I assume if stuff does not get backed out that the data looks good, but it would be good to verify.&lt;/p&gt;</comment>
                            <comment id="13260472" author="rhillegas" created="Tue, 24 Apr 2012 13:36:17 +0100"  >&lt;p&gt;&amp;gt;My assumption is that the problem is either the log record written out is bad, or the recovery process on the log record is bad. Can you tell&lt;br/&gt;
from debugging which so far?&lt;/p&gt;

&lt;p&gt;I think that the suspect code is being called in the former case. But I could be pursuing a red herring--as you say, this code is intricate. Thanks.&lt;/p&gt;</comment>
                            <comment id="13260739" author="rhillegas" created="Tue, 24 Apr 2012 18:41:49 +0100"  >&lt;p&gt;Attaching derby-5679-01-ab-storedPageChange.diff. This second approach changes update code in StoredPage. I am not an expert in this area and am not confident that this is the correct fix. The patch, however, does satisfy three useful conditions:&lt;/p&gt;

&lt;p&gt;1) It makes the repro run correctly.&lt;/p&gt;

&lt;p&gt;2) It doesn&apos;t break any of our existing regression tests.&lt;/p&gt;

&lt;p&gt;3) It is small.&lt;/p&gt;

&lt;p&gt;Let me explain what I did.&lt;/p&gt;

&lt;p&gt;I started out being suspicious of the first update in the repro, the one whose comment suggested that it was making a crucial change which set up the bug:&lt;/p&gt;

&lt;p&gt;--This update is important.&lt;br/&gt;
UPDATE TABLE1 SET STR2 = &apos;before2&apos;;&lt;/p&gt;

&lt;p&gt;I noticed that the value for one of the other columns became correct after the rollback if the &quot;important&quot; update was followed by another update which explicitly set the other new column to null:&lt;/p&gt;

&lt;p&gt;&amp;#8211; this fixes the problem&lt;br/&gt;
update TABLE1 set str1 = null;&lt;/p&gt;

&lt;p&gt;This suggested that the bug could at least be patched over by forcing the other new columns to be null during the &quot;important&quot; update.&lt;/p&gt;

&lt;p&gt;Tracing through the code, I noticed that during the &quot;important&quot; update, the untouched columns took an unusual trajectory through the StoredPage.logRow() pinball machine. There they fell into this code block at line 3970. The block appears to have puzzled other people:&lt;/p&gt;

&lt;p&gt;                        // this is an update that is increasing the number of &lt;br/&gt;
                        // columns but not providing any value, strange ...&lt;/p&gt;

&lt;p&gt;                        spaceAvailable = &lt;br/&gt;
                            logColumn(&lt;br/&gt;
                                null, 0, out, spaceAvailable, &lt;br/&gt;
                                columnFlag, overflowThreshold);&lt;/p&gt;

&lt;p&gt;I fixed this case by inventing a new column flag to tell StoredPage.logColumn() that it should write a null column, rather than a nonexistent one.&lt;/p&gt;

&lt;p&gt;Would appreciate your thoughts about this approach.&lt;/p&gt;


&lt;p&gt;Touches the following files:&lt;/p&gt;

&lt;p&gt;------------&lt;/p&gt;

&lt;p&gt;M       java/engine/org/apache/derby/impl/store/raw/data/StoredPage.java&lt;/p&gt;

&lt;p&gt;The fix.&lt;/p&gt;

&lt;p&gt;------------&lt;/p&gt;

&lt;p&gt;M       java/testing/org/apache/derbyTesting/functionTests/tests/lang/AlterTableTest.java&lt;/p&gt;

&lt;p&gt;Regression test case.&lt;/p&gt;</comment>
                            <comment id="13261946" author="mikem" created="Wed, 25 Apr 2012 19:55:04 +0100"  >
&lt;p&gt;I think the approach of getting update to log nulls in this case is a good one.  Store is going to be broken if non-existent columns are &lt;br/&gt;
anywhere other than at the end of the row.  Changing non-existent columns to null valued columns at update time seems like a good&lt;br/&gt;
approach.&lt;/p&gt;

&lt;p&gt;Is the code you are changing happening because the user update is updating column N with a value,  column N-1 and N were&lt;br/&gt;
added because of add column and neither has ever had a real value.  And this trip through log column is dealing with column N-1.&lt;/p&gt;

&lt;p&gt;I think it might be cleaner if you just add another if/then/else just for COLUMN_NULL at line 6306, rather than code the case of a real&lt;br/&gt;
column and a nonexistent column in same case.  I think sColumn is null for your case in this and found it confusing, seems like&lt;br/&gt;
the code works by accident not referencing the null pointer, so someone later could easily use it thinking it was valid.&lt;/p&gt;

&lt;p&gt;The code for COLUMN_NULL is much simpler as it just knows it is creating a NULL value out of the ether.  &lt;/p&gt;

&lt;p&gt;nits:&lt;br/&gt;
o could you make the code be 80 column &lt;br/&gt;
o I think a different name might be better, maybe COLUMN_CREATENULL.  I kept seeing the COLUMN_NULL name and thinking it&lt;br/&gt;
   was an existing null column, which is a different code path.&lt;br/&gt;
o could you add comments to logColumn to say what the new option is doing.&lt;br/&gt;
o a good case to add but does not need to hold up your checkin would be both regular row and long row case.  Something like&lt;br/&gt;
    add 100 columns, update 50th column, check you can retrieve all 100, abort check you can retrieve all as expected.  Another row&lt;br/&gt;
    do 50th update and then 99th update....   The long row case comes when you make all this work happen on second page vs&lt;br/&gt;
    first, so for 2k pages something like following:&lt;br/&gt;
    create table with real columns to fill most of a page.  with just ddl you can add columns of char(250) that will guarantee 250 bytes&lt;br/&gt;
    for any insert, or you can use clob/blob and make sure you add almost pagesize bytes.  Then use alter to add columns.   interesting&lt;br/&gt;
    cases would be some nonexistent columns on first page and then an update of one that will end up on second page or more.  &lt;/p&gt;


</comment>
                            <comment id="13262562" author="rhillegas" created="Thu, 26 Apr 2012 13:34:24 +0100"  >&lt;p&gt;Thanks for the comments, Mike.&lt;/p&gt;

&lt;p&gt;&amp;gt; Is the code you are changing happening because the user update is updating column N with a value, column N-1 and N were added because of add column and neither has ever had a real value. And this trip through log column is dealing with column N-1.&lt;/p&gt;

&lt;p&gt;Right, that&apos;s the case.&lt;/p&gt;

&lt;p&gt;I&apos;ll update the current patch as you suggested. I&apos;ll add the additional test case in a follow-on patch. Thanks.&lt;/p&gt;</comment>
                            <comment id="13262644" author="rhillegas" created="Thu, 26 Apr 2012 15:40:21 +0100"  >&lt;p&gt;Attaching derby-5679-01-ac-storedPageChange.diff. This version makes the changes which Mike suggested. Tests ran cleanly for me. Committed at subversion revision 1330877.&lt;/p&gt;</comment>
                            <comment id="13263760" author="rhillegas" created="Fri, 27 Apr 2012 17:04:58 +0100"  >&lt;p&gt;Attaching derby-5679-02-aa-moreTests.diff. This adds the extra test cases suggested by Mike. Committed at subversion revision 1331484.&lt;/p&gt;

&lt;p&gt;Touches the following file:&lt;/p&gt;

&lt;p&gt;M       java/testing/org/apache/derbyTesting/functionTests/tests/lang/AlterTableTest.java&lt;/p&gt;</comment>
                            <comment id="13266655" author="rhillegas" created="Wed, 2 May 2012 16:56:12 +0100"  >&lt;p&gt;Ported 1330877 and 1331484 from trunk to 10.8 branch at subversion revision 1333087.&lt;/p&gt;</comment>
                            <comment id="13268663" author="rhillegas" created="Fri, 4 May 2012 20:58:20 +0100"  >&lt;p&gt;Patch has been backported to 10.8. Resolving.&lt;/p&gt;</comment>
                            <comment id="13695152" author="mikem" created="Fri, 28 Jun 2013 00:13:12 +0100"  >&lt;p&gt;marking fixed in 10.8.  it was already backported:&lt;br/&gt;
r1333087 | rhillegas | 2012-05-02 08:55:32 -0700 (Wed, 02 May 2012) | 1 line&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-5679&quot; title=&quot;Rolling back a transaction leads to an inconsistent state&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-5679&quot;&gt;&lt;del&gt;DERBY-5679&lt;/del&gt;&lt;/a&gt;: Ported 1330877 and 1331484 from trunk to 10.8 branch.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12520507" name="RollbackFails - expected output.txt" size="1280" author="b.mason@adinstruments.com" created="Thu, 29 Mar 2012 21:23:12 +0100"/>
                            <attachment id="12520506" name="RollbackFails.sql" size="559" author="b.mason@adinstruments.com" created="Thu, 29 Mar 2012 21:23:12 +0100"/>
                            <attachment id="12523832" name="derby-5679-01-aa-alterTableTouchAllRows.diff" size="3334" author="rhillegas" created="Mon, 23 Apr 2012 19:11:36 +0100"/>
                            <attachment id="12524014" name="derby-5679-01-ab-storedPageChange.diff" size="4516" author="rhillegas" created="Tue, 24 Apr 2012 18:41:49 +0100"/>
                            <attachment id="12524443" name="derby-5679-01-ac-storedPageChange.diff" size="5437" author="rhillegas" created="Thu, 26 Apr 2012 15:40:21 +0100"/>
                            <attachment id="12524876" name="derby-5679-02-aa-moreTests.diff" size="7159" author="rhillegas" created="Fri, 27 Apr 2012 17:04:58 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10364"><![CDATA[Data corruption]]></customfieldvalue>
    <customfieldvalue key="10367"><![CDATA[Deviation from standard]]></customfieldvalue>
    <customfieldvalue key="10421"><![CDATA[Seen in production]]></customfieldvalue>
    <customfieldvalue key="10366"><![CDATA[Wrong query result]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 29 Mar 2012 22:02:12 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>233827</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10422"><![CDATA[High Value Fix]]></customfieldvalue>
    <customfieldvalue key="10424"><![CDATA[Repro attached]]></customfieldvalue>
    <customfieldvalue key="10427"><![CDATA[Workaround attached]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0byv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35757</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>