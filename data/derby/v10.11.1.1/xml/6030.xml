<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:45:58 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-6030/DERBY-6030.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-6030] Length of escape string in LIKE ... ESCAPE not properly checked with territory based collation</title>
                <link>https://issues.apache.org/jira/browse/DERBY-6030</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;When an ESCAPE clause contains multiple characters, but only a single collation element, they are accepted as long as it&apos;s not a literal:&lt;/p&gt;

&lt;p&gt;ij&amp;gt; connect &apos;jdbc:derby:memory:nodb;create=true;territory=no;collation=TERRITORY_BASED&apos;;&lt;br/&gt;
ij&amp;gt; create table t(x varchar(20), y varchar(20), z varchar(20));&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t values (&apos;abc&apos;, &apos;def&apos;, &apos;aa&apos;);&lt;br/&gt;
1 row inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; select * from t where x like y escape z;&lt;br/&gt;
X                   |Y                   |Z                   &lt;br/&gt;
--------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;0 rows selected&lt;/p&gt;

&lt;p&gt;If the same query is performed with a literal in the ESCAPE clause, the problem is detected and correctly reported:&lt;/p&gt;

&lt;p&gt;ij&amp;gt; select * from t where x like y escape &apos;aa&apos;;&lt;br/&gt;
ERROR 22019: Invalid escape sequence, &apos;aa&apos;. The escape string must be exactly one character. It cannot be a null or more than one character.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12625700">DERBY-6030</key>
            <summary>Length of escape string in LIKE ... ESCAPE not properly checked with territory based collation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mamtas">Mamta A. Satoor</assignee>
                                    <reporter username="knutanders">Knut Anders Hatlen</reporter>
                        <labels>
                    </labels>
                <created>Wed, 2 Jan 2013 16:32:52 +0000</created>
                <updated>Tue, 6 Aug 2013 19:05:08 +0100</updated>
                            <resolved>Thu, 10 Jan 2013 10:33:32 +0000</resolved>
                                    <version>10.9.1.0</version>
                                    <fixVersion>10.8.3.3</fixVersion>
                    <fixVersion>10.9.2.2</fixVersion>
                    <fixVersion>10.10.1.1</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13548459" author="knutanders" created="Wed, 9 Jan 2013 12:35:31 +0000"  >&lt;p&gt;The attached patch makes WorkHorseForCollatorDatatypes.like() check the character length of the escape sequence as well as the number of collation elements, and adds a test case to verify the fix.&lt;/p&gt;

&lt;p&gt;All of the regression tests passed.&lt;/p&gt;</comment>
                            <comment id="13549332" author="dagw" created="Thu, 10 Jan 2013 03:27:42 +0000"  >&lt;p&gt;Looks like a good patch to me. Thanks for good explanation in the test case javadoc &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; +1. Tiny nit: patch added a line with tabs in it (#16).&lt;/p&gt;</comment>
                            <comment id="13549511" author="knutanders" created="Thu, 10 Jan 2013 10:33:32 +0000"  >&lt;p&gt;Thanks, Dag. I cleaned up the patch as suggested and committed revision 1431259.&lt;/p&gt;</comment>
                            <comment id="13729047" author="mamtas" created="Mon, 5 Aug 2013 01:46:29 +0100"  >&lt;p&gt;I am working on backporting this jira but the changes seem to depend on &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2699&quot; title=&quot;performance of like in territory based collation databases may be improved by changing way collation elements are calculated.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2699&quot;&gt;&lt;del&gt;DERBY-2699&lt;/del&gt;&lt;/a&gt;( performance of like in territory based collation databases may be improved by changing way collation elements are calculated. ). I will work on backporting &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2699&quot; title=&quot;performance of like in territory based collation databases may be improved by changing way collation elements are calculated.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2699&quot;&gt;&lt;del&gt;DERBY-2699&lt;/del&gt;&lt;/a&gt; first and then come back to this jira.&lt;/p&gt;</comment>
                            <comment id="13730112" author="jira-bot" created="Tue, 6 Aug 2013 00:15:34 +0100"  >&lt;p&gt;Commit 1510801 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mamtas&quot; class=&quot;user-hover&quot; rel=&quot;mamtas&quot;&gt;Mamta A. Satoor&lt;/a&gt; in branch &apos;code/branches/10.9&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1510801&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1510801&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Backporting revision 1430735 to 10.9&lt;/p&gt;

&lt;p&gt;Backporting &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6030&quot; title=&quot;Length of escape string in LIKE ... ESCAPE not properly checked with territory based collation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6030&quot;&gt;&lt;del&gt;DERBY-6030&lt;/del&gt;&lt;/a&gt;(Length of escape string in LIKE ... ESCAPE not properly checked with territory based collation) to 10.9&lt;/p&gt;</comment>
                            <comment id="13731027" author="jira-bot" created="Tue, 6 Aug 2013 19:02:00 +0100"  >&lt;p&gt;Commit 1511054 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mamtas&quot; class=&quot;user-hover&quot; rel=&quot;mamtas&quot;&gt;Mamta A. Satoor&lt;/a&gt; in branch &apos;code/branches/10.8&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1511054&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/r1511054&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Backporting revision 1430735 to 10.8&lt;/p&gt;

&lt;p&gt;Backporting &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6030&quot; title=&quot;Length of escape string in LIKE ... ESCAPE not properly checked with territory based collation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6030&quot;&gt;&lt;del&gt;DERBY-6030&lt;/del&gt;&lt;/a&gt;(Length of escape string in LIKE ... ESCAPE not properly checked with territory based collation) to 10.8&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12563933" name="d6030-1a.diff" size="4401" author="knutanders" created="Wed, 9 Jan 2013 12:35:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 10 Jan 2013 03:27:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302248</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10424"><![CDATA[Repro attached]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hz0u9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>248915</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>