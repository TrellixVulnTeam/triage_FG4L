<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:22:23 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-620/DERBY-620.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-620] BUILDING.txt section 3.2(1): Instructions for finding user home directory are not reliable</title>
                <link>https://issues.apache.org/jira/browse/DERBY-620</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;BUILDING.txt, section 3.2 states:&lt;/p&gt;

&lt;p&gt;------------------------------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;3.2   Create property file&lt;/p&gt;

&lt;p&gt;You will need to create a property file to specify&lt;br/&gt;
your environment and some of your options. Do the following&lt;br/&gt;
to specify your environment and options:&lt;/p&gt;

&lt;p&gt;(1) Find out user home directory on your system. You can find  &lt;br/&gt;
    user home directory by doing echo on variable %HOME% &lt;br/&gt;
    on windows and $home or $HOME on unix.&lt;/p&gt;

&lt;p&gt;------------------------------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;In some cases, %HOME% (on WIndows) or $HOME  ($home) (on Unix) does not correspond to the directory where ant looks for &quot;ant.properties&quot;. &lt;/p&gt;

&lt;p&gt;I recently tried to build Derby on Windows XP, and accidentally put ant.properties in the wrong directory, causing ant to say that java.lang could not be found. On Windows XP and 2000 (and most likely all older Windows platforms as well) &quot;out-of-the-box&quot;, there is no environment variable called %HOME%. Creating this environment variable manually does not make any difference.&lt;/p&gt;

&lt;p&gt;On Unix systems, the $HOME environment variable does not necessarily always correspond to ant&apos;s (i.e. Java&apos;s) interpretation of  &quot;user.home&quot;. For example, if a user changes this variable manually from &quot;/home/username&quot; to &quot;/home/username/myHome&quot;, $HOME refers to the latter, but ant will continue to look for ant.properties in the &quot;/home/username&quot; directory.&lt;/p&gt;</description>
                <environment>Windows/Unix/Linux, JDKs 1.3-1.5</environment>
        <key id="12317895">DERBY-620</key>
            <summary>BUILDING.txt section 3.2(1): Instructions for finding user home directory are not reliable</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="johnemb">John H. Embretsen</assignee>
                                    <reporter username="johnemb">John H. Embretsen</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Oct 2005 07:50:23 +0100</created>
                <updated>Sat, 22 Oct 2005 06:00:58 +0100</updated>
                            <resolved>Sat, 22 Oct 2005 05:16:14 +0100</resolved>
                                    <version>10.1.2.1</version>
                    <version>10.2.1.6</version>
                                    <fixVersion>10.1.2.1</fixVersion>
                    <fixVersion>10.2.1.6</fixVersion>
                                    <component>Documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12331931" author="johnemb" created="Thu, 13 Oct 2005 08:16:09 +0100"  >&lt;p&gt;Ant looks for the &quot;ant.properties&quot; file in the directory specified by Java&apos;s &quot;user.home&quot; system property. Since this does not necessarily corespond with %HOME% or $HOME, BUILDING.txt should be corrected.&lt;/p&gt;

&lt;p&gt;On Windows 2000 and XP, the &quot;user.home&quot; directory in most cases corresponds to the environment variable %USERPROFILE%, which is a concatenation of the variables %HOMEDRIVE% and %HOMEPATH%, e.g. &quot;C:\Documents and Settings\User&quot;.&lt;br/&gt;
See &lt;a href=&quot;http://www.microsoft.com/resources/documentation/windows/xp/all/proddocs/en-us/ntcmds_shelloverview.mspx&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.microsoft.com/resources/documentation/windows/xp/all/proddocs/en-us/ntcmds_shelloverview.mspx&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;On Unix/Linux systems, the &quot;user.home&quot; directory in most cases correspond to the $HOME environment variable (e.g. &quot;/home/username&quot;), but this is not always true, as described above.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4787931&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4787931&lt;/a&gt; is a bug report that describes some issues and workarounds related to the way a variety of  JVMs determines &quot;user.home&quot;. On Windows, Java actually tries to determine the user home directory by looking in the registry for the location of the user&apos;s desktop folder, and uses that folder&apos;s parent folder as &quot;user.home&quot;. On Unix/Linux systems, Java determines the user&apos;s home directory by looking at the user&apos;s entry in the password file, e.g. /etc/passwd.&lt;/p&gt;

&lt;p&gt;I suggest changing BUILDING.txt, section 3.2 (1) to something like this:&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(1) Determine the directory on your system that corresponds to&lt;br/&gt;
    the &quot;user.home&quot; system property of the jvm referred to by&lt;br/&gt;
    JAVA_HOME. This directory will be referred to as the &lt;br/&gt;
    $&lt;/p&gt;
{user.home} directory in the rest of this document. &lt;br/&gt;
    In order to correctly determine the value of ${user.home}
&lt;p&gt;, &lt;br/&gt;
    do either of the following:&lt;/p&gt;

&lt;p&gt;	a) Run ant diagnostics and look for &quot;user.home&quot; in the&lt;br/&gt;
           list of System properties:&lt;/p&gt;

&lt;p&gt;	   ant -diagnostics&lt;/p&gt;

&lt;p&gt;	b) Write and run a small java program that prints the&lt;br/&gt;
           value of the &quot;user.home&quot; system property, e.g. by&lt;br/&gt;
           including the following line in the program:&lt;/p&gt;

&lt;p&gt;           System.out.println(System.getProperty(&quot;user.home&quot;));&lt;/p&gt;

&lt;p&gt;    On most Unix systems, $&lt;/p&gt;
{user.home} is equivalent to the&lt;br/&gt;
    value of the environment variable $HOME or $home.&lt;br/&gt;
    On newer Windows systems, ${user.home}
&lt;p&gt; is often equivalent&lt;br/&gt;
    to the environment variable %USERPROFILE%.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Does anyone have any comments to this suggestion?&lt;/p&gt;</comment>
                            <comment id="12332217" author="johnemb" created="Mon, 17 Oct 2005 19:23:23 +0100"  >&lt;p&gt;I&apos;ve attached a patch for this issue. The wording in the patch is roughly the same as presented in my previous comment. The patch is ready for review and (if accepted) commit.&lt;/p&gt;</comment>
                            <comment id="12332365" author="johnemb" created="Tue, 18 Oct 2005 23:56:08 +0100"  >&lt;p&gt;Kathey Marsden wrote on derby-dev earlier today:&lt;br/&gt;
&amp;gt;  -  Are there any other fixes that should be included in the 10.1.2 ?&lt;/p&gt;

&lt;p&gt;In my opinion, this fix may be included in the 10.1.2 release as well as the trunk, if a committer has time to review and commit it in time.&lt;/p&gt;</comment>
                            <comment id="12332728" author="fuzzylogic" created="Sat, 22 Oct 2005 05:16:14 +0100"  >&lt;p&gt;Committed to trunk with revision 327242 and 10.1 with revision 327248.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12314916" name="DERBY-620.diff" size="1638" author="johnemb" created="Mon, 17 Oct 2005 19:23:23 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 22 Oct 2005 04:16:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22050</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy17lz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40883</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>