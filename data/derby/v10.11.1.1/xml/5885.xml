<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:51:34 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-5885/DERBY-5885.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-5885] The order of argument names in messages.xml is sometimes wrong when the arguments occur in the message out of sequence.</title>
                <link>https://issues.apache.org/jira/browse/DERBY-5885</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;In most Derby messages, arguments appear in ascending order. That is, &lt;/p&gt;
{0} occurs in the message first, then {1}, then {2}, and so on. Sometimes, however, arguments occur out of sequence. When this happens, the names in the &amp;lt;arg&amp;gt; sub-elements may not agree with the order that the arguments actually occur in the message. This causes MessageBuilder to garble the dita source for the Reference Guide page titled &quot;SQL error messages and exceptions&quot;.&lt;br/&gt;
&lt;br/&gt;
For instance, here is the messages.xml element for SQLState 22014:&lt;br/&gt;
&lt;br/&gt;
            &amp;lt;msg&amp;gt;&lt;br/&gt;
                &amp;lt;name&amp;gt;22014&amp;lt;/name&amp;gt;&lt;br/&gt;
                &amp;lt;text&amp;gt;The start position for LOCATE is invalid; it must be a positive integer. The index  to start the search from is &apos;{2}&apos;.  The string to search for is &apos;{0}
&lt;p&gt;&apos;.  The string to search from is &apos;&lt;/p&gt;
{1}&apos;. &amp;lt;/text&amp;gt;&lt;br/&gt;
                &amp;lt;arg&amp;gt;startIndex&amp;lt;/arg&amp;gt;&lt;br/&gt;
                &amp;lt;arg&amp;gt;searchString&amp;lt;/arg&amp;gt;&lt;br/&gt;
                &amp;lt;arg&amp;gt;fromString&amp;lt;/arg&amp;gt;&lt;br/&gt;
            &amp;lt;/msg&amp;gt;&lt;br/&gt;
&lt;br/&gt;
This gives rise to the following garbled text in the generated reference guide page:&lt;br/&gt;
&lt;br/&gt;
&quot;The start position for LOCATE is invalid; it must be a positive integer. The index to start the search from is &apos;&amp;lt;fromString&amp;gt;&apos;. The string to search for is &apos;&amp;lt;startIndex&amp;gt;&apos;. The string to search from is &apos;&amp;lt;searchString&amp;gt;&apos;. &quot;&lt;br/&gt;
&lt;br/&gt;
We should re-order the &amp;lt;arg&amp;gt; sub-elements so that the first &amp;lt;arg&amp;gt; sub-lement corresponds to {0}, the second &amp;lt;arg&amp;gt; sub-element corresponds to {1}
&lt;p&gt;, and so on.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12600368">DERBY-5885</key>
            <summary>The order of argument names in messages.xml is sometimes wrong when the arguments occur in the message out of sequence.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rhillegas">Rick Hillegas</assignee>
                                    <reporter username="rhillegas">Rick Hillegas</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Jul 2012 20:25:51 +0100</created>
                <updated>Fri, 14 Jun 2013 18:12:54 +0100</updated>
                            <resolved>Thu, 24 Jan 2013 16:39:01 +0000</resolved>
                                    <version>10.10.1.1</version>
                                    <fixVersion>10.10.1.1</fixVersion>
                                    <component>Documentation</component>
                    <component>Localization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13423371" author="rhillegas" created="Thu, 26 Jul 2012 20:26:47 +0100"  >&lt;p&gt;Linking to &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-5879&quot; title=&quot;Fix problems in English messages disclosed by a localization audit.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-5879&quot;&gt;&lt;del&gt;DERBY-5879&lt;/del&gt;&lt;/a&gt; because this issue was discovered during the localization audit.&lt;/p&gt;</comment>
                            <comment id="13424897" author="rhillegas" created="Mon, 30 Jul 2012 15:52:06 +0100"  >&lt;p&gt;Attaching derby-5885-01-aa-reorderMessageArgs.diff. This re-orders some arg descriptors in messages.xml to agree with the text of the corresponding messages. I am running regression tests now.&lt;/p&gt;

&lt;p&gt;This patch makes two major changes:&lt;/p&gt;

&lt;p&gt;1) Some arg descriptors were re-ordered to agree with the message text.&lt;/p&gt;

&lt;p&gt;2) While I was in there I noticed that many arg descriptors were just the vacuous term &quot;value&quot;. That term doesn&apos;t give the reader any information when browsing the Reference Guide section on error messages. That term also doesn&apos;t give translators any information now that message arguments are printed out in header comments in the generated English message properties file (see &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-5878&quot; title=&quot;Add message argument names, as comments, to English message file produced by MessageBuilder.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-5878&quot;&gt;&lt;del&gt;DERBY-5878&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;Along the way I corrected some other defects in the English messages:&lt;/p&gt;

&lt;p&gt;3) I fixed some capitalization and grammar problems.&lt;/p&gt;

&lt;p&gt;4) I removed some messages which are no longer referenced by the code.&lt;/p&gt;

&lt;p&gt;I also noticed that some message constructors in the code did not agree with the number and order of arguments in the actual message text. So...&lt;/p&gt;

&lt;p&gt;5) I corrected some message constructors.&lt;/p&gt;

&lt;p&gt;In addition, I found I needed more debug information while making these changes:&lt;/p&gt;

&lt;p&gt;6) I made MessageBuilder print out a more detailed error when it trips over a discrepancy between the number of args in a message and the number of corresponding arg descriptors.&lt;/p&gt;

&lt;p&gt;7) I made JDBC.assertRSContains() print out the missing rows when running in chatty debug mode and comparing actual and expected row sets.&lt;/p&gt;

&lt;p&gt;Finally...&lt;/p&gt;

&lt;p&gt;8) I corrected some canonized test results.&lt;/p&gt;

&lt;p&gt;Touches the following files:&lt;/p&gt;

&lt;p&gt;--------------&lt;/p&gt;

&lt;p&gt;M       java/engine/org/apache/derby/loc/messages.xml&lt;br/&gt;
M       java/shared/org/apache/derby/shared/common/reference/SQLState.java&lt;/p&gt;

&lt;p&gt;Items (1) - (4).&lt;/p&gt;

&lt;p&gt;--------------&lt;/p&gt;

&lt;p&gt;M       java/engine/org/apache/derby/impl/sql/compile/SelectNode.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/sql/compile/BinaryLogicalOperatorNode.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/sql/execute/InternalTriggerExecutionContext.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/services/reflect/UpdateLoader.java&lt;br/&gt;
M       java/engine/org/apache/derby/iapi/types/XML.java&lt;br/&gt;
M       java/engine/org/apache/derby/iapi/types/SqlXmlUtil.java&lt;br/&gt;
M       java/client/org/apache/derby/client/am/SectionManager.java&lt;/p&gt;

&lt;p&gt;Item (5).&lt;/p&gt;

&lt;p&gt;--------------&lt;/p&gt;

&lt;p&gt;M       java/build/org/apache/derbyBuild/MessageBuilder.java&lt;/p&gt;

&lt;p&gt;Item (6).&lt;/p&gt;

&lt;p&gt;--------------&lt;/p&gt;

&lt;p&gt;M       java/testing/org/apache/derbyTesting/junit/JDBC.java&lt;/p&gt;

&lt;p&gt;Item (7).&lt;/p&gt;

&lt;p&gt;--------------&lt;/p&gt;

&lt;p&gt;M       java/testing/org/apache/derbyTesting/functionTests/tests/lang/ErrorCodeTest.java&lt;/p&gt;

&lt;p&gt;Item (8).&lt;/p&gt;</comment>
                            <comment id="13424976" author="rhillegas" created="Mon, 30 Jul 2012 17:28:26 +0100"  >&lt;p&gt;Attaching derby-5885-01-ab-reorderMessageArgs.diff. The previous rev of the patch raised 2 errors in the regression tests because some canonized message text has changed.&lt;/p&gt;

&lt;p&gt;The revised patch is identical to the previous rev except for the addition of a couple more corrected canons:&lt;/p&gt;

&lt;p&gt;M       java/testing/org/apache/derbyTesting/functionTests/master/paramij.out&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/functionTests/master/refActions2.out&lt;/p&gt;

&lt;p&gt;Committed at subversion revision 1367150.&lt;/p&gt;</comment>
                            <comment id="13505450" author="rhillegas" created="Wed, 28 Nov 2012 13:38:48 +0000"  >&lt;p&gt;Linking to &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2705&quot; title=&quot;Description of error message for X0X61/X0Y59/X0Y69/X0Y70 in SQL error messages and exceptions of Reference manual is not appropriate.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2705&quot;&gt;&lt;del&gt;DERBY-2705&lt;/del&gt;&lt;/a&gt;. The messages mentioned by that issue also have out-of-order argument names. We can do the cleanup on this issue and then close &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2705&quot; title=&quot;Description of error message for X0X61/X0Y59/X0Y69/X0Y70 in SQL error messages and exceptions of Reference manual is not appropriate.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2705&quot;&gt;&lt;del&gt;DERBY-2705&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13505459" author="rhillegas" created="Wed, 28 Nov 2012 14:11:35 +0000"  >&lt;p&gt;It turns out that the messages mentioned by &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2705&quot; title=&quot;Description of error message for X0X61/X0Y59/X0Y69/X0Y70 in SQL error messages and exceptions of Reference manual is not appropriate.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2705&quot;&gt;&lt;del&gt;DERBY-2705&lt;/del&gt;&lt;/a&gt; were corrected by the work on this issue. We just needed to check in the generated error documentation in order to see that. I have resolved &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2705&quot; title=&quot;Description of error message for X0X61/X0Y59/X0Y69/X0Y70 in SQL error messages and exceptions of Reference manual is not appropriate.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2705&quot;&gt;&lt;del&gt;DERBY-2705&lt;/del&gt;&lt;/a&gt; as fixed.&lt;/p&gt;</comment>
                            <comment id="13561743" author="rhillegas" created="Thu, 24 Jan 2013 16:39:01 +0000"  >&lt;p&gt;Resolving this issue because I have fixed all the message headers which looked wrong to me. Future fixes can probably be committed under this issue without needing to re-open it.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12370341">DERBY-2705</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12600057">DERBY-5879</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12371132">DERBY-2774</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12538351" name="derby-5885-01-aa-reorderMessageArgs.diff" size="78290" author="rhillegas" created="Mon, 30 Jul 2012 15:52:06 +0100"/>
                            <attachment id="12538368" name="derby-5885-01-ab-reorderMessageArgs.diff" size="127320" author="rhillegas" created="Mon, 30 Jul 2012 17:28:26 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>245853</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0aj3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35524</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>