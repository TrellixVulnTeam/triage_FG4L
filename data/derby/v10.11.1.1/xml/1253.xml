<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:40:57 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-1253/DERBY-1253.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-1253] Verify that we don&apos;t raise SQLFeatureNotSupportedException for mandatory methods</title>
                <link>https://issues.apache.org/jira/browse/DERBY-1253</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;The jdk16 javadoc marks optional methods as being able to raise SQLFeatureNotSupportedException. Make sure that we don&apos;t raise this exception for mandatory methods--unless we clearly understand why we have chosen to deviate from the JDBC spec.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12332726">DERBY-1253</key>
            <summary>Verify that we don&apos;t raise SQLFeatureNotSupportedException for mandatory methods</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rhillegas">Rick Hillegas</reporter>
                        <labels>
                    </labels>
                <created>Wed, 26 Apr 2006 21:52:20 +0100</created>
                <updated>Thu, 7 Sep 2006 22:08:40 +0100</updated>
                            <resolved>Thu, 7 Sep 2006 22:08:31 +0100</resolved>
                                    <version>10.2.1.6</version>
                                    <fixVersion>10.2.1.6</fixVersion>
                                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12376485" author="rhillegas" created="Wed, 26 Apr 2006 21:57:43 +0100"  >&lt;p&gt;Attaching bug955_verifier.diff, which contains a junit test, UnsupportedVetter. This test lists out all of the methods which raise SQLFeatureNotSupportedException. The test also includes a table for adding descriptors of methods which we can ignore because the spec says they are allowed to raise this exception.&lt;/p&gt;</comment>
                            <comment id="12376549" author="djd" created="Thu, 27 Apr 2006 04:36:01 +0100"  >&lt;p&gt;Is this mandatory/optional method scheme discussed in the JDBC 4.0 spec? In my latest copy of the spec and java doc I cannot find any reference to it. I do see the concept of &quot;Required Interface&quot; but that says any unimplemented methods can throw SQLFeatureNotSupportedException.&lt;/p&gt;</comment>
                            <comment id="12376584" author="rhillegas" created="Thu, 27 Apr 2006 06:34:56 +0100"  >&lt;p&gt;Lance has clarified that this is documented in the Compliance chapter and in the javadoc.&lt;/p&gt;</comment>
                            <comment id="12376953" author="rhillegas" created="Fri, 28 Apr 2006 23:43:13 +0100"  >&lt;p&gt;Committed bug1253_verifier2.diff at subversion revision 397926. This just exposes this test (which I have not wired into any suite yet). I have commented out the close on the connection because this was raising an Invalid Transaction State exception on linux. I don&apos;t see this problem on xp/cywgin. I will log a bug for tracking this discrepancy.&lt;/p&gt;</comment>
                            <comment id="12377431" author="dyret" created="Wed, 3 May 2006 01:11:07 +0100"  >&lt;p&gt;Attaching a patch that updates the exclude map with additional interfaces and methods.&lt;br/&gt;
It still fails, but complains about fewer unsupported methods. I have run the test in embedded and DerbyNetClient, but I have not run any other tests.&lt;/p&gt;

&lt;p&gt;The indentation mode that I use doesn&apos;t seem to grok such complicated array initializations, so the indentation is a bit strange in some places. And I have not even tried to avoid lines longer than 80 chars here, since that would make the exclude map initialization unreadable...&lt;/p&gt;

&lt;p&gt;I&apos;m a bit unsure about what to accept for Blob/Clob. All the methods in these interfaces are allowed to throw NotImplemented, but I&apos;m wondering if the spec allows only some of them to be not implemented?&lt;/p&gt;</comment>
                            <comment id="12377482" author="rhillegas" created="Wed, 3 May 2006 06:35:16 +0100"  >&lt;p&gt;Committed derby-1253.v1.diff at subversion revision 399072. I made the following changes to the patch:&lt;/p&gt;

&lt;p&gt;1) Commented out the Blob/Clob exclusions because Lance has said that these methods are mandatory&lt;/p&gt;

&lt;p&gt;2) Added Connection.createStruct() and createArray() to the exclusions list since Kristian has filled these in now&lt;/p&gt;</comment>
                            <comment id="12377540" author="dyret" created="Wed, 3 May 2006 17:05:39 +0100"  >&lt;p&gt;Thanks for committing Rick.&lt;/p&gt;

&lt;p&gt;&amp;gt; 1) Commented out the Blob/Clob exclusions because Lance has said that these methods are mandatory &lt;/p&gt;

&lt;p&gt;Should we not comment out the Blob/Clob related methods in PreparedStatement and CallableStatement, as well? From the spec it appears that they too are mandatory if you support Blob/Clob.&lt;/p&gt;

&lt;p&gt;I&apos;m unsure about Connection.create&lt;span class=&quot;error&quot;&gt;&amp;#91;BC&amp;#93;&lt;/span&gt;lob, though. The spec draft marks them as optional, but does not have the same caveat which make the methods mandatory if you support the datatype.&lt;/p&gt;

&lt;p&gt;2) Added Connection.createStruct() and createArray() to the exclusions list since Kristian has filled these in now&lt;/p&gt;

&lt;p&gt;Not sure I understand the last comment. If those methods have been added, you would want to REMOVE them from the exclusion list, wouldn&apos;t you? Or do you mean that these methods now throw Unsupported, and did not do so before?&lt;/p&gt;</comment>
                            <comment id="12377659" author="rhillegas" created="Thu, 4 May 2006 07:05:19 +0100"  >&lt;p&gt;Commmitted bug1253_verifier3_complianceChapter.diff at subversion revision 399482. This modifies the table of excludable (optional) methods, based on my review of the revised, draft JDBC4 Compliance chapter.&lt;/p&gt;</comment>
                            <comment id="12378149" author="rhillegas" created="Sat, 6 May 2006 05:24:04 +0100"  >&lt;p&gt;Committed bug1253_verifier4_networkResultSet.diff at subversion revision 400172. This makes the following changes:&lt;/p&gt;

&lt;p&gt;1) Changes the NotSupported exception raised by network ResultSets to be an UnimplementedFeature exception which we map to SQLFeatureNotSupportedException under JDBC4. This in turn lets UnsupportedVetter see which methods aren&apos;t supported by network ResultSets.&lt;/p&gt;

&lt;p&gt;2) Made a change to Sed so that we can eliminate another jdk16-specific canon (the one for the updatableResultSet test).&lt;/p&gt;

&lt;p&gt;3) Expanded the table of excluded methods in UnsupportedVetter. This table now contains additional methods just made optional by the JDBC4 expert group. Those additional methods are documented in &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1281&quot; title=&quot;JDBC4 Compliance&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1281&quot;&gt;&lt;del&gt;DERBY-1281&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;It would be helpful if someone could run updatableResultSet on the J2ME vm to verify whether we need canon changes for that platform.&lt;/p&gt;

&lt;p&gt;Derbyall passes on 1.4 modulo wisconsin diffs. I also verified the updatableResultSet test on jdk13 and jdk16 under the embedded and DerbyNetClient frameworks. Touches the following files:&lt;/p&gt;

&lt;p&gt;M      java/testing/org/apache/derbyTesting/functionTests/harness/Sed.java&lt;br/&gt;
M        java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/jdk16/updatableResultSet.out&lt;br/&gt;
M      java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/jdk14/updatableResultSet.out&lt;br/&gt;
M      java/client/org/apache/derby/client/am/ResultSet.java&lt;br/&gt;
M      java/testing/org/apache/derbyTesting/functionTests/tests/jdbc4/UnsupportedVetter.java&lt;/p&gt;</comment>
                            <comment id="12412838" author="rhillegas" created="Tue, 23 May 2006 06:23:12 +0100"  >&lt;p&gt;Committed bug1253_forwarding.diff at subversion revision 408772. This patch forwards some miscellaneous JDBC4 calls to competent objects. These missing implementations were disclosed by UnsupportedVetter. Touches the following files:&lt;/p&gt;

&lt;p&gt;M      java\engine\org\apache\derby\jdbc\EmbeddedXADataSource40.java&lt;br/&gt;
M      java\engine\org\apache\derby\jdbc\EmbeddedConnectionPoolDataSource40.java&lt;br/&gt;
M      java\client\org\apache\derby\client\am\LogicalConnection40.java&lt;/p&gt;

&lt;p&gt;The JDBC4 tests runs cleanly.&lt;/p&gt;</comment>
                            <comment id="12414167" author="rhillegas" created="Thu, 1 Jun 2006 06:45:07 +0100"  >&lt;p&gt;Attaching bug1253_wireIn.diff. This adds the UnsupportedVetter test to the jdbc4 test suite. Committed at subversion revision 410694. Touches the following files:&lt;/p&gt;

&lt;p&gt;M      java\testing\org\apache\derbyTesting\functionTests\tests\jdbc4\UnsupportedVetter.java&lt;br/&gt;
M      java\testing\org\apache\derbyTesting\functionTests\suites\jdbc40.runall&lt;/p&gt;

&lt;p&gt;Added special markers to the mandatory LOB-supporting methods which Derby does not implement. See the class header of UnsupportedVetter for instructions on how to vet strictly and disclose this compliance gap.&lt;/p&gt;

&lt;p&gt;At this point, this test will track additional flexing of the JDBC4 spec.&lt;/p&gt;</comment>
                            <comment id="12415054" author="rhillegas" created="Wed, 7 Jun 2006 05:46:26 +0100"  >&lt;p&gt;Attaching bug1253_vanishedMethods.diff. This makes the UnsupportedVetter test smart enough to handle methods which change shape from one build of the jdk to the next. Previously, the test would raise an error and exit if an optional jdk method changed shape. Now we get more information when these errors occur. Touches the following file:&lt;/p&gt;

&lt;p&gt;M      java\testing\org\apache\derbyTesting\functionTests\tests\jdbc4\UnsupportedVetter.java&lt;/p&gt;

&lt;p&gt;Committed at subversion revision 412220.&lt;/p&gt;</comment>
                            <comment id="12433235" author="rhillegas" created="Thu, 7 Sep 2006 22:08:31 +0100"  >&lt;p&gt;We have finished the work for this issue. If there are bugs, they should be logged as separate JIRAs at this point.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12334424" name="bug1253_forwarding.diff" size="6932" author="rhillegas" created="Tue, 23 May 2006 06:23:12 +0100"/>
                            <attachment id="12335118" name="bug1253_vanishedMethods.diff" size="5978" author="rhillegas" created="Wed, 7 Jun 2006 05:46:26 +0100"/>
                            <attachment id="12325903" name="bug1253_verifier.diff" size="19905" author="rhillegas" created="Wed, 26 Apr 2006 21:57:43 +0100"/>
                            <attachment id="12326023" name="bug1253_verifier2.diff" size="19908" author="rhillegas" created="Fri, 28 Apr 2006 23:43:13 +0100"/>
                            <attachment id="12326223" name="bug1253_verifier3_complianceChapter.diff" size="4582" author="rhillegas" created="Thu, 4 May 2006 07:05:19 +0100"/>
                            <attachment id="12326322" name="bug1253_verifier4_networkResultSet.diff" size="446010" author="rhillegas" created="Sat, 6 May 2006 05:24:04 +0100"/>
                            <attachment id="12334857" name="bug1253_wireIn.diff" size="7986" author="rhillegas" created="Thu, 1 Jun 2006 06:45:07 +0100"/>
                            <attachment id="12326162" name="derby-1253.v1.diff" size="11719" author="dyret" created="Wed, 3 May 2006 01:11:07 +0100"/>
                            <attachment id="12326163" name="derby-1253.v1.stat" size="278" author="dyret" created="Wed, 3 May 2006 01:11:07 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 27 Apr 2006 03:36:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>29916</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy14of:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40408</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310050" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Urgency</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10052"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>