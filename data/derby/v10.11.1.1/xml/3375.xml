<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:46:49 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-3375/DERBY-3375.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-3375] Localize new error messages added in 10.3</title>
                <link>https://issues.apache.org/jira/browse/DERBY-3375</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;New error messages added in 10.3 have not been localized. Should translate these into as many languages as possible.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12387649">DERBY-3375</key>
            <summary>Localize new error messages added in 10.3</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dyret">Dyre Tjeldvoll</assignee>
                                    <reporter username="dyret">Dyre Tjeldvoll</reporter>
                        <labels>
                    </labels>
                <created>Fri, 1 Feb 2008 16:51:50 +0000</created>
                <updated>Thu, 2 May 2013 03:29:13 +0100</updated>
                            <resolved>Wed, 19 Mar 2008 15:53:38 +0000</resolved>
                                    <version>10.3.2.1</version>
                                    <fixVersion>10.4.1.3</fixVersion>
                                    <component>Localization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12564851" author="dyret" created="Fri, 1 Feb 2008 18:09:12 +0000"  >&lt;p&gt;Attaching derby-3375.diff which adds translations for messages that were new in 10.3 . (Messages added after the 10.3 release have not been translated. This reduced the number of untranslated messages from 68/69 to 40.&lt;br/&gt;
I only had access to translations for de_DE, es, fr, it, ja_JP, ko_KR, zh_CN and zh_TW.&lt;/p&gt;

&lt;p&gt;Some changes have also been made to existing messages, so anyone familiar with one of these locales are particularly encouraged to review the patch.&lt;/p&gt;</comment>
                            <comment id="12564864" author="knutanders" created="Fri, 1 Feb 2008 18:32:00 +0000"  >&lt;p&gt;The SQL text in message 42818 has been translated to German in messages_de_DE.properties.&lt;/p&gt;

&lt;p&gt;(z. B. w\u00e4hlen von tablename aus sys.systables, dabei ist CAST(tablename as VARCHAR(128)) = &apos;&apos;T1&apos;&apos;)&lt;/p&gt;

&lt;p&gt;should be replaced with&lt;/p&gt;

&lt;p&gt;(z. B. select tablename from sys.systables where CAST(tablename as VARCHAR(128)) = &apos;&apos;T1&apos;&apos;)&lt;/p&gt;</comment>
                            <comment id="12564874" author="myrna" created="Fri, 1 Feb 2008 18:55:58 +0000"  >&lt;p&gt;Similar is true for messages_fr.properties:&lt;br/&gt;
--------------&lt;br/&gt;
(par ex., select tablename dans sys.systables avec CAST(tablename as VARCHAR(128)) = &apos;&apos;T1&apos;&apos;)&lt;br/&gt;
   should be:&lt;br/&gt;
(par ex., select tablename from sys.systables where CAST(tablename as VARCHAR(128)) = &apos;&apos;T1&apos;&apos;)&lt;br/&gt;
--------------&lt;br/&gt;
and italian:&lt;br/&gt;
--------------&lt;br/&gt;
(ad es. select nometabella from sys.systables where CAST(nometabella as VARCHAR(128)) = &apos;&apos;T1&apos;&apos;)&lt;br/&gt;
  should be: &lt;br/&gt;
(ad es. select tablename from sys.systables where CAST(tablename as VARCHAR(128)) = &apos;&apos;T1&apos;&apos;)&lt;br/&gt;
--------------&lt;/p&gt;

&lt;p&gt;Also, to be consistent, maybe all languages should have a period behind the &quot;T1&quot;)&lt;/p&gt;</comment>
                            <comment id="12564888" author="knutanders" created="Fri, 1 Feb 2008 19:16:08 +0000"  >&lt;p&gt;In message 08004.C.6, the German translation uses the word &apos;Aktualisierung&apos; for the English word &apos;upgrade&apos;. It seems as the existing German messages use &apos;aktualisieren&apos; for the English word &apos;update&apos; and &apos;Upgrade&apos; for the English word &apos;upgrade&apos;, so to be consistent, I think we should change&lt;/p&gt;

&lt;p&gt;    Benutzer &apos;&apos;&lt;/p&gt;
{0}&apos;&apos; kann keine Aktualisierung der Datenbank &apos;&apos;{1}&apos;&apos; erzwingen.&lt;br/&gt;
&lt;br/&gt;
to&lt;br/&gt;
&lt;br/&gt;
    Benutzer &apos;&apos;{0}
&lt;p&gt;&apos;&apos; kann kein Upgrade der Datenbank &apos;&apos;&lt;/p&gt;
{1}
&lt;p&gt;&apos;&apos; erzwingen.&lt;/p&gt;

&lt;p&gt;(We should get a +1 from a German speaker on this one, though, before making the change. I&apos;m not sure I have used the correct gender for &apos;Upgrade&apos;. Most places in the existing messages it is treated as neuter, but at least one place it is treated as masculine.)&lt;/p&gt;</comment>
                            <comment id="12564892" author="knutanders" created="Fri, 1 Feb 2008 19:22:13 +0000"  >&lt;p&gt;Regarding the select tablename example in message 42818, would it be clearer to use all upper case for the SQL keywords? Then it would be easier to recognize them as SQL (both for translators and for users).&lt;/p&gt;</comment>
                            <comment id="12564901" author="myrna" created="Fri, 1 Feb 2008 19:38:56 +0000"  >&lt;p&gt;I think that would be better for the SQL. Not sure what to do about the column and tablename.&lt;/p&gt;</comment>
                            <comment id="12564961" author="dyret" created="Fri, 1 Feb 2008 22:41:19 +0000"  >&lt;p&gt;Thanks for the feedback, Myrna and Knut.&lt;/p&gt;

&lt;p&gt;Knut&amp;gt; Regarding the select tablename example in message 42818, would it be clearer to use all upper case for the SQL keywords? &lt;/p&gt;

&lt;p&gt;Most definitely +1 to this one. I must admit I did not understand what the problem was when I read your first comment. At first I thought the problem was that the English version had been changed on trunk so that it no longer matched the 10.3 version which was sent to the translators. But I could not understand it because I checked, rather diligently in my opinion, that there weren&apos;t any changes on trunk that could be over-written by the translations (I actually applied the new translations to the revision in which the 10.3 branch was created and then updated to the HEAD revision. The only problem was that  J131 had been commented out which conflicted with the translated version of that message. (I resolved that manually in the patch). I don&apos;t really blame the translators for not recognizing that the whole sentence is an sql query since only parts of it is capitalized.&lt;/p&gt;

&lt;p&gt;Knut&amp;gt; I&apos;m not sure I have used the correct gender for &apos;Upgrade&apos;. Most places in the existing messages it is treated as neuter, but at least one place it is treated as masculine.&lt;/p&gt;

&lt;p&gt;I seem to have a vague recollection from my high-school German class that Nouns ending with &apos;e&apos; usually were feminine. But I also seem to remember something about the such rules not applying to imported foreign Nouns. According to &lt;a href=&quot;http://woerterbuch.reverso.net/deutsch-englisch/Upgrade&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://woerterbuch.reverso.net/deutsch-englisch/Upgrade&lt;/a&gt;  the gender of &apos;upgrade&apos; is neuter. Which in turn means we probably should correct the places where it is treated as masculine.&lt;/p&gt;</comment>
                            <comment id="12565359" author="knutanders" created="Mon, 4 Feb 2008 14:11:44 +0000"  >&lt;p&gt;Thanks for the linguistic research, Dyre! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; If it&apos;s neuter, I believe the change I suggested above is correct. The only place I found where it was treated as masculine, was:&lt;/p&gt;

&lt;p&gt;01J05=Der Upgrade f\u00fcr die Datenbank wurde fehlerfrei durchgef\u00fchrt. (...)&lt;/p&gt;</comment>
                            <comment id="12565872" author="rhillegas" created="Tue, 5 Feb 2008 20:32:55 +0000"  >&lt;p&gt;Thanks for the patch, Dyre. I am attaching two pieces of code which have helped me to sanity check this submission:&lt;/p&gt;

&lt;p&gt;checkMessages.sql - this script uses the PropertyFileVTI to create views on 10.3 and 10.2 message files&lt;/p&gt;

&lt;p&gt;CheckMessages.java - this holds a procedure which uses those views to sanity check the message files&lt;/p&gt;

&lt;p&gt;To use this code, you need to build the java class then run the sql script.&lt;/p&gt;

&lt;p&gt;On the whole the submission looks pretty solid as far as this sanity checker is concerned. I do see three messages whose English text changed between 10.2 and 10.3 without there being corresponding changes to the other languages in this patch. Two of the messages seem to be typos or grammatical corrections in English so I think they can be ignored. The remaining message, XJ125.S, appears to be a substantive change which is not reflected in the Chinese localizations in this patch. Here&apos;s the output of my test run:&lt;/p&gt;

&lt;p&gt;-------------------------------&lt;br/&gt;
&amp;#8211;&lt;br/&gt;
-- Check the messages.&lt;br/&gt;
&amp;#8211;&lt;br/&gt;
-------------------------------&lt;/p&gt;

&lt;p&gt;call checkMessages();&lt;br/&gt;
------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;The following messages have not been translated into engine_traditional_chinese&lt;/p&gt;

&lt;p&gt;The following messages appear more than once in engine_traditional_chinese&lt;br/&gt;
The following messages have not been deleted from engine_traditional_chinese&lt;br/&gt;
The following messages have changed in English but not in engine_traditional_chinese&lt;br/&gt;
	42X69&lt;br/&gt;
	XJ125.S&lt;br/&gt;
	XSDFI.S&lt;br/&gt;
------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;The following messages have not been translated into engine_japanese&lt;/p&gt;

&lt;p&gt;The following messages appear more than once in engine_japanese&lt;br/&gt;
The following messages have not been deleted from engine_japanese&lt;br/&gt;
The following messages have changed in English but not in engine_japanese&lt;br/&gt;
	42X69&lt;br/&gt;
	XJ125.S&lt;br/&gt;
------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;The following messages have not been translated into engine_italian&lt;/p&gt;

&lt;p&gt;The following messages appear more than once in engine_italian&lt;br/&gt;
The following messages have not been deleted from engine_italian&lt;br/&gt;
The following messages have changed in English but not in engine_italian&lt;br/&gt;
	42X69&lt;br/&gt;
	XSDFI.S&lt;br/&gt;
------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;The following messages have not been translated into engine_french&lt;/p&gt;

&lt;p&gt;The following messages appear more than once in engine_french&lt;br/&gt;
The following messages have not been deleted from engine_french&lt;br/&gt;
The following messages have changed in English but not in engine_french&lt;br/&gt;
	42X69&lt;br/&gt;
	XSDFI.S&lt;br/&gt;
------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;The following messages have not been translated into engine_spanish&lt;/p&gt;

&lt;p&gt;The following messages appear more than once in engine_spanish&lt;br/&gt;
The following messages have not been deleted from engine_spanish&lt;br/&gt;
The following messages have changed in English but not in engine_spanish&lt;br/&gt;
	42X69&lt;br/&gt;
	XSDFI.S&lt;br/&gt;
------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;The following messages have not been translated into engine_korean&lt;/p&gt;

&lt;p&gt;The following messages appear more than once in engine_korean&lt;br/&gt;
The following messages have not been deleted from engine_korean&lt;br/&gt;
The following messages have changed in English but not in engine_korean&lt;br/&gt;
	42X69&lt;br/&gt;
	XSDFI.S&lt;br/&gt;
------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;The following messages have not been translated into engine_simple_chinese&lt;/p&gt;

&lt;p&gt;The following messages appear more than once in engine_simple_chinese&lt;br/&gt;
The following messages have not been deleted from engine_simple_chinese&lt;br/&gt;
The following messages have changed in English but not in engine_simple_chinese&lt;br/&gt;
	42X69&lt;br/&gt;
	XJ125.S&lt;br/&gt;
	XSDFI.S&lt;br/&gt;
------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;The following messages have not been translated into engine_german&lt;/p&gt;

&lt;p&gt;The following messages appear more than once in engine_german&lt;br/&gt;
The following messages have not been deleted from engine_german&lt;br/&gt;
The following messages have changed in English but not in engine_german&lt;br/&gt;
	42X69&lt;br/&gt;
	XSDFI.S&lt;br/&gt;
------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;The following messages have not been translated into drda_traditional_chinese&lt;/p&gt;

&lt;p&gt;The following messages appear more than once in drda_traditional_chinese&lt;br/&gt;
	DRDA_InvalidValue.U&lt;br/&gt;
The following messages have not been deleted from drda_traditional_chinese&lt;br/&gt;
The following messages have changed in English but not in drda_traditional_chinese&lt;br/&gt;
------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;The following messages have not been translated into drda_japanese&lt;/p&gt;

&lt;p&gt;The following messages appear more than once in drda_japanese&lt;br/&gt;
	DRDA_InvalidValue.U&lt;br/&gt;
The following messages have not been deleted from drda_japanese&lt;br/&gt;
The following messages have changed in English but not in drda_japanese&lt;br/&gt;
------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;The following messages have not been translated into drda_italian&lt;/p&gt;

&lt;p&gt;The following messages appear more than once in drda_italian&lt;br/&gt;
	DRDA_InvalidValue.U&lt;br/&gt;
The following messages have not been deleted from drda_italian&lt;br/&gt;
The following messages have changed in English but not in drda_italian&lt;br/&gt;
------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;The following messages have not been translated into drda_french&lt;/p&gt;

&lt;p&gt;The following messages appear more than once in drda_french&lt;br/&gt;
	DRDA_InvalidValue.U&lt;br/&gt;
The following messages have not been deleted from drda_french&lt;br/&gt;
The following messages have changed in English but not in drda_french&lt;br/&gt;
------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;The following messages have not been translated into drda_spanish&lt;/p&gt;

&lt;p&gt;The following messages appear more than once in drda_spanish&lt;br/&gt;
	DRDA_InvalidValue.U&lt;br/&gt;
The following messages have not been deleted from drda_spanish&lt;br/&gt;
The following messages have changed in English but not in drda_spanish&lt;br/&gt;
------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;The following messages have not been translated into drda_korean&lt;/p&gt;

&lt;p&gt;The following messages appear more than once in drda_korean&lt;br/&gt;
	DRDA_InvalidValue.U&lt;br/&gt;
The following messages have not been deleted from drda_korean&lt;br/&gt;
The following messages have changed in English but not in drda_korean&lt;br/&gt;
------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;The following messages have not been translated into drda_simple_chinese&lt;/p&gt;

&lt;p&gt;The following messages appear more than once in drda_simple_chinese&lt;br/&gt;
	DRDA_InvalidValue.U&lt;br/&gt;
The following messages have not been deleted from drda_simple_chinese&lt;br/&gt;
The following messages have changed in English but not in drda_simple_chinese&lt;br/&gt;
------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;The following messages have not been translated into drda_german&lt;/p&gt;

&lt;p&gt;The following messages appear more than once in drda_german&lt;br/&gt;
	DRDA_InvalidValue.U&lt;br/&gt;
The following messages have not been deleted from drda_german&lt;br/&gt;
The following messages have changed in English but not in drda_german&lt;br/&gt;
------------------------------------------------------------&lt;/p&gt;</comment>
                            <comment id="12565878" author="rhillegas" created="Tue, 5 Feb 2008 20:37:35 +0000"  >&lt;p&gt;Provided that native speakers of these languages agree, I think that this is great incremental improvement. I would not hold up the committing of this patch for any of the suggestions made so far--including my own. It would be a great kindness on your part if you would commit this work to both the trunk and the 10.3 branch. Thanks!&lt;/p&gt;</comment>
                            <comment id="12566180" author="dyret" created="Wed, 6 Feb 2008 16:22:10 +0000"  >&lt;p&gt;I don&apos;t have the cycles to look into this right now. Hopefully I, or someone else, can get it done in time for the release.&lt;/p&gt;

&lt;p&gt;I don&apos;t really understand the duplicated DRDA messages though. This is what I get on trunk (619043):&lt;/p&gt;

&lt;p&gt; for f in java/drda/org/apache/derby/loc/drda/messages_*.properties; do echo $f; egrep DRDA_InvalidVa $f | wc -l; done&lt;/p&gt;

&lt;p&gt;java/drda/org/apache/derby/loc/drda/messages_cs.properties&lt;br/&gt;
       1&lt;br/&gt;
java/drda/org/apache/derby/loc/drda/messages_de_DE.properties&lt;br/&gt;
       1&lt;br/&gt;
java/drda/org/apache/derby/loc/drda/messages_en.properties&lt;br/&gt;
       1&lt;br/&gt;
java/drda/org/apache/derby/loc/drda/messages_es.properties&lt;br/&gt;
       1&lt;br/&gt;
java/drda/org/apache/derby/loc/drda/messages_fr.properties&lt;br/&gt;
       1&lt;br/&gt;
java/drda/org/apache/derby/loc/drda/messages_hu.properties&lt;br/&gt;
       1&lt;br/&gt;
java/drda/org/apache/derby/loc/drda/messages_it.properties&lt;br/&gt;
       1&lt;br/&gt;
java/drda/org/apache/derby/loc/drda/messages_ja_JP.properties&lt;br/&gt;
       1&lt;br/&gt;
java/drda/org/apache/derby/loc/drda/messages_ko_KR.properties&lt;br/&gt;
       1&lt;br/&gt;
java/drda/org/apache/derby/loc/drda/messages_pl.properties&lt;br/&gt;
       1&lt;br/&gt;
java/drda/org/apache/derby/loc/drda/messages_pt_BR.properties&lt;br/&gt;
       1&lt;br/&gt;
java/drda/org/apache/derby/loc/drda/messages_ru.properties&lt;br/&gt;
       1&lt;br/&gt;
java/drda/org/apache/derby/loc/drda/messages_zh_CN.properties&lt;br/&gt;
       1&lt;br/&gt;
java/drda/org/apache/derby/loc/drda/messages_zh_TW.properties&lt;br/&gt;
       1&lt;/p&gt;

&lt;p&gt;And if I grep for that message in the patch, I get zero matches:&lt;/p&gt;

&lt;p&gt;dt136804@khepri32~/derby/derby-commit$ egrep DRDA_InvalidVal derby-3375.diff &lt;br/&gt;
dt136804@khepri32~/derby/derby-commit$ &lt;/p&gt;

&lt;p&gt;So where are the duplicates coming from?&lt;/p&gt;</comment>
                            <comment id="12566201" author="rhillegas" created="Wed, 6 Feb 2008 17:02:58 +0000"  >&lt;p&gt;Hi Dyre,&lt;/p&gt;

&lt;p&gt;Sorry to confuse you. I was comparing the 10.3 codeline to the 10.2 codeline. I found that trying to compare 10.4 to 10.2 was more confusing for me because there&apos;s another slug of untranslated messages in 10.4 on top of the 10.3 increment in this patch. So this was my experiment:&lt;/p&gt;

&lt;p&gt;1) Apply the patch to 10.3.&lt;/p&gt;

&lt;p&gt;2) Compile CheckMessages&lt;/p&gt;

&lt;p&gt;3) Edit checkMessages.sql so that the current views point at the patched 10.3 codeline and the previous-rev views point at the 10.2 codeline.&lt;/p&gt;

&lt;p&gt;Hope this is more clear,&lt;br/&gt;
-Rick&lt;/p&gt;</comment>
                            <comment id="12566354" author="dyret" created="Wed, 6 Feb 2008 21:40:56 +0000"  >&lt;p&gt;OK, so I just remembered: I removed the duplicates in &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3366&quot; title=&quot;Various formatting erros in L10N property files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3366&quot;&gt;&lt;del&gt;DERBY-3366&lt;/del&gt;&lt;/a&gt; so that&apos;s why I can&apos;t see them. &lt;/p&gt;

&lt;p&gt;The missing engine translation you see actually exist in the material I got from the translators and it is not reflected in the patch so something isn&apos;t quite right here. It&apos;s probably a problem with the perl script I used to merge the new translations with the existing ones. Doing this would be trivial using VTIs or simply by reading the property files into a java program and writing it to single file. The problem would be a huge diff, and losing comments and headers in the checked in property files.&lt;/p&gt;

&lt;p&gt;I must admit that I think our efforts would be better spent on adding the translations to messages.xml and generate the translated versions just as we now generate messages_en.properties, rather than creating elaborate schemes for syncing the various property files. But the startup costs are probably high...&lt;/p&gt;</comment>
                            <comment id="12566361" author="dyret" created="Wed, 6 Feb 2008 21:45:44 +0000"  >&lt;p&gt;I&apos;m un-assigning myself for now, anyone should feel free to pick it up. I&apos;m planning to attach the raw translations tomorrow (don&apos;t have them available right now)&lt;/p&gt;</comment>
                            <comment id="12566371" author="dyret" created="Wed, 6 Feb 2008 22:19:23 +0000"  >&lt;p&gt;Here are the translations. I&apos;ve converted them from raw unicode to escaped unicode ascii.&lt;/p&gt;

&lt;p&gt;Note that some characters (:=#) that aren&apos;t escaped in the existing property files have been escaped in the translation. So a raw comparison of the message text to see if it has changed probably isn&apos;t going to work.&lt;/p&gt;</comment>
                            <comment id="12566378" author="rhillegas" created="Wed, 6 Feb 2008 22:27:34 +0000"  >&lt;p&gt;I like  your idea of putting all of the translations into messages.xml. If the community agrees that that is the right approach, it sounds like a day or two of work.&lt;/p&gt;</comment>
                            <comment id="12566529" author="dyret" created="Thu, 7 Feb 2008 09:57:46 +0000"  >&lt;p&gt;With regard to 42X69, XJ125.S and XSDFI.S, I think that you&apos;ll find that the patch doesn&apos;t modify those lines because  the message text is identical in the translated file (which I attached) and on trunk. So for now I assume that my script actually did the right thing and that this is the best we can get from the material we currently have. &lt;/p&gt;</comment>
                            <comment id="12569550" author="dyret" created="Sat, 16 Feb 2008 12:57:37 +0000"  >&lt;p&gt;I copied the guts of the MessageBuilder class and managed to parse and traverse the messages.xml file in a standalone program. I think I see how I can can add nodes/elements to the resulting org.w3c.dom.Document tree. But how do I write the resulting tree back to a new file? &lt;/p&gt;

&lt;p&gt;What&apos;s the best way to add the translated messages to the xml structure? Can I just add new tags? E.g. &amp;lt;text_en&amp;gt;, &amp;lt;text_de_DE&amp;gt;...? &lt;/p&gt;</comment>
                            <comment id="12569574" author="knutanders" created="Sat, 16 Feb 2008 14:57:18 +0000"  >&lt;p&gt;I think it&apos;s better to have language as an attribute. Something like this:&lt;/p&gt;

&lt;p&gt;&amp;lt;msg&amp;gt;&lt;br/&gt;
  &amp;lt;name&amp;gt;42Y26&amp;lt;/name&amp;gt;&lt;br/&gt;
  &amp;lt;text lang=&quot;en&quot;&amp;gt;Aggregates are not allowed in the GROUP BY list.&amp;lt;/text&amp;gt;&lt;br/&gt;
  &amp;lt;text lang=&quot;de_DE&quot;&amp;gt;Aggregate sind in der &apos;&apos;GROUP BY&apos;&apos;-Liste nicht zul&#228;ssig.&amp;lt;/text&amp;gt;&lt;br/&gt;
  &amp;lt;text lang=&quot;fr&quot;&amp;gt;Les agr&#233;gats ne sont pas autoris&#233;s dans la liste GROUP BY.&amp;lt;/text&amp;gt;&lt;br/&gt;
  ...&lt;br/&gt;
&amp;lt;/msg&amp;gt;&lt;/p&gt;</comment>
                            <comment id="12569575" author="knutanders" created="Sat, 16 Feb 2008 15:12:38 +0000"  >&lt;p&gt;&amp;gt; how do I write the resulting tree back to a new file?&lt;/p&gt;

&lt;p&gt;Could you use javax.xml.transform.Transformer? This writes an empty XML document to System.out:&lt;/p&gt;

&lt;p&gt;        Transformer t = TransformerFactory.newInstance().newTransformer();&lt;br/&gt;
        t.transform(new DOMSource(), new StreamResult(System.out));&lt;/p&gt;

&lt;p&gt;I think you can pass Document objects to DOMSource&apos;s constructor.&lt;/p&gt;</comment>
                            <comment id="12569651" author="fuzzylogic" created="Sun, 17 Feb 2008 07:12:35 +0000"  >&lt;p&gt;Since you&apos;re generating an almost completely new XML file to hold all the messages, have you thought about transforming it to a standard XML format for translation, such as TMX or XLIFF?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.lisa.org/standards/tmx/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.lisa.org/standards/tmx/&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://docs.oasis-open.org/xliff/v1.2/os/xliff-core.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://docs.oasis-open.org/xliff/v1.2/os/xliff-core.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Probably not a big deal unless the translators you are working with use tools that support one of those formats, but thought I would mention it.&lt;/p&gt;</comment>
                            <comment id="12569866" author="dyret" created="Mon, 18 Feb 2008 11:56:39 +0000"  >&lt;p&gt;@Knut: Yes, I guess an attribute is more appropriate, and yes, your suggestion for printing the new file works (strangely orthogonal to how the file is read, but it works...)&lt;/p&gt;

&lt;p&gt;@Andrew: I did not know about any of these formats. I&apos;ll take a look...&lt;/p&gt;</comment>
                            <comment id="12569912" author="rhillegas" created="Mon, 18 Feb 2008 14:42:08 +0000"  >&lt;p&gt;I took a quick look at the xml grammars which Andrew mentioned. The first one, TMX, looks like it&apos;s rich enough to handle what we need here--but it may be overkill for what we&apos;re doing. The second grammar, XLIFF, doesn&apos;t seem rich enough, at least not at first glance: its translation units seem to support only one target translation of the source text rather than the 14 or so targets which we need. I think it should be easy to generate these other formats from our xml grammar if we have to.&lt;/p&gt;

&lt;p&gt;One detail to keep in mind: The proposed grammar treats all of the localizations as equal citizens. However, in Derby, English plays the special role of being the default language, that is, the text you get if the community hasn&apos;t gotten around to localizing an error message for your language. As a sanity check, the MessageBuilder should make sure that an English variant is available for every message. Alternatively, the grammer could be tweaked so that the xml parser could sanity check the file for us--that is, the English text could live in a special, required element.&lt;/p&gt;</comment>
                            <comment id="12569926" author="kmarsden" created="Mon, 18 Feb 2008 16:00:37 +0000"  >&lt;p&gt;I haven&apos;t been following the xml conversation closely here, but is the goal to combine all the translated messages into a single xml file?  Wouldn&apos;t that make it hard to distribute the translations to different parts of the world and merge them back together again?&lt;/p&gt;

&lt;p&gt;I can recall translators in the past saying how easy it was to translate the  messages because of the way it was set up.   I wouldn&apos;t want to make it harder on the translators or the community to contribute/merge messages.&lt;/p&gt;</comment>
                            <comment id="12569935" author="dyret" created="Mon, 18 Feb 2008 16:20:33 +0000"  >&lt;p&gt;Kathey&amp;gt; is the goal to combine all the translated messages into a single xml file?&lt;/p&gt;

&lt;p&gt;Correct.&lt;/p&gt;

&lt;p&gt;Kathey&amp;gt; Wouldn&apos;t that make it hard to distribute the translations to different parts of the world and merge them back together again? &lt;/p&gt;

&lt;p&gt;Not sure I understand why that would be the case. Why would it be harder to distribute an xml file than a set of property files?&lt;/p&gt;

&lt;p&gt;Kathey&amp;gt; I wouldn&apos;t want to make it harder on the translators or the community to contribute/merge messages.&lt;/p&gt;

&lt;p&gt;Nor would I. But I don&apos;t see why that would be the case. Sure, anybody translating messages would have to update the same file, but since each translation would be on a separate line in the xml file it should be easy to merge the diffs coming from each translator. And from my own experience with this I have to say that I think a single file would make it  much easier to see which messages have been translated into what languages. It would also make it easier to spot errors in the translation like the ones Knut has pointed out, since you can easily view the English and the translated version next to each other...&lt;/p&gt;</comment>
                            <comment id="12569942" author="kmarsden" created="Mon, 18 Feb 2008 16:44:41 +0000"  >&lt;p&gt;Dyre asked ...&lt;br/&gt;
&amp;gt;Why would it be harder to distribute an xml file than a set of property files? &lt;/p&gt;

&lt;p&gt;I guess the trouble is not in the distribution but in merging all those xml files together once you get them back.  So if you sent the xml file out to n translators and got n variations back, you would have to merge them all together, take into account any new messages that have been added in the meanwhile and make sure they  all get  merged correctly.  Seems harder to me than just  checking and  checking in  n property files.&lt;/p&gt;

&lt;p&gt;I am not working in translated files these days nor do I think I will be any time soon, so you should do whatever you think will make it easier for those who are, but just thought I would mention it as food for thought.&lt;/p&gt;</comment>
                            <comment id="12569951" author="rhillegas" created="Mon, 18 Feb 2008 17:05:37 +0000"  >&lt;p&gt;It&apos;s possible that subversion will do a bad job of merging the translations. Two translators would end up adding their language-specific elements at the same spot in the message file. A lot of code management tools have trouble with that situation and see it as a merge conflict.&lt;/p&gt;</comment>
                            <comment id="12569998" author="fuzzylogic" created="Mon, 18 Feb 2008 20:00:41 +0000"  >&lt;p&gt;If translators supply diffs to the original files, there will never be an issue merging the diff into the original file. And Subversion does a very good job of merging committed changes into local files, especially if the changes are orthogonal, so I don&apos;t think there&apos;s really much of an issue with sending the XML to translators.&lt;/p&gt;

&lt;p&gt;svn up -r ORIGINAL messages.xml&lt;br/&gt;
patch -p0 &amp;lt; translator.diff&lt;br/&gt;
svn up&lt;br/&gt;
svn commit&lt;/p&gt;</comment>
                            <comment id="12570200" author="dyret" created="Tue, 19 Feb 2008 13:03:22 +0000"  >&lt;p&gt;I would have thought that this would work the way Andrew indicates... but I have not tried it.&lt;/p&gt;

&lt;p&gt;What if new error messages are added like this:&lt;/p&gt;

&lt;p&gt;            &amp;lt;msg&amp;gt;&lt;br/&gt;
                &amp;lt;name&amp;gt;ABCDE.x&amp;lt;/name&amp;gt;&lt;br/&gt;
                &amp;lt;text lang=&quot;en&quot;&amp;gt;Some error with arg &apos;&lt;/p&gt;
{0}
&lt;p&gt;&apos;.&amp;lt;/text&amp;gt;&lt;br/&gt;
                &amp;lt;arg&amp;gt;SomeArg&amp;lt;/arg&amp;gt;&lt;br/&gt;
                &amp;lt;!-- &amp;lt;text lang=&quot;de_DE&quot;&amp;gt;Uncomment, and add translated text here&amp;lt;/text&amp;gt; ---&amp;gt;&lt;br/&gt;
                &amp;lt;!-- &amp;lt;text lang=&quot;fr&quot;&amp;gt;Uncomment, and add translated text here&amp;lt;/text&amp;gt; ---&amp;gt;&lt;br/&gt;
                &amp;lt;!-- &amp;lt;text lang=&quot;it&quot;&amp;gt;Uncomment, and add translated text here&amp;lt;/text&amp;gt; ---&amp;gt;&lt;br/&gt;
                ...&lt;br/&gt;
                &amp;lt;!-- &amp;lt;text lang=&quot;cn_TW&quot;&amp;gt;Uncomment, and add translated text here&amp;lt;/text&amp;gt; ---&amp;gt;&lt;br/&gt;
            &amp;lt;/msg&amp;gt;&lt;/p&gt;

&lt;p&gt;Then no translation would have to add any lines, only modify exiting ones. And, at least in theory, no two translations would need to touch the same lines...&lt;/p&gt;</comment>
                            <comment id="12570268" author="rhillegas" created="Tue, 19 Feb 2008 15:30:26 +0000"  >&lt;p&gt;Hi Dyre,&lt;/p&gt;

&lt;p&gt;If subversion can&apos;t handle the merge, then I think your solution will work as long as people remember to add the comment block every time they create a new message. Methinks it&apos;s a bit brittle and messy though.&lt;/p&gt;</comment>
                            <comment id="12570284" author="djd" created="Tue, 19 Feb 2008 16:02:54 +0000"  >&lt;p&gt;I don&apos;t think the comment block is a good idea, it doesn&apos;t cover new languages so the so-called &quot;merge problem&quot; would still be there. Also if anyone writes a tool to aid with translation then the comments are going to be left in the file.&lt;/p&gt;

&lt;p&gt;I don&apos;t think there&apos;s any issue with merges, this is an XML format which means it&apos;s structured, so simple tools can be written to process any input from a translator, e.g. normalize it, extract what&apos;s different from its original, apply that to the latest version etc.&lt;/p&gt;

&lt;p&gt;Also picking an existing standard format is a good approach, this may make it easier for translators as they may have tools that process the file. Also it may mean we have access to existing tools to process the file, e.g. for handing multiple versions from different translators.&lt;/p&gt;
</comment>
                            <comment id="12570289" author="dyret" created="Tue, 19 Feb 2008 16:21:33 +0000"  >&lt;p&gt;Ok, I&apos;ve decided not to try to figure this out in time for 10.4. What I would like to do is to use most of the patch I&apos;ve uploaded already, but keep the old translations for 42818. Any objections to that approach?&lt;/p&gt;</comment>
                            <comment id="12570700" author="rhillegas" created="Wed, 20 Feb 2008 14:23:54 +0000"  >&lt;p&gt;I&apos;m skeptical that we will find an off-the-shelf xml dialect which we can just use as-is. The existing grammar in messages.dtd was designed for a very specific problem, viz., making it easy to generate the error summary in our user guides. In particular, I don&apos;t see the &amp;lt;arg&amp;gt; tags modelled in either of the alternate grammars which have been proposed. I think we might be able to use the LDIFF grammar if we rewrote the message text itself, replacing the &lt;/p&gt;
{n}
&lt;p&gt; argument placeholders with other markup.&lt;/p&gt;</comment>
                            <comment id="12570703" author="dyret" created="Wed, 20 Feb 2008 14:30:08 +0000"  >&lt;p&gt;New patch which fixes 42818 and the errors in the German translation. Also capitalizes the SQL keywords for 42818 in messages.xml&lt;/p&gt;</comment>
                            <comment id="12572499" author="dyret" created="Tue, 26 Feb 2008 14:38:27 +0000"  >&lt;p&gt;I plan to commit the v2 patch unless there are further comments. I plan to leave the issue open until there is a consensus on how to handle error messages and localization. If someone decides to pick this up for a later release it might be good to create a new Jira.&lt;/p&gt;</comment>
                            <comment id="12573333" author="dyret" created="Thu, 28 Feb 2008 15:53:16 +0000"  >&lt;p&gt;Committed revision 632032.&lt;/p&gt;</comment>
                            <comment id="12573684" author="dyret" created="Fri, 29 Feb 2008 11:31:02 +0000"  >&lt;p&gt;Here is a patch which fixes the remaining 4 master files in the old harness.&lt;/p&gt;</comment>
                            <comment id="12573715" author="dyret" created="Fri, 29 Feb 2008 12:48:32 +0000"  >&lt;p&gt;I committed the master file update in revision 632307. Sorry about committing so quickly, but I really wanted to get rid of the regression failures. Feel free post to additional comments...&lt;/p&gt;</comment>
                            <comment id="12580420" author="dyret" created="Wed, 19 Mar 2008 15:53:38 +0000"  >&lt;p&gt;I&apos;m closing this since the original problem has been fixed. If someone wants to pick up the task of changing the localization system, I think it would be good to create a separate Jira for that.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12384304">DERBY-3267</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12389828">DERBY-3480</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12387488">DERBY-3366</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12374814" name="CheckMessages.java" size="4526" author="rhillegas" created="Tue, 5 Feb 2008 20:32:55 +0000"/>
                            <attachment id="12374815" name="checkMessages.sql" size="8206" author="rhillegas" created="Tue, 5 Feb 2008 20:32:55 +0000"/>
                            <attachment id="12374571" name="derby-3375.diff" size="249387" author="dyret" created="Fri, 1 Feb 2008 18:09:12 +0000"/>
                            <attachment id="12376810" name="derby-3375.master.v1.diff" size="61473" author="dyret" created="Fri, 29 Feb 2008 11:31:02 +0000"/>
                            <attachment id="12376025" name="derby-3375.v2.diff" size="251884" author="dyret" created="Wed, 20 Feb 2008 14:30:08 +0000"/>
                            <attachment id="12374921" name="drda_messages.zip" size="11331" author="dyret" created="Wed, 6 Feb 2008 22:19:23 +0000"/>
                            <attachment id="12374920" name="engine_messages.zip" size="66879" author="dyret" created="Wed, 6 Feb 2008 22:19:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 1 Feb 2008 18:32:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30827</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0qzj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38190</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>