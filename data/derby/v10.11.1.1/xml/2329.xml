<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:52:15 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-2329/DERBY-2329.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-2329] Compatibility test fails in all combinations with &apos;serverTrunk&apos;, i.e. current trunk revision. (since tinderbox on svn 506771)</title>
                <link>https://issues.apache.org/jira/browse/DERBY-2329</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Since tinderbox test on svn 506771 the compativility test has failed in all combinations of&lt;br/&gt;
 serverVM-&amp;lt;X&amp;gt;_serverTrunk_clientVM-&amp;lt;Y&amp;gt;_client&amp;lt;Z&amp;gt;&lt;/p&gt;

&lt;p&gt;See e.g.&lt;br/&gt;
  &lt;a href=&quot;http://dbtg.thresher.com/derby/test/tinderbox_trunk16/jvm1.6/testing/Limited/testSummary-506771.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dbtg.thresher.com/derby/test/tinderbox_trunk16/jvm1.6/testing/Limited/testSummary-506771.html&lt;/a&gt;&lt;br/&gt;
  &lt;a href=&quot;http://dbtg.thresher.com/derby/test/tinderbox_trunk16/jvm1.6/testing/Limited/testSummary-506972.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dbtg.thresher.com/derby/test/tinderbox_trunk16/jvm1.6/testing/Limited/testSummary-506972.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Some cases&lt;/p&gt;

&lt;p&gt;VM Version = 1.6&lt;br/&gt;
Could not find org.apache.derby.jdbc.ClientDriver&lt;br/&gt;
Could not find org.apache.derby.jdbc.EmbeddedDriver&lt;br/&gt;
Driver com.ibm.db2.jcc.DB2Driver Version = 2.4&lt;br/&gt;
com.ibm.db2.jcc.c.SqlException: java.net.ConnectException : Error opening socket to server localhost on port 1527 with message : Connection refused&lt;br/&gt;
	at com.ibm.db2.jcc.a.a.&amp;lt;init&amp;gt;(a.java:135)&lt;br/&gt;
	at com.ibm.db2.jcc.a.b.a(b.java:1542)&lt;br/&gt;
	at com.ibm.db2.jcc.c.o.&amp;lt;init&amp;gt;(o.java:795)&lt;br/&gt;
	at com.ibm.db2.jcc.a.b.&amp;lt;init&amp;gt;(b.java:298)&lt;br/&gt;
	at com.ibm.db2.jcc.DB2Driver.connect(DB2Driver.java:162)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:582)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:154)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.util.DerbyJUnitTest.getConnection(DerbyJUnitTest.java:378)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.util.DerbyJUnitTest.getConnection(DerbyJUnitTest.java:357)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.junitTests.compatibility.CompatibilitySuite.findServer(CompatibilitySuite.java:283)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.junitTests.compatibility.CompatibilitySuite.main(CompatibilitySuite.java:130)&lt;br/&gt;
Exception in thread &quot;main&quot; java.lang.Exception: Error lookup up server info: java.net.ConnectException : Error opening socket to server localhost on port 1527 with message : Connection refused&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.junitTests.compatibility.CompatibilitySuite.findServer(CompatibilitySuite.java:295)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.junitTests.compatibility.CompatibilitySuite.main(CompatibilitySuite.java:130)&lt;/p&gt;



&lt;p&gt;VM Version = 1.6&lt;br/&gt;
Could not find com.ibm.db2.jcc.DB2Driver&lt;br/&gt;
Could not find org.apache.derby.jdbc.EmbeddedDriver&lt;br/&gt;
Driver org.apache.derby.jdbc.ClientDriver Version = 10.3&lt;br/&gt;
java.sql.SQLTransientConnectionException: java.net.ConnectException : Error connecting to server localhost on port 1527 with message Connection refused.&lt;br/&gt;
	at org.apache.derby.client.am.SQLExceptionFactory40.getSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.client.am.SqlException.getSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.jdbc.ClientDriver.connect(Unknown Source)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:582)&lt;br/&gt;
	at java.sql.DriverManager.getConnection(DriverManager.java:154)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.util.DerbyJUnitTest.getConnection(DerbyJUnitTest.java:378)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.util.DerbyJUnitTest.getConnection(DerbyJUnitTest.java:357)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.junitTests.compatibility.CompatibilitySuite.findServer(CompatibilitySuite.java:283)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.junitTests.compatibility.CompatibilitySuite.main(CompatibilitySuite.java:130)&lt;br/&gt;
Caused by: org.apache.derby.client.am.DisconnectException: java.net.ConnectException : Error connecting to server localhost on port 1527 with message Connection refused.&lt;br/&gt;
	at org.apache.derby.client.net.NetAgent.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.client.net.NetConnection.newAgent_(Unknown Source)&lt;br/&gt;
	at org.apache.derby.client.am.Connection.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.client.net.NetConnection.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.client.net.NetConnection40.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.derby.client.net.ClientJDBCObjectFactoryImpl40.newNetConnection(Unknown Source)&lt;br/&gt;
	... 7 more&lt;br/&gt;
Caused by: java.net.ConnectException: Connection refused&lt;br/&gt;
	at java.net.PlainSocketImpl.socketConnect(Native Method)&lt;br/&gt;
	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:333)&lt;br/&gt;
	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:195)&lt;br/&gt;
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:182)&lt;br/&gt;
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)&lt;br/&gt;
	at java.net.Socket.connect(Socket.java:519)&lt;br/&gt;
	at java.net.Socket.connect(Socket.java:469)&lt;br/&gt;
	at java.net.Socket.&amp;lt;init&amp;gt;(Socket.java:366)&lt;br/&gt;
	at java.net.Socket.&amp;lt;init&amp;gt;(Socket.java:179)&lt;br/&gt;
	at org.apache.derby.client.net.OpenSocketAction.run(Unknown Source)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
	... 13 more&lt;br/&gt;
Exception in thread &quot;main&quot; java.lang.Exception: Error lookup up server info: java.net.ConnectException : Error connecting to server localhost on port 1527 with message Connection refused.&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.junitTests.compatibility.CompatibilitySuite.findServer(CompatibilitySuite.java:295)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.junitTests.compatibility.CompatibilitySuite.main(CompatibilitySuite.java:130)&lt;/p&gt;
</description>
                <environment>OS: Solaris 10 6/06 s10x_u2wos_09a X86 64bits - SunOS 5.10 Generic_118855-14&lt;br/&gt;
</environment>
        <key id="12362700">DERBY-2329</key>
            <summary>Compatibility test fails in all combinations with &apos;serverTrunk&apos;, i.e. current trunk revision. (since tinderbox on svn 506771)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="olesolberg">Ole Solberg</assignee>
                                    <reporter username="olesolberg">Ole Solberg</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Feb 2007 16:29:46 +0000</created>
                <updated>Fri, 16 Feb 2007 20:57:03 +0000</updated>
                            <resolved>Fri, 16 Feb 2007 13:07:29 +0000</resolved>
                                    <version>10.3.1.4</version>
                                    <fixVersion>10.3.1.4</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12472765" author="kristwaa" created="Tue, 13 Feb 2007 17:05:42 +0000"  >&lt;p&gt;I think this is the reason:&lt;br/&gt;
$ java -jar derbyrun.jar server start&lt;br/&gt;
Network Server startup failed. User authentication should be enabled before the Network Server installs a security manager. Please either set the &apos;derby.connection.requireAuthentication&apos; system property to true or run the network server with the &apos;-unsecure&apos; option.&lt;/p&gt;

&lt;p&gt;Not sure how to best handle it though. Specifying -unsecure for versions &amp;lt;= 10.2.20 will cause a syntax error, so if the plan is to run with -unsecure, the ant script must be able to differentiate between versions in the _startServer target. I guess this could be easily done by passing a flag?&lt;/p&gt;

&lt;p&gt;Another option is to setup authentication, but I don&apos;t know if this is compatible across all versions.&lt;/p&gt;

&lt;p&gt;The underlying question is of course, do we want to run the compatibility test with a security manager and authentication enabled?&lt;/p&gt;</comment>
                            <comment id="12472846" author="olesolberg" created="Tue, 13 Feb 2007 19:47:07 +0000"  >&lt;p&gt;Thanks Kristian for you analysis!&lt;/p&gt;

&lt;p&gt;As this is correct behaviour: changed to&lt;br/&gt;
no regression,&lt;br/&gt;
priority: trivial,&lt;br/&gt;
component: test&lt;/p&gt;</comment>
                            <comment id="12473168" author="olesolberg" created="Wed, 14 Feb 2007 19:44:11 +0000"  >&lt;p&gt;Added extra parameter to pass &quot;-unsecure&quot; (or &quot;&quot; for older server versions) to the targets &lt;br/&gt;
_startServer, _forServerVersion, _forServerVM &lt;br/&gt;
in compatibility/testScript.xml .&lt;/p&gt;</comment>
                            <comment id="12473695" author="knutanders" created="Fri, 16 Feb 2007 13:07:29 +0000"  >&lt;p&gt;Fixed in revision 508383.&lt;/p&gt;</comment>
                            <comment id="12473821" author="olesolberg" created="Fri, 16 Feb 2007 20:57:03 +0000"  >&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2315&quot; title=&quot;compatibility/testScript.xml should include 10.2.2 in the server/client combinations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2315&quot;&gt;&lt;del&gt;DERBY-2315&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12362431">DERBY-2315</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12351163" name="derby-2329_v1_diff.txt" size="2413" author="olesolberg" created="Wed, 14 Feb 2007 19:44:11 +0000"/>
                            <attachment id="12351164" name="derby-2329_v1_status.txt" size="104" author="olesolberg" created="Wed, 14 Feb 2007 19:44:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 13 Feb 2007 17:05:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23004</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy13bj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40188</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>