<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:52:39 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-2491/DERBY-2491.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-2491] Convert distinct.sql to JUnit</title>
                <link>https://issues.apache.org/jira/browse/DERBY-2491</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description></description>
                <environment></environment>
        <key id="12365868">DERBY-2491</key>
            <summary>Convert distinct.sql to JUnit</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fuzzylogic">Andrew McIntyre</assignee>
                                    <reporter username="fuzzylogic">Andrew McIntyre</reporter>
                        <labels>
                    </labels>
                <created>Tue, 27 Mar 2007 07:44:46 +0100</created>
                <updated>Wed, 1 Jul 2009 00:40:24 +0100</updated>
                            <resolved>Thu, 29 Mar 2007 04:47:20 +0100</resolved>
                                                    <fixVersion>10.3.1.4</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12484387" author="fuzzylogic" created="Tue, 27 Mar 2007 10:51:06 +0100"  >&lt;p&gt;Attaching a preliminary patch for this issue. This converts all of the testcases that utilize the distinct.subsql script, which accounts for about 75% of the test. I&apos;ll follow up with the remaining testcases tomorrow. If anyone has any suggestions on how to improve the test so that it is more readable / debuggable, please let me know.&lt;/p&gt;</comment>
                            <comment id="12484650" author="fuzzylogic" created="Wed, 28 Mar 2007 00:44:40 +0100"  >&lt;p&gt;Will include distinctElimination and distinctFiltering in this conversion.&lt;/p&gt;</comment>
                            <comment id="12484660" author="fuzzylogic" created="Wed, 28 Mar 2007 01:17:01 +0100"  >&lt;p&gt;Attaching converted test for this issue, note that one testcase for group by that somehow ended up in distinct.sql was moved over to a new GroupByTest. Please review, if there are no comments, I&apos;ll commit this tomorrow morning after adding a few more javadoc comments.&lt;/p&gt;</comment>
                            <comment id="12484661" author="fuzzylogic" created="Wed, 28 Mar 2007 01:17:19 +0100"  >&lt;p&gt;Stat file&lt;/p&gt;</comment>
                            <comment id="12484662" author="fuzzylogic" created="Wed, 28 Mar 2007 01:18:38 +0100"  >&lt;p&gt;Accidentally redirected stat output over my diff file, attaching the correct diff here.&lt;/p&gt;</comment>
                            <comment id="12484868" author="knutanders" created="Wed, 28 Mar 2007 14:31:53 +0100"  >&lt;p&gt;If I have read the patch correctly, DistinctTest.checkDistinctRows only tests that the queries return the correct number of rows. Are we confident that the other aspects of SELECT DISTINCT (for instance that the returned values in fact are distinct and the ones we expect) are tested well enough by other tests?&lt;/p&gt;

&lt;p&gt;What I do like about the approach is that the test doesn&apos;t fail if the order of the rows changes, since I am planning to post a patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2493&quot; title=&quot;Use unsynchronized collections in BackingStoreHashtable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2493&quot;&gt;&lt;del&gt;DERBY-2493&lt;/del&gt;&lt;/a&gt; which will change the order. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Some tiny nits:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;checkDistinctRows() could be private, I think&lt;/li&gt;
	&lt;li&gt;in checkDistinctRows(), &quot;if (rowcounts.length != 37) fail(...)&quot; could be changed to assertEquals&lt;/li&gt;
	&lt;li&gt;in javadoc for RuntimeStatisticsParser.indexOf(): &quot;founf&quot; -&amp;gt; &quot;found&quot;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12484926" author="fuzzylogic" created="Wed, 28 Mar 2007 17:56:46 +0100"  >&lt;p&gt;Whoops! Meant to attach my response to the review comments to this issue, but accidentally ended up attaching them to &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2493&quot; title=&quot;Use unsynchronized collections in BackingStoreHashtable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2493&quot;&gt;&lt;del&gt;DERBY-2493&lt;/del&gt;&lt;/a&gt;. Please see the comments in that issue if interested.&lt;/p&gt;</comment>
                            <comment id="12485059" author="fuzzylogic" created="Thu, 29 Mar 2007 04:47:20 +0100"  >&lt;p&gt;Committed new test to repository with revision 523546, closing.&lt;/p&gt;</comment>
                            <comment id="12485111" author="knutanders" created="Thu, 29 Mar 2007 09:52:03 +0100"  >&lt;p&gt;Thanks for your comments, Andrew! I agree that the redundancy of the queries gives us the needed confidence. As to the ordering of the results, I have just committed a new assert method (assertUnorderedResultSet) as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2493&quot; title=&quot;Use unsynchronized collections in BackingStoreHashtable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2493&quot;&gt;&lt;del&gt;DERBY-2493&lt;/del&gt;&lt;/a&gt;. It takes the same parameters as assertFullResultSet and ignores the order of the results. I also updated one of the test cases in DistinctTest that would have failed because of &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2493&quot; title=&quot;Use unsynchronized collections in BackingStoreHashtable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2493&quot;&gt;&lt;del&gt;DERBY-2493&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12354301" name="derby-2491-pre.diff" size="14213" author="fuzzylogic" created="Tue, 27 Mar 2007 10:51:06 +0100"/>
                            <attachment id="12354377" name="derby-2491-v1.diff" size="867289" author="fuzzylogic" created="Wed, 28 Mar 2007 01:18:38 +0100"/>
                            <attachment id="12354376" name="derby-2491-v1.stat" size="1475" author="fuzzylogic" created="Wed, 28 Mar 2007 01:17:19 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 28 Mar 2007 13:31:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30477</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0tzr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38677</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>