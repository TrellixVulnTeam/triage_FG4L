<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:40:13 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-675/DERBY-675.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-675] Build-time processing of &quot;metadata.properties&quot; file handles slashes incorrectly.</title>
                <link>https://issues.apache.org/jira/browse/DERBY-675</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;As found and described by Mamta here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.nabble.com/-Derby-573-Optimizer-overrides-and-metadata.properties-files-t460642.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.nabble.com/-Derby-573-Optimizer-overrides-and-metadata.properties-files-t460642.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;During the ant build process, Derby&apos;s metadata.properties file is modified by the ODBCMetadataGenerator class and that class treats backslashes that occur in the metadata.properties file incorrectly.  More specifically, it treats every backslash as the end of a line and thus will translate things like&lt;/p&gt;

&lt;p&gt;FROM --DERBY-PROPERTIES joinOrder=FIXED &lt;br class=&quot;atl-forced-newline&quot; /&gt;n \&lt;/p&gt;

&lt;p&gt;into&lt;/p&gt;

&lt;p&gt;FROM --DERBY-PROPERTIES joinOrder=FIXED \&lt;br/&gt;
\&lt;br/&gt;
n \&lt;/p&gt;

&lt;p&gt;(in other words, escaped characters like &quot;\n&quot; are handled incorrectly)..&lt;/p&gt;</description>
                <environment></environment>
        <key id="12325272">DERBY-675</key>
            <summary>Build-time processing of &quot;metadata.properties&quot; file handles slashes incorrectly.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="army">A B</assignee>
                                    <reporter username="army">A B</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Nov 2005 08:12:20 +0000</created>
                <updated>Wed, 9 Nov 2005 04:45:45 +0000</updated>
                            <resolved>Wed, 9 Nov 2005 04:45:32 +0000</resolved>
                                    <version>10.1.1.0</version>
                    <version>10.1.2.1</version>
                    <version>10.2.1.6</version>
                                    <fixVersion>10.2.1.6</fixVersion>
                                    <component>Build tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12356669" author="army" created="Thu, 3 Nov 2005 09:03:01 +0000"  >&lt;p&gt;Attaching a patch to fix this issue.  The &quot;readLine&quot; method in ODBCMetadataGenerator.java was treating single backslashes as &quot;end-of-line&quot; markers and hence was not recognizing escaped sequences like &quot;\n&quot;.  It turns out that the check for backslashes in that method is unnecessary, so this patch removes it.  I ran the metadata.java and odbc_metadata.java tests with this patch and they ran okay, so I think it should be safe.  I still want to run some more tests tonight, just to be sure, but I thought I&apos;d post the patch now since it is affecting another developer&apos;s current work (Mamta&apos;s).&lt;/p&gt;

&lt;p&gt;I will add another comment tomorrow indicating the full test results.&lt;/p&gt;</comment>
                            <comment id="12356704" author="army" created="Fri, 4 Nov 2005 02:49:23 +0000"  >&lt;p&gt;Attaching a second patch that provides for a safer fix than the first patch, per Dan&apos;s suggestion here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://article.gmane.org/gmane.comp.apache.db.derby.devel/9867&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://article.gmane.org/gmane.comp.apache.db.derby.devel/9867&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I ran derbyall on Windows 2000 with Sun jdk142 and saw two unrelated failures (&quot;junit /framework/TestCase&quot; not found for the CompatibilityTest.java against DerbyNet and DerbyNetClient). &lt;/p&gt;

&lt;p&gt;So if anyone could review/commit, that&apos;d be great. &lt;/p&gt;</comment>
                            <comment id="12356708" author="army" created="Fri, 4 Nov 2005 03:04:12 +0000"  >&lt;p&gt;Slight change to last patch: make it so that we break out of the inner for loop earlier when it&apos;s safe to do so.&lt;/p&gt;</comment>
                            <comment id="12356730" author="bandaram" created="Fri, 4 Nov 2005 09:39:57 +0000"  >&lt;p&gt;This patch is committed.&lt;/p&gt;

&lt;p&gt;Sending        java\build\org\apache\derbyBuild\ODBCMetadataGenerator.java&lt;br/&gt;
Transmitting file data .&lt;br/&gt;
Committed revision 330672.&lt;/p&gt;</comment>
                            <comment id="12357060" author="army" created="Wed, 9 Nov 2005 04:45:32 +0000"  >&lt;p&gt;Fix was committed with svn 330672 and I have verified that it is now in the trunk, so I&apos;m marking this as resolved and closing the issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12320463" name="d675_v2.patch" size="4601" author="army" created="Fri, 4 Nov 2005 03:04:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 4 Nov 2005 09:39:57 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22086</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy17kv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40878</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>