<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:37:44 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-405/DERBY-405.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-405] SYNONYM should not be allowed in SESSION schema because that can confusion wih temporary tables</title>
                <link>https://issues.apache.org/jira/browse/DERBY-405</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;A user should not be able to create a synonym in SESSION schema eg&lt;br/&gt;
create synonym session.st1 for app.t1;&lt;br/&gt;
select * from session.st1; &amp;#8211; refers to app.t1&lt;br/&gt;
declare global temporary table st1(c11 int, c12 int) on commit preserve rows not logged;&lt;br/&gt;
select * from session.st1; &amp;#8211; refers to app.t1, is that right?&lt;/p&gt;

&lt;p&gt;I think the last select * from session.st1 should goto temporary table st1 since any references to objects in SESSION schema should first find a match against a temporary table if one by that name exists. &lt;/p&gt;

&lt;p&gt;We already discourage users from defining objects other than temporary table in SESSION schema in the reference manual &quot;Using SESSION as the schema name of a physical table will not cause an error, but is discouraged. The SESSION schema name should be reserved for the temporary table schema.&quot; But, IMHO, it will be nice to enforce this wherever possible in Derby code rather than leaving it upto the users to avoid confusion.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12311779">DERBY-405</key>
            <summary>SYNONYM should not be allowed in SESSION schema because that can confusion wih temporary tables</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bandaram">Satheesh Bandaram</assignee>
                                    <reporter username="mamtas">Mamta A. Satoor</reporter>
                        <labels>
                    </labels>
                <created>Thu, 30 Jun 2005 06:42:04 +0100</created>
                <updated>Fri, 14 Apr 2006 00:25:05 +0100</updated>
                            <resolved>Fri, 14 Apr 2006 00:24:39 +0100</resolved>
                                    <version>10.2.1.6</version>
                                    <fixVersion>10.1.1.0</fixVersion>
                    <fixVersion>10.1.3.1</fixVersion>
                    <fixVersion>10.2.1.6</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12314739" author="mamtas" created="Thu, 30 Jun 2005 16:18:22 +0100"  >&lt;p&gt;Forgot to mention earlier, but if we decide to fix this issue then it will have documentation impact and we would need to mention in docs that synonyms can&apos;t live in SESSION schema.&lt;/p&gt;</comment>
                            <comment id="12314789" author="bandaram" created="Fri, 1 Jul 2005 03:15:18 +0100"  >&lt;p&gt;The behavior here is same as with views. Suspect this is because of statement caching. We don&apos;t seem to recognise we have a temporary table that just overloaded an existing physical table.&lt;/p&gt;

&lt;p&gt;It would have been good to avoid permanent tables/views/synonyms in SESSION schema. Not sure what we should do now about this, though.&lt;/p&gt;

&lt;p&gt;ij&amp;gt; create view session.st1 as select * from t;&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; select * from session.st1;&lt;br/&gt;
I          |J          |K&lt;br/&gt;
-----------------------------------&lt;br/&gt;
1          |1          |NULL&lt;br/&gt;
2          |2          |NULL&lt;br/&gt;
3          |3          |NULL&lt;br/&gt;
4          |4          |NULL&lt;/p&gt;

&lt;p&gt;4 rows selected&lt;br/&gt;
ij&amp;gt; select * from t;&lt;br/&gt;
I          |J          |K&lt;br/&gt;
-----------------------------------&lt;br/&gt;
1          |1          |NULL&lt;br/&gt;
2          |2          |NULL&lt;br/&gt;
3          |3          |NULL&lt;br/&gt;
4          |4          |NULL&lt;/p&gt;

&lt;p&gt;4 rows selected&lt;br/&gt;
ij&amp;gt; declare global temporary table st1(c11 int, c12 int) on commit preserve rows&lt;br/&gt;
 not logged;&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; select * from session.st1;&lt;br/&gt;
I          |J          |K&lt;br/&gt;
-----------------------------------&lt;br/&gt;
1          |1          |NULL&lt;br/&gt;
2          |2          |NULL&lt;br/&gt;
3          |3          |NULL&lt;br/&gt;
4          |4          |NULL&lt;/p&gt;

&lt;p&gt;4 rows selected&lt;br/&gt;
ij&amp;gt; select * from  session.st1;    &amp;lt;==== This statement has an extra space between FROM and session.st1&lt;br/&gt;
C11        |C12&lt;br/&gt;
-----------------------&lt;/p&gt;

&lt;p&gt;0 rows selected&lt;/p&gt;</comment>
                            <comment id="12314793" author="djd" created="Fri, 1 Jul 2005 03:29:09 +0100"  >&lt;p&gt;Well, SYNONYM&apos;s haven&apos;t been released yet, thus we could disallow SYNONYMs in SESSION schema, before 10.1 goes GA.&lt;br/&gt;
Tables &amp;amp; views existed before the temportary SESSION schema was added, that&apos;s why they are allowed. Existing applications could have been using the SESSION schema.&lt;/p&gt;</comment>
                            <comment id="12314796" author="mamtas" created="Fri, 1 Jul 2005 03:40:34 +0100"  >&lt;p&gt;I agree with Dan&apos;s response but I think we have a bug here with statement caching. If I recall correctly, I think the goal was to not cache any statements referencing SESSION schema objects to cover an example scenario like Satheesh&apos;s script above. But looks like in the example Satheesh gave, select * from session.st1 is getting cached and that is why it does not detect that session.st1 needs to be mapped to temporary table when it is executed the 2nd time in the example. &lt;/p&gt;</comment>
                            <comment id="12314797" author="bandaram" created="Fri, 1 Jul 2005 04:06:10 +0100"  >&lt;p&gt;Dan&apos;s suggestion is good... We should disable synonyms in SESSION schema. I will submit a patch soon.&lt;/p&gt;

&lt;p&gt;I will also file another bug to cover the statement caching issue.&lt;/p&gt;</comment>
                            <comment id="12314831" author="bandaram" created="Fri, 1 Jul 2005 09:45:02 +0100"  >&lt;p&gt;Fix has been merged into trunk. This may get ported to 10.1, if Andrew, the release czar, decides this is important for 10.1 release.&lt;/p&gt;</comment>
                            <comment id="12314833" author="bandaram" created="Fri, 1 Jul 2005 09:46:22 +0100"  >&lt;p&gt;Jeff, can you alter CREATE SYNONYM section to say creating synonyms in SESSION schema is not allowed?&lt;/p&gt;</comment>
                            <comment id="12374363" author="kmarsden" created="Fri, 14 Apr 2006 00:24:39 +0100"  >&lt;p&gt;Fixed in 10.1 with revision 208776 - &quot;In preparation for the 10.1 release, roll up fixes from trunk.&quot;&lt;/p&gt;</comment>
                            <comment id="12374364" author="kmarsden" created="Fri, 14 Apr 2006 00:25:05 +0100"  >&lt;p&gt;reclosing after setting fixin&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 1 Jul 2005 02:15:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>21935</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy16rj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40746</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>