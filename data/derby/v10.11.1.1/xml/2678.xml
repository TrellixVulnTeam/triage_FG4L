<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:53:31 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-2678/DERBY-2678.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-2678] Derby should follow SQL standards when operand(s) in the collation operation have collation derivation of NONE</title>
                <link>https://issues.apache.org/jira/browse/DERBY-2678</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;The collation methods in Derby should follow the rules defined by SQL spec in Section 9.13 Collation determination Syntax Rules 2 and 3e. &lt;/p&gt;

&lt;p&gt;According to those rules, &lt;br/&gt;
1)at least one operand shall have a declared type collation (that means if the comparison is sysChar1|userChar1 &amp;gt; sysChar2|userChar2, then such a comparison will fail because both sides of &amp;gt; operator have collation derivation of NONE. But if the comparison is sysChar|userChar1 &amp;gt; sysChar2, then it shouldn&apos;t fail because although the left hand operand has collation derivation of NONE, the right hand operand has collation derivation of IMPLICIT and hence the comparison is possible). &lt;br/&gt;
2)every operand whose collation derivation is IMPLICIT shall have the same declared type collation (that means if the comparison is sysChar1 &amp;gt; userChar1WithTerritoryBasedCollation, then such a comparison will fail because left operand has collation derivation as IMPLICIT and collation type as UCS_BASIC and the right operand has collation derivation IMPLICIT and collation type as TERRITORY_BASED. But if the comparison is sysChar1 &amp;gt; sysChar2, then comparison won&apos;t fail because both the operands have same collation derivation and type.) &lt;/p&gt;

</description>
                <environment></environment>
        <key id="12369915">DERBY-2678</key>
            <summary>Derby should follow SQL standards when operand(s) in the collation operation have collation derivation of NONE</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mamtas">Mamta A. Satoor</reporter>
                        <labels>
                            <label>derby_triage10_10</label>
                    </labels>
                <created>Tue, 22 May 2007 07:28:22 +0100</created>
                <updated>Tue, 2 Oct 2012 06:18:12 +0100</updated>
                                            <version>10.3.1.4</version>
                                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                            <comments>
                            <comment id="12497731" author="mamtas" created="Tue, 22 May 2007 07:30:38 +0100"  >&lt;p&gt;Derby 10.3 implements the item number 2) above but item number 1) has not been tackled yet.&lt;/p&gt;</comment>
                            <comment id="12499914" author="mamtas" created="Tue, 29 May 2007 21:41:51 +0100"  >&lt;p&gt;The rule 1 above really has 2 rules into it. &lt;br/&gt;
1a)One is to make sure that atleast one operand has non-NONE collation derivation. If not, then Derby should throw an exception. I have added &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2725&quot; title=&quot;If all the operands involved in collation operation have a collation derivation of NONE, then Derby should throw an exception for that as per the SQL standards.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2725&quot;&gt;&lt;del&gt;DERBY-2725&lt;/del&gt;&lt;/a&gt; for this work.&lt;br/&gt;
1b)Second rule is as long as there is one operand with non-NONE collation, we should be able to do the collation operation using that non-NONE collation. Derby does not yet implement that. When we get to this rule, the work can go in either as part of this current Jira entry or we can create a new Jira entry as we did for Rule 1a)&lt;/p&gt;</comment>
                            <comment id="12502623" author="mamtas" created="Fri, 8 Jun 2007 04:00:11 +0100"  >&lt;p&gt;There are some test cases for 1b) above in CollationTest.java They should all pass but they do not because we just check if the 2 sides of the collation operation have same derivation or not and if not, then we throw an exception. But for the case where one side has collation derivation of NONE and the other side has IMPLICIT, we should do the collation using the collation type of the side that has collation derivation of NONE. Once we fix this, the CollationTest will fail and will need to be fixed. I have added comments in that test wherever this bug applies. Please fix those comments in the test when you are fixing this bug. I committed the comments in that test case using revision 545381.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                            <outwardlinks description="incorporates">
                                        <issuelink>
            <issuekey id="12370479">DERBY-2725</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12362828">DERBY-2335</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12345445">DERBY-1478</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                            <subtask id="12371265">DERBY-2793</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30563</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy08ef:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35179</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310050" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Urgency</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10052"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>