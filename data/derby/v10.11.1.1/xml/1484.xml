<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:54:30 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-1484/DERBY-1484.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-1484] Client and embedded behave differently when the table name is null in DatabaseMetaData methods</title>
                <link>https://issues.apache.org/jira/browse/DERBY-1484</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;When giving null as table name to getBestRowIdentifier, getColumnPrivileges, getIndexInfo, getVersionColumns or getPrimaryKeys, the client driver fails with &quot;SQLException: Table name can not be null&quot;. Embedded uses null as a wildcard and does not fail. Embedded and client should have the same behaviour.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12345558">DERBY-1484</key>
            <summary>Client and embedded behave differently when the table name is null in DatabaseMetaData methods</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jorgenlo">J&#248;rgen L&#248;land</assignee>
                                    <reporter username="knutanders">Knut Anders Hatlen</reporter>
                        <labels>
                    </labels>
                <created>Fri, 7 Jul 2006 20:58:44 +0100</created>
                <updated>Thu, 2 May 2013 03:29:05 +0100</updated>
                            <resolved>Mon, 14 May 2007 16:38:04 +0100</resolved>
                                    <version>10.2.1.6</version>
                    <version>10.3.1.4</version>
                                    <fixVersion>10.3.1.4</fixVersion>
                                    <component>JDBC</component>
                    <component>Network Client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12469656" author="djd" created="Fri, 2 Feb 2007 04:26:10 +0000"  >&lt;p&gt;The network client has the correct behaviour. the tableName parameters to these methods is not a pattern and is required to be an exact match to the stored table name, thus null is not allowed. This was discussed on the list in this thread:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/db-derby-dev/200701.mbox/%3c45AD1A46.3060007@sun.com%3e&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mail-archives.apache.org/mod_mbox/db-derby-dev/200701.mbox/%3c45AD1A46.3060007@sun.com%3e&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12491149" author="jorgenlo" created="Tue, 24 Apr 2007 07:11:49 +0100"  >&lt;p&gt;Exact table name breaks functionality in embedded client. Change ij first&lt;/p&gt;</comment>
                            <comment id="12491981" author="jorgenlo" created="Thu, 26 Apr 2007 13:16:42 +0100"  >&lt;p&gt;I checked all the methods in DatabasaMetaData. The methods that currently allow null values for table name, but should not (according to the JDBC API), are:&lt;/p&gt;

&lt;p&gt;Already mentioned in this issue: getBestRowIdentifier, getColumnPrivileges, getIndexInfo, getVersionColumns or getPrimaryKeys&lt;br/&gt;
Not previously mentioned in this issue: getImportedKeys and getExportedKeys&lt;/p&gt;

&lt;p&gt;I have attached a patch that checks for null-values and throws an SQLException with SQLState TABLE_NAME_CANNOT_BE_NULL. This fails with 106 errors, mainly because org.apache.derbyTesting.junit.JDBC.dropSchema(JDBC.java:224) uses getExportedKeys with table value null. The junit tests must be changed before the patch can be included.&lt;/p&gt;</comment>
                            <comment id="12491991" author="jorgenlo" created="Thu, 26 Apr 2007 13:42:25 +0100"  >&lt;p&gt;Changed to correct indentation&lt;/p&gt;</comment>
                            <comment id="12493588" author="jorgenlo" created="Fri, 4 May 2007 07:50:40 +0100"  >&lt;p&gt;The attached patch (3) includes all the changes in (2), and modifies a few harness tests that previously called getExportedKeys and getImportedKeys with table = null. &lt;/p&gt;

&lt;p&gt;Since only table == null triggers an exception, it is still possible to call these methods with a tablepattern, e.g. table=&quot;?&quot;. I will create a new issue for changing the internal query to not accept patterns.&lt;/p&gt;

&lt;p&gt;Derbyall and allsuites run fine except the following (unrelated) fails:  allsuites fails two ProcedureInTriggerTests, but these have already been discussed in &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1585&quot; title=&quot;derbylang/procedureInTrigger: not able to create trigger due to an open ResultSet&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1585&quot;&gt;&lt;del&gt;DERBY-1585&lt;/del&gt;&lt;/a&gt; and should not be related to the patch. derbyall fails bootLock (as always here - maybe because of NFS?)&lt;/p&gt;
</comment>
                            <comment id="12493590" author="jorgenlo" created="Fri, 4 May 2007 07:53:24 +0100"  >&lt;p&gt;Changes undocumented functionality to behave according to specification. Hence, I do not think a release note is required.&lt;/p&gt;</comment>
                            <comment id="12493591" author="jorgenlo" created="Fri, 4 May 2007 07:55:04 +0100"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2222&quot; title=&quot;&amp;#39;show indexes in SCHEMANAME&amp;#39; does not work with the client driver&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2222&quot;&gt;&lt;del&gt;DERBY-2222&lt;/del&gt;&lt;/a&gt; &lt;b&gt;must&lt;/b&gt; be committed before this patch!&lt;/p&gt;</comment>
                            <comment id="12494069" author="djd" created="Mon, 7 May 2007 17:01:45 +0100"  >&lt;p&gt;The release note indicates that the new behaviour is correct, but doesn&apos;t it still allow a pattern to be used, which does not conform to the standard?&lt;/p&gt;</comment>
                            <comment id="12494074" author="djd" created="Mon, 7 May 2007 17:09:25 +0100"  >&lt;p&gt;OK - I now see &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2610&quot; title=&quot;Queries in metadata.properties allow tablepattern for JDBC methods that do not allow patterns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2610&quot;&gt;&lt;del&gt;DERBY-2610&lt;/del&gt;&lt;/a&gt; is opened to fix the pattern issue.&lt;/p&gt;</comment>
                            <comment id="12494196" author="jorgenlo" created="Tue, 8 May 2007 07:31:37 +0100"  >&lt;p&gt;Dan,&lt;br/&gt;
Thanks for taking the time to comment on the release note.&lt;/p&gt;

&lt;p&gt;I see that I was not explicit about what would make the behavior correct. Since these two issues are so closely related I figured one release note would suffice. I will write a new release note (one for each issue) if that is considered more correct. &lt;/p&gt;

&lt;p&gt;J&#248;rgen&lt;/p&gt;</comment>
                            <comment id="12495363" author="knutanders" created="Sun, 13 May 2007 15:07:14 +0100"  >&lt;p&gt;Hi J&#248;rgen,&lt;/p&gt;

&lt;p&gt;The patch generally looks good. My only comment is that I think you should use Util.generateCsSQLException() instead of PublicAPI.wrapStandardException(). The former will use the SQLExceptionFactory so that we get the correct SQLException type in the JDBC 4.0 driver. The latter always generates an EmbedSQLException, and comments in EmbedSQLException and StandardException indicate that it&apos;s just a hack for Cloudscape 3.0.1 that was supposed to be cleaned up later.&lt;/p&gt;</comment>
                            <comment id="12495543" author="jorgenlo" created="Mon, 14 May 2007 11:39:05 +0100"  >&lt;p&gt;The patch changes PublicAPI.wrapStandardException to Util.generateCsSQLException. derbyall and suites.all run cleanly (except bootLock which always fails)&lt;/p&gt;</comment>
                            <comment id="12495656" author="kristwaa" created="Mon, 14 May 2007 16:38:04 +0100"  >&lt;p&gt;Committed &apos;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1484&quot; title=&quot;Client and embedded behave differently when the table name is null in DatabaseMetaData methods&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1484&quot;&gt;&lt;del&gt;DERBY-1484&lt;/del&gt;&lt;/a&gt;-4_ExcFact.diff&apos; to trunk with revision 537882.&lt;br/&gt;
Ran suites.All without failures (Java SE 5.0 and 6), ran derbyall together with &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2610&quot; title=&quot;Queries in metadata.properties allow tablepattern for JDBC methods that do not allow patterns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2610&quot;&gt;&lt;del&gt;DERBY-2610&lt;/del&gt;&lt;/a&gt; without failures (Java SE 5.0).&lt;/p&gt;</comment>
                            <comment id="12495880" author="jorgenlo" created="Tue, 15 May 2007 08:23:13 +0100"  >&lt;p&gt;Hi Kristian,&lt;br/&gt;
Thank you for committing this patch.&lt;/p&gt;</comment>
                            <comment id="12496210" author="jorgenlo" created="Wed, 16 May 2007 08:07:16 +0100"  >&lt;p&gt;Revised the release note to better reflect the changes in this issue and 2610.&lt;/p&gt;</comment>
                            <comment id="12499338" author="myrna" created="Sat, 26 May 2007 18:36:08 +0100"  >&lt;p&gt;Although 1 release note for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-1484&quot; title=&quot;Client and embedded behave differently when the table name is null in DatabaseMetaData methods&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-1484&quot;&gt;&lt;del&gt;DERBY-1484&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2610&quot; title=&quot;Queries in metadata.properties allow tablepattern for JDBC methods that do not allow patterns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2610&quot;&gt;&lt;del&gt;DERBY-2610&lt;/del&gt;&lt;/a&gt; makes perfect sense, it messes up the automating generation of release notes (see &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-2570&quot; title=&quot;Create a utility which generates Release Notes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-2570&quot;&gt;&lt;del&gt;DERBY-2570&lt;/del&gt;&lt;/a&gt;). &lt;br/&gt;
I could switch off the &apos;existing application impact&apos; of one of the two, but I think that would give the incorrect impression to someone looking up the JIRA issue.&lt;br/&gt;
So, I&apos;m attaching a separate releaseNotes.html for each, based on the latest combined release note.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12360059">DERBY-2222</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12368121">DERBY-2595</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="32841">DERBY-310</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12368656">DERBY-2610</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12356325" name="DERBY-1484-2.diff" size="8295" author="jorgenlo" created="Thu, 26 Apr 2007 13:42:25 +0100"/>
                            <attachment id="12356326" name="DERBY-1484-2.stat" size="166" author="jorgenlo" created="Thu, 26 Apr 2007 13:42:25 +0100"/>
                            <attachment id="12356746" name="DERBY-1484-3.diff" size="9047" author="jorgenlo" created="Fri, 4 May 2007 07:50:39 +0100"/>
                            <attachment id="12356747" name="DERBY-1484-3.stat" size="230" author="jorgenlo" created="Fri, 4 May 2007 07:50:40 +0100"/>
                            <attachment id="12357245" name="DERBY-1484-4_ExcFact.diff" size="8606" author="jorgenlo" created="Mon, 14 May 2007 11:39:05 +0100"/>
                            <attachment id="12357246" name="DERBY-1484-4_ExcFact.stat" size="257" author="jorgenlo" created="Mon, 14 May 2007 11:39:05 +0100"/>
                            <attachment id="12356320" name="DERBY-1484.diff" size="8189" author="jorgenlo" created="Thu, 26 Apr 2007 13:16:42 +0100"/>
                            <attachment id="12356321" name="DERBY-1484.stat" size="717" author="jorgenlo" created="Thu, 26 Apr 2007 13:16:42 +0100"/>
                            <attachment id="12358309" name="releaseNote.html" size="3335" author="myrna" created="Sat, 26 May 2007 18:36:07 +0100"/>
                            <attachment id="12357443" name="releaseNote.html" size="3554" author="jorgenlo" created="Wed, 16 May 2007 08:07:16 +0100"/>
                            <attachment id="12356853" name="releaseNote.html" size="3355" author="jorgenlo" created="Mon, 7 May 2007 12:07:24 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 2 Feb 2007 04:26:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22534</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10101"><![CDATA[Release Note Needed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0uen:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38744</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>