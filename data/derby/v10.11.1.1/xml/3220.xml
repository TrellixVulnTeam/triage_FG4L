<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 03:14:46 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/DERBY-3220/DERBY-3220.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[DERBY-3220] &lt;transition table or variable list&gt; (ReferencingClause) in CREATE TRIGGER statement not SQL compliant</title>
                <link>https://issues.apache.org/jira/browse/DERBY-3220</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Derby implements the following syntax:&lt;/p&gt;

&lt;p&gt;REFERENCING&lt;/p&gt;
{
{ OLD | NEW }
&lt;p&gt; [ AS ] correlation-Name [ &lt;/p&gt;
{ OLD | NEW }
&lt;p&gt; [ AS ] correlation-Name ] | &lt;/p&gt;
{ OLD_TABLE | NEW_TABLE } [ AS ] Identifier [ { OLD_TABLE | NEW_TABLE }
&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;AS&amp;#93;&lt;/span&gt; Identifier ] &lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;The SQL standard specifies:&lt;/p&gt;

&lt;p&gt;&amp;lt;trigger definition&amp;gt; ::=&lt;br/&gt;
CREATE TRIGGER &amp;lt;trigger name&amp;gt; &amp;lt;trigger action time&amp;gt; &amp;lt;trigger event&amp;gt;&lt;br/&gt;
ON &amp;lt;table name&amp;gt; [ REFERENCING &amp;lt;transition table or variable list&amp;gt; ]&lt;br/&gt;
&amp;lt;triggered action&amp;gt;&lt;br/&gt;
.......&lt;br/&gt;
&amp;lt;transition table or variable&amp;gt; ::=&lt;br/&gt;
OLD [ ROW ] [ AS ] &amp;lt;old transition variable name&amp;gt;&lt;/p&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; NEW [ ROW ] [ AS ] &amp;lt;new transition variable name&amp;gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; OLD TABLE [ AS ] &amp;lt;old transition table name&amp;gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; NEW TABLE [ AS ] &amp;lt;new transition table name&amp;gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;


</description>
                <environment></environment>
        <key id="12382979">DERBY-3220</key>
            <summary>&lt;transition table or variable list&gt; (ReferencingClause) in CREATE TRIGGER statement not SQL compliant</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bernt">Bernt M. Johnsen</assignee>
                                    <reporter username="bernt">Bernt M. Johnsen</reporter>
                        <labels>
                    </labels>
                <created>Wed, 21 Nov 2007 12:59:41 +0000</created>
                <updated>Fri, 21 Jan 2011 17:51:07 +0000</updated>
                            <resolved>Fri, 23 Nov 2007 09:02:04 +0000</resolved>
                                                    <fixVersion>10.4.1.3</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12544451" author="bernt" created="Wed, 21 Nov 2007 13:14:17 +0000"  >&lt;p&gt;Fix which allows NEW ROW, OLD ROW, NEW TABLE and OLD TABLE, and which keeps NEW_TABLE and OLD_TABLE for backward compatability.&lt;/p&gt;</comment>
                            <comment id="12544471" author="thomanie" created="Wed, 21 Nov 2007 14:09:00 +0000"  >&lt;p&gt;Patch looks ok, and seems to work as expected.&lt;/p&gt;

&lt;p&gt;ij&amp;gt; CREATE TRIGGER TrigC AFTER INSERT ON tablea REFERENCING NEW  ROW AS N FOR EACH ROW&lt;br/&gt;
&amp;gt;  UPDATE tableb SET tagcount=(tagcount-1) where tagid=n.id;&lt;br/&gt;
0 rows inserted/updated/deleted&lt;/p&gt;

&lt;p&gt;I haven&apos;t run suites.All nor derbyAll, but I would expect you need some explicit tests for the corrected syntax as well?&lt;/p&gt;</comment>
                            <comment id="12544476" author="bernt" created="Wed, 21 Nov 2007 14:17:31 +0000"  >&lt;p&gt;Corresponding doc patch&lt;/p&gt;</comment>
                            <comment id="12544760" author="bernt" created="Thu, 22 Nov 2007 10:34:29 +0000"  >&lt;p&gt;Patch 2: Changed NEW_TABLE to NEW TABLE and OLD_TABLE to OLD TABLE in TriggerTest, kept the old syntax in db2Compatibility. Also updated BlobClob4BlobTest to SQL compliant trigger syntax. Improved doc patch.&lt;/p&gt;</comment>
                            <comment id="12544789" author="thomanie" created="Thu, 22 Nov 2007 12:00:04 +0000"  >&lt;p&gt;Smart move to change the existing tests for the NEW TABLE and OLD TABLE syntax, but keeping the NEW_TABLE and OLD_TABLE in DB2 compliant mode &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Both &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3220&quot; title=&quot;&amp;lt;transition table or variable list&amp;gt; (ReferencingClause) in CREATE TRIGGER statement not SQL compliant&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3220&quot;&gt;&lt;del&gt;DERBY-3220&lt;/del&gt;&lt;/a&gt;-2.diff and doc patch &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3220&quot; title=&quot;&amp;lt;transition table or variable list&amp;gt; (ReferencingClause) in CREATE TRIGGER statement not SQL compliant&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3220&quot;&gt;&lt;del&gt;DERBY-3220&lt;/del&gt;&lt;/a&gt;-doc-2.diff looks good.&lt;/p&gt;

&lt;p&gt;Running suitesAll now, but don&apos;t expect any problems due to this change.&lt;/p&gt;

</comment>
                            <comment id="12544947" author="bernt" created="Fri, 23 Nov 2007 09:02:04 +0000"  >&lt;p&gt;Committed revision 597604 on code trunk&lt;br/&gt;
Committed revision 597605 on doc trunk&lt;/p&gt;</comment>
                            <comment id="12582569" author="dyret" created="Thu, 27 Mar 2008 09:36:47 +0000"  >&lt;p&gt;This issue has no fix version, but has been checked in to trunk after the 10.3 branch was cut, and has not been merged to the 10.3 branch (before the last release). &lt;br/&gt;
(Some have been checked into trunk after 10.4 was cut and then merged to 10.4).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12370059" name="DERBY-3220-2.diff" size="4672" author="bernt" created="Thu, 22 Nov 2007 10:34:29 +0000"/>
                            <attachment id="12370058" name="DERBY-3220-doc-2.diff" size="1007" author="bernt" created="Thu, 22 Nov 2007 10:34:29 +0000"/>
                            <attachment id="12369978" name="DERBY-3220-doc.diff" size="968" author="bernt" created="Wed, 21 Nov 2007 14:17:31 +0000"/>
                            <attachment id="12369973" name="DERBY-3220.diff" size="533" author="bernt" created="Wed, 21 Nov 2007 13:14:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 21 Nov 2007 14:09:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23501</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hy0lwf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37366</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>