Network client XA should only keep XA state for transaction branch association, to track whether to send commit in autocommit mode.  All other state and state related decisions should be deferred to the server.