Deadlock-prone synchronization in BasicDependencyManager