[patch] fix impossible comparison due to sign extension