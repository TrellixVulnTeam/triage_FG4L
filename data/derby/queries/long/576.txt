The test xa/xaOffline1 fails on OS/390 because the global_xid generated by ij is different. 
This value is created in org.apache.derby.impl.tools.ij.xaHelper - which class is only for testing. It tries to generate a the 2nd and 3rd part of the global_xid based on the database name, and in method XADataSourceStatement it is trying to do this by doing parser.stringvalue(dbname.image). It would be nice if this could get changed to something that gives the same result in ASCII and EBCDIC.