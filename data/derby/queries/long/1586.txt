When attributesAsPassword is true, EmbeddedConnectionPoolDataSource.getPooledConnection() appends the default password to the connection url. This leads to a malformed url error if the password is not on the form "xxx=yyy". If the password is on the form "xxx=yyy", it might cause other unexpected consequences (for instance if it is "shutdown=true"). This is not a problem with EmbeddedDataSource or EmbeddedXADataSource. In Derby 10.1.3.1, it works as expected, so this is a regression.