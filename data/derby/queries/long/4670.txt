The ThreadDump class in org.apache.derby.shared.common.sanity is included in the insane versions of derby.jar and derbyclient.jar. The sanity classes should only be included in debug builds.