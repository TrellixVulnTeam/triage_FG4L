Class org.apache.derby.impl.jdbc.TransactionResourceImpl is a hang-over from when XA and Pooled connections used a different implementation. It has a 1-1 relationship with org.apache.derby.impl.jdbc.EmbeddedConnection, thus its fields & functionality should be moved into EmbeddedConnection. This would reduce the code and run-time footprint.