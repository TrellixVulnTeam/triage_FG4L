<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:19:58 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-1149/SOLR-1149.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-1149] Make QParserPlugin and related classes extendible</title>
                <link>https://issues.apache.org/jira/browse/SOLR-1149</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;In a recent attempt to create a QParserPlugin which extends DisMaxQParser/FunctionQParser functionality, &lt;br/&gt;
it became apparent that in the current state of these classes, it is not straight forward and in fact impossible to seriously build&lt;br/&gt;
upon the existing code. &lt;br/&gt;
To this end, I&apos;ve refactored some of the involved classes which enabled me to reuse existing logic to great results.&lt;br/&gt;
I thought I will share these changes and comment on their nature in the hope these will make sense to other solr developers/users, and&lt;br/&gt;
at the very least cultivate a fruitful discussion about this particular area of the solr codebase.&lt;/p&gt;

&lt;p&gt;The relevant changes are as follows:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Renamed DismaxQParser class to DisMaxQParser ( in accordance with the apparent naming convention, e.g DisMaxQParserPlugin )&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Moved DisMaxQParser to its own .java file, making it a public class rather than its previous package-private visibility. This makes&lt;br/&gt;
  it possible for users to build upon its logic, which is considerable, and to my mind is a good place to start alot of custom&lt;br/&gt;
  QParser implementations.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Changed access modifiers for the QParser abstract base class to protected (were package-private). Again as above, it makes this&lt;br/&gt;
  object usable by user-defined classes that wish to define custom QParser classes. More generally, and on the philosophy-of-code &lt;br/&gt;
  side of things, it seems misleading to define some class members as having the default access modifier (package-private) and then&lt;br/&gt;
  letting other package-scope derived classes use these while not explicitly allowing user-defined derived classes to make use of these members.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;  In specific i&apos;m thinking of how DisMaxQParser makes use of these members: **not because it is derived from QParser, but because it&lt;br/&gt;
  simply resides in the same namespace**&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Changed access modifier for the QueryParsing.StrParser inner class and its constructors to public. Again as in above, same issue&lt;br/&gt;
  of having same-package classes enjoy the benefit of being in the same namespace (FunctionQParser.parse() uses it like so), &lt;br/&gt;
  while user defined classes cannot. Particulary in this case it is pretty bad since this class advertises itself as a collection of utilities&lt;br/&gt;
  for query parsing in general - great resource, should probably even live elsewhere (common.utils?)&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Changed Function.FunctionWeight inner class data member modifiers to protected (were default - package-private). This allowed me&lt;br/&gt;
  to inherit from FunctionQuery as well as make use of its original FunctionWeight inner class while overriding some of the latter&apos;s&lt;br/&gt;
  methods. This is in the same spirit of the changes above. Please also note this follows the common Query/Weight implementation pattern&lt;br/&gt;
  in the lucene codebase, see for example the BooleanQuery/BooleanWeight code.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;All in all these are relatively minor changes which unlock a great deal of functionality to 3rd party developers, which i think is&lt;br/&gt;
ultimately a big part of what solr is all about - extendability. It is also perhaps a cue for a more serious refactoring of the&lt;br/&gt;
QParserPlugin hierarchy, although i will leave such bold exclamations to another occasion.&lt;/p&gt;

&lt;p&gt;Attached is a patch file, having passed the usual coding-style/unit testing cycle.&lt;/p&gt;

&lt;p&gt;-Chak&lt;/p&gt;</description>
                <environment></environment>
        <key id="12424792">SOLR-1149</key>
            <summary>Make QParserPlugin and related classes extendible</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="shalinmangar">Shalin Shekhar Mangar</assignee>
                                    <reporter username="kaktuchakarabati">Kaktu Chakarabati</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 May 2009 08:55:06 +0100</created>
                <updated>Tue, 10 Nov 2009 15:52:05 +0000</updated>
                            <resolved>Fri, 22 May 2009 19:59:05 +0100</resolved>
                                                    <fixVersion>1.4</fixVersion>
                                    <component>search</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12706752" author="kaktuchakarabati" created="Thu, 7 May 2009 08:56:49 +0100"  >&lt;p&gt;patch file implementing the mentioned changes.&lt;/p&gt;</comment>
                            <comment id="12709048" author="kaktuchakarabati" created="Wed, 13 May 2009 19:21:56 +0100"  >&lt;p&gt;Guys,&lt;br/&gt;
Any chance this will make it into the 1.4/1.5 roadmaps?&lt;br/&gt;
I think its a pretty minor change and can prove pretty useful ( for me and my company the alternative&lt;br/&gt;
would be to move to a roll-your-own solr war file mode which I&apos;d really hate.. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; )&lt;/p&gt;

&lt;p&gt;-Chak&lt;/p&gt;</comment>
                            <comment id="12709104" author="otis" created="Wed, 13 May 2009 21:29:13 +0100"  >&lt;p&gt;It&apos;s set for release in 1.4, but subject to more review.&lt;br/&gt;
+1 from me.&lt;/p&gt;</comment>
                            <comment id="12711559" author="shalinmangar" created="Thu, 21 May 2009 11:33:30 +0100"  >&lt;p&gt;Added an experimental API note to all the changed classes.&lt;/p&gt;

&lt;p&gt;I&apos;ll commit in a day or two.&lt;/p&gt;</comment>
                            <comment id="12712213" author="shalinmangar" created="Fri, 22 May 2009 19:59:05 +0100"  >&lt;p&gt;Committed revision 777656.&lt;/p&gt;

&lt;p&gt;Thanks Kaktu!&lt;/p&gt;</comment>
                            <comment id="12775732" author="gsingers" created="Tue, 10 Nov 2009 15:52:05 +0000"  >&lt;p&gt;Bulk close for Solr 1.4&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12408682" name="SOLR-1149.patch" size="20117" author="shalinmangar" created="Thu, 21 May 2009 11:33:30 +0100"/>
                            <attachment id="12407437" name="SOLR-1149.patch" size="19094" author="kaktuchakarabati" created="Thu, 7 May 2009 08:56:49 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 13 May 2009 20:29:13 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6493</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxmzz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20045</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>