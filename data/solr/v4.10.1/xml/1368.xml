<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:27:03 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-1368/SOLR-1368.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-1368] ms() function for date math</title>
                <link>https://issues.apache.org/jira/browse/SOLR-1368</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;ms (milliseconds) function to use dates in function queries&lt;/p&gt;</description>
                <environment></environment>
        <key id="12433340">SOLR-1368</key>
            <summary>ms() function for date math</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yseeley@gmail.com">Yonik Seeley</assignee>
                                    <reporter username="yseeley@gmail.com">Yonik Seeley</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Aug 2009 17:04:21 +0100</created>
                <updated>Tue, 10 Nov 2009 15:52:13 +0000</updated>
                            <resolved>Thu, 20 Aug 2009 23:06:33 +0100</resolved>
                                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12744578" author="yseeley@gmail.com" created="Tue, 18 Aug 2009 17:08:49 +0100"  >&lt;p&gt;Floats sometimes don&apos;t have sufficient precision for subtracting dates:&lt;br/&gt;
&lt;a href=&quot;http://search.lucidimagination.com/search/document/be9fcf5bbc8fd574/date_functions_and_floats&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://search.lucidimagination.com/search/document/be9fcf5bbc8fd574/date_functions_and_floats&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;An ms() function both provides a way to introduce date constants, as well as subtract them.&lt;/p&gt;

&lt;p&gt;examples:&lt;br/&gt;
ms(NOW)  a constant&lt;br/&gt;
ms(2009-12-14T01:01:01Z)   a constant&lt;br/&gt;
ms(field)  a date field (needs to be a trie-date variant that has milliseconds available)&lt;br/&gt;
ms(field1,field2)  difference in milliseconds&lt;br/&gt;
ms(NOW/SECOND,field1)  difference in milliseconds&lt;/p&gt;</comment>
                            <comment id="12744581" author="yseeley@gmail.com" created="Tue, 18 Aug 2009 17:10:43 +0100"  >&lt;p&gt;Attaching a draft of a patch that seems to work - still needs tests.&lt;/p&gt;</comment>
                            <comment id="12744810" author="hossman" created="Wed, 19 Aug 2009 01:48:20 +0100"  >&lt;blockquote&gt;&lt;p&gt;ms(field) a date field (needs to be a trie-date variant that has milliseconds available)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;why?&lt;/p&gt;

&lt;p&gt;if it&apos;s legal to call ms on a rounded date (ie: NOW/SECOND) then why shouldn&apos;t it be legal to use a trie field with coarse precision?&lt;/p&gt;</comment>
                            <comment id="12744814" author="yseeley@gmail.com" created="Wed, 19 Aug 2009 01:56:15 +0100"  >&lt;blockquote&gt;&lt;p&gt;if it&apos;s legal to call ms on a rounded date (ie: NOW/SECOND) then why shouldn&apos;t it be legal to use a trie field with coarse precision?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It should (and I do have plans for that in the future).  What I meant by that is the newer trie based fields are the only ones you can get milliseconds from (regardless of precision) as opposed to a date string.  It&apos;s not practical to convert date strings to milliseconds/seconds on the fly from the fieldcache.  Perhaps we should throw an exception rather than silently using ord for those string-date fields though?&lt;/p&gt;</comment>
                            <comment id="12744842" author="yseeley@gmail.com" created="Wed, 19 Aug 2009 03:04:55 +0100"  >&lt;p&gt;Attaching new patch with tests.&lt;br/&gt;
This now throws an exception if ms() is used on string-based date fields (as opposed to numeric/trie).&lt;/p&gt;</comment>
                            <comment id="12775845" author="gsingers" created="Tue, 10 Nov 2009 15:52:13 +0000"  >&lt;p&gt;Bulk close for Solr 1.4&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12416950" name="SOLR-1368.patch" size="18372" author="yseeley@gmail.com" created="Wed, 19 Aug 2009 03:04:55 +0100"/>
                            <attachment id="12416882" name="SOLR-1368.patch" size="12921" author="yseeley@gmail.com" created="Tue, 18 Aug 2009 17:10:43 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 19 Aug 2009 00:48:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6283</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxlon:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19832</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>