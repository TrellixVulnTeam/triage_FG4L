<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:18:30 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-928/SOLR-928.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-928] SolrDocument/SolrInputDocument could extend/implement Map&lt;String,Object&gt;</title>
                <link>https://issues.apache.org/jira/browse/SOLR-928</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;The existing SolrDocument and SolrInputDocuments are backed by Map&amp;lt;String,Object&amp;gt;, however the Map interface is not available to end users.&lt;/p&gt;

&lt;p&gt;Exposing the Map&amp;lt;String,Object&amp;gt; interface enables users to automatically plug into existing code that support Map&amp;lt;&amp;gt;.  In particular many GUI &quot;bean&quot; editors and viewers that support Map&amp;lt;&amp;gt; out of the box.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12410961">SOLR-928</key>
            <summary>SolrDocument/SolrInputDocument could extend/implement Map&lt;String,Object&gt;</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ryantxu">Ryan McKinley</assignee>
                                    <reporter username="ryantxu">Ryan McKinley</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Dec 2008 11:50:41 +0000</created>
                <updated>Tue, 10 Nov 2009 15:50:34 +0000</updated>
                            <resolved>Fri, 19 Dec 2008 18:54:38 +0000</resolved>
                                    <version>1.3</version>
                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12657746" author="ryantxu" created="Thu, 18 Dec 2008 12:01:31 +0000"  >&lt;p&gt;For background &amp;#8211; I know we kept the Map implementation hidden since I wanted the option to switch various implementations for slightly different behavior (TreeMap, HashMap, LinkedHashMap).&lt;/p&gt;

&lt;p&gt;We could either extend on of the Map implementation directly or implement Map and wrap each call.&lt;/p&gt;

&lt;p&gt;In practice, it seems unlikely we will change the underlying implementation, so i think the cleaner option is to just extend HashMap or LinkedHashMap.&lt;/p&gt;</comment>
                            <comment id="12657749" author="ryantxu" created="Thu, 18 Dec 2008 12:05:44 +0000"  >&lt;p&gt;Here is a patch that has each class extend LinkedHashMap&amp;lt;String,Object&amp;gt;&lt;/p&gt;

&lt;p&gt;In general, most of the internal changes look like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; SolrInputField getField( &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; field )
{
-   &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; _fields.get( field );
+   &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; get( field );
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12657824" author="ehatcher" created="Thu, 18 Dec 2008 17:32:36 +0000"  >&lt;p&gt;you&apos;re a saint!   thank you thank you thank you.&lt;/p&gt;</comment>
                            <comment id="12657831" author="hossman" created="Thu, 18 Dec 2008 17:55:10 +0000"  >&lt;blockquote&gt;&lt;p&gt;We could either extend on of the Map implementation directly or implement Map and wrap each call.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I would prefer implementing the interface via composition instead of inheritance ... even if we don&apos;t anticipate ever changing he underlying datastructure there&apos;s no reason to lock ourselves into a contract for no reason.&lt;/p&gt;</comment>
                            <comment id="12657856" author="ryantxu" created="Thu, 18 Dec 2008 19:11:40 +0000"  >&lt;p&gt;Here is a new patch where Solr&lt;/p&gt;
{Input}
&lt;p&gt;Document implements Map&amp;lt;String,Object&amp;gt; rather then extends&lt;/p&gt;

&lt;p&gt;for each function it calls something like: &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+  @Override
+  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Set&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; keySet() {
+    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; _fields.keySet();
+  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12657858" author="ryantxu" created="Thu, 18 Dec 2008 19:13:01 +0000"  >&lt;p&gt;This makes the class description look like this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; class SolrDocument &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;,&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&amp;gt;, Iterable&amp;lt;Map.Entry&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&amp;gt;&amp;gt;, Serializable

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; class SolrInputDocument &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;,SolrInputField&amp;gt;, Iterable&amp;lt;SolrInputField&amp;gt;, Serializable
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12658109" author="ryantxu" created="Fri, 19 Dec 2008 15:57:06 +0000"  >&lt;p&gt;any other thoughts on this?&lt;/p&gt;

&lt;p&gt;I&apos;d like to commit soon...&lt;/p&gt;</comment>
                            <comment id="12775458" author="gsingers" created="Tue, 10 Nov 2009 15:50:34 +0000"  >&lt;p&gt;Bulk close Solr 1.4 issues&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12396413" name="SOLR-928-SolrDocument-Map.patch" size="4633" author="ryantxu" created="Thu, 18 Dec 2008 19:11:40 +0000"/>
                            <attachment id="12396385" name="SOLR-928-SolrDocument-Map.patch" size="7993" author="ryantxu" created="Thu, 18 Dec 2008 12:05:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 18 Dec 2008 17:32:36 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6705</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxocf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20263</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>