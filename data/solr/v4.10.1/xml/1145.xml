<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:20:43 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-1145/SOLR-1145.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-1145] Patch to set IndexWriter.defaultInfoStream from solr.xml</title>
                <link>https://issues.apache.org/jira/browse/SOLR-1145</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Lucene IndexWriters use an infoStream to log detailed info about indexing operations for debugging purpose. This patch is an extremely simple way to allow logging this info to a file from within Solr: After applying the patch, set the new &quot;defaultInfoStreamFilePath&quot; attribute of the solr element in solr.xml to the path of the file where you&apos;d like to save the logging information.&lt;/p&gt;

&lt;p&gt;Note that, in a multi-core setup, all cores will end up logging to the same infoStream log file. This may not be desired. (But it does justify putting the setting in solr.xml rather than solrconfig.xml.)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12424574">SOLR-1145</key>
            <summary>Patch to set IndexWriter.defaultInfoStream from solr.xml</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="markrmiller@gmail.com">Mark Miller</assignee>
                                    <reporter username="ryguasu">Chris Harris</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 May 2009 02:39:29 +0100</created>
                <updated>Tue, 10 Nov 2009 15:52:05 +0000</updated>
                            <resolved>Thu, 8 Oct 2009 20:06:35 +0100</resolved>
                                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12706201" author="yseeley@gmail.com" created="Tue, 5 May 2009 22:24:35 +0100"  >&lt;p&gt;This would be very useful to get in for 1.4 to help with indexing issues people may hit.&lt;/p&gt;</comment>
                            <comment id="12711828" author="ryguasu" created="Thu, 21 May 2009 22:48:05 +0100"  >&lt;p&gt;I found it confusing not to have any timestamp data in the infostream log. This new version prints a timestamp along with each infoStream message. You can configure the timestamp format, though there&apos;s currently no way to disable timestamping.&lt;/p&gt;</comment>
                            <comment id="12711834" author="ryguasu" created="Thu, 21 May 2009 22:54:31 +0100"  >&lt;p&gt;Oops. Infostream logging should not be enabled by default in example/multicore&lt;/p&gt;</comment>
                            <comment id="12716248" author="markrmiller@gmail.com" created="Thu, 4 Jun 2009 12:54:52 +0100"  >&lt;p&gt;Couple thoughts:&lt;/p&gt;

&lt;p&gt;Great idea - lets put this in for sure.&lt;/p&gt;

&lt;p&gt;I think the config actually does belong in solrconfig.xml though. I also think we should not be using the static setDefaultInfostream, but rather the per instance setting. Then you can set a debug info file per core. &lt;/p&gt;</comment>
                            <comment id="12716417" author="otis" created="Thu, 4 Jun 2009 22:46:57 +0100"  >&lt;p&gt;I agree about this belonging to solrconfig.xml &amp;#8211; I bet &amp;lt; 50% people use multicore.&lt;/p&gt;</comment>
                            <comment id="12720153" author="markrmiller@gmail.com" created="Tue, 16 Jun 2009 15:31:41 +0100"  >&lt;p&gt;So I think it should be more like this - per core settings.&lt;/p&gt;

&lt;p&gt;Or perhaps a mix of our two patches?&lt;/p&gt;</comment>
                            <comment id="12720172" author="ryguasu" created="Tue, 16 Jun 2009 15:55:51 +0100"  >&lt;blockquote&gt;&lt;p&gt;So I think it should be more like this - per core settings.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That works fine for me. I didn&apos;t actually think doing it per core would be that easy, which is part of why I started out with the process-wide approach.&lt;/p&gt;

&lt;p&gt;Any ideas about if the TimeLoggingPrintStream is going to slow things down too much? I didn&apos;t do any kind of benchmarking with that.&lt;/p&gt;</comment>
                            <comment id="12721580" author="hossman" created="Fri, 19 Jun 2009 01:25:54 +0100"  >&lt;p&gt;adding support for setInfoStream seems like a good idea, but specifying a filename in the config file and writing a new TimeLoggingPrintStream class smells like reinventing logging.&lt;/p&gt;

&lt;p&gt;It seems like it would be simpler just to add a new boolean &quot;infoStream&quot; config option, and then leverage the existing logging framework by constructing an instance of a PrintStream that just proxies to SLF4J when the boolean property is true.  A PrintStream instance that writes to a Logger seems no harder to implement then an PrintStream that knows how to prepend messages with a timestamp &amp;#8211; and by using the standard logging framework, solr admins can customize it however they want.&lt;/p&gt;

&lt;p&gt;It looks like someone may have already thought this type of problem through a lot more indepth then us anyway...&lt;br/&gt;
&lt;a href=&quot;http://bugzilla.slf4j.org/show_bug.cgi?id=110&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bugzilla.slf4j.org/show_bug.cgi?id=110&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12721783" author="markrmiller@gmail.com" created="Fri, 19 Jun 2009 14:44:51 +0100"  >&lt;p&gt;I see your point Hoss.&lt;/p&gt;

&lt;p&gt;But at the same time, this is a special debug log that I would likely want to see only when I specifically turn it on to debug (usually for a Lucene dev to look at). Likely I just want to see the log in isolation - Mike M will prob have a hard time looking through it mixed in with all of the Solr logging &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Now you can do that with log4j/jdk logging, but its a hassle. Youd have to setup a config that captured the right package, and setup a file for it to write to... and it would likely be a hassle for people when I said, hey just turn on the IndexWriter debug stream, and setup your logging config to isolate it to a single file, and ...&lt;/p&gt;

&lt;p&gt;And it just seems like you would almost never want the info dispersed with everything else in the standard log.&lt;/p&gt;

&lt;p&gt;TimeLoggingPrintStream isnt really to reinvent logging - its just to shove in a timestamp as I guess Lucene doesn&apos;t.&lt;/p&gt;

&lt;p&gt;So, I see your point, and I&apos;m not really arguing against yet (Likely you have good counter points), but thats the way I see it at the moment...&lt;/p&gt;</comment>
                            <comment id="12721784" author="markrmiller@gmail.com" created="Fri, 19 Jun 2009 14:53:07 +0100"  >&lt;p&gt;Also, with lots of cores, even if you used the logging config to isolate the infostream log, it would be very difficult to isolate each core to its own file. And again, it seems like it would be difficult to deal with the log with multiple cores mixing up the IndexWriter debug logging in the same file.&lt;/p&gt;</comment>
                            <comment id="12723331" author="hossman" created="Tue, 23 Jun 2009 23:33:48 +0100"  >&lt;p&gt;Mark: all your points are valid.&lt;/p&gt;

&lt;p&gt;Do me one favor: instead of this...&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;infoStreamFile&amp;gt;/path/to/infostream/file&amp;lt;/infoStreamFile&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Make the config sequence something like...&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;infoStream file=&lt;span class=&quot;code-quote&quot;&gt;&quot;/path/to/infostream/file&quot;&lt;/span&gt; /&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;...so we don&apos;t paint ourselves into a corner, and we can easily add logging based infostream option later if we want. (using a new &apos;logger=&quot;...&quot;&apos; xml attribute instead of &apos;file&apos;)&lt;/p&gt;

&lt;p&gt;On a related note, Having an explicit true/false (ie: on/off) option seems like a good idea so it&apos;s easy to control with a system property at startup....&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;infoStream file=&lt;span class=&quot;code-quote&quot;&gt;&quot;/path/to/infostream/file&quot;&lt;/span&gt;&amp;gt;${solr.infostream:&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;}&amp;lt;/infostream&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="12723578" author="markrmiller@gmail.com" created="Wed, 24 Jun 2009 15:31:49 +0100"  >&lt;p&gt;Changes made plus some other polish/finish&lt;/p&gt;</comment>
                            <comment id="12723584" author="noble.paul" created="Wed, 24 Jun 2009 15:44:31 +0100"  >&lt;p&gt;I am moving all the xpath reading to solrconfig. I guess this too can go to solrconfig.  &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-1198&quot; title=&quot;confine all solrconfig.xml parsing to SolrConfig.java&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-1198&quot;&gt;&lt;del&gt;SOLR-1198&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12723586" author="markrmiller@gmail.com" created="Wed, 24 Jun 2009 15:49:24 +0100"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12727714" author="markrmiller@gmail.com" created="Mon, 6 Jul 2009 20:24:32 +0100"  >&lt;p&gt;Thanks Chris!&lt;/p&gt;</comment>
                            <comment id="12763618" author="yseeley@gmail.com" created="Thu, 8 Oct 2009 19:40:08 +0100"  >&lt;p&gt;Reopening... I can&apos;t get it to work either.&lt;br/&gt;
&lt;a href=&quot;http://search.lucidimagination.com/search/document/9cd31d75526236f1/indexwriter_infostream_in_solrconfig_not_working&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://search.lucidimagination.com/search/document/9cd31d75526236f1/indexwriter_infostream_in_solrconfig_not_working&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12763633" author="yseeley@gmail.com" created="Thu, 8 Oct 2009 19:55:22 +0100"  >&lt;p&gt;OK, I found it... the example has infoStream in the indexDefaults section and not the mainIndex section.&lt;/p&gt;

&lt;p&gt;Not sure if intoStream should be supported as a default or not.&lt;br/&gt;
Perhaps just move the example to mainIndex for now?&lt;/p&gt;</comment>
                            <comment id="12763640" author="yseeley@gmail.com" created="Thu, 8 Oct 2009 20:06:35 +0100"  >&lt;p&gt;committed changes to example, as well as a NPE fix for files without a parent specified.&lt;/p&gt;</comment>
                            <comment id="12775730" author="gsingers" created="Tue, 10 Nov 2009 15:52:05 +0000"  >&lt;p&gt;Bulk close for Solr 1.4&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12411652" name="SOLR-1145.patch" size="4993" author="markrmiller@gmail.com" created="Wed, 24 Jun 2009 15:31:49 +0100"/>
                            <attachment id="12410813" name="SOLR-1145.patch" size="4437" author="markrmiller@gmail.com" created="Tue, 16 Jun 2009 15:31:41 +0100"/>
                            <attachment id="12408746" name="SOLR-1145.patch" size="3654" author="ryguasu" created="Thu, 21 May 2009 22:54:31 +0100"/>
                            <attachment id="12407206" name="SOLR-1145.patch" size="1328" author="ryguasu" created="Tue, 5 May 2009 02:39:58 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 5 May 2009 21:24:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6497</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxn0v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20049</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>