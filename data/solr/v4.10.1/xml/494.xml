<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:17:46 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-494/SOLR-494.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-494] LukeRequestHandler/Ajax-based schema explorer</title>
                <link>https://issues.apache.org/jira/browse/SOLR-494</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;This patch submits a schema browsing tool based on making Ajax calls to LukeRequestHandler.  It is in progress, but far enough along to generate discussion and see if people find it useful/perhaps incorporate some feedback.  It is similar to the XSLT-based schema browser in &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-75&quot; title=&quot;XSLT-based &amp;quot;Schema Browser&amp;quot; in admin view&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-75&quot;&gt;&lt;del&gt;SOLR-75&lt;/del&gt;&lt;/a&gt;, in that it provides cross-referenced exploring of the major schema components (fields/field types/dynamic fields).  Since LukeRequestHandler provides more information, this version can provide more information than could the XSLT version, including statsitics and more information about dynamic fields.  Also, since it hits LukeRequestHandler, it probably also has much different performance that just transforming schema.xml.&lt;/p&gt;</description>
                <environment>&lt;p&gt;N/A&lt;/p&gt;</environment>
        <key id="12390016">SOLR-494</key>
            <summary>LukeRequestHandler/Ajax-based schema explorer</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="gludington">Greg Ludington</reporter>
                        <labels>
                    </labels>
                <created>Mon, 3 Mar 2008 01:56:19 +0000</created>
                <updated>Fri, 10 May 2013 11:39:17 +0100</updated>
                            <resolved>Thu, 20 Mar 2008 19:55:58 +0000</resolved>
                                                    <fixVersion>1.3</fixVersion>
                                    <component>web gui</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12574325" author="gludington" created="Mon, 3 Mar 2008 01:57:26 +0000"  >&lt;p&gt;This patch consists of 5 files:&lt;/p&gt;

&lt;p&gt;1) Changes to IndexSchema to expose more information for cross referencing &amp;#8211; the source fields for a copyField, as well the prototypes for each DynamicField&lt;/p&gt;

&lt;p&gt;2) Changes to LukeRequestHandler to pass this additional information (copyField sources and destinations, as well as analyzer information, and dynamic field information.)&lt;/p&gt;

&lt;p&gt;3) Changes to solr-admin.css for the new page (adding new styles, not changing any existing ones)&lt;/p&gt;

&lt;p&gt;4) A javascript-heavy schema.jsp to retrieve this information and present it in a browsable form&lt;/p&gt;

&lt;p&gt;5) The inclusion of jquery as a foundation for the javascript in schema.jsp&lt;/p&gt;

&lt;p&gt;It is the last two parts that could be a concern for committers.  jquery is dual-licensed under the GPL and under the MIT license, which I believe is ASF-compatible, but I have not checked the contribution checkbox until I know for sure.  Similarly, schema.jsp itself is heavily dependent on javascript that the project may or may not wish to maintain as versions change.&lt;/p&gt;

&lt;p&gt;The page is also not set up to degrade gracefully.  Normally, I would consider that a large faux pas, but I am creating this as an internal aid, where graceful degradation will not be an issue, so I have not had the itch to redo this server-side.  It may be an issue in the larger context of being included in Solr, as, while it provides a few more ways to look at the schema than the XML/XSL LukeRequestHandler, it will not work across as many clients.  As a result, I did not include any direct link to it from any of the stock admin jsps, so you would have to hit&lt;/p&gt;

&lt;p&gt;(your path)/admin/schema.jsp&lt;/p&gt;

&lt;p&gt;directly in order to try it out.  I have tried it in several different browsers against my own small (single core) indexes, but I would be interested in feedback on how well it works for large indexes or indexes with large numbers of field definitions.&lt;/p&gt;</comment>
                            <comment id="12575028" author="gludington" created="Tue, 4 Mar 2008 15:51:35 +0000"  >&lt;p&gt;Screen shot of the basic view of the &quot;text&quot; field from the example schema, as viewed  in Firefox 2.  Shows links to field type, the fields it is copied from, index/query analyzers, as well as the histogram and the top terms form.&lt;/p&gt;</comment>
                            <comment id="12579428" author="ehatcher" created="Mon, 17 Mar 2008 13:06:11 +0000"  >&lt;p&gt;committed!  Thanks Greg for this very slick addition to Solr&apos;s schema view!&lt;/p&gt;</comment>
                            <comment id="12579524" author="hossman" created="Mon, 17 Mar 2008 17:36:36 +0000"  >&lt;p&gt;this seems to have broken two SolrJ tests: SolrExampleEmbeddedTest and SolrExampleJettyTest which parse the output from the LukeRequestHandler.&lt;/p&gt;

&lt;p&gt;reopening issue until we figure out how to fix it.&lt;/p&gt;

&lt;p&gt;Greg: reading the diff, it&apos;s not clear to me what changed in the response format from LukeRequestHandler.  Can you elaborate on what changed and if it was intentional and what value it adds?&lt;/p&gt;</comment>
                            <comment id="12579614" author="gludington" created="Mon, 17 Mar 2008 21:30:26 +0000"  >&lt;p&gt;The LukeRequestHandler output (and IndexSchema) was changed to provide&lt;br/&gt;
a bit more information to cross reference fields, field types, and&lt;br/&gt;
dynamic fields.  These additions allow the user to browse through the&lt;br/&gt;
relationships between fields/types, hopefully to get a more complete&lt;br/&gt;
picture of the schema.&lt;/p&gt;

&lt;p&gt;1) In the default no-argument LukeRequestHandler output, dynamic&lt;br/&gt;
fields are outputted with a reference to the dynamicField used to&lt;br/&gt;
generate them.  In the example schema.conf, the field&lt;br/&gt;
&quot;incubationdate_dt&quot;, would contain this extra child in the XML&lt;br/&gt;
response:&lt;/p&gt;

&lt;p&gt;&amp;lt;str name=&quot;dynamicBase&quot;&amp;gt;*_dt&amp;lt;/str&amp;gt;&lt;/p&gt;

&lt;p&gt;2) In the show=schema view, dynamicField definitions are also&lt;br/&gt;
outputted.  In the XML response, this would be:&lt;/p&gt;

&lt;p&gt;&amp;lt;lst name=&quot;random*&quot;&amp;gt;&lt;br/&gt;
  &amp;lt;str name=&quot;type&quot;&amp;gt;random&amp;lt;/str&amp;gt;&lt;br/&gt;
  &amp;lt;str name=&quot;flags&quot;&amp;gt;I-S----------&amp;lt;/str&amp;gt;&lt;br/&gt;
  &amp;lt;arr name=&quot;copyDests&quot;/&amp;gt;&lt;br/&gt;
  &amp;lt;arr name=&quot;copySources&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;/lst&amp;gt;&lt;/p&gt;

&lt;p&gt;3) In that schema view, fields reference the fields they are copied&lt;br/&gt;
from, or copied to.  The text field in the example schema would look&lt;br/&gt;
like the following:&lt;/p&gt;

&lt;p&gt;&amp;lt;arr name=&quot;copySources&quot;&amp;gt;&lt;br/&gt;
  &amp;lt;str&amp;gt;&lt;br/&gt;
org.apache.solr.schema.SchemaField:cat&lt;/p&gt;
{type=text_ws,properties=indexed,tokenized,stored,omitNorms,termVectors,multiValued}
&lt;p&gt;  &amp;lt;/str&amp;gt;&lt;br/&gt;
...and so on for each field&lt;br/&gt;
&amp;lt;/arr&amp;gt;&lt;/p&gt;

&lt;p&gt;3) In the show=schema view, FieldTypes also output the dynamicFields&lt;br/&gt;
that use their definitions.  In the example schema, sdouble has no&lt;br/&gt;
fields, and so does not show up.  After this patch, it shows up as&lt;br/&gt;
follows, because there is a dynamicField available of that type:&lt;/p&gt;

&lt;p&gt;&amp;lt;lst name=&quot;sdouble&quot;&amp;gt;&lt;br/&gt;
  &amp;lt;arr name=&quot;fields&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;str&amp;gt;*_d&amp;lt;/str&amp;gt;&lt;br/&gt;
  &amp;lt;/arr&amp;gt;&lt;br/&gt;
  &amp;lt;bool name=&quot;tokenized&quot;&amp;gt;false&amp;lt;/bool&amp;gt;&lt;br/&gt;
  &amp;lt;str name=&quot;className&quot;&amp;gt;org.apache.solr.schema.SortableDoubleField&amp;lt;/str&amp;gt;&lt;br/&gt;
  &amp;lt;lst name=&quot;indexAnalyzer&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;str name=&quot;className&quot;&amp;gt;org.apache.solr.schema.FieldType$DefaultAnalyzer&amp;lt;/str&amp;gt;&lt;br/&gt;
  &amp;lt;/lst&amp;gt;&lt;br/&gt;
  &amp;lt;lst name=&quot;queryAnalyzer&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;str name=&quot;className&quot;&amp;gt;org.apache.solr.schema.FieldType$DefaultAnalyzer&amp;lt;/str&amp;gt;&lt;br/&gt;
  &amp;lt;/lst&amp;gt;&lt;br/&gt;
&amp;lt;/lst&amp;gt;&lt;/p&gt;

&lt;p&gt;4) Again in the show=schema view, there is some addition information&lt;br/&gt;
about the analyzers.  Each Field is output with its&lt;br/&gt;
positionIncrementGap, and each FieldType is output with its tokenizers&lt;br/&gt;
and filters.  This FieldType snippet is long, but it appears the solrj&lt;br/&gt;
issue is here:&lt;/p&gt;

&lt;p&gt;&amp;lt;lst name=&quot;indexAnalyzer&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;str name=&quot;className&quot;&amp;gt;org.apache.solr.analysis.TokenizerChain&amp;lt;/str&amp;gt;&lt;br/&gt;
    &amp;lt;lst name=&quot;tokenizer&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;str name=&quot;className&quot;&amp;gt;&lt;br/&gt;
org.apache.solr.analysis.WhitespaceTokenizerFactory &amp;lt;/str&amp;gt;&lt;br/&gt;
        &amp;lt;lst name=&quot;args&quot;/&amp;gt;&lt;br/&gt;
    &amp;lt;/lst&amp;gt;&lt;br/&gt;
    &amp;lt;arr name=&quot;filters&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;lst&amp;gt;&lt;br/&gt;
            &amp;lt;lst name=&quot;args&quot;&amp;gt;&lt;br/&gt;
                &amp;lt;str name=&quot;synonyms&quot;&amp;gt;synonyms.txt&amp;lt;/str&amp;gt;&lt;br/&gt;
                &amp;lt;str name=&quot;expand&quot;&amp;gt;false&amp;lt;/str&amp;gt;&lt;br/&gt;
                &amp;lt;str name=&quot;ignoreCase&quot;&amp;gt;true&amp;lt;/str&amp;gt;&lt;br/&gt;
            &amp;lt;/lst&amp;gt;&lt;br/&gt;
            &amp;lt;str&lt;br/&gt;
name=&quot;className&quot;&amp;gt;org.apache.solr.analysis.SynonymFilterFactory&amp;lt;/str&amp;gt;&lt;br/&gt;
        &amp;lt;/lst&amp;gt;&lt;br/&gt;
        &amp;lt;lst&amp;gt;&lt;br/&gt;
            &amp;lt;lst name=&quot;args&quot;&amp;gt;&lt;br/&gt;
                &amp;lt;str name=&quot;words&quot;&amp;gt;stopwords.txt&amp;lt;/str&amp;gt;&lt;br/&gt;
                &amp;lt;str name=&quot;ignoreCase&quot;&amp;gt;true&amp;lt;/str&amp;gt;&lt;br/&gt;
            &amp;lt;/lst&amp;gt;&lt;br/&gt;
            &amp;lt;str&lt;br/&gt;
name=&quot;className&quot;&amp;gt;org.apache.solr.analysis.StopFilterFactory&amp;lt;/str&amp;gt;&lt;br/&gt;
        &amp;lt;/lst&amp;gt;&lt;br/&gt;
        &amp;lt;lst&amp;gt;&lt;br/&gt;
            &amp;lt;lst name=&quot;args&quot;&amp;gt;&lt;br/&gt;
                &amp;lt;str name=&quot;generateNumberParts&quot;&amp;gt;0&amp;lt;/str&amp;gt;&lt;br/&gt;
                &amp;lt;str name=&quot;catenateWords&quot;&amp;gt;1&amp;lt;/str&amp;gt;&lt;br/&gt;
                &amp;lt;str name=&quot;generateWordParts&quot;&amp;gt;0&amp;lt;/str&amp;gt;&lt;br/&gt;
                &amp;lt;str name=&quot;catenateAll&quot;&amp;gt;0&amp;lt;/str&amp;gt;&lt;br/&gt;
                &amp;lt;str name=&quot;catenateNumbers&quot;&amp;gt;1&amp;lt;/str&amp;gt;&lt;br/&gt;
            &amp;lt;/lst&amp;gt;&lt;br/&gt;
            &amp;lt;str name=&quot;className&quot;&amp;gt;&lt;br/&gt;
org.apache.solr.analysis.WordDelimiterFilterFactory &amp;lt;/str&amp;gt;&lt;br/&gt;
        &amp;lt;/lst&amp;gt;&lt;br/&gt;
        &amp;lt;lst&amp;gt;&lt;br/&gt;
            &amp;lt;lst name=&quot;args&quot;/&amp;gt;&lt;br/&gt;
            &amp;lt;str&lt;br/&gt;
name=&quot;className&quot;&amp;gt;org.apache.solr.analysis.LowerCaseFilterFactory&amp;lt;/str&amp;gt;&lt;br/&gt;
        &amp;lt;/lst&amp;gt;&lt;br/&gt;
        &amp;lt;lst&amp;gt;&lt;br/&gt;
            &amp;lt;lst name=&quot;args&quot;&amp;gt;&lt;br/&gt;
                &amp;lt;str name=&quot;protected&quot;&amp;gt;protwords.txt&amp;lt;/str&amp;gt;&lt;br/&gt;
            &amp;lt;/lst&amp;gt;&lt;br/&gt;
            &amp;lt;str name=&quot;className&quot;&amp;gt;&lt;br/&gt;
org.apache.solr.analysis.EnglishPorterFilterFactory &amp;lt;/str&amp;gt;&lt;br/&gt;
        &amp;lt;/lst&amp;gt;&lt;br/&gt;
        &amp;lt;lst&amp;gt;&lt;br/&gt;
            &amp;lt;lst name=&quot;args&quot;/&amp;gt;&lt;br/&gt;
            &amp;lt;str name=&quot;className&quot;&amp;gt;&lt;br/&gt;
org.apache.solr.analysis.RemoveDuplicatesTokenFilterFactory&lt;br/&gt;
            &amp;lt;/str&amp;gt;&lt;br/&gt;
        &amp;lt;/lst&amp;gt;&lt;br/&gt;
    &amp;lt;/arr&amp;gt;&lt;br/&gt;
&amp;lt;/lst&amp;gt;&lt;/p&gt;


&lt;p&gt;I had not been looking at the solrj effects yet, but it the failure is&lt;br/&gt;
in the way filters and analyzers are output in the show=schema view&lt;br/&gt;
(or how they are parsed in solrj).  I will try and make some time to&lt;br/&gt;
look at this tonight, but I would be not able to look at other client&lt;br/&gt;
implementations.&lt;/p&gt;</comment>
                            <comment id="12579675" author="ehatcher" created="Mon, 17 Mar 2008 23:57:30 +0000"  >&lt;p&gt;Fixed issue that caused SolrJ tests to fail.  Sorry, my bad for not running &quot;ant test&quot; before committing!&lt;/p&gt;</comment>
                            <comment id="12580880" author="gludington" created="Thu, 20 Mar 2008 18:18:41 +0000"  >&lt;p&gt;I finally had occasion to look at this in a multicore setting, and the extra core-identifying field caused the schema browser problems, and, more importantly, caused an Exception to be thrown in the LukeRequestHandler when trying to output schema information for that extra multicore field.  The upcoming patch adds the necessary check to LukeRequestHandler, and adjusts the javascript in schema.jsp&lt;/p&gt;</comment>
                            <comment id="12580881" author="gludington" created="Thu, 20 Mar 2008 18:21:32 +0000"  >&lt;p&gt;In a multicore setting, these changes cause the LukeRequestHandler to throw an Exception on the core-identifying field because there was not a null check for sfield in the appropriate new line of LukeRequestHandler This patch adds this check, and also updates the javascript.&lt;/p&gt;</comment>
                            <comment id="12580908" author="ehatcher" created="Thu, 20 Mar 2008 19:55:58 +0000"  >&lt;p&gt;patch applied, thanks Greg!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12392659">SOLR-519</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12357216">SOLR-75</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12362978">SOLR-162</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12377089" name="Field View.jpg" size="109319" author="gludington" created="Tue, 4 Mar 2008 15:51:35 +0000"/>
                            <attachment id="12376949" name="jsonschemabrowser.patch" size="92593" author="gludington" created="Mon, 3 Mar 2008 01:57:26 +0000"/>
                            <attachment id="12378333" name="multicoreupdate.patch" size="2466" author="gludington" created="Thu, 20 Mar 2008 18:21:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 17 Mar 2008 13:06:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7111</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxqzr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20692</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>