<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:20:49 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-660/SOLR-660.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-660] Simplify UpdateRequestProcessor API</title>
                <link>https://issues.apache.org/jira/browse/SOLR-660</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-269&quot; title=&quot;UpdateRequestProcessorFactory - process requests before submitting them&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-269&quot;&gt;&lt;del&gt;SOLR-269&lt;/del&gt;&lt;/a&gt; introduced UpdateRequestProcessor.  The existing API/configuration is too complicated and should be simplified before release 1.3&lt;/p&gt;</description>
                <environment></environment>
        <key id="12401044">SOLR-660</key>
            <summary>Simplify UpdateRequestProcessor API</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ryantxu">Ryan McKinley</reporter>
                        <labels>
                    </labels>
                <created>Fri, 25 Jul 2008 20:03:51 +0100</created>
                <updated>Fri, 10 May 2013 11:39:37 +0100</updated>
                            <resolved>Sat, 26 Jul 2008 01:27:41 +0100</resolved>
                                    <version>1.3</version>
                                    <fixVersion>1.3</fixVersion>
                                    <component>update</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12617016" author="ryantxu" created="Fri, 25 Jul 2008 20:17:38 +0100"  >&lt;p&gt;patch that removes the no-op factory and forces eveything to be a chain.  Now the configuration looks like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;updateRequestProcessorChain name=&lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt; default=&lt;span class=&quot;code-quote&quot;&gt;&quot;true&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;processor class=&lt;span class=&quot;code-quote&quot;&gt;&quot;solr.CustomUpdateRequestProcessorFactory&quot;&lt;/span&gt; &amp;gt;&lt;/span&gt;
   &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
     &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;n1&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;x1&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/str&amp;gt;&lt;/span&gt;
     &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;n2&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;x2&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/str&amp;gt;&lt;/span&gt;
   &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/lst&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/processor&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;processor class=&lt;span class=&quot;code-quote&quot;&gt;&quot;solr.RunUpdateProcessorFactory&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;processor class=&lt;span class=&quot;code-quote&quot;&gt;&quot;solr.LogUpdateProcessorFactory&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/updateRequestProcessorChain&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The big changes are:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;processor factories are now loaded with NamedListInitalizedPluginLoader &amp;#8211; it is no longer custon Node parsing.&lt;/li&gt;
	&lt;li&gt;the Factories no longer have direct access to core.  if they need it, they can implement SorlCoreAware&lt;/li&gt;
	&lt;li&gt;moves all config parsing out of the processor classes.&lt;/li&gt;
&lt;/ul&gt;

</comment>
                            <comment id="12617027" author="shalinmangar" created="Fri, 25 Jul 2008 20:47:39 +0100"  >&lt;p&gt;Thanks for opening this issue Ryan!&lt;/p&gt;

&lt;p&gt;The configuration looks much better and going with the NamedListInitializedPlugin and SolrCoreAware makes it more consistent with the RequestHandler and SearchComponent code base. Let me see how I can help &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12617106" author="ryantxu" created="Sat, 26 Jul 2008 01:27:41 +0100"  >&lt;p&gt;just committed this and updated the text on:&lt;br/&gt;
&lt;a href=&quot;http://wiki.apache.org/solr/UpdateRequestProcessor&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/solr/UpdateRequestProcessor&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Shalin, if you could add more documentation / comments from your experience using it, that would be great.&lt;/p&gt;</comment>
                            <comment id="12617118" author="noble.paul" created="Sat, 26 Jul 2008 03:57:15 +0100"  >&lt;p&gt;This looks very good, Ryan .The configuration is obvious as what it is doing though I&apos;m still not convinced of the need for a factory (Eitherway it does not matter). I guess it would be nice to make the &lt;em&gt;UpdateRequestProcessorFactory&lt;/em&gt; implements SolrCoreAware. Any initialization with the core can be done here.&lt;br/&gt;
I have changed the wiki too&lt;/p&gt;


</comment>
                            <comment id="12617119" author="ryantxu" created="Sat, 26 Jul 2008 04:14:33 +0100"  >&lt;blockquote&gt;&lt;p&gt;I guess it would be nice to make the UpdateRequestProcessorFactory&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;any UpdateRequestProcessorFactory that needs access to SolrCore just needs to implement SolrCoreAware, then it will be initialized via the standard plugin stuff.  Our base UpdateRequestProcessorFactory should not need SolrCore.&lt;/p&gt;

&lt;p&gt;It does not &lt;em&gt;need&lt;/em&gt; to be a factory, but the chaining and state implementations (for non-trivial processors) is much more straight forward.&lt;/p&gt;</comment>
                            <comment id="12617235" author="noble.paul" created="Sun, 27 Jul 2008 04:40:43 +0100"  >&lt;p&gt;I noticed one more inconsistency. Factories are provided to control the creation of instances by the API consumers. In this design you almost force the implementers to create a new instance if the user needs to access the solrQueryRequest, solrQueryResponse parameters. As a design, constructing the UpdateRequestProcessor instance should not need these objects. By making available a runtime objects in the construction time only , the API disallow the user from having a singleton. The optimal design is to move all the runtime objects to method arguments&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12372155">SOLR-269</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12386913" name="SOLR-660-update-processor.patch" size="35586" author="ryantxu" created="Fri, 25 Jul 2008 20:17:37 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 25 Jul 2008 19:47:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6954</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxpzj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20529</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>