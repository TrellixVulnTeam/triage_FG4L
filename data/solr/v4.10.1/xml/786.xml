<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:21:57 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-786/SOLR-786.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-786] refactor in DisMaxQParserPlugin and DismaxQParser to allow extending DismaxQParser</title>
                <link>https://issues.apache.org/jira/browse/SOLR-786</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;I needed to change some of the default behaviour of the DismaxQParser, so as opposed to infecting the solr codebase with our custom behaviour, I wanted to be able to subclass the DismaxQParser and change only what we wanted to change. &lt;/p&gt;

&lt;p&gt;Here I submit a patch that allows for such subclassing. The change that is done to the code base in the following steps:&lt;/p&gt;

&lt;p&gt;1. refactor in the DismaxQParser.parse() method to &lt;br/&gt;
    addMainQuery(query, solrParams);&lt;br/&gt;
    addBoostQuery(query, solrParams);&lt;br/&gt;
    addBoostFunctions(query, solrParams); &lt;/p&gt;

&lt;p&gt;2. refactor the addMainQuery() method to use &lt;br/&gt;
    getUserQuery(userQuery, up, solrParams)&lt;br/&gt;
    getAlternateUserQuery(solrParams)&lt;br/&gt;
    getPhraseQuery(userQuery, pp) &lt;/p&gt;

&lt;p&gt;3. move the DismaxQParser to the top-level to make it public (and allow subclassing)&lt;/p&gt;

&lt;p&gt;After applying this change I can to as follows:&lt;br/&gt;
1. write my own QParserPlugin to return a subclass of the DismaxQParser &lt;br/&gt;
2. in this subclass I override the the methods I need, in my case the getUserQuery() method.&lt;br/&gt;
3. add this plugin to the solrconfig.xml and use it&lt;/p&gt;

&lt;p&gt;the patch is done against the Solr svn trunk&lt;/p&gt;</description>
                <environment></environment>
        <key id="12404945">SOLR-786</key>
            <summary>refactor in DisMaxQParserPlugin and DismaxQParser to allow extending DismaxQParser</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="shalinmangar">Shalin Shekhar Mangar</assignee>
                                    <reporter username="wbiela">Wojciech Biela</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Sep 2008 11:29:12 +0100</created>
                <updated>Tue, 10 Nov 2009 15:51:47 +0000</updated>
                            <resolved>Thu, 28 May 2009 09:01:22 +0100</resolved>
                                    <version>1.3</version>
                                    <fixVersion>1.4</fixVersion>
                                    <component>search</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="12633673" author="wbiela" created="Tue, 23 Sep 2008 11:31:03 +0100"  >&lt;p&gt;the patch&lt;/p&gt;</comment>
                            <comment id="12633677" author="wbiela" created="Tue, 23 Sep 2008 11:37:30 +0100"  >&lt;p&gt;corrected patch (added the ASL 2.0 Licence note)&lt;/p&gt;</comment>
                            <comment id="12634174" author="wbiela" created="Wed, 24 Sep 2008 16:45:17 +0100"  >&lt;p&gt;the patch corrected, one of the methods was private, so I made it protected to allow reuse.&lt;/p&gt;</comment>
                            <comment id="12636623" author="koji" created="Fri, 3 Oct 2008 14:06:43 +0100"  >&lt;p&gt;This is not a bug.&lt;/p&gt;</comment>
                            <comment id="12713899" author="shalinmangar" created="Thu, 28 May 2009 08:39:32 +0100"  >&lt;p&gt;Patch updated to trunk.&lt;/p&gt;

&lt;p&gt;We&apos;ve already marked DisMaxQParser as an experimental API so this can go in as well. I plan to commit shortly.&lt;/p&gt;</comment>
                            <comment id="12713901" author="shalinmangar" created="Thu, 28 May 2009 09:01:22 +0100"  >&lt;p&gt;Committed revision 779469.&lt;/p&gt;

&lt;p&gt;Thanks Wojciech!&lt;/p&gt;</comment>
                            <comment id="12775540" author="gsingers" created="Tue, 10 Nov 2009 15:51:47 +0000"  >&lt;p&gt;Bulk close for Solr 1.4&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12409241" name="SOLR-786.patch" size="10022" author="shalinmangar" created="Thu, 28 May 2009 08:39:32 +0100"/>
                            <attachment id="12390844" name="dismax-query-parser.patch" size="18142" author="wbiela" created="Wed, 24 Sep 2008 16:45:17 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 3 Oct 2008 13:06:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6836</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxp7r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20404</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>