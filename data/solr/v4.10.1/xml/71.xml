<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:20:25 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-71/SOLR-71.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-71] New support for &quot;Date Math&quot; when adding/quering date fields</title>
                <link>https://issues.apache.org/jira/browse/SOLR-71</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;New utility class and changes to DateField to support syntax like the following...&lt;/p&gt;

&lt;p&gt;          startDate:&lt;span class=&quot;error&quot;&gt;&amp;#91;* TO NOW&amp;#93;&lt;/span&gt;&lt;br/&gt;
          startDate:&lt;span class=&quot;error&quot;&gt;&amp;#91;* TO NOW/DAY+1DAY&amp;#93;&lt;/span&gt;&lt;br/&gt;
          expirationDate:&lt;span class=&quot;error&quot;&gt;&amp;#91;NOW/DAY TO *&amp;#93;&lt;/span&gt;&lt;br/&gt;
          reviewDate:&lt;span class=&quot;error&quot;&gt;&amp;#91;NOW/DAY-1YEAR TO NOW/DAY&amp;#93;&lt;/span&gt;&lt;br/&gt;
          validDate:&lt;span class=&quot;error&quot;&gt;&amp;#91;NOW/MONTH TO NOW/MONTH+1MONTH-1MILLISECOND&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;...where + and - mean what you think, and &quot;/UNIT&quot; rounds down to the nearest UNIT.  The motivation for this being that date range queries like these are usefull for filters, but being date sensitve can&apos;t currently be &quot;baked in&quot; to a config as default params.&lt;/p&gt;

&lt;p&gt;a nice side effect of the implimentation, is that &quot;timestamp&quot; fields can be done with a document is added by using...&lt;/p&gt;

&lt;p&gt;   &amp;lt;field name=&quot;myTimestampField&quot;&amp;gt;NOW&amp;lt;/field&amp;gt;&lt;/p&gt;

&lt;p&gt;...and Solr will compute the value when adding the document ... if we add default values to the schema.xml even that won&apos;t be neccessary.&lt;/p&gt;


&lt;p&gt;Comments?  &lt;/p&gt;

&lt;p&gt;(I&apos;d be particularly gratefull if smarter people then I would sanity check my use of ThreadLocal for managing the DateFormat in DateField ... i&apos;ve never used ThreadLocal before.  Any general comments on the syntax would also be appreciated: This left-to-right syntax seemed more intuative to write (and easier to parse) then some of the other syntaxes I&apos;d considered)&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12356052">SOLR-71</key>
            <summary>New support for &quot;Date Math&quot; when adding/quering date fields</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hossman">Hoss Man</assignee>
                                    <reporter username="hossman">Hoss Man</reporter>
                        <labels>
                    </labels>
                <created>Sat, 18 Nov 2006 01:33:58 +0000</created>
                <updated>Fri, 10 May 2013 11:41:16 +0100</updated>
                            <resolved>Tue, 21 Nov 2006 01:57:46 +0000</resolved>
                                                    <fixVersion>1.1.0</fixVersion>
                                    <component>search</component>
                    <component>update</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12450947" author="hossman" created="Sat, 18 Nov 2006 01:36:23 +0000"  >
&lt;p&gt;Code, and tests ... if you readd the exampledocs the &quot;incubationdate_dt&quot; field is populated for the Solr product so you can play with it...&lt;/p&gt;

&lt;p&gt;incubationdate_dt:&lt;span class=&quot;error&quot;&gt;&amp;#91;* TO NOW-1DAY+3HOURS/MINUTE&amp;#93;&lt;/span&gt; ... matches.&lt;br/&gt;
incubationdate_dt:&lt;span class=&quot;error&quot;&gt;&amp;#91;* TO NOW-2YEARS&amp;#93;&lt;/span&gt;  ... does not match.&lt;/p&gt;</comment>
                            <comment id="12450956" author="yseeley@gmail.com" created="Sat, 18 Nov 2006 02:30:50 +0000"  >&lt;p&gt;Sweet!&lt;/p&gt;

&lt;p&gt;A couple of very minor notes regarding ThreadLocal:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;initialValue doesn&apos;t need to be synchronized... it&apos;s just that way in the javadoc example because they were incrementing a global counter&lt;/li&gt;
	&lt;li&gt;the trick you are trying in the ThreadLocalDateFormat aren&apos;t necessary.  no method will be called until the constructor has completed.  the java memory model also ensures that you see a completely constructed object from another thread, even if you haven&apos;t synchronized.  The extra variable won&apos;t hurt either... the JVM will completely optimize it away (so this is just an FYI).&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12450981" author="bdelacretaz" created="Sat, 18 Nov 2006 08:14:19 +0000"  >&lt;p&gt;This looks like a very useful feature!&lt;/p&gt;</comment>
                            <comment id="12451503" author="hossman" created="Tue, 21 Nov 2006 01:57:46 +0000"  >&lt;p&gt;commited with some small modifications:&lt;/p&gt;

&lt;p&gt;1) got rid of the unneeded synchronized Yonik pointed out&lt;br/&gt;
2) improved the javadocs a bit&lt;br/&gt;
3) added mention of DateMath in example schema.xml&lt;br/&gt;
4) added an example of a &quot;baked in&quot; Date Math query to the example solrconfig.xml&lt;/p&gt;</comment>
                            <comment id="12589364" author="hossman" created="Wed, 16 Apr 2008 00:56:45 +0100"  >&lt;p&gt;This bug was modified as part of a bulk update using the criteria...&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Marked (&quot;Resolved&quot; or &quot;Closed&quot;) and &quot;Fixed&quot;&lt;/li&gt;
	&lt;li&gt;Had no &quot;Fix Version&quot; versions&lt;/li&gt;
	&lt;li&gt;Was listed in the CHANGES.txt for 1.1&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The Fix Version for all 38 issues found was set to 1.1, email notification&lt;br/&gt;
was suppressed to prevent excessive email.&lt;/p&gt;

&lt;p&gt;For a list of all the issues modified, search jira comments for this&lt;br/&gt;
(hopefully) unique string: 20080415hossman3&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12345265" name="DateMath.patch" size="26880" author="hossman" created="Sat, 18 Nov 2006 01:36:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 18 Nov 2006 02:30:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7511</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxtkv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>21111</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>