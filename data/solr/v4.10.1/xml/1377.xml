<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:18:00 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-1377/SOLR-1377.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-1377] Force TokenizerFactory to create a Tokenizer rather then TokenStream </title>
                <link>https://issues.apache.org/jira/browse/SOLR-1377</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;The new token reuse classes require that they are created with a Tokenizer.  The solr TokenizerFactory interface currently makes a TokenStream.&lt;/p&gt;

&lt;p&gt;Although this is an API breaking change, the alternative is to just document that it needs to be a Tokenizer instance and throw an error when it is not.&lt;/p&gt;

&lt;p&gt;For more discussion, see:&lt;br/&gt;
&lt;a href=&quot;http://www.lucidimagination.com/search/document/272b8c4e6198d887/trunk_classcastexception_with_basetokenizerfactory&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.lucidimagination.com/search/document/272b8c4e6198d887/trunk_classcastexception_with_basetokenizerfactory&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12433707">SOLR-1377</key>
            <summary>Force TokenizerFactory to create a Tokenizer rather then TokenStream </summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ryantxu">Ryan McKinley</assignee>
                                    <reporter username="ryantxu">Ryan McKinley</reporter>
                        <labels>
                    </labels>
                <created>Fri, 21 Aug 2009 18:33:32 +0100</created>
                <updated>Tue, 10 Nov 2009 15:52:13 +0000</updated>
                            <resolved>Mon, 24 Aug 2009 19:59:33 +0100</resolved>
                                                    <fixVersion>1.4</fixVersion>
                                    <component>Schema and Analysis</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12746156" author="ryantxu" created="Fri, 21 Aug 2009 20:03:10 +0100"  >&lt;p&gt;Here is a patch that:&lt;/p&gt;

&lt;p&gt;1. Changes the TokenizerFactory to return a Tokenizer&lt;br/&gt;
2. Updates all TokenizerFactory classes to explicitly return a Tokenizer&lt;br/&gt;
3. Changes the PatternTokenizerFactory to return a Tokenizer&lt;br/&gt;
4. adds a test that calls PatternTokenizer&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;- -&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Since this is an API breaking change, I added this to the &quot;Upgrading from Solr 1.3&quot; section of CHANGES.txt:&lt;/p&gt;
&lt;div class=&quot;panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;panelContent&quot;&gt;
&lt;p&gt;The TokenizerFactory API has changed to explicitly return a Tokenizer rather then&lt;br/&gt;
a TokenStream (that may be or may not be a Tokenizer).  This change is required&lt;br/&gt;
to take advantage of the Token reuse improvements in lucene 2.9.  For more &lt;br/&gt;
information, see &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-1377&quot; title=&quot;Force TokenizerFactory to create a Tokenizer rather then TokenStream &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-1377&quot;&gt;&lt;del&gt;SOLR-1377&lt;/del&gt;&lt;/a&gt;. &lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I&apos;ll wait for two +1 votes on this, since it does break back compatibility&lt;/p&gt;</comment>
                            <comment id="12746269" author="yseeley@gmail.com" created="Fri, 21 Aug 2009 23:03:46 +0100"  >&lt;p&gt;Uploading another patch based on yours that implements reuse (reset(Reader)) for the Tokenizers.&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12746287" author="ryantxu" created="Fri, 21 Aug 2009 23:12:50 +0100"  >&lt;p&gt;Is reset gaurenteed to be called on the same Reader?  For the Pattern implementation, all the tokens are created beforehand and are just passed off with iter.next(), so if the input changes, the whole thing would need to change.&lt;/p&gt;

&lt;p&gt;+       public void reset(Reader input) throws IOException &lt;/p&gt;
{
+          super.reset(input);
+          init();
+       }

&lt;p&gt;Any reason not to implement reset on: TrieTokenizerFactory?&lt;/p&gt;</comment>
                            <comment id="12746311" author="yseeley@gmail.com" created="Fri, 21 Aug 2009 23:40:47 +0100"  >&lt;blockquote&gt;&lt;p&gt;For the Pattern implementation, all the tokens are created beforehand and are just passed off with iter.next(), so if the input changes, the whole thing would need to change. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;And it does now... I moved the creation of the Token&amp;lt;List&amp;gt; to init() so it&apos;s recreated with every reset.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Any reason not to implement reset on: TrieTokenizerFactory?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;TrieTokenizer (right below the factory) already implements reset(Reader).&lt;/p&gt;</comment>
                            <comment id="12747012" author="ryantxu" created="Mon, 24 Aug 2009 19:49:54 +0100"  >&lt;p&gt;Without objection... I will commit this soon....&lt;/p&gt;</comment>
                            <comment id="12775852" author="gsingers" created="Tue, 10 Nov 2009 15:52:13 +0000"  >&lt;p&gt;Bulk close for Solr 1.4&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12417304" name="SOLR-1377-Tokenizer.patch" size="8815" author="ryantxu" created="Fri, 21 Aug 2009 20:03:09 +0100"/>
                            <attachment id="12417321" name="SOLR-1377.patch" size="9959" author="yseeley@gmail.com" created="Fri, 21 Aug 2009 23:03:46 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 21 Aug 2009 22:03:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6274</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxlmn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19823</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>