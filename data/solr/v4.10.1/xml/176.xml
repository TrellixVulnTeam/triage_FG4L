<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:21:17 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-176/SOLR-176.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-176] Add detailed timing data to query response output</title>
                <link>https://issues.apache.org/jira/browse/SOLR-176</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;see &lt;a href=&quot;http://www.nabble.com/%27accumulate%27-copyField-for-faceting-tf3329986.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.nabble.com/%27accumulate%27-copyField-for-faceting-tf3329986.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12363992">SOLR-176</key>
            <summary>Add detailed timing data to query response output</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="klaasm">Mike Klaas</assignee>
                                    <reporter username="klaasm">Mike Klaas</reporter>
                        <labels>
                    </labels>
                <created>Fri, 2 Mar 2007 20:10:51 +0000</created>
                <updated>Fri, 10 May 2013 11:39:23 +0100</updated>
                            <resolved>Mon, 12 Nov 2007 19:40:02 +0000</resolved>
                                    <version>1.2</version>
                                    <fixVersion>1.3</fixVersion>
                                    <component>search</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12477439" author="ryantxu" created="Fri, 2 Mar 2007 20:43:42 +0000"  >&lt;p&gt;If possible, it would also be nice to include the change in cache sizes from the beginning to the end of the request.  This would help optimize cache sizes for faceting.&lt;/p&gt;

&lt;p&gt;thanks&lt;/p&gt;</comment>
                            <comment id="12477446" author="klaasm" created="Fri, 2 Mar 2007 21:07:37 +0000"  >&lt;p&gt;Well, we could provide deltas of all the solr statistics, but I&apos;m not sure if it provides much benefit over watching the stats page before and after executing a query.&lt;/p&gt;

&lt;p&gt;What might be more useful if for the facet code to detect facet-cache-thrashing (evictions ~= insertions), and emit a performance warning in the logfile.&lt;/p&gt;</comment>
                            <comment id="12478162" author="klaasm" created="Mon, 5 Mar 2007 21:22:25 +0000"  >&lt;p&gt;A quick version for people to play with.  Includes a new timing class, plus timing data inserted into the dismax handler.&lt;/p&gt;
</comment>
                            <comment id="12478164" author="klaasm" created="Mon, 5 Mar 2007 21:24:18 +0000"  >&lt;p&gt;Same version with ASF license.  Output format looks like:&lt;/p&gt;

&lt;p&gt;&amp;lt;lst name=&quot;timing&quot;&amp;gt;&lt;br/&gt;
  &amp;lt;double name=&quot;debug&quot;&amp;gt;13.0&amp;lt;/double&amp;gt;&lt;br/&gt;
  &amp;lt;double name=&quot;main query&quot;&amp;gt;1.0&amp;lt;/double&amp;gt;&lt;br/&gt;
  &amp;lt;double name=&quot;time&quot;&amp;gt;19.0&amp;lt;/double&amp;gt;&lt;br/&gt;
  &amp;lt;double name=&quot;setup/query parsing&quot;&amp;gt;5.0&amp;lt;/double&amp;gt;&lt;br/&gt;
  &amp;lt;double name=&quot;pre fetch&quot;&amp;gt;0.0&amp;lt;/double&amp;gt;&lt;br/&gt;
&amp;lt;/lst&amp;gt;&lt;/p&gt;

&lt;p&gt;(Note that RTimer supports aritrary nesting of timers)&lt;/p&gt;</comment>
                            <comment id="12478252" author="ryantxu" created="Tue, 6 Mar 2007 02:06:48 +0000"  >&lt;p&gt;works great for me.  thanks!&lt;/p&gt;

&lt;p&gt;nesting timers is really nice.&lt;/p&gt;</comment>
                            <comment id="12482289" author="klaasm" created="Tue, 20 Mar 2007 02:03:10 +0000"  >&lt;p&gt;Anyone else have an opinion on timing?  It would be easy for me to wrap StandardRequestHandler similarly and commit.&lt;/p&gt;

&lt;p&gt;If I add a test or two and put a warning about RTimer being not part of the official solr programmable api, then backward concerns should be limited to the response output.  (Otherwise it is likely necessary to think about the design of the RTimer api).&lt;/p&gt;</comment>
                            <comment id="12482550" author="hossman" created="Tue, 20 Mar 2007 22:00:34 +0000"  >&lt;p&gt;i don&apos;t have any strong opinions, but i agree with your plan about putting some warnings in the RTTimer javadocs.&lt;/p&gt;

&lt;p&gt;Random thought: it might be cleaner/easier in the long run to create/register a hog Handler that records timing differences and add calls to Logger.entering and Logger.exiting on the various methods.&lt;/p&gt;

&lt;p&gt;someone may have already implemented such a Handler&lt;/p&gt;</comment>
                            <comment id="12496565" author="willjohnson3" created="Thu, 17 May 2007 14:41:35 +0100"  >&lt;p&gt;added some average stats to RequestHandlerBase.  all of the same info can be obtained by parsing the log files but having it show up on the admin screens and jmx is simple and nice to have.  stats added: avgTimePerRequest and avgRequestsPerSecond.&lt;/p&gt;</comment>
                            <comment id="12505391" author="ryantxu" created="Fri, 15 Jun 2007 23:05:30 +0100"  >&lt;ul&gt;
	&lt;li&gt;applies with trunk.&lt;/li&gt;
	&lt;li&gt;added timing info to StandardRequestHandler&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I think this will make lots of sense in the context of  search components:&lt;br/&gt;
&lt;a href=&quot;http://www.nabble.com/search-components-%28plugins%29-tf3898040.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.nabble.com/search-components-%28plugins%29-tf3898040.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12505393" author="klaasm" created="Fri, 15 Jun 2007 23:10:01 +0100"  >&lt;p&gt;Might it then make sense to wait until the search component thing is done?  Auto-timing everything would be easy.&lt;/p&gt;</comment>
                            <comment id="12505395" author="ryantxu" created="Fri, 15 Jun 2007 23:17:18 +0100"  >&lt;p&gt;Will&apos;s RequesthandlerBase.patch addition is simple, straightforward, useful - i will add that now.&lt;/p&gt;</comment>
                            <comment id="12505397" author="ryantxu" created="Fri, 15 Jun 2007 23:23:31 +0100"  >&lt;p&gt;&amp;gt; &lt;br/&gt;
&amp;gt; Might it then make sense to wait until the search component thing is done?  Auto-timing everything would be easy.&lt;br/&gt;
&amp;gt; &lt;/p&gt;

&lt;p&gt;Yes, i think so.  but this is still useful for debuging in the meantime. (as a patch)&lt;/p&gt;

&lt;p&gt;Will&apos;s addition is independent, it adds average timing info to RequestHandler statistics&lt;/p&gt;</comment>
                            <comment id="12505400" author="klaasm" created="Fri, 15 Jun 2007 23:32:39 +0100"  >&lt;p&gt;added javadocs for RTimer.java, and removed a superfluous line from SRH.java&lt;/p&gt;</comment>
                            <comment id="12506539" author="willjohnson3" created="Wed, 20 Jun 2007 14:50:22 +0100"  >&lt;p&gt;a slightly more ambitious patch that tracks: &lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;total number of requests/errors&lt;/li&gt;
	&lt;li&gt;requests/errors in the current interval (interval defined in solrconfig)&lt;/li&gt;
	&lt;li&gt;requets/errors as of the start of the last interval&lt;/li&gt;
	&lt;li&gt;avg requet times for total / current interval&lt;/li&gt;
&lt;/ul&gt;

</comment>
                            <comment id="12541913" author="ryantxu" created="Mon, 12 Nov 2007 19:40:02 +0000"  >&lt;p&gt;Committed as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-281&quot; title=&quot;Search Components (plugins)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-281&quot;&gt;&lt;del&gt;SOLR-281&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12372788">SOLR-281</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12360200" name="RequesthandlerBase.patch" size="6921" author="willjohnson3" created="Wed, 20 Jun 2007 14:50:21 +0100"/>
                            <attachment id="12357541" name="RequesthandlerBase.patch" size="1407" author="willjohnson3" created="Thu, 17 May 2007 14:41:35 +0100"/>
                            <attachment id="12359912" name="dtiming.patch" size="13246" author="klaasm" created="Fri, 15 Jun 2007 23:32:39 +0100"/>
                            <attachment id="12359911" name="dtiming.patch" size="12667" author="ryantxu" created="Fri, 15 Jun 2007 23:05:20 +0100"/>
                            <attachment id="12352659" name="dtiming.patch" size="8785" author="klaasm" created="Mon, 5 Mar 2007 21:24:18 +0000"/>
                            <attachment id="12352657" name="dtiming.patch" size="8785" author="klaasm" created="Mon, 5 Mar 2007 21:22:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 2 Mar 2007 20:43:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7409</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxsxj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>21006</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>