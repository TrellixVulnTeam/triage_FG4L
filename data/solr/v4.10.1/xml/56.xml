<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:24:34 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-56/SOLR-56.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-56] PATCH: JSONResponseWriter JSON result wrapper function</title>
                <link>https://issues.apache.org/jira/browse/SOLR-56</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;This patch adds a &quot;json.wrf&quot; parameter to add a wrapper function around the JSON results, for example:&lt;/p&gt;

&lt;p&gt;  json.wrf = eatJason&lt;br/&gt;
  search result = eatJason({&quot;header&quot;:&lt;/p&gt;
{&quot;qtime&quot;:0}
&lt;p&gt;,...}))&lt;/p&gt;

&lt;p&gt;The result set is sent as a parameter to eatJason instead of being sent as a plain data structure.&lt;/p&gt;

&lt;p&gt;This is useful to work around the cross-site limitations of JSON, when a client uses code like&lt;/p&gt;

&lt;p&gt;  var head = document.getElementsByTagName(&quot;head&quot;)&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;;&lt;br/&gt;
  script = document.createElement(&apos;script&apos;);&lt;br/&gt;
  script.id = &apos;uploadScript&apos;;&lt;br/&gt;
  script.type = &apos;text/javascript&apos;;&lt;br/&gt;
  script.src = &quot;http://mysolrserver/solr/select?q=role:video&amp;amp;wt=json&amp;amp;json.wrf=eatJason&quot;;&lt;br/&gt;
  head.appendChild(script)&lt;/p&gt;

&lt;p&gt;  function eatJason(obj)&lt;/p&gt;
{
     ...process obj which is Solr&apos;s JSON result
  }
&lt;p&gt; 				&lt;/p&gt;

&lt;p&gt;However, I&apos;m no javascript expert, and passing an arbitrary javascript function name in the request parameters feels a bit weird...wondering if this might enable some cross-site scripting scenarios?&lt;/p&gt;

&lt;p&gt;But the technique is well-known apparently, see:&lt;br/&gt;
  &lt;a href=&quot;http://www.theurer.cc/blog/2005/12/15/web-services-json-dump-your-proxy/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.theurer.cc/blog/2005/12/15/web-services-json-dump-your-proxy/&lt;/a&gt;&lt;br/&gt;
and &lt;br/&gt;
  &lt;a href=&quot;http://www.xml.com/pub/a/2005/12/21/json-dynamic-script-tag.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.xml.com/pub/a/2005/12/21/json-dynamic-script-tag.html&lt;/a&gt;&lt;/p&gt;

</description>
                <environment>&lt;p&gt;Tested on macosx 10.4.8, JDK 1.5&lt;/p&gt;</environment>
        <key id="12353507">SOLR-56</key>
            <summary>PATCH: JSONResponseWriter JSON result wrapper function</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yseeley@gmail.com">Yonik Seeley</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Oct 2006 15:06:59 +0100</created>
                <updated>Fri, 10 May 2013 11:41:04 +0100</updated>
                            <resolved>Wed, 18 Oct 2006 21:59:28 +0100</resolved>
                                                    <fixVersion>1.1.0</fixVersion>
                                    <component>search</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12443274" author="bdelacretaz" created="Wed, 18 Oct 2006 15:07:37 +0100"  >&lt;p&gt;The patch (also includes changes from &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-49&quot; title=&quot;PATCH: XSLTServletFilter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-49&quot;&gt;&lt;del&gt;SOLR-49&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="12443348" author="yseeley@gmail.com" created="Wed, 18 Oct 2006 21:00:32 +0100"  >&lt;p&gt;Thanks Bertrand, interesting stuff!&lt;/p&gt;

&lt;p&gt;Since yahoo calls the parameter &quot;callback&quot;, should we call ours &quot;json.callback&quot;, or do people think that name is too long?  On the other hand, wrapper function &lt;b&gt;is&lt;/b&gt; more descriptive about what it does to the actual response.  I&apos;m undecided...&lt;/p&gt;
</comment>
                            <comment id="12443352" author="bdelacretaz" created="Wed, 18 Oct 2006 21:12:00 +0100"  >&lt;p&gt;I though json.wrf was more in line with Solr&apos;s usual terseness in parameter names &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;And callback does not mean much in that context, I think wrapper function is more precise, it is what this actually does.&lt;/p&gt;</comment>
                            <comment id="12443356" author="yseeley@gmail.com" created="Wed, 18 Oct 2006 21:59:28 +0100"  >&lt;p&gt;Yes, it does make more sense. Committed.&lt;/p&gt;</comment>
                            <comment id="12589329" author="hossman" created="Wed, 16 Apr 2008 00:56:42 +0100"  >&lt;p&gt;This bug was modified as part of a bulk update using the criteria...&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Marked (&quot;Resolved&quot; or &quot;Closed&quot;) and &quot;Fixed&quot;&lt;/li&gt;
	&lt;li&gt;Had no &quot;Fix Version&quot; versions&lt;/li&gt;
	&lt;li&gt;Was listed in the CHANGES.txt for 1.1&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The Fix Version for all 38 issues found was set to 1.1, email notification&lt;br/&gt;
was suppressed to prevent excessive email.&lt;/p&gt;

&lt;p&gt;For a list of all the issues modified, search jira comments for this&lt;br/&gt;
(hopefully) unique string: 20080415hossman3&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12343176" name="JSONResponseWriter.wrf.patch" size="1926" author="bdelacretaz" created="Wed, 18 Oct 2006 15:07:37 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 18 Oct 2006 20:00:32 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7525</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxtnz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>21125</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>