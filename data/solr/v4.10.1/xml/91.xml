<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:16:32 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-91/SOLR-91.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-91] warming searchers can stack up</title>
                <link>https://issues.apache.org/jira/browse/SOLR-91</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;If the commit frequency is high, and searcher warming configured, sometimes an overlap of warming searchers can occur.  Solr currently detects this and logs a warning message.&lt;/p&gt;

&lt;p&gt;While normally relatively harmless, multiple warming searchers can sometimes cause thrashing, extending the time it takes to complete warming, and causing a chain reaction where more and more searchers try to warm concurrently.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12359254">SOLR-91</key>
            <summary>warming searchers can stack up</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="yseeley@gmail.com">Yonik Seeley</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Dec 2006 04:24:18 +0000</created>
                <updated>Fri, 10 May 2013 11:38:42 +0100</updated>
                            <resolved>Fri, 12 Jan 2007 22:01:10 +0000</resolved>
                                    <version>1.1.0</version>
                                    <fixVersion>1.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12460379" author="yseeley@gmail.com" created="Fri, 22 Dec 2006 04:35:46 +0000"  >&lt;p&gt;A bad solution would be to kill the oldest searcher... this strategy could lead to starvation.&lt;br/&gt;
A better solution: allow a &amp;lt;commit/&amp;gt; to fail after a configurable threshold of the number of warming searchers is reached.&lt;/p&gt;

&lt;p&gt;Downsides:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;commit currently does not fail (unless exceptional circumstances like an IOError)&lt;/li&gt;
	&lt;li&gt;If enabled on a master, two different clients doing a quick add+commit&lt;br/&gt;
   could now cause failure.  We could either just recommend it never be enabled for a master, or&lt;br/&gt;
   some autocommit functionality could be added to enforce a minimum wait time between commits. &lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12463450" author="yseeley@gmail.com" created="Wed, 10 Jan 2007 03:18:38 +0000"  >&lt;p&gt;OK, maxWarmingSearchers defines the max number of background warming searchers.&lt;/p&gt;

&lt;p&gt;Exceed it, and you get a 503 (which goes in the XML, not in the HTTP response code, but that&apos;s a different issue):&lt;/p&gt;

&lt;p&gt;$ curl &lt;a href=&quot;http://localhost:8983/solr/update&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://localhost:8983/solr/update&lt;/a&gt; -i -d &apos;&amp;lt;commit/&amp;gt;&apos;&lt;br/&gt;
HTTP/1.1 200 OK&lt;br/&gt;
Date: Wed, 10 Jan 2007 01:05:41 GMT&lt;br/&gt;
Server: Jetty/5.1.11RC0 (Windows XP/5.1 x86 java/1.5.0_09&lt;br/&gt;
Content-Type: text/xml; charset=UTF-8&lt;br/&gt;
Content-Length: 115&lt;/p&gt;

&lt;p&gt;&amp;lt;result status=&quot;503&quot;&amp;gt;Error opening new searcher. exceeded limit of maxWarmingSea&lt;br/&gt;
rchers=2, try again later.&amp;lt;/result&amp;gt;&lt;/p&gt;

&lt;p&gt;if missing in the config, the default is as before (unlimited).&lt;br/&gt;
I set it to 4 in the example config as a happy medium between searchers and masters.&lt;/p&gt;</comment>
                            <comment id="12464365" author="yseeley@gmail.com" created="Fri, 12 Jan 2007 22:01:10 +0000"  >&lt;p&gt;committed.&lt;/p&gt;</comment>
                            <comment id="12589300" author="hossman" created="Wed, 16 Apr 2008 00:44:42 +0100"  >&lt;p&gt;This bug was modified as part of a bulk update using the criteria...&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Marked (&quot;Resolved&quot; or &quot;Closed&quot;) and &quot;Fixed&quot;&lt;/li&gt;
	&lt;li&gt;Had no &quot;Fix Version&quot; versions&lt;/li&gt;
	&lt;li&gt;Was listed in the CHANGES.txt for 1.2&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The Fix Version for all 39 issues found was set to 1.2, email notification&lt;br/&gt;
was suppressed to prevent excessive email.&lt;/p&gt;

&lt;p&gt;For a list of all the issues modified, search jira comments for this&lt;br/&gt;
(hopefully) unique string: 20080415hossman2&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12348614" name="maxWarmingSearchers.patch" size="3383" author="yseeley@gmail.com" created="Wed, 10 Jan 2007 02:29:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 15 Apr 2008 23:44:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7491</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxtgf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>21091</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>