<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:19:44 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-651/SOLR-651.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-651] A SearchComponent for fetching TF-IDF values</title>
                <link>https://issues.apache.org/jira/browse/SOLR-651</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;A SearchComponent that can return TF-IDF vector for any given document in the SOLR index&lt;br/&gt;
Query : A Document Number / a query identifying a Document&lt;br/&gt;
Response :  A Map of term vs.TF-IDF value of every term in the Selected&lt;br/&gt;
Document&lt;br/&gt;
Why ?&lt;/p&gt;

&lt;p&gt;Most of the Machine Learning Algorithms work on TFIDF representation of&lt;br/&gt;
documents, hence adding a Request Handler proving the TFIDF representation&lt;br/&gt;
will pave the way for incorporating Learning Paradigms to SOLR framework.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12400926">SOLR-651</key>
            <summary>A SearchComponent for fetching TF-IDF values</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gsingers">Grant Ingersoll</assignee>
                                    <reporter username="noble.paul">Noble Paul</reporter>
                        <labels>
                    </labels>
                <created>Thu, 24 Jul 2008 17:43:16 +0100</created>
                <updated>Tue, 10 Nov 2009 15:51:43 +0000</updated>
                            <resolved>Thu, 23 Oct 2008 16:54:28 +0100</resolved>
                                    <version>1.3</version>
                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>2</votes>
                                    <watches>10</watches>
                                                                <comments>
                            <comment id="12617829" author="gsingers" created="Tue, 29 Jul 2008 16:54:11 +0100"  >&lt;p&gt;See &lt;a href=&quot;http://lucene.markmail.org/message/k7mr6d6qpulnizgb?q=Solr+TFIDF&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://lucene.markmail.org/message/k7mr6d6qpulnizgb?q=Solr+TFIDF&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12628390" author="gsingers" created="Thu, 4 Sep 2008 18:20:50 +0100"  >&lt;p&gt;Here&apos;s a first crack at this.  It still needs more unit tests to exercise the various combination of options, but I think it is a reasonable first crack at the idea.&lt;/p&gt;

&lt;p&gt;Questions to be answered/things to still do:&lt;br/&gt;
1. How do people like the format for output?  It&apos;s basically broken down by doc, then field, then term, then term information,  See the unit tests for some samples&lt;br/&gt;
2. Would be good to have a more efficient lookup for IDF.  At a minimum, a cache of IDF values would be useful, but the memory would need to be controlled.  Lucene may do some caching under the hood, so that should be investigated more&lt;br/&gt;
3.  It relies on the query component doing it&apos;s thing.  That is, you send in a query, start and rows, and this component just loops over the doc list and fetches.  I could see a case for doing things separately, but that seems like duplication.  People using this can just send explicit queries designed for this Component.&lt;br/&gt;
4. Probably needs some error handling for documents that don&apos;t have term vectors, but haven&apos;t tested yet.&lt;/p&gt;
</comment>
                            <comment id="12629065" author="noble.paul" created="Mon, 8 Sep 2008 05:16:38 +0100"  >&lt;p&gt;The output looks fine . may be we can improve on iterations. We should add the uniqueKey value if it exists . That is the only way we the user can correlate it with the actual results&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;doc-3&quot;&lt;/span&gt;&amp;gt;
&amp;lt;str name=&quot;&amp;lt;unique-key-field-name&amp;gt;&amp;lt;unique-key-value&amp;gt;&amp;lt;/str&amp;gt;
&amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;cat&quot;&lt;/span&gt;&amp;gt;
....
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;another observation is this gets a searcher and does not do a decref() after the use. The operations must be put in &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;{
&lt;span class=&quot;code-comment&quot;&gt;//the operations
&lt;/span&gt;}&lt;span class=&quot;code-keyword&quot;&gt;finally&lt;/span&gt;{ 
searcher.decref();
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;A suggestion on the name why not make it all lowercase. tvrh instead of tvRH&lt;/p&gt;

&lt;p&gt;Most of the users may not need the &quot;results&quot; so it must be able to be used separately  as a requesthandler register it as &quot;/tvrh&quot;&lt;/p&gt;
</comment>
                            <comment id="12630074" author="gsingers" created="Thu, 11 Sep 2008 03:48:33 +0100"  >&lt;p&gt;Addresses Noble&apos;s thoughts.&lt;/p&gt;</comment>
                            <comment id="12634183" author="gsingers" created="Wed, 24 Sep 2008 16:59:56 +0100"  >&lt;p&gt;Here&apos;s a start at making this support distributed.  Still needs testing.  I&apos;m not sure if I&apos;m doing the distributed right, but there ain&apos;t a whole lot of docs on it just yet, so I&apos;m going based off of what I see in the other components.  I&apos;m especially not clear if I am understanding the stages correctly.&lt;/p&gt;

&lt;p&gt;Also, would be handy if there was a better way of testing the distributed stuff.  So far, I call directly into the component to call distributedProcess, but would also be nice to have a harness that does what TestDistributedSearch does (i.e. setup a couple of Jetty instances and actually run them)&lt;/p&gt;
</comment>
                            <comment id="12634877" author="shalinmangar" created="Fri, 26 Sep 2008 15:17:22 +0100"  >&lt;p&gt;Grant, would it be better to handle the distributed case through another issue and commit the fully baked patch for a single server? A lot of people can start using it immediately. Distributed Search is still relatively rare though it is certainly picking up the pace.&lt;/p&gt;</comment>
                            <comment id="12641769" author="vaiju1981" created="Wed, 22 Oct 2008 11:46:27 +0100"  >&lt;p&gt;Hi Grant,&lt;/p&gt;

&lt;p&gt;I have applied the patch and to start with it is really good. I just have few suggestions.&lt;/p&gt;

&lt;p&gt;a) if  one set qt=tvrh  tv=true does not make sense as the user is anyway requesting term vectors.&lt;br/&gt;
b) Repeating uniqueKeyFieldName for every record does not add any value.&lt;br/&gt;
c) Ideally what I would have liked is something below.&lt;br/&gt;
&amp;lt;response&amp;gt;&lt;br/&gt;
&amp;lt;lst name=&quot;termVectors&quot;&amp;gt;&lt;br/&gt;
&amp;lt;lst name=&quot;firstdoc&quot;&amp;gt;&lt;br/&gt;
&amp;lt;str name=&quot;term1&quot;&amp;gt;term1tf-idf&amp;lt;/str&amp;gt;&lt;br/&gt;
&amp;lt;str name=&quot;term2&quot;&amp;gt;term1tf-idf&amp;lt;/str&amp;gt;&lt;br/&gt;
....&lt;br/&gt;
&amp;lt;/lst&amp;gt;&lt;br/&gt;
&amp;lt;lst name=&quot;seconddoc&quot;&amp;gt;&lt;br/&gt;
&amp;lt;str name=&quot;term1&quot;&amp;gt;term1tf-idf&amp;lt;/str&amp;gt;&lt;br/&gt;
...&lt;br/&gt;
&amp;lt;/lst&amp;gt;&lt;br/&gt;
....&lt;br/&gt;
&amp;lt;/lst&amp;gt;&lt;br/&gt;
&amp;lt;/response&amp;gt;&lt;/p&gt;

&lt;p&gt;Having said all this, the above patch helps us a lot in terms of using solr for document clustering.&lt;/p&gt;

&lt;p&gt;--Thanks and Regards&lt;br/&gt;
Vaijanath&lt;/p&gt;</comment>
                            <comment id="12641783" author="gsingers" created="Wed, 22 Oct 2008 12:09:08 +0100"  >&lt;p&gt;Vajijanath&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Having said all this, the above patch helps us a lot in terms of using solr for document clustering.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Please see &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-769&quot; title=&quot;Support Document and Search Result clustering&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-769&quot;&gt;SOLR-769&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="12641784" author="gsingers" created="Wed, 22 Oct 2008 12:16:33 +0100"  >&lt;blockquote&gt;
&lt;p&gt;a) if one set qt=tvrh tv=true does not make sense as the user is anyway requesting term vectors.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;qt=tvrh is setting the request handler.  tv=true is turning on the TermVectorComponent (TVC).  Those are two separate actions.  The TVC can be added to any ReqHandler.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;b) Repeating uniqueKeyFieldName for every record does not add any value.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Good point.  I will move that out.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;c) Ideally what I would have liked is something below.&lt;br/&gt;
&amp;lt;response&amp;gt;&lt;br/&gt;
&amp;lt;lst name=&quot;termVectors&quot;&amp;gt;&lt;br/&gt;
&amp;lt;lst name=&quot;firstdoc&quot;&amp;gt;&lt;br/&gt;
&amp;lt;str name=&quot;term1&quot;&amp;gt;term1tf-idf&amp;lt;/str&amp;gt;&lt;br/&gt;
&amp;lt;str name=&quot;term2&quot;&amp;gt;term1tf-idf&amp;lt;/str&amp;gt;&lt;br/&gt;
....&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Can you make a case for that?  I have a couple of issues with it.  First, the term is incorrectly typed.  Presumably TF-IDF is a double.  Second, it requires Solr to do TF*IDF for every term, when not everyone will want that, thus it would be a wasted calculation.   I suppose it could be an option to have Solr do it, though.&lt;/p&gt;

&lt;p&gt;Are you proposing not to return the other info or is this just in the case where tf = true and idf = true?&lt;/p&gt;</comment>
                            <comment id="12641790" author="vaiju1981" created="Wed, 22 Oct 2008 12:45:26 +0100"  >&lt;p&gt;Hi Grant,&lt;br/&gt;
I agree with the first point.&lt;/p&gt;

&lt;p&gt;For the third point &lt;br/&gt;
The assumption is if someone has asked for TF-IDF representation, one would not expect the entire document to be back. So if the request is qt=trvh&amp;amp;tf.tv=true&amp;amp;tv=true or tf=true one would expect only to get the termvectors component.&lt;/p&gt;

&lt;p&gt;I agree with you regarding the tf-idf computation, just returning tf is more than sufficient.  &lt;/p&gt;

&lt;p&gt;--Thanks and Regards&lt;br/&gt;
Vaijanath &lt;/p&gt;</comment>
                            <comment id="12641813" author="gsingers" created="Wed, 22 Oct 2008 14:14:20 +0100"  >&lt;p&gt;Adds in All parameter to get tf, idf, offsets, and positions.  Moves uniqueFieldKeyName out of the loop.&lt;/p&gt;</comment>
                            <comment id="12641814" author="gsingers" created="Wed, 22 Oct 2008 14:19:40 +0100"  >&lt;blockquote&gt;
&lt;p&gt;The assumption is if someone has asked for TF-IDF representation, one would not expect the entire document to be back. So if the request is qt=trvh&amp;amp;tf.tv=true&amp;amp;tv=true or tf=true one would expect only to get the termvectors component.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;OK, I think I understand.  You&apos;re suggesting that if one only wants one component (i.e. TF), that we could flatten the structure a bit such that instead of:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;display&quot;&lt;/span&gt;&amp;gt;
&amp;lt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;freq&quot;&lt;/span&gt;&amp;gt;2&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;
&amp;lt;/lst&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;we just do:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;display&quot;&lt;/span&gt;&amp;gt;2&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The former is slightly more verbose, but then it only requires people to have one approach to handling the various options, whereas the latter approach, while more compact, requires people to have two ways of handling the output.  Is my understanding correct?&lt;/p&gt;</comment>
                            <comment id="12641815" author="gsingers" created="Wed, 22 Oct 2008 14:22:52 +0100"  >&lt;p&gt;Fix bug with position output.&lt;/p&gt;</comment>
                            <comment id="12641830" author="vaiju1981" created="Wed, 22 Oct 2008 14:49:23 +0100"  >&lt;p&gt;Hi Grant,&lt;/p&gt;

&lt;p&gt;I think my understanding is slightly different, let me try to clarify them both.&lt;/p&gt;

&lt;p&gt;If the user has asked for tf=true he is expecting term frequency value&lt;br/&gt;
so the output would be&lt;br/&gt;
&amp;lt;int name=&quot;display&quot;&amp;gt;2&amp;lt;/int&amp;gt;&lt;/p&gt;

&lt;p&gt;If the user has asked for tf=true&amp;amp;idf=true user implies give me both computation&lt;br/&gt;
so the output would be&lt;br/&gt;
&amp;lt;float name=&quot;display&quot;&amp;gt;1.0&amp;lt;/float&amp;gt;&lt;/p&gt;

&lt;p&gt;I thought of this output and hence thought this representation would be ideal. But I think I might been missing something that you have though about.&lt;/p&gt;

&lt;p&gt;--Thanks and Regards&lt;br/&gt;
Vaijanath N. Rao&lt;/p&gt;</comment>
                            <comment id="12642157" author="gsingers" created="Thu, 23 Oct 2008 14:14:03 +0100"  >&lt;blockquote&gt;
&lt;p&gt;If the user has asked for tf=true&amp;amp;idf=true user implies give me both computation&lt;br/&gt;
so the output would be&lt;br/&gt;
&amp;lt;float name=&quot;display&quot;&amp;gt;1.0&amp;lt;/float&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Ah, so you are expecting Solr to do the computation tf*idf when you specify those two options, right?  My interpretations (and implmentation) is that it means return those two values in the response.  See &lt;a href=&quot;http://wiki.apache.org/solr/TermVectorComponentExampleOptions&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/solr/TermVectorComponentExampleOptions&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I suppose we could add something like &amp;amp;tf-idf=true in which case Solr does the computation.  Otherwise, I think it is useful to be able to deliver them separately, as I think it gives the most flexibility.  Would adding a tf-idf option suit your needs?  Such that, when it is true, Solr returns that computation?&lt;/p&gt;</comment>
                            <comment id="12642158" author="gsingers" created="Thu, 23 Oct 2008 14:31:51 +0100"  >&lt;p&gt;Added tf_idf calculation option.  I&apos;m going to commit today.&lt;/p&gt;</comment>
                            <comment id="12642191" author="gsingers" created="Thu, 23 Oct 2008 16:54:28 +0100"  >&lt;p&gt;Committed revision 707399.&lt;/p&gt;</comment>
                            <comment id="12643226" author="yseeley@gmail.com" created="Tue, 28 Oct 2008 15:00:37 +0000"  >&lt;p&gt;Is there a reason that this component asks for the latest searcher from the core instead of getting the one bound to the SolrQueryRequest?  Assuming it&apos;s just a bug... patch attached.&lt;/p&gt;</comment>
                            <comment id="12643270" author="yseeley@gmail.com" created="Tue, 28 Oct 2008 17:17:15 +0000"  >&lt;p&gt;Some random thoughts on this patch:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Adding the uniqueKeyFieldName seems out of place.... it&apos;s just one element of the schema and it doesn&apos;t seem like it belongs in this component.&lt;/li&gt;
	&lt;li&gt;How about using the &quot;id&quot; as the key, as is done in other places like highlighting.&lt;br/&gt;
  So instead of 
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;doc-170&quot;&lt;/span&gt;&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;uniqueKey&quot;&lt;/span&gt;&amp;gt;3007WFP&amp;lt;/str&amp;gt;
    &amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;cat&quot;&lt;/span&gt;&amp;gt;
	&amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;electronics&quot;&lt;/span&gt;/&amp;gt;
	&amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;monitor&quot;&lt;/span&gt;/&amp;gt;
   &amp;lt;/lst&amp;gt;
 &amp;lt;/lst&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;it could look like&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;3007WFP&quot;&lt;/span&gt;&amp;gt;
    &amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;cat&quot;&lt;/span&gt;&amp;gt;
	&amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;electronics&quot;&lt;/span&gt;/&amp;gt;
	&amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;monitor&quot;&lt;/span&gt;/&amp;gt;
   &amp;lt;/lst&amp;gt;
 &amp;lt;/lst&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;It doesn&apos;t seem like we should link the ability to return term vectors with term vectors being stored.  Like highlighting, they should be used when available for speed, but stored fields should also be possible.  It&apos;s fine for the impl of that to wait, but perhaps the interface should support that via a tv.fl parameter.  update: just looked at the code again, and I see there is a tv.fl param.... so I guess the only discussion point is if the default is right (all fields with term vectors stored).&lt;/li&gt;
	&lt;li&gt;&quot;idf&quot; actually isn&apos;t the idf, it&apos;s the doc freq that is being returned.  The label should probably be changed to &quot;df&quot;&lt;/li&gt;
	&lt;li&gt;instead of &quot;freq&quot;, how about just using the shorter and well-known &quot;tf&quot;?&lt;/li&gt;
	&lt;li&gt;the docs say that tf_idf &quot;Calculates tf*idf for each term.&quot;, but the code is actually returning &quot;freq&quot;/&quot;idf&quot; (but the idf is actually a df, so it is a straight tf * idf).  &lt;b&gt;But&lt;/b&gt; this doesn&apos;t seem that useful because the user could trivially do tf/df themselves.  What would seem useful is to get the actual scoring tf-idf (via the Similarity).  For better language mappings, I think we should avoid dashes in parameter names too.... perhaps tv.tfidf or tv.tf_idf?&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12643289" author="gsingers" created="Tue, 28 Oct 2008 17:49:09 +0000"  >&lt;blockquote&gt;
&lt;p&gt;Is there a reason that this component asks for the latest searcher from the core instead of getting the one bound to the SolrQueryRequest? Assuming it&apos;s just a bug... patch attached&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Nope.  Go ahead and commit.&lt;/p&gt;</comment>
                            <comment id="12643291" author="gsingers" created="Tue, 28 Oct 2008 17:58:09 +0000"  >&lt;blockquote&gt;
&lt;ol&gt;
	&lt;li&gt;Adding the uniqueKeyFieldName seems out of place.... it&apos;s just one element of the schema and it doesn&apos;t seem like it belongs in this component.&lt;/li&gt;
	&lt;li&gt;How about using the &quot;id&quot; as the key, as is done in other places like highlighting.&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;That&apos;s fine.  I think my thinking was that by using a &quot;constant&quot; for the name, then one could ask explicitly for that property in the NamedList.  That is namedList.getVal(&quot;uniqueKey&quot;);&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;It doesn&apos;t seem like we should link the ability to return term vectors with term vectors being stored. Like highlighting, they should be used when available for speed, but stored fields should also be possible. It&apos;s fine for the impl of that to wait, but perhaps the interface should support that via a tv.fl parameter. update: just looked at the code again, and I see there is a tv.fl param.... so I guess the only discussion point is if the default is right (all fields with term vectors stored).&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That&apos;s reasonable.  We can open a separate issue for it if anyone wants it.&lt;/p&gt;

&lt;blockquote&gt;
&lt;ol&gt;
	&lt;li&gt;&quot;idf&quot; actually isn&apos;t the idf, it&apos;s the doc freq that is being returned. The label should probably be changed to &quot;df&quot;&lt;/li&gt;
	&lt;li&gt;instead of &quot;freq&quot;, how about just using the shorter and well-known &quot;tf&quot;?&lt;/li&gt;
	&lt;li&gt;the docs say that tf_idf &quot;Calculates tf*idf for each term.&quot;, but the code is actually returning &quot;freq&quot;/&quot;idf&quot; (but the idf is actually a df, so it is a straight tf * idf). But this doesn&apos;t seem that useful because the user could trivially do tf/df themselves. What would seem useful is to get the actual scoring tf-idf (via the Similarity). For better language mappings, I think we should avoid dashes in parameter names too.... perhaps tv.tfidf or tv.tf_idf?&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;All fine as well.  I just added the tf*idf computation in as a based on Vaijanath&apos;s comments.  I&apos;ll update these and the wiki.&lt;/p&gt;</comment>
                            <comment id="12646911" author="gsingers" created="Wed, 12 Nov 2008 14:37:51 +0000"  >&lt;p&gt;I committed:&lt;/p&gt;

&lt;p&gt;freq -&amp;gt; tf&lt;br/&gt;
idf -&amp;gt; df&lt;br/&gt;
tf-idf -&amp;gt; tf_idf&lt;/p&gt;

&lt;p&gt;See the Wiki page: &lt;a href=&quot;http://wiki.apache.org/solr/TermVectorComponent&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/solr/TermVectorComponent&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12775516" author="gsingers" created="Tue, 10 Nov 2009 15:51:43 +0000"  >&lt;p&gt;Bulk close for Solr 1.4&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12392935" name="SOLR-651-fixes.patch" size="2672" author="yseeley@gmail.com" created="Tue, 28 Oct 2008 15:00:37 +0000"/>
                            <attachment id="12392727" name="SOLR-651.patch" size="27756" author="gsingers" created="Thu, 23 Oct 2008 14:31:51 +0100"/>
                            <attachment id="12392656" name="SOLR-651.patch" size="26593" author="gsingers" created="Wed, 22 Oct 2008 14:22:52 +0100"/>
                            <attachment id="12392655" name="SOLR-651.patch" size="26402" author="gsingers" created="Wed, 22 Oct 2008 14:14:20 +0100"/>
                            <attachment id="12390845" name="SOLR-651.patch" size="23540" author="gsingers" created="Wed, 24 Sep 2008 16:59:56 +0100"/>
                            <attachment id="12389896" name="SOLR-651.patch" size="17821" author="gsingers" created="Thu, 11 Sep 2008 03:48:33 +0100"/>
                            <attachment id="12389515" name="SOLR-651.patch" size="16411" author="gsingers" created="Thu, 4 Sep 2008 18:20:50 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 29 Jul 2008 15:54:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6962</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxq1j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20538</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>