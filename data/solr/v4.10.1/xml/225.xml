<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:25:50 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-225/SOLR-225.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-225] Allow pluggable Highlighting classes -- Formatters and Fragmenters</title>
                <link>https://issues.apache.org/jira/browse/SOLR-225</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Highlighting should support a pluggable architecture similar to what is seen with RequestHandlers, Fields, FieldTypes, etc&lt;br/&gt;
&apos;&lt;br/&gt;
For more background:&lt;br/&gt;
&lt;a href=&quot;http://www.nabble.com/Custom-fragmenter-tf3681588.html#a10289335&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.nabble.com/Custom-fragmenter-tf3681588.html#a10289335&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12368569">SOLR-225</key>
            <summary>Allow pluggable Highlighting classes -- Formatters and Fragmenters</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ryantxu">Ryan McKinley</assignee>
                                    <reporter username="bwhitman">Brian Whitman</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 May 2007 16:56:32 +0100</created>
                <updated>Fri, 10 May 2013 11:39:43 +0100</updated>
                            <resolved>Fri, 3 Aug 2007 18:25:40 +0100</resolved>
                                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12493864" author="ryantxu" created="Sat, 5 May 2007 08:07:40 +0100"  >&lt;p&gt;This is a &lt;b&gt;major&lt;/b&gt; rework of the highlighting architecture.  It is now configured similar to other classes.&lt;/p&gt;

&lt;p&gt;Solrconfig.xml can define:&lt;/p&gt;

&lt;p&gt;  &amp;lt;highlighting&amp;gt;&lt;br/&gt;
   &amp;lt;!-- Configure the standard fragmenter --&amp;gt;&lt;br/&gt;
   &amp;lt;fragmenter name=&quot;gap&quot; class=&quot;org.apache.solr.highlight.GapFragmenter&quot; default=&quot;true&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;lst name=&quot;defaults&quot;&amp;gt;&lt;br/&gt;
     &amp;lt;int name=&quot;hl.fragsize&quot;&amp;gt;100&amp;lt;/int&amp;gt;&lt;br/&gt;
    &amp;lt;/lst&amp;gt;&lt;br/&gt;
   &amp;lt;/fragmenter&amp;gt;&lt;/p&gt;

&lt;p&gt;   &amp;lt;fragmenter name=&quot;regex&quot; class=&quot;org.apache.solr.highlight.RegexFragmenter&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;lst name=&quot;defaults&quot;&amp;gt;&lt;br/&gt;
     &amp;lt;int name=&quot;hl.fragsize&quot;&amp;gt;70&amp;lt;/int&amp;gt;&lt;br/&gt;
    &amp;lt;/lst&amp;gt;&lt;br/&gt;
   &amp;lt;/fragmenter&amp;gt;&lt;/p&gt;

&lt;p&gt;   &amp;lt;!-- Configure the standard formatter --&amp;gt;&lt;br/&gt;
   &amp;lt;formatter name=&quot;html&quot; class=&quot;org.apache.solr.highlight.HtmlFormatter&quot; default=&quot;true&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;lst name=&quot;defaults&quot;&amp;gt;&lt;br/&gt;
     &amp;lt;str name=&quot;hl.simple.pre&quot;&amp;gt;&amp;lt;![CDATA&lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;lt;em&amp;gt;&amp;#93;&lt;/span&gt;]&amp;gt;&amp;lt;/str&amp;gt;&lt;br/&gt;
     &amp;lt;str name=&quot;hl.simple.post&quot;&amp;gt;&amp;lt;![CDATA&lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;lt;/em&amp;gt;&amp;#93;&lt;/span&gt;]&amp;gt;&amp;lt;/str&amp;gt;&lt;br/&gt;
    &amp;lt;/lst&amp;gt;&lt;br/&gt;
   &amp;lt;/formatter&amp;gt;&lt;br/&gt;
  &amp;lt;/highlighting&amp;gt;&lt;/p&gt;


&lt;p&gt;This incorporates &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-102&quot; title=&quot;Ideas for better highlighting&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-102&quot;&gt;&lt;del&gt;SOLR-102&lt;/del&gt;&lt;/a&gt; as an optional fragmenter.&lt;/p&gt;

&lt;p&gt;This is still quite rough...&lt;/p&gt;

&lt;p&gt;thoughts?&lt;/p&gt;
</comment>
                            <comment id="12494113" author="klaasm" created="Mon, 7 May 2007 20:34:24 +0100"  >&lt;p&gt;Wow, that is some honking configurability!  I&apos;ve looked at the patch, but haven&apos;t tested it.&lt;/p&gt;

&lt;p&gt;The plugin architecture seems like something tha could be made more general than just plugins.  I imagine that with very little effort, this could be used to entirely replace the *Factory.java classes that are used for Analyzer/TokenStream configuration (of course, that would relegate our nice configuration parameter names to a&amp;lt;lst name=&quot;defaults&quot;&amp;gt; approach... perhaps the plugin archtecture could convert all unknown xml node parameters to SolrParams too?).  This is a weighty-enough topic that it should perhaps  be broken out into a separate issue.&lt;/p&gt;

&lt;p&gt;The highlighting configurability itself is fine with me.  I think that we&apos;ll be using the lucene highlighter (or reasonable facsimile) for long enough to make it worth additional configurability.&lt;/p&gt;

</comment>
                            <comment id="12494896" author="ryantxu" created="Fri, 11 May 2007 00:07:36 +0100"  >&lt;p&gt;no real changes... it applies cleanly with trunk.&lt;/p&gt;

&lt;p&gt;&amp;gt; The plugin architecture seems like something tha could be made more general than just plugins. &lt;/p&gt;

&lt;p&gt;It is a 95% duplicate of the RequestHandler plugin architecture.  The only reason it could not be identical was the lazy loading request handlers...&lt;/p&gt;

&lt;p&gt;Currently solr has two plugin initialization types: &lt;br/&gt;
1. init( NamedList args )&lt;br/&gt;
2. init( Map&amp;lt;String,String&amp;gt; args)&lt;/p&gt;

&lt;p&gt;If we added an interface for each initalization type, we could probably do all plugin initalization with something like the PluginLoader class in this patch&lt;/p&gt;

&lt;p&gt;class PluginLoader&amp;lt;T&amp;gt;&lt;br/&gt;
{&lt;br/&gt;
 public Map&amp;lt;String,T&amp;gt; load( NodeList nodes ) &lt;/p&gt;
{
   ...
 }
&lt;p&gt;}&lt;/p&gt;

</comment>
                            <comment id="12497935" author="osolo" created="Tue, 22 May 2007 18:21:28 +0100"  >&lt;p&gt;Ryan - this is a great feature.  Any chance to see it applied to the nightly builds?&lt;/p&gt;</comment>
                            <comment id="12497955" author="ryantxu" created="Tue, 22 May 2007 19:50:54 +0100"  >&lt;p&gt;After solr 1.2 is out, I hope this will get in.&lt;/p&gt;

&lt;p&gt;This patch still needs a serious code review before considering committing it.&lt;/p&gt;
</comment>
                            <comment id="12497959" author="klaasm" created="Tue, 22 May 2007 20:02:54 +0100"  >&lt;p&gt;Yeah.  I&apos;m happy to review the highlighting stuff (there are some parameter changes and such that would be worthwhile), but it woudl be nice to hear from yonik or hoss on the classloading/configuration stuff, and any overlap with similar-but-different existing systems in Solr.  I&apos;m afraid I haven&apos;t had time to follow all the developments on that front.&lt;/p&gt;

&lt;p&gt;I agree that this is a major change and there is no need to rush it for 1.2&lt;/p&gt;</comment>
                            <comment id="12501119" author="ryantxu" created="Mon, 4 Jun 2007 08:22:18 +0100"  >&lt;p&gt;applies with trunk&lt;/p&gt;</comment>
                            <comment id="12503657" author="ryantxu" created="Mon, 11 Jun 2007 23:21:00 +0100"  >&lt;p&gt;implemented with the (soon to upload) &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-260&quot; title=&quot;reusable PluginLoader -- helper class to load plugins&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-260&quot;&gt;&lt;del&gt;SOLR-260&lt;/del&gt;&lt;/a&gt; PluginLoader&amp;lt;T&amp;gt;.  I&apos;ll wait till &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-260&quot; title=&quot;reusable PluginLoader -- helper class to load plugins&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-260&quot;&gt;&lt;del&gt;SOLR-260&lt;/del&gt;&lt;/a&gt; is solid before updating again...&lt;/p&gt;</comment>
                            <comment id="12505294" author="ryantxu" created="Fri, 15 Jun 2007 17:26:25 +0100"  >&lt;p&gt;This uses &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-260&quot; title=&quot;reusable PluginLoader -- helper class to load plugins&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-260&quot;&gt;&lt;del&gt;SOLR-260&lt;/del&gt;&lt;/a&gt; general plugin loader to load highlighting plugins.&lt;/p&gt;

&lt;p&gt;Since these patches touch a few of the same files, I will maintain them together.&lt;/p&gt;</comment>
                            <comment id="12509466" author="ryantxu" created="Sun, 1 Jul 2007 22:44:44 +0100"  >&lt;p&gt;no real changes.  added some more javadocs.  &lt;/p&gt;

&lt;p&gt;I think this should be added to trunk soon...  &lt;/p&gt;</comment>
                            <comment id="12509709" author="klaasm" created="Tue, 3 Jul 2007 00:10:51 +0100"  >&lt;p&gt;Looking great Ryan (again, only commenting on the Highlighting configurability parts)&lt;/p&gt;

&lt;p&gt;should:&lt;/p&gt;

&lt;p&gt;  protected boolean emptyArray(String[] arr) &lt;/p&gt;
{
    return (arr == null || arr.length == 0 || arr[0] == null || arr[0].trim().length() == 0);
  }

&lt;p&gt;perhaps be defined as&lt;/p&gt;

&lt;p&gt;protected boolean emptyArray(String[] arr) &lt;/p&gt;
{
    return (arr == null || arr.length == 0 || 
                 (arr.length == 1 &amp;amp;&amp;amp; (arr[0] == null || arr[0].trim().length() == 0)));
}

&lt;p&gt;Params:&lt;/p&gt;

&lt;p&gt;+  public static final String HIGHLIGHT   = &quot;hl&quot;;&lt;br/&gt;
+  public static final String PREFIX      = &quot;hl.&quot;;&lt;br/&gt;
+  public static final String FIELDS      = PREFIX+&quot;fl&quot;;&lt;br/&gt;
+  public static final String SNIPPETS    = PREFIX+&quot;snippets&quot;;&lt;br/&gt;
+  public static final String FRAGSIZE    = PREFIX+&quot;fragsize&quot;;&lt;br/&gt;
+  public static final String INCREMENT   = PREFIX+&quot;increment&quot;;&lt;br/&gt;
+  public static final String SLOP        = PREFIX+&quot;slop&quot;;&lt;/p&gt;

&lt;p&gt;perhaps this should be PREFIX + &apos;regex.slop&apos;?&lt;/p&gt;

&lt;p&gt;+  public static final String MAX_CHARS   = PREFIX+&quot;maxAnalyzedChars&quot;;&lt;/p&gt;

&lt;p&gt;similarly.  Seems somewhat inelegant to define/hardcode the plugin-specific parameters here, though it is nice ot have them all in one place...&lt;/p&gt;
</comment>
                            <comment id="12509721" author="ryantxu" created="Tue, 3 Jul 2007 01:40:12 +0100"  >
&lt;p&gt;&amp;gt; perhaps be defined as&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; protected boolean emptyArray(String[] arr) &lt;/p&gt;
{
&amp;gt;     return (arr == null || arr.length == 0 || 
&amp;gt;                  (arr.length == 1 &amp;amp;&amp;amp; (arr[0] == null || arr[0].trim().length() == 0)));
&amp;gt; }

&lt;p&gt;seems good.  This patch tried not to change any highlighting logic, it is just moved it from the existing HighlightingUtils.java&lt;/p&gt;

&lt;p&gt;I will add this change.&lt;/p&gt;


&lt;p&gt;&amp;gt; &lt;br/&gt;
&amp;gt; +  public static final String MAX_CHARS   = PREFIX+&quot;maxAnalyzedChars&quot;;&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; similarly.  Seems somewhat inelegant to define/hardcode the plugin-specific parameters here, though it is nice ot have them all in one place...&lt;br/&gt;
&amp;gt; &lt;/p&gt;

&lt;p&gt;I&apos;m torn on what is more/less elegant.  &lt;/p&gt;

&lt;p&gt;Should we have a new class in o.a.s.common.params for each plugin?  &lt;/p&gt;

&lt;p&gt;Since the number of &apos;core&apos; plugins will be relatively small, having a single HighlightParams class with sections for the core plugin options seems ok.  But I can easily be talked out of this...&lt;/p&gt;</comment>
                            <comment id="12509728" author="klaasm" created="Tue, 3 Jul 2007 02:38:06 +0100"  >&lt;p&gt;&amp;gt; I&apos;m torn on what is more/less elegant. &lt;/p&gt;

&lt;p&gt;&amp;gt; Should we have a new class in o.a.s.common.params for each plugin? &lt;/p&gt;

&lt;p&gt;&amp;gt; Since the number of &apos;core&apos; plugins will be relatively small, having a single HighlightParams class with sections &amp;gt; for the core plugin options seems ok. But I can easily be talked out of this... &lt;/p&gt;

&lt;p&gt;Seems ok to me too.  Spreading everything into a jumble of classes won&apos;t exactly help coherence.&lt;/p&gt;
</comment>
                            <comment id="12517590" author="ryantxu" created="Fri, 3 Aug 2007 18:25:40 +0100"  >&lt;p&gt;added a while ago&lt;/p&gt;</comment>
                            <comment id="12579142" author="hossman" created="Sun, 16 Mar 2008 03:23:52 +0000"  >&lt;p&gt;This bug was modified as part of a bulk update using the criteria...&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Marked &quot;Resolved&quot; and &quot;Fixed&quot;&lt;/li&gt;
	&lt;li&gt;Had no &quot;Fix Version&quot; versions&lt;/li&gt;
	&lt;li&gt;Was listed in the CHANGES.txt for 1.3 as of today 2008-03-15&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The Fix Version for all 29 issues found was set to 1.3, email notification was suppressed to prevent excessive email.&lt;/p&gt;

&lt;p&gt;For a list of all the issues modified, search jira comments for this (hopefully) unique string: batch20070315hossman1&lt;/p&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                            <outwardlinks description="incorporates">
                                        <issuelink>
            <issuekey id="12371423">SOLR-260</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12360430">SOLR-102</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12360896" name="SOLR-225+260-HighlightPlugins.patch" size="85720" author="ryantxu" created="Sun, 1 Jul 2007 22:44:44 +0100"/>
                            <attachment id="12359892" name="SOLR-225+260-HighlightPlugins.patch" size="91097" author="ryantxu" created="Fri, 15 Jun 2007 17:26:25 +0100"/>
                            <attachment id="12359447" name="SOLR-225-HighlightingConfig.patch" size="102410" author="ryantxu" created="Mon, 11 Jun 2007 23:21:00 +0100"/>
                            <attachment id="12358825" name="SOLR-225-HighlightingConfig.patch" size="99084" author="ryantxu" created="Mon, 4 Jun 2007 08:22:59 +0100"/>
                            <attachment id="12358824" name="SOLR-225-HighlightingConfig.patch" size="98891" author="ryantxu" created="Mon, 4 Jun 2007 08:22:18 +0100"/>
                            <attachment id="12357068" name="SOLR-225-HighlightingConfig.patch" size="98891" author="ryantxu" created="Fri, 11 May 2007 00:07:36 +0100"/>
                            <attachment id="12356818" name="SOLR-225-HighlightingConfig.patch" size="100118" author="ryantxu" created="Sat, 5 May 2007 08:07:40 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 5 May 2007 07:07:40 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7364</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxsn3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20959</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>