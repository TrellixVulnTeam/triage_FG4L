<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:18:54 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-1437/SOLR-1437.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-1437] DIH: Enhance XPathRecordReader to deal with //tagname and other improvments.</title>
                <link>https://issues.apache.org/jira/browse/SOLR-1437</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;As per &lt;a href=&quot;http://www.nabble.com/Re%3A-Extract-info-from-parent-node-during-data-import-%28redirect%3A%29-td25471162.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.nabble.com/Re%3A-Extract-info-from-parent-node-during-data-import-%28redirect%3A%29-td25471162.html&lt;/a&gt; it would be nice to be able to use expressions such as //tagname when parsing XML documents.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12435821">SOLR-1437</key>
            <summary>DIH: Enhance XPathRecordReader to deal with //tagname and other improvments.</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="noble.paul">Noble Paul</assignee>
                                    <reporter username="fergus">Fergus McMenemie</reporter>
                        <labels>
                    </labels>
                <created>Wed, 16 Sep 2009 13:58:16 +0100</created>
                <updated>Tue, 10 Nov 2009 15:52:15 +0000</updated>
                            <resolved>Tue, 6 Oct 2009 08:43:23 +0100</resolved>
                                    <version>1.4</version>
                                    <fixVersion>1.4</fixVersion>
                                    <component>contrib - DataImportHandler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <timeoriginalestimate seconds="2419200">672h</timeoriginalestimate>
                            <timeestimate seconds="2419200">672h</timeestimate>
                                        <comments>
                            <comment id="12756018" author="noble.paul" created="Wed, 16 Sep 2009 14:09:06 +0100"  >&lt;p&gt;it may not be viable to target this for 1.4&lt;/p&gt;</comment>
                            <comment id="12756051" author="fergus" created="Wed, 16 Sep 2009 15:33:19 +0100"  >&lt;p&gt;A pity we may not make the 1.4 release, but I guess there is no harm in trying!&lt;/p&gt;

&lt;p&gt;Looking through the code for XPathRecordReader I see a variable skipNextEvent inside the parse method. Can anybody explain why we need to skip an event at the end of a text block?&lt;/p&gt;</comment>
                            <comment id="12756358" author="noble.paul" created="Thu, 17 Sep 2009 05:11:18 +0100"  >&lt;p&gt;for any normal event , parser.next(); should be called in each iteration. But for CDATA it should not do so because handling of CDATA itself would have consumed the next event&lt;/p&gt;</comment>
                            <comment id="12756450" author="fergus" created="Thu, 17 Sep 2009 10:57:59 +0100"  >&lt;p&gt;OK. Would it be bad if I recoded things around a renamed variable &quot;eventAlreadyFetched&quot;? IMHO it far more self-explanatory.&lt;/p&gt;</comment>
                            <comment id="12756453" author="noble.paul" created="Thu, 17 Sep 2009 11:14:43 +0100"  >&lt;p&gt;renaming done in  trunk&lt;/p&gt;

&lt;p&gt;let us be clear about what all do we wish to achieve in wild-card support&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Do we wish to support wild-cards in the forEach parameter&lt;/li&gt;
	&lt;li&gt;How to handle the following case&lt;br/&gt;
example
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
d=  /a/b/c/d
e  = &lt;span class=&quot;code-comment&quot;&gt;//e&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and if the real  path to the tag e = /a/x/e . it would not really hard to traverse both the paths&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Just keep in mind that It is hard to achieve everything. But is is easy to achieve a subset of features and meet most of the requirements. We are not trying to implement a complete framework for xml handling&lt;/p&gt;</comment>
                            <comment id="12756469" author="fergus" created="Thu, 17 Sep 2009 11:51:56 +0100"  >&lt;p&gt;Good points.&lt;/p&gt;

&lt;p&gt;I am still making sure I understand the existing code completely. Adding lots of comments.&lt;/p&gt;

&lt;p&gt;I was not going to allow wild-cards in the forEach parameter. Can you think of a use case?&lt;/p&gt;

&lt;p&gt;Your second point is covered. At this point my plan is to scrap skipTag, replacing it with equivalent inline code. Then after I have found some way of recording //tagnames within the node tree (I am considering the fact that currently it is invalid for the rootNode to have attributes; and I was thinking of abusing the rootNode attributes field and using it to store //tagname Node trees). Then where skipTag would currently be called, I would instead compare the parsed localname against the &quot;attributes&quot; of the rootTag.&lt;/p&gt;

&lt;p&gt;Potential issues I intend to ignored are. If we have: &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; 
column=&quot;e&quot; xpath=&quot;//e/f[@qualifier=&apos;fullTitle&apos;]&quot;
column=&quot;d&quot; xpath=&quot;/a/b/c/d&quot; flatten=&quot;true&quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 

&lt;p&gt;and the XML stream contains&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; 
/a/b/c/d/e...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 
&lt;p&gt;Then I will not populate column &apos;e&apos;.  Also the expression for column &apos;d&apos; which is an absolute Xpath takes precedence over that for column &apos;e&apos;.&lt;/p&gt;

&lt;p&gt;Thoughts?&lt;/p&gt;</comment>
                            <comment id="12756476" author="noble.paul" created="Thu, 17 Sep 2009 12:09:26 +0100"  >&lt;p&gt;try not to make too many changes. If you have javadocs in your patch give it as a separate patch and I shall commit it immedietly .  &lt;/p&gt;

&lt;p&gt;Keeping the patch small can make it easy for me to review it.&lt;/p&gt;</comment>
                            <comment id="12756477" author="noble.paul" created="Thu, 17 Sep 2009 12:11:11 +0100"  >&lt;blockquote&gt;&lt;p&gt;I was not going to allow wild-cards in the forEach parameter. Can you think of a use case?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;not required.&lt;/p&gt;

&lt;p&gt;If a path can be reached in a non-wildcard xpath it should take precedence over the wild-card one&lt;/p&gt;</comment>
                            <comment id="12756781" author="fergus" created="Thu, 17 Sep 2009 21:56:03 +0100"  >&lt;p&gt;A first patch to XPathRecordReader.java. These changes pass &quot;ant clean test&quot; and my own test cases. The changes are all about adding or improving comments and JavaDoc. There are very minor code changes where method definitions are changed from single to multiple lines, to allow descriptions to be added against the method arguments.&lt;/p&gt;

&lt;p&gt;One bigger code change involves removal of the skiptag method and its replacement with some in-iine code in the one place it was called from.&lt;/p&gt;</comment>
                            <comment id="12756916" author="noble.paul" created="Fri, 18 Sep 2009 03:45:50 +0100"  >&lt;p&gt;the patch looks fine.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;It is not created from the latest trunk. SO it did not apply&lt;/li&gt;
	&lt;li&gt;Remove the references to Solr (and other stuff like dataSource) in the documentation. XPathRecordReader is completely independent of Solr.  We actually use it extensively in our internal projects for xml parsing&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12757081" author="fergus" created="Fri, 18 Sep 2009 10:42:19 +0100"  >&lt;p&gt;Good to see you reuse your own code!&lt;/p&gt;

&lt;p&gt;This new patch is the same as the previous version excepting that the references to SOLR and datasource etc have been rewritten.&lt;/p&gt;

&lt;p&gt;Also, Noble, can you check over and review my comments around line 237 in the file XPathRecordReader.java. Is this correct?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
      } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
        &lt;span class=&quot;code-comment&quot;&gt;// can we ever get here? This means we are collecting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; an Xpath
&lt;/span&gt;        &lt;span class=&quot;code-comment&quot;&gt;// that is outwith any forEach expression
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (attributes != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; || hasText)
          valuesAddedinThisFrame = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HashSet&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt;();
        stack.push(valuesAddedinThisFrame);
      }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12757091" author="noble.paul" created="Fri, 18 Sep 2009 11:32:43 +0100"  >&lt;p&gt;committed r816577&lt;br/&gt;
thanks Fergus&lt;/p&gt;</comment>
                            <comment id="12757795" author="lancenorskog" created="Mon, 21 Sep 2009 04:26:21 +0100"  >&lt;p&gt;Should we just steal the streaming XPath implementation from TIKA? Does it do all we need?&lt;/p&gt;

&lt;p&gt;Note that it seems to only be used for their OpenDocument readers, so it might not have the breadth of testing that we would need.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://lucene.apache.org/tika/apidocs/org/apache/tika/sax/xpath/package-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://lucene.apache.org/tika/apidocs/org/apache/tika/sax/xpath/package-tree.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://issues.apache.org/jira/browse/TIKA-116&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/browse/TIKA-116&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://issues.apache.org/jira/browse/TIKA-129&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/browse/TIKA-129&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12757823" author="noble.paul" created="Mon, 21 Sep 2009 06:43:50 +0100"  >&lt;p&gt;DIH needs streaming of a records which contain a  bunch of fields.  The Tika one is not designed for that kind of consumption&lt;/p&gt;</comment>
                            <comment id="12758652" author="fergus" created="Wed, 23 Sep 2009 11:45:45 +0100"  >&lt;p&gt;Noble,&lt;/p&gt;

&lt;p&gt;Playing with the code... some observations I would like confirmed.&lt;/p&gt;

&lt;p&gt;1) inside parse() the valuesAddedinThisFrame HashSet and the Stack&amp;lt;Set&amp;lt;String&amp;gt;&amp;gt; stack variables are only used to aid in the clean up after out-puting  record.&lt;/p&gt;

&lt;p&gt;2) The code seems unable to collect text for a forEach xpath. So for the following fragment of code&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; xml=&lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;root&amp;gt;\n&quot;&lt;/span&gt;
             + &lt;span class=&quot;code-quote&quot;&gt;&quot;  &amp;lt;status&amp;gt;live&amp;lt;/status&amp;gt;\n&quot;&lt;/span&gt;
             + &lt;span class=&quot;code-quote&quot;&gt;&quot;  &amp;lt;contenido id=\&quot;&lt;/span&gt;10097\&lt;span class=&quot;code-quote&quot;&gt;&quot; idioma=\&quot;&lt;/span&gt;cat\&lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;gt;\n&quot;&lt;/span&gt;
             + &lt;span class=&quot;code-quote&quot;&gt;&quot;    Cats can be cute\n&quot;&lt;/span&gt;
             + &lt;span class=&quot;code-quote&quot;&gt;&quot;    &amp;lt;antetitulo&amp;gt;&amp;lt;/antetitulo&amp;gt;\n&quot;&lt;/span&gt;
             + &lt;span class=&quot;code-quote&quot;&gt;&quot;    &amp;lt;titulo&amp;gt;\n           This is my title\n    &amp;lt;/titulo&amp;gt;\n&quot;&lt;/span&gt;
             + &lt;span class=&quot;code-quote&quot;&gt;&quot;    &amp;lt;resumen&amp;gt;\n          This is my summary\n   &amp;lt;/resumen&amp;gt;\n&quot;&lt;/span&gt;
             + &lt;span class=&quot;code-quote&quot;&gt;&quot;    &amp;lt;texto&amp;gt;\n     This is the body of my text\n   &amp;lt;/texto&amp;gt;\n&quot;&lt;/span&gt;
             + &lt;span class=&quot;code-quote&quot;&gt;&quot;    &amp;lt;/contenido&amp;gt;\n&quot;&lt;/span&gt;
             + &lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;/root&amp;gt;&quot;&lt;/span&gt;;
    XPathRecordReader rr = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; XPathRecordReader(&lt;span class=&quot;code-quote&quot;&gt;&quot;/root/contenido&quot;&lt;/span&gt;);
    rr.addField(&lt;span class=&quot;code-quote&quot;&gt;&quot;cat&quot;&lt;/span&gt;   ,&lt;span class=&quot;code-quote&quot;&gt;&quot;/root/contenido&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;); &lt;span class=&quot;code-comment&quot;&gt;//  ***** FAILS *****
&lt;/span&gt;    rr.addField(&lt;span class=&quot;code-quote&quot;&gt;&quot;id&quot;&lt;/span&gt;,    &lt;span class=&quot;code-quote&quot;&gt;&quot;/root/contenido/@id&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;we can get the string associated with the id attrbute of &amp;lt;contenido&amp;gt; but not its child text! Is this a design goal, or just the way the code ended up behaving. Do we want it to continue to work this way?&lt;/p&gt;</comment>
                            <comment id="12758663" author="noble.paul" created="Wed, 23 Sep 2009 12:33:02 +0100"  >&lt;p&gt;it is not an intentional. &lt;/p&gt;</comment>
                            <comment id="12758664" author="noble.paul" created="Wed, 23 Sep 2009 12:35:07 +0100"  >&lt;blockquote&gt;&lt;p&gt;inside parse() the valuesAddedinThisFrame HashSet and the Stack&amp;lt;Set&amp;lt;String&amp;gt;&amp;gt; stack variables are only used to aid in the clean up after out-puting record.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;yes,&lt;/p&gt;

&lt;p&gt;there is a testcase sameForEachAndXpath()  which has same forEach and field. So, something is strange  here&lt;/p&gt;</comment>
                            <comment id="12758860" author="fergus" created="Wed, 23 Sep 2009 21:08:41 +0100"  >&lt;p&gt;Apologies! my testcase which uses the same Xpath with the forEach and field value works; once I removed the typo!&lt;/p&gt;
</comment>
                            <comment id="12759211" author="fergus" created="Thu, 24 Sep 2009 19:53:09 +0100"  >&lt;p&gt;Still trying to understand all the ins and outs of the code! &lt;/p&gt;

&lt;p&gt;Around line 250 in XPathRecordReader.java we have the following expression &quot;recordStarted &amp;amp;&amp;amp; !isRecord&quot;. Why is this done? Why do we want to call putText() with a null value? Why do we only call putText Nodes where isRecord is false?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
      &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (attributes != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
          &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (Node node : attributes) {
            &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; value = parser.getAttributeValue(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, node.name);
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (value != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; || (recordStarted &amp;amp;&amp;amp; !isRecord)) {
              putText(values, value, node.fieldName, node.multiValued);
              valuesAddedinThisFrame.add(node.fieldName);
            }
          }
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12759384" author="fergus" created="Fri, 25 Sep 2009 06:37:47 +0100"  >&lt;p&gt;A patch of XPathRecordReader.java adding a few cosmetic changes to comments plus.....&lt;/p&gt;

&lt;p&gt;A rewritten core of the parse() method. IMHO it is simpler to understand with the inner while and special paser.next state variable removed and it is probably faster as well.&lt;/p&gt;

&lt;p&gt;Rearranged method getOrAddChild renaming it to getOrAddNode in preparation for adding support for // construct. This method is called from build().&lt;/p&gt;

&lt;p&gt;While in build(), renamed local variable &quot;name&quot; to &quot;xpseg&quot; to better reflect that it holds a segment from an Xpath. And to remove warnings about local variables masking class variables.&lt;/p&gt;

&lt;p&gt;&quot;ant clean test&quot; runs OK with these changes!&lt;/p&gt;</comment>
                            <comment id="12760602" author="fergus" created="Tue, 29 Sep 2009 14:17:35 +0100"  >&lt;p&gt;Making good progress! The //expression and its testcase is done and appear to work well. I would have submitted a patch already except that having only altered &quot;XPathRecordReader.java&quot; I am now trying to get &quot;ant clean test&quot; to stop failing in org.apache.solr.handler.dataimport.TestErrorHandling.&lt;/p&gt;

&lt;p&gt;Also while I do not yet have a total grasp of the code I think it is possible to have XPathRecordReader.java only return fields which are children of the forEach expression when a record is emitted. I consider this desirable and would like to press ahead with this extra change; are there other views?&lt;/p&gt;

&lt;p&gt;Having established that &quot;Set&amp;lt;String&amp;gt; valuesAddedinThisFrame&quot; and &quot;Stack&amp;lt;Set&amp;lt;String&amp;gt;&amp;gt; stack&quot;, in Node are only used for clearing up after a record has been emitted. I am now pondering the purpose of the HashSet childrenFound and putNulls. Any suggestions?&lt;/p&gt;

&lt;p&gt;Lastly what are the chances of this making the 1.4 release?&lt;/p&gt;</comment>
                            <comment id="12760624" author="fergus" created="Tue, 29 Sep 2009 15:52:19 +0100"  >&lt;p&gt;XPathRecordReader enhanced to allow use of //abc type expressions. Sorry but there are lots of changes!&lt;/p&gt;

&lt;p&gt;Lots of comments added which attempt to clarify its operation. Ditto for TestXPathRecordReader where the test strings have been unwrapped and formatted to make them clearer.&lt;/p&gt;

&lt;p&gt;Passes all tests except for TestErrorHandling.java which I think is sensitive to the new features.&lt;/p&gt;</comment>
                            <comment id="12760680" author="fergus" created="Tue, 29 Sep 2009 20:52:03 +0100"  >&lt;p&gt;incorporated &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-1465&quot; title=&quot;XPathRecordReader does a bunch of String concat using +&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-1465&quot;&gt;&lt;del&gt;SOLR-1465&lt;/del&gt;&lt;/a&gt; into this patch!&lt;/p&gt;</comment>
                            <comment id="12760895" author="noble.paul" created="Wed, 30 Sep 2009 13:24:27 +0100"  >&lt;p&gt;Fergus can you give the patch updated to trunk?&lt;/p&gt;</comment>
                            <comment id="12760903" author="fergus" created="Wed, 30 Sep 2009 14:05:42 +0100"  >&lt;p&gt;regenerated patch against latest trunk&lt;/p&gt;</comment>
                            <comment id="12761118" author="noble.paul" created="Thu, 1 Oct 2009 08:39:54 +0100"  >&lt;p&gt;removed a few unused lines and formatted at some places.&lt;/p&gt;

&lt;p&gt;Fergus, I am tempted to make it go in 1.4? &lt;br/&gt;
It looks largely OK to me. What else do you plan to add ? Do we need more testcases?&lt;/p&gt;</comment>
                            <comment id="12761124" author="fergus" created="Thu, 1 Oct 2009 08:57:06 +0100"  >&lt;p&gt;I am quite pleased with it as far as it goes and think it would be good for 1.4. I have tested it against my test set of 3000 XML documents and replacing:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para1&quot;&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/sect1/para&quot;&lt;/span&gt; flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;/&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para2&quot;&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/list/listitem/para&quot;&lt;/span&gt; flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;/&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para32&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/address/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para40&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/authoredBy/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para43&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/dataGroup/address/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para47&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/dataGroup/keyPersonnel/doubleList/first/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para49&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/dataGroup/keyPersonnel/doubleList/second/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para50&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/dataGroup/keyPersonnel/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para51&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/dataGroup/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para57&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/doubleList/first/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para59&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/doubleList/second/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para63&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/keyPersonnel/doubleList/first/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para65&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/keyPersonnel/doubleList/second/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para68&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/list/listItem/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para75&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/mediaBlock/doubleList/first/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para77&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/mediaBlock/doubleList/second/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para172&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/noteGroup/note/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para174&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para179&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/relatedInfo/list/listItem/relatedArticle/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para184&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/sect1/address/dataGroup/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para185&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/sect1/address/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para195&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/sect1/dataGroup/address/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para199&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/sect1/dataGroup/keyPersonnel/doubleList/first/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para201&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/sect1/dataGroup/keyPersonnel/doubleList/second/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para202&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/sect1/dataGroup/keyPersonnel/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para203&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/sect1/dataGroup/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para208&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/sect1/doubleList/first/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para212&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/sect1/doubleList/second/list/listItem/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para213&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/sect1/doubleList/second/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para217&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/sect1/keyPersonnel/doubleList/first/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para219&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/sect1/keyPersonnel/doubleList/second/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para220&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/sect1/keyPersonnel/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para225&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/sect1/list/listItem/list/listItem/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para226&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/sect1/list/listItem/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para240&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/sect1/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para244&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/sect1/sect2/doubleList/first/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para246&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/sect1/sect2/doubleList/second/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para251&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/sect1/sect2/list/listItem/list/listItem/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para252&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/sect1/sect2/list/listItem/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para258&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/sect1/sect2/noteGroup/note/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para259&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/sect1/sect2/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para265&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/sect1/sect2/sect3/list/listItem/list/listItem/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para266&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/sect1/sect2/sect3/list/listItem/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para271&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/sect1/sect2/sect3/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para275&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/sect1/sect2/sect3/sect4/list/listItem/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para279&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/sect1/sect2/sect3/sect4/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para284&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/sect1/sect2/sect3/sect4/sect5/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para295&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/sect1/sect2/sect3/table/tgroup/tbody/row/entry/noteGroup/note/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para297&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/sect1/sect2/sect3/table/tgroup/tbody/row/entry/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para301&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/sect1/sect2/sect3/table/tgroup/thead/row/entry/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para312&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/sect1/sect2/table/tgroup/tbody/row/entry/list/listItem/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para315&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/sect1/sect2/table/tgroup/tbody/row/entry/noteGroup/note/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para316&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/sect1/sect2/table/tgroup/tbody/row/entry/noteGroup/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para318&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/sect1/sect2/table/tgroup/tbody/row/entry/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para322&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/sect1/sect2/table/tgroup/thead/row/entry/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para341&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/sect1/table/tgroup/tbody/row/entry/noteGroup/note/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para342&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/sect1/table/tgroup/tbody/row/entry/noteGroup/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para344&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/sect1/table/tgroup/tbody/row/entry/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para348&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/sect1/table/tgroup/thead/row/entry/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para371&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/table/tgroup/tbody/row/entry/noteGroup/note/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para373&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/table/tgroup/tbody/row/entry/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
        &amp;lt;field column=&lt;span class=&quot;code-quote&quot;&gt;&quot;para377&quot;&lt;/span&gt;     name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;                        xpath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/record/table/tgroup/thead/row/entry/para&quot;&lt;/span&gt;  flatten=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
{code]

with 

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;       &amp;lt;field column=&quot;text&quot;                             xpath=&quot;//para&quot; flatten=&quot;true&quot;/&amp;gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The indexes seemed equivalent and time to index was also equivalent.&lt;/p&gt;

&lt;p&gt;I have one concern which should be addressed before any 1.4 release. I still do not understand the purpose of the HashSet childrenFound and putNulls, if its important then I suspect that whatever is done to childNodes when an end_element is parsed also needs done to descNodes; but I have a feeling the whole lot may be unnecessary and can be removed. If it is required we need to explain it.&lt;/p&gt;

&lt;p&gt;The last change I would like to see, which I am happy to leave to 1.5, involves making sure emitted records do not contain tags from parent nodes unless they are stipulated by &quot;commonField&quot;&lt;/p&gt;</comment>
                            <comment id="12761146" author="noble.paul" created="Thu, 1 Oct 2009 10:27:35 +0100"  >&lt;p&gt;the putNulls are very important . I can probably add a testcase for that and probably it will be evident to you.&lt;/p&gt;

&lt;p&gt;one another concern I have with the patch is that every node which is not relevant results in walking up the tree to figure out if there was a wild-card . So even if somebody does not use wild-cards he ends up paying the price. Each node can keep a boolean flag if that branch has a wild-card upstream and this flag has to be set at the time of building the tree.&lt;/p&gt;</comment>
                            <comment id="12761153" author="fergus" created="Thu, 1 Oct 2009 10:57:54 +0100"  >&lt;p&gt;Re your concern. Correct, i was was also concerned about this, and of course how bad it is depends on the nature of your data and the tree of interesting nodes. However, testing indicated it did not seem to cause to much of an impact. It is not quite as bad as you say; it has to walk up the tree ONCE , not for every node which is not relivent, but rather every time we depart from the list of interesting nodes. Nevertheless your solution is solution is a good one.&lt;/p&gt;</comment>
                            <comment id="12761496" author="fergus" created="Fri, 2 Oct 2009 08:49:09 +0100"  >&lt;p&gt;I am doing more work on this to:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;improve performance by avoiding having to walk back up tree&lt;/li&gt;
	&lt;li&gt;to review use of putNulls&lt;/li&gt;
	&lt;li&gt;avoid emitting parent nodes of an emitted record&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12761838" author="fergus" created="Sat, 3 Oct 2009 10:31:59 +0100"  >&lt;p&gt;OK!&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;I have a better method of dealing with //* searches.&lt;/li&gt;
	&lt;li&gt;I think I know how to only emitting fields associated with the current record.&lt;/li&gt;
	&lt;li&gt;PutNulls: I can see what it is doing but I still dont know why it is needed. I could understand if there was a requirement that every valid hasText node for a record must be defined or null; but I dont think that is what it id doing? Can you help?&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12761999" author="fergus" created="Sun, 4 Oct 2009 08:24:38 +0100"  >&lt;p&gt;I propose to have this patch which only addresses the //* issue submitted in time for 1.4 and close this issue.&lt;/p&gt;

&lt;p&gt;The other new feature and sorting out pushNulls can be left for later.&lt;/p&gt;</comment>
                            <comment id="12762093" author="noble.paul" created="Mon, 5 Oct 2009 06:51:56 +0100"  >&lt;blockquote&gt;&lt;p&gt;PutNulls: I can see what it is doing but I still dont know why it is needed.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This is not very useful if you are indexing directly w/o tranformers. Imagine , if you write a transformer which wouldhave to make some business decision if one value is missing, this helps. &lt;/p&gt;

&lt;p&gt;I see that you have optimized for the case where no wild card is used .&lt;/p&gt;

&lt;p&gt;Fergus, I am +tive of putting this into 1.4 (if you are done with it). This is clearly a huge improvment over what was already existing . Whatever other enhancements are required , can be done later.&lt;/p&gt;</comment>
                            <comment id="12762094" author="fergus" created="Mon, 5 Oct 2009 06:54:07 +0100"  >&lt;p&gt;I am done!&lt;/p&gt;</comment>
                            <comment id="12762107" author="noble.paul" created="Mon, 5 Oct 2009 08:32:48 +0100"  >&lt;p&gt;There is a crazy bug (i&apos;ve added a testcase) we need to fix this before committing&lt;/p&gt;</comment>
                            <comment id="12762113" author="noble.paul" created="Mon, 5 Oct 2009 09:39:29 +0100"  >&lt;p&gt;any_decendent_from_root fails&lt;/p&gt;</comment>
                            <comment id="12762115" author="noble.paul" created="Mon, 5 Oct 2009 09:45:35 +0100"  >&lt;p&gt;This must be fixed anyway in the trunk . I am not opening another issue because my previous patch includes this fix too&lt;/p&gt;</comment>
                            <comment id="12762128" author="fergus" created="Mon, 5 Oct 2009 10:40:59 +0100"  >&lt;p&gt;OK, having a look at it right now.&lt;/p&gt;</comment>
                            <comment id="12762156" author="fergus" created="Mon, 5 Oct 2009 12:40:05 +0100"  >&lt;p&gt;Hmmm, the version I uploaded works. I think that while polishing my code you removed an &quot;else return;&quot; from XPathRecordReader.java around line 317. I guess you thought it was a redundant statement, not sure what is going on at all. But I think that code is unchanged from the original.&lt;/p&gt;</comment>
                            <comment id="12762158" author="noble.paul" created="Mon, 5 Oct 2009 13:01:32 +0100"  >&lt;p&gt;the else return; was a bug . look at the mask_NPE patch . finally must not have a return statement it leads to suprression of exceptions&lt;/p&gt;</comment>
                            <comment id="12762533" author="fergus" created="Tue, 6 Oct 2009 08:19:02 +0100"  >&lt;p&gt;Sorted; added another check for null.&lt;/p&gt;</comment>
                            <comment id="12762543" author="noble.paul" created="Tue, 6 Oct 2009 08:43:23 +0100"  >&lt;p&gt;committed r822154&lt;/p&gt;

&lt;p&gt;Thanks Fergus&lt;/p&gt;</comment>
                            <comment id="12762552" author="noble.paul" created="Tue, 6 Oct 2009 09:10:35 +0100"  >&lt;p&gt;another enhancement to use a BitSet instead of a HashSet&lt;/p&gt;</comment>
                            <comment id="12775876" author="gsingers" created="Tue, 10 Nov 2009 15:52:15 +0000"  >&lt;p&gt;Bulk close for Solr 1.4&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12421394" name="SOLR-1437.patch" size="49398" author="fergus" created="Tue, 6 Oct 2009 08:19:02 +0100"/>
                            <attachment id="12421261" name="SOLR-1437.patch" size="50446" author="noble.paul" created="Mon, 5 Oct 2009 09:39:29 +0100"/>
                            <attachment id="12421260" name="SOLR-1437.patch" size="50502" author="noble.paul" created="Mon, 5 Oct 2009 08:32:48 +0100"/>
                            <attachment id="12421222" name="SOLR-1437.patch" size="49729" author="fergus" created="Sun, 4 Oct 2009 08:24:38 +0100"/>
                            <attachment id="12420988" name="SOLR-1437.patch" size="47768" author="noble.paul" created="Thu, 1 Oct 2009 08:39:54 +0100"/>
                            <attachment id="12420900" name="SOLR-1437.patch" size="46599" author="fergus" created="Wed, 30 Sep 2009 14:05:42 +0100"/>
                            <attachment id="12421262" name="masked_NPE.patch" size="1543" author="noble.paul" created="Mon, 5 Oct 2009 09:45:35 +0100"/>
                            <attachment id="12421397" name="putNulls_using_bitset.patch" size="4946" author="noble.paul" created="Tue, 6 Oct 2009 09:10:35 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 16 Sep 2009 13:09:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6217</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxl9r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19765</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>