<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:18:04 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-935/SOLR-935.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-935] DataImportHandler: Add logging to record failure to acquire lock by DataImporter for a given request </title>
                <link>https://issues.apache.org/jira/browse/SOLR-935</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;There is a possibility of 2 threads to be in DataImporter:runCmd, until before  importLock.tryLock() method and then depending on the scheduling - one of them is allowed to pass through from then .&lt;/p&gt;

&lt;p&gt;We need to log the failure of the other as to unable to start because of the failure to acquire the mutex, to distinguish between successful start of import and failure to do so. &lt;/p&gt;</description>
                <environment>&lt;p&gt;Java 6, Tomcat 6.0.18&lt;/p&gt;</environment>
        <key id="12411191">SOLR-935</key>
            <summary>DataImportHandler: Add logging to record failure to acquire lock by DataImporter for a given request </summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="noble.paul">Noble Paul</assignee>
                                    <reporter username="kaykay.unique">Karthik K</reporter>
                        <labels>
                    </labels>
                <created>Mon, 22 Dec 2008 19:42:35 +0000</created>
                <updated>Wed, 16 Apr 2014 13:57:17 +0100</updated>
                                                            <fixVersion>4.9</fixVersion>
                    <fixVersion>Trunk</fixVersion>
                                    <component>contrib - DataImportHandler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                    <timeoriginalestimate seconds="3600">1h</timeoriginalestimate>
                            <timeestimate seconds="3600">1h</timeestimate>
                                        <comments>
                            <comment id="12662772" author="shalinmangar" created="Sun, 11 Jan 2009 13:02:27 +0000"  >&lt;p&gt;We can add this piece of logging but what benefit will that provide? Will it scare users when they see something like &quot;Mutex Acquisition failure&quot; in the logs?&lt;/p&gt;</comment>
                            <comment id="12662965" author="kaykay.unique" created="Mon, 12 Jan 2009 14:26:35 +0000"  >&lt;p&gt;What it really means is that - after the full/delta import request is submitted - it did not launch at all in the server side, but rather failed quietly. &lt;/p&gt;

&lt;p&gt;It is important from a debugging perspective that we see something like a &quot;warning: data import did not launch because of mutex acquisition failure. Please retry&quot; . &lt;/p&gt;</comment>
                            <comment id="12664256" author="kaykay.unique" created="Thu, 15 Jan 2009 20:40:56 +0000"  >&lt;p&gt;Increasing priority since in a workflow scenario with more than 2 delta-import requests received at the server - we need some way to track in the debug log that one of them actually failed and need to be tried again. &lt;/p&gt;</comment>
                            <comment id="12665267" author="kaykay.unique" created="Mon, 19 Jan 2009 23:01:46 +0000"  >&lt;p&gt;New Patch submitted for workflow modification to track failures better. &lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Logging is removed in favor of more granular notification.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Context:&lt;br/&gt;
  New field called EventStatus added to Context ( default value - SUCCESS)&lt;/p&gt;

&lt;p&gt;During failure - another event is launched , with the EventStatus field in the Context set to Failure. &lt;/p&gt;

&lt;p&gt;Makes it easy for a plugin to keep track of failures when the delta import did not launch at all (due to synch. issues), compared to log based debugging. &lt;/p&gt;

&lt;p&gt;This patch is independent of &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-972&quot; title=&quot;EventListener-s creation changed from a per request ( full / delta-imports) scenario to once through the lifetime of the DIH plugin.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-972&quot;&gt;&lt;del&gt;SOLR-972&lt;/del&gt;&lt;/a&gt;, but would be extremely efficient if &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-972&quot; title=&quot;EventListener-s creation changed from a per request ( full / delta-imports) scenario to once through the lifetime of the DIH plugin.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-972&quot;&gt;&lt;del&gt;SOLR-972&lt;/del&gt;&lt;/a&gt; is applied though. &lt;/p&gt;</comment>
                            <comment id="12665268" author="kaykay.unique" created="Mon, 19 Jan 2009 23:02:48 +0000"  >&lt;p&gt;For high performance of this patch (related to logging of failure) - applying &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-972&quot; title=&quot;EventListener-s creation changed from a per request ( full / delta-imports) scenario to once through the lifetime of the DIH plugin.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-972&quot;&gt;&lt;del&gt;SOLR-972&lt;/del&gt;&lt;/a&gt; is highly recommended. &lt;/p&gt;</comment>
                            <comment id="12709085" author="shalinmangar" created="Wed, 13 May 2009 20:27:15 +0100"  >&lt;p&gt;The logging is fine. But I am not sure of the utility of the event listener. Why would one configure an import to be run so frequently that it can trigger the failure to acquire lock? What useful action can one take in this scenario?&lt;/p&gt;</comment>
                            <comment id="12709088" author="kaykay.unique" created="Wed, 13 May 2009 20:33:42 +0100"  >&lt;p&gt;&lt;b&gt;Makes it easy for a plugin to keep track of failures when the delta import did not launch at all&lt;/b&gt; &lt;/p&gt;

&lt;p&gt;Otherwise those frequent imports ( due to a code / workflow error ) would go unnoticed. &lt;/p&gt;</comment>
                            <comment id="12711485" author="noble.paul" created="Thu, 21 May 2009 07:16:20 +0100"  >&lt;p&gt;the partial fix. It logs a warning if it fails to acquire a lock&lt;/p&gt;


&lt;p&gt;I am still not convinced of the EventListener part&lt;/p&gt;</comment>
                            <comment id="12711486" author="noble.paul" created="Thu, 21 May 2009 07:20:09 +0100"  >&lt;p&gt;committed revision : 776965&lt;/p&gt;</comment>
                            <comment id="12711487" author="noble.paul" created="Thu, 21 May 2009 07:21:14 +0100"  >&lt;p&gt;I feel that the original concern is addressed. I am pushing it to 1.5 so that we can have a detailed look at this later&lt;/p&gt;</comment>
                            <comment id="12872517" author="hossman" created="Thu, 27 May 2010 23:07:01 +0100"  >&lt;p&gt;Bulk updating 240 Solr issues to set the Fix Version to &quot;next&quot; per the process outlined in this email...&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/lucene-dev/201005.mbox/%3Calpine.DEB.1.10.1005251052040.24672@radix.cryptio.net%3E&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mail-archives.apache.org/mod_mbox/lucene-dev/201005.mbox/%3Calpine.DEB.1.10.1005251052040.24672@radix.cryptio.net%3E&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Selection criteria was &quot;Unresolved&quot; with a Fix Version of 1.5, 1.6, 3.1, or 4.0.  email notifications were suppressed.&lt;/p&gt;

&lt;p&gt;A unique token for finding these 240 issues in the future: hossversioncleanup20100527&lt;/p&gt;</comment>
                            <comment id="13043839" author="rcmuir" created="Fri, 3 Jun 2011 17:47:20 +0100"  >&lt;p&gt;Bulk move 3.2 -&amp;gt; 3.3&lt;/p&gt;</comment>
                            <comment id="13106278" author="rcmuir" created="Fri, 16 Sep 2011 15:50:22 +0100"  >&lt;p&gt;3.4 -&amp;gt; 3.5&lt;/p&gt;</comment>
                            <comment id="13412161" author="hossman" created="Wed, 11 Jul 2012 23:26:12 +0100"  >&lt;p&gt;bulk fixing the version info for 4.0-ALPHA and 4.0 all affected issues have &quot;hoss20120711-bulk-40-change&quot; in comment&lt;/p&gt;</comment>
                            <comment id="13429861" author="rcmuir" created="Tue, 7 Aug 2012 04:43:40 +0100"  >&lt;p&gt;rmuir20120906-bulk-40-change&lt;/p&gt;</comment>
                            <comment id="13452181" author="rcmuir" created="Mon, 10 Sep 2012 18:41:57 +0100"  >&lt;p&gt;moving all 4.0 issues not touched in a month to 4.1&lt;/p&gt;</comment>
                            <comment id="13717147" author="steve_rowe" created="Tue, 23 Jul 2013 19:47:16 +0100"  >&lt;p&gt;Bulk move 4.4 issues to 4.5 and 5.0&lt;/p&gt;</comment>
                            <comment id="13971149" author="thetaphi" created="Wed, 16 Apr 2014 13:57:17 +0100"  >&lt;p&gt;Move issue to Solr 4.9.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12412779">SOLR-972</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12408657" name="SOLR-935.patch" size="726" author="noble.paul" created="Thu, 21 May 2009 07:16:20 +0100"/>
                            <attachment id="12398270" name="SOLR-935.patch" size="6469" author="kaykay.unique" created="Mon, 19 Jan 2009 23:01:46 +0000"/>
                            <attachment id="12396625" name="SOLR-935.patch" size="747" author="kaykay.unique" created="Mon, 22 Dec 2008 19:43:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 11 Jan 2009 13:02:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6698</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxoav:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20256</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>