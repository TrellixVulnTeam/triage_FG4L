<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:17:41 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-1302/SOLR-1302.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-1302] Fun with Distances - Add Distance functions for a variety of things</title>
                <link>https://issues.apache.org/jira/browse/SOLR-1302</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;There are many distance functions that are useful to have:&lt;/p&gt;

&lt;p&gt;1. Great Circle (lat/lon) and other geo distances&lt;br/&gt;
2. Euclidean (Vector)&lt;br/&gt;
3. Manhattan (Vector)&lt;br/&gt;
4. Cosine (Vector)&lt;/p&gt;

&lt;p&gt;For the vector ones, the idea is that the fields on a document can be used to determine the vector.  &lt;/p&gt;</description>
                <environment></environment>
        <key id="12431156">SOLR-1302</key>
            <summary>Fun with Distances - Add Distance functions for a variety of things</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gsingers">Grant Ingersoll</assignee>
                                    <reporter username="gsingers">Grant Ingersoll</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 Jul 2009 17:42:35 +0100</created>
                <updated>Wed, 30 Mar 2011 16:45:22 +0100</updated>
                            <resolved>Tue, 17 Nov 2009 15:50:09 +0000</resolved>
                                                    <fixVersion>1.5</fixVersion>
                    <fixVersion>3.1</fixVersion>
                    <fixVersion>4.0-ALPHA</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="12777648" author="chrismattmann" created="Fri, 13 Nov 2009 20:43:04 +0000"  >&lt;p&gt;Hey Grant,&lt;/p&gt;

&lt;p&gt;I&apos;d love to help on this issue &amp;#8211; do you have a preference regarding which one of the above 4 that you&apos;d like to work on? All of them? 2 of them?&lt;/p&gt;

&lt;p&gt;Let me know &amp;#8211; I&apos;d be happy to write 1 or 2 of them...&lt;/p&gt;

&lt;p&gt;Cheers,&lt;br/&gt;
Chris&lt;/p&gt;</comment>
                            <comment id="12777676" author="gsingers" created="Fri, 13 Nov 2009 21:41:28 +0000"  >&lt;p&gt;I&apos;ve got Haversine implemented (great circle), and RadianFunction (convert a val to radians).  I&apos;ll put up a patch shortly.&lt;/p&gt;</comment>
                            <comment id="12777710" author="gsingers" created="Fri, 13 Nov 2009 22:47:31 +0000"  >&lt;p&gt;Haversine implementation, RadianFunction and DegreeFunction.  Also small refactorings in other places to better support doubles to avoid losing precision for as long as possible.&lt;/p&gt;

&lt;p&gt;Next up:  Euclidean and SquaredEuclidean&lt;/p&gt;</comment>
                            <comment id="12777727" author="gsingers" created="Fri, 13 Nov 2009 23:13:56 +0000"  >&lt;p&gt;Note, we may want to mod this to work more with a Field Type that represents a Point.  This depends on &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-1131&quot; title=&quot;Allow a single field type to index multiple fields&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-1131&quot;&gt;&lt;del&gt;SOLR-1131&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="12777841" author="gsingers" created="Sat, 14 Nov 2009 08:38:18 +0000"  >&lt;p&gt;Adds in SquaredEuclideanFunction and EuclideanFunction distance functions in addition to the others.  Both can calculate the Euclidean distance on an n-dimensional vector made up of the fields of a document.  See the unit test (DistanceFunctionTest) for an example.&lt;/p&gt;</comment>
                            <comment id="12777854" author="gsingers" created="Sat, 14 Nov 2009 09:44:03 +0000"  >&lt;p&gt;No need for all of these classes for one offs of distance.  Implement general Lp_Space Vector distance function + a special case for the squared euclidean distance (which isn&apos;t really a distance, but is still useful.)&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;http://en.wikipedia.org/wiki/Lp_space&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://en.wikipedia.org/wiki/Lp_space&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Euclidean distance is dist(2, valuesources...), while Manhattan is (dist(1, valuesources...).  Handles some powers as special cases for improved speed.&lt;/p&gt;

&lt;p&gt;This pretty much enables Solr to do some pretty cool stuff when it comes to vector calculations.&lt;/p&gt;

&lt;p&gt;See the tests for how to use.  Will add Wiki later.&lt;/p&gt;</comment>
                            <comment id="12777856" author="gsingers" created="Sat, 14 Nov 2009 09:44:35 +0000"  >&lt;p&gt;I believe this is ready to commit, but am going to sleep on it.&lt;/p&gt;</comment>
                            <comment id="12777932" author="gsingers" created="Sat, 14 Nov 2009 14:21:48 +0000"  >&lt;p&gt;Wiki updated: &lt;a href=&quot;http://wiki.apache.org/solr/FunctionQuery&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/solr/FunctionQuery&lt;/a&gt; with documentation on all of these functions.  I think this is ready to go, will likely commit tomorrow.&lt;/p&gt;</comment>
                            <comment id="12777969" author="gsingers" created="Sat, 14 Nov 2009 17:14:33 +0000"  >&lt;p&gt;Committed revision 836216.&lt;/p&gt;</comment>
                            <comment id="12778247" author="cmale" created="Mon, 16 Nov 2009 08:05:48 +0000"  >&lt;p&gt;Hi Grant,&lt;/p&gt;

&lt;p&gt;What sort of performance do these functions have for calculating the distances for say 100k docs?&lt;/p&gt;

&lt;p&gt;Thanks,&lt;/p&gt;</comment>
                            <comment id="12778308" author="gsingers" created="Mon, 16 Nov 2009 12:08:07 +0000"  >&lt;p&gt;Still benchmarking.  I think there are two other things that are needed for performance: &lt;br/&gt;
1.  Filtering (see the frange stuff)&lt;br/&gt;
2. Caching of function results w/in a single search for use between filtering, scoring and sorting&lt;/p&gt;</comment>
                            <comment id="12778312" author="gsingers" created="Mon, 16 Nov 2009 12:11:21 +0000"  >&lt;p&gt;That being said, my anecdotal tests show them to be pretty fast over ~68K docs.  I&apos;m going to load up the entire Open Street Map planet at some point this week and then I can run real tests.&lt;/p&gt;</comment>
                            <comment id="12778904" author="gsingers" created="Tue, 17 Nov 2009 14:32:59 +0000"  >&lt;p&gt;Adding geohash Haversine distance requires being able to pass in string literals&lt;/p&gt;</comment>
                            <comment id="12778949" author="gsingers" created="Tue, 17 Nov 2009 15:50:09 +0000"  >&lt;p&gt;I&apos;m going to close this, as I&apos;ve implemented a bunch of them, with the exception of cosine.  If someone wants to do that one, they can open a new issue.&lt;/p&gt;</comment>
                            <comment id="12781489" author="gsingers" created="Mon, 23 Nov 2009 17:23:53 +0000"  >&lt;p&gt;Added strdist - string distance, too, which uses the Lucene spell checker distance measures for calculating things like edit distance, etc. between two strings.&lt;/p&gt;</comment>
                            <comment id="12834933" author="shalinmangar" created="Wed, 17 Feb 2010 19:07:45 +0000"  >&lt;p&gt;Looking over the source of DistanceUtils#vectorDistance, it seems like there is a bug with calculating infinite norm:&lt;/p&gt;

&lt;p&gt;Existing code:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0; i &amp;lt; vec1.length; i++) {
        result = &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.max(vec1[i], vec2[i]);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Shouldn&apos;t that be:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0; i &amp;lt; vec1.length; i++) {
        result = &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.max(result, &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.max(vec1[i], vec2[i]));
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12834940" author="gsingers" created="Wed, 17 Feb 2010 19:16:29 +0000"  >&lt;p&gt;Yep, good catch Shalin.  You want to fix?&lt;/p&gt;</comment>
                            <comment id="12834950" author="shalinmangar" created="Wed, 17 Feb 2010 19:26:54 +0000"  >&lt;p&gt;Done. Committed revision 911153.&lt;/p&gt;</comment>
                            <comment id="12872680" author="hossman" created="Fri, 28 May 2010 00:01:34 +0100"  >
&lt;p&gt;Correcting Fix Version based on CHANGES.txt, see this thread for more details...&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/lucene-dev/201005.mbox/%3Calpine.DEB.1.10.1005251052040.24672@radix.cryptio.net%3E&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mail-archives.apache.org/mod_mbox/lucene-dev/201005.mbox/%3Calpine.DEB.1.10.1005251052040.24672@radix.cryptio.net%3E&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13013040" author="gsingers" created="Wed, 30 Mar 2011 16:45:22 +0100"  >&lt;p&gt;Bulk close for 3.1.0 release&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12440938">SOLR-1569</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12404381">SOLR-773</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12431022">SOLR-1298</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12424945" name="SOLR-1302.patch" size="59092" author="gsingers" created="Sat, 14 Nov 2009 09:44:03 +0000"/>
                            <attachment id="12424939" name="SOLR-1302.patch" size="41677" author="gsingers" created="Sat, 14 Nov 2009 08:38:18 +0000"/>
                            <attachment id="12424907" name="SOLR-1302.patch" size="27306" author="gsingers" created="Fri, 13 Nov 2009 22:47:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 13 Nov 2009 20:43:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6345</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxm2n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19895</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>