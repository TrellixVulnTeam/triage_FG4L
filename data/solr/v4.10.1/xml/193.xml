<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:19:45 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-193/SOLR-193.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-193] General SolrDocument interface to manage field values.</title>
                <link>https://issues.apache.org/jira/browse/SOLR-193</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;In an effort to make &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-139&quot; title=&quot;Support updateable/modifiable documents&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-139&quot;&gt;&lt;del&gt;SOLR-139&lt;/del&gt;&lt;/a&gt; (the &quot;modify&quot; command) more manageable, i extracted out a large chunk.  This patch adds a general SolrDocument interface and includes a concrete implementation (SimpleSolrDoc)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-139&quot; title=&quot;Support updateable/modifiable documents&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-139&quot;&gt;&lt;del&gt;SOLR-139&lt;/del&gt;&lt;/a&gt; needs some way to transport document values independent of the lucene Document.  This is required for the INCREMENT command and useful for modifying documents.  SolrDocument is also generally useful for &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-20&quot; title=&quot;A simple Java client for updating and searching&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-20&quot;&gt;&lt;del&gt;SOLR-20&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;- - - - -&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The one (potentially) controversial part is that I added a function to FieldType:&lt;/p&gt;

&lt;p&gt; public Object toExternalValue(Fieldable f);&lt;/p&gt;

&lt;p&gt;This asks each field type to convert its Fieldable into its real type, for example IntField.java has:&lt;/p&gt;

&lt;p&gt; public Integer toExternalValue(Fieldable f) &lt;/p&gt;
{
   return Integer.valueOf( toExternal(f) );
 }

&lt;p&gt;By default, it returns a string value.  If this addition is too much, there are other (less clean) ways to handle the INCREMENT command.  My real motivation for this addition is that it makes it possible to implement an embeddable &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-20&quot; title=&quot;A simple Java client for updating and searching&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-20&quot;&gt;&lt;del&gt;SOLR-20&lt;/del&gt;&lt;/a&gt; client that does not need an HTTP connection. &lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;- - -&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The SimpleSolrDoc implementation was written for &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-20&quot; title=&quot;A simple Java client for updating and searching&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-20&quot;&gt;&lt;del&gt;SOLR-20&lt;/del&gt;&lt;/a&gt;.  It needs to play nice with EL, so it implements a few extra map function that may not seem necessary:&lt;/p&gt;

&lt;p&gt; $&lt;/p&gt;
{doc.values[&apos;name&apos;]]}
&lt;p&gt; gets a collection&lt;br/&gt;
 $&lt;/p&gt;
{doc.valueMap[&apos;name&apos;]]}
&lt;p&gt; gets a single value for the field&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;- - -&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The tests cover all &quot;toExternalValue&quot; changes in schema.*  &lt;br/&gt;
SimpleSolrDoc and DocumentBuilder have 100% test coverage.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12365339">SOLR-193</key>
            <summary>General SolrDocument interface to manage field values.</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ryantxu">Ryan McKinley</assignee>
                                    <reporter username="ryantxu">Ryan McKinley</reporter>
                        <labels>
                    </labels>
                <created>Tue, 20 Mar 2007 07:10:54 +0000</created>
                <updated>Fri, 10 May 2013 11:41:10 +0100</updated>
                            <resolved>Wed, 13 Jun 2007 23:32:04 +0100</resolved>
                                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12482321" author="ryantxu" created="Tue, 20 Mar 2007 07:20:42 +0000"  >&lt;p&gt;One other note: &lt;br/&gt;
 the &quot;id&quot; field in the test schema.xml was a multiValued field.  I changed it to single valued.&lt;/p&gt;</comment>
                            <comment id="12482438" author="yseeley@gmail.com" created="Tue, 20 Mar 2007 16:43:03 +0000"  >&lt;p&gt;&amp;gt; toExternalValue(Fieldable f) &lt;/p&gt;

&lt;p&gt;&quot;external&quot; value sort of already means the human-readable serialized textual representation.&lt;/p&gt;

&lt;p&gt;What about something like toObject() which would return the appropriate Java object (such as Integer, Long, Date, etc)?&lt;/p&gt;</comment>
                            <comment id="12482563" author="ryantxu" created="Tue, 20 Mar 2007 22:17:29 +0000"  >&lt;p&gt;yes:&lt;br/&gt;
 Object  toObject( Fieldable );&lt;br/&gt;
is better.&lt;/p&gt;</comment>
                            <comment id="12489092" author="ehatcher" created="Mon, 16 Apr 2007 13:11:58 +0100"  >&lt;p&gt;The latest patch has a typo: &lt;/p&gt;

&lt;p&gt;    public Document bulid....&lt;/p&gt;

&lt;p&gt;should be &quot;build&quot;.&lt;/p&gt;
</comment>
                            <comment id="12489674" author="ryantxu" created="Wed, 18 Apr 2007 10:57:12 +0100"  >&lt;p&gt;Damn dyslexia!  I can hardly see the difference even when its pointed out.&lt;/p&gt;

&lt;p&gt;thanks eric.&lt;/p&gt;</comment>
                            <comment id="12492610" author="ryantxu" created="Mon, 30 Apr 2007 01:19:41 +0100"  >&lt;p&gt;applies cleanly with trunk&lt;/p&gt;</comment>
                            <comment id="12501088" author="ryantxu" created="Mon, 4 Jun 2007 05:16:40 +0100"  >&lt;p&gt;applies with trunk, fixed some spelling...&lt;/p&gt;</comment>
                            <comment id="12504052" author="hossman" created="Wed, 13 Jun 2007 01:02:59 +0100"  >&lt;p&gt;i&apos;m not sure that i understand a lot of what&apos;s going on here ... the basic API for SolrDocument makes sense to me, but i&apos;m not sure that i understand some of the methods in SimpleSolrDoc ... what is setDistinctByDefault, or setDistinctOrderMatters ?&lt;/p&gt;

&lt;p&gt;Also, what is the purpose/use of DocumentBuilder.build and DocumentBuilder.loadStoredFields ... neither seems to be used anywhere ... if they are not intended for use by existing clients of DocumentBuilder, but new client code not year written that won&apos;t care about any of the existing stateful methods in DocumentBuilder,  perhaps they (the two new methods) should live in a separate class?&lt;/p&gt;

&lt;p&gt;The spirit of DocumentBuilder.build makes sense to me in the context of the issue title &amp;#8211; but loadStoredFields on the other hand really doesn&apos;t make sense to me at all...&lt;br/&gt;
  1) DocumentBuilder is only involved in in building Lucene Document objects to index ... so why have a method in it for converting from a Lucene Document object to something else?&lt;br/&gt;
  2) I thought the SolrDocument API was for incoming documents ... why a method for adding values to it from an existing Lucene Document, or special logic for looking at stored fields?&lt;br/&gt;
  3) if the goal is for SolrDocument to be general enough to handle pre-indexing or post-searching Document representation, then we should not attempt to model boosts in it ... those should only live in a subclass used for indexing purposes (Lucene made this mistake early on, and it&apos;s caused countless amounts of confusion to this date) ... the loadStoredFields seems to suffer from this confusion by trying to access the field boosts of a Lucene Document that (appears to be) the result of a search &amp;#8212; they don&apos;t exist in those instances of Lucene Documents.&lt;/p&gt;

&lt;p&gt;If these methods are not intended for use by existing clients of DocumentBuilder, but new client code not year written that doesn&apos;t care about any of the existing stateful methods in DocumentBuilder,  perhaps they (the two new methods) should live in a separate class?)&lt;/p&gt;

&lt;p&gt;Hmmm... rereading the issue summary and the comments about playing nice with EL i see the goal is for a generic representation both in a java client sending docs to and reading docs back from Solr, as well as internally within Solr (or embedded Solr contexts) ... I think it&apos;s a mistake to try and have one single Interface for all three.  At the very least there should be a seperate API for the indexing side and the query side (because of the boost issue) which can be subclass/superclass relationships.&lt;/p&gt;

&lt;p&gt;I ranted about this in a related Lucene Jira issue (note also the email discussion linked to from one of my comments in that issue) ...&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-778&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/LUCENE-778&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12504095" author="ryantxu" created="Wed, 13 Jun 2007 03:16:21 +0100"  >
&lt;p&gt;For background.  This class has functionality used for other issues including &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-104&quot; title=&quot;Update Plugins&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-104&quot;&gt;&lt;del&gt;SOLR-104&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-139&quot; title=&quot;Support updateable/modifiable documents&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-139&quot;&gt;&lt;del&gt;SOLR-139&lt;/del&gt;&lt;/a&gt;.  For a while i tried keeping the functionality in different patches, but it became too much of a nightmare to maintain.  Perhaps it would be better to leave out the edge cases and just focus on the SolrDocument interface now...&lt;/p&gt;


&lt;p&gt;&amp;gt; what is setDistinctByDefault, or setDistinctOrderMatters ?&lt;br/&gt;
&amp;gt; &lt;/p&gt;

&lt;p&gt;These options let you say if the field values should be backed by a Map&amp;lt;String&amp;gt; or a List&amp;lt;String&amp;gt;, the DistinctOrderMatters says if it should be Map&amp;lt;String&amp;gt; or LinkedHashMap&amp;lt;String&amp;gt;&lt;/p&gt;

&lt;p&gt;These were useful for &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-104&quot; title=&quot;Update Plugins&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-104&quot;&gt;&lt;del&gt;SOLR-104&lt;/del&gt;&lt;/a&gt; when you SQL join a table and may get duplicate rows, but only want the distinct values to keep fields.&lt;/p&gt;

&lt;p&gt;Now that you point it out, (and there is a good chance it will be in trunk soon) It would make more sense to implement these features as different subclasses of SimpleSolrDocument.&lt;/p&gt;


&lt;p&gt;&amp;gt; Also, what is the purpose/use of DocumentBuilder.build and DocumentBuilder.loadStoredFields &lt;/p&gt;

&lt;p&gt;This is for &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-139&quot; title=&quot;Support updateable/modifiable documents&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-139&quot;&gt;&lt;del&gt;SOLR-139&lt;/del&gt;&lt;/a&gt;.  to &apos;modify&apos; a document, you load the existing Document - change it - then store it back.&lt;/p&gt;

&lt;p&gt;These two functions can happily live in a new class, and could be attached to &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-139&quot; title=&quot;Support updateable/modifiable documents&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-139&quot;&gt;&lt;del&gt;SOLR-139&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;


&lt;p&gt;&amp;gt;   2) I thought the SolrDocument API was for incoming documents ... &lt;/p&gt;

&lt;p&gt;I hope it is also useful for modifying existing Documents and transforming incoming/outgoing documents (but I&apos;ll raise that issue later &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;


&lt;p&gt;&amp;gt; I think it&apos;s a mistake to try and have one single Interface for all three. ... At the very least there should be a seperate API for the indexing side and the query side (because of the boost issue) which can be  subclass/superclass relationships.&lt;br/&gt;
&amp;gt; &lt;/p&gt;

&lt;p&gt;This sounds fine.  We should &lt;b&gt;defiantly&lt;/b&gt; solve any know problems with the Lucene document interface.  Just using an interface (rather then a concrete class) will be a huge help.&lt;/p&gt;

&lt;p&gt;Is the only difference between the input Document and output Document that it has boosts?&lt;/p&gt;

&lt;p&gt;Should we have:&lt;br/&gt;
 SolrDocument&lt;br/&gt;
   + BoostedSolrDocument&lt;/p&gt;

&lt;p&gt; or&lt;/p&gt;

&lt;p&gt; SolrDocument&lt;br/&gt;
   + IndexSolrDocument&lt;/p&gt;

&lt;p&gt;Any thoughts on the common use case where I want to pull a document out of the index (no boosts) change it, then put it back?  Do i need to make a new class and copy all the fields?  Should &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-20&quot; title=&quot;A simple Java client for updating and searching&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-20&quot;&gt;&lt;del&gt;SOLR-20&lt;/del&gt;&lt;/a&gt; be able to index a SolrDocument (no boosts) as well as a BoostedSolrDocument?  I think so...&lt;/p&gt;


&lt;p&gt;Thanks for looking at this!  &lt;/p&gt;</comment>
                            <comment id="12504100" author="yseeley@gmail.com" created="Wed, 13 Jun 2007 03:36:38 +0100"  >&lt;p&gt;&amp;gt; This sounds fine. We should &lt;b&gt;defiantly&lt;/b&gt; solve any know problems with the Lucene document interface.&lt;br/&gt;
&amp;gt;  Just using an interface (rather then a concrete class) will be a huge help. &lt;/p&gt;

&lt;p&gt;I know this runs contrary to common java OO wisdom, but interfaces can really suck.&lt;br/&gt;
They don&apos;t hurt the &lt;b&gt;consumer&lt;/b&gt; of a class, but cause major headaches for the &lt;b&gt;provider&lt;/b&gt;, trying to evolve an interface and still provide backward compatibility (it&apos;s pretty much impossible).&lt;/p&gt;

&lt;p&gt;In Lucene, where we have had a class (like Analyzer), it was trivial adding new functionality like getPositionIncrement().  If it had been an interface, it would have been impossible without breaking all the custom analyzers out there.  Where we have had interfaces, and added a new method, we simply broke some peoples code.&lt;/p&gt;

&lt;p&gt;So if it&apos;s something that a customer might possibly subclass, a class used as an interface is a much better option.&lt;br/&gt;
If it&apos;s internal, or package projected, or something where you &lt;b&gt;really&lt;/b&gt; need multiple inheritance, then an interface is fine.&lt;/p&gt;</comment>
                            <comment id="12504107" author="ryantxu" created="Wed, 13 Jun 2007 03:56:15 +0100"  >&lt;p&gt;Here is a much much smaller patch that only adds the SolrDocument &lt;b&gt;class&lt;/b&gt; and BoostableSolrDocument subclass.&lt;/p&gt;

&lt;p&gt;We can work through the other bits later, but this would be sufficient for &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-20&quot; title=&quot;A simple Java client for updating and searching&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-20&quot;&gt;&lt;del&gt;SOLR-20&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It is a quick eclipes refactoring, so the comments may not make sense.  I&apos;ll check that over in better detail after you all get a chance to look at it...&lt;/p&gt;</comment>
                            <comment id="12504132" author="hossman" created="Wed, 13 Jun 2007 07:15:02 +0100"  >&lt;p&gt;these comments are very happhazard, and in the best order i can think of (not hte order i wrote them)&lt;/p&gt;

&lt;p&gt;&amp;gt; Perhaps it would be better to leave out the edge cases and just focus on the SolrDocument &lt;/p&gt;

&lt;p&gt;...i don&apos;t mind big patches that have a lot of things ... it&apos;s just weird when there is a big patch with a lot of stuff and it&apos;s not clear what it&apos;s for &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; ... i was mainly looking for someplace where an UpdateHandler was making a SolrDocument and then calling build on it.&lt;/p&gt;

&lt;p&gt;&amp;gt; Is the only difference between the input Document and output Document that it has boosts?&lt;/p&gt;

&lt;p&gt;there is some more complexity in Lucene docs because of things like the Fieldable options but i don&apos;t think those really impact a SolrDocument API since that info is abstracted into the schema and can&apos;t be set on a per document basis.&lt;/p&gt;

&lt;p&gt;&amp;gt; Should we have:&lt;br/&gt;
&amp;gt;  SolrDocument&lt;br/&gt;
&amp;gt;   + BoostedSolrDocument&lt;/p&gt;

&lt;p&gt;BoostedSolrDocument seems to specific to the methods added, and not to the purpose of the class ... i would call it a &quot;SolrInputDocument&quot; (IndexSolrDocument is too vague since the term &quot;index&quot; is used so much in the code base)&lt;/p&gt;

&lt;p&gt;The basic structure in the new patch looks fine by the way, no real concerns from me once the comments are cleaned up (one question: should SolrDocument implement Map&amp;lt;String,Collection&amp;lt;Object&amp;gt;&amp;gt; ??)&lt;/p&gt;

&lt;p&gt;&amp;gt; This is for &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-139&quot; title=&quot;Support updateable/modifiable documents&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-139&quot;&gt;&lt;del&gt;SOLR-139&lt;/del&gt;&lt;/a&gt;. to &apos;modify&apos; a document, you load the existing Document - change it - &lt;br/&gt;
&amp;gt; then store it back.&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; These two functions can happily live in a new class, and could be attached to &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-139&quot; title=&quot;Support updateable/modifiable documents&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-139&quot;&gt;&lt;del&gt;SOLR-139&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;...oh, right, i forgot about the &quot;update in place&quot; patch .... yeah i don&apos;t think those methods should live in DocumentBuilder (am i alone in thinking DocumentBuilder should probably be deprecated completely once this stuff is commited? ... or ... hmmm ... it could probably be subclassed by one that supports adding a whole SolrInputDocument at once, or one that can start with an older Document and update it with a new SolrInputDocument ... but we can worry about that later)&lt;/p&gt;

&lt;p&gt;&quot;updating&quot; is a direct example of the type of thing i refered to in &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-778&quot; title=&quot;Allow overriding a Document&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-778&quot;&gt;&lt;del&gt;LUCENE-778&lt;/del&gt;&lt;/a&gt; about why a single Lucene Document class is bad.  to support updating you should have  an explicitly means of composing the output class into the input class ... but in that case you&apos;re dealing directly with Lucene Documents &amp;#8211; i can understand why we would need to modify a Lucene document into a SolrInputDocument ... but i don&apos;t think we really need to worry about the SolrDocument =&amp;gt; SolrInputDocument case right?&lt;/p&gt;
</comment>
                            <comment id="12504154" author="ryantxu" created="Wed, 13 Jun 2007 09:01:27 +0100"  >&lt;p&gt;Thanks for your feedback Hoss.&lt;/p&gt;

&lt;p&gt;I think this one is good to go.  &lt;/p&gt;</comment>
                            <comment id="12504342" author="ryantxu" created="Wed, 13 Jun 2007 18:28:28 +0100"  >&lt;p&gt;&amp;gt; The basic structure in the new patch looks fine by the way, no real concerns from me once the comments are cleaned up (one question: should SolrDocument implement Map&amp;lt;String,Collection&amp;lt;Object&amp;gt;&amp;gt; ??) &lt;/p&gt;

&lt;p&gt;If the class implements Map, JSTL treats it differently &amp;#8211; for example, $&lt;/p&gt;
{doc.fieldNames}
&lt;p&gt;  does not call:&lt;br/&gt;
 Collection&amp;lt;String&amp;gt; getFieldNames();&lt;br/&gt;
it calls: Map.get( &quot;fieldNames&quot; );&lt;/p&gt;

&lt;p&gt;this is really annoying!  Essentially any real function you add is hidden (unless i&apos;m incompetent in JSTL land...)&lt;/p&gt;

&lt;p&gt;This is why I had:&lt;/p&gt;

&lt;p&gt;+  ///////////////////////////////////////////////////////////////////&lt;br/&gt;
+  // Utility functions to help JSTL (map interface to single field&lt;br/&gt;
+  ///////////////////////////////////////////////////////////////////&lt;br/&gt;
+&lt;br/&gt;
+  public Map&amp;lt;String,Collection&amp;lt;Object&amp;gt;&amp;gt; getValuesMap()&lt;br/&gt;
+  &lt;/p&gt;
{
+    return _fields;
+  }
&lt;p&gt;+  &lt;br/&gt;
+  public Map&amp;lt;String,Object&amp;gt; getValueMap() {&lt;br/&gt;
+    return new Map&amp;lt;String,Object&amp;gt;() {&lt;br/&gt;
+      // The only reason we are implementing map!&lt;br/&gt;
+      public Object get(Object key) &lt;/p&gt;
{ 
+        return getFieldValue( (String)key); 
+      }
&lt;p&gt;+&lt;br/&gt;
+      // Easily Supported methods&lt;br/&gt;
+      public boolean containsKey(Object key) &lt;/p&gt;
{ return _fields.containsKey( key ); }
&lt;p&gt;+      public Set&amp;lt;String&amp;gt;  keySet()           &lt;/p&gt;
{ return _fields.keySet();  }
&lt;p&gt;+      public int          size()             &lt;/p&gt;
{ return _fields.size();    }
&lt;p&gt;+      public boolean      isEmpty()          &lt;/p&gt;
{ return _fields.isEmpty(); }
&lt;p&gt;+&lt;br/&gt;
+      // Unsupported operations.  These are not necessary for JSTL&lt;br/&gt;
+      public void clear() &lt;/p&gt;
{ throw new UnsupportedOperationException(); }
&lt;p&gt;+      public boolean containsValue(Object value) &lt;/p&gt;
{throw new UnsupportedOperationException();}&lt;br/&gt;
+      public Set&amp;lt;java.util.Map.Entry&amp;lt;String, Object&amp;gt;&amp;gt; entrySet() {throw new UnsupportedOperationException();}
&lt;p&gt;+      public Object put(String key, Object value) &lt;/p&gt;
{throw new UnsupportedOperationException();}&lt;br/&gt;
+      public void putAll(Map&amp;lt;? extends String, ? extends Object&amp;gt; t) {throw new UnsupportedOperationException();}
&lt;p&gt;+      public Object remove(Object key) &lt;/p&gt;
{throw new UnsupportedOperationException();}&lt;br/&gt;
+      public Collection&amp;lt;Object&amp;gt; values() {throw new UnsupportedOperationException();}
&lt;p&gt;+    };&lt;br/&gt;
+  }&lt;/p&gt;


&lt;p&gt;I would still like to include these in the API.&lt;/p&gt;

</comment>
                            <comment id="12504462" author="ryantxu" created="Wed, 13 Jun 2007 23:32:04 +0100"  >&lt;p&gt;moved DocumentBuilder issues to &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-262&quot; title=&quot;convert SolrInputDocument to Document and Document to SolrDocument&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-262&quot;&gt;&lt;del&gt;SOLR-262&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12361944">SOLR-139</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12359575" name="SOLR-193-SimpleSolrDocument.patch" size="12082" author="ryantxu" created="Wed, 13 Jun 2007 09:01:22 +0100"/>
                            <attachment id="12359563" name="SOLR-193-SimpleSolrDocument.patch" size="14268" author="ryantxu" created="Wed, 13 Jun 2007 03:56:15 +0100"/>
                            <attachment id="12358797" name="SOLR-193-SolrDocument.patch" size="40748" author="ryantxu" created="Mon, 4 Jun 2007 05:16:40 +0100"/>
                            <attachment id="12356494" name="SOLR-193-SolrDocument.patch" size="40674" author="ryantxu" created="Mon, 30 Apr 2007 01:19:41 +0100"/>
                            <attachment id="12355740" name="SOLR-193-SolrDocument.patch" size="41159" author="ryantxu" created="Wed, 18 Apr 2007 10:57:12 +0100"/>
                            <attachment id="12353798" name="SOLR-193-SolrDocument.patch" size="41150" author="ryantxu" created="Tue, 20 Mar 2007 22:17:29 +0000"/>
                            <attachment id="12353725" name="SOLR-193-SolrDocument.patch" size="41268" author="ryantxu" created="Tue, 20 Mar 2007 10:42:03 +0000"/>
                            <attachment id="12353714" name="SOLR-193-SolrDocument.patch" size="39128" author="ryantxu" created="Tue, 20 Mar 2007 07:20:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 20 Mar 2007 16:43:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7394</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxstr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20989</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>