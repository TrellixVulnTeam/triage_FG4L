<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:17:16 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-1274/SOLR-1274.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-1274] Provide multiple output formats in extract-only mode for tika handler</title>
                <link>https://issues.apache.org/jira/browse/SOLR-1274</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;The proposed feature is to accept a URL parameter when using extract-only mode to specify an output format.  This parameter might just overload the existing &quot;ext.extract.only&quot; so that one can optionally specify a format, e.g. false|true|xml|text  where true and xml give the same response (i.e. xml remains the default)&lt;/p&gt;

&lt;p&gt;I had been assuming that I could choose among possible tika output&lt;br/&gt;
formats when using the extracting request handler in extract-only mode&lt;br/&gt;
as if from the CLI with the tika jar:&lt;/p&gt;

&lt;p&gt;   -x or --xml        Output XHTML content (default)&lt;br/&gt;
   -h or --html       Output HTML content&lt;br/&gt;
   -t or --text       Output plain text content&lt;br/&gt;
   -m or --metadata   Output only metadata&lt;/p&gt;

&lt;p&gt;However, looking at the docs and source, it seems that only the xml&lt;br/&gt;
option is available (hard-coded) in ExtractingDocumentLoader.java&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
serializer = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; XMLSerializer(writer, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; OutputFormat(&lt;span class=&quot;code-quote&quot;&gt;&quot;XML&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Providing at least a plain-text response seems to work if you change the serializer to a TextSerializer (org.apache.xml.serialize.TextSerializer).&lt;/p&gt;


</description>
                <environment></environment>
        <key id="12430269">SOLR-1274</key>
            <summary>Provide multiple output formats in extract-only mode for tika handler</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gsingers">Grant Ingersoll</assignee>
                                    <reporter username="pwolanin">Peter Wolanin</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Jul 2009 20:27:31 +0100</created>
                <updated>Thu, 2 May 2013 03:29:26 +0100</updated>
                            <resolved>Sat, 8 Aug 2009 02:39:33 +0100</resolved>
                                    <version>1.4</version>
                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12730475" author="pwolanin" created="Mon, 13 Jul 2009 20:29:14 +0100"  >&lt;p&gt;on solr-user Yonik Seeley suggests waiting until his current changes in &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-284&quot; title=&quot;Parsing Rich Document Types&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-284&quot;&gt;&lt;del&gt;SOLR-284&lt;/del&gt;&lt;/a&gt; are complete before starting on this issue.&lt;/p&gt;


&lt;p&gt;s&lt;/p&gt;</comment>
                            <comment id="12731291" author="noble.paul" created="Wed, 15 Jul 2009 06:59:35 +0100"  >&lt;p&gt;We are in the process of a release . New feature requests are not generally entertained. Shall we move it to 1.5 ?&lt;/p&gt;</comment>
                            <comment id="12731437" author="pwolanin" created="Wed, 15 Jul 2009 14:31:51 +0100"  >&lt;p&gt;A minimal version of this would be pretty trivial as far as features go, and I&apos;d thought Yonik was indicating on the e-mail list that it would be a reasonable follow on to his last patch in the linked issue.&lt;/p&gt;</comment>
                            <comment id="12738648" author="gsingers" created="Mon, 3 Aug 2009 23:35:14 +0100"  >&lt;p&gt;Peter, if you have a patch, please add, otherwise I will mark as 1.5.&lt;/p&gt;

&lt;p&gt;FWIW, I think the Serializer approach is likely to only work for XML and Text.  If you want HTML, etc., then we need to use a Transformer, which is what Tika CLI appears to be doing.&lt;/p&gt;</comment>
                            <comment id="12738771" author="pwolanin" created="Tue, 4 Aug 2009 03:42:52 +0100"  >&lt;p&gt;Here&apos;s a patch that&apos;s nearly there, but somehow I&apos;m missing something in how java behaves.  The param is getting picked up, but this line never evals as true, even when the param is parsed right:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (extractFormat == &lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;If I set it to&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I get the desired text-only output.&lt;/p&gt;</comment>
                            <comment id="12738793" author="otis" created="Tue, 4 Aug 2009 04:41:33 +0100"  >&lt;p&gt;Try:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;.equals(extractFormat)) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12738803" author="pwolanin" created="Tue, 4 Aug 2009 05:14:42 +0100"  >&lt;p&gt;Well, indeed - something like that works better.&lt;/p&gt;</comment>
                            <comment id="12740811" author="gsingers" created="Sat, 8 Aug 2009 02:39:33 +0100"  >&lt;p&gt;I committed this patch, plus a test for it.&lt;/p&gt;</comment>
                            <comment id="12775804" author="gsingers" created="Tue, 10 Nov 2009 15:52:10 +0000"  >&lt;p&gt;Bulk close for Solr 1.4&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12372848">SOLR-284</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12415449" name="SOLR-1274.patch" size="2562" author="pwolanin" created="Tue, 4 Aug 2009 05:14:42 +0100"/>
                            <attachment id="12415437" name="SOLR-1274.patch" size="2529" author="pwolanin" created="Tue, 4 Aug 2009 03:42:52 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 15 Jul 2009 05:59:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6373</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxm8v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19923</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>