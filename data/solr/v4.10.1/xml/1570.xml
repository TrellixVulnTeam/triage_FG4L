<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:20:31 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-1570/SOLR-1570.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-1570] Complain loudly if uniqueKey field is definied but not stored=true,multiValued=false</title>
                <link>https://issues.apache.org/jira/browse/SOLR-1570</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;When loading a new schema, Solr should log some &quot;SEVERE&quot; warnings if the schema uses a uniqueKey field, but that field/type don&apos;t match the expected needs of unieuqKey field for most functionality to work (stored=true, multiValued=false) ... that way people won&apos;t (have any reason to) be suprised when things break later)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12440966">SOLR-1570</key>
            <summary>Complain loudly if uniqueKey field is definied but not stored=true,multiValued=false</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="shalinmangar">Shalin Shekhar Mangar</assignee>
                                    <reporter username="hossman">Hoss Man</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Nov 2009 19:39:44 +0000</created>
                <updated>Fri, 27 Jul 2012 02:18:04 +0100</updated>
                            <resolved>Wed, 25 Nov 2009 20:48:57 +0000</resolved>
                                                    <fixVersion>1.5</fixVersion>
                    <fixVersion>3.1</fixVersion>
                    <fixVersion>4.0-ALPHA</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12779079" author="hossman" created="Tue, 17 Nov 2009 19:40:21 +0000"  >&lt;p&gt;recent example of confusion...&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://old.nabble.com/java.lang.NullPointerException-at-org.apache.solr.handler.component.QueryComponent.mergeIds%28QueryComponent.java%3A421%29-to26392614.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://old.nabble.com/java.lang.NullPointerException-at-org.apache.solr.handler.component.QueryComponent.mergeIds%28QueryComponent.java%3A421%29-to26392614.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12779678" author="lancenorskog" created="Wed, 18 Nov 2009 21:32:48 +0000"  >&lt;p&gt;Please do not require indexed=true. There are use cases where it is fine to have search terms that find a document, but searching by the ID is not needed. If there are a huge number of documents and only a few search terms per document, indexing the ID is a noticeable addition to the index file size.&lt;/p&gt;

&lt;p&gt;(These are situations where deduplication is not necessary.)&lt;/p&gt;</comment>
                            <comment id="12779699" author="hossman" created="Wed, 18 Nov 2009 22:34:21 +0000"  >&lt;p&gt;Lance: i wasn&apos;t suggesting that we required unieuqKey to be indexed, and shalin&apos;s patch doesn&apos;t do this ... my concern is merely that we log a an error &amp;#8211; if you know what you&apos;re doing and want to ignore that erorr then that&apos;s totally your choice.&lt;/p&gt;

&lt;p&gt;I&apos;m curious however: the only purpose for having a uniqueKey field in solr is the deduping and delete by id ... if you don&apos;t make your uniqueKey field indexed, then neither of those things are possible, so why bother using the &amp;lt;uniqueKey&amp;gt; declaration at all? ... you can still have an &apos;id&quot; field without using  &amp;lt;uniqueKey&amp;gt;, so maybe we should require uniqueKey to be indexed?&lt;/p&gt;

&lt;p&gt;Shalin: your patch looks good to me, except that it doesn&apos;t warn about the indexed=false case.&lt;/p&gt;</comment>
                            <comment id="12779887" author="shalinmangar" created="Thu, 19 Nov 2009 09:01:25 +0000"  >&lt;blockquote&gt;&lt;p&gt;Shalin: your patch looks good to me, except that it doesn&apos;t warn about the indexed=false case.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The getIndexedField method already does this but it throws an exception instead of logging a warning. Should we change that and allow un-indexed uniqueKeys (at least highlighting can still work)?&lt;/p&gt;</comment>
                            <comment id="12780135" author="hossman" created="Thu, 19 Nov 2009 16:33:25 +0000"  >&lt;blockquote&gt;&lt;p&gt;The getIndexedField method already does this but it throws an exception instead of logging a warning.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;OH ... right, missed that.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Should we change that and allow un-indexed uniqueKeys (at least highlighting can still work)?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I don&apos;t understand &amp;#8211; highlighting should work fine if you don&apos;t declare a uniqueKey (it just requires you to match up the highlighting sections by position instead of by key) so if we&apos;ve already been requiring that uniqueKey be indexed i&apos;m cool with leaving it that way.&lt;/p&gt;

&lt;p&gt;still interested in Lance&apos;s use cases though (ie: what advantage there is in declaring a field the unqiqueKey even if you aren&apos;t going to delete/update it that can&apos;t be gained just by having aa regular stored field named &quot;id&quot; or soemthing)&lt;/p&gt;</comment>
                            <comment id="12780136" author="hossman" created="Thu, 19 Nov 2009 16:34:41 +0000"  >&lt;p&gt;And FWIW: even if Lance has a really compelling reason, i think we should just commit this patch, resolve this issue, and open a new issue to make indexed=false ok since it&apos;s significantly different from this one&lt;/p&gt;</comment>
                            <comment id="12780838" author="lancenorskog" created="Fri, 20 Nov 2009 23:51:02 +0000"  >&lt;blockquote&gt;&lt;p&gt;the only purpose for having a uniqueKey field in solr is the deduping and delete by id&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;There&apos;s a third reason: integration with other data stores with a common id. The use case is to search by terms, get ids back, and do joins against another database. Some of these systems have very large data volumes and want to minimise indexing time and disk size.&lt;/p&gt;</comment>
                            <comment id="12780875" author="hossman" created="Sat, 21 Nov 2009 01:49:40 +0000"  >&lt;blockquote&gt;&lt;p&gt;There&apos;s a third reason: integration with other data stores with a common id.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I dont&apos; understand ... what you&apos;re describing makes total sense for why you want to put those ids into some &quot;myExternalId&quot; field in solr (as a stored field), but do you have any reason to put &quot;&amp;lt;uniqueKey&amp;gt;myExternalId&amp;lt;/uniqueKey&amp;gt;&quot; into your schema that doesn&apos;t already require &quot;myExternalId&quot; to be indexed ?&lt;/p&gt;

&lt;p&gt;you can put ids into solr w/o telling it their are uniqueKeys and still use them for external purposes ... my point was that the only reason to tell solr about them is for deduing and delete by Id &amp;#8211; both of which require that it be indexed.&lt;/p&gt;</comment>
                            <comment id="12782599" author="shalinmangar" created="Wed, 25 Nov 2009 20:20:53 +0000"  >&lt;blockquote&gt;&lt;p&gt;And FWIW: even if Lance has a really compelling reason, i think we should just commit this patch, resolve this issue, and open a new issue to make indexed=false ok since it&apos;s significantly different from this one&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;OK, I&apos;ll commit this soon.&lt;/p&gt;</comment>
                            <comment id="12782614" author="shalinmangar" created="Wed, 25 Nov 2009 20:48:57 +0000"  >&lt;p&gt;Committed revision 884263.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="12872699" author="hossman" created="Fri, 28 May 2010 00:14:58 +0100"  >
&lt;p&gt;Correcting Fix Version based on CHANGES.txt, see this thread for more details...&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/lucene-dev/201005.mbox/%3Calpine.DEB.1.10.1005251052040.24672@radix.cryptio.net%3E&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mail-archives.apache.org/mod_mbox/lucene-dev/201005.mbox/%3Calpine.DEB.1.10.1005251052040.24672@radix.cryptio.net%3E&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13013222" author="gsingers" created="Wed, 30 Mar 2011 16:45:54 +0100"  >&lt;p&gt;Bulk close for 3.1.0 release&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12600412">SOLR-3682</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12425330" name="SOLR-1570.patch" size="845" author="shalinmangar" created="Wed, 18 Nov 2009 10:29:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 18 Nov 2009 21:32:48 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6100</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxkh3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19636</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>