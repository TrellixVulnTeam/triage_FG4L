<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:17:04 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-1692/SOLR-1692.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-1692] CarrotClusteringEngine produce summary does nothing</title>
                <link>https://issues.apache.org/jira/browse/SOLR-1692</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;In the CarrotClusteringEngine, the produceSummary option does nothing, as the results of doing the highlighting are just ignored.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12444503">SOLR-1692</key>
            <summary>CarrotClusteringEngine produce summary does nothing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stanislaw.osinski">Stanislaw Osinski</assignee>
                                    <reporter username="gsingers">Grant Ingersoll</reporter>
                        <labels>
                    </labels>
                <created>Sat, 2 Jan 2010 17:11:32 +0000</created>
                <updated>Sun, 27 Nov 2011 12:39:00 +0000</updated>
                            <resolved>Wed, 3 Aug 2011 10:25:59 +0100</resolved>
                                                    <fixVersion>3.1</fixVersion>
                                    <component>contrib - Clustering</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12795873" author="gsingers" created="Sat, 2 Jan 2010 17:22:10 +0000"  >&lt;p&gt;The relevant lines are:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; snippet = getValue(doc, snippetField);
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (produceSummary == &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;) {
        docsHolder[0] = id.intValue();
        DocList docAsList = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DocSlice(0, 1, docsHolder, scores, 1, 1.0f);
        highligher.doHighlighting(docAsList, theQuery, req, snippetFieldAry);
      }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It seems like we do the highlighting but then don&apos;t use the result.  If I recall, we should use the result to then set the snippet value.&lt;/p&gt;</comment>
                            <comment id="12795914" author="stanislaw.osinski" created="Sat, 2 Jan 2010 20:29:18 +0000"  >&lt;p&gt;I&apos;ve had a quick look into this issue and have two questions to consider:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Where should the configuration of the highlighter we use for clustering come from? Should it be the same as for the regular Solr highlighting or should we allow a clustering-specific configuration? My intuition is that we should go with the former. Otherwise, we may lose the clear relationship between cluster labels and documents on the output, because the clusters will be generated based on a text that is different from what the user is going to see.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;What should we do if the highlighter is not able to generate a summary? One option is to use the full contents of the field. Alternatively, we could use N (configurable) first characters of the field. The answer to this really depends on the characteristics of the data we may get. If the total number of documents fed to Carrot2 doesn&apos;t exceed about a 1000, longer documents shouldn&apos;t be too much of a problem, so I&apos;d suggest the former option (use full field text).&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12795919" author="gsingers" created="Sat, 2 Jan 2010 21:02:27 +0000"  >&lt;blockquote&gt;&lt;p&gt;Where should the configuration of the highlighter we use for clustering come from?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;We have all the code hooked in for it already, we&apos;re just ignoring the output.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;What should we do if the highlighter is not able to generate a summary?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I think we can default to the full contents, which is what would be used if you don&apos;t specify produceSummary.  We can handle the char thing separately, I suppose.&lt;/p&gt;

&lt;p&gt;Would be great if, Carrot2 could also just use the analysis that Lucene/Solr produces, that way it would be much easier to configure stopwords, HTML stripping, etc.&lt;/p&gt;</comment>
                            <comment id="12795923" author="gsingers" created="Sat, 2 Jan 2010 21:52:43 +0000"  >&lt;p&gt;Fixes the bug, adds new parameter to specify the frag size when using the highlighter.&lt;/p&gt;</comment>
                            <comment id="12795925" author="stanislaw.osinski" created="Sat, 2 Jan 2010 22:36:57 +0000"  >&lt;blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Where should the configuration of the highlighter we use for clustering come from?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;We have all the code hooked in for it already, we&apos;re just ignoring the output.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;To avoid confusion and questions along the lines of &quot;why clusters don&apos;t match the (highlighted) documents I&apos;m seeing&quot;, I&apos;d suggest a slightly more elaborate scenario for the clustering highlighter configuration:&lt;/p&gt;

&lt;p&gt;1. If main Solr highlighting is disabled, use the clustering component&apos;s highlighter settings.&lt;br/&gt;
2. If main Solr highlighting is enabled, use the main highlighter&apos;s configuration as the defaults and let the clustering-specific highlighter configuration override the defaults.&lt;/p&gt;

&lt;p&gt;If we do it this way, we&apos;ll minimize the chances of users accidentally performing clustering on documents different (differently highlighted) than those they will see.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Would be great if, Carrot2 could also just use the analysis that Lucene/Solr produces, that way it would be much easier to configure stopwords, HTML stripping, etc.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This one would require some larger changes to Carrot2 internals. We do use Lucene infrastructure for preprocessing (currently for tokenization), but I can investigate if we can extend that further. A potential problem here is that very often the set of stopwords you use for document retrieval may not work equally well for clustering. I&apos;ve filed a &lt;a href=&quot;http://issues.carrot2.org/browse/CARROT-606&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Carrot2-specific issue&lt;/a&gt; for it and will try to come up with something.&lt;/p&gt;</comment>
                            <comment id="12872583" author="hossman" created="Thu, 27 May 2010 23:08:16 +0100"  >&lt;p&gt;Bulk updating 240 Solr issues to set the Fix Version to &quot;next&quot; per the process outlined in this email...&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/lucene-dev/201005.mbox/%3Calpine.DEB.1.10.1005251052040.24672@radix.cryptio.net%3E&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mail-archives.apache.org/mod_mbox/lucene-dev/201005.mbox/%3Calpine.DEB.1.10.1005251052040.24672@radix.cryptio.net%3E&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Selection criteria was &quot;Unresolved&quot; with a Fix Version of 1.5, 1.6, 3.1, or 4.0.  email notifications were suppressed.&lt;/p&gt;

&lt;p&gt;A unique token for finding these 240 issues in the future: hossversioncleanup20100527&lt;/p&gt;</comment>
                            <comment id="13043647" author="rcmuir" created="Fri, 3 Jun 2011 17:46:18 +0100"  >&lt;p&gt;Bulk move 3.2 -&amp;gt; 3.3&lt;/p&gt;</comment>
                            <comment id="13078615" author="dweiss" created="Wed, 3 Aug 2011 08:18:37 +0100"  >&lt;p&gt;Grant, what remains to be done with this issue? Can I help?&lt;/p&gt;</comment>
                            <comment id="13078632" author="stanislaw.osinski" created="Wed, 3 Aug 2011 08:57:54 +0100"  >&lt;p&gt;Looking at the code, the issue is resolved, summaries (from highlighter) are used for clustering when configured. I see there&apos;s no unit test for the feature though, so I can write one and resolve the issue.&lt;/p&gt;</comment>
                            <comment id="13078666" author="stanislaw.osinski" created="Wed, 3 Aug 2011 10:25:59 +0100"  >&lt;p&gt;This issue was really fixed for 3.1.0 and documented in CHANGES under that release. It doesn&apos;t make sense to complicate things further as I suggested in the discussion above, so resolving.&lt;/p&gt;</comment>
                            <comment id="13157890" author="thetaphi" created="Sun, 27 Nov 2011 12:39:00 +0000"  >&lt;p&gt;Bulk close after release of 3.1&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12429284" name="SOLR-1692.patch" size="7855" author="gsingers" created="Sat, 2 Jan 2010 21:52:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 2 Jan 2010 20:29:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5968</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxjrb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19520</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>