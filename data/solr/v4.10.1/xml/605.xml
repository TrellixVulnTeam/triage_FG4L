<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:22:05 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-605/SOLR-605.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-605] Programatically register SolrEventListeners</title>
                <link>https://issues.apache.org/jira/browse/SOLR-605</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Currently all eventListeners need to be registered via solrconfig.xml &amp;#8211; it would be nice to programatically register classes for these events too.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12399105">SOLR-605</key>
            <summary>Programatically register SolrEventListeners</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.png">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ryantxu">Ryan McKinley</assignee>
                                    <reporter username="ryantxu">Ryan McKinley</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Jun 2008 19:08:54 +0100</created>
                <updated>Fri, 10 May 2013 11:41:06 +0100</updated>
                            <resolved>Mon, 7 Jul 2008 19:04:34 +0100</resolved>
                                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12608533" author="ryantxu" created="Thu, 26 Jun 2008 19:11:08 +0100"  >&lt;p&gt;this adds &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
UpdateHandler.java:
  void registerCommitCallback( SolrEventListener listener )
  void registerOptimizeCallback( SolrEventListener listener )

SolrCore.java:
  void registerFirstSearcherListener( SolrEventListener listener )
  void registerNewSearcherListener( SolrEventListener listener )

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12609007" author="noble.paul" created="Sat, 28 Jun 2008 13:45:18 +0100"  >&lt;p&gt;add a method to register response writer&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;SolrCore.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void registerResponseWriter(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; name, QueryResponseWriter writer)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12609062" author="noble.paul" created="Sun, 29 Jun 2008 07:07:48 +0100"  >&lt;p&gt;registerResponseWriter() method added to SolrCore&lt;/p&gt;</comment>
                            <comment id="12611272" author="yseeley@gmail.com" created="Mon, 7 Jul 2008 19:40:03 +0100"  >&lt;p&gt;I think there may be some thread safety issues here wrt commitCallbacks and optimizeCallbacks that could result in a concurrent modification exception if these new APIs are used concurrently with indexing.&lt;/p&gt;</comment>
                            <comment id="12611296" author="ryantxu" created="Mon, 7 Jul 2008 20:17:10 +0100"  >&lt;p&gt;true &amp;#8211; likewise with &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-619&quot; title=&quot;Register copyField at runtime&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-619&quot;&gt;&lt;del&gt;SOLR-619&lt;/del&gt;&lt;/a&gt; &amp;#8211; however all these calls will be safe within inform( SolrCore ) for SolrCoreAware classes.&lt;/p&gt;

&lt;p&gt;Options I see:&lt;br/&gt;
1. add javadoc comments saying &quot;not threadsafe, intended for use in inform()&quot;&lt;br/&gt;
2. change implementations from HashMap -&amp;gt; ConcurrentHashMap &amp;amp; List -&amp;gt; Collections.synchronized()&lt;br/&gt;
3. (bad) remove the functionality&lt;/p&gt;

&lt;p&gt;Is there any way for an arbitrary thread (say in a RequestHandler) to block indexing?  If so, this could be offered as an option in addition to #1 for the rare event where you need to modify the listeners/schema after startup.&lt;/p&gt;

</comment>
                            <comment id="12611306" author="yseeley@gmail.com" created="Mon, 7 Jul 2008 20:41:03 +0100"  >&lt;blockquote&gt;&lt;p&gt;1. add javadoc comments saying &quot;not threadsafe, intended for use in inform()&quot;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Since these are new methods, I think this is probably the right approach.  It allows extensions to modify the schema w/o opening up the can of worms of a mutable IndexSchema.&lt;/p&gt;</comment>
                            <comment id="12611321" author="ryantxu" created="Mon, 7 Jul 2008 21:24:26 +0100"  >&lt;blockquote&gt;&lt;p&gt;w/o opening up the can of worms of a mutable IndexSchema&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;m afraid that can of worms has been open (at least) since solr 1.1&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;,SchemaField&amp;gt; getFields() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; fields; }
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;,FieldType&amp;gt; getFieldTypes() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; fieldTypes; }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12611328" author="yseeley@gmail.com" created="Mon, 7 Jul 2008 21:29:47 +0100"  >&lt;blockquote&gt;&lt;p&gt;I&apos;m afraid that can of worms has been open (at least) since solr 1.1&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Nah... just the lack of javadoc that they shouldn&apos;t be modified.&lt;/p&gt;</comment>
                            <comment id="12611333" author="ryantxu" created="Mon, 7 Jul 2008 21:38:37 +0100"  >&lt;p&gt;check the &lt;a href=&quot;http://lucene.apache.org/solr/api/org/apache/solr/schema/IndexSchema.html#getFieldTypes()&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;existing javadocs&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;panelContent&quot;&gt;
&lt;p&gt;Provides direct access to the Map containing all Field Types in the index, keyed on fild type name.&lt;/p&gt;

&lt;p&gt;Modifying this Map (or any item in it) will affect the real schema &lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12611334" author="ryantxu" created="Mon, 7 Jul 2008 21:40:01 +0100"  >&lt;p&gt;but yes, I agree &amp;#8211; these just need more clarification &lt;b&gt;when&lt;/b&gt; you can modify them&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12395304">SOLR-561</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12384776" name="SOLR-605-RegisterEventListeners.patch" size="1440" author="ryantxu" created="Thu, 26 Jun 2008 19:11:08 +0100"/>
                            <attachment id="12384902" name="SOLR-605.patch" size="1593" author="noble.paul" created="Sun, 29 Jun 2008 07:07:48 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 28 Jun 2008 12:45:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7004</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxqbj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20583</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>