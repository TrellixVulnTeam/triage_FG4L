<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:17:14 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-612/SOLR-612.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-612] solrj should (optionally?) use POST for queries</title>
                <link>https://issues.apache.org/jira/browse/SOLR-612</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Can we make solrj always send post queries (or have it be an init-able option)? &lt;/p&gt;

&lt;p&gt;Jetty has some &quot;problems&quot; (in quotes because I don&apos;t know if it&apos;s really a problem) with long queries over GET:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.mail-archive.com/solr-user@lucene.apache.org/msg09457.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.mail-archive.com/solr-user@lucene.apache.org/msg09457.html&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/lucene-solr-user/200804.mbox/%3C47F50996.80705@umich.edu%3E&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mail-archives.apache.org/mod_mbox/lucene-solr-user/200804.mbox/%3C47F50996.80705@umich.edu%3E&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tiny patch attached that changes it and doesn&apos;t cause an exception on long queries in Jetty w/ solrj.&lt;/p&gt;
</description>
                <environment>&lt;p&gt;all&lt;/p&gt;</environment>
        <key id="12399223">SOLR-612</key>
            <summary>solrj should (optionally?) use POST for queries</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bwhitman">Brian Whitman</reporter>
                        <labels>
                    </labels>
                <created>Sat, 28 Jun 2008 19:57:51 +0100</created>
                <updated>Fri, 10 May 2013 11:40:31 +0100</updated>
                            <resolved>Mon, 21 Jul 2008 23:57:02 +0100</resolved>
                                    <version>1.3</version>
                                    <fixVersion>1.3</fixVersion>
                                    <component>clients - java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12609034" author="bwhitman" created="Sat, 28 Jun 2008 19:58:35 +0100"  >&lt;p&gt;patch&lt;/p&gt;</comment>
                            <comment id="12609418" author="larsko" created="Tue, 1 Jul 2008 02:27:37 +0100"  >&lt;p&gt;Linking this issue to &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-443&quot; title=&quot;POST queries don&amp;#39;t declare its charset&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-443&quot;&gt;&lt;del&gt;SOLR-443&lt;/del&gt;&lt;/a&gt; as changing from GET to POST has some rather nasty implications with regards to charsets.&lt;/p&gt;</comment>
                            <comment id="12612555" author="yseeley@gmail.com" created="Thu, 10 Jul 2008 17:17:01 +0100"  >&lt;p&gt;There are a number of advantages to GET I think... you can see the URLs in the servlet container logs, it&apos;s explicitly read-only, etc.&lt;br/&gt;
People can already use POST by setting the method on SolrRequest object.&lt;br/&gt;
Should we really change the default?&lt;/p&gt;</comment>
                            <comment id="12612560" author="bwhitman" created="Thu, 10 Jul 2008 17:32:44 +0100"  >&lt;p&gt;Well then maybe I just don&apos;t understand how to do it right &amp;#8211; how do I tell solrj to use post, for this example:&lt;/p&gt;

&lt;p&gt;SolrServer s = new CommonsHttpSolrServer(&quot;http://localhost:8983/solr&quot;);&lt;br/&gt;
SolrQuery q = new SolrQuery();&lt;br/&gt;
q.setQuery(&quot;type:dog&quot;);&lt;br/&gt;
QueryResponse qr = s.query(q);&lt;/p&gt;

&lt;p&gt;Where in there would I set SolrRequest to use POST?&lt;/p&gt;
</comment>
                            <comment id="12612563" author="yseeley@gmail.com" created="Thu, 10 Jul 2008 17:44:35 +0100"  >&lt;p&gt;Hmmm, I guess with .query() you can&apos;t.  I was looking at .request() which takes a SolrRequest which has a setMethod() on it.&lt;/p&gt;

&lt;p&gt;Perhaps we should add a setter on CommonsHttpSolrServer that can override the &quot;GET&quot; of any SolrRequest and change it to &quot;POST&quot;?&lt;/p&gt;</comment>
                            <comment id="12612747" author="larsko" created="Fri, 11 Jul 2008 05:07:05 +0100"  >&lt;p&gt;IMHO the request method is a property of the request, not the server. Unfortunately it&apos;s not really feasible to add the method as an attribute to the request, as it&apos;s a subclass of SolrParams.&lt;/p&gt;

&lt;p&gt;I&apos;m attaching a patch which adds a second query() method to SolrServer which takes the request method as the second argument. This way the method can be switched per call to query(), without having to change query or server object.&lt;/p&gt;</comment>
                            <comment id="12612869" author="yseeley@gmail.com" created="Fri, 11 Jul 2008 14:24:27 +0100"  >&lt;blockquote&gt;&lt;p&gt;I&apos;m attaching a patch which adds a second query() method to SolrServer which takes the request method as the second argument.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Shouldn&apos;t that be specific to an HTTP server?&lt;/p&gt;</comment>
                            <comment id="12612871" author="larsko" created="Fri, 11 Jul 2008 14:38:17 +0100"  >&lt;p&gt;Ah, good point. Yes, this should probably be moved to the http server implementation. SolrServer just occured to me as the most obvious place since the query() method is defined there.&lt;/p&gt;

&lt;p&gt;Incidentally, would it make sense to keep the second query method there but generalise the request method? Something to specify non-solr parameters with a request in general.&lt;/p&gt;</comment>
                            <comment id="12613523" author="larsko" created="Tue, 15 Jul 2008 05:49:10 +0100"  >&lt;p&gt;After having had a closer look at the code, I don&apos;t think that the query method which takes a METHOD as an argument should be specific to the HTTP server implementation &amp;#8211; METHOD is defined in SolrRequest, i.e. it&apos;s not specific to HTTP requests. It looks like METHOD was really meant to provide a general way of passing non-solr parameters to requests.&lt;/p&gt;

&lt;p&gt;If we decided that the METHOD is really just HTTP specific and shouldn&apos;t be in the general request class &amp;#8211; it&apos;s used nowhere but in the HTTP server &amp;#8211; then a significant amount of refactoring will be necessary to implement everything properly. One way to do this would be to introduce a new interface, HttpParameters, and have a subclass for each type of request implement that interface. Then change the HTTP server implementation to only work with requests which implement that interface. This is probably big enough to be handled in a different issue though.&lt;/p&gt;

&lt;p&gt;Alternatively the METHOD could be moved to the HTTP server implementation, making it a property of the server and not of the request. I don&apos;t like that option though because different requests have different defaults for the METHOD (e.g. update requests POST, query requests GET) and moving this information requires the server to know how to handle which type of request.&lt;/p&gt;</comment>
                            <comment id="12615457" author="yseeley@gmail.com" created="Mon, 21 Jul 2008 23:57:02 +0100"  >&lt;p&gt;Lars, I&apos;ve committed your version.&lt;br/&gt;
Thanks guys!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12385100">SOLR-443</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12385829" name="SOLR-612.patch" size="1689" author="larsko" created="Fri, 11 Jul 2008 05:07:05 +0100"/>
                            <attachment id="12384894" name="solrj-post.diff" size="605" author="bwhitman" created="Sat, 28 Jun 2008 19:58:35 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 1 Jul 2008 01:27:37 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6998</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxq9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20576</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>