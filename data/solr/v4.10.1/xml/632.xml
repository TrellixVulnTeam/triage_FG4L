<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:22:34 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-632/SOLR-632.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-632] Upgrade bundled Jetty with latest from vendor</title>
                <link>https://issues.apache.org/jira/browse/SOLR-632</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;The Jetty that is bundled for the example application is version 6.1.3, which is over a year old.&lt;/p&gt;

&lt;p&gt;We should upgrade Jetty to the latest, 6.1.11.&lt;/p&gt;

&lt;p&gt;I am not sure how to attach a patch to remove files, so these are the steps :&lt;/p&gt;

&lt;p&gt;Using as base the root of &apos;apache-solr-nightly&apos;:&lt;/p&gt;

&lt;p&gt;DELETE:&lt;br/&gt;
example/lib/jetty-6.1.3.jar&lt;br/&gt;
example/lib/jetty-util-6.1.3.jar&lt;br/&gt;
example/lib/servlet-api-2.5-6.1.3.jar&lt;/p&gt;

&lt;p&gt;ADD&lt;br/&gt;
example/lib/jetty-6.1.11.jar&lt;br/&gt;
example/lib/jetty-util-6.1.11.jar&lt;br/&gt;
example/lib/servlet-api-2.5-6.1.11.jar&lt;/p&gt;

&lt;p&gt;&amp;#8212;&lt;br/&gt;
The files to be added can be found in Jetty&apos;s binary distribution file :&lt;br/&gt;
&lt;a href=&quot;http://dist.codehaus.org/jetty/jetty-6.1.11/jetty-6.1.11.zip&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dist.codehaus.org/jetty/jetty-6.1.11/jetty-6.1.11.zip&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I couldn&apos;t find any noticeable changes in jetty.xml that should be carried over.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12400268">SOLR-632</key>
            <summary>Upgrade bundled Jetty with latest from vendor</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="markrmiller@gmail.com">Mark Miller</assignee>
                                    <reporter username="numard">Beto Meijome</reporter>
                        <labels>
                    </labels>
                <created>Tue, 15 Jul 2008 01:43:39 +0100</created>
                <updated>Mon, 12 Apr 2010 18:38:53 +0100</updated>
                            <resolved>Mon, 12 Apr 2010 18:38:53 +0100</resolved>
                                    <version>1.3</version>
                                                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                    <timeoriginalestimate seconds="900">0.25h</timeoriginalestimate>
                            <timeestimate seconds="900">0.25h</timeestimate>
                                        <comments>
                            <comment id="12613501" author="numard" created="Tue, 15 Jul 2008 01:47:42 +0100"  >&lt;p&gt;i think is best if someone with write access to svn simply gets the files from mortbay.org and checks it in... i can always attach the files to the issue, but then you&apos;d still want to verify its checksum....&lt;/p&gt;</comment>
                            <comment id="12614144" author="ehatcher" created="Thu, 17 Jul 2008 00:06:05 +0100"  >&lt;p&gt;Norberto - thanks for testing this out.   I&apos;ve upgraded and tested things out and the basics seem fine.  Committed.   &lt;/p&gt;</comment>
                            <comment id="12614233" author="numard" created="Thu, 17 Jul 2008 07:02:32 +0100"  >&lt;p&gt;On Wed, 16 Jul 2008 16:07:31 -0700 (PDT)&lt;/p&gt;


&lt;p&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; my pleasure to be of some small help &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;_________________________&lt;/p&gt;
{Beto|Norberto|Numard}
&lt;p&gt; Meijome&lt;/p&gt;

&lt;p&gt;Windows caters to everyone as though they are idiots. UNIX makes no such assumption. It assumes you know what you are doing, and presents the challenge of figuring  it out for yourself if you don&apos;t.&lt;/p&gt;

&lt;p&gt;I speak for myself, not my employer. Contents may be hot. Slippery when wet. Reading disclaimers makes you go blind. Writing them is worse. You have been Warned.&lt;/p&gt;</comment>
                            <comment id="12614482" author="hossman" created="Thu, 17 Jul 2008 19:40:49 +0100"  >&lt;p&gt;Note: upgrading jetty seems to have broken a cache header related test...&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Solr-trunk/501/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hudson.zones.apache.org/hudson/job/Solr-trunk/501/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;anybody have any idea why this would happen?&lt;/p&gt;</comment>
                            <comment id="12614494" author="ehatcher" created="Thu, 17 Jul 2008 19:57:38 +0100"  >&lt;p&gt;weird - looking into it now.&lt;/p&gt;

&lt;p&gt;i coulda swore i ran &quot;ant clean test&quot; last night successfully before committing.  though i now too see the failure locally.   sorry... more soon.&lt;/p&gt;</comment>
                            <comment id="12614523" author="ehatcher" created="Thu, 17 Jul 2008 21:32:55 +0100"  >&lt;p&gt;In debugging this, I clearly saw the Cache-Control header being set in HttpCacheHeaderUtil#checkHttpCachingVeto, but it totally disappears by the time it gets to CacheHeaderTest#checkVetoHeaders.   The Pragma and ETag come out as expected, but not so with Cache-Control.&lt;/p&gt;

&lt;p&gt;A bug in Jetty?    &lt;b&gt;shrugs&lt;/b&gt;   Sure seems like it.   Would love for someone with time on their hands to track this down and possibly report to the Jetty community.&lt;/p&gt;

&lt;p&gt;I&apos;m punting for now and reverting back to 6.1.3.  &lt;/p&gt;
</comment>
                            <comment id="12614649" author="larsko" created="Fri, 18 Jul 2008 06:22:56 +0100"  >&lt;p&gt;Jetty explicitely removes all headers related to caching (except pragma) when calling sendError() from SVN version 1917. I think that removing the headers is a sensible thing to do, as they could instruct a cache to store the error message.&lt;/p&gt;

&lt;p&gt;I&apos;ve filed a Jetty issue to set the Cache-Control header to explicitely prohibit caching (&lt;a href=&quot;https://jira.codehaus.org/browse/JETTY-646&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://jira.codehaus.org/browse/JETTY-646&lt;/a&gt;). If we want to get the new Jetty version in with the 1.3 release then it&apos;s probably best to change the failing unit test to verify that at least no header instructing any caches to store the reply is set. OTOH, having Jetty change the headers on its own is probably going to require some changes to the HTTP caching code.&lt;/p&gt;</comment>
                            <comment id="12614656" author="numard" created="Fri, 18 Jul 2008 07:37:32 +0100"  >&lt;p&gt;LK&amp;gt;Jetty explicitely removes all headers related to caching (except pragma) when calling sendError() from SVN version 1917. I think that &lt;br/&gt;
LK&amp;gt; removing the headers is a sensible thing to do, as they could instruct a cache to store the error message.&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;LK&amp;gt; I&apos;ve filed a Jetty issue to set the Cache-Control header to explicitely prohibit caching (&lt;a href=&quot;https://jira.codehaus.org/browse/JETTY-646&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://jira.codehaus.org/browse/JETTY-646&lt;/a&gt;). If we want &lt;br/&gt;
LK&amp;gt; to get the new Jetty version in with the 1.3 release then it&apos;s probably best to change the failing unit test to verify that at least no header &lt;br/&gt;
LK&amp;gt; instructing any caches to store the reply is set.&lt;/p&gt;

&lt;p&gt;makes sense to me.&lt;/p&gt;

&lt;p&gt;LK&amp;gt; OTOH, having Jetty change the headers on its own is probably going to require some &lt;br/&gt;
LK&amp;gt; changes to the HTTP caching code.&lt;/p&gt;

&lt;p&gt;Is cache-control compulsory? if not, Jetty isnt&apos; really breaking anything by not including it, and not really that high priority for Jetty -  although having cache-control prohibiting cache would be a more proper approach.&lt;/p&gt;</comment>
                            <comment id="12614657" author="larsko" created="Fri, 18 Jul 2008 07:41:44 +0100"  >&lt;blockquote&gt;&lt;p&gt;Is cache-control compulsory?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;No.&lt;/p&gt;</comment>
                            <comment id="12616358" author="larsko" created="Thu, 24 Jul 2008 07:50:41 +0100"  >&lt;p&gt;The Jetty issue has been resolved; the changes will be in version 6.1.12.&lt;/p&gt;</comment>
                            <comment id="12618257" author="shalinmangar" created="Wed, 30 Jul 2008 09:53:28 +0100"  >&lt;p&gt;Are we still targeting this to be in Solr 1.3 ? Is there an easy workaround for the test?&lt;/p&gt;

&lt;p&gt;Seems like 6.1.12 will take time (the RC1 was released today)&lt;br/&gt;
&lt;a href=&quot;http://www.nabble.com/Jetty-6.1.12-rc1-Available!-ts18721171.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.nabble.com/Jetty-6.1.12-rc1-Available!-ts18721171.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12618260" author="larsko" created="Wed, 30 Jul 2008 10:04:20 +0100"  >&lt;p&gt;The only workaround is to disable the test &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Switching to 6.1.11 means that for anybody using Solr with something that does HTTP caching error messages might be cached. In practice it&apos;s probably not a big deal, as most caching configurations don&apos;t cache non-200 responses anyway.&lt;/p&gt;

&lt;p&gt;This could have a negative impact if the cache is instructed to store everything that doesn&apos;t explicitely allow caching and the time content is cached is very long or an error occurs only for a short time and more or less fixes itself.&lt;/p&gt;</comment>
                            <comment id="12618674" author="numard" created="Thu, 31 Jul 2008 14:34:48 +0100"  >&lt;p&gt;If Jetty 6.1.11 may cause more problems than 6.1.3, then let&apos;s leave 6.1.3 in the default distribution - we can always add a quick wiki page on what to change to upgrade the bundled jetty , with the caveats of the issues discovered in this bug.&lt;/p&gt;

&lt;p&gt;-1 to 6.1.11 then &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12618793" author="ehatcher" created="Thu, 31 Jul 2008 19:26:46 +0100"  >&lt;p&gt;Yeah, we&apos;ll just sit on this issue until the new Jetty comes out in final form.  No big deal.... things work as-is and most importantly the Jetty container is &quot;just an example&quot; anyway.  If users want to deploy in another container, that&apos;s perfectly acceptable.&lt;/p&gt;</comment>
                            <comment id="12618796" author="ehatcher" created="Thu, 31 Jul 2008 19:27:43 +0100"  >&lt;p&gt;This won&apos;t be tackled for 1.3.&lt;/p&gt;</comment>
                            <comment id="12848332" author="markrmiller@gmail.com" created="Mon, 22 Mar 2010 21:02:10 +0000"  >&lt;p&gt;I&apos;m trying out this upgrade (to 6.1.22) on newtrunk - seems like a nice time to get this done&lt;/p&gt;</comment>
                            <comment id="12856073" author="markrmiller@gmail.com" created="Mon, 12 Apr 2010 18:38:53 +0100"  >&lt;p&gt;I&apos;m going to call this done - we are now on 6.1.22 - though now 6.1.23 is out &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12437184">SOLR-1489</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 16 Jul 2008 23:06:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6980</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxq5j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20556</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>