<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:15:25 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-199/SOLR-199.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-199] N-gram</title>
                <link>https://issues.apache.org/jira/browse/SOLR-199</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;This tracks the creation of a patch that adds the n-gram/edge n-gram tokenizing functionality that was initially part of &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-81&quot; title=&quot;Add Query Spellchecker functionality&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-81&quot;&gt;&lt;del&gt;SOLR-81&lt;/del&gt;&lt;/a&gt; (spell checking). This was taken out b/c the lucene SpellChecker class removed this dependency. None-the-less, I think this is useful functionality and the addition is trivial. How does everyone feel about such an addition?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12366072">SOLR-199</key>
            <summary>N-gram</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.png">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="adamh">Adam Hiatt</reporter>
                        <labels>
                    </labels>
                <created>Thu, 29 Mar 2007 00:52:58 +0100</created>
                <updated>Wed, 16 Apr 2008 00:44:43 +0100</updated>
                            <resolved>Mon, 21 May 2007 19:18:08 +0100</resolved>
                                                    <fixVersion>1.2</fixVersion>
                                    <component>search</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="12485031" author="adamh" created="Thu, 29 Mar 2007 01:02:28 +0100"  >&lt;p&gt;Here is the patch.&lt;/p&gt;</comment>
                            <comment id="12485065" author="otis" created="Thu, 29 Mar 2007 05:21:29 +0100"  >&lt;p&gt;While I was the one who started that n-gram approach, and while I&apos;m saving code and config changes from that work &quot;just in case&quot;, I&apos;m not sure why we&apos;d add it to Solr at this point, if nothing is going to use it.  I&apos;d say keep the patch here, so one can easily put that back into Solr when a need arises, but don&apos;t commit it unless there is some immediate need.  Do you have something that needs the n-gram stuff in Solr?&lt;/p&gt;</comment>
                            <comment id="12485251" author="adamh" created="Thu, 29 Mar 2007 17:57:01 +0100"  >&lt;p&gt;I do in fact have a need. I am creating an edge n-gram index to provide auto-complete functionality. This doesn&apos;t require the regular n-gram factory, but I put it in the patch as well. Furthermore, I am also planning to create a alternative spellchecker that does what you wanted to do initially (ie have a single spellchecking index). This would of course require n-gramming functionality. &lt;/p&gt;</comment>
                            <comment id="12491023" author="yseeley@gmail.com" created="Mon, 23 Apr 2007 19:59:14 +0100"  >&lt;p&gt;Since there is no impact or even memory overhead if unused, and just a teeny bit of disk overhead, this patch looks fine to me.&lt;/p&gt;</comment>
                            <comment id="12491647" author="yseeley@gmail.com" created="Wed, 25 Apr 2007 14:50:23 +0100"  >&lt;p&gt;This patch does rely on analyzers.jar from lucene contrib.  No reason that jar shouldn&apos;t be part of Solr, but it needs a version after Lucene 2.1&lt;/p&gt;</comment>
                            <comment id="12492078" author="adamh" created="Thu, 26 Apr 2007 19:05:12 +0100"  >&lt;p&gt;Were you imagining that it just be included and that the users must use include a lucene 2.2+ analyzers jar themselves?&lt;/p&gt;</comment>
                            <comment id="12492096" author="otis" created="Thu, 26 Apr 2007 20:08:20 +0100"  >&lt;p&gt;Adam, I think Yonik is just saying that the n-gram stuff I added to Lucene&apos;s contrib/analyzers was added after 2.1 was released, so we&apos;d need a version of that jar from the trunk at this time.  I see mentions of Solr 1.2, so perhaps we can grab the 2.2-dev version of that jar and add it to Solr starting with release 1.2?&lt;/p&gt;

&lt;p&gt;Question: How will the spellchecker you are writing or considering writing going to be different/better than the one in contrib/spellchecker?&lt;/p&gt;</comment>
                            <comment id="12492106" author="adamh" created="Thu, 26 Apr 2007 21:20:45 +0100"  >&lt;p&gt;Quoted:&lt;br/&gt;
Adam, I think Yonik is just saying that the n-gram stuff I added to Lucene&apos;s contrib/analyzers was added after 2.1 was released, so we&apos;d need a version of that jar from the trunk at this time. I see mentions of Solr 1.2, so perhaps we can grab the 2.2-dev version of that jar and add it to Solr starting with release 1.2?&lt;/p&gt;

&lt;p&gt;Understood. I talked with Yonik and he mentioned possibly upgrading to a lucene 2.2-dev in the future. I&apos;m not sure he intended that to happen in time for solr 1.2 however. I suppose if it came to it, we could probably use the analyzers 2.2-dev with 2.1 core. I&apos;m guessing the API was stable, but I&apos;m not sure if we want to complicate things that much.&lt;/p&gt;

&lt;p&gt;Quoted:&lt;br/&gt;
Question: How will the spellchecker you are writing or considering writing going to be different/better than the one in contrib/spellchecker? &lt;/p&gt;

&lt;p&gt;The initial use case was actually to support autocomplete functionality. IE using the start n-gramming functionality to build tokens that we can match term fragments upon. &lt;/p&gt;

&lt;p&gt;However, I do still plan to write a native Solr spell checker based on this same patch sometime in the future. The major improvements with a native system are several fold. First, it allows for truly native use of a Solr-configurable lucene index. Second, we will be able to take advantage of native Solr caching. Third, we will be able to boost on arbitrary aspects. For example, take the misspelling &apos;ipad&apos; and the indexed terms &apos;ipod&apos; and &apos;ipaq&apos;. Both the indexed terms are the same edit distance away from the misspelling. They also have the same number of 2 grams (though not 3 grams). If find that &apos;ipod&apos; is the more valuable term we can boost slightly based on its popularity and draw out ahead. The final big win is the ability to spell check on individual input tokens. For example, assume that we have the term &apos;ipod&apos; indexed in our spell checker, but not the term &apos;apple ipod&apos; and the misspelling &apos;apple ipdo&apos; is entered. The overlap between &apos;ipod&apos; and &apos;apple ipdo&apos; is slight enough to not warrant a suggestion. However if we tokenize on white space and spell correct on each token we would be able to catch the &apos;ipdo&apos; misspelling. I&apos;m sure there are other use cases, but those are the ones that I&apos;ve identified.&lt;/p&gt;
</comment>
                            <comment id="12492375" author="otis" created="Fri, 27 Apr 2007 20:24:02 +0100"  >&lt;p&gt;+1 for getting this stuff into Solr then.  I imagine the patch is mostly what was in some of the &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-81&quot; title=&quot;Add Query Spellchecker functionality&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-81&quot;&gt;&lt;del&gt;SOLR-81&lt;/del&gt;&lt;/a&gt; patches.&lt;br/&gt;
I think I saw Yonik mentioning cleaning up either solrconfig or schema, so that&apos;s something to keep in mind when applying this patch.&lt;/p&gt;</comment>
                            <comment id="12492947" author="hossman" created="Tue, 1 May 2007 22:00:57 +0100"  >&lt;p&gt;NGramTokenizerFactory is refering to constants from, and constructing an instance of, EdgeNGramTokenizer&lt;/p&gt;

&lt;p&gt;I&apos;m also not crazy about some of the utilities being added to BaseTokenizerFactory .. at a minimum they need better names (like getStringArg) but i&apos;m not really clear on what this is suppose to mean at all...&lt;/p&gt;

&lt;p&gt;           protected int getInt(String name, int defaultVal, boolean useDefault)&lt;/p&gt;

&lt;p&gt;...if i don&apos;t want to use the default, then what am i suppose to pass as the defaultVal?&lt;/p&gt;

&lt;p&gt;how about if we don&apos;t make any changes to BaseTokenizerFactory and just let subclasses that want convenience methods for dealing with args use MapSolrParams and the methods it supports?&lt;/p&gt;</comment>
                            <comment id="12492948" author="adamh" created="Tue, 1 May 2007 22:09:18 +0100"  >&lt;p&gt;I&apos;ll make those changes. I agree that we don&apos;t want bloated base classes.&lt;/p&gt;

&lt;p&gt;&amp;gt; NGramTokenizerFactory is refering to constants from, and constructing an instance of, EdgeNGramTokenizer &lt;br/&gt;
Are you saying that this worries you b/c it is referenced in the example schema and will thus break without the lucene-analyzers package? I do agree that this example should probably be taken out for the time being (at the least).&lt;/p&gt;</comment>
                            <comment id="12492962" author="adamh" created="Tue, 1 May 2007 22:50:53 +0100"  >&lt;p&gt;This is the new patch, not just cut out of &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-81&quot; title=&quot;Add Query Spellchecker functionality&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-81&quot;&gt;&lt;del&gt;SOLR-81&lt;/del&gt;&lt;/a&gt;...&lt;/p&gt;

&lt;p&gt;I removed references to the Base class and fixed the edge n-gram bug.&lt;/p&gt;</comment>
                            <comment id="12497530" author="yseeley@gmail.com" created="Mon, 21 May 2007 19:18:08 +0100"  >&lt;p&gt;Thanks Adam, I just committed this.&lt;/p&gt;</comment>
                            <comment id="12589302" author="hossman" created="Wed, 16 Apr 2008 00:44:43 +0100"  >&lt;p&gt;This bug was modified as part of a bulk update using the criteria...&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Marked (&quot;Resolved&quot; or &quot;Closed&quot;) and &quot;Fixed&quot;&lt;/li&gt;
	&lt;li&gt;Had no &quot;Fix Version&quot; versions&lt;/li&gt;
	&lt;li&gt;Was listed in the CHANGES.txt for 1.2&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The Fix Version for all 39 issues found was set to 1.2, email notification&lt;br/&gt;
was suppressed to prevent excessive email.&lt;/p&gt;

&lt;p&gt;For a list of all the issues modified, search jira comments for this&lt;br/&gt;
(hopefully) unique string: 20080415hossman2&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12356578" name="SOLR-199-n-gram.patch" size="4614" author="adamh" created="Tue, 1 May 2007 22:50:53 +0100"/>
                            <attachment id="12354473" name="SOLR-81-ngram.patch" size="5313" author="adamh" created="Thu, 29 Mar 2007 01:02:28 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 29 Mar 2007 04:21:29 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7388</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxssf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20983</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>