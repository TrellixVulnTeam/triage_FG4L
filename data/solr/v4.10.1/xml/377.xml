<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:25:25 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-377/SOLR-377.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-377] speed increase for writers</title>
                <link>https://issues.apache.org/jira/browse/SOLR-377</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;When solr is writing the response of large cached documents, the bottleneck is string encoding.&lt;br/&gt;
a buffered writer implementation that doesn&apos;t do any synchronization could offer some good speedups.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12380102">SOLR-377</key>
            <summary>speed increase for writers</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="yseeley@gmail.com">Yonik Seeley</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 Oct 2007 19:11:29 +0100</created>
                <updated>Fri, 10 May 2013 11:39:55 +0100</updated>
                            <resolved>Sun, 14 Oct 2007 19:39:37 +0100</resolved>
                                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12533827" author="yseeley@gmail.com" created="Wed, 10 Oct 2007 19:22:53 +0100"  >&lt;p&gt;attaching patch... adds an optimized unsynchronized buffered writer, changes some ResponseWriters use of strings to characters, removes buffering of string in JSON, etc.&lt;/p&gt;

&lt;p&gt;Speed differences with &lt;b&gt;very&lt;/b&gt; large documents:&lt;br/&gt;
json: 24% faster&lt;br/&gt;
ruby: 500% faster (ruby didn&apos;t buffer in a StringBuilder like JSON did)&lt;br/&gt;
python: 0% (bottleneck for these huge fields is buffering in the StringBuilder to see if we should prepend a &apos;u&apos;... always prepending a &apos;u&apos; and not buffering resulted in a ~20% improvement)&lt;br/&gt;
xml: 8% faster&lt;/p&gt;

&lt;p&gt;With smaller documents, the speedups are likely to be greater because small writes like value separators would matter more.&lt;/p&gt;

&lt;p&gt;If there are no objections, I&apos;ll commit in a few days.&lt;/p&gt;</comment>
                            <comment id="12534655" author="yseeley@gmail.com" created="Sun, 14 Oct 2007 19:39:37 +0100"  >&lt;p&gt;committed.&lt;/p&gt;</comment>
                            <comment id="12535793" author="pberkel" created="Thu, 18 Oct 2007 01:16:24 +0100"  >&lt;p&gt;Sorry I&apos;ve been a bit slow catching up with this issue.  Please find attached a trival patch to PHPResponseWriter.java that takes advantage of the new FastWriter code, it should provide speed improvements similar to the JSON writer (perhaps slightly less).&lt;/p&gt;

&lt;p&gt;No fastwriter optimisation is necessary for PHPSerializedResponseWriter as there is no need to escape strings before they are written.&lt;/p&gt;</comment>
                            <comment id="12535805" author="yseeley@gmail.com" created="Thu, 18 Oct 2007 02:42:26 +0100"  >&lt;p&gt; Thanks Pieter, I just committed the PHP changes.&lt;/p&gt;</comment>
                            <comment id="12536332" author="dalewis" created="Fri, 19 Oct 2007 21:04:35 +0100"  >&lt;p&gt;After this patch, using PHPSerializedResponseWriter returns output that is unreadable by my PHP application.  I know that doesn&apos;t make any sense, but I&apos;m looking into it now.&lt;/p&gt;</comment>
                            <comment id="12536339" author="yseeley@gmail.com" created="Fri, 19 Oct 2007 21:46:30 +0100"  >&lt;p&gt;What container are you using?&lt;br/&gt;
Jetty used to have a bug where the Writer they return to the servlet had issues with chars &amp;gt; 127 if you used writer.write(string,off,len)&lt;/p&gt;</comment>
                            <comment id="12536343" author="yseeley@gmail.com" created="Fri, 19 Oct 2007 22:04:48 +0100"  >&lt;p&gt;FYI, I haven&apos;t been able to reproduce any problems along these lines using the Jetty version that&apos;s bundled (and I set the FastWriter buffer size artificially low to exercise the boundary handling).&lt;/p&gt;</comment>
                            <comment id="12536347" author="yseeley@gmail.com" created="Fri, 19 Oct 2007 22:28:36 +0100"  >&lt;p&gt;OK, I think it was a lack of flushing the buffer in the FastWriter.&lt;br/&gt;
I&apos;ve checked in a patch... can you try with the trunk version?&lt;/p&gt;</comment>
                            <comment id="12536350" author="dalewis" created="Fri, 19 Oct 2007 22:35:08 +0100"  >&lt;p&gt;That appears to have been it, trunk works great!  Thanks!&lt;/p&gt;</comment>
                            <comment id="12579137" author="hossman" created="Sun, 16 Mar 2008 03:23:51 +0000"  >&lt;p&gt;This bug was modified as part of a bulk update using the criteria...&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Marked &quot;Resolved&quot; and &quot;Fixed&quot;&lt;/li&gt;
	&lt;li&gt;Had no &quot;Fix Version&quot; versions&lt;/li&gt;
	&lt;li&gt;Was listed in the CHANGES.txt for 1.3 as of today 2008-03-15&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The Fix Version for all 29 issues found was set to 1.3, email notification was suppressed to prevent excessive email.&lt;/p&gt;

&lt;p&gt;For a list of all the issues modified, search jira comments for this (hopefully) unique string: batch20070315hossman1&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12367917" name="SOLR-377-phpresponsewriter.patch" size="1040" author="pberkel" created="Thu, 18 Oct 2007 01:16:23 +0100"/>
                            <attachment id="12367510" name="fastwriter.patch" size="15258" author="yseeley@gmail.com" created="Wed, 10 Oct 2007 19:22:53 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 18 Oct 2007 00:16:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7218</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxrpb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>