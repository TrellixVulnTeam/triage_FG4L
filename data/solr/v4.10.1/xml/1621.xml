<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:16:37 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-1621/SOLR-1621.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-1621] Allow current single core deployments to be specified by solr.xml</title>
                <link>https://issues.apache.org/jira/browse/SOLR-1621</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;supporting two different modes of deployments is turning out to be hard. This leads to duplication of code. Moreover there is a lot of confusion on where do we put common configuration. See the mail thread &lt;a href=&quot;http://markmail.org/message/3m3rqvp2ckausjnf&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://markmail.org/message/3m3rqvp2ckausjnf&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12442418">SOLR-1621</key>
            <summary>Allow current single core deployments to be specified by solr.xml</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="noble.paul">Noble Paul</assignee>
                                    <reporter username="noble.paul">Noble Paul</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Dec 2009 04:24:21 +0000</created>
                <updated>Wed, 30 Mar 2011 16:45:27 +0100</updated>
                            <resolved>Tue, 15 Dec 2009 07:06:52 +0000</resolved>
                                    <version>1.5</version>
                                    <fixVersion>1.5</fixVersion>
                    <fixVersion>3.1</fixVersion>
                    <fixVersion>4.0-ALPHA</fixVersion>
                                        <due></due>
                            <votes>5</votes>
                                    <watches>1</watches>
                                                                                                            <comments>
                            <comment id="12785791" author="noble.paul" created="Fri, 4 Dec 2009 07:05:35 +0000"  >&lt;p&gt;The proposed design.&lt;/p&gt;

&lt;p&gt;Going forward for the single core example we will add a solr.xml to the $SOLR_HOME/solr directory whose content will look like&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt; ?&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;solr persistent=&lt;span class=&quot;code-quote&quot;&gt;&quot;false&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;cores adminPath=&lt;span class=&quot;code-quote&quot;&gt;&quot;/admin/cores&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;&amp;lt;!-- &lt;span class=&quot;code-quote&quot;&gt;&quot;DEFAULT_CORE&quot;&lt;/span&gt; is a special name . Solr will automatically create an alias &quot;&quot; for this name--&amp;gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;core name=&lt;span class=&quot;code-quote&quot;&gt;&quot;DEFAULT_CORE&quot;&lt;/span&gt; instanceDir=&lt;span class=&quot;code-quote&quot;&gt;&quot;.&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;    
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/cores&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/solr&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;the core will be accessible by both the names&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;http://host:port/solr/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://host:port/solr/&lt;/a&gt; (&quot;&quot; is an alias for DEFAULT_CORE )&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;http://host:port/solr/DEFAULT_CORE&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://host:port/solr/DEFAULT_CORE&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;All coreadmin actions can be performed using the core name as DEFAULT_CORE. So all coreadmin features will work for single core as well&lt;/p&gt;

&lt;p&gt;For legacy users who have single core deployments no change needs to be done. if the solr.xml is missing we will use a default solr.xml whose content is same as above. So everything will be backward compatible. We can mark the deployments w/o solr.xml as deprecated and the we can remove it completely later.&lt;/p&gt;


</comment>
                            <comment id="12785800" author="kaykay.unique" created="Fri, 4 Dec 2009 07:30:11 +0000"  >&lt;p&gt;+1 . Thanks - This is long due, the moment we get into the multi-core world. &lt;/p&gt;</comment>
                            <comment id="12785932" author="epugh" created="Fri, 4 Dec 2009 13:47:42 +0000"  >&lt;p&gt;Glad to see this bug.  In the Solr book we mentioned that this was a very likely thing, and that even if you think you only need 1 core, starting out with a multicore setup is the way to go!  Especially when you toss in all the great management features of multiple cores!&lt;/p&gt;</comment>
                            <comment id="12786051" author="markrmiller@gmail.com" created="Fri, 4 Dec 2009 18:16:16 +0000"  >&lt;p&gt;I wrote a little patch trying this out -&lt;/p&gt;

&lt;p&gt;One of the minor issues is that the default page that shows all of the cores doesn&apos;t care about aliases - I think thats something we should address -&lt;/p&gt;

&lt;p&gt;add a getNonAliasCores (with a different name) or something. Otherwise you see the following on the index.jsp page:&lt;/p&gt;

&lt;p&gt;Welcome to Solr!&lt;/p&gt;

&lt;p&gt;Admin DEFAULT_CORE&lt;br/&gt;
Admin DEFAULT_CORE&lt;/p&gt;

&lt;p&gt;Based on the feedback in the discussion that spawned this, we should also consider not deprecating solr.xml. I think we should&lt;br/&gt;
put one in the default example, but continue supporting no solr.xml without deprecation. If a user is not going to customize anything,&lt;br/&gt;
we don&apos;t gain much by forcing them to add the default solr.xml that we can assume anyway - and we still get all of the advantages of this issue.&lt;/p&gt;</comment>
                            <comment id="12786343" author="noble.paul" created="Sat, 5 Dec 2009 05:15:46 +0000"  >&lt;blockquote&gt;&lt;p&gt;continue supporting no solr.xml without deprecation. If a user is not going to customize anything,&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It is better to be consistent in the long run. There is no harm if the user drops in this default solr.xml whether he customizes it or not. So , I believe we should get rid of it 2 releases later.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;One of the minor issues is that the default page that shows all of the cores doesn&apos;t care about aliases -&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;another thing I wish to change in this is we should store the aliases also in the CoreDescriptor . That makes it simpler to show details. &lt;/p&gt;

&lt;p&gt;It should show something like &lt;/p&gt;

&lt;p&gt;Admin DEFAULT_CORE (alias :&quot;&quot; )&lt;br/&gt;
Admin core1 (alias : &quot;c2&quot;,&quot;c3&quot;)&lt;/p&gt;
</comment>
                            <comment id="12786407" author="markrmiller@gmail.com" created="Sat, 5 Dec 2009 13:50:04 +0000"  >&lt;blockquote&gt;&lt;p&gt;It is better to be consistent in the long run.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Why - what are the supporting reasons? Making current users put in a boiler plate file in the future doesn&apos;t appear to have any benefits to me. If they want to use settings in the file, they can add the file, but just to add it for the sake of adding it is not very appealing.&lt;/p&gt;</comment>
                            <comment id="12786449" author="noble.paul" created="Sat, 5 Dec 2009 17:17:35 +0000"  >&lt;blockquote&gt;&lt;p&gt;what are the supporting reasons?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It gives transparency. And the user will be conscious about the existence of solr.xml . like tomcat offers the default web.xml which users usually don&apos;t edit. But tells the users that it exists and certain behaviour is driven from that .&lt;br/&gt;
Users usually take the example and make the necessary changes. So technically they don&apos;t &apos;add&apos; it.  Anyway this is a minor technicality. &lt;/p&gt;</comment>
                            <comment id="12786454" author="markrmiller@gmail.com" created="Sat, 5 Dec 2009 17:35:57 +0000"  >&lt;blockquote&gt;&lt;p&gt;And the user will be conscious about the existence of solr.xml .&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;They will be aware because we will include it with example.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;So technically they don&apos;t &apos;add&apos; it.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;New users won&apos;t add it, but old users will have to it - generally with no benefit. If you are just running single core, being conscious of solr.xml is not very useful. Forcing older users to add the file, just to make them conscious off it, is not very persuasive in my opinion. Its more config for the user with no benefit.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Anyway this is a minor technicality&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Its something that we will have to come to consensus on.&lt;/p&gt;</comment>
                            <comment id="12786456" author="uboness" created="Sat, 5 Dec 2009 17:56:44 +0000"  >&lt;p&gt;In addition to the awareness I believe it&apos;s also consistent. Having two deferent configuration mechanisms for single and multi-core eventually adds to the complexity. A consistent directory layout and one single access point to the configuration (that is, solr.xml) simplifies things - user don&apos;t need to keep in their mind &quot;oh... this is multi-core... so it uses this layout&quot; or &quot;oh... it&apos;s only one core, so there is not solr.xml just this directory&quot;. Instead they get a consistent view of the directory/configuration structure  whether the use multi-core or not. &lt;/p&gt;

&lt;p&gt;Also note it also helps in developing tools for Solr as you don&apos;t need to deal with different configurations types and scenarios.&lt;/p&gt;

&lt;p&gt;Thinks of RDBMS&apos;s... MySQL for example. Imagine MySQL would come with a default configuration of a single database. But when you wanted to add more databases, you would have to change the directory structure somewhere, introduce a new configuration file, and only then you would be able to add more databases. In that respect, Solr can be seen RDBMS and Solr Core can be seen as a Database within this RDBMS. &lt;/p&gt;</comment>
                            <comment id="12786459" author="markrmiller@gmail.com" created="Sat, 5 Dec 2009 18:14:43 +0000"  >&lt;p&gt;If you don&apos;t see solr.xml, you just assume the very simple default solr.xml - the same as solr will.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;you would have to change the directory structure somewhere&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Thats the point of this issue - you won&apos;t have to change the directory structure.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;introduce a new configuration file, and only then you would be able to add more databases&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;You will only introduce a new config file if you decided to forgo it to start - thats fair. The example will come with it.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Having two deferent configuration mechanisms for single and multi-core eventually adds to the complexity&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;There won&apos;t be two configuration mechanisms - if you want to do core configuration you will need the file - in either case, for a release or two, solr will assume a solr.xml that works with no solr.xml in the dir - taking that away is more pain for those that don&apos;t have or want it than helpful in my opinion. There won&apos;t be two configuration mechanisms in either case.&lt;/p&gt;

&lt;p&gt;The purpose of this issue is to make the current single core specifiable from solr.xml - that doesn&apos;t mean you need an explicit solr.xml - any tool and solr can assume the most basic solr.xml that would be the default anyway :  private final static String SINGLE_CORE_CONFIG = &quot;&amp;lt;solr persistent=\&quot;false\&quot;&amp;gt;&amp;lt;cores adminPath=\&quot;/admin/cores\&quot;&amp;gt;&amp;lt;core name=\&quot;DEFAULT_CORE\&quot; instanceDir=\&quot;.\&quot; /&amp;gt;&amp;lt;/cores&amp;gt;&amp;lt;/solr&amp;gt;&quot;;&lt;/p&gt;

&lt;p&gt;I&apos;ll let it go - others that don&apos;t wan&apos;t it required (from the zookeeper issue) can chime in, or I&apos;ll just let it go.&lt;/p&gt;</comment>
                            <comment id="12786461" author="markrmiller@gmail.com" created="Sat, 5 Dec 2009 18:31:45 +0000"  >&lt;p&gt;Just to clear this up:&lt;/p&gt;

&lt;p&gt;This issue is not a proposal to deprecate the current single core mode - its a proposal to allow specifying the current single core mode from solr.xml.&lt;/p&gt;</comment>
                            <comment id="12786481" author="markrmiller@gmail.com" created="Sat, 5 Dec 2009 20:13:30 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
It should show something like

Admin DEFAULT_CORE (alias :&quot;&quot; )
Admin core1 (alias : &lt;span class=&quot;code-quote&quot;&gt;&quot;c2&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;c3&quot;&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;+1 - that would be nice.&lt;/p&gt;</comment>
                            <comment id="12786516" author="markrmiller@gmail.com" created="Sat, 5 Dec 2009 21:55:47 +0000"  >&lt;p&gt;I think this description is more in line with what the proposal is - while deprecation may occur, its not the primary work to be done - this is an improvement and issue whether we decided to deprecate or not - we are also not deprecating &quot;single core deployments&quot; - we would be deprecating a lack of solr.xml.&lt;/p&gt;</comment>
                            <comment id="12786625" author="noble.paul" created="Sun, 6 Dec 2009 15:24:51 +0000"  >&lt;p&gt;The necessary code changes for corecontainer. &lt;/p&gt;</comment>
                            <comment id="12786643" author="markrmiller@gmail.com" created="Sun, 6 Dec 2009 16:23:29 +0000"  >&lt;p&gt;Nice! Essentially the same as my little patch, but I hadn&apos;t done the alias stuff. Reviewing now.&lt;/p&gt;</comment>
                            <comment id="12786658" author="markrmiller@gmail.com" created="Sun, 6 Dec 2009 17:31:51 +0000"  >&lt;p&gt;Looks like it has the same issue I ran into -&lt;/p&gt;

&lt;p&gt;The solrConfigFilename doesn&apos;t work right now (used by tests and web.xml override).&lt;/p&gt;

&lt;p&gt;What I did is add another load method that also takes the config filename (or not if its null). I don&apos;t like adding the extra methods for this, so I&apos;m not sure this is the best solution, but its a solution to get started with.&lt;/p&gt;

&lt;p&gt;That will get the NoCacheHeaderTest to pass.&lt;/p&gt;

&lt;p&gt;I also dropped a solr.xml into example to get started there.&lt;/p&gt;</comment>
                            <comment id="12786666" author="markrmiller@gmail.com" created="Sun, 6 Dec 2009 18:49:20 +0000"  >&lt;p&gt;We should try and hit &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-1626&quot; title=&quot;Solr doesn&amp;#39;t differentiate between a primary core and an alias&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-1626&quot;&gt;&lt;del&gt;SOLR-1626&lt;/del&gt;&lt;/a&gt; with this too since we are doing alias work anyway.&lt;/p&gt;

&lt;p&gt;We either need to drop too many closes as a logging error in SolrCore, or set things up so that we only close primary core names and not aliases.&lt;/p&gt;</comment>
                            <comment id="12786675" author="markrmiller@gmail.com" created="Sun, 6 Dec 2009 19:25:40 +0000"  >&lt;p&gt;This solves the closing core too many times issue you can have by just simply checking if a core is closed before closing it in shutdown.&lt;/p&gt;

&lt;p&gt;By the way, why not allow removing the DEFAULT_CORE? Shouldn&apos;t it be treated like any other core, other than the special property of getting a &quot;&quot; alias?&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;edit *&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;We still need to solve listing alias&apos; as primary cores in index.jsp as well.&lt;/p&gt;</comment>
                            <comment id="12786677" author="markrmiller@gmail.com" created="Sun, 6 Dec 2009 19:39:36 +0000"  >&lt;p&gt;Whoops - wrong solr.xml example in last patch - had core1 for the name.&lt;/p&gt;</comment>
                            <comment id="12786783" author="noble.paul" created="Mon, 7 Dec 2009 05:10:15 +0000"  >&lt;p&gt;hi Mark could you update the patch to trunk?&lt;/p&gt;</comment>
                            <comment id="12786883" author="markrmiller@gmail.com" created="Mon, 7 Dec 2009 12:06:54 +0000"  >&lt;p&gt;Its up to trunk - looks like its an issue with $id - I&apos;m so sick of running into that. Here is a patch with the $id created by the patch replaced with the actual $id string - that should make it apply.&lt;/p&gt;</comment>
                            <comment id="12787006" author="noble.paul" created="Mon, 7 Dec 2009 17:39:55 +0000"  >&lt;p&gt;the index pages are fixed&lt;/p&gt;</comment>
                            <comment id="12787031" author="markrmiller@gmail.com" created="Mon, 7 Dec 2009 18:25:42 +0000"  >&lt;blockquote&gt;&lt;p&gt;the index pages are fixed&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;how are they fixed?&lt;/p&gt;

&lt;p&gt;I think one problem with how you are handling alias&apos; is that it only works with alias&apos; defined in solr.xml?&lt;/p&gt;

&lt;p&gt;If you use the request handler to create an alias (with the alias command), I still don&apos;t think that works properly.&lt;/p&gt;</comment>
                            <comment id="12787038" author="yseeley@gmail.com" created="Mon, 7 Dec 2009 18:36:21 +0000"  >&lt;p&gt;Aliases were marked as experimental - if they cause too much grief, we always have the option to remove.&lt;/p&gt;</comment>
                            <comment id="12787303" author="noble.paul" created="Tue, 8 Dec 2009 04:28:53 +0000"  >&lt;blockquote&gt;&lt;p&gt;if they cause too much grief, we always have the option to remove.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Do we really have a usecase for ALIAS ? if there is no no compelling enough usecase we should consider removing it. there is a lot of code which is there just becaus eof this alias feature&lt;/p&gt;</comment>
                            <comment id="12787310" author="noble.paul" created="Tue, 8 Dec 2009 04:42:09 +0000"  >&lt;p&gt;it works now even after the alias command . I still think we should remove the &apos;alias&apos; command. It is a fancy feature which adds too much of complexity into ref counting of cores&lt;/p&gt;</comment>
                            <comment id="12787704" author="hossman" created="Tue, 8 Dec 2009 19:53:00 +0000"  >&lt;p&gt;The nice thing about the &lt;b&gt;idea&lt;/b&gt; of ALIAS is that you can have cores with very explicit names (ie: catalog_v1, catalog_v2, etc...) and then you can have aliases like &quot;LIVE&quot; and &quot;EXPERIMENTAL&quot; that you can move around as needed.  Similar things can be accomplished with the SWAP command, but it&apos;s more limiting.&lt;/p&gt;

&lt;p&gt;That said: the last time i tired using ALIAS it was such a confusing pain in the ass because of the way the original name was still tracked separately from the list of aliases, even if that name had been taken over by another core) i couldn&apos;t bring myself to use it &amp;#8211; using SWAP and keeping track of the logical names externally was less confusing.&lt;/p&gt;

&lt;p&gt;If we can make ALIAS work well, it will kick ass &amp;#8211; but we can always yank it for now if it&apos;s in our way, and add it back again later if someone comes up with a good way to do it.  (it was probably a mistake to try and treat names an aliases as equals in the first place ... looking up a core by a &quot;string&quot; is probably the only use cases where they should be treated equally, all of the other CoreAdmin commands should really differentiate.)&lt;/p&gt;</comment>
                            <comment id="12787712" author="yseeley@gmail.com" created="Tue, 8 Dec 2009 20:08:43 +0000"  >&lt;p&gt;I&apos;m good with yanking ALIAS for now.&lt;/p&gt;

&lt;p&gt;But I think it would be nice to have a single hard-coded alias (perhaps just at the level of dispatch filter) that can treat an existing core as the default core (w/o having to name it something specific like DEFAULT_CORE.  As long as we can have a normal core with a normal name like &quot;music&quot;, with the ability to use it with legacy URLs.&lt;/p&gt;</comment>
                            <comment id="12787908" author="noble.paul" created="Wed, 9 Dec 2009 04:24:49 +0000"  >&lt;blockquote&gt;&lt;p&gt;I&apos;m good with yanking ALIAS for now.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I am happy to remove a lot of complexity from CoreContainer which was introduced by ALIAS. When we implemented &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-1293&quot; title=&quot;Support for large no:of cores and faster loading/unloading of cores&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-1293&quot;&gt;&lt;del&gt;SOLR-1293&lt;/del&gt;&lt;/a&gt; (internally) we disabled ALIAS so that the implementation is simple. &lt;br/&gt;
Let us revisit ALIAS later and make it simpler. &lt;/p&gt;</comment>
                            <comment id="12787962" author="noble.paul" created="Wed, 9 Dec 2009 08:08:53 +0000"  >&lt;p&gt;with ALIAS deprecated&lt;/p&gt;</comment>
                            <comment id="12787968" author="noble.paul" created="Wed, 9 Dec 2009 08:23:06 +0000"  >&lt;p&gt;also deprecated specifying solrconfig from web.xml. We may not need it anymore because we should not support 2 ways of doing the same&lt;/p&gt;</comment>
                            <comment id="12789116" author="noble.paul" created="Fri, 11 Dec 2009 05:10:47 +0000"  >&lt;p&gt;hi . If everyone is OK I would just cleanup the patch and commit this shortly..&lt;/p&gt;</comment>
                            <comment id="12789302" author="markrmiller@gmail.com" created="Fri, 11 Dec 2009 13:23:25 +0000"  >&lt;p&gt;I&apos;d like to take a quick look - will report back.&lt;/p&gt;</comment>
                            <comment id="12789439" author="markrmiller@gmail.com" created="Fri, 11 Dec 2009 18:31:33 +0000"  >&lt;p&gt;You&apos;ve deprecated handleAliasAction, but you have also made it so its not called with the default handleRequestBody.&lt;/p&gt;

&lt;p&gt;I think its safer to just remove handleAliasAction - someone that overrode handleAliasAction but kept the default handleRequestBody would be in a for a silent nasty surprise anyway. Better to get a compile time error.&lt;/p&gt;</comment>
                            <comment id="12789443" author="markrmiller@gmail.com" created="Fri, 11 Dec 2009 18:33:56 +0000"  >&lt;p&gt;Also, its confusing the way the Alias test is commented out - shouldn&apos;t we just remove to be less confusing? It will still be in subversion if we decide we want to bring it back.&lt;/p&gt;</comment>
                            <comment id="12789447" author="markrmiller@gmail.com" created="Fri, 11 Dec 2009 18:38:45 +0000"  >&lt;p&gt;Lastly : there are a couple little unrelated changes in this patch.&lt;/p&gt;

&lt;p&gt;1. The change to the import statement in CoreDescriptor, but no other changes to the file.&lt;br/&gt;
2. The change in index.jsp from self closing tags to closing link tags - this has no apparent purpose, so I think it shouldn&apos;t be part of this commit.&lt;/p&gt;</comment>
                            <comment id="12789460" author="markrmiller@gmail.com" created="Fri, 11 Dec 2009 19:01:38 +0000"  >&lt;p&gt;You mark setSolrConfigFilename as deprecated, but it simply doesn&apos;t work anymore either - thats not really deprecation. I feel that deprecating solrconfig-filename should be its own issue so thats a more clear entry in CHANGES. And it should prob be deprecated rather than turned off out of the blue. I don&apos;t suppose its a big deal either way though.&lt;/p&gt;

&lt;p&gt;You have also changed CoreContainer#getCores - but that change is unrelated to this patch. I really feal an issue should just stick to the issue - it makes commits more clear. That change (which isn&apos;t back compat anyway), should be its own commit.&lt;/p&gt;

&lt;p&gt;This latest update removes a bunch of the unrelated changes.&lt;/p&gt;

&lt;p&gt;The patch is still unfinished though - you removed my fix to use the solrconfig override without replacing it with an alternative fix. As a result, some tests don&apos;t use the right config now, and in particular, NoCacheHeaderTest is back to failing.&lt;/p&gt;</comment>
                            <comment id="12789467" author="markrmiller@gmail.com" created="Fri, 11 Dec 2009 19:12:15 +0000"  >&lt;p&gt;This patch reinstates a fix for the SolrDispatcher config name override so that all tests pass again.&lt;br/&gt;
It also changes DEFAULT_CORE to use a final static constant rather than be repeated.&lt;/p&gt;


&lt;p&gt;Personally, I also almost think that removing the alias feature should be its own issue.&lt;/p&gt;

&lt;p&gt;(&lt;b&gt;EDIT&lt;/b&gt; okay, I see you made that a sub-issue - nice)&lt;/p&gt;</comment>
                            <comment id="12789675" author="noble.paul" created="Sat, 12 Dec 2009 04:13:42 +0000"  >&lt;blockquote&gt;&lt;p&gt;You mark setSolrConfigFilename as deprecated, but it simply doesn&apos;t work anymore either - thats not really deprecation. I feel that deprecating solrconfig-filename should be its own issue so thats a more clear entry in CHANGES&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I shall open another issue for this.  The setSolrConfigFilename() did not work for multicore . So it does not make sense for us to bend over backwards to make it work in this and add too many overloaded methods. Anyway, users won&apos;t need &lt;/p&gt;
</comment>
                            <comment id="12789689" author="noble.paul" created="Sat, 12 Dec 2009 05:22:37 +0000"  >&lt;p&gt;I guess deprecating ALIAS can be committed first so that the changes for this issue will be smaller and more manageable&lt;/p&gt;</comment>
                            <comment id="12789926" author="markrmiller@gmail.com" created="Sun, 13 Dec 2009 18:43:37 +0000"  >&lt;blockquote&gt;&lt;p&gt;The setSolrConfigFilename() did not work for multicore . &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;But it did work for single core, and we are emulating that. I agree that it should be removed, but perhaps not in how. I think it should go away with warning - and I don&apos;t think we should mark something as deprecated when it just no longer works - deprecation means the method should still work. Also, I&apos;m not sure if you have realized it yet, but tests currently rely on this functionality - it cannot be pulled without replacing the functionality for tests in some manner.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;So it does not make sense for us to bend over backwards to make it work in this and add too many overloaded methods. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It doesn&apos;t require bending over backwards. It doesn&apos;t even require overloaded methods (see my latest patch) - that was just one method.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;Anyway, users won&apos;t need&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Its not about users needing this - they won&apos;t need it because they can now use solr.xml - its about functionality that someone is currently counting on simply disappearing. Personally, I&apos;d prefer a form of deprecation first. At a minimum, it needs to be its own issue so that the warning to users that they need to change what they are doing is &lt;b&gt;very&lt;/b&gt; clear.&lt;/p&gt;</comment>
                            <comment id="12789988" author="noble.paul" created="Mon, 14 Dec 2009 04:58:07 +0000"  >&lt;blockquote&gt;&lt;p&gt;Personally, I&apos;d prefer a form of deprecation first.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;me too.  But this looked like an exception. This is rarely used (if at all) and according to me is a bad feature because it needs editing web.xml . &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;At a minimum, it needs to be its own issue so that the warning to users that they need to change what they are doing is very clear.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;There is another issue now &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-1647&quot; title=&quot;Remove the option of setting solrconfig from web.xml&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-1647&quot;&gt;&lt;del&gt;SOLR-1647&lt;/del&gt;&lt;/a&gt; .I should change the language. they are really not deprecations. &lt;/p&gt;

&lt;p&gt;Ok . I can go both ways on this. we can keep the feature deprecated and remove it later or remove it right away. My preference would be to remove it.&lt;/p&gt;
</comment>
                            <comment id="12790079" author="noble.paul" created="Mon, 14 Dec 2009 10:27:44 +0000"  >&lt;p&gt;The patch looks fine . I plan to commit it soon&lt;/p&gt;</comment>
                            <comment id="12790128" author="markrmiller@gmail.com" created="Mon, 14 Dec 2009 13:01:31 +0000"  >&lt;blockquote&gt;&lt;p&gt;me too. But this looked like an exception. This is rarely used (if at all) and according to me is a bad feature because it needs editing web.xml .&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Thats fine - as long as we have good warnings, I&apos;m fine with removing it - but we &lt;b&gt;must&lt;/b&gt; have a replacement for the tests that count on this feature.&lt;/p&gt;</comment>
                            <comment id="12790145" author="markrmiller@gmail.com" created="Mon, 14 Dec 2009 13:38:38 +0000"  >&lt;blockquote&gt;&lt;p&gt;The patch looks fine . I plan to commit it soon&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I still think we need to do something about handleAliasAction - possibly just remove it. It&apos;s not really a deprecation like it says - if someone overrode it, its no longer called. Better to get a hard error.&lt;/p&gt;</comment>
                            <comment id="12790185" author="noble.paul" created="Mon, 14 Dec 2009 14:46:09 +0000"  >&lt;p&gt;I shall soon give a final patch w/ the removal of ALIAS.&lt;/p&gt;</comment>
                            <comment id="12790597" author="noble.paul" created="Tue, 15 Dec 2009 06:51:20 +0000"  >&lt;p&gt;Throw a message saying &apos;ALIAS is removed&apos; when ALIAS is invoked&lt;/p&gt;</comment>
                            <comment id="12790600" author="noble.paul" created="Tue, 15 Dec 2009 07:06:52 +0000"  >&lt;p&gt;committed r890675&lt;/p&gt;</comment>
                            <comment id="12872768" author="hossman" created="Fri, 28 May 2010 03:43:39 +0100"  >
&lt;p&gt;Correcting Fix Version based on CHANGES.txt, see this thread for more details...&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/lucene-dev/201005.mbox/%3Calpine.DEB.1.10.1005251052040.24672@radix.cryptio.net%3E&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mail-archives.apache.org/mod_mbox/lucene-dev/201005.mbox/%3Calpine.DEB.1.10.1005251052040.24672@radix.cryptio.net%3E&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13013068" author="gsingers" created="Wed, 30 Mar 2011 16:45:27 +0100"  >&lt;p&gt;Bulk close for 3.1.0 release&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12442553">SOLR-1626</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12445545">SOLR-1722</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12430397">SOLR-1277</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12428011" name="SOLR-1621.patch" size="19709" author="noble.paul" created="Tue, 15 Dec 2009 06:51:20 +0000"/>
                            <attachment id="12427754" name="SOLR-1621.patch" size="18496" author="markrmiller@gmail.com" created="Fri, 11 Dec 2009 19:12:14 +0000"/>
                            <attachment id="12427751" name="SOLR-1621.patch" size="17527" author="markrmiller@gmail.com" created="Fri, 11 Dec 2009 19:01:38 +0000"/>
                            <attachment id="12427435" name="SOLR-1621.patch" size="19740" author="noble.paul" created="Wed, 9 Dec 2009 08:08:53 +0000"/>
                            <attachment id="12427295" name="SOLR-1621.patch" size="14452" author="noble.paul" created="Tue, 8 Dec 2009 04:42:09 +0000"/>
                            <attachment id="12427202" name="SOLR-1621.patch" size="14452" author="noble.paul" created="Mon, 7 Dec 2009 17:39:55 +0000"/>
                            <attachment id="12427161" name="SOLR-1621.patch" size="14452" author="markrmiller@gmail.com" created="Mon, 7 Dec 2009 12:06:54 +0000"/>
                            <attachment id="12427109" name="SOLR-1621.patch" size="14390" author="markrmiller@gmail.com" created="Sun, 6 Dec 2009 19:39:36 +0000"/>
                            <attachment id="12427103" name="SOLR-1621.patch" size="13731" author="markrmiller@gmail.com" created="Sun, 6 Dec 2009 17:31:51 +0000"/>
                            <attachment id="12427098" name="SOLR-1621.patch" size="9469" author="noble.paul" created="Sun, 6 Dec 2009 15:24:51 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12442823">SOLR-1637</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>10.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 4 Dec 2009 07:30:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6050</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxk5z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19586</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>