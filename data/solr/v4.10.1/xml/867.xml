<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:19:55 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-867/SOLR-867.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-867] move EmbeddedSolrServer#getParsedResponse to utility class</title>
                <link>https://issues.apache.org/jira/browse/SOLR-867</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;The utility function: EmbeddedSolrServer#getParsedResponse should be moved to a utiltiy class.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12408669">SOLR-867</key>
            <summary>move EmbeddedSolrServer#getParsedResponse to utility class</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ryantxu">Ryan McKinley</assignee>
                                    <reporter username="ryantxu">Ryan McKinley</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Nov 2008 18:53:35 +0000</created>
                <updated>Tue, 10 Nov 2009 15:51:51 +0000</updated>
                            <resolved>Mon, 17 Nov 2008 21:44:49 +0000</resolved>
                                                    <fixVersion>1.4</fixVersion>
                                    <component>clients - java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12648252" author="ryantxu" created="Mon, 17 Nov 2008 18:59:42 +0000"  >&lt;p&gt;This will let us replace:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 solrResponse.setResponse(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; EmbeddedSolrServer(request.getCore()).getParsedResponse(request, response));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;with:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 solrResponse.setResponse(ClientUtils.getParsedResponse(request, response));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12648352" author="ryantxu" created="Mon, 17 Nov 2008 21:33:04 +0000"  >&lt;p&gt;my mistake &amp;#8211; this can not go in ClientUtils because it requires SolrCore libraries (our package structure is wacked)&lt;/p&gt;

&lt;p&gt;this patch moves the utility function to:&lt;br/&gt;
BinaryResponseWriter.getParsedResponse(req, rsp);&lt;/p&gt;</comment>
                            <comment id="12648482" author="noble.paul" created="Tue, 18 Nov 2008 03:59:02 +0000"  >&lt;p&gt;Why is this done this way ? . The current solution involves the overhead marshalling and unmarshalling. I guess it can be easily avoided.&lt;/p&gt;

&lt;p&gt;you may need to duplicate some code from BinaryResponseWriter#writeDocList().  But the amount of code is minimal&lt;/p&gt;
</comment>
                            <comment id="12648485" author="ryantxu" created="Tue, 18 Nov 2008 04:03:49 +0000"  >&lt;p&gt;It has been on the TODO list for a long time....  but I have not had the time/focus for it yet...&lt;/p&gt;

&lt;p&gt;BinaryResponseWriter did not exist when the function first appeared.&lt;/p&gt;
</comment>
                            <comment id="12648488" author="noble.paul" created="Tue, 18 Nov 2008 04:12:22 +0000"  >&lt;p&gt;I mean the code may remain in BinaryResponseWriter itself. But the problem with the solution is that you end up serializing all those objects and deserializing them. &lt;/p&gt;

&lt;p&gt;If I am not wrong , we only need to recursively go through the NamedList  and replace all Doclist and Document with SolrDocumentList and SolrDocument . Every other object remains same at both ends of the pipe. &lt;/p&gt;

&lt;p&gt;So you can reuse the getDoc() method but you may need to replicate the writeDocList() method into  a getDocList() method.&lt;/p&gt;
</comment>
                            <comment id="12648489" author="ryantxu" created="Tue, 18 Nov 2008 04:19:47 +0000"  >&lt;div class=&quot;panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;panelContent&quot;&gt;
&lt;p&gt;Every other object remains same at both ends of the pipe. &lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Maybe... there are a few other things that would need to get normalized to have the same output.  For example any Map implementation (LinkedHashMap etc) would become a HashMap.  &lt;/p&gt;</comment>
                            <comment id="12648505" author="noble.paul" created="Tue, 18 Nov 2008 06:14:39 +0000"  >&lt;blockquote&gt;&lt;p&gt;Map implementation (LinkedHashMap etc) would become a HashMap. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I guess it should not matter. If the object implements map then it should not matter whether it is a LinkedHashMap or even a ConcurrentHashMap&lt;/p&gt;</comment>
                            <comment id="12775579" author="gsingers" created="Tue, 10 Nov 2009 15:51:51 +0000"  >&lt;p&gt;Bulk close for Solr 1.4&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12394103" name="SOLR-867-move-getParsedResponse.patch" size="5338" author="ryantxu" created="Mon, 17 Nov 2008 21:33:03 +0000"/>
                            <attachment id="12394087" name="SOLR-867-move-getParsedResponse.patch" size="4068" author="ryantxu" created="Mon, 17 Nov 2008 18:54:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 18 Nov 2008 03:59:02 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6762</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxopz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20324</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>