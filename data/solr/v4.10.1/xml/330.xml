<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:16:23 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-330/SOLR-330.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-330] Use new Lucene Token APIs (reuse and char[] buff)</title>
                <link>https://issues.apache.org/jira/browse/SOLR-330</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Lucene is getting new Token APIs for better performance.&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;token reuse&lt;/li&gt;
	&lt;li&gt;char[] offset + len instead of String&lt;br/&gt;
Requires a new version of lucene.&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12375615">SOLR-330</key>
            <summary>Use new Lucene Token APIs (reuse and char[] buff)</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gsingers">Grant Ingersoll</assignee>
                                    <reporter username="yseeley@gmail.com">Yonik Seeley</reporter>
                        <labels>
                    </labels>
                <created>Wed, 8 Aug 2007 21:35:27 +0100</created>
                <updated>Fri, 11 Apr 2008 18:27:05 +0100</updated>
                            <resolved>Tue, 1 Apr 2008 17:09:41 +0100</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12546762" author="gsingers" created="Thu, 29 Nov 2007 15:22:04 +0000"  >&lt;p&gt;Solr may also benefit from the new TeeTokenFilter and SinkTokenizer.  Intelligent use of these by the copy field mechanism &lt;em&gt;MAY&lt;/em&gt; speed up things by significantly reducing the amount of redundant analysis work.&lt;/p&gt;</comment>
                            <comment id="12564816" author="gsingers" created="Fri, 1 Feb 2008 16:18:20 +0000"  >&lt;p&gt;First draft of a patch that updates the various TokenFilters, etc. in Solr to use the new Lucene reuse API.  Notes on implementation below:&lt;/p&gt;

&lt;p&gt;Also, cleans up some of the javadocs in various files&lt;/p&gt;

&lt;p&gt;Added Test for the Porter stemmer.&lt;/p&gt;

&lt;p&gt;Cleaned up some string literals to be constants so that they can be safely referred to in the tests.&lt;/p&gt;

&lt;p&gt;In the PatternTokenFilter, it would be cool if there was a way to just operate on the char array, but I don&apos;t see that the Pattern/Matcher API supports it.&lt;/p&gt;

&lt;p&gt;Same goes for PhoneticTokenFilter&lt;/p&gt;

&lt;p&gt;I&apos;m not sure yet if the BufferedTokenStream can take advantage of reuse, so I have left them alone for now, other than some minor doc fixes.  I will think about this some more.&lt;/p&gt;

&lt;p&gt;In RemoveDuplicatesTF, I only converted to using termBuffer, not Token reuse.   I removed the &quot;IN&quot; and &quot;OUT&quot; loop labels, as I don&apos;t see what functionality they provide.&lt;/p&gt;

&lt;p&gt;Added ArraysUtils class and test to provide a bit more functionality than Arrays.java offers in terms of comparing two char arrays.  This could be expanded at some point to cover other primitive comparisons.&lt;/p&gt;

&lt;p&gt;My understanding of the new reusableTokenStream means we can&apos;t use it in the SolrAnalyzer&lt;/p&gt;

&lt;p&gt;On the TrimFilter, it is not clear to me that there would be a token that is ever all whitespace.  However, since the test handles it, I wonder why the a Token of &quot;        &quot;, when update offsets are on, reports the offsets as the end and not the start.  Just a minor nit, but it seems like the start/end offsets should be 0, not the end of the token.&lt;/p&gt;

&lt;p&gt;I&apos;m not totally sure on the WordDelimiterFilter, as there is a fair amount of new token creation,  Also, I think, the newTok() method doesn&apos;t set the position increment based on the original position increment, so I added that.&lt;/p&gt;

&lt;p&gt; I&apos;m also not completely sure how to handle FieldType DefaultAnalyzer.next().  It seems like it could reuse the token&lt;/p&gt;

&lt;p&gt;Also not sure why the duplicate code for the MultiValueTokenStream in HighlighterUtils and SolrHighlighter, so I left the highlighter TokenStreams alone.&lt;/p&gt;</comment>
                            <comment id="12566610" author="gsingers" created="Thu, 7 Feb 2008 14:20:11 +0000"  >&lt;p&gt;Note, this patch also includes &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-468&quot; title=&quot;CapitalizationFilterFactory keep semantics are inconsistent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-468&quot;&gt;&lt;del&gt;SOLR-468&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12570024" author="yseeley@gmail.com" created="Mon, 18 Feb 2008 22:26:43 +0000"  >&lt;blockquote&gt;&lt;p&gt;WordDelimiterFilter, as there is a fair amount of new token creation, Also, I think, the newTok() method doesn&apos;t set the position increment based on the original position increment, so I added that.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Careful, that might introduce a bug... the position increments in WDF are generally set elsewhere, and setting it in newTok might cause more than one token to get that increment.&lt;/p&gt;</comment>
                            <comment id="12583369" author="gsingers" created="Sat, 29 Mar 2008 21:35:15 +0000"  >&lt;p&gt;OK, I removed the WDF setPositionIncrement addition, otherwise patch is as before minus the Capitalization stuff that has already been committed.&lt;/p&gt;

&lt;p&gt;I plan to commit tomorrow or Monday.&lt;/p&gt;</comment>
                            <comment id="12584197" author="gsingers" created="Tue, 1 Apr 2008 17:09:41 +0100"  >&lt;p&gt;Committed revision 643465.&lt;/p&gt;</comment>
                            <comment id="12588040" author="yseeley@gmail.com" created="Fri, 11 Apr 2008 18:27:05 +0100"  >&lt;p&gt;Attaching token_filter.patch, minor update to synonym and WFD to prevent extra token creation.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                                                <inwardlinks description="is cloned by">
                                        <issuelink>
            <issuekey id="12381559">SOLR-403</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12382787">LUCENE-1058</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12378872" name="SOLR-330.patch" size="39574" author="gsingers" created="Sat, 29 Mar 2008 21:35:15 +0000"/>
                            <attachment id="12374564" name="SOLR-330.patch" size="55404" author="gsingers" created="Fri, 1 Feb 2008 16:18:20 +0000"/>
                            <attachment id="12379937" name="token_filter.patch" size="1235" author="yseeley@gmail.com" created="Fri, 11 Apr 2008 18:27:05 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 29 Nov 2007 15:22:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7262</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxrzr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20854</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>