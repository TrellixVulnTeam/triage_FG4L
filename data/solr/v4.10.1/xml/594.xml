<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:19:26 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-594/SOLR-594.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-594] StopFilterFactory, SynonymFilterFactory and EnglishProterFilterFactory not backwards compatible because of inform</title>
                <link>https://issues.apache.org/jira/browse/SOLR-594</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Direct construction of StopWordFilter is not backwards compatible between 1.2 and 1.3.  Here is some test code that throws a null pointer exception in 1.3 but that functions correctly in 1.2.&lt;/p&gt;

&lt;p&gt;     TokenizerFactory tokenizer = new WhitespaceTokenizerFactory();&lt;/p&gt;

&lt;p&gt;      Map&amp;lt;String, String&amp;gt; args = new HashMap&amp;lt;String, String&amp;gt;();&lt;br/&gt;
      args.put(&quot;ignoreCase&quot;, &quot;true&quot;);&lt;br/&gt;
      args.put(&quot;words&quot;, &quot;stopwords.txt&quot;);&lt;br/&gt;
      StopFilterFactory stopFilter = new StopFilterFactory();&lt;br/&gt;
      stopFilter.init(args);&lt;/p&gt;

&lt;p&gt;     args = new HashMap&amp;lt;String, String&amp;gt;();&lt;br/&gt;
     args.put(&quot;generateWordParts&quot;, &quot;1&quot;);&lt;br/&gt;
     args.put(&quot;generateNumberParts&quot;, &quot;1&quot;);&lt;br/&gt;
     args.put(&quot;catenateWords&quot;, &quot;0&quot;);&lt;br/&gt;
     args.put(&quot;catenateNumbers&quot;, &quot;0&quot;);&lt;br/&gt;
     args.put(&quot;catenateAll&quot;, &quot;0&quot;);&lt;br/&gt;
     WordDelimiterFilterFactory wordFilter = new WordDelimiterFilterFactory();&lt;br/&gt;
     wordFilter.init(args);&lt;/p&gt;

&lt;p&gt;     TokenFilterFactory[] filters = new TokenFilterFactory[] &lt;/p&gt;
{stopFilter, wordFilter }
&lt;p&gt;;&lt;br/&gt;
     TokenizerChain pipeline =TokenizerChain(tokenizer, filters);&lt;/p&gt;

&lt;p&gt;     /*** throws a null pointer exception in 1.3: ***/&lt;br/&gt;
    boolean onlyStopWords = pipeline.tokenStream(null, new StringReader(query)).next() == null;&lt;/p&gt;

&lt;p&gt;Hoss commented thusly in the solr forums (including a workaround):&lt;/p&gt;

&lt;p&gt;The short answer is: right after you call &quot;stopFilter.init(args)&quot; call&lt;br/&gt;
&quot;stopFilter.inform(solrCore.getSolrConfig().getResourceLoader());&quot;&lt;/p&gt;

&lt;p&gt;This is an interesting use case that wasn&apos;t really considered when we&lt;br/&gt;
switched away from using hte SolrCore singlton and the the&lt;br/&gt;
ResourceLoaderAware interface was added.  we made sure things would still&lt;br/&gt;
work for people who had their own custom Analysis Factories, but some of&lt;br/&gt;
the functionality in &lt;b&gt;existing&lt;/b&gt; Factories was moved from the init() method&lt;br/&gt;
to inform() ... which means the classes aren&apos;t technically backwards&lt;br/&gt;
compatibly for people doing what you&apos;re doing: constructing them directly.&lt;/p&gt;

&lt;p&gt;When I have some more time, i&apos;ll spin up a thread on solr-dev to discuss&lt;br/&gt;
what we should do about this &amp;#8211; n the mean time feel free to file a bug&lt;br/&gt;
that StopFilter isn&apos;t backwards compatible.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12397812">SOLR-594</key>
            <summary>StopFilterFactory, SynonymFilterFactory and EnglishProterFilterFactory not backwards compatible because of inform</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="hossman">Hoss Man</assignee>
                                    <reporter username="ronbraun">Ronald Braun</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 Jun 2008 16:18:20 +0100</created>
                <updated>Fri, 10 May 2013 11:40:29 +0100</updated>
                            <resolved>Tue, 15 Jul 2008 21:39:08 +0100</resolved>
                                    <version>1.3</version>
                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12604937" author="hossman" created="Fri, 13 Jun 2008 18:46:15 +0100"  >&lt;p&gt;(Updating title to reflect full scope of issue)&lt;/p&gt;

&lt;p&gt;Original solr-user thread pointing out problem...&lt;br/&gt;
&lt;a href=&quot;http://www.nabble.com/NullPointerException-at-lucene.analysis.StopFilter-with-1.3-to17564627.html#a17564627&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.nabble.com/NullPointerException-at-lucene.analysis.StopFilter-with-1.3-to17564627.html#a17564627&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Discussion on solr-dev about how to deal with this...&lt;br/&gt;
&lt;a href=&quot;http://www.nabble.com/3-TokenFilter-factories-not-compatible-with-1.2-to17658628.html#a17658628&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.nabble.com/3-TokenFilter-factories-not-compatible-with-1.2-to17658628.html#a17658628&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;...current consensus seems to be that the best approach is...&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&amp;gt; 3) Documentation and Education&lt;br/&gt;
&amp;gt; Since this wasn&apos;t exactly a use case we ever advertised, we could punt on&lt;br/&gt;
&amp;gt; the problem by putting a disclaimer in the CAHNGES.txt that ayone directly&lt;br/&gt;
&amp;gt; constructing those 3 classes should explicitly call inform() on the&lt;br/&gt;
&amp;gt; instances after calling init.&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; #3 is obviously the simplest approach as developers, and to be quite honest:&lt;br/&gt;
&amp;gt; probably impacts the fewest total number of people (since there are probably&lt;br/&gt;
&amp;gt; very few people constructing Factory instances themselves)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;but first we&apos;re going to try and get some feedback from solr-user to verify that this really will only impact a small population of users.&lt;/p&gt;</comment>
                            <comment id="12613724" author="hossman" created="Tue, 15 Jul 2008 21:39:08 +0100"  >
&lt;p&gt;No negative response from community regarding leaving this incompatibility in 1.3 and documenting how to fix it for the few people it might affect.  added note regarding this to CHANGES.txt&lt;/p&gt;

&lt;p&gt;Committed revision 677034.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12382756">SOLR-414</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 13 Jun 2008 17:46:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7014</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxqdz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20594</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>