<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:20:29 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-78/SOLR-78.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-78] [PATCH] Improved config loading</title>
                <link>https://issues.apache.org/jira/browse/SOLR-78</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Solr configuration throws an UnsupportedConfigurationException for Node.getTextContent() if it is started in server environments that uses older implementations of the DOM API. This can be improved by checking wich node type is actually handled an calling the appropriate methods.&lt;/p&gt;

&lt;p&gt;A patch that fixes this problem is attached.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12358031">SOLR-78</key>
            <summary>[PATCH] Improved config loading</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hossman">Hoss Man</assignee>
                                    <reporter username="alexxx">Alexander Saar</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Dec 2006 17:07:57 +0000</created>
                <updated>Fri, 10 May 2013 11:38:43 +0100</updated>
                            <resolved>Fri, 15 Dec 2006 03:37:07 +0000</resolved>
                                                    <fixVersion>1.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12456489" author="alexxx" created="Thu, 7 Dec 2006 17:08:44 +0000"  >&lt;p&gt;Patch that fixes the problem described by this issue.&lt;/p&gt;</comment>
                            <comment id="12456987" author="hossman" created="Fri, 8 Dec 2006 21:47:38 +0000"  >&lt;p&gt;FWIW: I don&apos;t know a lot about DOM2 vs DOM3, but loking over the documentation on the meaning of textContent I see...&lt;/p&gt;

&lt;p&gt;      &lt;a href=&quot;http://www.w3.org/TR/DOM-Level-3-Core/core.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.w3.org/TR/DOM-Level-3-Core/core.html&lt;/a&gt;&lt;br/&gt;
      ...&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;forsome node types&amp;#93;&lt;/span&gt;&lt;br/&gt;
      concatenation of the textContent attribute value of every child node, excluding COMMENT_NODE and &lt;br/&gt;
      PROCESSING_INSTRUCTION_NODE nodes. This is the empty string if the node has no children.&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;for other node types including comments and processing instructions&amp;#93;&lt;/span&gt;&lt;br/&gt;
      nodeValue&lt;/p&gt;

&lt;p&gt;If I&apos;m reading that right, then if we replace usages of getTextContent with our own method for walking the child nodes and pulling out the nodeValue, we need to explicitly watch out for processing instructions and comments or we will start slurping them in my accident right?&lt;/p&gt;

&lt;p&gt;either way: DOMUtil.getText(Node) should have some javadoc clarifying it&apos;s purpsoe (support DOM 2) so it doesn&apos;t accidently get optimized away by someone down the road who says &quot;hey, we can just use getTextContent()!&quot;&lt;/p&gt;</comment>
                            <comment id="12458318" author="hossman" created="Thu, 14 Dec 2006 00:35:02 +0000"  >&lt;p&gt;I tried to produce an example of the type of thing i&apos;m worried about with the body of a comment getting slurped up ... but i could not &amp;#8211; as far as i can tell that&apos;s actually a defect of the DOM parser, the spec says it should be there.&lt;/p&gt;

&lt;p&gt;Either way it should be safe and easy to check the Node type and only include nodes that aren&apos;t comments or processing instructions, i&apos;ll try to do that tomorow.&lt;/p&gt;</comment>
                            <comment id="12458590" author="hossman" created="Thu, 14 Dec 2006 19:59:34 +0000"  >&lt;p&gt;revised version of patch that attempts to impliment the DOM Spec for &quot;textContent&quot; as precicesly as possible....&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.w3.org/TR/DOM-Level-3-Core/core.html#Node3-textContent&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.w3.org/TR/DOM-Level-3-Core/core.html#Node3-textContent&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It seems to work properly, but I&apos;d appreciate some eyeballs on this before I commit.&lt;/p&gt;</comment>
                            <comment id="12458600" author="yseeley@gmail.com" created="Thu, 14 Dec 2006 20:38:39 +0000"  >&lt;p&gt;I&apos;m no DOM expert, but it looks OK.&lt;br/&gt;
If it works on all our current tests/configs then it&apos;s a low risk change since that&apos;s all it&apos;s used for.&lt;/p&gt;

&lt;p&gt;Hmmm, but &lt;b&gt;how&lt;/b&gt; do we know it&apos;s reading all the values OK, instead of getting a default or something.&lt;br/&gt;
Perhaps run a startup test with the debugging level pumped all the way up, one before the change, and one after, then diff the logs (minus timestamps/linenumbers)?&lt;/p&gt;

&lt;p&gt;Oh, and StringBuffer could be StringBuilder, but it&apos;s private so I don&apos;t really care.&lt;/p&gt;</comment>
                            <comment id="12458667" author="hossman" created="Fri, 15 Dec 2006 03:37:07 +0000"  >&lt;p&gt;Changed StringBuffer to StringBuilder (i keep forgetting about that class) and then tried out Yonik&apos;s suggestion (using the full test suite we have since some config access is done on an as needed basis) and the only diffs were in default object toStrings, and the names of temp directories created for indexes (AbstractSolrTestcase puts the time and a random number in the name when making the directory)&lt;/p&gt;

&lt;p&gt;commited.&lt;/p&gt;

&lt;p&gt;(Thanks for the initial patch Alexander, this is the kind of thing that never would have occured to me, but shoudl really help reduce frustrations new users might have)&lt;/p&gt;
</comment>
                            <comment id="12589363" author="hossman" created="Wed, 16 Apr 2008 00:56:45 +0100"  >&lt;p&gt;This bug was modified as part of a bulk update using the criteria...&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Marked (&quot;Resolved&quot; or &quot;Closed&quot;) and &quot;Fixed&quot;&lt;/li&gt;
	&lt;li&gt;Had no &quot;Fix Version&quot; versions&lt;/li&gt;
	&lt;li&gt;Was listed in the CHANGES.txt for 1.1&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The Fix Version for all 38 issues found was set to 1.1, email notification&lt;br/&gt;
was suppressed to prevent excessive email.&lt;/p&gt;

&lt;p&gt;For a list of all the issues modified, search jira comments for this&lt;br/&gt;
(hopefully) unique string: 20080415hossman3&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12347221" name="fixed-config-loading-with-older-parser-versions.patch" size="4463" author="hossman" created="Thu, 14 Dec 2006 19:59:34 +0000"/>
                            <attachment id="12346689" name="fixed-config-loading-with-older-parser-versions.patch" size="2781" author="alexxx" created="Thu, 7 Dec 2006 17:08:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 8 Dec 2006 21:47:38 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7504</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxtjb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>21104</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>