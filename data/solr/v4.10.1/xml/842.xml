<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:25:22 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-842/SOLR-842.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-842] Better error handling for DIH</title>
                <link>https://issues.apache.org/jira/browse/SOLR-842</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Currently DIH fails completely on any error. We must have better control on error behavior&lt;/p&gt;

&lt;p&gt;mail thread: &lt;a href=&quot;http://markmail.org/message/xvfbfaskfmlj2pnm&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://markmail.org/message/xvfbfaskfmlj2pnm&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;an entity can have an attribute &lt;tt&gt;onError&lt;/tt&gt; the values can be &lt;tt&gt;abort, continue,skip&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;abort is the default . It aborts the import. continue or skip does not fail the import it continues from there. skip skips all rows in an xml (only if stream != true)if there is an error in xml but continues with the next xml. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12408066">SOLR-842</key>
            <summary>Better error handling for DIH</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="shalinmangar">Shalin Shekhar Mangar</assignee>
                                    <reporter username="noble.paul">Noble Paul</reporter>
                        <labels>
                    </labels>
                <created>Sat, 8 Nov 2008 12:39:15 +0000</created>
                <updated>Thu, 13 Aug 2009 15:20:43 +0100</updated>
                            <resolved>Wed, 12 Nov 2008 09:51:25 +0000</resolved>
                                    <version>1.3</version>
                                    <fixVersion>1.4</fixVersion>
                                    <component>contrib - DataImportHandler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12645979" author="noble.paul" created="Sat, 8 Nov 2008 13:04:54 +0000"  >&lt;p&gt;implemented for &lt;tt&gt;XPathEntityProcessor&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="12646016" author="noble.paul" created="Sat, 8 Nov 2008 18:22:21 +0000"  >&lt;p&gt;even parsing failure is taken care of and better logging&lt;/p&gt;</comment>
                            <comment id="12646217" author="shalinmangar" created="Mon, 10 Nov 2008 09:56:36 +0000"  >&lt;p&gt;&lt;b&gt;Changes&lt;/b&gt;&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Changes to skip behavior in case of non-streaming mode in XPathEntityProcessor&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Just to be clear, I&apos;ll define the meaning of the three constants &amp;#8211; abort, skip and continue&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;abort &amp;#8211; abort the import operation&lt;/li&gt;
	&lt;li&gt;skip &amp;#8211; If an exception is raised, skip the current document and continue with the next one. Note that in case of a parsing error for XPathEntityProcessor, it is not possible to skip and proceed.&lt;/li&gt;
	&lt;li&gt;continue &amp;#8211; Ignore the exception completely and proceed to create the current document as if nothing has happened.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Need to add tests for this.&lt;/p&gt;</comment>
                            <comment id="12646827" author="shalinmangar" created="Wed, 12 Nov 2008 08:25:32 +0000"  >&lt;p&gt;Adding a test case. I plan to commit shortly.&lt;/p&gt;</comment>
                            <comment id="12646841" author="shalinmangar" created="Wed, 12 Nov 2008 09:51:25 +0000"  >&lt;p&gt;Committed revision 713335.&lt;/p&gt;

&lt;p&gt;Thanks Noble!&lt;/p&gt;</comment>
                            <comment id="12649888" author="goksron" created="Sat, 22 Nov 2008 02:39:45 +0000"  >&lt;p&gt;Wow!&lt;/p&gt;

&lt;p&gt;I just found another case for loop control: receiving no documents in a loop.&lt;/p&gt;

&lt;p&gt;My test case is that to fetch subsequent pages of results (first 40, next 40, etc.) from a search API I could not use any value returned in the last request. I had to make an XML file giving the &quot;start 0, start 40, start 80&quot; sequence. I drove an RSS feed input with this as an outer loop.&lt;/p&gt;

&lt;p&gt;Now, suppose I have 100 requests in the file but this particular search only has 20 results. The second time I do the search I get no documents: now I want to break out of my driving XML file loop. With the current DIH i will send another 98 search requests that will all fail.&lt;/p&gt;

&lt;p&gt;So, two features here:&lt;br/&gt;
1) to skip when there are no documents.&lt;br/&gt;
2) to end the next outer loop.&lt;/p&gt;

&lt;p&gt;&quot;break to entity X&quot; would be the most flexible - you could break out three loops if you want. This is the same as &quot;break to label&quot; in Java or C.&lt;/p&gt;

&lt;p&gt;Thanks for your time,&lt;/p&gt;

&lt;p&gt;Lance (the instigator)&lt;/p&gt;</comment>
                            <comment id="12649895" author="noble.paul" created="Sat, 22 Nov 2008 03:55:47 +0000"  >&lt;p&gt;Lance , could you paste a sample data-config and explain the usecase . &lt;/p&gt;</comment>
                            <comment id="12649904" author="shalinmangar" created="Sat, 22 Nov 2008 07:36:38 +0000"  >&lt;p&gt;Lance, Transformers can add two special fields to a row &quot;$hasMore&quot; and &quot;$nextUrl&quot; which tells the XPathEntityProcessor whether to stop now and if not, what is the nextUrl to be fetched. You can write a transformer which adds these special fields based on whether you have more results or not. Maybe that can be used here?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12393768" name="SOLR-842.patch" size="27090" author="shalinmangar" created="Wed, 12 Nov 2008 08:25:32 +0000"/>
                            <attachment id="12393627" name="SOLR-842.patch" size="16791" author="shalinmangar" created="Mon, 10 Nov 2008 09:56:35 +0000"/>
                            <attachment id="12393573" name="SOLR-842.patch" size="15524" author="noble.paul" created="Sat, 8 Nov 2008 18:22:20 +0000"/>
                            <attachment id="12393562" name="SOLR-842.patch" size="3925" author="noble.paul" created="Sat, 8 Nov 2008 13:04:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 10 Nov 2008 09:56:36 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6785</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxovj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20349</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>