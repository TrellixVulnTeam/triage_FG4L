<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:24:03 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-939/SOLR-939.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-939] ValueSourceRangeFilter/Query</title>
                <link>https://issues.apache.org/jira/browse/SOLR-939</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Ability to do a range query based on a FieldCache entry or a FunctionQuery (ValueSource).&lt;br/&gt;
Equivalent to Lucene&apos;s FieldCacheRangeQuery&lt;/p&gt;</description>
                <environment></environment>
        <key id="12411366">SOLR-939</key>
            <summary>ValueSourceRangeFilter/Query</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yseeley@gmail.com">Yonik Seeley</assignee>
                                    <reporter username="yseeley@gmail.com">Yonik Seeley</reporter>
                        <labels>
                    </labels>
                <created>Sat, 27 Dec 2008 20:59:45 +0000</created>
                <updated>Tue, 10 Nov 2009 15:51:54 +0000</updated>
                            <resolved>Wed, 25 Mar 2009 13:32:14 +0000</resolved>
                                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12659382" author="yseeley@gmail.com" created="Sat, 27 Dec 2008 21:05:38 +0000"  >&lt;p&gt;Attaching incomplete draft to help give a feel for the approach.&lt;/p&gt;

&lt;p&gt;Functionallity can be accessed via frange QParser (stands for function range).&lt;/p&gt;

&lt;p&gt;fq=&lt;/p&gt;
{!frange l=5 u=10}popularity&lt;br/&gt;
&lt;br/&gt;
fq={!frange l=5 u=10}
&lt;p&gt;product(popularity,2)&lt;/p&gt;</comment>
                            <comment id="12679062" author="shalinmangar" created="Thu, 5 Mar 2009 03:57:53 +0000"  >&lt;p&gt;Yonik, if I understand this correctly (and I don&apos;t understand much), the difference between plain FieldCacheRangeFilter and ValueSourceRangeFilter is that VSRF can be used with fields as well as function queries, right?&lt;/p&gt;

&lt;p&gt;To complete this patch, we would need modifications to other field types as well (just as the patch does for IntField). Are there other changes required before this can be committed?&lt;/p&gt;</comment>
                            <comment id="12679236" author="yseeley@gmail.com" created="Thu, 5 Mar 2009 16:31:55 +0000"  >&lt;p&gt;Right - it made sense to me to go through the FunctionQuery/ValueSource abstraction to do range filters, as it&apos;s a superset of just going off of the FieldCache (it could work with functions, FileFloatSource, and future payload or column-stored fields too).&lt;/p&gt;

&lt;p&gt;I&apos;ve been meaning to get back to this patch... at a minimum it would need support for all of the field types as well as tests.  I think I may even have some local updates since this last patch - I&apos;ll have to check.&lt;/p&gt;

&lt;p&gt;It would be nice if one could tag a field with info to use ValueSourceRangeFilter for any range queries... but it doesn&apos;t seem necessary before committing this underlying functionality.&lt;/p&gt;</comment>
                            <comment id="12679282" author="shalinmangar" created="Thu, 5 Mar 2009 18:22:34 +0000"  >&lt;blockquote&gt;&lt;p&gt;Right - it made sense to me to go through the FunctionQuery/ValueSource abstraction to do range filters, as it&apos;s a superset of just going off of the FieldCache (it could work with functions, FileFloatSource, and future payload or column-stored fields too).&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Very cool!&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;It would be nice if one could tag a field with info to use ValueSourceRangeFilter for any range queries&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;As an extra attribute in the schema? e.g.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;field name=&lt;span class=&quot;code-quote&quot;&gt;&quot;xyz&quot;&lt;/span&gt; type=&lt;span class=&quot;code-quote&quot;&gt;&quot;integer&quot;&lt;/span&gt; indexed=&lt;span class=&quot;code-quote&quot;&gt;&quot;true&quot;&lt;/span&gt; stored=&lt;span class=&quot;code-quote&quot;&gt;&quot;true&quot;&lt;/span&gt; useValueSourceRangeFilter=&lt;span class=&quot;code-quote&quot;&gt;&quot;true&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;+1 for this. It is easier/cleaner than the local param syntax but I guess we&apos;d need to support both anyway. Solrj does not have API methods to manipulate local params and I think this is a good time to add that support.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I&apos;ve been meaning to get back to this patch... at a minimum it would need support for all of the field types as well as tests. I think I may even have some local updates since this last patch - I&apos;ll have to check.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Can you post your updates? &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-940&quot; title=&quot;TrieRange support&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-940&quot;&gt;&lt;del&gt;SOLR-940&lt;/del&gt;&lt;/a&gt; (Trie support) is mostly done and I can try to spend some time on this one. Per the 1.4 release discussion, these two are the major features stopping the 1.4 release, though I&apos;m sure we&apos;ll find more &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12680975" author="yseeley@gmail.com" created="Wed, 11 Mar 2009 18:38:26 +0000"  >&lt;p&gt;Here&apos;s the latest I had... I don&apos;t recall exactly what the state of things were, but I had started working on tests (TestRangeQuery) and it built an index will a bunch of different field types, but there wasn&apos;t  yet code to query.&lt;/p&gt;</comment>
                            <comment id="12683892" author="yseeley@gmail.com" created="Fri, 20 Mar 2009 14:14:30 +0000"  >&lt;p&gt;Attaching patch with some more progress... fixed some bugs and created some query tests (currently failing).&lt;/p&gt;</comment>
                            <comment id="12685380" author="yseeley@gmail.com" created="Fri, 20 Mar 2009 22:29:36 +0000"  >&lt;p&gt;OK, I think I&apos;ve fixed all the issues!&lt;/p&gt;</comment>
                            <comment id="12689110" author="yseeley@gmail.com" created="Wed, 25 Mar 2009 13:32:14 +0000"  >&lt;p&gt;Committed.&lt;/p&gt;</comment>
                            <comment id="12721839" author="dsmiley" created="Fri, 19 Jun 2009 16:59:09 +0100"  >&lt;p&gt;I just happened to be looking at the code for this in StrField.java and I observed that the package-class StrFieldSource isn&apos;t being used.&lt;/p&gt;</comment>
                            <comment id="12775619" author="gsingers" created="Tue, 10 Nov 2009 15:51:54 +0000"  >&lt;p&gt;Bulk close for Solr 1.4&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                            <outwardlinks description="incorporates">
                                        <issuelink>
            <issuekey id="12413225">SOLR-984</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12402853" name="SOLR-939.patch" size="50687" author="yseeley@gmail.com" created="Fri, 20 Mar 2009 22:29:36 +0000"/>
                            <attachment id="12402666" name="SOLR-939.patch" size="35544" author="yseeley@gmail.com" created="Fri, 20 Mar 2009 14:14:30 +0000"/>
                            <attachment id="12401954" name="SOLR-939.patch" size="31873" author="yseeley@gmail.com" created="Wed, 11 Mar 2009 18:38:26 +0000"/>
                            <attachment id="12396802" name="SOLR-939.patch" size="19622" author="yseeley@gmail.com" created="Sat, 27 Dec 2008 21:05:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 5 Mar 2009 03:57:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6694</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxo9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20252</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>