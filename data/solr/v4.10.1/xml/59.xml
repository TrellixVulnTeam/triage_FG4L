<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:24:32 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-59/SOLR-59.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-59] Copy request parameters to Solr&apos;s response</title>
                <link>https://issues.apache.org/jira/browse/SOLR-59</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;This patch copies the request parameters (explicit ones only, not the defaults) to Solr&apos;s XML output.&lt;/p&gt;

&lt;p&gt;It is not configurable yet, it is enabled by default and adds a &quot;queryParameters&quot; list to the responseHeader:&lt;/p&gt;

&lt;p&gt;&amp;lt;responseHeader&amp;gt;&lt;br/&gt;
        &amp;lt;status&amp;gt;0&amp;lt;/status&amp;gt;&lt;br/&gt;
        &amp;lt;QTime&amp;gt;1&amp;lt;/QTime&amp;gt;&lt;br/&gt;
        &amp;lt;lst name=&quot;queryParameters&quot;&amp;gt;&lt;br/&gt;
                &amp;lt;arr name=&quot;multi&quot;&amp;gt;&lt;br/&gt;
                        &amp;lt;str&amp;gt;red&amp;lt;/str&amp;gt;&lt;br/&gt;
                        &amp;lt;str&amp;gt;blue&amp;lt;/str&amp;gt;&lt;br/&gt;
                &amp;lt;/arr&amp;gt;&lt;br/&gt;
                &amp;lt;str name=&quot;rows&quot;&amp;gt;10&amp;lt;/str&amp;gt;&lt;br/&gt;
                &amp;lt;str name=&quot;start&quot;&amp;gt;0&amp;lt;/str&amp;gt;&lt;br/&gt;
                &amp;lt;str name=&quot;indent&quot;&amp;gt;on&amp;lt;/str&amp;gt;&lt;br/&gt;
                &amp;lt;str name=&quot;q&quot;&amp;gt;solr&amp;lt;/str&amp;gt;&lt;br/&gt;
                &amp;lt;str name=&quot;stylesheet&quot;/&amp;gt;&lt;br/&gt;
                &amp;lt;str name=&quot;version&quot;&amp;gt;2.1&amp;lt;/str&amp;gt;&lt;br/&gt;
        &amp;lt;/lst&amp;gt;&lt;br/&gt;
&amp;lt;/responseHeader&amp;gt;&lt;/p&gt;

&lt;p&gt;The above example includes a multi-valued parameter, &quot;multi&quot;.&lt;/p&gt;

&lt;p&gt;This might still change a bit, but if someone wants to play with it or improve it, here you go.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12353865">SOLR-59</key>
            <summary>Copy request parameters to Solr&apos;s response</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Oct 2006 17:10:52 +0100</created>
                <updated>Fri, 10 May 2013 11:41:08 +0100</updated>
                            <resolved>Mon, 18 Dec 2006 19:37:48 +0000</resolved>
                                                    <fixVersion>1.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12444562" author="yseeley@gmail.com" created="Wed, 25 Oct 2006 04:32:44 +0100"  >&lt;p&gt;I haven&apos;t had a chance to check the code, but I like the format.&lt;br/&gt;
Personally,  I think the default should be off, but if the standard SolrParams.getParam() is used to control the behavior, people may set the default to whatever they like.&lt;/p&gt;</comment>
                            <comment id="12444701" author="hossman" created="Wed, 25 Oct 2006 18:50:30 +0100"  >&lt;p&gt;Some assorted comments on the patch...&lt;/p&gt;

&lt;p&gt;Independent of wether we need this functionality or not, i like the addition of the &quot;public Iterator&amp;lt;String&amp;gt; getParameterNames()&quot; to the SolrParams API ... but I think there is a bug in the DefaultSolrParams version: &quot;defaults&quot; is never consulted for param names.&lt;/p&gt;

&lt;p&gt;As I mentioned on the list, I think we should only do this for the orriginal params as specified in the URL (or POST body) ... in which case req.getOriginalParams() would be used instead of req.getParams().&lt;/p&gt;

&lt;p&gt;This patch also only modifies XMLWriter, making it a QueryResponseWriter specific piece of functionality ... it hadn&apos;t really occured to be when discussing this, but that seems like a good place for the code to live and fits with the idea of putting this info in the responseHeaer &amp;#8211; which is output format specific anyway.&lt;/p&gt;

&lt;p&gt;There also seems to be some concensus on the list that there should be a param contrlling wether or not this logic is active, with the default being &quot;false&quot;&lt;/p&gt;</comment>
                            <comment id="12446297" author="bdelacretaz" created="Wed, 1 Nov 2006 16:32:46 +0000"  >&lt;p&gt;Coming back to this according to the mailing list discussions (&lt;a href=&quot;http://marc.theaimsgroup.com/?t=116167803100001&amp;amp;r=1&amp;amp;w=2&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://marc.theaimsgroup.com/?t=116167803100001&amp;amp;r=1&amp;amp;w=2&lt;/a&gt;), here&apos;s a slightly modified plan:&lt;/p&gt;

&lt;p&gt;1. Add a &quot;headers&quot; NamedList to SolrQueryResponse, to hold values that are meant for the responseHeader, makes these values available to all QueryResponseWriters. &lt;/p&gt;

&lt;p&gt;2. Have SolrCore put the computed &quot;qtime&quot; value in there (along with other stats if needed) instead of computing it in the QueryResponseWriter.&lt;/p&gt;

&lt;p&gt;3. In SolrCore.execute(), call a method to copy (if so configured) the explicit request parameters to a nested NamedList stored in the above &quot;headers&quot; NamedList. &lt;/p&gt;

&lt;p&gt;If people need more than the explicit parameters, this would be the place to change later on, but right now this will be explicit params only.&lt;/p&gt;

&lt;p&gt;4. In QueryResponseWriters, implement generic code to copy the &quot;headers&quot; NamedList to the output&lt;/p&gt;

&lt;p&gt;I think this puts everything in the right place - comments are welcome of course.&lt;/p&gt;</comment>
                            <comment id="12446552" author="bdelacretaz" created="Thu, 2 Nov 2006 11:11:52 +0000"  >&lt;p&gt;Here&apos;s a new patch (&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-59&quot; title=&quot;Copy request parameters to Solr&amp;#39;s response&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-59&quot;&gt;&lt;del&gt;SOLR-59&lt;/del&gt;&lt;/a&gt;-20061102.patch and &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-59&quot; title=&quot;Copy request parameters to Solr&amp;#39;s response&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-59&quot;&gt;&lt;del&gt;SOLR-59&lt;/del&gt;&lt;/a&gt;-new-files-20061102.tar.gz).&lt;/p&gt;

&lt;p&gt;I have added a SolrQueryResponseHeaders class to handle these (and any future) additional information fields in the response headers.&lt;/p&gt;

&lt;p&gt;The XML output format is a bit different, example for &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://localhost:8983/solr/select/?stylesheet=&amp;amp;q=apache&amp;amp;version=2.1&amp;amp;start=0&amp;amp;rows=10&amp;amp;indent=on&amp;amp;multi=red&amp;amp;multi=blue&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://localhost:8983/solr/select/?stylesheet=&amp;amp;q=apache&amp;amp;version=2.1&amp;amp;start=0&amp;amp;rows=10&amp;amp;indent=on&amp;amp;multi=red&amp;amp;multi=blue&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;responseHeader&amp;gt;&lt;br/&gt;
        &amp;lt;status&amp;gt;0&amp;lt;/status&amp;gt;&lt;br/&gt;
        &amp;lt;QTime&amp;gt;0&amp;lt;/QTime&amp;gt;&lt;br/&gt;
        &amp;lt;lst name=&quot;addInfo&quot;&amp;gt;&lt;br/&gt;
                &amp;lt;lst name=&quot;explicitQueryParameters&quot;&amp;gt;&lt;br/&gt;
                        &amp;lt;arr name=&quot;multi&quot;&amp;gt;&lt;br/&gt;
                                &amp;lt;str&amp;gt;red&amp;lt;/str&amp;gt;&lt;br/&gt;
                                &amp;lt;str&amp;gt;blue&amp;lt;/str&amp;gt;&lt;br/&gt;
                        &amp;lt;/arr&amp;gt;&lt;br/&gt;
                        &amp;lt;str name=&quot;rows&quot;&amp;gt;10&amp;lt;/str&amp;gt;&lt;br/&gt;
                        &amp;lt;str name=&quot;start&quot;&amp;gt;0&amp;lt;/str&amp;gt;&lt;br/&gt;
                        &amp;lt;str name=&quot;indent&quot;&amp;gt;on&amp;lt;/str&amp;gt;&lt;br/&gt;
                        &amp;lt;str name=&quot;q&quot;&amp;gt;apache&amp;lt;/str&amp;gt;&lt;br/&gt;
                        &amp;lt;str name=&quot;stylesheet&quot;/&amp;gt;&lt;br/&gt;
                        &amp;lt;str name=&quot;version&quot;&amp;gt;2.1&amp;lt;/str&amp;gt;&lt;br/&gt;
                &amp;lt;/lst&amp;gt;&lt;br/&gt;
        &amp;lt;/lst&amp;gt;&lt;br/&gt;
&amp;lt;/responseHeader&amp;gt;&lt;/p&gt;

&lt;p&gt;And the same info is available in a similar way in the JSON, Python and Ruby response writers.&lt;/p&gt;

&lt;p&gt;The explicitQueryParameters list is activated by the following (optional) parameter in solrconfig.xml, which defaults to false:&lt;/p&gt;

&lt;p&gt;  &amp;lt;response&amp;gt;&lt;br/&gt;
    &amp;lt;!-- Copy explicit request parameters to response? (&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-59&quot; title=&quot;Copy request parameters to Solr&amp;#39;s response&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-59&quot;&gt;&lt;del&gt;SOLR-59&lt;/del&gt;&lt;/a&gt;) --&amp;gt;&lt;br/&gt;
    &amp;lt;echoParameters explicit=&quot;true&quot;/&amp;gt;&lt;br/&gt;
  &amp;lt;/response&amp;gt;&lt;/p&gt;

&lt;p&gt;Default parameters are not dumped for now, adding them should only require changing SolrQueryResponseHeaders.setStandardHeaders(). &lt;/p&gt;

&lt;p&gt;Also, DefaultSolrParams.getParameterNamesIterator() now returns all parameters thanks to the new IteratorChain utility class (is there a better way without copying collections? sounds fairly hairy for a simple thing). &lt;/p&gt;
</comment>
                            <comment id="12446553" author="bdelacretaz" created="Thu, 2 Nov 2006 11:12:20 +0000"  >&lt;p&gt;New files for &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-59&quot; title=&quot;Copy request parameters to Solr&amp;#39;s response&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-59&quot;&gt;&lt;del&gt;SOLR-59&lt;/del&gt;&lt;/a&gt;-20061102.patch&lt;/p&gt;</comment>
                            <comment id="12446684" author="yseeley@gmail.com" created="Thu, 2 Nov 2006 18:36:13 +0000"  >&lt;p&gt;Looking good Bertrand!&lt;/p&gt;

&lt;p&gt;I think it might make more sense to use the normal query parameter mechanism to control this (requestHandler defaults in solrconfig).  That way we can reuse all of the parameter code we already have, we avoid adding another element to solrconfig.xml, and most of all, we can change the behavior per-request (very useful for debugging).&lt;/p&gt;

&lt;p&gt;Also, why the extra addInfo element in the responseHeader?  I think I liked it better the way you had it before.&lt;/p&gt;

&lt;p&gt;Side note/question: should we make responseHeader consistent with the generic response format?&lt;br/&gt;
  &amp;lt;lst name=&quot;responseHeader&quot;&amp;gt; &lt;br/&gt;
    &amp;lt;int name=&quot;status&quot;&amp;gt;0&amp;lt;/int&amp;gt; &lt;br/&gt;
   &amp;lt;int name=&quot;QTime&quot;&amp;gt;10&amp;lt;/int&amp;gt;&lt;br/&gt;
That would be a separate issue of course...&lt;/p&gt;</comment>
                            <comment id="12447004" author="bdelacretaz" created="Fri, 3 Nov 2006 16:40:52 +0000"  >&lt;p&gt;&amp;gt; ...I think it might make more sense to use the normal query parameter &lt;br/&gt;
&amp;gt; mechanism to control this (requestHandler defaults in solrconfig). ..&lt;/p&gt;

&lt;p&gt;I agree, but I&apos;m not sure how to access these values, are they provided somewhere in SolrCore, or how should I best get them?&lt;/p&gt;

&lt;p&gt;&amp;gt; ...Also, why the extra addInfo element in the responseHeader?..&lt;/p&gt;

&lt;p&gt;Right, makes no sense. This modifed patch goes back to the previous format (still needs the additional files of attachment 3).&lt;/p&gt;

&lt;p&gt;&amp;lt;responseHeader&amp;gt;&lt;br/&gt;
  &amp;lt;status&amp;gt;0&amp;lt;/status&amp;gt;&lt;br/&gt;
  &amp;lt;QTime&amp;gt;1&amp;lt;/QTime&amp;gt;&lt;br/&gt;
  &amp;lt;lst name=&quot;explicitQueryParameters&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;str name=&quot;rows&quot;&amp;gt;10&amp;lt;/str&amp;gt;&lt;br/&gt;
    ...&lt;/p&gt;

&lt;p&gt;&amp;gt; ...should we make responseHeader consistent with the generic response format?&lt;/p&gt;

&lt;p&gt;I think so. I didn&apos;t want to change that as it changes the existing format, but it makes sense. &lt;/p&gt;</comment>
                            <comment id="12447024" author="yseeley@gmail.com" created="Fri, 3 Nov 2006 17:34:36 +0000"  >&lt;p&gt;&amp;gt; I agree, but I&apos;m not sure how to access these values, are they provided somewhere in SolrCore, or how should I best get them?&lt;/p&gt;

&lt;p&gt;You must have them... you added them to the header &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
After a request handler is called, it will have added default parameters to the SolrQueryRequest oblect.... so you can just use req.getParams().get(&quot;echoParams&quot;)&lt;/p&gt;

&lt;p&gt;This could be done in SolrCore.exec() or in a utility function that all ResponseWriters call to get the header data.&lt;/p&gt;

&lt;p&gt;I just peeked at your code now...&lt;br/&gt;
An alternative to adding additional methods to SolrQueryResponse to hold the headers is to just treat the headers like any other data object in the response.  That would also allow request handlers to add stuff to the header in the future (if they really needed to):&lt;/p&gt;

&lt;p&gt;So SolrCore.execute could look something like this perhaps:&lt;/p&gt;

&lt;p&gt;  public void execute(SolrQueryRequest req, SolrQueryResponse rsp) {&lt;br/&gt;
    SolrRequestHandler handler = getRequestHandler(req.getQueryType());&lt;br/&gt;
    if (handler==null) &lt;/p&gt;
{
      log.warning(&quot;Unknown Request Handler &apos;&quot; + req.getQueryType() +&quot;&apos; :&quot; + req);
      throw new SolrException(400,&quot;Unknown Request Handler &apos;&quot; + req.getQueryType() + &quot;&apos;&quot;, true);
    }
&lt;p&gt;    NamedList responseHeader = new NamedList();&lt;br/&gt;
    rsp.add(&quot;responseHeader&quot;, responseHeader);&lt;br/&gt;
    handler.handleRequest(req,rsp);&lt;br/&gt;
    int qtime=(int)(rsp.getEndTime() - req.getStartTime());&lt;br/&gt;
    // might want to re-get responseHeader here, or mandate that request handers&lt;br/&gt;
    // do not &lt;b&gt;replace&lt;/b&gt; the responseHeader in the SolrQueryResponse they are handed.&lt;br/&gt;
    responseHeader.add(&quot;status&quot;,rsp.getException()==null ? 0 : 500);&lt;br/&gt;
    responseHeader.add(&quot;QTime&quot;,qtime);&lt;br/&gt;
    // Values for echoParams... false/true/all or false/explicit/all ???&lt;br/&gt;
    if (&quot;explicit&quot;.equals(req.getParams().get(&quot;echoParams&quot;)))&lt;br/&gt;
        responseHeader.add(&quot;params&quot;, asNamedList_TBD(req.getOriginalParams()));&lt;br/&gt;
    log.info(req.getParamString()+ &quot; 0 &quot; + qtime);&lt;br/&gt;
  }&lt;/p&gt;</comment>
                            <comment id="12447404" author="bdelacretaz" created="Mon, 6 Nov 2006 09:49:54 +0000"  >&lt;p&gt;Here&apos;s a new patch (the newfiles follow, also marked with 20061106).&lt;/p&gt;

&lt;p&gt;You&apos;re right that setting the headers like any other data object in the response makes things much simpler and consistent, at the expense of a change of output format, example for the XML:&lt;/p&gt;

&lt;p&gt;  &amp;lt;response&amp;gt;&lt;br/&gt;
    &amp;lt;lst name=&quot;responseHeader&quot;&amp;gt;&lt;br/&gt;
      &amp;lt;int name=&quot;status&quot;&amp;gt;0&amp;lt;/int&amp;gt;&lt;br/&gt;
      &amp;lt;int name=&quot;QTime&quot;&amp;gt;0&amp;lt;/int&amp;gt;&lt;br/&gt;
      &amp;lt;lst name=&quot;params&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;str name=&quot;rows&quot;&amp;gt;10&amp;lt;/str&amp;gt;&lt;br/&gt;
        &amp;lt;str name=&quot;start&quot;&amp;gt;0&amp;lt;/str&amp;gt;&lt;br/&gt;
         . . .&lt;br/&gt;
      &amp;lt;/lst&amp;gt;&lt;br/&gt;
    &amp;lt;/lst&amp;gt;&lt;/p&gt;

&lt;p&gt;I have add the EchoParamsTest to check the XML output.&lt;/p&gt;</comment>
                            <comment id="12447405" author="bdelacretaz" created="Mon, 6 Nov 2006 09:53:06 +0000"  >&lt;p&gt;To avoid confusion: the current version of my patch is in these attachments:&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-59&quot; title=&quot;Copy request parameters to Solr&amp;#39;s response&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-59&quot;&gt;&lt;del&gt;SOLR-59&lt;/del&gt;&lt;/a&gt;-20061106-newfiles.tar.gz&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-59&quot; title=&quot;Copy request parameters to Solr&amp;#39;s response&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-59&quot;&gt;&lt;del&gt;SOLR-59&lt;/del&gt;&lt;/a&gt;-20061106.patch&lt;/p&gt;

&lt;p&gt;I don&apos;t know if there&apos;s a way to mark attachments as obsolete in Jira.&lt;/p&gt;</comment>
                            <comment id="12447446" author="yseeley@gmail.com" created="Mon, 6 Nov 2006 15:36:19 +0000"  >&lt;p&gt;+1 on the more consistent responseHeader, but perhaps we should bump the current version to 2.2, and stick with the old format if version&amp;lt;2.2 ?&lt;/p&gt;</comment>
                            <comment id="12447449" author="bdelacretaz" created="Mon, 6 Nov 2006 15:47:47 +0000"  >&lt;p&gt;+1 for bumping the version number.&lt;/p&gt;

&lt;p&gt;By &quot;stick with the old format if version&amp;lt;2.2&quot; do you mean having code that reproduces the old format if the &quot;version&quot; parameter is set to 2.1?&lt;/p&gt;

&lt;p&gt;IMHO maintaining both formats would would be overkill for a small change like this one...but I don&apos;t (yet) have Solr instances in production yet. &lt;/p&gt;
</comment>
                            <comment id="12447464" author="yseeley@gmail.com" created="Mon, 6 Nov 2006 16:25:20 +0000"  >&lt;p&gt;&amp;gt; but I don&apos;t (yet) have Solr instances in production yet.&lt;/p&gt;

&lt;p&gt;We&apos;ve had Solr in production since June 2005, and responseHeader hasn&apos;t changed since then.&lt;br/&gt;
I can help stick in some backward compatible code if we decide it should be there.&lt;/p&gt;

&lt;p&gt;Luckily, because of the simplicity of the JSON format, it&apos;s response format is unchanged.&lt;/p&gt;</comment>
                            <comment id="12447713" author="bdelacretaz" created="Tue, 7 Nov 2006 08:37:44 +0000"  >&lt;p&gt;Ah ok, as the JSON format hasn&apos;t changed, I guess it just needs recreating this in the XMLWriter:&lt;/p&gt;

&lt;p&gt;&amp;lt;responseHeader&amp;gt;&lt;br/&gt;
  &amp;lt;status&amp;gt;0&amp;lt;/status&amp;gt;&lt;br/&gt;
  &amp;lt;QTime&amp;gt;1234&amp;lt;/QTime&amp;gt; &lt;br/&gt;
&amp;lt;/responseHeader&amp;gt;&lt;/p&gt;

&lt;p&gt;When version &amp;lt; 2.2&lt;/p&gt;

&lt;p&gt;I probably won&apos;t have time to do that today or tomorrow, but of course feel free to &quot;patch my patch&quot; if you want.&lt;/p&gt;</comment>
                            <comment id="12448143" author="billa" created="Wed, 8 Nov 2006 14:15:38 +0000"  >&lt;p&gt;&amp;gt;I can help stick in some backward compatible code if we decide it should be there. &lt;/p&gt;

&lt;p&gt;+1 on keeping things backward compatible.&lt;/p&gt;</comment>
                            <comment id="12458351" author="yseeley@gmail.com" created="Thu, 14 Dec 2006 03:05:13 +0000"  >&lt;p&gt;Ok, updated patch to &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;bump current &amp;amp; default version to 2.2&lt;/li&gt;
	&lt;li&gt;bump version used in tests to 2.2 (added 2.0 to tests where necessary)&lt;/li&gt;
	&lt;li&gt;changed &quot;name&quot; of the normal doclist returned by the handlers to &quot;response&quot;&lt;/li&gt;
	&lt;li&gt;other little minor cleanups&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Bertrand, since you started this issue, I&apos;ll let you commit it if you feel comfortable with it &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12458466" author="bdelacretaz" created="Thu, 14 Dec 2006 13:06:00 +0000"  >&lt;p&gt;Thanks Yonik, I have commited your patch.&lt;/p&gt;

&lt;p&gt;I have renamed the OutputWriterTest.testOriginalSolrWriter test to testSOLR59responseHeaderVersions, and added a test where the &quot;version&quot;parameter is not used.&lt;/p&gt;

&lt;p&gt;I think you can close this issue (apparently I don&apos;t have sufficient permissions to do that).&lt;/p&gt;</comment>
                            <comment id="12459438" author="bdelacretaz" created="Mon, 18 Dec 2006 19:37:47 +0000"  >&lt;p&gt;Let&apos;s try my brand new Jira karma by resolving this...&lt;/p&gt;</comment>
                            <comment id="12589356" author="hossman" created="Wed, 16 Apr 2008 00:56:44 +0100"  >&lt;p&gt;This bug was modified as part of a bulk update using the criteria...&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Marked (&quot;Resolved&quot; or &quot;Closed&quot;) and &quot;Fixed&quot;&lt;/li&gt;
	&lt;li&gt;Had no &quot;Fix Version&quot; versions&lt;/li&gt;
	&lt;li&gt;Was listed in the CHANGES.txt for 1.1&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The Fix Version for all 38 issues found was set to 1.1, email notification&lt;br/&gt;
was suppressed to prevent excessive email.&lt;/p&gt;

&lt;p&gt;For a list of all the issues modified, search jira comments for this&lt;br/&gt;
(hopefully) unique string: 20080415hossman3&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12500908">SOLR-2413</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12343555" name="SOLR-59-20061024.patch" size="4614" author="bdelacretaz" created="Tue, 24 Oct 2006 17:12:56 +0100"/>
                            <attachment id="12344185" name="SOLR-59-20061102.patch" size="8018" author="bdelacretaz" created="Thu, 2 Nov 2006 11:11:52 +0000"/>
                            <attachment id="12344302" name="SOLR-59-20061103.patch" size="8338" author="bdelacretaz" created="Fri, 3 Nov 2006 16:40:52 +0000"/>
                            <attachment id="12344387" name="SOLR-59-20061106-newfiles.tar.gz" size="2131" author="bdelacretaz" created="Mon, 6 Nov 2006 09:50:17 +0000"/>
                            <attachment id="12344386" name="SOLR-59-20061106.patch" size="8749" author="bdelacretaz" created="Mon, 6 Nov 2006 09:49:54 +0000"/>
                            <attachment id="12347135" name="SOLR-59-20061213.patch" size="26046" author="yseeley@gmail.com" created="Thu, 14 Dec 2006 03:05:13 +0000"/>
                            <attachment id="12344186" name="SOLR-59-new-files-20061102.tar.gz" size="2295" author="bdelacretaz" created="Thu, 2 Nov 2006 11:12:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 25 Oct 2006 03:32:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7522</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxtnb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>21122</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>