<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:22:56 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-969/SOLR-969.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-969] Context#FULL_DUMP, DELTA_DUMP, FIND_DELTA as an enum </title>
                <link>https://issues.apache.org/jira/browse/SOLR-969</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Context # FULL_DUMP,  DELTA_DUMP, FIND_DELTA made type-safe as an enum. &lt;/p&gt;</description>
                <environment>&lt;p&gt;Java 6, Tomcat 6&lt;/p&gt;</environment>
        <key id="12412764">SOLR-969</key>
            <summary>Context#FULL_DUMP, DELTA_DUMP, FIND_DELTA as an enum </summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="shalinmangar">Shalin Shekhar Mangar</assignee>
                                    <reporter username="kaykay.unique">Karthik K</reporter>
                        <labels>
                    </labels>
                <created>Mon, 19 Jan 2009 18:35:58 +0000</created>
                <updated>Tue, 10 Nov 2009 15:50:34 +0000</updated>
                            <resolved>Thu, 16 Apr 2009 09:02:24 +0100</resolved>
                                                    <fixVersion>1.4</fixVersion>
                                    <component>contrib - DataImportHandler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <timeoriginalestimate seconds="3600">1h</timeoriginalestimate>
                            <timeestimate seconds="3600">1h</timeestimate>
                                        <comments>
                            <comment id="12665185" author="kaykay.unique" created="Mon, 19 Jan 2009 18:37:00 +0000"  >&lt;p&gt;New enum value called IMPORT_INVALID for corner cases. &lt;/p&gt;</comment>
                            <comment id="12665326" author="noble.paul" created="Tue, 20 Jan 2009 04:12:26 +0000"  >&lt;p&gt;It was not made an enum because I wamted them to be used in non-java languages (like javascript)&lt;/p&gt;</comment>
                            <comment id="12665466" author="kaykay.unique" created="Tue, 20 Jan 2009 16:48:21 +0000"  >&lt;p&gt;Are there any unit test cases for the scenario that you are mentioning about. Also Context has EntityProcessor / DataSource / VariableResolver as return types .What would be the right way to serialize the Java objects to the JavaSCript realm . &lt;/p&gt;</comment>
                            <comment id="12665699" author="noble.paul" created="Wed, 21 Jan 2009 04:33:01 +0000"  >&lt;p&gt;All the Objects can be consumed directly from JS , just the way we use it in java .&lt;br/&gt;
example&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;dataConfig&amp;gt;
        &amp;lt;script&amp;gt;&amp;lt;![CDATA[
                function f1(row, context)        {
                    &lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt; cmd =  context.getVariableResolver().replaceTokens(&apos;${dataimporter.request.command}&apos;);
                    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(cmd == &apos;full-&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt;&apos;)
                        row.put(&apos;message&apos;, &apos;The command is full-&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt;&apos;);
                    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; row;
                }
        ]]&amp;gt;&amp;lt;/script&amp;gt;
        &amp;lt;document&amp;gt;
                &amp;lt;entity name=&lt;span class=&quot;code-quote&quot;&gt;&quot;e&quot;&lt;/span&gt; pk=&lt;span class=&quot;code-quote&quot;&gt;&quot;id&quot;&lt;/span&gt; transformer=&lt;span class=&quot;code-quote&quot;&gt;&quot;script:f1&quot;&lt;/span&gt; query=&lt;span class=&quot;code-quote&quot;&gt;&quot;select * from X&quot;&lt;/span&gt;&amp;gt;
                ....
                &amp;lt;/entity&amp;gt;
        &amp;lt;/document&amp;gt;
&amp;lt;/dataConfig&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Currently only a Transformer can be written in JS and that is the most common extension point. &lt;/p&gt;

&lt;p&gt;It is hard to write a DataSource/EntityProcessor in JS . I&apos;m interested in having an Entityprocessor written in non-java. but there has not been much interest in it.&lt;/p&gt;

&lt;p&gt; an Eventlistener can be easily written in JS (but not yet implemented)&lt;/p&gt;
</comment>
                            <comment id="12665876" author="kaykay.unique" created="Wed, 21 Jan 2009 16:36:18 +0000"  >&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; It was not made an enum because I wamted them to be used in non-java languages (like javascript)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;


&lt;p&gt;Going back to the original issue - I am sure there would be some way to map the enum objects in java to javascript when it comes to porting the same. Until then ignoring type-safety seems to be ripe for errors ( A good number of test cases seem to pass a 0, as of today in place of ImportProcess in the ContextImpl ctor. when 0 makes no sense at all and another piece of code uses a -1 to check if it is an invalid process i.e. other than full import, delta import, find delta etc. ).  &lt;/p&gt;</comment>
                            <comment id="12666059" author="noble.paul" created="Thu, 22 Jan 2009 05:46:54 +0000"  >&lt;p&gt;I wished it had been String . But, it was already exposed in the API so I did not want to break it. (It may not be so widely used)&lt;/p&gt;

&lt;p&gt;Strings are portable across languages. &lt;/p&gt;
</comment>
                            <comment id="12666203" author="kaykay.unique" created="Thu, 22 Jan 2009 16:36:00 +0000"  >&lt;p&gt;I agree String-s are portable. But choosing an enum would still be orthogonal to Strings thanks to the Enum.valueOf(String) method - We can still regenerate the enum from the String representation (in case of non-Java languages). &lt;/p&gt;

&lt;p&gt;In any case - Context seems to be restricted to DIH and seems to be available since 1.3  only . So making the change now might be more intuitive to the developer instead of misusing with integers not meant to be passed as an argument in the first place. &lt;/p&gt;</comment>
                            <comment id="12683776" author="shalinmangar" created="Fri, 20 Mar 2009 07:13:17 +0000"  >&lt;p&gt;I see no advantage in maintaining an enum as well as a string. I agree that an integer is not intuitive and should be replaced by a string. It might be OK to break compatibility.&lt;/p&gt;</comment>
                            <comment id="12683781" author="shalinmangar" created="Fri, 20 Mar 2009 07:32:02 +0000"  >&lt;p&gt;Patch to change integer to strings.&lt;/p&gt;</comment>
                            <comment id="12699567" author="shalinmangar" created="Thu, 16 Apr 2009 08:44:37 +0100"  >&lt;p&gt;Patch in sync with trunk.&lt;/p&gt;

&lt;p&gt;I&apos;ll commit this shortly.&lt;/p&gt;</comment>
                            <comment id="12699574" author="shalinmangar" created="Thu, 16 Apr 2009 09:02:23 +0100"  >&lt;p&gt;Committed revision 765499.&lt;/p&gt;

&lt;p&gt;I changed the javadocs of Context.currentProcess to reflect the changes.&lt;/p&gt;</comment>
                            <comment id="12775462" author="gsingers" created="Tue, 10 Nov 2009 15:50:34 +0000"  >&lt;p&gt;Bulk close Solr 1.4 issues&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12405629" name="SOLR-969.patch" size="30486" author="shalinmangar" created="Thu, 16 Apr 2009 08:44:37 +0100"/>
                            <attachment id="12402630" name="SOLR-969.patch" size="28491" author="shalinmangar" created="Fri, 20 Mar 2009 07:32:02 +0000"/>
                            <attachment id="12398251" name="SOLR-969.patch" size="28717" author="kaykay.unique" created="Mon, 19 Jan 2009 18:36:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 20 Jan 2009 04:12:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6664</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxo33:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20221</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>