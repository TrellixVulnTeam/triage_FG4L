<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:15:49 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-1335/SOLR-1335.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-1335] load core properties from a properties file</title>
                <link>https://issues.apache.org/jira/browse/SOLR-1335</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;There are  few ways of loading properties in runtime,&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;using env property using in the command line&lt;/li&gt;
	&lt;li&gt;if you use a multicore drop it in the solr.xml&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;if not , the only way is to  keep separate solrconfig.xml for each instance.  #1 is error prone if the user fails to start with the correct system property. &lt;br/&gt;
In our case we have four different configurations for the same deployment  . And we have to disable replication of solrconfig.xml. &lt;/p&gt;

&lt;p&gt;It would be nice if I can distribute four properties file so that our ops can drop  the right one and start Solr. Or it is possible for the operations to edit a properties file  but it is risky to edit solrconfig.xml if he does not understand solr&lt;/p&gt;

&lt;p&gt;I propose a properties file in the instancedir as solrcore.properties . If present would be loaded and added as core specific properties.&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12432243">SOLR-1335</key>
            <summary>load core properties from a properties file</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="noble.paul">Noble Paul</assignee>
                                    <reporter username="noble.paul">Noble Paul</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Aug 2009 07:01:56 +0100</created>
                <updated>Tue, 10 Nov 2009 15:52:12 +0000</updated>
                            <resolved>Wed, 26 Aug 2009 08:49:26 +0100</resolved>
                                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="12740878" author="noble.paul" created="Sat, 8 Aug 2009 12:54:03 +0100"  >&lt;p&gt;hi everyone, If there are no objections I plan to commit this as soon as I write a testcase. Please comment, because this is a very visible change&lt;/p&gt;</comment>
                            <comment id="12741074" author="noble.paul" created="Sun, 9 Aug 2009 13:45:24 +0100"  >&lt;p&gt;with a testcase&lt;/p&gt;</comment>
                            <comment id="12741208" author="noble.paul" created="Mon, 10 Aug 2009 07:54:11 +0100"  >&lt;p&gt;with license headers. I plan to commit this soon&lt;/p&gt;</comment>
                            <comment id="12741414" author="hossman" created="Mon, 10 Aug 2009 17:28:38 +0100"  >&lt;p&gt;Noble: i&apos;m really confused about a few things...&lt;/p&gt;

&lt;p&gt;1) skimming the patch to CoreContainer it looks like &quot;solrconfig.properties&quot; is intented to be a new hardcoded magic filename ... but with the push towards solr.xml being the one and only magic hardcoded filename wouldn&apos;t it make more sense to people specify a properties file name (or names) there? (just like they can specify individual properties)&lt;/p&gt;

&lt;p&gt;2) i don&apos;t really understand the way the test code is structured ... TestSolrCoreProperties extends TestCase, and contains a private inner class SolrInstance extends AbstractSolrTestCase (extends TestCase,) ... huh?  &lt;/p&gt;

&lt;p&gt;SolrInstance&apos;s only value add on top of AbstractSolrTestCaseseems to be the creations of a new &quot;solrcore.properties&quot; file with some values in it ... but why not just commit an example &quot;solrcore.properties&quot; file directly into the test directory?&lt;/p&gt;

&lt;p&gt;What&apos;s the need for the inner test class?  (that file creation could be in the outer setUp() method just as easily) and how does the test actaully verify that a property was set correctly? (the only properties i can see used in solrconfig-solcoreproperties.xml are in garbage xml tags: tag1 &amp;amp; tag2 which aren&apos;t going to affect any behavior)&lt;/p&gt;

&lt;p&gt;(As a general rule: anytime i see System.setProperty i get worried ... those are going to affect the whole VM, not just this test, which could cause all sorts of confusion for other people (or other tests))&lt;/p&gt;</comment>
                            <comment id="12741694" author="noble.paul" created="Tue, 11 Aug 2009 06:39:53 +0100"  >&lt;p&gt;Hoss, thanks for the comments&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;&quot;solrconfig.properties&quot; is intented to be a new hardcoded magic filename .&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;For a single-core the filenames are always hardcoded like solrconfig.xml and schema.xml. solrconfig.xml filename can be overridden from web.xml, but that is only if I modify the solr.war which I believe is not really used and it is &quot;hacking solr&quot;.   &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;but with the push towards solr.xml being the one and only magic hardcoded filename &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This is a good idea. But most of the users use single core deployments and the goodies that come with solr.xml is not available for them. So it is not much helpful . I wish the single core also becomes a multicore with one core and all these confusions can go away.&lt;/p&gt;

&lt;p&gt;We can of course extend this feature by adding a property to the core tag as &amp;lt;core properties=&quot;conf/props.properties&quot;&amp;gt;  in solr.xml . Do we really need to do it now because the properties file itself is optional and adding that to solr.xml can add to more clutter for a feature that is not widely used . Even if we add it later it is going to be backward compatible. &lt;/p&gt;

&lt;p&gt;For the testcase , I just copied it from another w/o giving it much of a thought. The inner class can be avoided&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;anytime i see System.setProperty i get worried &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;do we really have a choice here? Solr needs solr.solr.home to be set as a system property and all testcases follow this pattern&lt;/p&gt;


</comment>
                            <comment id="12743138" author="noble.paul" created="Fri, 14 Aug 2009 09:56:55 +0100"  >&lt;p&gt;The current default name is set as solrcore.properties. Is there any other preference for the name? &lt;/p&gt;</comment>
                            <comment id="12743310" author="otis" created="Fri, 14 Aug 2009 18:30:21 +0100"  >&lt;p&gt;Mind including an example properties file, so we can see what&apos;s in it?&lt;/p&gt;</comment>
                            <comment id="12743538" author="noble.paul" created="Sat, 15 Aug 2009 05:25:46 +0100"  >&lt;p&gt;There is nothing specific in the properties .The user can choose to put in anything which he he would wish to replace in solrconfig/schema&lt;/p&gt;

&lt;p&gt;eg: solrcore.properties&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
/#&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; variable can be directly used in the replication section of solrconfig.xml
masterUrl=http:&lt;span class=&quot;code-comment&quot;&gt;//master_host:8080/solr/replication
&lt;/span&gt;disableMaster=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This following is our usecase. &lt;br/&gt;
The developer who prepares the solrconfig.xml does not know about the host in which it is going to be deployed. So he should just use placeholders in the solrconfig and leave a properties file to the operations. The operations edit the properties file according to the deployment. &lt;/p&gt;</comment>
                            <comment id="12744629" author="hossman" created="Tue, 18 Aug 2009 19:20:15 +0100"  >&lt;blockquote&gt;&lt;p&gt;For a single-core the filenames are always hardcoded like solrconfig.xml and schema.xml. solrconfig.xml filename can be overridden from web.xml,&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;...and they can be overridden in solr.xml &amp;#8211; that&apos;s my main points: you are adding a filewhose name is hardcoded and can&apos;t be changed under any circumstances.  currently solr.xml is the &lt;em&gt;only&lt;/em&gt; field with those kinds of rules, because the solrconfig.xml and schema.xml filenames can be specified in solr.xml. &lt;/p&gt;

&lt;p&gt;I also contest your claim that they are alwasy hardcoded for single cores ... we&apos;ve been making definite progress down a path of encouraging people to use solr.xml even for single core setups, as you say...&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I wish the single core also becomes a multicore with one core and all these confusions can go away.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;...i agree with you completley, but it&apos;s not going to happen overnight, and adding more hardcoded things like this is just a step backwards.&lt;/p&gt;

&lt;p&gt;Frankly: i don&apos;t even thing there should be a default name for this new properties file, i think that if you want Solr to load properties from a file for you, you should be required to use solr.xml, and specify a filename there &amp;#8211; that would also give us the benefit of letting people specify multiple filenames (which is my other big concern about a single magic filename: there can be only one of them.  for something like schema.xml or solrconfig.xml that&apos;s not the end of the world because merging multiple files doesn&apos;t even make much sense, but property files are extremly simple, and it should be just as easy to specify 37 of them as it is to specify 1.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Do we really need to do it now because the properties file itself is optional and adding that to solr.xml can add to more clutter for a feature that is not widely used . Even if we add it later it is going to be backward compatible.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;If it&apos;s something we know we&apos;re going to want to do, and it&apos;s going to keep the code simpler in the long run, we might as well do it right the first time.  there&apos;s already too much confusion between the distinction between the solr home dir, and the solr instance dir when dealing with solr.xml ... having a new magic filename just convolutes matters (looking at the code: i can&apos;t immediately tell, is the property file expected to be in the instanceDir, or the solr home? ... what if i have both?&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;do we really have a choice here? Solr needs solr.solr.home to be set as a system property and all testcases follow this pattern&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;There shouldn&apos;t be any need for a test to set the solr.solr.home system property ... the TestHarness already takes care of initializing the core with the appropriate home dir.&lt;/p&gt;

&lt;p&gt;(if for some reason this features tickles a bit of core initialization that doesn&apos;t work properly with the TestHarness then we should fix the TestHarness ... it&apos;s probably out of date with some of the EmbeddedSolr best practices anyway)&lt;/p&gt;




</comment>
                            <comment id="12744882" author="noble.paul" created="Wed, 19 Aug 2009 06:15:48 +0100"  >&lt;blockquote&gt;&lt;p&gt;I also contest your claim that they are alwasy hardcoded for single cores ... we&apos;ve been making definite progress down a path of encouraging people to use solr.xml even for single core setups, as you say..&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Are we going to do thiat in 1.4 i.e solr.xml for single cores? But this properties file is a critical feature for our ops to deploy solr with replication feature. (The master server is only known at deploy time). currently we are shipping four different solrconfig.xml files&lt;/p&gt;

&lt;p&gt;I am not really worried about the specifics of how we implement this. My requirements are pretty simple&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;A core should be able to load properties from a properties file (any file name, any loaction is OK)&lt;/li&gt;
	&lt;li&gt;There should be one sensible default for that file name and location , just the way we have for schema and solrconfig&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;What is your preference of doing this?&lt;/p&gt;





</comment>
                            <comment id="12744994" author="ehatcher" created="Wed, 19 Aug 2009 11:57:25 +0100"  >&lt;p&gt;Noble - why aren&apos;t system properties viable for this?   The replication examples show master=&quot;$&lt;/p&gt;
{master}
&lt;p&gt;&quot; constructs, allowing a system property to set master versus slave.  &lt;/p&gt;</comment>
                            <comment id="12745007" author="noble.paul" created="Wed, 19 Aug 2009 12:40:21 +0100"  >&lt;blockquote&gt;&lt;p&gt;Noble - why aren&apos;t system properties viable for this?&lt;/p&gt;&lt;/blockquote&gt;

&lt;ul&gt;
	&lt;li&gt;Setting system properties is error prone. If we have a few dozen properties setting -D for each property is hard. The startup scripts are maintained by operations whereas this properties file should be delivered by the developers. This is more about a separation of concern&lt;/li&gt;
	&lt;li&gt;System properties are global properties. we should not corrupt that namespace&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12745022" author="ehatcher" created="Wed, 19 Aug 2009 13:06:20 +0100"  >&lt;p&gt;Error prone?  I don&apos;t buy that.  It&apos;s the same as setting a name in a .properties file - no more error prone than that. &lt;/p&gt;

&lt;p&gt;Startup scripts - these could delegate to a developer maintained subscript that set variables to be included in -D settings.&lt;/p&gt;

&lt;p&gt;Global properties - yes, but you can &quot;namespace&quot; them... -Dcore1name.master=false -Dcore2name.master=true kinda stuff.&lt;/p&gt;

&lt;p&gt;I&apos;m not yet convinced the additional .properties feature is warranted.&lt;/p&gt;</comment>
                            <comment id="12745028" author="noble.paul" created="Wed, 19 Aug 2009 13:15:14 +0100"  >&lt;blockquote&gt;&lt;p&gt;Error prone? I don&apos;t buy that. It&apos;s the same as setting a name in a .properties file - no more error prone than that. &lt;/p&gt;&lt;/blockquote&gt;



&lt;p&gt;these properties files are separately shipped and the developer decides what are the properties. &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Global properties - yes, but you can &quot;namespace&quot; them... -Dcore1name.master=false -Dcore2name.master=true kinda stuff.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;is this clean? &lt;/p&gt;

&lt;p&gt;The system properties are available across the JVM . Why do you want a system wide property for something that is only used in solrconfig/schema? There is a chance of it conflicting with other system properties too.&lt;/p&gt;

&lt;p&gt;I do not see the reason against the properties. It is more like your ant script loading external properties from a properties file. Nobody is mandating the use of it . If one needs to clean up the deployment he is welcome to use it.&lt;/p&gt;</comment>
                            <comment id="12745373" author="noble.paul" created="Thu, 20 Aug 2009 11:18:54 +0100"  >&lt;blockquote&gt;&lt;p&gt;If it&apos;s something we know we&apos;re going to want to do, and it&apos;s going to keep the code simpler in the long run, we might as well do it right the first time.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;ll propose this. Anyway we are planing to move to a stage where we will use solr.xml for single core as well. So I shall add the configuration of the properties in the &amp;lt;core&amp;gt; tag as follows&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;core name=&lt;span class=&quot;code-quote&quot;&gt;&quot;foo&quot;&lt;/span&gt; properties=&lt;span class=&quot;code-quote&quot;&gt;&quot;conf/foo-core.properties&quot;&lt;/span&gt; ... /&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For single core , let us fix a file name . So when we introduce solr.xml for single core it becomes automatically configurable &lt;/p&gt;</comment>
                            <comment id="12745602" author="ehatcher" created="Thu, 20 Aug 2009 21:00:36 +0100"  >&lt;p&gt;Along the same lines as making master/searcher determination through properties, it would be nice to be able to conditionally enable/disable, say, /update handler by some deploy-time switch.    Noble - does it make sense to consider this type of use here?&lt;/p&gt;</comment>
                            <comment id="12745678" author="lancenorskog" created="Thu, 20 Aug 2009 22:38:40 +0100"  >&lt;p&gt;About the features for subsituting properties file:&lt;/p&gt;

&lt;p&gt;I have run multiple Solr instances (servlets) in the same container. Yes, multicore is the better way, but we shoud not force the user to have only one Solr per Tomcat .  So, we should not force only one properties file via System.properties.&lt;/p&gt;

&lt;p&gt;I would ask that if a configuration file uses a properties file, that configuration file should have the ability to name its own properties file. For example, solrconfig.xml should have its own entry for adding properties files. But, if solrconfig.xml names a file the solr.xml should be able to override that file name. To do this, the properties files should be named. &lt;/p&gt;

&lt;p&gt;In conf/query_server.properties:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
fq.size=400
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In foo/conf/solrconfig.xml:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;properties name=&lt;span class=&quot;code-quote&quot;&gt;&quot;query_server&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;conf/query_server.properties&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/properties&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Later in solrconfig.xml:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
&amp;lt;filterCache
  class=&lt;span class=&quot;code-quote&quot;&gt;&quot;solr.FastLRUCache&quot;&lt;/span&gt;
  size=&lt;span class=&quot;code-quote&quot;&gt;&quot;${query_server.fq.size:512}&quot;&lt;/span&gt;
  initialSize=&lt;span class=&quot;code-quote&quot;&gt;&quot;512&quot;&lt;/span&gt;
  autowarmCount=&lt;span class=&quot;code-quote&quot;&gt;&quot;0&quot;&lt;/span&gt;/&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then solr.xml can override the query_servers properties file. In solr.xml:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;core name=&lt;span class=&quot;code-quote&quot;&gt;&quot;foo&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;properties name=&lt;span class=&quot;code-quote&quot;&gt;&quot;query_server&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;${core}/conf/query_server_mini.properties&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/properties&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/core&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This just gets worse and worse &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;  &lt;/p&gt;</comment>
                            <comment id="12745680" author="lancenorskog" created="Thu, 20 Aug 2009 22:42:58 +0100"  >&lt;p&gt;About use cases for this feature:&lt;/p&gt;

&lt;p&gt;I would like to use this along with my strange baby, &lt;a href=&quot;http://issues.apache.org/jira/browse/SOLR-1354&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;SOLR-1354&lt;/a&gt;. It would allow me to push all parameters for an RSS/ATOM feed into a separate configuration file. This way, to add an rss feed to a Solr instance requires editing a properties file and nothing else. (The larger goal is here to make it as easy as possible to make solr useful out of the box.)&lt;/p&gt;

&lt;p&gt;Another place where properties files would be very useful is in DIH scripts. When we want to load multiple shards from the same data source, we need different code for each shard. It would be great to have one master DIH file and a different properties file for each shard. Each properties file has a unique value to define the records for that shard.&lt;/p&gt;

</comment>
                            <comment id="12745799" author="noble.paul" created="Fri, 21 Aug 2009 06:13:09 +0100"  >&lt;blockquote&gt;&lt;p&gt;would be nice to be able to conditionally enable/disable, say, /update handler by some deploy-time switch&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;it is not currently possible. I recommend adding an attribute to each of the plugins &quot;enable as follows&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;requestHandler name=&lt;span class=&quot;code-quote&quot;&gt;&quot;/upadate&quot;&lt;/span&gt; enable=&lt;span class=&quot;code-quote&quot;&gt;&quot;${update_enable:true}&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;specifying the properties file in solrconfig is not a good option because the properties has to be loaded before loading solrconfig.xml so that the variables are replaced at load time of solrconfig&lt;/p&gt;
</comment>
                            <comment id="12745942" author="noble.paul" created="Fri, 21 Aug 2009 13:36:04 +0100"  >&lt;ul&gt;
	&lt;li&gt;The properties filename is configurable from solr.xml on a per-core basis&lt;/li&gt;
	&lt;li&gt;The testcase is cleaned up&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12746746" author="noble.paul" created="Mon, 24 Aug 2009 07:37:31 +0100"  >&lt;p&gt;Please let me know if anyone wants to change anything about this feature before committing this&lt;/p&gt;</comment>
                            <comment id="12747078" author="lancenorskog" created="Mon, 24 Aug 2009 22:09:45 +0100"  >&lt;p&gt;For future mantainability, please change:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;core name=&lt;span class=&quot;code-quote&quot;&gt;&quot;foo&quot;&lt;/span&gt; properties=&lt;span class=&quot;code-quote&quot;&gt;&quot;conf/foo-core.properties&quot;&lt;/span&gt; ... /&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;to:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;core name=&lt;span class=&quot;code-quote&quot;&gt;&quot;foo&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;properties&amp;gt;&lt;/span&gt;conf/foo-core.properties&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/properties&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/core&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This allows us to have multiple properties files later.&lt;/p&gt;</comment>
                            <comment id="12747223" author="noble.paul" created="Tue, 25 Aug 2009 06:13:21 +0100"  >&lt;p&gt;both schema and config are specified as attributes. That is why I kept it as attribute. DO we really need to support multiple ? &lt;br/&gt;
if necessary we can &quot;overload&quot; the existing &quot;property&quot; tag instead of introducing one&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;core name=&lt;span class=&quot;code-quote&quot;&gt;&quot;foo&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property file=&lt;span class=&quot;code-quote&quot;&gt;&quot;conf/foo.properties&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/core&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12747338" author="ehatcher" created="Tue, 25 Aug 2009 11:11:43 +0100"  >&lt;p&gt;Keep it as an attribute.  If/when we need, we can simply make it support a comma-separated list of files.&lt;/p&gt;</comment>
                            <comment id="12747339" author="noble.paul" created="Tue, 25 Aug 2009 11:15:48 +0100"  >&lt;blockquote&gt;&lt;p&gt;Keep it as an attribute. If/when we need, we can simply make it support a comma-separated list of files.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Multiple properties is an uncommon case . As you mentioned we should be able to support it using a comma-separated values&lt;/p&gt;</comment>
                            <comment id="12747817" author="noble.paul" created="Wed, 26 Aug 2009 08:49:26 +0100"  >&lt;p&gt;committed : r807914&lt;/p&gt;
</comment>
                            <comment id="12758511" author="archon810" created="Wed, 23 Sep 2009 01:27:37 +0100"  >&lt;p&gt;So, can someone comment on whether the single core setup (solrconfig.xml) supports referencing a properties file now? I&apos;m not using multicore, like this bug&apos;s author, and after reading through the comments here, I&apos;m still unclear on the single core solution.&lt;/p&gt;

&lt;p&gt;Ideally, solrxonfig.xml would contain a location of the properties file, which it would load prior to parsing everything else.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="12758575" author="noble.paul" created="Wed, 23 Sep 2009 05:10:40 +0100"  >&lt;blockquote&gt;&lt;p&gt;can someone comment on whether the single core setup (solrconfig.xml) supports referencing a properties file now&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;yes, you can. The filename and location is fixed for single core. It should be $solr_home/conf/solrcore.properties&lt;/p&gt;</comment>
                            <comment id="12758985" author="archon810" created="Thu, 24 Sep 2009 04:16:25 +0100"  >&lt;p&gt;Paul, thank you. How funny - I was using nightly build from 8/25/09 and looks like the final commit was made on 8/26/09. Doh!&lt;/p&gt;

&lt;p&gt;So I verified $solr_home/conf/solrcore.properties as working, and it&apos;s good enough for us, but it&apos;d be ideal if this location can be specified in solrconfig.xml, for example to be set to &apos;$solr_home/..&apos;. However,&lt;/p&gt;

&lt;p&gt;a) I&apos;m not sure this is supported right now&lt;br/&gt;
b) I think we came to a conclusion in another ticket that there&apos;s no value $solr_home that one can refer to from within solrconfig.xml (&lt;a href=&quot;http://www.nabble.com/Solr,-JNDI-config,-dataDir,-and-solr-home-problem-td25286277.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.nabble.com/Solr,-JNDI-config,-dataDir,-and-solr-home-problem-td25286277.html&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-1414&quot; title=&quot;implicit core properties are not set for single core&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-1414&quot;&gt;&lt;del&gt;SOLR-1414&lt;/del&gt;&lt;/a&gt;), although it looks like you may have fixed it - is it accessible by $&lt;/p&gt;
{solr.core.instanceDir}
&lt;p&gt;  now?&lt;/p&gt;</comment>
                            <comment id="12758993" author="noble.paul" created="Thu, 24 Sep 2009 04:35:55 +0100"  >&lt;p&gt;solr.home is not technically same as solr.core.instanceDir . it can be different in a multicore setup&lt;/p&gt;</comment>
                            <comment id="12759059" author="archon810" created="Thu, 24 Sep 2009 09:02:30 +0100"  >&lt;p&gt;We&apos;re using single core.&lt;/p&gt;</comment>
                            <comment id="12775828" author="gsingers" created="Tue, 10 Nov 2009 15:52:12 +0000"  >&lt;p&gt;Bulk close for Solr 1.4&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12417265" name="SOLR-1335.patch" size="13256" author="noble.paul" created="Fri, 21 Aug 2009 13:36:04 +0100"/>
                            <attachment id="12416025" name="SOLR-1335.patch" size="11359" author="noble.paul" created="Mon, 10 Aug 2009 07:54:11 +0100"/>
                            <attachment id="12415994" name="SOLR-1335.patch" size="10884" author="noble.paul" created="Sun, 9 Aug 2009 13:45:24 +0100"/>
                            <attachment id="12415827" name="SOLR-1335.patch" size="2922" author="noble.paul" created="Fri, 7 Aug 2009 08:35:28 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 10 Aug 2009 16:28:38 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6316</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxlvj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19863</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>