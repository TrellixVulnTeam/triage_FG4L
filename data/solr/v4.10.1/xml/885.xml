<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:20:04 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-885/SOLR-885.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-885] Generify NamedListCodec</title>
                <link>https://issues.apache.org/jira/browse/SOLR-885</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;ul&gt;
	&lt;li&gt;make NamedListCodec a generic class which may be able to write any of the supported object&lt;/li&gt;
	&lt;li&gt;Deprecate NamedList and use only SimpleOrderedMap. (Yes it is backward compatible)&lt;/li&gt;
	&lt;li&gt;Ideally I wish to call this JavabinCodec because it should be able to be used to write any kind of supported objects&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12409370">SOLR-885</key>
            <summary>Generify NamedListCodec</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="shalinmangar">Shalin Shekhar Mangar</assignee>
                                    <reporter username="noble.paul">Noble Paul</reporter>
                        <labels>
                    </labels>
                <created>Thu, 27 Nov 2008 04:18:32 +0000</created>
                <updated>Tue, 10 Nov 2009 15:51:51 +0000</updated>
                            <resolved>Mon, 22 Dec 2008 06:46:43 +0000</resolved>
                                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12651241" author="noble.paul" created="Thu, 27 Nov 2008 04:19:56 +0000"  >&lt;p&gt;this also throws an exception for invalid version&lt;/p&gt;</comment>
                            <comment id="12651368" author="yseeley@gmail.com" created="Thu, 27 Nov 2008 15:10:43 +0000"  >&lt;p&gt;NamedList and SimpleOrderedMap have different semantics for JSON output (that&apos;s why there were two).  It seems useful to be able to preserve that extra info in javabin since the final client request may be in JSON.&lt;/p&gt;</comment>
                            <comment id="12651470" author="noble.paul" created="Fri, 28 Nov 2008 06:11:42 +0000"  >&lt;p&gt;Patch w/o deprecating NamedList . &lt;/p&gt;

&lt;p&gt;But , before javabin we used to use  xml which has same Semantics for namedList and SimpleOrderedMap it is right?&lt;/p&gt;


</comment>
                            <comment id="12651678" author="ryantxu" created="Fri, 28 Nov 2008 23:00:41 +0000"  >&lt;blockquote&gt;&lt;p&gt;But , before javabin we used to use xml which has same Semantics for namedList and SimpleOrderedMap it is right?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;You are talking about solrj, correct?  Yes - by default we used a syntax that keeps order.  But that does not mean the difference between the classes is not useful for other cases&lt;/p&gt;

&lt;p&gt;Ideally the javabin implementation would know if the result was originally SimpleOrderedMap or not.  This would only really be important in the case where you use javabin to pass on a result to a client (distributed?)&lt;/p&gt;
</comment>
                            <comment id="12651740" author="noble.paul" created="Sat, 29 Nov 2008 18:32:50 +0000"  >&lt;blockquote&gt;&lt;p&gt;by default we used a syntax that keeps order. But that does not mean the difference between the classes is not useful for other cases&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I do not see any difference between NamedList and SimpleOrderedMap . Both has same semantics . So, having different representation in serialized formats look odd&lt;/p&gt;</comment>
                            <comment id="12651743" author="yseeley@gmail.com" created="Sat, 29 Nov 2008 19:03:41 +0000"  >&lt;blockquote&gt;&lt;p&gt;I do not see any difference between NamedList and SimpleOrderedMap . Both has same semantics.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;See the javadoc for SimpleOrderedMap:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
/** &amp;lt;code&amp;gt;SimpleOrderedMap&amp;lt;/code&amp;gt; is a {@link NamedList} where access by key is more
 * important than maintaining order when it comes to representing the
 * held data in other forms, as ResponseWriters normally &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt;.
 * It&apos;s normally not a good idea to repeat keys or use &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; keys, but &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;
 * is not enforced.  If key uniqueness enforcement is desired, use a regular {@link Map}.
 * &amp;lt;p&amp;gt;
 * For example, a JSON response writer may choose to write a SimpleOrderedMap
 * as {&lt;span class=&quot;code-quote&quot;&gt;&quot;foo&quot;&lt;/span&gt;:10,&lt;span class=&quot;code-quote&quot;&gt;&quot;bar&quot;&lt;/span&gt;:20} and may choose to write a NamedList as
 * [&lt;span class=&quot;code-quote&quot;&gt;&quot;foo&quot;&lt;/span&gt;,10,&lt;span class=&quot;code-quote&quot;&gt;&quot;bar&quot;&lt;/span&gt;,20].  An XML response writer may choose to render both
 * the same way.
 * &amp;lt;/p&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The problem is that some clients don&apos;t maintain order (for example, doing eval() of JSON/python/ruby output).  It wouldn&apos;t be an issue if we had control over all clients, but we don&apos;t.&lt;/p&gt;</comment>
                            <comment id="12653177" author="noble.paul" created="Thu, 4 Dec 2008 05:21:46 +0000"  >&lt;p&gt;OK. let us not make the change and stick to the original description of the bug make NamedListCodec generic&lt;br/&gt;
the latest patch just does that&lt;/p&gt;</comment>
                            <comment id="12654745" author="shalinmangar" created="Tue, 9 Dec 2008 09:15:33 +0000"  >&lt;p&gt;I think we can make this one change. No need to deprecate NamedList and use only SimpleOrderedMap.&lt;/p&gt;

&lt;p&gt;Are there any concerns?&lt;/p&gt;</comment>
                            <comment id="12654840" author="yseeley@gmail.com" created="Tue, 9 Dec 2008 16:15:40 +0000"  >&lt;p&gt;Noble, did you attach the latest patch?&lt;/p&gt;</comment>
                            <comment id="12654876" author="noble.paul" created="Tue, 9 Dec 2008 18:18:36 +0000"  >&lt;p&gt;after Ryan moved the packages around the patch became invalid&lt;/p&gt;

&lt;p&gt;new patch to sync with trunk&lt;/p&gt;

&lt;p&gt;some fields/methods are changed from private to public/protected so that this can be used extend the format&lt;/p&gt;</comment>
                            <comment id="12657381" author="noble.paul" created="Wed, 17 Dec 2008 13:28:14 +0000"  >&lt;p&gt;NamedListCodec is renamed as JavabinCodec over and above the previous patch&lt;/p&gt;

&lt;p&gt;NamedListCodec now extends JavabinCodec and it is also marked as deprected&lt;/p&gt;</comment>
                            <comment id="12657383" author="shalinmangar" created="Wed, 17 Dec 2008 13:34:24 +0000"  >&lt;p&gt;This looks good Noble. Let us do the rename as another patch/commit. It is difficult to figure out the changes with the renamed source file. We also need to update the Javadocs.&lt;/p&gt;</comment>
                            <comment id="12657384" author="noble.paul" created="Wed, 17 Dec 2008 13:35:49 +0000"  >&lt;p&gt;My second last patch and the latest patch has only this one difference (the rename)&lt;/p&gt;</comment>
                            <comment id="12657487" author="yseeley@gmail.com" created="Wed, 17 Dec 2008 19:01:48 +0000"  >&lt;p&gt;What is gained by making NamedListCodec a generic?&lt;/p&gt;</comment>
                            <comment id="12657667" author="noble.paul" created="Thu, 18 Dec 2008 04:28:43 +0000"  >&lt;p&gt;NamedListCodec dictates the root Object to be a NamedList . It is useful if we can write other supported types as the root object. say Map, List&lt;/p&gt;

&lt;p&gt;Why give a special status to NamedList when the implementation has no such constraints?&lt;/p&gt;</comment>
                            <comment id="12657681" author="yseeley@gmail.com" created="Thu, 18 Dec 2008 05:51:27 +0000"  >&lt;blockquote&gt;&lt;p&gt;NamedListCodec dictates the root Object to be a NamedList &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Agreed, but theType parameter is only used to cast the final root Object to the Type.&lt;/p&gt;

&lt;p&gt;So instead of this big patch, simply change the signature of the method:&lt;br/&gt;
    public NamedList unmarshal(InputStream is)&lt;br/&gt;
To&lt;br/&gt;
   public Object unmarshal(InputStream is)&lt;/p&gt;</comment>
                            <comment id="12657691" author="noble.paul" created="Thu, 18 Dec 2008 06:03:23 +0000"  >&lt;blockquote&gt;&lt;p&gt;So instead of this big patch, simply change the signature of the method:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;public NamedList unmarshal(InputStream is)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;To&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;public Object unmarshal(InputStream is)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This is fine .No need to make it generic&lt;/p&gt;

&lt;p&gt;But renaming the class to JavabinCodec makes sense right? &lt;/p&gt;</comment>
                            <comment id="12657903" author="yseeley@gmail.com" created="Thu, 18 Dec 2008 21:04:59 +0000"  >&lt;blockquote&gt;&lt;p&gt;But renaming the class to JavabinCodec makes sense right? &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yep.&lt;/p&gt;

&lt;p&gt;Of course, I was never quite sure why it was &quot;javabin&quot; and not just &quot;bin&quot; or &quot;binary&quot;.&lt;/p&gt;</comment>
                            <comment id="12657999" author="noble.paul" created="Fri, 19 Dec 2008 04:08:10 +0000"  >&lt;blockquote&gt;&lt;p&gt;Of course, I was never quite sure why it was &quot;javabin&quot; and not just &quot;bin&quot; or &quot;binary&quot;.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Frankly, I don&apos;t have an answer. It just happened.  &lt;br/&gt;
My thought process was that there would be other binary formats coming up later protobuf/thrift etc. &lt;/p&gt;
</comment>
                            <comment id="12658063" author="shalinmangar" created="Fri, 19 Dec 2008 11:06:55 +0000"  >&lt;p&gt;With this patch NamedListCodec returns Object instead.&lt;/p&gt;</comment>
                            <comment id="12658064" author="shalinmangar" created="Fri, 19 Dec 2008 11:10:01 +0000"  >&lt;p&gt;Forgot to change TestBinaryResponseWriter for the change in NamedListCodec&lt;/p&gt;</comment>
                            <comment id="12658084" author="shalinmangar" created="Fri, 19 Dec 2008 13:25:27 +0000"  >&lt;p&gt;Committed revision 728017.&lt;/p&gt;

&lt;p&gt;I&apos;ll give a patch now to rename NamedListCodec to JavaBinCodec.&lt;/p&gt;</comment>
                            <comment id="12658457" author="shalinmangar" created="Mon, 22 Dec 2008 06:46:43 +0000"  >&lt;p&gt;Committed revision 728622.&lt;/p&gt;</comment>
                            <comment id="12775591" author="gsingers" created="Tue, 10 Nov 2009 15:51:51 +0000"  >&lt;p&gt;Bulk close for Solr 1.4&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12396480" name="SOLR-885.patch" size="7469" author="shalinmangar" created="Fri, 19 Dec 2008 11:10:01 +0000"/>
                            <attachment id="12396479" name="SOLR-885.patch" size="6558" author="shalinmangar" created="Fri, 19 Dec 2008 11:06:55 +0000"/>
                            <attachment id="12396302" name="SOLR-885.patch" size="49932" author="noble.paul" created="Wed, 17 Dec 2008 13:28:14 +0000"/>
                            <attachment id="12395664" name="SOLR-885.patch" size="7102" author="noble.paul" created="Tue, 9 Dec 2008 18:18:36 +0000"/>
                            <attachment id="12394807" name="SOLR-885.patch" size="6964" author="noble.paul" created="Thu, 27 Nov 2008 04:19:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 27 Nov 2008 15:10:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6746</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxolz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20306</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>