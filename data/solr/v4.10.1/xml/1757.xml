<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:17:06 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-1757/SOLR-1757.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-1757] DIH multithreading sometimes throws NPE</title>
                <link>https://issues.apache.org/jira/browse/SOLR-1757</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;When the &quot;threads&quot; attribute is set on a root entity in the DIH&apos;s data-config.xml, the multithreading code sometimes throws a NullPointerException after the full-index command is given.&lt;/p&gt;

&lt;p&gt;I haven&apos;t yet been able to figure out exactly which reference holds the null or why, but it does happen consistently with the same backtrace.&lt;/p&gt;

&lt;p&gt;My configuration is:&lt;/p&gt;

&lt;p&gt;1. Multi-core Solr under tomcat&lt;br/&gt;
2. Using JdbcDataSource and the default SqlEntityProcessor&lt;/p&gt;

&lt;p&gt;To reproduce:&lt;/p&gt;

&lt;p&gt;1. Add the attribute threads=&quot;2&quot; to the root entity declaration in data-config.xml&lt;br/&gt;
2. Send the full-import command either directly to .../core/dataimport?command=full-import or through the /admin/dataimport.jsp control panel.&lt;br/&gt;
3. Wait for the NPE to show up in the logs/console&lt;/p&gt;</description>
                <environment>&lt;p&gt;tomcat 6.0.x, jdk 1.6.x on windows xp 32bit&lt;/p&gt;</environment>
        <key id="12455378">SOLR-1757</key>
            <summary>DIH multithreading sometimes throws NPE</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="noble.paul">Noble Paul</assignee>
                                    <reporter username="mhenson">Michael Henson</reporter>
                        <labels>
                            <label>dih</label>
                            <label>multithread</label>
                    </labels>
                <created>Fri, 5 Feb 2010 02:12:43 +0000</created>
                <updated>Tue, 9 Feb 2010 05:26:39 +0000</updated>
                            <resolved>Tue, 9 Feb 2010 05:26:39 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>1.5</fixVersion>
                                    <component>contrib - DataImportHandler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12829919" author="mhenson" created="Fri, 5 Feb 2010 02:15:08 +0000"  >&lt;p&gt;This is the backtrace I get with this NPE. The backtrace is always the same, though I haven&apos;t confirmed whether or not it happens with the same data or after the same number of rows have been processed. The redacted part of the backtrace looked normal - no missing fields, no empty values.&lt;/p&gt;</comment>
                            <comment id="12830395" author="mhenson" created="Sat, 6 Feb 2010 01:01:17 +0000"  >&lt;p&gt;The patch works to get it running. Now the issue is that the process doesn&apos;t stop after an &quot;abort&quot; command is given.&lt;/p&gt;</comment>
                            <comment id="12830450" author="noble.paul" created="Sat, 6 Feb 2010 04:03:06 +0000"  >&lt;p&gt;thanks Micheal. I&apos;ll commit this soon&lt;/p&gt;

&lt;p&gt;could you help me w/ the thread dumps after the abort. &lt;/p&gt;</comment>
                            <comment id="12831163" author="mhenson" created="Mon, 8 Feb 2010 22:29:53 +0000"  >&lt;p&gt;This is the ../admin/threaddjump.jsp page for the core configured with threads=&quot;3&quot;, running a full-import, after having sent it the abort command.&lt;/p&gt;</comment>
                            <comment id="12831298" author="noble.paul" created="Tue, 9 Feb 2010 05:24:19 +0000"  >&lt;p&gt;I guess you have pasted the wrong stacktrace.&lt;/p&gt;

&lt;p&gt;We can close this issue and open another for the persistent threads after abort command&lt;/p&gt;</comment>
                            <comment id="12831299" author="noble.paul" created="Tue, 9 Feb 2010 05:26:39 +0000"  >&lt;p&gt;comitted r907935&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12434946" name="SOLR-1757.patch" size="3270" author="noble.paul" created="Fri, 5 Feb 2010 09:44:15 +0000"/>
                            <attachment id="12434918" name="solr-1352-threads-bt.txt" size="2639" author="mhenson" created="Fri, 5 Feb 2010 02:15:08 +0000"/>
                            <attachment id="12435218" name="solr-1757-abort-threaddump.zip" size="2672" author="mhenson" created="Mon, 8 Feb 2010 22:29:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 6 Feb 2010 04:03:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5699</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxjdj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19458</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>