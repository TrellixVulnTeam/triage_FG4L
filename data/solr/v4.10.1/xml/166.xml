<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:22:47 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-166/SOLR-166.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-166] trunk requires solr.solr.home set even if JNDI is set</title>
                <link>https://issues.apache.org/jira/browse/SOLR-166</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;The current trunk requires the solr.solr.home property to be set - even if JNDI is configured properly.  &lt;/p&gt;

&lt;p&gt;I think this is because SolrServlet loads before SolrDispatchFilter and calls SolrCore.getSolrCore();&lt;/p&gt;

&lt;p&gt;is there a way to make sure SolrDispatchFilter gets initalized first?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12363177">SOLR-166</key>
            <summary>trunk requires solr.solr.home set even if JNDI is set</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hossman">Hoss Man</assignee>
                                    <reporter username="ryantxu">Ryan McKinley</reporter>
                        <labels>
                    </labels>
                <created>Mon, 19 Feb 2007 22:12:01 +0000</created>
                <updated>Fri, 10 May 2013 11:41:07 +0100</updated>
                            <resolved>Tue, 20 Feb 2007 01:42:58 +0000</resolved>
                                    <version>1.2</version>
                                    <fixVersion>1.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12474296" author="ryantxu" created="Mon, 19 Feb 2007 22:14:01 +0000"  >&lt;p&gt;running resin on winXP from cwd: c:/tmp&lt;/p&gt;

&lt;p&gt;resin.conf:&lt;/p&gt;


&lt;p&gt;      &amp;lt;web-app id=&quot;/solr&quot; character-encoding=&quot;utf-8&quot;&lt;br/&gt;
        document-directory=&quot;C:/workspace/solr-clean/example/webapps/solr&quot; &lt;br/&gt;
              archive-path=&quot;C:/workspace/solr-clean/example/webapps/solr.war&quot;&amp;gt;&lt;br/&gt;
	    &amp;lt;env-entry&amp;gt;&lt;br/&gt;
	      &amp;lt;env-entry-name&amp;gt;solr/home&amp;lt;/env-entry-name&amp;gt;&lt;br/&gt;
	      &amp;lt;env-entry-type&amp;gt;java.lang.String&amp;lt;/env-entry-type&amp;gt;&lt;br/&gt;
	      &amp;lt;env-entry-value&amp;gt;C:/workspace/solr-clean/example/solr&amp;lt;/env-entry-value&amp;gt;&lt;br/&gt;
	    &amp;lt;/env-entry&amp;gt;&lt;br/&gt;
	  &amp;lt;/web-app&amp;gt;&lt;/p&gt;


&lt;p&gt;when i run, i get:&lt;/p&gt;

&lt;p&gt;Starting Resin on Mon, 19 Feb 2007 14:05:42 -0800 (PST)&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:43.343&amp;#93;&lt;/span&gt; Server[] starting&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:43.343&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:43.343&amp;#93;&lt;/span&gt; Windows XP 5.1 x86&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:43.343&amp;#93;&lt;/span&gt; Java 1.5.0_07-b03, 32, mixed mode, Cp1252, en, Sun Microsystems Inc.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:43.343&amp;#93;&lt;/span&gt; resin.home = null&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:43.343&amp;#93;&lt;/span&gt; server.root = null&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:43.343&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:43.390&amp;#93;&lt;/span&gt; http listening to *:8080&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:43.421&amp;#93;&lt;/span&gt; Host[] starting&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:43.906&amp;#93;&lt;/span&gt; WebApp&lt;a href=&quot;http://localhost:8080/solr&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://localhost:8080/solr&lt;/a&gt; starting&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:43.937&amp;#93;&lt;/span&gt; SolrServer: init&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:43.937&amp;#93;&lt;/span&gt; SolrServlet.init()&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.000&amp;#93;&lt;/span&gt; Solr home defaulted to &apos;solr/&apos; (system property solr.solr.home not set)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; java.lang.ExceptionInInitializerError&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at org.apache.solr.update.SolrIndexConfig.&amp;lt;clinit&amp;gt;(SolrIndexConfig.java:36)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at org.apache.solr.core.SolrCore.&amp;lt;clinit&amp;gt;(SolrCore.java:73)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at org.apache.solr.servlet.SolrServlet.init(SolrServlet.java:48)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at javax.servlet.GenericServlet.init(GenericServlet.java:69)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.dispatch.ServletConfigImpl.createServletImpl(ServletConfigImpl.java:646)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.dispatch.ServletConfigImpl.createServlet(ServletConfigImpl.java:587)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.dispatch.ServletManager.init(ServletManager.java:154)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.webapp.Application.start(Application.java:1654)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.deploy.DeployController.startImpl(DeployController.java:621)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.deploy.StartAutoRedeployAutoStrategy.startOnInit(StartAutoRedeployAutoStrategy.java:72)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.deploy.DeployController.startOnInit(DeployController.java:509)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.deploy.DeployContainer.start(DeployContainer.java:153)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.webapp.ApplicationContainer.start(ApplicationContainer.java:670)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.host.Host.start(Host.java:420)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.deploy.DeployController.startImpl(DeployController.java:621)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.deploy.StartAutoRedeployAutoStrategy.startOnInit(StartAutoRedeployAutoStrategy.java:72)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.deploy.DeployController.startOnInit(DeployController.java:509)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.deploy.DeployContainer.start(DeployContainer.java:153)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.host.HostContainer.start(HostContainer.java:504)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.resin.ServletServer.start(ServletServer.java:971)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.deploy.DeployController.startImpl(DeployController.java:621)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.deploy.AbstractDeployControllerStrategy.start(AbstractDeployControllerStrategy.java:56)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.deploy.DeployController.start(DeployController.java:517)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.resin.ResinServer.start(ResinServer.java:546)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.resin.Resin.init(Resin.java)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.resin.Resin.main(Resin.java:625)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.http.ResinServer.main(ResinServer.java:61)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; Caused by: java.lang.RuntimeException: Error in solrconfig.xml&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at org.apache.solr.core.SolrConfig.&amp;lt;clinit&amp;gt;(SolrConfig.java:82)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	... 27 more&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; Caused by: java.lang.RuntimeException: Can&apos;t find resource &apos;solrconfig.xml&apos; in classpath or &apos;solr/conf/&apos;, cwd=C:\tmp&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at org.apache.solr.core.Config.openResource(Config.java:324)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at org.apache.solr.core.SolrConfig.initConfig(SolrConfig.java:72)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at org.apache.solr.core.SolrConfig.&amp;lt;clinit&amp;gt;(SolrConfig.java:80)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	... 27 more&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; javax.servlet.ServletException: java.lang.ExceptionInInitializerError&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.dispatch.ServletConfigImpl.createServlet(ServletConfigImpl.java:618)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.dispatch.ServletManager.init(ServletManager.java:154)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.webapp.Application.start(Application.java:1654)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.deploy.DeployController.startImpl(DeployController.java:621)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.deploy.StartAutoRedeployAutoStrategy.startOnInit(StartAutoRedeployAutoStrategy.java:72)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.deploy.DeployController.startOnInit(DeployController.java:509)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.deploy.DeployContainer.start(DeployContainer.java:153)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.webapp.ApplicationContainer.start(ApplicationContainer.java:670)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.host.Host.start(Host.java:420)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.deploy.DeployController.startImpl(DeployController.java:621)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.deploy.StartAutoRedeployAutoStrategy.startOnInit(StartAutoRedeployAutoStrategy.java:72)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.deploy.DeployController.startOnInit(DeployController.java:509)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.deploy.DeployContainer.start(DeployContainer.java:153)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.host.HostContainer.start(HostContainer.java:504)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.resin.ServletServer.start(ServletServer.java:971)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.deploy.DeployController.startImpl(DeployController.java:621)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.deploy.AbstractDeployControllerStrategy.start(AbstractDeployControllerStrategy.java:56)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.deploy.DeployController.start(DeployController.java:517)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.resin.ResinServer.start(ResinServer.java:546)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.resin.Resin.init(Resin.java)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.resin.Resin.main(Resin.java:625)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.http.ResinServer.main(ResinServer.java:61)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; Caused by: java.lang.ExceptionInInitializerError&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at org.apache.solr.update.SolrIndexConfig.&amp;lt;clinit&amp;gt;(SolrIndexConfig.java:36)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at org.apache.solr.core.SolrCore.&amp;lt;clinit&amp;gt;(SolrCore.java:73)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at org.apache.solr.servlet.SolrServlet.init(SolrServlet.java:48)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at javax.servlet.GenericServlet.init(GenericServlet.java:69)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.dispatch.ServletConfigImpl.createServletImpl(ServletConfigImpl.java:646)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.dispatch.ServletConfigImpl.createServlet(ServletConfigImpl.java:587)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	... 21 more&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; Caused by: java.lang.RuntimeException: Error in solrconfig.xml&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at org.apache.solr.core.SolrConfig.&amp;lt;clinit&amp;gt;(SolrConfig.java:82)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	... 27 more&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; Caused by: java.lang.RuntimeException: Can&apos;t find resource &apos;solrconfig.xml&apos; in classpath or &apos;solr/conf/&apos;, cwd=C:\tmp&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at org.apache.solr.core.Config.openResource(Config.java:324)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at org.apache.solr.core.SolrConfig.initConfig(SolrConfig.java:72)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at org.apache.solr.core.SolrConfig.&amp;lt;clinit&amp;gt;(SolrConfig.java:80)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	... 27 more&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; javax.servlet.ServletException: java.lang.ExceptionInInitializerError&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.dispatch.ServletConfigImpl.createServlet(ServletConfigImpl.java:618)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.dispatch.ServletManager.init(ServletManager.java:154)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.webapp.Application.start(Application.java:1654)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.deploy.DeployController.startImpl(DeployController.java:621)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.deploy.StartAutoRedeployAutoStrategy.startOnInit(StartAutoRedeployAutoStrategy.java:72)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.deploy.DeployController.startOnInit(DeployController.java:509)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.deploy.DeployContainer.start(DeployContainer.java:153)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.webapp.ApplicationContainer.start(ApplicationContainer.java:670)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.host.Host.start(Host.java:420)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.deploy.DeployController.startImpl(DeployController.java:621)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.deploy.StartAutoRedeployAutoStrategy.startOnInit(StartAutoRedeployAutoStrategy.java:72)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.deploy.DeployController.startOnInit(DeployController.java:509)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.deploy.DeployContainer.start(DeployContainer.java:153)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.host.HostContainer.start(HostContainer.java:504)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.resin.ServletServer.start(ServletServer.java:971)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.deploy.DeployController.startImpl(DeployController.java:621)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.deploy.AbstractDeployControllerStrategy.start(AbstractDeployControllerStrategy.java:56)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.deploy.DeployController.start(DeployController.java:517)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.resin.ResinServer.start(ResinServer.java:546)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.resin.Resin.init(Resin.java)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.resin.Resin.main(Resin.java:625)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.http.ResinServer.main(ResinServer.java:61)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; Caused by: java.lang.ExceptionInInitializerError&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at org.apache.solr.update.SolrIndexConfig.&amp;lt;clinit&amp;gt;(SolrIndexConfig.java:36)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at org.apache.solr.core.SolrCore.&amp;lt;clinit&amp;gt;(SolrCore.java:73)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at org.apache.solr.servlet.SolrServlet.init(SolrServlet.java:48)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at javax.servlet.GenericServlet.init(GenericServlet.java:69)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.dispatch.ServletConfigImpl.createServletImpl(ServletConfigImpl.java:646)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at com.caucho.server.dispatch.ServletConfigImpl.createServlet(ServletConfigImpl.java:587)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	... 21 more&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; Caused by: java.lang.RuntimeException: Error in solrconfig.xml&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at org.apache.solr.core.SolrConfig.&amp;lt;clinit&amp;gt;(SolrConfig.java:82)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	... 27 more&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; Caused by: java.lang.RuntimeException: Can&apos;t find resource &apos;solrconfig.xml&apos; in classpath or &apos;solr/conf/&apos;, cwd=C:\tmp&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at org.apache.solr.core.Config.openResource(Config.java:324)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at org.apache.solr.core.SolrConfig.initConfig(SolrConfig.java:72)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	at org.apache.solr.core.SolrConfig.&amp;lt;clinit&amp;gt;(SolrConfig.java:80)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;14:05:44.015&amp;#93;&lt;/span&gt; 	... 27 more&lt;/p&gt;
</comment>
                            <comment id="12474300" author="hossman" created="Mon, 19 Feb 2007 22:26:38 +0000"  >&lt;p&gt;load-on-startup in the web.xml is what tells the servlet container which order to load things on startup (if not set, things are loaded on first use)&lt;/p&gt;

&lt;p&gt;i have no idea if the servlet spec says all servelets should be loaded before all filters, or if they are in the same &quot;load pool&quot;&lt;/p&gt;

&lt;p&gt;Ryan: can you try setting a low load-on-startup for the dispatch filter (and change the values for hte servlets to be something high) and see if that solves the problem?&lt;/p&gt;</comment>
                            <comment id="12474302" author="ryantxu" created="Mon, 19 Feb 2007 22:37:44 +0000"  >&lt;p&gt;I don&apos;t see anyway to set load-on-startup for filters.  It seems to only work for servlets.  I&apos;m able to fix this problem two ways on resin:&lt;/p&gt;

&lt;p&gt; 1. remove &quot;&amp;lt;load-on-startup&amp;gt;1&amp;lt;/load-on-startup&amp;gt;&quot; from SolrServer servlet&lt;br/&gt;
 2. lazy load core = SolrCore.getSolrCore()&lt;/p&gt;

&lt;p&gt;I think 1 is the better option.  Filters are initalized are startup in most servlet containers.  aparently resin first handles the &quot;load-on-startup&quot; servlets, then moves on to the filters.  Jetty does the opposite.&lt;/p&gt;

&lt;p&gt;Note, the &amp;lt;load-on-startup&amp;gt;2&amp;lt;/load-on-startup&amp;gt; for SolrUpdate does not affect anything.  that servlet just punts anyway.&lt;/p&gt;</comment>
                            <comment id="12474310" author="hossman" created="Mon, 19 Feb 2007 23:30:00 +0000"  >&lt;p&gt;hmmm ... servlet spec 2.4 says that all fitlers should be loaded before any servlets (see p78 in SRV.9.12) ... so unless that&apos;s changed between 2.3 nad 2.4 it&apos;s a resin bug.&lt;/p&gt;

&lt;p&gt;Ryan: one thing to try is changing the web.xml to use the 2.4 XSD instead of the 2.3 DTD and see if that forces resin to be compliant about loading the filter first.&lt;/p&gt;

&lt;p&gt;in general, i think it&apos;s good to load Servlets on startup even if there is no special initialization code they need to run, because it helps validate that the servlet is there on startup, and reduces the request time for the &quot;first request&quot; to that servlet because the class is alrready loaded.&lt;/p&gt;

&lt;p&gt;a third option you didn&apos;t mention would be moving all of the setInstanceDir logic using JNDI from the SolrDispatchFilter into Config.getInstanceDir ... off the top of my head i&apos;m not sure why it was ever in the Dispatcher/SolrServlet in the first place.&lt;/p&gt;

&lt;p&gt;In a nutshell, getInstanceDir should check if a dir has been set, if not try JNDI, then system prop, then default to CWD and call setInstanceDir.&lt;/p&gt;


&lt;p&gt;what do you think?&lt;/p&gt;</comment>
                            <comment id="12474314" author="ryantxu" created="Mon, 19 Feb 2007 23:44:00 +0000"  >
&lt;p&gt;&amp;gt; Ryan: one thing to try is changing the web.xml to use the 2.4 XSD instead of the 2.3 DTD&lt;/p&gt;

&lt;p&gt;no dice.  it must be a resin bug.&lt;/p&gt;

&lt;p&gt;&amp;gt; &lt;br/&gt;
&amp;gt; in general, i think it&apos;s good to load Servlets on startup even if...&lt;/p&gt;

&lt;p&gt;agreed&lt;/p&gt;

&lt;p&gt;&amp;gt; &lt;br/&gt;
&amp;gt; In a nutshell, getInstanceDir should check if a dir has been set, if not &lt;/p&gt;

&lt;p&gt;1. try JNDI, &lt;br/&gt;
2. system prop, &lt;br/&gt;
3. default to CWD&lt;/p&gt;

&lt;p&gt;call setInstanceDir.&lt;/p&gt;

&lt;p&gt;&amp;gt; &lt;br/&gt;
&amp;gt; what do you think?&lt;/p&gt;

&lt;p&gt;I like it!  as long as it only attempts the JNDI stuff if does not require extra libraries for a lightweight embedded version.&lt;/p&gt;
</comment>
                            <comment id="12474319" author="ryantxu" created="Mon, 19 Feb 2007 23:59:41 +0000"  >&lt;p&gt;quick patch.  it works for me...&lt;/p&gt;</comment>
                            <comment id="12474331" author="hossman" created="Tue, 20 Feb 2007 01:42:58 +0000"  >&lt;p&gt;commited with two small changes...&lt;/p&gt;

&lt;p&gt;1) log any unexpected RuntimeExceptions durring JNDI checks as warnings instead of silently ignoring (expected exceptions when JNDI isn&apos;t available are already loged as &quot;info&quot;)&lt;/p&gt;

&lt;p&gt;2) use !isInstanceDirInitalized() instead of testing ==null directly.&lt;/p&gt;


&lt;p&gt;thanks for finding this and implimenting the fix Ryan&lt;/p&gt;</comment>
                            <comment id="12589321" author="hossman" created="Wed, 16 Apr 2008 00:44:45 +0100"  >&lt;p&gt;This bug was modified as part of a bulk update using the criteria...&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Marked (&quot;Resolved&quot; or &quot;Closed&quot;) and &quot;Fixed&quot;&lt;/li&gt;
	&lt;li&gt;Had no &quot;Fix Version&quot; versions&lt;/li&gt;
	&lt;li&gt;Was listed in the CHANGES.txt for 1.2&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The Fix Version for all 39 issues found was set to 1.2, email notification&lt;br/&gt;
was suppressed to prevent excessive email.&lt;/p&gt;

&lt;p&gt;For a list of all the issues modified, search jira comments for this&lt;br/&gt;
(hopefully) unique string: 20080415hossman2&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12351544" name="SOLR-166-InitalizationOrder.patch" size="3898" author="ryantxu" created="Mon, 19 Feb 2007 23:59:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 19 Feb 2007 22:26:38 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7419</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxszr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>21016</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>