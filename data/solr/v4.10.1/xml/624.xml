<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:19:13 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-624/SOLR-624.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-624] patch: Don&apos;t take snapshot if there are no differences</title>
                <link>https://issues.apache.org/jira/browse/SOLR-624</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;This is similar in concept to a change I made several years ago in Solar.   Cronned snapshooters can quickly generate a lot of snaps which will then be unnecessarily distributed to the slaves if there hasn&apos;t been any changes in that period.&lt;/p&gt;

&lt;p&gt;Adds a &quot;check&quot; argument to make sure there where changes to the index before taking the snap.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12399934">SOLR-624</key>
            <summary>patch: Don&apos;t take snapshot if there are no differences</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gsingers">Grant Ingersoll</assignee>
                                    <reporter username="rhyde">Richard &quot;Trey&quot; Hyde</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Jul 2008 18:31:05 +0100</created>
                <updated>Fri, 10 May 2013 11:41:17 +0100</updated>
                            <resolved>Fri, 8 Aug 2008 02:24:27 +0100</resolved>
                                    <version>1.3</version>
                                    <fixVersion>1.3</fixVersion>
                                    <component>replication (scripts)</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12612201" author="rhyde" created="Wed, 9 Jul 2008 18:32:06 +0100"  >&lt;p&gt;Patch to snapshooter&lt;/p&gt;</comment>
                            <comment id="12612237" author="shalinmangar" created="Wed, 9 Jul 2008 19:58:43 +0100"  >&lt;p&gt;Just curious, why would you cron snapshooter instead of using the postCommit/postOptimize hook?&lt;/p&gt;</comment>
                            <comment id="12612244" author="dsteigerwald" created="Wed, 9 Jul 2008 20:25:24 +0100"  >&lt;p&gt;If you have lots of cores committing very often (like we do), it can totally thrash your system.  I was planning on implementing something like this at very soon.  Glad someone else already did.&lt;/p&gt;</comment>
                            <comment id="12612262" author="rhyde" created="Wed, 9 Jul 2008 21:30:34 +0100"  >&lt;p&gt;The original patch was before postCommit/postOptimize hooks existed (or at least before I know about them) in the days before Solr was open sourced.  Threw this quickly together today when I was annoyed when using snapshooter on the command line (testing MacOS, FreeBSD compatibility among other things). &lt;/p&gt;

&lt;p&gt;It seems there is one other person that might find it useful.&lt;/p&gt;</comment>
                            <comment id="12612374" author="hossman" created="Thu, 10 Jul 2008 05:40:54 +0100"  >&lt;p&gt;FWIW: issues with the amount of ram/swap needed in order to fork&amp;amp;exec the replication scripts from java is another reason i know some people cron snapshooter.  &lt;/p&gt;

&lt;p&gt;short circuiting in the NOOP case out is rarely a bad idea.&lt;/p&gt;

&lt;p&gt;one thing i notice skimming the patch: snapshot.* is used to get the list of all snapshots &amp;#8211; didn&apos;t we removed similar wildcards from the other scripts because it barfs when the number of snapshots gets really big?&lt;/p&gt;</comment>
                            <comment id="12612458" author="billa" created="Thu, 10 Jul 2008 13:26:53 +0100"  >&lt;p&gt;Yes, the &apos;*&apos; will cost problem if there are many snapshots.  The snappuller script has a shell command to determine the latest snapshot on the master.  We can use the same command in snapshooter.&lt;/p&gt;</comment>
                            <comment id="12612570" author="rhyde" created="Thu, 10 Jul 2008 17:56:17 +0100"  >&lt;p&gt;My copy of snapcleaner (-N option) from a few weeks ago in 1.3 is also doing the snap* thing, you might want to look into that one too.&lt;/p&gt;</comment>
                            <comment id="12612929" author="rhyde" created="Fri, 11 Jul 2008 18:04:23 +0100"  >&lt;p&gt;Updated patch resolves issues with wildcards with too many matches.&lt;/p&gt;</comment>
                            <comment id="12620045" author="gsingers" created="Tue, 5 Aug 2008 22:16:09 +0100"  >&lt;p&gt;Richard,&lt;/p&gt;

&lt;p&gt;Can you please generate the patch per the instructions at &lt;a href=&quot;http://wiki.apache.org/solr/HowToContribute&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/solr/HowToContribute&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Thanks,&lt;br/&gt;
Grant&lt;/p&gt;</comment>
                            <comment id="12620780" author="rhyde" created="Thu, 7 Aug 2008 23:41:37 +0100"  >&lt;p&gt;Patch according to the Apache guidelines.  &lt;/p&gt;</comment>
                            <comment id="12620802" author="gsingers" created="Fri, 8 Aug 2008 02:24:27 +0100"  >&lt;p&gt;Committed revision 683785.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12387778" name="SOLR-001.patch" size="1486" author="rhyde" created="Thu, 7 Aug 2008 23:41:37 +0100"/>
                            <attachment id="12385885" name="solr.check.patch" size="685" author="rhyde" created="Fri, 11 Jul 2008 18:04:23 +0100"/>
                            <attachment id="12385649" name="solr.check.patch" size="669" author="rhyde" created="Wed, 9 Jul 2008 18:32:06 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 9 Jul 2008 18:58:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6987</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxq7b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20564</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>