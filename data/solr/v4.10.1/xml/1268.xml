<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:14:43 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-1268/SOLR-1268.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-1268] Incorporate Lucene&apos;s FastVectorHighlighter</title>
                <link>https://issues.apache.org/jira/browse/SOLR-1268</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Correcting Fix Version based on CHANGES.txt, see this thread for more details...&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/lucene-dev/201005.mbox/%3Calpine.DEB.1.10.1005251052040.24672@radix.cryptio.net%3E&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mail-archives.apache.org/mod_mbox/lucene-dev/201005.mbox/%3Calpine.DEB.1.10.1005251052040.24672@radix.cryptio.net%3E&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12429941">SOLR-1268</key>
            <summary>Incorporate Lucene&apos;s FastVectorHighlighter</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="koji">Koji Sekiguchi</assignee>
                                    <reporter username="koji">Koji Sekiguchi</reporter>
                        <labels>
                    </labels>
                <created>Thu, 9 Jul 2009 14:57:52 +0100</created>
                <updated>Mon, 2 Jan 2012 17:14:53 +0000</updated>
                            <resolved>Sat, 9 Jan 2010 05:01:46 +0000</resolved>
                                                    <fixVersion>3.1</fixVersion>
                    <fixVersion>4.0-ALPHA</fixVersion>
                                    <component>highlighter</component>
                        <due></due>
                            <votes>15</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="12750080" author="gsf" created="Tue, 1 Sep 2009 21:19:27 +0100"  >&lt;p&gt;Voting for this issue because of the following email from Bess Sadler, which sums up the need quite well:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;One of the feature requests we get pretty often with Blacklight is&lt;br/&gt;
search term highlighting. The main reason we don&apos;t have it yet is&lt;br/&gt;
because it&apos;s a performance drag. We have attempted to add it a couple&lt;br/&gt;
of times, but it kills performance so much for large collections or&lt;br/&gt;
large text fields that we had to remove it again.&lt;/p&gt;

&lt;p&gt;I just had an interesting chat with Erik Hatcher, and he pointed me at this:&lt;br/&gt;
&lt;a href=&quot;http://www.lucidimagination.com/search/document/a4deefd915f706d4/highlighting_performance&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.lucidimagination.com/search/document/a4deefd915f706d4/highlighting_performance&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It seems Lucene 2.9 has a faster highlighting solution available now,&lt;br/&gt;
FastVectorHighlighter. However, it hasn&apos;t yet worked its way into&lt;br/&gt;
solr. If you are one of the people who would like to see search term&lt;br/&gt;
highlighting (or, maybe just faster search term highlighting) in&lt;br/&gt;
blacklight, vufind, Fac-Back-OPAC, helios, or any of the many other&lt;br/&gt;
library apps that use solr, you might want to go vote for the jira&lt;br/&gt;
issue at:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-1268&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SOLR-1268&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="12750530" author="dessaigne" created="Wed, 2 Sep 2009 17:47:09 +0100"  >&lt;p&gt;In the meantime, you may be interested in the maxChars attribute of copy fields (&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-538&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SOLR-538&lt;/a&gt;). It permits fast highlighting if only the beginning of documents.&lt;/p&gt;</comment>
                            <comment id="12760509" author="shalinmangar" created="Tue, 29 Sep 2009 07:26:19 +0100"  >&lt;p&gt;Is there a reason why this is not marked for 1.4?&lt;/p&gt;</comment>
                            <comment id="12764018" author="koji" created="Fri, 9 Oct 2009 14:28:31 +0100"  >&lt;p&gt;Mark it to 1.5 because there is no patches.&lt;/p&gt;</comment>
                            <comment id="12795945" author="koji" created="Sun, 3 Jan 2010 03:42:10 +0000"  >&lt;p&gt;First draft, untested patch attached.&lt;/p&gt;</comment>
                            <comment id="12796073" author="koji" created="Mon, 4 Jan 2010 04:27:34 +0000"  >&lt;p&gt;Added a few SolrFragmentsBuilders and test cases.&lt;/p&gt;</comment>
                            <comment id="12796075" author="koji" created="Mon, 4 Jan 2010 04:43:47 +0000"  >&lt;p&gt;I&apos;m introducing &amp;lt;fragListBuilder/&amp;gt; and &amp;lt;fragmentsBuilder/&amp;gt; new sub tags of &amp;lt;highlighting/&amp;gt; in solrconfig.xml in this patch, rather than &amp;lt;searchComponent/&amp;gt;. I think we can open a separate ticket for moving &amp;lt;highlighting/&amp;gt; settings to &amp;lt;searchComponent/&amp;gt;, if needed.&lt;/p&gt;

&lt;p&gt;FYI:&lt;br/&gt;
&lt;a href=&quot;http://old.nabble.com/highlighting-setting-in-solrconfig.xml-td26984003.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://old.nabble.com/highlighting-setting-in-solrconfig.xml-td26984003.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12796147" author="koji" created="Mon, 4 Jan 2010 11:36:30 +0000"  >&lt;p&gt;I&apos;ll commit in a few days if nobody objects.&lt;/p&gt;</comment>
                            <comment id="12798304" author="koji" created="Sat, 9 Jan 2010 05:01:46 +0000"  >&lt;p&gt;Committed revision 897383.&lt;/p&gt;</comment>
                            <comment id="12805841" author="sturlese" created="Thu, 28 Jan 2010 09:04:56 +0000"  >&lt;p&gt;I have noticed an exception is thrown when using fragSize = 0 (wich should return the whole field highlighted):&lt;br/&gt;
&quot;fragCharSize(0) is too small. It must be 18 or higher. java.lang.IllegalArgumentException: fragCharSize(0) is too small. It must be 18 or higher&quot;&lt;/p&gt;</comment>
                            <comment id="12806630" author="koji" created="Sat, 30 Jan 2010 04:51:18 +0000"  >&lt;blockquote&gt;
&lt;p&gt;I have noticed an exception is thrown when using fragSize = 0 (wich should return the whole field highlighted):&lt;br/&gt;
&quot;fragCharSize(0) is too small. It must be 18 or higher. java.lang.IllegalArgumentException: fragCharSize(0) is too small. It must be 18 or higher&quot;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Thanks, Marc.&lt;br/&gt;
Solr 1.4 uses NullFragmenter that highlights whole content when you set fragsize to 0. But FVH doesn&apos;t have such feature because of using different algorithm.&lt;br/&gt;
In the attached patch, Solr sets fragsize to Integer.MAX_VALUE if user trys to set 0 when FVH is used. This prevents runtime error.&lt;br/&gt;
I think it is necessary in Solr level because Solr automatically switch to use FVH when the highlighting field is termVectors/termPositions/termOffsets are all true unless hl.useHighlighter set to true.&lt;/p&gt;</comment>
                            <comment id="12829945" author="koji" created="Fri, 5 Feb 2010 03:43:57 +0000"  >&lt;p&gt;Hmm, FVH doesn&apos;t work appropriately when fragsize=Integer.MAX_SIZE (see test0FragSize() in attached patch. It indicates FVH cannot produce whole snippet when fragsize=Integer.MAX_SIZE).&lt;/p&gt;

&lt;p&gt;Now I think I should change the (traditional) Highlighter is default even if the highlighting field&apos;s termVectors/termPositions/termOffsets are all true, then only when hl.useFastVectorHighlighter is set to true, FVH will be used. hl.useFastVectorHighlighter parameter accepts per-field overrides. Plus FVH doesn&apos;t support 0 fragsize.&lt;/p&gt;</comment>
                            <comment id="12830441" author="koji" created="Sat, 6 Feb 2010 03:32:08 +0000"  >&lt;p&gt;The patch includes:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;eliminate hl.useHighlighter parameter&lt;/li&gt;
	&lt;li&gt;introduce hl.useFastVectorHighlighter parameter. The default is false&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Therefore, Highlighter will be used unless hl.useFastVectorHighlighter set to true. I&apos;ll commit in a few days.&lt;/p&gt;</comment>
                            <comment id="12839751" author="kmewhort" created="Mon, 1 Mar 2010 16:57:07 +0000"  >&lt;p&gt;When using Dismax, the fast vector highlighter fails to return any highlighting when there is more than one column in qf (eg. &quot;qf=Name Company&quot;)...&lt;/p&gt;</comment>
                            <comment id="12839879" author="koji" created="Mon, 1 Mar 2010 21:53:32 +0000"  >&lt;blockquote&gt;&lt;p&gt;When using Dismax, the fast vector highlighter fails to return any highlighting when there is more than one column in qf (eg. &quot;qf=Name Company&quot;)...&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Right. See &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2243&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/LUCENE-2243&lt;/a&gt; .&lt;/p&gt;</comment>
                            <comment id="13013157" author="gsingers" created="Wed, 30 Mar 2011 16:45:44 +0100"  >&lt;p&gt;Bulk close for 3.1.0 release&lt;/p&gt;</comment>
                            <comment id="13178463" author="astubbs" created="Mon, 2 Jan 2012 17:14:53 +0000"  >&lt;p&gt;Koji, with mutli-term fields, Highlighter would return the single value that matched. FVH however merges values in the fragment returned. Is there a way to get the same behavior as highlighter in this respect (in my use case, i only want the value that matched to be highlighted)?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12412752">LUCENE-1522</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12434924" name="SOLR-1268-0_fragsize.patch" size="2362" author="koji" created="Fri, 5 Feb 2010 03:43:56 +0000"/>
                            <attachment id="12431857" name="SOLR-1268-0_fragsize.patch" size="1170" author="koji" created="Sat, 30 Jan 2010 04:51:18 +0000"/>
                            <attachment id="12435055" name="SOLR-1268.patch" size="4240" author="koji" created="Sat, 6 Feb 2010 03:32:08 +0000"/>
                            <attachment id="12429309" name="SOLR-1268.patch" size="49457" author="koji" created="Mon, 4 Jan 2010 04:27:34 +0000"/>
                            <attachment id="12429289" name="SOLR-1268.patch" size="35682" author="koji" created="Sun, 3 Jan 2010 03:42:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 1 Sep 2009 20:19:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6380</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxma7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19929</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>