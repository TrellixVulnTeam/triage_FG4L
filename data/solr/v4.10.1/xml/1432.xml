<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:18:56 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-1432/SOLR-1432.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-1432] FunctionQueries aren&apos;t correctly weighted</title>
                <link>https://issues.apache.org/jira/browse/SOLR-1432</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Nested queries in function queries aren&apos;t weighted correctly with the proper Searcher, and this is now even more serious with per-segment searching in Lucene/Solr.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12435721">SOLR-1432</key>
            <summary>FunctionQueries aren&apos;t correctly weighted</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yseeley@gmail.com">Yonik Seeley</assignee>
                                    <reporter username="yseeley@gmail.com">Yonik Seeley</reporter>
                        <labels>
                    </labels>
                <created>Tue, 15 Sep 2009 16:32:30 +0100</created>
                <updated>Sun, 30 May 2010 05:10:55 +0100</updated>
                            <resolved>Thu, 17 Sep 2009 15:12:33 +0100</resolved>
                                    <version>1.4</version>
                                    <fixVersion>1.4.1</fixVersion>
                    <fixVersion>1.5</fixVersion>
                    <fixVersion>3.1</fixVersion>
                    <fixVersion>4.0-ALPHA</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12755551" author="yseeley@gmail.com" created="Tue, 15 Sep 2009 17:16:17 +0100"  >&lt;p&gt;Here&apos;s the essence of the patch that adds a simple/flexible untyped weighting scheme to ValueSource:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  /** Implementations should propagate createWeight to sub-ValueSources which can optionally store
   * weight info in the context. The context object will be passed to getValues()
   * where &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; info can be retrieved. */
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void createWeight(Map context, Searcher searcher) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12756302" author="yseeley@gmail.com" created="Thu, 17 Sep 2009 01:50:01 +0100"  >&lt;p&gt;Updated patch with tests that fail w/o correct weighting behavior.&lt;/p&gt;</comment>
                            <comment id="12775873" author="gsingers" created="Tue, 10 Nov 2009 15:52:15 +0000"  >&lt;p&gt;Bulk close for Solr 1.4&lt;/p&gt;</comment>
                            <comment id="12777324" author="lucasjosh" created="Fri, 13 Nov 2009 01:43:42 +0000"  >&lt;p&gt;I wish this issue would have been called out in the CHANGES file for the 1.4.0 release.  It bit me since our ValueSource classes were not overriding this new method.&lt;/p&gt;</comment>
                            <comment id="12777674" author="hossman" created="Fri, 13 Nov 2009 21:35:00 +0000"  >&lt;blockquote&gt;&lt;p&gt;I wish this issue would have been called out in the CHANGES file for the 1.4.0 release&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;You&apos;re right ... it was a pretty big oversight on our part that it wasn&apos;t mentioned anywhere (let alone specificly called out in the &quot;Upgrading&quot; section.&lt;/p&gt;

&lt;p&gt;retroactively editing CHANGES.txt isn&apos;t really feasible, but i&apos;ve added it to the Solr1.4 wiki page to try and increase the visibility a bit...&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://wiki.apache.org/solr/Solr1.4&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/solr/Solr1.4&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12779219" author="pjaol" created="Wed, 18 Nov 2009 00:31:02 +0000"  >&lt;p&gt;Shouldn&apos;t ValueSource simply be updated to &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; DocValues getValues(Map context, IndexReader reader) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; getValues(reader);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Rather than null, not ideal but at least it doesn&apos;t leave folks in a worse position than using 1.3-&lt;/p&gt;</comment>
                            <comment id="12779234" author="yseeley@gmail.com" created="Wed, 18 Nov 2009 00:57:39 +0000"  >&lt;p&gt;Yep, that&apos;s what it should have been.  I&apos;ll change.&lt;/p&gt;</comment>
                            <comment id="12872686" author="hossman" created="Fri, 28 May 2010 00:07:07 +0100"  >
&lt;p&gt;Correcting Fix Version based on CHANGES.txt, see this thread for more details...&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/lucene-dev/201005.mbox/%3Calpine.DEB.1.10.1005251052040.24672@radix.cryptio.net%3E&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mail-archives.apache.org/mod_mbox/lucene-dev/201005.mbox/%3Calpine.DEB.1.10.1005251052040.24672@radix.cryptio.net%3E&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;(Note: this issue is &quot;special&quot; ... it was originally marked fixed in 1.4 because some changes were made for 1.4 &amp;#8211; but those changes were broken so i&apos;m removing 1.4 from the Fix list)&lt;/p&gt;</comment>
                            <comment id="12873370" author="hossman" created="Sun, 30 May 2010 05:10:55 +0100"  >&lt;p&gt;Committed revision 949467.&lt;/p&gt;

&lt;p&gt;backported to 1.4 branch for 1.4.1&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12419834" name="SOLR-1432.patch" size="52021" author="yseeley@gmail.com" created="Thu, 17 Sep 2009 01:50:01 +0100"/>
                            <attachment id="12419650" name="SOLR-1432.patch" size="50489" author="yseeley@gmail.com" created="Tue, 15 Sep 2009 17:16:17 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 10 Nov 2009 15:52:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6222</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxlav:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19770</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>