<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:17:34 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/SOLR-1478/SOLR-1478.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[SOLR-1478] Enable sort by docid</title>
                <link>https://issues.apache.org/jira/browse/SOLR-1478</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Lucene allows sorting by docid, but Solr currently does not provide a way to specify it. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12436932">SOLR-1478</key>
            <summary>Enable sort by docid</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ehatcher">Erik Hatcher</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 Sep 2009 17:06:47 +0100</created>
                <updated>Tue, 10 Nov 2009 15:52:17 +0000</updated>
                            <resolved>Fri, 2 Oct 2009 14:34:41 +0100</resolved>
                                                    <fixVersion>1.4</fixVersion>
                                    <component>search</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12760944" author="ehatcher" created="Wed, 30 Sep 2009 17:10:47 +0100"  >&lt;p&gt;This patch adds a special sort field (like &quot;score&quot; is implemented) to enable sorting by docid.  &lt;/p&gt;

&lt;p&gt;The character &quot;#&quot; was used simply to avoid any potential field name overlap, but this requires URL encoding it to %23, so maybe some other string should be used?  &lt;/p&gt;

&lt;p&gt;Here&apos;s an example URL: &lt;a href=&quot;http://localhost:8983/solr/select?q=*:*&amp;amp;sort=%23%20desc&amp;amp;fl=id&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://localhost:8983/solr/select?q=*:*&amp;amp;sort=%23%20desc&amp;amp;fl=id&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Seems like score and docid sorting should avoid using normal field name strings, so maybe &lt;em&gt;score&lt;/em&gt; and &lt;em&gt;docid&lt;/em&gt; or something.&lt;/p&gt;

&lt;p&gt;I marked this for 1.4, because it&apos;s a trivial patch.  Discussion welcome.&lt;/p&gt;</comment>
                            <comment id="12761121" author="shalinmangar" created="Thu, 1 Oct 2009 08:45:47 +0100"  >&lt;p&gt;Perhaps something like _ DOCID _ instead of #. I am even tempted to suggest just using DOCID like we have SCORE.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Edit&amp;#93;&lt;/span&gt; - Jira ate my suggestion&lt;/p&gt;</comment>
                            <comment id="12761158" author="gsingers" created="Thu, 1 Oct 2009 11:26:25 +0100"  >&lt;p&gt;Does Solr ever expose the docid to users?&lt;/p&gt;</comment>
                            <comment id="12761188" author="ehatcher" created="Thu, 1 Oct 2009 13:28:39 +0100"  >&lt;p&gt;Only the LukeRequestHandler, that I can tell, allows fetching a document by docid and returns it in the response too.&lt;/p&gt;

&lt;p&gt;I don&apos;t see a need to return the docid even if one is sorting by it.  Sorting by docid allows for last-in-first-out, or first-in-first-out, sorting without any caching overhead of sorting by a field.&lt;/p&gt;</comment>
                            <comment id="12761216" author="gsingers" created="Thu, 1 Oct 2009 14:34:02 +0100"  >&lt;p&gt;Sounds good.&lt;/p&gt;</comment>
                            <comment id="12761518" author="ehatcher" created="Fri, 2 Oct 2009 11:06:00 +0100"  >&lt;p&gt;I committed, and left the special &quot;field&quot; as &quot;#&quot;.  I&apos;d rather avoid a string that could potentially be a field name in use, and sorting by docid will be such a specialized case that the encoding confusion won&apos;t be too bad.  Folks have to deal with URL encoding everywhere anyway.  I kinda like that character to mean &quot;number&quot;.&lt;/p&gt;</comment>
                            <comment id="12761581" author="yseeley@gmail.com" created="Fri, 2 Oct 2009 14:59:48 +0100"  >&lt;p&gt;A few things I don&apos;t like about &apos;#&apos;&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;unlike many other characters, the browser can&apos;t encode it for you. For example, I can type in &quot;sort=foo desc&quot; into my browser and it can encode the space for me.  If I type in a literal #, Solr will silently truncate the request at that point.  People will have trouble with this one.&lt;/li&gt;
	&lt;li&gt;it can require lexical modification to other parsers (as opposed to semantic modification).  Things like function queries or anything else that parse out field names or parameters would need to be modified at the lexical level to accept # - it&apos;s generally easier to just check for a special name.&lt;/li&gt;
	&lt;li&gt;it looks like a comment&lt;/li&gt;
&lt;/ul&gt;

</comment>
                            <comment id="12761583" author="yseeley@gmail.com" created="Fri, 2 Oct 2009 15:03:02 +0100"  >&lt;p&gt;Does this work with distributed search?&lt;/p&gt;</comment>
                            <comment id="12761584" author="shalinmangar" created="Fri, 2 Oct 2009 15:05:14 +0100"  >&lt;p&gt;I don&apos;t like having an arbitrary character like &apos;#&apos; signifying a sort type because it does not explain itself to a user. Once 1.4 goes out, it will be public API and we won&apos;t be able to change this easily. Erik, please consider this again.&lt;/p&gt;

&lt;p&gt;This also does not work with distributed search which should be clearly noted wherever we decide to document this. ShardDoc.java line 170 says that it is possible to support it but I&apos;m not sure what Yonik had in mind.&lt;/p&gt;</comment>
                            <comment id="12761585" author="shalinmangar" created="Fri, 2 Oct 2009 15:07:12 +0100"  >&lt;blockquote&gt;&lt;p&gt;Does this work with distributed search?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;No, it throws an exception:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
SEVERE: java.lang.RuntimeException: Doc sort not supported
	at org.apache.solr.handler.component.ShardFieldSortedHitQueue.getCachedComparator(ShardDoc.java:171)
	at org.apache.solr.handler.component.ShardFieldSortedHitQueue.&amp;lt;init&amp;gt;(ShardDoc.java:96)
	at org.apache.solr.handler.component.QueryComponent.mergeIds(QueryComponent.java:393)
	at org.apache.solr.handler.component.QueryComponent.handleResponses(QueryComponent.java:298)
	at org.apache.solr.handler.component.SearchHandler.handleRequestBody(SearchHandler.java:290)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12761694" author="yseeley@gmail.com" created="Fri, 2 Oct 2009 21:16:33 +0100"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
_id_
_docid_
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;?&lt;/p&gt;

&lt;p&gt;The chance of collision is super low - I&apos;d wager that no one has ever used _&lt;em&gt;id&lt;/em&gt;_ in their schema (single underscores on either side... it&apos;s doubled to prevent wiki syntax from turning it into italics)&lt;/p&gt;</comment>
                            <comment id="12761699" author="steve_rowe" created="Fri, 2 Oct 2009 21:23:18 +0100"  >&lt;p&gt;Providing aliases would allow all parties to get what they want.  Downside: maintenance/documentation issues with multiple syntaxes (minor IMHO).  Upside: collision probability goes down even further.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;edit&lt;/b&gt; oops, completely wrong on the &quot;upside&quot; &amp;#8211; collision probability actually goes up, not down, since the set of noncolliding field names is reduced by each reserved pseudo-field name.  Still, aliases totally rock.&lt;/p&gt;</comment>
                            <comment id="12761710" author="steve_rowe" created="Fri, 2 Oct 2009 21:37:12 +0100"  >&lt;p&gt;Another thought: the XML specification reserves names matching regex &lt;tt&gt;/^xml/i&lt;/tt&gt; to itself for future use (see &lt;a href=&quot;http://www.w3.org/TR/xml/#sec-common-syn&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.w3.org/TR/xml/#sec-common-syn&lt;/a&gt;).  Maybe Solr should do the same?  That way, this discussion wouldn&apos;t have to be repeated for each new pseudo-field.&lt;/p&gt;</comment>
                            <comment id="12761725" author="yseeley@gmail.com" created="Fri, 2 Oct 2009 22:11:35 +0100"  >&lt;p&gt;A Lucene field name can be anything... so &apos;#&apos; could also be a collision.&lt;br/&gt;
If we wish to reserve certain names going forward, I&apos;d vote for reserving ids with an underscore on either side.&lt;/p&gt;

&lt;p&gt;But really, the whole collision thing is overblown... this is a single name that people will not have used before. On a practical level, I don&apos;t believe it&apos;s an issue.&lt;br/&gt;
We will need another one too - as a container for document metadata.  I&apos;ve suggested &lt;em&gt;meta&lt;/em&gt; for that in &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-705&quot; title=&quot;Distributed search should optionally return docID-&amp;gt;shard map&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-705&quot;&gt;&lt;del&gt;SOLR-705&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;We aren&apos;t adding these all the time... there was exactly one before this.. &quot;score&quot;.  No future document level metadata will collide since they will be contained in whatever &lt;em&gt;meta&lt;/em&gt; ends up being.&lt;/p&gt;

&lt;p&gt;Further advantages to _&lt;em&gt;id&lt;/em&gt;_  (single underscores surrounding the id):&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;consistent with magic fieldnames _&lt;em&gt;query&lt;/em&gt;_ and _&lt;em&gt;val&lt;/em&gt;_ for nested queries in the query parser, and I could see supporting _&lt;em&gt;id&lt;/em&gt;_:1 in the future&lt;/li&gt;
	&lt;li&gt;people &lt;b&gt;may&lt;/b&gt; want to return the actual ids for documents... wherever that info goes (separate return vector like sort_field_values for distributed search or _&lt;em&gt;meta&lt;/em&gt;_) it will be nicer for clients if the label for it is actually an identifier and not &apos;#&apos;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12763255" author="yseeley@gmail.com" created="Wed, 7 Oct 2009 21:40:45 +0100"  >&lt;p&gt;I&apos;ve been thinking &amp;#95;docid_ instead of &amp;#95;id_ since it&apos;s further from &quot;id&quot;, what we normally use as the unique key field for documents.&lt;/p&gt;

&lt;p&gt;OK, since Erik also proposed that as an alternative, and because Shalin also seems to be OK with that alternative, I&apos;ll commit that change unless I hear that more people favor a different alternative (keeping # or using &amp;#95;id_)&lt;/p&gt;</comment>
                            <comment id="12763260" author="shalinmangar" created="Wed, 7 Oct 2009 21:48:27 +0100"  >&lt;blockquote&gt;&lt;p&gt;I&apos;ve been thinking &lt;em&gt;docid&lt;/em&gt; instead of &lt;em&gt;id&lt;/em&gt; since it&apos;s further from &quot;id&quot;, what we normally use as the unique key field for documents.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12775897" author="gsingers" created="Tue, 10 Nov 2009 15:52:17 +0000"  >&lt;p&gt;Bulk close for Solr 1.4&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12420915" name="SOLR-1478.patch" size="608" author="ehatcher" created="Wed, 30 Sep 2009 17:10:47 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 1 Oct 2009 07:45:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6179</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxxl0v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19725</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>