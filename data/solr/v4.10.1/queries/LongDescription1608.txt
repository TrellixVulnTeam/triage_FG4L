Extract base class from TestDistributedSearch to make it easier for people to write test cases for distributed components.