Here is the JSON response writer, along with subclasses for Python and Ruby.
Python: use None for null, True/False for boolean, use unicode strings where necessary
Ruby: use single quoted strings to avoid security issues, use => as map separator

Patch and examples to follow, comments sought.