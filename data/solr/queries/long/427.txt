IndexSchema is currently tied to reading a file system schema.xml file.   In order to more dynamically load a schema from in-memory configuration this needs to be adjusted.