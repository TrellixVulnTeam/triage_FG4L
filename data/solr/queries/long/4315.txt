DistributedUpdateProcessor#doDefensiveChecks takes the shardId parameter as while it's not using it, so that should be removed.