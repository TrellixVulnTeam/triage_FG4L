snappuller will fails to find the lastest snapshot on the master if the login shell of the id running the srcipt on the master is zsh.  The command

find $
{master_data_dir}
 -name snapshot.* -print

fails with the error

zsh: no matches found: snapshot.*

The "*" needs to be blackslash escaped.

I will attach a patch shortly.