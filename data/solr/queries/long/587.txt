Use IndexWriter.deleteDocuments(Query) instead of our own implementation.