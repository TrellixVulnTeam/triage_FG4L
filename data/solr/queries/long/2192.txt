test error method suggest thread safety violation