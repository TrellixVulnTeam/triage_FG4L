Recently the Windows Jenkins Build server has the problem of all-the time running out of disk space. This machine runs 2 workspaces (4.x and trunk) and has initially 8 Gigabytes of free SSD disk space.

Because of the recently all-the time failing tests, the test framework does not forcefully clean up the "J0" working folders after running tests. This leads to the fact, that the workspace is filled with tons of Solr Home dirs. I tried this on my local machine:

	run ant test
	go to build/.../test/J0 and watch folders appearing: Almost every test no longer cleans up after shutting down, leaving a million of files there. This is approx 3 to 4 Gigabytes!!!



In Lucene the folders are correctly removed. This has happened recently, so i think we have some code like (Erick Erickson !!!):
new Properties().load(new FileInputStream(...)) that does not close the files. Because of this, the test's afterClass cannot clean up folders anymore. If you look in the test log, you see messages like "!!!! WARNING: best effort to remove C:\Users\JenkinsSlave\workspace\Lucene-Solr-4.x-Windows\solr\build\solr-core\test\J0\.\org.apache.solr.cloud.TestShortCircuitedRequests-1395693845226 FAILED !!!!!" all the time.

So if anybody committed some changes that might not close files correctly, please fix! Otherwise I have to disable testing on windows - and I will no longer run solr, tests, too: My local computer also uses gigabytes of temp space after running tests!