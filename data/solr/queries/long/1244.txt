When configured to use a JDBC DataSource via JNDI, JdbcDataSource checks to see if initProps contains a property named "user."  If that property is null, DataSource.getConnection(String user, String password) is used where DataSource.getConnection() should be called.  I will provide a test case and patch that fixes the issue.