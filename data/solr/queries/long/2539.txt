        @Override
        public void floatVal(int doc, float[] vals) 
{
          vals[0] = x.byteVal(doc);
          vals[1] = y.byteVal(doc);
        }
should be:
        @Override
        public void floatVal(int doc, float[] vals) 
{
          vals[0] = x.floatVal(doc);
          vals[1] = y.floatVal(doc);
        }