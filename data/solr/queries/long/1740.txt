ShingleFilterFactory should allow specification of minimum shingle size (in addition to maximum shingle size), as well as the separator to use between tokens.  These are implemented at LUCENE-2218.  The attached patch allows ShingleFilterFactory to accept configuration of these items, and includes tests against the new functionality in TestShingleFilterFactory.  

Solr will have to upgrade to lucene-analyzers-3.1-dev.jar before the attached patch will apply.