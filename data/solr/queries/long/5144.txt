I'm hitting an IllegalArgumentException reproducibly when doing the following steps:


	curl 'http://localhost:8983/solr/admin/cores?action=CREATE&collection=sockmonkey&name=sockmonkeycore1&numShards=1&shard=shard1&replicationFactor=1'
	curl 'http://localhost:8983/solr/admin/cores?action=CREATE&collection=sockmonkey&name=sockmonkeycore2&shard=shard2'
	curl 'http://localhost:8983/solr/admin/cores?action=CREATE&collection=sockmonkey&name=sockmonkeycore3&shard=shard3'
	cd exampledocs/
	java -Durl=http://localhost:8983/solr/sockmonkey/update -jar post.jar ipod_video.xml
	java -Durl=http://localhost:8983/solr/sockmonkey/update -jar post.jar monitor.xml
	java -Durl=http://localhost:8983/solr/sockmonkey/update -jar post.jar mem.xml
	cd ..
	curl 'http://localhost:8983/solr/admin/cores?core=sockmonkeycore1&action=SPLIT&targetCore=sockmonkeycore2&targetCore=sockmonkeycore3'




ERROR org.apache.solr.servlet.SolrDispatchFilter 
 â€“ null:java.lang.RuntimeException: java.lang.IllegalArgumentException: 
maxValue must be non-negative (got: -1) 
        at 
org.apache.solr.handler.admin.CoreAdminHandler.handleSplitAction(CoreAdminHandler.java:290) 
        at 
org.apache.solr.handler.admin.CoreAdminHandler.handleRequestBody(CoreAdminHandler.java:186) 
        at 
org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:135) 
        at 
org.apache.solr.servlet.SolrDispatchFilter.handleAdminRequest(SolrDispatchFilter.java:611) 
        at 
org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:209) 
        at 
org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:158) 
        at 
org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1419) 
        at 
org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:455) 
        at 
org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137) 
        at 
org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:557) 
        at 
org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231) 
        at 
org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1075) 
        at 
org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:384) 
        at 
org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:193) 
        at 
org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1009) 
        at 
org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135) 
        at 
org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:255) 
        at 
org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:154) 
        at 
org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116) 
        at org.eclipse.jetty.server.Server.handle(Server.java:368) 
        at 
org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:489) 
        at 
org.eclipse.jetty.server.BlockingHttpConnection.handleRequest(BlockingHttpConnection.java:53) 
        at 
org.eclipse.jetty.server.AbstractHttpConnection.content(AbstractHttpConnection.java:953) 
        at 
org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.content(AbstractHttpConnection.java:1014) 
        at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:861) 
        at 
org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:240) 
        at 
org.eclipse.jetty.server.BlockingHttpConnection.handle(BlockingHttpConnection.java:72) 
        at 
org.eclipse.jetty.server.bio.SocketConnector$ConnectorEndPoint.run(SocketConnector.java:264) 
        at 
org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608) 
        at 
org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543) 
        at java.lang.Thread.run(Thread.java:662) 
Caused by: java.lang.IllegalArgumentException: maxValue must be 
non-negative (got: -1) 
        at 
org.apache.lucene.util.packed.PackedInts.bitsRequired(PackedInts.java:1184) 
        at 
org.apache.lucene.codecs.lucene42.Lucene42DocValuesConsumer.addNumericField(Lucene42DocValuesConsumer.java:140) 
        at 
org.apache.lucene.codecs.lucene42.Lucene42DocValuesConsumer.addNumericField(Lucene42DocValuesConsumer.java:92) 
        at 
org.apache.lucene.codecs.DocValuesConsumer.mergeNumericField(DocValuesConsumer.java:112) 
        at 
org.apache.lucene.index.SegmentMerger.mergeNorms(SegmentMerger.java:221) 
        at 
org.apache.lucene.index.SegmentMerger.merge(SegmentMerger.java:119) 
        at 
org.apache.lucene.index.IndexWriter.addIndexes(IndexWriter.java:2488) 
        at 
org.apache.solr.update.SolrIndexSplitter.split(SolrIndexSplitter.java:125) 
        at 
org.apache.solr.update.DirectUpdateHandler2.split(DirectUpdateHandler2.java:766) 
        at 
org.apache.solr.handler.admin.CoreAdminHandler.handleSplitAction(CoreAdminHandler.java:284) 
        ... 30 more 