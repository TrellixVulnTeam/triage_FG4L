empty char mapping can cause ArrayIndexOutOfBoundsException in analysis.jsp and co.