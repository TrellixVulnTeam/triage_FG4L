Inconsistent locking when accessing cache in CachingDirectoryFactory