Tidy up CoreContainer construction logic