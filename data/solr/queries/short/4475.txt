Fix various places that still assume File based paths even when not using a file based DirectoryFactory.