ForkParser::setJavaCommand currently takes a string and splits it on whitespace. This makes it impossible to use commands with paths that contain spaces. In particular, it makes it impossible to reliably use System.getProperty("java.home") in order to launch the same Java that the current process is running in, because it might contain spaces. If it would just take a List<String> and pass (a clone of) it directly to ProcessBuilder, this wouldn't be a problem.