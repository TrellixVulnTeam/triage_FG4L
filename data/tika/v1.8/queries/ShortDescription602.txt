[patch] use short-cuircuiting rel ops