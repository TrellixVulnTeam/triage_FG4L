<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:28:57 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/TIKA-903/TIKA-903.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[TIKA-903] NPE thrown with password protected Pages file</title>
                <link>https://issues.apache.org/jira/browse/TIKA-903</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;When trying to view a password-protected Pages file in Tika GUI, you get an NPE:&lt;/p&gt;

&lt;p&gt;org.apache.tika.exception.TikaException: Unexpected RuntimeException from org.apache.tika.parser.iwork.IWorkPackageParser@30583058&lt;br/&gt;
	at org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:244)&lt;br/&gt;
	at org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:242)&lt;br/&gt;
	at org.apache.tika.parser.AutoDetectParser.parse(AutoDetectParser.java:120)&lt;br/&gt;
	at org.apache.tika.gui.TikaGUI.handleStream(TikaGUI.java:320)&lt;br/&gt;
	at org.apache.tika.gui.TikaGUI.openFile(TikaGUI.java:279)&lt;br/&gt;
	at org.apache.tika.gui.ParsingTransferHandler.importFiles(ParsingTransferHandler.java:94)&lt;br/&gt;
	at org.apache.tika.gui.ParsingTransferHandler.importData(ParsingTransferHandler.java:77)&lt;br/&gt;
	at javax.swing.TransferHandler.importData(TransferHandler.java:756)&lt;br/&gt;
	at javax.swing.TransferHandler$DropHandler.drop(TransferHandler.java:1479)&lt;br/&gt;
	at java.awt.dnd.DropTarget.drop(DropTarget.java:445)&lt;br/&gt;
	at javax.swing.TransferHandler$SwingDropTarget.drop(TransferHandler.java:1204)&lt;br/&gt;
	at sun.awt.dnd.SunDropTargetContextPeer.processDropMessage(SunDropTargetContextPeer.java:531)&lt;br/&gt;
	at sun.awt.dnd.SunDropTargetContextPeer$EventDispatcher.dispatchDropEvent(SunDropTargetContextPeer.java:844)&lt;br/&gt;
	at sun.awt.dnd.SunDropTargetContextPeer$EventDispatcher.dispatchEvent(SunDropTargetContextPeer.java:768)&lt;br/&gt;
	at sun.awt.dnd.SunDropTargetEvent.dispatch(SunDropTargetEvent.java:42)&lt;br/&gt;
	at java.awt.Component.dispatchEventImpl(Component.java:4498)&lt;br/&gt;
	at java.awt.Container.dispatchEventImpl(Container.java:2110)&lt;br/&gt;
	at java.awt.Component.dispatchEvent(Component.java:4471)&lt;br/&gt;
	at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4588)&lt;br/&gt;
	at java.awt.LightweightDispatcher.processDropTargetEvent(Container.java:4323)&lt;br/&gt;
	at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4174)&lt;br/&gt;
	at java.awt.Container.dispatchEventImpl(Container.java:2096)&lt;br/&gt;
	at java.awt.Window.dispatchEventImpl(Window.java:2490)&lt;br/&gt;
	at java.awt.Component.dispatchEvent(Component.java:4471)&lt;br/&gt;
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:610)&lt;br/&gt;
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:280)&lt;br/&gt;
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:195)&lt;br/&gt;
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:185)&lt;br/&gt;
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:180)&lt;br/&gt;
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:172)&lt;br/&gt;
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:133)&lt;br/&gt;
Caused by: java.lang.NullPointerException&lt;br/&gt;
	at org.apache.tika.parser.iwork.IWorkPackageParser$IWORKDocumentType.detectType(IWorkPackageParser.java:125)&lt;br/&gt;
	at org.apache.tika.parser.iwork.IWorkPackageParser$IWORKDocumentType.access$000(IWorkPackageParser.java:71)&lt;br/&gt;
	at org.apache.tika.parser.iwork.IWorkPackageParser.parse(IWorkPackageParser.java:166)&lt;br/&gt;
	at org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:242)&lt;br/&gt;
	... 30 more&lt;/p&gt;

&lt;p&gt;I tried viewing the contents in 7-zip, but it tells me it can&apos;t understand the compression format.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows 7&lt;/p&gt;</environment>
        <key id="12553165">TIKA-903</key>
            <summary>NPE thrown with password protected Pages file</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="gvalenc">Gabriel Valencia</reporter>
                        <labels>
                            <label>iWork</label>
                            <label>nullpointerexception</label>
                    </labels>
                <created>Fri, 27 Apr 2012 17:37:00 +0100</created>
                <updated>Mon, 2 Mar 2015 04:24:05 +0000</updated>
                            <resolved>Mon, 2 Mar 2015 04:24:05 +0000</resolved>
                                    <version>1.0</version>
                                                    <component>parser</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13263780" author="gvalenc" created="Fri, 27 Apr 2012 17:38:23 +0100"  >&lt;p&gt;Password for this file is: tika&lt;/p&gt;</comment>
                            <comment id="13263783" author="gvalenc" created="Fri, 27 Apr 2012 17:41:01 +0100"  >&lt;p&gt;Password for this file is: tika&lt;/p&gt;</comment>
                            <comment id="13263784" author="gagravarr" created="Fri, 27 Apr 2012 17:44:11 +0100"  >&lt;p&gt;This file certainly isn&apos;t protected using regular zip passwords or similar, there&apos;s something very odd instead. It&apos;s enough to break unzip listing....&lt;/p&gt;

&lt;p&gt;$ unzip -l testPagesVariousPwdProtected.pagesArchive:  testPagesVariousPwdProtected.pages&lt;br/&gt;
  Length      Date    Time    Name&lt;br/&gt;
---------  ---------- -----   ----&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;buffer overflow detected ***: unzip terminated&lt;br/&gt;
======= Backtrace: =========&lt;br/&gt;
/lib/tls/i686/cmov/libc.so.6(__fortify_fail+0x50)&lt;span class=&quot;error&quot;&gt;&amp;#91;0xb76ef2d0&amp;#93;&lt;/span&gt;&lt;br/&gt;
/lib/tls/i686/cmov/libc.so.6(+0xe120a)&lt;span class=&quot;error&quot;&gt;&amp;#91;0xb76ee20a&amp;#93;&lt;/span&gt;&lt;br/&gt;
/lib/tls/i686/cmov/libc.so.6(+0xe0948)&lt;span class=&quot;error&quot;&gt;&amp;#91;0xb76ed948&amp;#93;&lt;/span&gt;&lt;br/&gt;
/lib/tls/i686/cmov/libc.so.6(_IO_default_xsputn+0x9e)&lt;span class=&quot;error&quot;&gt;&amp;#91;0xb76766ce&amp;#93;&lt;/span&gt;&lt;br/&gt;
/lib/tls/i686/cmov/libc.so.6(_IO_vfprintf+0xf3e)&lt;span class=&quot;error&quot;&gt;&amp;#91;0xb764ab4e&amp;#93;&lt;/span&gt;&lt;br/&gt;
/lib/tls/i686/cmov/libc.so.6(__vsprintf_chk+0xad)&lt;span class=&quot;error&quot;&gt;&amp;#91;0xb76ed9fd&amp;#93;&lt;/span&gt;&lt;br/&gt;
/lib/tls/i686/cmov/libc.so.6(__sprintf_chk+0x2d)&lt;span class=&quot;error&quot;&gt;&amp;#91;0xb76ed93d&amp;#93;&lt;/span&gt;&lt;br/&gt;
unzip&lt;span class=&quot;error&quot;&gt;&amp;#91;0x8056c4a&amp;#93;&lt;/span&gt;&lt;br/&gt;
unzip&lt;span class=&quot;error&quot;&gt;&amp;#91;0x805a313&amp;#93;&lt;/span&gt;&lt;br/&gt;
unzip&lt;span class=&quot;error&quot;&gt;&amp;#91;0x805a4b7&amp;#93;&lt;/span&gt;&lt;br/&gt;
unzip&lt;span class=&quot;error&quot;&gt;&amp;#91;0x804b0cf&amp;#93;&lt;/span&gt;&lt;br/&gt;
unzip&lt;span class=&quot;error&quot;&gt;&amp;#91;0x804b3d0&amp;#93;&lt;/span&gt;&lt;br/&gt;
/lib/tls/i686/cmov/libc.so.6(__libc_start_main+0xe6)&lt;span class=&quot;error&quot;&gt;&amp;#91;0xb7623bd6&amp;#93;&lt;/span&gt;&lt;br/&gt;
unzip&lt;span class=&quot;error&quot;&gt;&amp;#91;0x8049671&amp;#93;&lt;/span&gt;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;$ unzip testPagesVariousPwdProtected.pages&lt;br/&gt;
Archive:  testPagesVariousPwdProtected.pages&lt;br/&gt;
   skipping: buildVersionHistory.plist  unsupported compression method 25451&lt;br/&gt;
   skipping: index.xml               unsupported compression method 25452&lt;/p&gt;</comment>
                            <comment id="13263798" author="gagravarr" created="Fri, 27 Apr 2012 18:04:20 +0100"  >&lt;p&gt;As of r1331503 these should no longer break. The iWorks parser will return an empty document for them, and set the content type to application/x-tika-iworks-protected . Until we know how the encryption works though, we can&apos;t do anything else&lt;/p&gt;</comment>
                            <comment id="13264008" author="gagravarr" created="Fri, 27 Apr 2012 22:54:08 +0100"  >&lt;p&gt;On a related note, it&apos;s not looking hopeful for getting any sort of documentation on the file formats - &lt;a href=&quot;https://discussions.apple.com/message/18239551#18239551&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://discussions.apple.com/message/18239551#18239551&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13264018" author="gvalenc" created="Fri, 27 Apr 2012 23:02:24 +0100"  >&lt;p&gt;Yes, &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-402&quot; title=&quot;Support for iWork documents&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-402&quot;&gt;&lt;del&gt;TIKA-402&lt;/del&gt;&lt;/a&gt; has a URL to a page that &lt;b&gt;used&lt;/b&gt; to have the file specification for some of the apps, but that page was taken down at some point.&lt;/p&gt;</comment>
                            <comment id="13264067" author="gagravarr" created="Fri, 27 Apr 2012 23:58:45 +0100"  >&lt;p&gt;Ah, good spot. That page has gone, but if you view it in the internet archive you can get the text of the first few pages. Plug that into google, and you find an archive of the PDF version: &lt;a href=&quot;http://www.filibeto.org/unix/macos/lib/dev/documentation/AppleApplications/Conceptual/iWork2-0_XML/iWork2-0_XML.pdf&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.filibeto.org/unix/macos/lib/dev/documentation/AppleApplications/Conceptual/iWork2-0_XML/iWork2-0_XML.pdf&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Based on the dates in the file, I don&apos;t think it covers the most recent version. Doesn&apos;t have password stuff in it for example, but may be handy for some of the very basics&lt;/p&gt;</comment>
                            <comment id="14342713" author="tpalsulich" created="Mon, 2 Mar 2015 04:24:05 +0000"  >&lt;p&gt;No exception is thrown with Tika 1.8-SNAPSHOT. So, closing as fixed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12524882" name="testPagesVariousPwdProtected.pages" size="33166" author="gvalenc" created="Fri, 27 Apr 2012 17:41:01 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 27 Apr 2012 16:44:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>237225</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxx0xb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>16469</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>