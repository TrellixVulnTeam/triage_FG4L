<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:28:07 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/TIKA-913/TIKA-913.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[TIKA-913] MagicMime detection of msdos executables does not work</title>
                <link>https://issues.apache.org/jira/browse/TIKA-913</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;Mime detection does not work as expected (at least from me) in contrast e.g. to sourceforge mime-util detection or &quot;file&quot; utility.&lt;br/&gt;
For example using putty ms-dos executable does result in wrong detections:&lt;/p&gt;

&lt;p&gt;krah@sf050:~$ java -jar /tmp/tika-app-1.1.jar --detect /tmp/putty&lt;br/&gt;
application/octet-stream&lt;br/&gt;
krah@sf050:~$ java -jar /tmp/tika-app-1.1.jar --detect /tmp/putty.jpg&lt;br/&gt;
image/jpeg&lt;br/&gt;
krah@sf050:~$ java -jar /tmp/tika-app-1.1.jar --detect /tmp/putty.exe&lt;br/&gt;
application/x-msdownload&lt;/p&gt;


&lt;p&gt;Its everytime the same binary resource only with different names.&lt;br/&gt;
In contrast using &quot;file&quot; does output:&lt;/p&gt;

&lt;p&gt;krah@sf050:~$ file /tmp/putty&lt;br/&gt;
/tmp/putty: PE32 executable for MS Windows (GUI) Intel 80386 32-bit&lt;br/&gt;
krah@sf050:~$ file /tmp/putty.jpg&lt;br/&gt;
/tmp/putty.jpg: PE32 executable for MS Windows (GUI) Intel 80386 32-bit&lt;br/&gt;
krah@sf050:~$ file /tmp/putty.exe&lt;br/&gt;
/tmp/putty.exe: PE32 executable for MS Windows (GUI) Intel 80386 32-bit&lt;/p&gt;

&lt;p&gt;So magic mime detection should be able to detect that this is actually an executable.&lt;/p&gt;

&lt;p&gt;E.g. for a PDF it does work:&lt;/p&gt;

&lt;p&gt;krah@sf050:~$ java -jar /tmp/tika-app-1.1.jar --detect /tmp/print.pdf&lt;br/&gt;
application/pdf&lt;br/&gt;
krah@sf050:~$ java -jar /tmp/tika-app-1.1.jar --detect /tmp/print&lt;br/&gt;
application/pdf&lt;br/&gt;
krah@sf050:~$ java -jar /tmp/tika-app-1.1.jar --detect /tmp/print.jpg &lt;br/&gt;
application/pdf&lt;/p&gt;

&lt;p&gt;Here Tika detects what is expected.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Linux, JDK 1.6&lt;/p&gt;</environment>
        <key id="12554160">TIKA-913</key>
            <summary>MagicMime detection of msdos executables does not work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tkrah">Torsten Krah</reporter>
                        <labels>
                            <label>detection</label>
                            <label>magic</label>
                            <label>mime</label>
                    </labels>
                <created>Mon, 7 May 2012 14:23:22 +0100</created>
                <updated>Thu, 10 May 2012 12:52:54 +0100</updated>
                            <resolved>Thu, 10 May 2012 12:52:54 +0100</resolved>
                                    <version>1.1</version>
                                    <fixVersion>1.2</fixVersion>
                                    <component>mime</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13272242" author="gagravarr" created="Thu, 10 May 2012 11:26:16 +0100"  >&lt;p&gt;I believe that MS-DOS executables are not actually PE32 files. &lt;a href=&quot;http://wiki.osdev.org/PE&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.osdev.org/PE&lt;/a&gt; seems to have some good details on the PE32 and PE64 formats that should help for detection&lt;/p&gt;</comment>
                            <comment id="13272258" author="gagravarr" created="Thu, 10 May 2012 12:40:09 +0100"  >&lt;p&gt;If anyone wanted to add a parser for PE(32/64) files, then this doc should be handy: &amp;lt;&lt;a href=&quot;http://msdn.microsoft.com/en-us/windows/hardware/gg463119.aspx&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://msdn.microsoft.com/en-us/windows/hardware/gg463119.aspx&lt;/a&gt;&amp;gt;. We should be able to get the odd common thing, like creation date, along with lots of other info too&lt;/p&gt;

&lt;p&gt;Based on this info, and the osdev page, I&apos;ve added mime magic for what look to be the common variants in r1336610.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 10 May 2012 10:26:16 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>238386</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxx0v3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>16459</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>