<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:34:43 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/TIKA-607/TIKA-607.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[TIKA-607] ParseUtils.getStringContent( ) of a text file - parser is null </title>
                <link>https://issues.apache.org/jira/browse/TIKA-607</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;Hey, I&apos;m trying to get content of a text file (mysql config file).&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testTikaParserUtils() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
		&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; resourceLocation = &lt;span class=&quot;code-quote&quot;&gt;&quot;files/my.cnf&quot;&lt;/span&gt;;
		&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; content = ParseUtils.getStringContent(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(resourceLocation), &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; TikaConfig());
		&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(content);
	}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;OR&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testTikaParserUtils() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
		&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; resourceLocation = &lt;span class=&quot;code-quote&quot;&gt;&quot;files/my.cnf&quot;&lt;/span&gt;;
		&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; content = ParseUtils.getStringContent(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(resourceLocation), TikaConfig.getDefaultConfig());
		&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(content);
	}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;but I get null pointer exception, because &quot;parser&quot; is null&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;ParseUtils.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getStringContent(
            InputStream stream, TikaConfig config, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; mimeType)
            &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; TikaException, IOException {
        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
            Parser parser = config.getParser(MediaType.parse(mimeType));
            ContentHandler handler = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; BodyContentHandler();
            parser.parse(stream, handler, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Metadata());
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; handler.toString();
        } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (SAXException e) {
            &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; TikaException(&lt;span class=&quot;code-quote&quot;&gt;&quot;Unexpected SAX error&quot;&lt;/span&gt;, e);
        }
    }}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 
&lt;p&gt;&lt;font color=&quot;red&quot;&gt; &lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
	at org.apache.tika.utils.ParseUtils.getStringContent(ParseUtils.java:112)&lt;br/&gt;
	at org.apache.tika.utils.ParseUtils.getStringContent(ParseUtils.java:171)&lt;br/&gt;
	at org.apache.tika.utils.ParseUtils.getStringContent(ParseUtils.java:189)&lt;br/&gt;
	at cz.instance.transl.tests.TikaTest.testTikaParserUtils(TikaTest.java:53)&lt;br/&gt;
	at org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:73)&lt;br/&gt;
	at org.apache.maven.surefire.testng.TestNGXmlTestSuite.execute(TestNGXmlTestSuite.java:95)&lt;br/&gt;
	at org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:101)&lt;br/&gt;
	at org.apache.maven.surefire.booter.ProviderFactory$ClassLoaderProxy.invoke(ProviderFactory.java:101)&lt;br/&gt;
	at $Proxy0.invoke(Unknown Source)&lt;br/&gt;
	at org.apache.maven.surefire.booter.SurefireStarter.invokeProvider(SurefireStarter.java:139)&lt;br/&gt;
	at org.apache.maven.surefire.booter.SurefireStarter.runSuitesInProcess(SurefireStarter.java:82)&lt;br/&gt;
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:81)&lt;br/&gt;
... Removed 24 stack frames&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;It works only if I specifically determine the type of parser &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
	@Test
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testTikaParserUtils() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
		Tika tika = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Tika(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; TextDetector());
		&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; content = tika.parseToString(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(txt));
		&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(content);
	}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;java version &quot;1.6.0_16&quot;, linux 64bit&lt;/p&gt;</environment>
        <key id="12499783">TIKA-607</key>
            <summary>ParseUtils.getStringContent( ) of a text file - parser is null </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jukkaz">Jukka Zitting</assignee>
                                    <reporter username="vychtrle">Joseph Vychtrle</reporter>
                        <labels>
                    </labels>
                <created>Sat, 26 Feb 2011 01:31:07 +0000</created>
                <updated>Thu, 20 Oct 2011 13:34:22 +0100</updated>
                            <resolved>Wed, 9 Mar 2011 16:31:53 +0000</resolved>
                                    <version>0.9</version>
                                    <fixVersion>0.10</fixVersion>
                                    <component>parser</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13004638" author="jukkaz" created="Wed, 9 Mar 2011 16:31:53 +0000"  >&lt;p&gt;I would suggest that you look at the org.apache.tika.Tika facade class instead of the old ParseUtils class. The Tika facade is a much cleaner and feature-rich collection of utility convenience methods.&lt;/p&gt;

&lt;p&gt;In revision 1079871 I deprecated the ParseUtils class in favor of the Tika facade, and fixed the reported problem by making ParseUtils use the Tika facade under the hood.&lt;/p&gt;</comment>
                            <comment id="13004713" author="vychtrle" created="Wed, 9 Mar 2011 18:37:10 +0000"  >&lt;p&gt;Thank tou Jukka, I&apos;d be already working with the current revision, but I don&apos;t because I&apos;d like to have sources available when I use tika as a maven dependency. And snapshots can&apos;t have sources, only releases can be deployed with sources attached. And I was lazy to do it manually. Do you know when the release will be out ?&lt;/p&gt;</comment>
                            <comment id="13004718" author="jukkaz" created="Wed, 9 Mar 2011 18:45:15 +0000"  >&lt;p&gt;The Tika facade class was introduced already in Tika 0.5, so you can start using it already without waiting for a new release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 9 Mar 2011 16:31:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4258</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxx2r3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>16765</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>