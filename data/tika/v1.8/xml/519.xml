<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:31:46 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/TIKA-519/TIKA-519.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[TIKA-519] Display embedded images in the GUI Formatted Text pane where they occur in the document</title>
                <link>https://issues.apache.org/jira/browse/TIKA-519</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;Some parsers are now able to generate img tags in their HTML, in the spot where an embedded image lives&lt;/p&gt;

&lt;p&gt;I think it would be nice to show these images in the GUI in the graphical view. The attached patch will allow the GUI to spot when an embedded: img link is found, re-write it to be in a URL to the temporary directory, and also request the recursing parser capture it.&lt;/p&gt;

&lt;p&gt;The result is that you can drop a suitable file (eg .docx) onto the gui, and in the Formatted Text pane see the image inline&lt;/p&gt;

&lt;p&gt;Are people happy with the patch? (and the idea?)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12475311">TIKA-519</key>
            <summary>Display embedded images in the GUI Formatted Text pane where they occur in the document</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gagravarr">Nick Burch</assignee>
                                    <reporter username="gagravarr">Nick Burch</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Sep 2010 16:34:33 +0100</created>
                <updated>Thu, 30 Sep 2010 11:52:50 +0100</updated>
                            <resolved>Thu, 30 Sep 2010 11:52:50 +0100</resolved>
                                    <version>0.7</version>
                                    <fixVersion>0.8</fixVersion>
                                    <component>gui</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12915948" author="jukkaz" created="Tue, 28 Sep 2010 23:37:06 +0100"  >&lt;p&gt;Cool! It would be nice if we could turn this into a more generic feature that we could put into tika-core, but as a first step the patch looks great.&lt;/p&gt;

&lt;p&gt;The only thing I&apos;d like to see added is better tracking of the temporary files - they should get automatically removed once they are no longer needed. It would also be good to better avoid potential problems caused by file name collisions, either by mapping each embedded file to a new File.createTempFile(), or by replacing &quot;tmpDir = t.getParentFile();&quot; with &quot;t.delete(); t.mkdir(); tmpDir = t;&quot;.&lt;/p&gt;

&lt;p&gt;Even better if we could entirely avoid temporary files and the extra URL mapping by customizing the HTMLEditorKit with a decorated HTMLFactory that maps the incoming &amp;lt;img&amp;gt; tags to corresponding a ImageView objects that construct requested Images directly from the embedded byte streams. But that might well be much more trouble than it&apos;s worth... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;PS. A minor nit:&lt;/p&gt;

&lt;p&gt;    if(type != null &amp;amp;&amp;amp; type.startsWith(&quot;image/&quot;))&lt;br/&gt;
        return true;&lt;br/&gt;
    return false;&lt;/p&gt;

&lt;p&gt;is (IMHO) better written as:&lt;/p&gt;

&lt;p&gt;    return type != null &amp;amp;&amp;amp; type.startsWith(&quot;image/&quot;);&lt;/p&gt;</comment>
                            <comment id="12915979" author="hansenmc" created="Wed, 29 Sep 2010 01:26:44 +0100"  >&lt;p&gt;You could also avoid generating temporary files by utilizing the Data URI Scheme &lt;a href=&quot;http://en.wikipedia.org/wiki/Data_URI_scheme&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://en.wikipedia.org/wiki/Data_URI_scheme&lt;/a&gt; to embed the (base64 encoded) image data inline in the @src attribute of the img element.&lt;/p&gt;</comment>
                            <comment id="12916102" author="gagravarr" created="Wed, 29 Sep 2010 12:01:34 +0100"  >&lt;p&gt;I&apos;d looked at wrapping the HTMLEditorKit, but decided it was likely to be much too much work...!&lt;/p&gt;

&lt;p&gt;In terms of the temporary files, we know that usually the img tag will appear just before the nested parser files, but I was hesitant to assume that as a hard-and-fast rule. I guess we could say that the first of the handler or the parser to see an image assigns it a temporary file name, then the other can find+use the same? I&apos;ll look at doing that shortly&lt;/p&gt;

&lt;p&gt;Mads - alas we can&apos;t do that, as the img tag and the image data don&apos;t arrive at the same time&lt;/p&gt;</comment>
                            <comment id="12916104" author="gagravarr" created="Wed, 29 Sep 2010 12:09:27 +0100"  >&lt;p&gt;Updated patch that uses temp files as suggested&lt;/p&gt;</comment>
                            <comment id="12916436" author="gagravarr" created="Thu, 30 Sep 2010 11:52:50 +0100"  >&lt;p&gt;Patch applied in r1003003.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12455911" name="TikaGuiImages-2.patch" size="7010" author="gagravarr" created="Wed, 29 Sep 2010 12:09:25 +0100"/>
                            <attachment id="12455836" name="TikaGuiImages.patch" size="6518" author="gagravarr" created="Tue, 28 Sep 2010 16:34:50 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 28 Sep 2010 22:37:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4342</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxx3af:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>16852</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>