<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:28:13 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/TIKA-290/TIKA-290.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[TIKA-290] org.apache.tika.exception.TikaException: Unexpected RuntimeException from org.apache.tika.parser.txt.TXTParser@6caf16</title>
                <link>https://issues.apache.org/jira/browse/TIKA-290</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;It&apos;s just for information (I am testing Tika).&lt;/p&gt;

&lt;p&gt;I am using tika-app-0.4.jar from the box. &lt;br/&gt;
I get the run-time error below :&lt;br/&gt;
org.apache.tika.exception.TikaException: Unexpected RuntimeException from org.apache.tika.parser.txt.TXTParser@6caf16&lt;/p&gt;

&lt;p&gt;with the ANSI text file containing :&lt;br/&gt;
azerty &lt;/p&gt;

&lt;p&gt;123456789012345 6789012345678901 2345678901234567890123456789 0123456789012345678901234567890123 456789012345678901234567890123456 789012345678901234567890123456789012345678901 2345678901234567890123456789 012345678901234567890123456 7890123456789012345 678901234567890123456789012345 6789012345678901234567890&lt;/p&gt;

&lt;p&gt;1234567890123456789012 345678901234567890123456789012345 6789012345678901234567890123456789012345678901234 567890123456789012345678901234567890123456789012345678901234 56789012345678901234567890123456789012345678901234567890123456789012345 78901234567890123456789012345678901234 56789012345678901234567890TOOLONGTOKEN&lt;/p&gt;

&lt;p&gt;qwerty.&lt;/p&gt;

&lt;p&gt;It works well if this file is saved in UTF-8 or if I delete some lines in the ANSI file. I don&apos;t know why.&lt;/p&gt;

&lt;p&gt;Best regards&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows XP / jdk1.6.0_15&lt;/p&gt;</environment>
        <key id="12436711">TIKA-290</key>
            <summary>org.apache.tika.exception.TikaException: Unexpected RuntimeException from org.apache.tika.parser.txt.TXTParser@6caf16</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jukkaz">Jukka Zitting</assignee>
                                    <reporter username="mrit64">MRIT64</reporter>
                        <labels>
                    </labels>
                <created>Sun, 27 Sep 2009 21:42:29 +0100</created>
                <updated>Mon, 14 Dec 2009 22:16:22 +0000</updated>
                            <resolved>Fri, 2 Oct 2009 11:52:04 +0100</resolved>
                                    <version>0.4</version>
                                    <fixVersion>0.5</fixVersion>
                                    <component>parser</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12760228" author="jukkaz" created="Mon, 28 Sep 2009 13:23:39 +0100"  >&lt;p&gt;Do you have a full stack trace of the exception?&lt;/p&gt;</comment>
                            <comment id="12760348" author="mrit64" created="Mon, 28 Sep 2009 20:10:40 +0100"  >&lt;p&gt;Trace :&lt;/p&gt;

&lt;p&gt;java -jar tika-app-0.4.jar test.txt&lt;br/&gt;
Exception in thread &quot;main&quot; org.apache.tika.exception.TikaException: Unexpected R&lt;br/&gt;
untimeException from org.apache.tika.parser.txt.TXTParser@1ac1fe4&lt;br/&gt;
        at org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:121)&lt;br/&gt;
        at org.apache.tika.parser.AutoDetectParser.parse(AutoDetectParser.java:105)&lt;br/&gt;
        at org.apache.tika.cli.TikaCLI.process(TikaCLI.java:116)&lt;br/&gt;
        at org.apache.tika.cli.TikaCLI.main(TikaCLI.java:57)&lt;br/&gt;
Caused by: java.lang.NullPointerException&lt;br/&gt;
        at java.io.Reader.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
        at java.io.BufferedReader.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
        at java.io.BufferedReader.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
        at org.apache.tika.parser.txt.TXTParser.parse(TXTParser.java:59)&lt;br/&gt;
        at org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:119)&lt;br/&gt;
        ... 3 more&lt;/p&gt;</comment>
                            <comment id="12760349" author="mrit64" created="Mon, 28 Sep 2009 20:11:58 +0100"  >&lt;p&gt;Attached file is the file that cause the problem.&lt;/p&gt;

&lt;p&gt;Best regards&lt;/p&gt;</comment>
                            <comment id="12761529" author="jukkaz" created="Fri, 2 Oct 2009 11:52:04 +0100"  >&lt;p&gt;The NPE issue was already fixed in current trunk, but the test file still threw an IOException because of an unsupported character encoding. It looks like the ICU4J encoding detection code we use opts for some weird encodings as the &quot;best match&quot; when the input matches multiple different encodings.&lt;/p&gt;

&lt;p&gt;I solved the immediate problem in revision 820956 by only accepting encodings that are actually supported by the Java runtime.&lt;/p&gt;

&lt;p&gt;The solution is still not ideal as Tika now reports the test file as using the ISO-8859-2 encoding. I guess we need to come up with some better detection heuristics for cases like this. I&apos;ll follow up on tika-dev@, for now I&apos;m resolving this issue as fixed.&lt;/p&gt;</comment>
                            <comment id="12761670" author="mrit64" created="Fri, 2 Oct 2009 19:52:37 +0100"  >&lt;p&gt;Hi&lt;/p&gt;

&lt;p&gt;Thanks for your investigations and for the fix.&lt;/p&gt;

&lt;p&gt;For information, the test file has been created with Notepad on Windows XP and saved with the default file format (ANSI).&lt;/p&gt;

&lt;p&gt;Best regards&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12420720" name="test.txt" size="653" author="mrit64" created="Mon, 28 Sep 2009 20:11:58 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 28 Sep 2009 12:23:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4570</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxx4p3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>17080</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>