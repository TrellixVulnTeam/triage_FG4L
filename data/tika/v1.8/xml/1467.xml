<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:29:32 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/TIKA-1467/TIKA-1467.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[TIKA-1467] pdf:encrypted:false with encrypted pdf</title>
                <link>https://issues.apache.org/jira/browse/TIKA-1467</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;When extracting metadata from the encryption_noprinting.pdf file found in the pdfCabinetOfHorrors (&lt;a href=&quot;https://github.com/openplanets/format-corpus/tree/master/pdfCabinetOfHorrors&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/openplanets/format-corpus/tree/master/pdfCabinetOfHorrors&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;$java -jar tika-app-1.7-20141105.092424-471.jar -j encryption_noprinting.pdf&lt;/p&gt;

&lt;p&gt;We get a &lt;br/&gt;
INFO - Document is encrypted&lt;/p&gt;

&lt;p&gt;but the resulting JSON has : &quot;pdf:encrypted&quot;:&quot;false&quot;&lt;/p&gt;

&lt;p&gt;Looking at the PDFParser, it seems that the first information comes when reading the PDF but when the metadata is retrieve the PDF is no longer encrypted... the encryption fact should be retain to be added to the metadata.&lt;/p&gt;</description>
                <environment>&lt;p&gt;$java -version&lt;br/&gt;
java version &quot;1.6.0_25&quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.6.0_25-b06)&lt;br/&gt;
Java HotSpot(TM) Client VM (build 20.0-b11, mixed mode, sharing)&lt;/p&gt;</environment>
        <key id="12753749">TIKA-1467</key>
            <summary>pdf:encrypted:false with encrypted pdf</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tledouxfr@yahoo.fr">Thomas Ledoux</reporter>
                        <labels>
                    </labels>
                <created>Fri, 7 Nov 2014 17:44:47 +0000</created>
                <updated>Mon, 10 Nov 2014 15:03:06 +0000</updated>
                                            <version>1.6</version>
                                                    <component>parser</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="14202416" author="tallison@mitre.org" created="Fri, 7 Nov 2014 18:36:16 +0000"  >&lt;p&gt;When I move &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;            metadata.set(&quot;pdf:encrypted&quot;, Boolean.toString(pdfDocument.isEncrypted()));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;above the decrypting chunk of code in the PDFParser on our testPDF_protected.pdf file, I get the proper &quot;true&quot; value when using the default &quot;old&quot; sequential parser.  However, the NonSequentialParser returns &quot;false&quot; at that point.  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;Tilman Hausherr&lt;/a&gt;, recommendations?&lt;/p&gt;</comment>
                            <comment id="14202456" author="tilman" created="Fri, 7 Nov 2014 19:00:47 +0000"  >&lt;p&gt;The old and the new parser have different approaches to decryption. In the old one, you have to decrypt yourself with openProtection(). With the new one, you pass the password (no password = empty password) to loadNonSeq and it is done immediately. So the document is no longer encrypted when loadNonSeq() returns. I don&apos;t know how to find out whether it was encrypted. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lehmi&quot; class=&quot;user-hover&quot; rel=&quot;lehmi&quot;&gt;Andreas Lehmk&#252;hler&lt;/a&gt; any idea?&lt;/p&gt;</comment>
                            <comment id="14203424" author="lehmi" created="Sat, 8 Nov 2014 13:15:31 +0000"  >&lt;p&gt;PDDocument#isEncrypted provides unclear information about a possible encryption. I&apos;m going to change that, see &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2490&quot; title=&quot;Return value of COSDocument#isEncrypted is unclear&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2490&quot;&gt;&lt;del&gt;PDFBOX-2490&lt;/del&gt;&lt;/a&gt;, so that it works the same way independent of the used parser&lt;/p&gt;</comment>
                            <comment id="14203448" author="lehmi" created="Sat, 8 Nov 2014 14:03:40 +0000"  >&lt;p&gt;PDDocument#isEncrypted should now work as expected&lt;/p&gt;</comment>
                            <comment id="14204817" author="tallison@mitre.org" created="Mon, 10 Nov 2014 14:16:59 +0000"  >&lt;p&gt;Thank you, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;Tilman Hausherr&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lehmi&quot; class=&quot;user-hover&quot; rel=&quot;lehmi&quot;&gt;Andreas Lehmk&#252;hler&lt;/a&gt;.  In r1637868, I&apos;ve made the move and added two tests.  Until we upgrade to PDFBox 1.8.8 this won&apos;t work if the user is using the NonSequentialParser.  I&apos;m going to leave this issue open until we upgrade.&lt;/p&gt;</comment>
                            <comment id="14204835" author="hudson" created="Mon, 10 Nov 2014 14:44:37 +0000"  >&lt;p&gt;SUCCESS: Integrated in tika-trunk-jdk1.7 #305 (See &lt;a href=&quot;https://builds.apache.org/job/tika-trunk-jdk1.7/305/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/tika-trunk-jdk1.7/305/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1467&quot; title=&quot;pdf:encrypted:false with encrypted pdf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1467&quot;&gt;TIKA-1467&lt;/a&gt;: in PDFParser, move metadata set isEncrypted() to before decryption step. (tallison: &lt;a href=&quot;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1637868&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1637868&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/tika/trunk/tika-parsers/src/main/java/org/apache/tika/parser/pdf/PDFParser.java&lt;/li&gt;
	&lt;li&gt;/tika/trunk/tika-parsers/src/test/java/org/apache/tika/parser/pdf/PDFParserTest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14204859" author="hudson" created="Mon, 10 Nov 2014 15:03:06 +0000"  >&lt;p&gt;SUCCESS: Integrated in tika-trunk-jdk1.6 #285 (See &lt;a href=&quot;https://builds.apache.org/job/tika-trunk-jdk1.6/285/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/tika-trunk-jdk1.6/285/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1467&quot; title=&quot;pdf:encrypted:false with encrypted pdf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1467&quot;&gt;TIKA-1467&lt;/a&gt;: in PDFParser, move metadata set isEncrypted() to before decryption step. (tallison: &lt;a href=&quot;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1637868&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1637868&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/tika/trunk/tika-parsers/src/main/java/org/apache/tika/parser/pdf/PDFParser.java&lt;/li&gt;
	&lt;li&gt;/tika/trunk/tika-parsers/src/test/java/org/apache/tika/parser/pdf/PDFParserTest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12753917">PDFBOX-2490</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12747281">TIKA-1442</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 7 Nov 2014 18:36:16 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzvzfj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>