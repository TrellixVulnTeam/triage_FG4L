<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:35:51 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/TIKA-870/TIKA-870.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[TIKA-870] Allow to use call parseToString with a additional parameter of MaxStringLength, so it can be changed per call</title>
                <link>https://issues.apache.org/jira/browse/TIKA-870</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;It would be great to be able to call parseToString with an additional parameter of the maxStringLength, instead of having to set it on the Tika instance. This allows to set it per parse call. Sample code:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; parseToString(InputStream stream, Metadata metadata, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; maxStringLength)
        &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException, TikaException {
    WriteOutContentHandler handler =
        &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; WriteOutContentHandler(maxStringLength);
    &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
        ParseContext context = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ParseContext();
        context.set(Parser.class, parser);
        parser.parse(
                stream, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; BodyContentHandler(handler), metadata, context);
    } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (SAXException e) {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!handler.isWriteLimitReached(e)) {
            &lt;span class=&quot;code-comment&quot;&gt;// This should never happen with BodyContentHandler...
&lt;/span&gt;            &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; TikaException(&lt;span class=&quot;code-quote&quot;&gt;&quot;Unexpected SAX processing failure&quot;&lt;/span&gt;, e);
        }
    } &lt;span class=&quot;code-keyword&quot;&gt;finally&lt;/span&gt; {
        stream.close();
    }
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; handler.toString();
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12545548">TIKA-870</key>
            <summary>Allow to use call parseToString with a additional parameter of MaxStringLength, so it can be changed per call</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mikemccand">Michael McCandless</assignee>
                                    <reporter username="kimchy">Shay Banon</reporter>
                        <labels>
                    </labels>
                <created>Wed, 7 Mar 2012 19:43:20 +0000</created>
                <updated>Sun, 11 Mar 2012 17:32:38 +0000</updated>
                            <resolved>Sun, 11 Mar 2012 17:32:38 +0000</resolved>
                                                    <fixVersion>1.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13224643" author="mikemccand" created="Wed, 7 Mar 2012 19:49:51 +0000"  >&lt;p&gt;I think this makes sense.&lt;/p&gt;</comment>
                            <comment id="13224727" author="mikemccand" created="Wed, 7 Mar 2012 21:29:49 +0000"  >&lt;p&gt;Patch, with the sample code plus a test case.&lt;/p&gt;

&lt;p&gt;The test case failed at first!  Ie, the returned string was over the specified limit... I dug and discovered WriteOutContentHandler wasn&apos;t overriding/counting ignorableWhitespace, so I added that override and now the test passes.&lt;/p&gt;

&lt;p&gt;I think it&apos;s ready...&lt;/p&gt;</comment>
                            <comment id="13227102" author="mikemccand" created="Sun, 11 Mar 2012 17:32:38 +0000"  >&lt;p&gt;Thanks Shay!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12517464" name="TIKA-870.patch" size="6232" author="mikemccand" created="Wed, 7 Mar 2012 21:29:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 7 Mar 2012 19:49:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>230734</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxx14n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>16502</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>