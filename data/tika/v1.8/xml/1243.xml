<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:29:08 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/TIKA-1243/TIKA-1243.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[TIKA-1243] Support for 7z archives</title>
                <link>https://issues.apache.org/jira/browse/TIKA-1243</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;I think upgrading to Apache Commons Compress 1.7 and adding &quot;application/x-7z-compressed&quot; to PackageParser supported types will fix this.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12696648">TIKA-1243</key>
            <summary>Support for 7z archives</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="lfcnassif">Luis Filipe Nassif</reporter>
                        <labels>
                    </labels>
                <created>Fri, 21 Feb 2014 21:49:21 +0000</created>
                <updated>Mon, 16 Mar 2015 02:25:42 +0000</updated>
                            <resolved>Mon, 16 Mar 2015 02:25:42 +0000</resolved>
                                    <version>1.5</version>
                                                    <component>parser</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13909414" author="gagravarr" created="Sat, 22 Feb 2014 15:53:31 +0000"  >&lt;p&gt;Sadly it&apos;s not that simple - I&apos;ve raised &lt;a href=&quot;https://issues.apache.org/jira/browse/COMPRESS-267&quot; title=&quot;ArchiveStreamFactory throws &amp;quot;No Archiver found for the stream signature&amp;quot; on 7z files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;COMPRESS-267&quot;&gt;&lt;del&gt;COMPRESS-267&lt;/del&gt;&lt;/a&gt; to track the issue I hit when I tried&lt;/p&gt;</comment>
                            <comment id="13909417" author="gagravarr" created="Sat, 22 Feb 2014 16:00:26 +0000"  >&lt;p&gt;In r1570857 I&apos;ve added a disabled unit test for this, which we can either enable when &lt;a href=&quot;https://issues.apache.org/jira/browse/COMPRESS-267&quot; title=&quot;ArchiveStreamFactory throws &amp;quot;No Archiver found for the stream signature&amp;quot; on 7z files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;COMPRESS-267&quot;&gt;&lt;del&gt;COMPRESS-267&lt;/del&gt;&lt;/a&gt; is fixed, or when we implement a workaround&lt;/p&gt;</comment>
                            <comment id="13909581" author="lfcnassif" created="Sat, 22 Feb 2014 23:17:10 +0000"  >&lt;p&gt;Wow, looks like Compress-267 was resolved and scheduled for Compress 1.8. Sorry for not testing this. Any way, we will need specific Tika code for 7z, as I understood.&lt;/p&gt;</comment>
                            <comment id="13909603" author="gagravarr" created="Sun, 23 Feb 2014 00:18:04 +0000"  >&lt;p&gt;7z is not compatible with streams, it only works with files. So, we&apos;ll need to catch the &quot;sorry it&apos;s a 7z - files only&quot; exception, ensure the stream we have is a TikaInputStream (converting if needed), then open from a File not a stream. All this when Commons Compress 1.8 is ought, though the patch could be prepared now to be included when 1.8 is out!&lt;/p&gt;</comment>
                            <comment id="13932739" author="lfcnassif" created="Thu, 13 Mar 2014 01:11:43 +0000"  >&lt;p&gt;Commons Compress 1.8 was released today and now PackageParser can catch a StreamingNotSupportedException and spool the stream to a temp file to handle 7z archives.&lt;/p&gt;</comment>
                            <comment id="13932920" author="gagravarr" created="Thu, 13 Mar 2014 06:49:10 +0000"  >&lt;p&gt;Support added in r1577038. However, until &lt;a href=&quot;https://issues.apache.org/jira/browse/COMPRESS-269&quot; title=&quot;Common interface for SevenZFile and ArchiveInputStream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;COMPRESS-269&quot;&gt;COMPRESS-269&lt;/a&gt; is fixed, the way we have to do it is a little nasty as SevenZFile doesn&apos;t share a common interface/parent with the rest of the of the archive inputs. I think we probably want to leave this open for now, pending a cleaner fix with that (maybe from 1.9?)&lt;/p&gt;</comment>
                            <comment id="14095097" author="sunxingzhe359" created="Wed, 13 Aug 2014 04:25:29 +0100"  >&lt;p&gt;When Commons Compress 1.8 parse the attach &lt;a href=&quot;file:Archive.7z&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:Archive.7z&lt;/a&gt;, the following error occurred.&lt;br/&gt;
org.apache.tika.exception.TikaException: &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-198&quot; title=&quot;Better distinction between IOException and TikaException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-198&quot;&gt;&lt;del&gt;TIKA-198&lt;/del&gt;&lt;/a&gt;: Illegal IOException from org.apache.tika.parser.pkg.PackageParser@886b178&lt;br/&gt;
EndTime:	1407899886604&lt;br/&gt;
	at org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:248)&lt;br/&gt;
	at org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:242)&lt;br/&gt;
	at org.apache.tika.parser.AutoDetectParser.parse(AutoDetectParser.java:148)&lt;br/&gt;
	at org.apache.tika.Tika.parseToString(Tika.java:381)&lt;br/&gt;
	at fileparser.fileparser_jsonstring(fileparser.java:116)&lt;br/&gt;
	at test.main(test.java:26)&lt;br/&gt;
Caused by: java.io.IOException: kDummy is unsupported, please report&lt;br/&gt;
	at org.apache.commons.compress.archivers.sevenz.SevenZFile.readFilesInfo(SevenZFile.java:711)&lt;br/&gt;
	at org.apache.commons.compress.archivers.sevenz.SevenZFile.readHeader(SevenZFile.java:242)&lt;br/&gt;
	at org.apache.commons.compress.archivers.sevenz.SevenZFile.readHeaders(SevenZFile.java:198)&lt;br/&gt;
	at org.apache.commons.compress.archivers.sevenz.SevenZFile.&amp;lt;init&amp;gt;(SevenZFile.java:95)&lt;br/&gt;
	at org.apache.commons.compress.archivers.sevenz.SevenZFile.&amp;lt;init&amp;gt;(SevenZFile.java:117)&lt;br/&gt;
	at org.apache.tika.parser.pkg.PackageParser.parse(PackageParser.java:133)&lt;br/&gt;
	at org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:242)&lt;br/&gt;
	... 5 more&lt;/p&gt;</comment>
                            <comment id="14095274" author="gagravarr" created="Wed, 13 Aug 2014 09:36:42 +0100"  >&lt;p&gt;Tika now uses Commons Compress 1.8.1, you should try with a build of Tika from trunk / nightly build&lt;/p&gt;</comment>
                            <comment id="14095521" author="sunxingzhe359" created="Wed, 13 Aug 2014 15:21:28 +0100"  >&lt;p&gt;I parse the attachement &lt;a href=&quot;file:Archive.7z&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:Archive.7z&lt;/a&gt;.&lt;br/&gt;
I try with of Tika from truck build, but the error still occurred.&lt;br/&gt;
Please tell me why the error happened.&lt;br/&gt;
Thank you very much.&lt;/p&gt;</comment>
                            <comment id="14095528" author="gagravarr" created="Wed, 13 Aug 2014 15:27:14 +0100"  >&lt;p&gt;Looks like a limitation in Apache Commons Compress, you&apos;ll need to report it upstream to that project - &lt;a href=&quot;https://issues.apache.org/jira/browse/COMPRESS&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/COMPRESS&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14362662" author="tpalsulich" created="Mon, 16 Mar 2015 02:25:42 +0000"  >&lt;p&gt;I&apos;m closing this as Fixed, since the attached file is now parsed without an issue. Please reopen if you feel there is more to improve on with 7z parsing (but, we just added password support, so I doubt there is something relevant to this issue.)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12661386" name="Archive.7z" size="846" author="sunxingzhe359" created="Wed, 13 Aug 2014 04:25:29 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 22 Feb 2014 15:53:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>375124</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzmhv3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>375421</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>