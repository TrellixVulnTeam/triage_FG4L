<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:36:56 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/TIKA-56/TIKA-56.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[TIKA-56] Mime type detection fails with upper case file extensions such as &quot;PDF&quot;.</title>
                <link>https://issues.apache.org/jira/browse/TIKA-56</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;Mime type detection only seems to work when the file extension is lower case.  Both PDF and DOC extensions failed.&lt;/p&gt;

&lt;p&gt;To test this, add the following method to TestParsers:&lt;/p&gt;

&lt;p&gt;    public void testGetParsers() throws TikaException, MalformedURLException &lt;/p&gt;
{
        assertNotNull(ParseUtils.getParser(new URL(&quot;file:x.pdf&quot;), tc));
        assertNotNull(ParseUtils.getParser(new URL(&quot;file:x.PDF&quot;), tc));
        assertNotNull(ParseUtils.getParser(new URL(&quot;file:x.doc&quot;), tc));
        assertNotNull(ParseUtils.getParser(new URL(&quot;file:x.DOC&quot;), tc));
        assertNotNull(ParseUtils.getParser(new URL(&quot;file:x.txt&quot;), tc));
        assertNotNull(ParseUtils.getParser(new URL(&quot;file:x.TXT&quot;), tc));
        assertNotNull(ParseUtils.getParser(new URL(&quot;file:x.html&quot;), tc));
        assertNotNull(ParseUtils.getParser(new URL(&quot;file:x.HTML&quot;), tc));
        assertNotNull(ParseUtils.getParser(new URL(&quot;file:x.HtMl&quot;), tc));
        assertNotNull(ParseUtils.getParser(new URL(&quot;file:x.htm&quot;), tc));
        assertNotNull(ParseUtils.getParser(new URL(&quot;file:x.HTM&quot;), tc));
        assertNotNull(ParseUtils.getParser(new URL(&quot;file:x.ppt&quot;), tc));
        assertNotNull(ParseUtils.getParser(new URL(&quot;file:x.PPT&quot;), tc));
        assertNotNull(ParseUtils.getParser(new URL(&quot;file:x.xls&quot;), tc));
        assertNotNull(ParseUtils.getParser(new URL(&quot;file:x.XLS&quot;), tc));
        // more?
    }</description>
                <environment></environment>
        <key id="12380179">TIKA-56</key>
            <summary>Mime type detection fails with upper case file extensions such as &quot;PDF&quot;.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chrismattmann">Chris A. Mattmann</assignee>
                                    <reporter username="kbennett">Keith R. Bennett</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Oct 2007 18:53:54 +0100</created>
                <updated>Sun, 14 Oct 2007 22:04:25 +0100</updated>
                            <resolved>Sun, 14 Oct 2007 22:04:15 +0100</resolved>
                                    <version>0.1-incubating</version>
                                    <fixVersion>0.1-incubating</fixVersion>
                                    <component>general</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12534157" author="chrismattmann" created="Thu, 11 Oct 2007 21:58:46 +0100"  >&lt;p&gt;Hi Keith:&lt;/p&gt;

&lt;p&gt;I&apos;m not necessary sure that this is a bug, no? If you&apos;re doing mime detection, with magic turned off, and it has to use the file extension, is it ever the case (no pun intended &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; ), where the &quot;case&quot; of the file extension matters? If so, then I would suggest we not change the mime system to be case insensitive.&lt;/p&gt;

&lt;p&gt;Know of any cases where this is true?&lt;/p&gt;</comment>
                            <comment id="12534160" author="kbennett" created="Thu, 11 Oct 2007 22:12:54 +0100"  >&lt;p&gt;Chris -&lt;/p&gt;

&lt;p&gt;I don&apos;t know of any such cases, but then we&apos;ve reached the limits of my knowledge of MIME types. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;However, if we have a utility that determines the MIME type from an extension, my sense is that is reasonable to make the extension comparisons case insensitive.  Especially in the Windows world, there are huge numbers of files out there with upper case extensions.  To me, it makes sense for the default to be to consider &quot;PDF&quot; equal to &quot;pdf&quot;; otherwise, we will get lots of &quot;bugs&quot; reported. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;If there are any obscure cases where case matters, I think it may be reasonable to require the user to use other means of determining the MIME type (have the user determine it himself, or use &quot;magic&quot;?).  &lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Keith&lt;/li&gt;
&lt;/ul&gt;

</comment>
                            <comment id="12534194" author="chrismattmann" created="Fri, 12 Oct 2007 01:35:05 +0100"  >&lt;p&gt;Keith: agreed. If no one else has any objections, I&apos;ll get a patch together that adapts the mime type repository to handle file extensions in a case-insensitive fashion.&lt;/p&gt;</comment>
                            <comment id="12534672" author="jukkaz" created="Sun, 14 Oct 2007 21:15:49 +0100"  >&lt;p&gt;Dropping priority to minor (a client can already work around the issue by explicitly lower-casing the name).&lt;/p&gt;

&lt;p&gt;+1 to fixing this as discussed.&lt;/p&gt;

&lt;p&gt;I guess the simplest fix is to use name.toLowerCase() in MimeTypes.getMimeType(String name).&lt;/p&gt;</comment>
                            <comment id="12534673" author="chrismattmann" created="Sun, 14 Oct 2007 21:38:56 +0100"  >&lt;p&gt;+1 to using name.toLowerCase() Jukka. I&apos;ll commit a fix for this shortly.&lt;/p&gt;</comment>
                            <comment id="12534677" author="chrismattmann" created="Sun, 14 Oct 2007 22:04:15 +0100"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;fix implemented as suggested by Jukka (use of .toLowerCase in getMimeType(String filename)&lt;/li&gt;
	&lt;li&gt;added unit test to test different cases of &quot;.pdf&quot; for regression purposes&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12534678" author="chrismattmann" created="Sun, 14 Oct 2007 22:04:25 +0100"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;fixed in r584602.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 11 Oct 2007 20:58:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4806</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxx653:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>17314</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>