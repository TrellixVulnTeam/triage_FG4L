<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:35:08 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/TIKA-739/TIKA-739.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[TIKA-739] For certain DWG files, the Tika content parser outputs garbage</title>
                <link>https://issues.apache.org/jira/browse/TIKA-739</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;I&apos;m using Solr version 3.4.  After I index the attached file, Solr displays an error message if it is included in the search results because of malformed XML.  When I extract the file using Solr&apos;s extractOnly option, I get results back that look corrupted to me (see attached).&lt;/p&gt;

&lt;p&gt;I observed the same behavior with Solr version 3.3.&lt;/p&gt;

&lt;p&gt;The exact URL that I used to extract the content is (before I URL encode it):  &lt;a href=&quot;http://localhost:8983/solr/update/extract?extractOnly=true&amp;amp;literal.type=file&amp;amp;literal.id=9a7ab433616746aaab526d77564b916f&amp;amp;literal.name=3D&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://localhost:8983/solr/update/extract?extractOnly=true&amp;amp;literal.type=file&amp;amp;literal.id=9a7ab433616746aaab526d77564b916f&amp;amp;literal.name=3D&lt;/a&gt; Dacor Modern Kitchen.dwg&amp;amp;resource.name=3D Dacor Modern Kitchen.dwg&amp;amp;literal.createddate=2010-08-19T17:32:48.277Z&amp;amp;literal.modifieddate=2010-08-19T17:32:49.996Z&amp;amp;literal.size=452832&amp;amp;literal.versionnumber=0&amp;amp;literal.ownerid=92a7271bfa3c4639993c4652ef7e922b&amp;amp;literal.creatorid=201008051854838&amp;amp;literal.viewerids=201008051854838&amp;amp;literal.viewerids=201006231721543&amp;amp;literal.viewerids=201011041924210&lt;/p&gt;</description>
                <environment></environment>
        <key id="12525568">TIKA-739</key>
            <summary>For certain DWG files, the Tika content parser outputs garbage</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jukkaz">Jukka Zitting</assignee>
                                    <reporter username="johnbartak">John Bartak</reporter>
                        <labels>
                    </labels>
                <created>Mon, 3 Oct 2011 20:10:03 +0100</created>
                <updated>Wed, 5 Oct 2011 14:52:09 +0100</updated>
                            <resolved>Wed, 5 Oct 2011 14:52:09 +0100</resolved>
                                                    <fixVersion>1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13119512" author="johnbartak" created="Mon, 3 Oct 2011 20:11:30 +0100"  >&lt;p&gt;File that seems to be causing Tika problems&lt;/p&gt;</comment>
                            <comment id="13119514" author="johnbartak" created="Mon, 3 Oct 2011 20:18:09 +0100"  >&lt;p&gt;The error message displayed when getting this file back in search results using the Solr admin UI.&lt;/p&gt;</comment>
                            <comment id="13119588" author="gagravarr" created="Mon, 3 Oct 2011 21:47:18 +0100"  >&lt;p&gt;What version of Tika are you using? And if it isn&apos;t 0.10, does switching to 0.10 fix your issue?&lt;/p&gt;</comment>
                            <comment id="13119614" author="johnbartak" created="Mon, 3 Oct 2011 22:11:56 +0100"  >&lt;p&gt;Not entirely sure what version I&apos;m using.  I&apos;m using the default content extraction system built into the latest version of Solr.  I&apos;m assuming that&apos;s Tika &amp;#8211; but don&apos;t know which version.&lt;/p&gt;</comment>
                            <comment id="13119639" author="gagravarr" created="Mon, 3 Oct 2011 22:37:24 +0100"  >&lt;p&gt;Someone may chime in with the exact answer, in the mean time you could try looking inside SOLR and see what Tika jar it uses - with any luck that&apos;ll have the version in it (eg tika-core-0.9.jar)&lt;/p&gt;</comment>
                            <comment id="13119709" author="johnbartak" created="Mon, 3 Oct 2011 23:52:15 +0100"  >&lt;p&gt;It&apos;s 0.8 &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; .  Not sure how easy it will be to switch Solr to use .10.  Maybe I&apos;ll try installing Tika by itself and see if it handles the file properly.&lt;/p&gt;</comment>
                            <comment id="13119730" author="johnbartak" created="Tue, 4 Oct 2011 00:20:44 +0100"  >&lt;p&gt;Just downloaded 0.10 and tried extracting the file in it.  It takes a really long time to run and consumes over 400 MB of memory.  Eventually I get some data back, but still have the Progress dialog up displaying &quot;Parsing stream&quot;.  I  get similar garbage output as when I run 0.8 inside Solr displayed behind the Progress dialog.  I&apos;ve attached a screenshot of the the Tika screen.&lt;/p&gt;


&lt;p&gt;It probably shouldn&apos;t matter, but I&apos;m running on Windows Server 2008 R2.&lt;/p&gt;

&lt;p&gt;I know this DWG is valid because it opens successfully inside AutocadWS (&lt;a href=&quot;https://www.autocadws.com/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://www.autocadws.com/&lt;/a&gt;).  It is a 3D DWG, so perhaps that is causing problems.&lt;/p&gt;</comment>
                            <comment id="13119752" author="mikemccand" created="Tue, 4 Oct 2011 00:35:37 +0100"  >&lt;p&gt;I opened &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-2807&quot; title=&quot;Upgrade to Tika 0.10&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-2807&quot;&gt;&lt;del&gt;SOLR-2807&lt;/del&gt;&lt;/a&gt; to upgrade Solr to Tika 0.10....&lt;/p&gt;</comment>
                            <comment id="13120980" author="jukkaz" created="Wed, 5 Oct 2011 14:52:09 +0100"  >&lt;p&gt;I fixed this in revision 1179225 by adding a check for an unexpected property offset value. The result is that Tika is unable to extract anything from this file, but that&apos;s already better than returning garbage.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12497517" name="3D Dacor Modern Kitchen.dwg" size="452832" author="johnbartak" created="Mon, 3 Oct 2011 20:11:30 +0100"/>
                            <attachment id="12497567" name="ASF.LICENSE.NOT.GRANTED--screenshot-1.jpg" size="207922" author="johnbartak" created="Tue, 4 Oct 2011 00:21:27 +0100"/>
                            <attachment id="12497519" name="SolrErrorMsg.png" size="95668" author="johnbartak" created="Mon, 3 Oct 2011 20:18:09 +0100"/>
                            <attachment id="12497518" name="extractedContent.xml" size="1088458" author="johnbartak" created="Mon, 3 Oct 2011 20:12:41 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 3 Oct 2011 20:47:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43867</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxx1xr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>16633</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>