<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:37:41 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/TIKA-304/TIKA-304.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[TIKA-304] HtmlParser could be easier to subclass</title>
                <link>https://issues.apache.org/jira/browse/TIKA-304</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;It would be nice if one could subclass HtmlParser to change what it passes along, instead of having to copy it. I&apos;ll attach a first effort.&lt;/p&gt;

&lt;p&gt;It would also be good if attributes could be preserved (particularly id attributes) but let&apos;s see how you like my first patch.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12437701">TIKA-304</key>
            <summary>HtmlParser could be easier to subclass</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jukkaz">Jukka Zitting</assignee>
                                    <reporter username="bmargulies">Benson Margulies</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Oct 2009 13:26:54 +0100</created>
                <updated>Mon, 14 Dec 2009 22:16:22 +0000</updated>
                            <resolved>Fri, 16 Oct 2009 15:51:42 +0100</resolved>
                                    <version>0.4</version>
                    <version>0.5</version>
                                    <fixVersion>0.5</fixVersion>
                                    <component>parser</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12764087" author="kkrugler" created="Fri, 9 Oct 2009 17:31:55 +0100"  >&lt;p&gt;A few comments on this:&lt;/p&gt;

&lt;p&gt;1. I think it&apos;s an improvement, not a bug &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;2. I agree that it would be great to be able to alter the behavior of HtmlParser. Making subclassing easier is one approach, another might be the ability (IoC model) of specifying a different content handler.&lt;/p&gt;

&lt;p&gt;3. Preserving attributes is very important - I had a todo on my list to file an issue about this. E.g. with links, there can be attributes like the target content language that you want to preserve.&lt;/p&gt;

&lt;p&gt;4. I have some mods for HtmlParser that I need to turn into issues/patches, e.g. link extraction from &amp;lt;img&amp;gt;, &amp;lt;link&amp;gt;, etc tags. But I&apos;d hate to put Jukka into n-way merge hell. So I might wait for this patch to get rolled in first.&lt;/p&gt;</comment>
                            <comment id="12764088" author="bmargulies" created="Fri, 9 Oct 2009 17:39:15 +0100"  >&lt;p&gt;Oops. I didn&apos;t notice that this project has a full set of types. I&apos;m used to CXF that just has bug and story.&lt;/p&gt;
</comment>
                            <comment id="12766551" author="jukkaz" created="Fri, 16 Oct 2009 15:51:42 +0100"  >&lt;p&gt;I solved this a bit differently in revision 825915, where I added the following protected methods to HTMLParser. These should give subclasses a way to customize the key HTML to XHTML mappings currently implemented in the HTML parser. Note that in some future version we may want to deprecate and remove these methods in case the internals of the HTML parser change dramatically (e.g. if we implement the discussed CSS/Javascript processing features).&lt;/p&gt;

&lt;p&gt;    /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Maps &quot;safe&quot; HTML element names to semantic XHTML equivalents. If the&lt;/li&gt;
	&lt;li&gt;given element is unknown or deemed unsafe for inclusion in the parse&lt;/li&gt;
	&lt;li&gt;output, then this method returns &amp;lt;code&amp;gt;null&amp;lt;/code&amp;gt; and the element&lt;/li&gt;
	&lt;li&gt;will be ignored but the content inside it is still processed. See&lt;/li&gt;
	&lt;li&gt;the 
{@link #isDiscardElement(String)}
&lt;p&gt; method for a way to discard&lt;/p&gt;&lt;/li&gt;
	&lt;li&gt;the entire contents of an element.&lt;/li&gt;
	&lt;li&gt;&amp;lt;p&amp;gt;&lt;/li&gt;
	&lt;li&gt;Subclasses can override this method to customize the default mapping.&lt;br/&gt;
     *&lt;/li&gt;
	&lt;li&gt;@since Apache Tika 0.5&lt;/li&gt;
	&lt;li&gt;@param name HTML element name (upper case)&lt;/li&gt;
	&lt;li&gt;@return XHTML element name (lower case), or&lt;/li&gt;
	&lt;li&gt;&amp;lt;code&amp;gt;null&amp;lt;/code&amp;gt; if the element is unsafe&lt;br/&gt;
     */&lt;br/&gt;
    protected String mapSafeElement(String name)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Checks whether all content within the given HTML element should be&lt;/li&gt;
	&lt;li&gt;discarded instead of including it in the parse output. Subclasses&lt;/li&gt;
	&lt;li&gt;can override this method to customize the set of discarded elements.&lt;br/&gt;
     *&lt;/li&gt;
	&lt;li&gt;@since Apache Tika 0.5&lt;/li&gt;
	&lt;li&gt;@param name HTML element name (upper case)&lt;/li&gt;
	&lt;li&gt;@return &amp;lt;code&amp;gt;true&amp;lt;/code&amp;gt; if content inside the named element&lt;/li&gt;
	&lt;li&gt;should be ignored, &amp;lt;code&amp;gt;false&amp;lt;/code&amp;gt; otherwise&lt;br/&gt;
     */&lt;br/&gt;
    protected boolean isDiscardElement(String name)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12421732" name="html-parser-subclass.diff" size="1228" author="bmargulies" created="Fri, 9 Oct 2009 13:27:29 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 9 Oct 2009 16:31:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4556</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxx4lz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>17066</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>