<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:36:40 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/TIKA-642/TIKA-642.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[TIKA-642] Few of RTF files not extracting properly</title>
                <link>https://issues.apache.org/jira/browse/TIKA-642</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;Few of the RTF files dont get extracted properly. &lt;br/&gt;
This is the stack trace: &lt;/p&gt;

&lt;p&gt;org.apache.tika.exception.TikaException: &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-198&quot; title=&quot;Better distinction between IOException and TikaException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-198&quot;&gt;&lt;del&gt;TIKA-198&lt;/del&gt;&lt;/a&gt;: Illegal IOException from org.apache.tika.parser.rtf.RTFParser@616d071a&lt;br/&gt;
at org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:203)&lt;br/&gt;
at org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:197)&lt;br/&gt;
at org.apache.tika.parser.AutoDetectParser.parse(AutoDetectParser.java:135)&lt;/p&gt;

&lt;p&gt;Caused by: java.io.IOException: Too many close-groups in RTF text&lt;br/&gt;
at javax.swing.text.rtf.RTFParser.write(RTFParser.java:156)&lt;br/&gt;
at javax.swing.text.rtf.RTFParser.writeSpecial(RTFParser.java:101)&lt;br/&gt;
at javax.swing.text.rtf.AbstractFilter.write(AbstractFilter.java:158)&lt;br/&gt;
at javax.swing.text.rtf.AbstractFilter.readFromStream(AbstractFilter.java:88)&lt;br/&gt;
at javax.swing.text.rtf.RTFEditorKit.read(RTFEditorKit.java:65)&lt;br/&gt;
at org.apache.tika.parser.rtf.RTFParser.parse(RTFParser.java:112)&lt;br/&gt;
at org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:197)&lt;/p&gt;
</description>
                <environment>&lt;p&gt;All&lt;/p&gt;</environment>
        <key id="12504723">TIKA-642</key>
            <summary>Few of RTF files not extracting properly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="manish1982">Manish</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Apr 2011 23:13:12 +0100</created>
                <updated>Wed, 5 Oct 2011 18:13:07 +0100</updated>
                            <resolved>Wed, 5 Oct 2011 18:13:07 +0100</resolved>
                                    <version>0.9</version>
                    <version>0.10</version>
                                                    <component>parser</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13021824" author="manish1982" created="Tue, 19 Apr 2011 23:14:09 +0100"  >&lt;p&gt;This is the file that is throwing the exception&lt;/p&gt;</comment>
                            <comment id="13021828" author="gagravarr" created="Tue, 19 Apr 2011 23:20:52 +0100"  >&lt;p&gt;The exception is coming from javax.swing, so there may not be that much we can do.&lt;/p&gt;

&lt;p&gt;However, it looks from a quick google like the most common reason for the swing classes to throw that exception is when your file is corrupt, and closes more tags than it opens&lt;/p&gt;</comment>
                            <comment id="13021913" author="manish1982" created="Wed, 20 Apr 2011 03:24:12 +0100"  >&lt;p&gt;Do we have alternate to this? There are many files that throws similar error. &lt;/p&gt;</comment>
                            <comment id="13036139" author="jukkaz" created="Thu, 19 May 2011 13:11:29 +0100"  >&lt;p&gt;No good alternatives until someone finds (or creates) a liberally licensed RTF parser library that we could use instead of relying on javax.swing. Until that the best we can do is to try add extra tweaks and hacks like the ones we already have in the RTFParser class.&lt;/p&gt;

&lt;p&gt;As a minor improvement on this, in revision 1124702 I added code that converts such parse errors from IO- to TikaExceptions so we get a better error message than the generic &quot;Illegal IOException&quot;.&lt;/p&gt;</comment>
                            <comment id="13036337" author="cristian.vat" created="Thu, 19 May 2011 19:09:08 +0100"  >&lt;p&gt;For the example file it seems like there&apos;s only extra closing tag after main rtf block.&lt;/p&gt;

&lt;p&gt;Since &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-422&quot; title=&quot;Wrong charset conversion in some RTF documents.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-422&quot;&gt;&lt;del&gt;TIKA-422&lt;/del&gt;&lt;/a&gt; RTF files are already read completely and filtered through to a separate file, so that could be modified to just drop any content after closing of main block.&lt;/p&gt;

&lt;p&gt;The only question is if it should... I&apos;ll also check the RTF spec to see if there is anything which can be after the main block.&lt;/p&gt;</comment>
                            <comment id="13080459" author="cristian.vat" created="Sat, 6 Aug 2011 21:50:46 +0100"  >&lt;p&gt;RTF file format starts with &quot;&lt;/p&gt;
{\rtf1&quot; and the file ends when &quot;}
&lt;p&gt;&quot; closes the original opening block.&lt;br/&gt;
So the attached file is not really valid according to the RTF spec.&lt;/p&gt;

&lt;p&gt;Keeping a count of open blocks could work, but it&apos;s not quite trivial since we need to properly handle also binary entities like embedded images.&lt;/p&gt;

&lt;p&gt;I see the CompareRite software which seems to have generated that RTF has been retired since 2002 so nobody will probably fix how it generates RTF.&lt;br/&gt;
Note that this can also cause problems with other software which uses the swing RTF parser, or also other software even non-java which doesn&apos;t know how to handle this special case.&lt;/p&gt;</comment>
                            <comment id="13121161" author="jukkaz" created="Wed, 5 Oct 2011 18:13:07 +0100"  >&lt;p&gt;The example file no longer causes problems with the latest trunk, so I guess this was fixed along other issues with the new RTF parser code that was added recently.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12476791" name="FIRM GAS GTC B RED.DOC" size="56525" author="manish1982" created="Tue, 19 Apr 2011 23:14:09 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 19 Apr 2011 22:20:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3900</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxx2jb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>16730</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>