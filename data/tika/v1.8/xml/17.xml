<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:32:32 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/TIKA-17/TIKA-17.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[TIKA-17] Need to support URL&apos;s for input resources.</title>
                <link>https://issues.apache.org/jira/browse/TIKA-17</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;It would be extremely helpful to support URL&apos;s instead of just File&apos;s for input resources.  This would enable us to use class loaders to find resources, and in general support resources that are not available via the filesystem.&lt;/p&gt;

&lt;p&gt;Patch coming...&lt;/p&gt;</description>
                <environment></environment>
        <key id="12378203">TIKA-17</key>
            <summary>Need to support URL&apos;s for input resources.</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chrismattmann">Chris A. Mattmann</assignee>
                                    <reporter username="kbennett">Keith R. Bennett</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Sep 2007 21:58:56 +0100</created>
                <updated>Sat, 3 Nov 2007 05:42:14 +0000</updated>
                            <resolved>Mon, 24 Sep 2007 15:47:28 +0100</resolved>
                                    <version>0.1-incubating</version>
                                    <fixVersion>0.1-incubating</fixVersion>
                                    <component>general</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12527268" author="kbennett" created="Thu, 13 Sep 2007 22:20:31 +0100"  >&lt;p&gt;I apologize for the large patch, but it was near impossible to avoid.  Here are the issues addressed by this patch:&lt;/p&gt;

&lt;p&gt;====================&lt;/p&gt;

&lt;p&gt;LiusConfig:&lt;/p&gt;

&lt;p&gt;1) Changed to use URL&apos;s instead of File&apos;s.&lt;/p&gt;

&lt;p&gt;2) Created constructor w/Document parameter; this was how it was being created anyway.&lt;/p&gt;

&lt;p&gt;3) In getParserConfig(), added check for null object in list.&lt;/p&gt;

&lt;p&gt;4) Added to error message the URL that was being processed when the error occurred.&lt;/p&gt;

&lt;p&gt;5) a) Changed:&lt;br/&gt;
  static void populateConfig(Document doc, LiusConfig tc)&lt;br/&gt;
to:&lt;br/&gt;
  void populateConfig(Document doc)&lt;/p&gt;

&lt;p&gt;... and called it in the LiusConfig(Document) constructor.&lt;/p&gt;

&lt;p&gt;5) b) Removed static member &apos;tc&apos;; it was no longer necessary and, given the above change, leaving it in would have been confusing.&lt;/p&gt;

&lt;p&gt;==================================&lt;/p&gt;

&lt;p&gt;ParserFactory:&lt;/p&gt;

&lt;p&gt;1) Changed to use URL&apos;s instead of File&apos;s.&lt;/p&gt;

&lt;p&gt;2) Added:&lt;br/&gt;
  public static Parser getParser(URL url, LiusConfig tc).&lt;/p&gt;

&lt;p&gt;Removed:&lt;br/&gt;
  public static Parser getParser(File file, String tcPath)&lt;br/&gt;
  public static Parser getParser(String str, String tcPath)&lt;br/&gt;
.. since this could easily be accomplished by instantiating the LiusConfig object and passing it instead of tcPath... or do we really need it?  &lt;/p&gt;

&lt;p&gt;3) Changed worker method to throw exception if a parser configuration cannot be found&lt;br/&gt;
for a mime type.  Currently, I think execution would continue and a NullPointerException would be thrown when &apos;parser&apos; is dereferenced.&lt;/p&gt;

&lt;p&gt;4) Added log error for parser configuration not found error.&lt;/p&gt;

&lt;p&gt;==================================&lt;/p&gt;

&lt;p&gt;LiusLogger:&lt;/p&gt;

&lt;p&gt;1) Changed to use URL&apos;s instead of File&apos;s.&lt;/p&gt;

&lt;p&gt;==================================&lt;/p&gt;

&lt;p&gt;TestParsers:&lt;/p&gt;

&lt;p&gt;1) Changed to use URL&apos;s instead of File&apos;s.&lt;/p&gt;

&lt;p&gt;2) Method testWORDxtraction() to testWORDExtraction().&lt;/p&gt;

&lt;p&gt;3) Added output that lists on one line all the content objects, such as:&lt;/p&gt;

&lt;p&gt;  Structured Content contains the following 12 items: fullText, title, author, creator, &lt;br/&gt;
  summary, keywords, producer, subject, trapped, creationDate, modificationDate,   &lt;br/&gt;
  outLinks&lt;/p&gt;

&lt;p&gt;This was because some of the content pieces were many lines long, so it was difficult to find out the total set of content pieces found.&lt;/p&gt;

&lt;p&gt;4) A message is printed to stdout if either the config.xml or the log4j.properties file cannot be found.&lt;/p&gt;

&lt;p&gt;5) log4j.properties is in the repository in src/test/resources/log4j.  I changed the source code to look for it there.&lt;/p&gt;

&lt;p&gt;6) config.xml is in the repository in src/test/resources.  I changed the source code to look for it there.&lt;/p&gt;

&lt;p&gt;7) When exception stack traces are printed, the URL that caused the error is printed immediately afterward:&lt;br/&gt;
  &quot;Exception getting parser for URL &lt;a href=&quot;file://&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file://&lt;/a&gt;....&quot;&lt;/p&gt;</comment>
                            <comment id="12528947" author="kbennett" created="Wed, 19 Sep 2007 23:43:56 +0100"  >&lt;p&gt;In order to deviate as little as possible from the trunk, I&apos;ve done a fresh checkout and have made the changes (locally) necessary to apply the fix for this issue.  The attached patch contains those changes.  These changes result in successful unit testing using URL&apos;s instead of File&apos;s or String filespecs.&lt;/p&gt;</comment>
                            <comment id="12528984" author="bdelacretaz" created="Thu, 20 Sep 2007 06:42:52 +0100"  >&lt;p&gt;I have briefly reviewed your patch, looks good, thanks!&lt;/p&gt;

&lt;p&gt;One question though:&lt;/p&gt;

&lt;p&gt;1) &lt;br/&gt;
Index: src/main/java/org/apache/tika/config/LiusConfig.java&lt;br/&gt;
...&lt;br/&gt;
+    private static Document parse(URL url) &lt;/p&gt;
{
...
-        }
&lt;p&gt; catch (JDOMException jde) &lt;/p&gt;
{
-            logger.error(jde.getMessage(),jde);
-            throw jde;
...
+        }
&lt;p&gt; catch (JDOMException e) {&lt;br/&gt;
+            logError(e, url);&lt;br/&gt;
...&lt;/p&gt;

&lt;p&gt;Why did you delete the rethrowing of these Exceptions? Getting them here means the resulting Document is unusable, so why not fail loudly with an Exception at this point? By not doing it you&apos;ll probably get an unrelated Exception elsewhere, which does not indicate what&apos;s really happening.&lt;/p&gt;

&lt;p&gt;I won&apos;t apply the patch now, as Chris assigned this issue to himself.&lt;/p&gt;

&lt;p&gt;Not also that if you supply an updated patch, it is better to re-upload it with the same name - JIRA manages the obsolete versions just fine.&lt;/p&gt;</comment>
                            <comment id="12529163" author="jukkaz" created="Thu, 20 Sep 2007 18:32:44 +0100"  >&lt;p&gt;Couldn&apos;t you achieve the same functionality with an adapter class that takes a content URL&lt;br/&gt;
(or a set of URLs for content, config, etc.), opens streams for accessing the identified resources,&lt;br/&gt;
and passes the streams to the core stream-based parser framework?&lt;/p&gt;</comment>
                            <comment id="12529675" author="kbennett" created="Sat, 22 Sep 2007 17:21:49 +0100"  >&lt;p&gt;PLEASE NOTE THAT tika-17.patch IS THE MOST RECENT PATCH (not tika-17-2.patch).&lt;/p&gt;

&lt;p&gt;I am attaching a third patch file, giving it the original name tika-17.patch as per Jukka&apos;s advice.&lt;/p&gt;

&lt;p&gt;This patch addresses issues, 17, 20, and 24.&lt;/p&gt;

&lt;p&gt;These changes are based on conversations on the forum and on conversations with Chris Mattmann yesterday.&lt;/p&gt;

&lt;p&gt;A new class, ParseUtils, has methods to create parsers and to parse documents in single call.  Where practical, methods are provided that calculate the MIME type, and also that take the MIME type as a parameter (to save processing time, or if the caller wants to use his own detection scheme). &lt;/p&gt;

&lt;p&gt;Methods that parse a document in a single call open and close the input stream, whereas methods that return a parser open them but the user is responsible to close them.&lt;/p&gt;

&lt;p&gt;I have not provided methods that take a String identifying a file, since a String can be used to express both a URL and a File, and creating either from a String is trivial for the caller to do.&lt;/p&gt;

&lt;p&gt;For the methods that take InputStreams as parameters, I required that the MIME type be specified, because (at this time) we cannot determine the URL from a Stream.&lt;/p&gt;

&lt;p&gt;I&apos;ve used the name getStringContent rather than getStrContent because I think for a public API the greater clarity is worth the extra characters; change it back if you like.  (I did not change the name in the Parser class.)&lt;/p&gt;</comment>
                            <comment id="12529757" author="chrismattmann" created="Sun, 23 Sep 2007 18:59:29 +0100"  >&lt;p&gt;Folks:&lt;/p&gt;

&lt;p&gt;An update to Keith&apos;s patch that does the following:&lt;/p&gt;

&lt;p&gt;1. Fixes issues with patch format (includes &quot;Index:&quot; above each file change)&lt;br/&gt;
2. removes MimeTypeUtils class (rendered obselete via the combination of &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-6&quot; title=&quot;Port Nutch (or better) MimeType detection system into Tika&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-6&quot;&gt;&lt;del&gt;TIKA-6&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-17&quot; title=&quot;Need to support URL&amp;#39;s for input resources.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-17&quot;&gt;&lt;del&gt;TIKA-17&lt;/del&gt;&lt;/a&gt;, this patch) and associated unit tests (rendered obsolete since &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-6&quot; title=&quot;Port Nutch (or better) MimeType detection system into Tika&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-6&quot;&gt;&lt;del&gt;TIKA-6&lt;/del&gt;&lt;/a&gt;: unit tests were replicated in org.apache.tika.mime.TestMimeUtils)&lt;br/&gt;
3. Added Apache license header on ParseUtils&lt;/p&gt;

&lt;p&gt;This passes unit tests against latest Tika trunk (r578563). If there are no objections, I&apos;d like to commit this in the next 24 hrs.&lt;/p&gt;</comment>
                            <comment id="12529877" author="chrismattmann" created="Mon, 24 Sep 2007 15:47:28 +0100"  >&lt;p&gt;1. Fixes issues with patch format (includes &quot;Index:&quot; above each file change)&lt;br/&gt;
2. removes MimeTypeUtils class (rendered obselete via the combination of &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-6&quot; title=&quot;Port Nutch (or better) MimeType detection system into Tika&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-6&quot;&gt;&lt;del&gt;TIKA-6&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-17&quot; title=&quot;Need to support URL&amp;#39;s for input resources.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-17&quot;&gt;&lt;del&gt;TIKA-17&lt;/del&gt;&lt;/a&gt;, this patch) and associated unit tests (rendered obsolete since &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-6&quot; title=&quot;Port Nutch (or better) MimeType detection system into Tika&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-6&quot;&gt;&lt;del&gt;TIKA-6&lt;/del&gt;&lt;/a&gt;: unit tests were replicated in org.apache.tika.mime.TestMimeUtils)&lt;br/&gt;
3. Added Apache license header on ParseUtils&lt;br/&gt;
4. Added ParseUtils class as a wrapper interface allowing external users to call Parsers via Files, URLs, etc.&lt;br/&gt;
5. Moved core Tika ParserFactory to only have to deal with InputStreams&lt;/p&gt;</comment>
                            <comment id="12529878" author="chrismattmann" created="Mon, 24 Sep 2007 15:48:20 +0100"  >&lt;p&gt;Patch applied to trunk:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/viewvc?rev=578843&amp;amp;view=rev&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc?rev=578843&amp;amp;view=rev&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12539815" author="kbennett" created="Sat, 3 Nov 2007 05:42:14 +0000"  >&lt;p&gt;Bertrand -&lt;/p&gt;

&lt;p&gt;You&apos;re right.  I don&apos;t remember why I removed those throws, and can&apos;t  &lt;br/&gt;
think of why I would do it.  Thanks for checking.  Thanks too for the  &lt;br/&gt;
information about patch file names.&lt;/p&gt;

&lt;p&gt;Chris, if you commit the patch, could you also revert my removal of  &lt;br/&gt;
that throws clause?&lt;/p&gt;

&lt;p&gt;Thanks,&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Keith&lt;/li&gt;
&lt;/ul&gt;




</comment>
                    </comments>
                    <attachments>
                            <attachment id="12366426" name="TIKA-17.Mattmann.092307.patch.txt" size="30276" author="chrismattmann" created="Sun, 23 Sep 2007 18:59:29 +0100"/>
                            <attachment id="12366245" name="tika-17-2.patch" size="16369" author="kbennett" created="Wed, 19 Sep 2007 23:43:56 +0100"/>
                            <attachment id="12366407" name="tika-17.patch" size="21965" author="kbennett" created="Sat, 22 Sep 2007 17:21:49 +0100"/>
                            <attachment id="12365770" name="tika-17.patch" size="19162" author="kbennett" created="Thu, 13 Sep 2007 22:20:31 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 20 Sep 2007 05:42:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4845</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxx6dr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>17353</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>