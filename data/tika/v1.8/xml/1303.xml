<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:30:24 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/TIKA-1303/TIKA-1303.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[TIKA-1303] Parsing Html page (not well formed) containing two title tags results in metadata (title) to be overwritten</title>
                <link>https://issues.apache.org/jira/browse/TIKA-1303</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;While crawling following web page, we came accross a strange issue where by title for page was not being extracted accurately:&lt;br/&gt;
&lt;a href=&quot;http://www.samsung.com/us/support/faq/FAQ00052677/61239/SM-C105AZWAATT&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.samsung.com/us/support/faq/FAQ00052677/61239/SM-C105AZWAATT&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This html page is not well formed and contains two title tags (one in head and one is body):&lt;br/&gt;
e.g. &quot;&amp;lt;html&amp;gt;&amp;lt;title&amp;gt;Simple Content&amp;lt;/title&amp;gt;&amp;lt;body&amp;gt;&amp;lt;h1&amp;gt;&amp;lt;/h1&amp;gt;&amp;lt;title&amp;gt;TitleToIgnore&amp;lt;/title&amp;gt;&amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;&quot;&lt;/p&gt;

&lt;p&gt;Now in this case a simple fix to htmlhandler could make sure that once title value has been set in metadata, it should not be overridden when another title tag is subsequently found.&lt;/p&gt;

&lt;p&gt;I am submitting fix for this issue as a path for review  (1.5) - hoping that this could be committed to latest?&lt;/p&gt;

&lt;p&gt;Can you please review and update kindly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12715149">TIKA-1303</key>
            <summary>Parsing Html page (not well formed) containing two title tags results in metadata (title) to be overwritten</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kkrugler">Ken Krugler</assignee>
                                    <reporter username="hakram">Hassan Akram</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Mon, 19 May 2014 12:21:45 +0100</created>
                <updated>Mon, 9 Jun 2014 17:11:41 +0100</updated>
                            <resolved>Mon, 9 Jun 2014 15:47:32 +0100</resolved>
                                    <version>1.2</version>
                    <version>1.3</version>
                    <version>1.4</version>
                    <version>1.5</version>
                                    <fixVersion>1.6</fixVersion>
                                    <component>metadata</component>
                    <component>parser</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="14001592" author="hakram" created="Mon, 19 May 2014 12:24:42 +0100"  >&lt;p&gt;Attached patch fix to html handler and included a unit test to htmlparsertest.java to cover for this scenario.&lt;/p&gt;</comment>
                            <comment id="14001593" author="hakram" created="Mon, 19 May 2014 12:25:43 +0100"  >&lt;p&gt;Please can someone review this submission and confirm if this could be committed to latest on my behalf.&lt;/p&gt;</comment>
                            <comment id="14020019" author="lewismc" created="Fri, 6 Jun 2014 17:44:04 +0100"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hakram&quot; class=&quot;user-hover&quot; rel=&quot;hakram&quot;&gt;Hassan Akram&lt;/a&gt;, can you possibly attach your fix as a patch? Do you know how to do this?&lt;/p&gt;</comment>
                            <comment id="14020021" author="lewismc" created="Fri, 6 Jun 2014 17:44:24 +0100"  >&lt;p&gt;Can someone mark for 1.6 fix? (or 1.7)&lt;/p&gt;</comment>
                            <comment id="14021750" author="hakram" created="Mon, 9 Jun 2014 09:48:35 +0100"  >&lt;p&gt;Hi Lewis, I am just picking up your comments on this. &lt;br/&gt;
I am not sure about creating patch for Tika - can you please point me to a help page/resource on this?&lt;/p&gt;</comment>
                            <comment id="14021878" author="lewismc" created="Mon, 9 Jun 2014 12:10:22 +0100"  >&lt;p&gt;Yeah sure either&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;check out the code via svn at &lt;a href=&quot;http://svn.apache.org/repos/asf/tika/trunk/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/tika/trunk/&lt;/a&gt;, make local changes, generate patch via *&lt;b&gt;svn diff &amp;gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1303&quot; title=&quot;Parsing Html page (not well formed) containing two title tags results in metadata (title) to be overwritten&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1303&quot;&gt;&lt;del&gt;TIKA-1303&lt;/del&gt;&lt;/a&gt;.patch&lt;/b&gt;*. If you could included minimal unit tests this would be great, or&lt;/li&gt;
	&lt;li&gt;clone the git repository at &lt;a href=&quot;https://github.com/apache/tika&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/tika&lt;/a&gt; and generate a svn compatible patch via *&lt;b&gt;git diff --no-prefix trunk &amp;gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1303&quot; title=&quot;Parsing Html page (not well formed) containing two title tags results in metadata (title) to be overwritten&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1303&quot;&gt;&lt;del&gt;TIKA-1303&lt;/del&gt;&lt;/a&gt;.patch&lt;/b&gt;*&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14023067" author="hakram" created="Mon, 9 Jun 2014 13:02:15 +0100"  >&lt;p&gt;Hi Lewis, Thanks for your help.&lt;br/&gt;
I have created the patch file as instructed above.&lt;/p&gt;

&lt;p&gt;The src code change is in following file:&lt;br/&gt;
 tika-parsers/src/main/java/org/apache/tika/parser/html/HtmlHandler.java&lt;/p&gt;

&lt;p&gt;A unit test has been added to following file to cover change above:&lt;br/&gt;
tika-parsers/src/test/java/org/apache/tika/parser/html/HtmlParserTest.java &lt;/p&gt;

&lt;p&gt;Let me know if you need any more information on this.&lt;/p&gt;

&lt;p&gt;Thanks &lt;br/&gt;
Hassan&lt;/p&gt;</comment>
                            <comment id="14025203" author="lewismc" created="Mon, 9 Jun 2014 14:59:30 +0100"  >&lt;p&gt;+1 LGTM&lt;/p&gt;</comment>
                            <comment id="14025236" author="kkrugler" created="Mon, 9 Jun 2014 15:47:32 +0100"  >&lt;p&gt;r1601397 - thanks Hassan!&lt;/p&gt;</comment>
                            <comment id="14025250" author="hudson" created="Mon, 9 Jun 2014 16:00:40 +0100"  >&lt;p&gt;SUCCESS: Integrated in tika-trunk-jdk1.7 #33 (See &lt;a href=&quot;https://builds.apache.org/job/tika-trunk-jdk1.7/33/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/tika-trunk-jdk1.7/33/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1303&quot; title=&quot;Parsing Html page (not well formed) containing two title tags results in metadata (title) to be overwritten&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1303&quot;&gt;&lt;del&gt;TIKA-1303&lt;/del&gt;&lt;/a&gt; skip bogus second title tag (kkrugler: &lt;a href=&quot;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1601397&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1601397&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/tika/trunk/tika-parsers/src/main/java/org/apache/tika/parser/html/HtmlHandler.java&lt;/li&gt;
	&lt;li&gt;/tika/trunk/tika-parsers/src/test/java/org/apache/tika/parser/html/HtmlParserTest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14025253" author="hakram" created="Mon, 9 Jun 2014 16:01:15 +0100"  >&lt;p&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Thanks Guys - &lt;br/&gt;
Do I just close this issue now? &lt;br/&gt;
And also does that mean this will make it into release 1.7 and not 1.6?&lt;/p&gt;</comment>
                            <comment id="14025254" author="lewismc" created="Mon, 9 Jun 2014 16:03:53 +0100"  >&lt;p&gt;The code is integrated into trunk codebase. It will be included within the 1.6 release. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kkrugler&quot; class=&quot;user-hover&quot; rel=&quot;kkrugler&quot;&gt;Ken Krugler&lt;/a&gt; can you please edit the field value to reflect the commit? Thank you so much.&lt;/p&gt;</comment>
                            <comment id="14025261" author="hudson" created="Mon, 9 Jun 2014 16:11:10 +0100"  >&lt;p&gt;SUCCESS: Integrated in tika-trunk-jdk1.6 #33 (See &lt;a href=&quot;https://builds.apache.org/job/tika-trunk-jdk1.6/33/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/tika-trunk-jdk1.6/33/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1303&quot; title=&quot;Parsing Html page (not well formed) containing two title tags results in metadata (title) to be overwritten&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1303&quot;&gt;&lt;del&gt;TIKA-1303&lt;/del&gt;&lt;/a&gt; skip bogus second title tag (kkrugler: &lt;a href=&quot;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1601397&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1601397&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/tika/trunk/tika-parsers/src/main/java/org/apache/tika/parser/html/HtmlHandler.java&lt;/li&gt;
	&lt;li&gt;/tika/trunk/tika-parsers/src/test/java/org/apache/tika/parser/html/HtmlParserTest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14025319" author="kkrugler" created="Mon, 9 Jun 2014 17:11:41 +0100"  >&lt;p&gt;I&apos;d tried setting it to 1.6 when I fixed it, but Jira rejected that as not valid. I assumed it was because Chris had already closed out the 1.6 release (doing it today?), so I changed to 1.7.&lt;/p&gt;

&lt;p&gt;But I was able to edit it to be 1.6 just now, so not sure what happened...&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12645541" name="HtmlHandler.java" size="11958" author="hakram" created="Mon, 19 May 2014 12:24:42 +0100"/>
                            <attachment id="12645542" name="HtmlParserTest.java" size="42031" author="hakram" created="Mon, 19 May 2014 12:24:42 +0100"/>
                            <attachment id="12649089" name="TIKA-1303.patch" size="2268" author="hakram" created="Mon, 9 Jun 2014 12:59:07 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 6 Jun 2014 16:44:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>393435</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzplr3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>393596</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>