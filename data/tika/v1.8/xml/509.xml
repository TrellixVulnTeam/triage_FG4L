<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:39:14 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/TIKA-509/TIKA-509.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[TIKA-509] Container contents extraction</title>
                <link>https://issues.apache.org/jira/browse/TIKA-509</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;As discussed on the mailing list:&lt;br/&gt;
&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/tika-dev/201009.mbox/%3Calpine.DEB.1.10.1009010000250.5637@urchin.earth.li%3E&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mail-archives.apache.org/mod_mbox/tika-dev/201009.mbox/%3Calpine.DEB.1.10.1009010000250.5637@urchin.earth.li%3E&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This service will operate in a push mode, using streaming where possible (not all container formats will support that). Users can control recursion, and will be given the chance to process each embeded file in turn. It&apos;s up to them if they process a file or skip it.&lt;/p&gt;

&lt;p&gt;It will work similar to the current Parser code, with each container having its own extractor in the parsers package, and the interface defined in the core package. There will be an Auto extractor in the core package, configured with a list of parser extractors just like AutoDetectParser does.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12473574">TIKA-509</key>
            <summary>Container contents extraction</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gagravarr">Nick Burch</assignee>
                                    <reporter username="gagravarr">Nick Burch</reporter>
                        <labels>
                    </labels>
                <created>Wed, 8 Sep 2010 14:48:37 +0100</created>
                <updated>Fri, 7 Oct 2011 10:09:27 +0100</updated>
                            <resolved>Fri, 7 Oct 2011 10:09:27 +0100</resolved>
                                    <version>0.7</version>
                                    <fixVersion>1.0</fixVersion>
                                    <component>parser</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12907318" author="gagravarr" created="Wed, 8 Sep 2010 18:10:06 +0100"  >&lt;p&gt;Initial work committed in r995157.&lt;/p&gt;

&lt;p&gt;This commit shows a rough cut of the interfaces and key classes, so everyone can review them now there&apos;s some concrete code to look at. One change required though is to not pass an open inputstream in for every firing of the handler. Instead, the handler should be given a chance to decline the embeded resource first, before the extractor potentially does lots of work to generate/unpack the resource&lt;/p&gt;

&lt;p&gt;Also in the commit is a basic POIFS extractor. It only does nested embeded office files, no images, and only for word+excel. However, it should give an idea of how things may work&lt;/p&gt;

&lt;p&gt;The config for the auto-detector isn&apos;t wired in yet, that&apos;ll be done once we have further extractors.&lt;/p&gt;</comment>
                            <comment id="12907319" author="gagravarr" created="Wed, 8 Sep 2010 18:14:36 +0100"  >&lt;p&gt;Also on the config side of things, currently there&apos;s just a straight list of ContainerExtractors, and each one does its own mini-detection to decide if it&apos;s suitable. We may wish to change this later to work with MediaTypes as the Parsers do, however there are issues around how much extra work might be involved in the detection step - we don&apos;t want to duplicate the container parsing by forcing people to run it through a ContainerAwareDetector and then process the container again in a ContainerExtractor. Probably one to hold off deciding on until we have several extractors in place, when we&apos;ll have a better idea of how they might work and fit together?&lt;/p&gt;</comment>
                            <comment id="12907345" author="jukkaz" created="Wed, 8 Sep 2010 19:09:54 +0100"  >&lt;p&gt;I&apos;m not too excited about the idea of introducing a completely new mechanism in parallel with the Parser API we already have. AFAIUI the Parser API already supports all the functionality you&apos;re looking for.&lt;/p&gt;

&lt;p&gt;See the attached patch that copies the embedded document handling code from the POIFSContainerExtractor class to our existing OfficeParser implementation, and adds a generic ParserContainerExtractor class that implements the ContainerExtractor interface based on our existing Parser and Detector APIs.&lt;/p&gt;

&lt;p&gt;This solution passes all the current test cases (see the modifications I made to POIFSContainerExtractorTest), implements the embedded document support asked for in &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-489&quot; title=&quot;Embedded Documents within documents&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-489&quot;&gt;&lt;del&gt;TIKA-489&lt;/del&gt;&lt;/a&gt;, and as a bonus gives you ContainerExtractor support for all the package formats (zip, tar, cpio, etc.) that we already have parsers for.&lt;/p&gt;</comment>
                            <comment id="12907419" author="chrismattmann" created="Wed, 8 Sep 2010 21:40:34 +0100"  >&lt;p&gt;Wow, Jukka! +1!&lt;/p&gt;</comment>
                            <comment id="12907599" author="gagravarr" created="Thu, 9 Sep 2010 12:38:16 +0100"  >&lt;p&gt;Jukka - your patch looks good, just thought I&apos;d check a few things&lt;/p&gt;

&lt;p&gt;Are you thinking that the ContainerExtractor interface and ContainerEmbededResourceHandler will remain? And that this would be the way for people who&apos;s main interest is getting at the embeded documents to work? &lt;/p&gt;

&lt;p&gt;In terms of the parser / ParserContainerExtractor, are you thinking that we should try to make the container related Parsers call the nested parser from the ParseContext? The only issue with that I can see is that it isn&apos;t then possible for for users to say &quot;I don&apos;t want that file, don&apos;t bother doing lots of work to extract it&quot;. Admittedly the ContainerExtractor doesn&apos;t support that either, but I had an idea for how to do that, and I can&apos;t easily see how that&apos;d fit in with parsers&lt;/p&gt;

&lt;p&gt;I&apos;ll apply your patch shortly, then carry on with my work on making the office format embeded resources available, but using your new pattern&lt;/p&gt;</comment>
                            <comment id="12907607" author="jukkaz" created="Thu, 9 Sep 2010 13:03:52 +0100"  >&lt;p&gt;Yes, I think the ContainerExtractor and ContainerEmbeddedResourceHandler (rename to EmbeddedResourceHandler?) interfaces should remain as they provide a much more convenient way to achieve this use case.&lt;/p&gt;

&lt;p&gt;&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt; we should try to make the container related Parsers call the nested parser from the ParseContext?&lt;/p&gt;

&lt;p&gt;Yes, that&apos;s the way the PackageParser was designed and how I&apos;d like to see also other container formats handled.&lt;/p&gt;

&lt;p&gt;&amp;gt; &quot;I don&apos;t want that file, don&apos;t bother doing lots of work to extract it&quot;&lt;/p&gt;

&lt;p&gt;We could implement that with an optional strategy object that gets passed through the parse context along with the component parser.&lt;/p&gt;</comment>
                            <comment id="12907633" author="gagravarr" created="Thu, 9 Sep 2010 15:12:06 +0100"  >&lt;p&gt;Interface rename makes sense to me, I&apos;ve done that&lt;/p&gt;

&lt;p&gt;Not sure about the best way to do the strategy object, but hopefully someone else will do! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Recursion was broken in ParserContainerExtractor - I&apos;ve re-enabled this, but I&apos;m not sure if it&apos;s the best way to handle it or not? See r995438 for how I&apos;ve made it work for now.&lt;/p&gt;

&lt;p&gt;Next up, images in word!&lt;/p&gt;</comment>
                            <comment id="12908103" author="gagravarr" created="Fri, 10 Sep 2010 18:29:25 +0100"  >&lt;p&gt;Support is now in place for .doc, .docx, .xls and .xlsx&lt;/p&gt;

&lt;p&gt;There&apos;s a couple more office formats to support, and unit tests are needed for the general container formats which are supported via the PackageExtractor&lt;/p&gt;</comment>
                            <comment id="12908155" author="jukkaz" created="Fri, 10 Sep 2010 20:21:36 +0100"  >&lt;p&gt;In revision 995946 I started drafting a possible solution for the selective extraction feature.&lt;/p&gt;</comment>
                            <comment id="12908785" author="gagravarr" created="Mon, 13 Sep 2010 14:46:19 +0100"  >&lt;p&gt;I think we&apos;re almost there. All office formats except .ppt are now supported, and we now have unit tests which show that the PackageParser based extraction was already worked as required (yey!)&lt;/p&gt;</comment>
                            <comment id="13037144" author="jukkaz" created="Sat, 21 May 2011 00:05:07 +0100"  >&lt;p&gt;Good stuff! I guess we can resolve this as fixed.&lt;/p&gt;</comment>
                            <comment id="13122649" author="jukkaz" created="Fri, 7 Oct 2011 10:09:27 +0100"  >&lt;p&gt;Resolving as fixed as discussed above.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12454131" name="0001-TIKA-509-Container-contents-extraction.patch" size="21408" author="jukkaz" created="Wed, 8 Sep 2010 19:09:54 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 8 Sep 2010 18:09:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4352</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxx3cn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>16862</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>