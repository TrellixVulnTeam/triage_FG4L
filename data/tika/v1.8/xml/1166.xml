<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:38:02 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/TIKA-1166/TIKA-1166.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[TIKA-1166] FLVParser NullPointerException</title>
                <link>https://issues.apache.org/jira/browse/TIKA-1166</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;On certain video files, the FLV parser throws an NPE on line 242.&lt;/p&gt;

&lt;p&gt;The piece of code causing this is the following:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/tika/blob/1.4/tika-parsers/src/main/java/org/apache/tika/parser/video/FLVParser.java#L242&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/tika/blob/1.4/tika-parsers/src/main/java/org/apache/tika/parser/video/FLVParser.java#L242&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;241: for (Entry&amp;lt;String, Object&amp;gt; entry : extractedMetadata.entrySet()) {
242:   metadata.set(entry.getKey(), entry.getValue().toString());
243: }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 

&lt;p&gt;Which should probably be replaced by something like this:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;241: for (Entry&amp;lt;String, Object&amp;gt; entry : extractedMetadata.entrySet()) {
242:   if (entry.getValue() == null) continue;
243:   metadata.set(entry.getKey(), entry.getValue().toString());
244: }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 

&lt;p&gt;Exception trace :&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[root@hermes backend]# java -jar bin/tika-app-1.1.jar -j ./data.mp4
Exception in thread &quot;main&quot; org.apache.tika.exception.TikaException: Unexpected RuntimeException from org.apache.tika.parser.video.FLVParser@58d9660d
        at org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:244)
        at org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:242)
        at org.apache.tika.parser.AutoDetectParser.parse(AutoDetectParser.java:120)
        at org.apache.tika.cli.TikaCLI$OutputType.process(TikaCLI.java:130)
        at org.apache.tika.cli.TikaCLI.process(TikaCLI.java:397)
        at org.apache.tika.cli.TikaCLI.main(TikaCLI.java:101)
Caused by: java.lang.NullPointerException
        at org.apache.tika.parser.video.FLVParser.parse(FLVParser.java:242)
        at org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:242)
        ... 5 more
org.apache.tika.parser.AutoDetectParser.parse(AutoDetectParser.java:120)
        at org.apache.tika.cli.TikaCLI$OutputType.process(TikaCLI.java:130)
        at org.apache.tika.cli.TikaCLI.process(TikaCLI.java:397)
        at org.apache.tika.cli.TikaCLI.main(TikaCLI.java:101)
Caused by: java.lang.NullPointerException
        at org.apache.tika.parser.video.FLVParser.parse(FLVParser.java:242)
        at org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:242)
        ... 5 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; </description>
                <environment>&lt;p&gt;All&lt;/p&gt;</environment>
        <key id="12664868">TIKA-1166</key>
            <summary>FLVParser NullPointerException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rgauss">Ray Gauss II</assignee>
                                    <reporter username="david_p">david rapin</reporter>
                        <labels>
                            <label>easyfix</label>
                    </labels>
                <created>Wed, 21 Aug 2013 17:43:27 +0100</created>
                <updated>Tue, 25 Mar 2014 16:21:46 +0000</updated>
                            <resolved>Wed, 28 Aug 2013 19:34:01 +0100</resolved>
                                    <version>1.1</version>
                    <version>1.2</version>
                    <version>1.3</version>
                    <version>1.4</version>
                                    <fixVersion>1.5</fixVersion>
                                    <component>parser</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                    <timeoriginalestimate seconds="600">10m</timeoriginalestimate>
                            <timeestimate seconds="600">10m</timeestimate>
                                        <comments>
                            <comment id="13747490" author="gagravarr" created="Thu, 22 Aug 2013 14:04:39 +0100"  >&lt;p&gt;Do you have a sample file that shows the problem?&lt;/p&gt;</comment>
                            <comment id="13747509" author="david_p" created="Thu, 22 Aug 2013 14:27:48 +0100"  >&lt;p&gt;There you go, a video file to demonstrate the NPE. I hope the upload function works.&lt;/p&gt;</comment>
                            <comment id="13747529" author="rgauss" created="Thu, 22 Aug 2013 14:42:48 +0100"  >&lt;p&gt;Thanks.  Is there any chance you could get that down to under, say, 50k, while still demonstrating the failure so that we can include it in the dist and create a unit test against it?&lt;/p&gt;</comment>
                            <comment id="13747548" author="david_p" created="Thu, 22 Aug 2013 15:03:42 +0100"  >&lt;p&gt;Hmm, I have no example file under 50k that fails like this. I&apos;m affraid that cutting this file would &apos;fix&apos; the problem, so I&apos;m not sure what to do. &lt;br/&gt;
Since the fix is pretty straightforward (and a general good code practice), are you sure you need a unit test for this ?&lt;/p&gt;</comment>
                            <comment id="13752691" author="rgauss" created="Wed, 28 Aug 2013 19:34:01 +0100"  >&lt;p&gt;I briefly tried a few methods of trimming the problem file&apos;s size but none reproduced the issue in the resulting file.&lt;/p&gt;

&lt;p&gt;Committed a check for null in r1518318.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12599431" name="data.mp4" size="5236882" author="david_p" created="Thu, 22 Aug 2013 14:27:48 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 22 Aug 2013 13:04:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>344811</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzhb07:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>345111</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>