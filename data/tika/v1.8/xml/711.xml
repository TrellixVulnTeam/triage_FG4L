<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:27:53 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/TIKA-711/TIKA-711.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[TIKA-711] Word parser doesn&apos;t extract optional hyphen correctly</title>
                <link>https://issues.apache.org/jira/browse/TIKA-711</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;We seem not to extract the optional hyphen character correctly in&lt;br/&gt;
the Word parser.&lt;/p&gt;

&lt;p&gt;You can create this char in Word by typing ctrl and -.  It&apos;s hidden,&lt;br/&gt;
normally; you have to turn on display of formatting marks to see it.&lt;/p&gt;

&lt;p&gt;Ideally we&apos;d get U+00AD (unicode soft hyphen), I think.&lt;/p&gt;

&lt;p&gt;DOC produces a unicode replacement char, which is wrong.&lt;/p&gt;

&lt;p&gt;DOCX and PDF drop the char (which seems acceptable).  RTF produces&lt;br/&gt;
U+2027 (hyphenation point) which also seems OK (in &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-683&quot; title=&quot;RTF Parser issues with non european characters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-683&quot;&gt;&lt;del&gt;TIKA-683&lt;/del&gt;&lt;/a&gt; it will&lt;br/&gt;
produce U+00AD).&lt;/p&gt;

&lt;p&gt;PPT and PPTX work correctly (U+00AD).&lt;/p&gt;

&lt;p&gt;So DOC is the only bug I think &amp;#8211; I haven&apos;t dug into what&apos;s wrong&lt;br/&gt;
yet...&lt;/p&gt;</description>
                <environment></environment>
        <key id="12522446">TIKA-711</key>
            <summary>Word parser doesn&apos;t extract optional hyphen correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mikemccand">Michael McCandless</assignee>
                                    <reporter username="mikemccand">Michael McCandless</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Sep 2011 17:40:14 +0100</created>
                <updated>Mon, 3 Oct 2011 19:26:11 +0100</updated>
                            <resolved>Mon, 3 Oct 2011 19:26:11 +0100</resolved>
                                                    <fixVersion>1.0</fixVersion>
                                    <component>parser</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13101319" author="mikemccand" created="Fri, 9 Sep 2011 17:43:00 +0100"  >&lt;p&gt;Patch.&lt;/p&gt;</comment>
                            <comment id="13101323" author="mikemccand" created="Fri, 9 Sep 2011 17:48:35 +0100"  >&lt;p&gt;The WordExtractor seems to receive ASCII 31 (&quot;unit separator&quot;) from POI, for the optional hyphen, which SafeContentHandler then replaces w/ unicode replacement char.&lt;/p&gt;

&lt;p&gt;I don&apos;t think we can assume ASCII 31 will always mean soft hyphen though...&lt;/p&gt;

&lt;p&gt;Not sure how to fix this.&lt;/p&gt;</comment>
                            <comment id="13118905" author="mikemccand" created="Sat, 1 Oct 2011 21:51:20 +0100"  >&lt;p&gt;Curiously, if I use POI&apos;s WordToTextConverter command-line tool, it produces U+200b (ZERO WIDTH SPACE) for the optional hyphen, which I think is at least better than ASCII 31.  Still not sure if there&apos;s a POI option we can set to get this character out as U+00AD.&lt;/p&gt;</comment>
                            <comment id="13118991" author="mikemccand" created="Sun, 2 Oct 2011 12:01:46 +0100"  >
&lt;p&gt;OK, after digging I found out that in fact POI&apos;s AbstractWordConverter&lt;br/&gt;
converts ASCII 30 to Unicode non-breaking hyphen (U+2011) and ASCII 31&lt;br/&gt;
to Unicode zero-width space (U+200b), but Tika doesn&apos;t.  This is why I&lt;br/&gt;
see the &quot;right&quot; behavior when running POI&apos;s command-line conversion&lt;br/&gt;
but not with Tika.&lt;/p&gt;

&lt;p&gt;So I think the fix is simple here: just do that same mapping in&lt;br/&gt;
WordExtractor.handleCharacterRun; attached patch does that, and&lt;br/&gt;
enables the test case (now passing).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12497399" name="TIKA-711.patch" size="3284" author="mikemccand" created="Sun, 2 Oct 2011 12:01:46 +0100"/>
                            <attachment id="12493807" name="TIKA-711.patch" size="34924" author="mikemccand" created="Fri, 9 Sep 2011 17:43:00 +0100"/>
                            <attachment id="12493808" name="testOptionalHyphen.doc" size="22016" author="mikemccand" created="Fri, 9 Sep 2011 17:43:00 +0100"/>
                            <attachment id="12493809" name="testOptionalHyphen.docx" size="10382" author="mikemccand" created="Fri, 9 Sep 2011 17:43:00 +0100"/>
                            <attachment id="12493810" name="testOptionalHyphen.pdf" size="44954" author="mikemccand" created="Fri, 9 Sep 2011 17:43:00 +0100"/>
                            <attachment id="12493811" name="testOptionalHyphen.ppt" size="100864" author="mikemccand" created="Fri, 9 Sep 2011 17:43:00 +0100"/>
                            <attachment id="12493812" name="testOptionalHyphen.pptx" size="33173" author="mikemccand" created="Fri, 9 Sep 2011 17:43:00 +0100"/>
                            <attachment id="12493813" name="testOptionalHyphen.rtf" size="30999" author="mikemccand" created="Fri, 9 Sep 2011 17:43:00 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3831</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxx23z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>16661</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>