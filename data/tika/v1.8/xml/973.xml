<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:32:12 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/TIKA-973/TIKA-973.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[TIKA-973] PDF form data isn&apos;t included in extracted content.</title>
                <link>https://issues.apache.org/jira/browse/TIKA-973</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;When extracting content from PDFs, PDF form data isn&apos;t extracted. &lt;/p&gt;

&lt;p&gt;The following code extracts this data via PDF box, but it seems like something Tika should be doing.&lt;/p&gt;

&lt;p&gt;PDDocumentCatalog docCatalog = load.getDocumentCatalog();&lt;br/&gt;
if (docCatalog != null) {&lt;br/&gt;
  PDAcroForm acroForm = docCatalog.getAcroForm();&lt;br/&gt;
  if (acroForm != null) {&lt;br/&gt;
	@SuppressWarnings(&quot;unchecked&quot;)&lt;br/&gt;
	List&amp;lt;PDField&amp;gt; fields = acroForm.getFields();&lt;br/&gt;
	if (fields != null &amp;amp;&amp;amp; fields.size() &amp;gt; 0) {&lt;br/&gt;
	  documentContent.append(&quot; &quot;);&lt;br/&gt;
	  for (PDField field : fields) {&lt;br/&gt;
		if (field.getValue()!=null) &lt;/p&gt;
{
		  documentContent.append(field.getValue());
		  documentContent.append(&quot; &quot;);
		}
&lt;p&gt;	  }&lt;br/&gt;
	}&lt;br/&gt;
  }&lt;br/&gt;
}&lt;/p&gt;</description>
                <environment></environment>
        <key id="12602633">TIKA-973</key>
            <summary>PDF form data isn&apos;t included in extracted content.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tallison@mitre.org">Tim Allison</assignee>
                                    <reporter username="mohaine">Michael Graessle</reporter>
                        <labels>
                    </labels>
                <created>Thu, 9 Aug 2012 20:53:25 +0100</created>
                <updated>Tue, 25 Mar 2014 16:21:47 +0000</updated>
                            <resolved>Tue, 4 Feb 2014 23:16:22 +0000</resolved>
                                    <version>1.2</version>
                                    <fixVersion>1.5</fixVersion>
                                    <component>general</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13693068" author="tallison@mitre.org" created="Tue, 25 Jun 2013 15:28:18 +0100"  >&lt;p&gt;Will submit patch and tests by end of the week.&lt;/p&gt;</comment>
                            <comment id="13694404" author="tallison@mitre.org" created="Thu, 27 Jun 2013 02:30:10 +0100"  >&lt;p&gt;Patch attached.  Dumps contents of pdf forms at end of document.  &lt;/p&gt;

&lt;p&gt;AcroForm field name metadata is in attribute values.  Basic format is &amp;lt;ol&amp;gt;.&lt;/p&gt;

&lt;p&gt;Let me know how this looks.&lt;/p&gt;

&lt;p&gt;Thank you, Ben Litchfield, for org.apache.pdfbox.examples.fdf.PrintFields&lt;/p&gt;</comment>
                            <comment id="13694741" author="gagravarr" created="Thu, 27 Jun 2013 15:14:01 +0100"  >&lt;p&gt;Patch looks promising to me, but I don&apos;t know enough about PDF so I&apos;ve not been able to give it a thorough review&lt;/p&gt;

&lt;p&gt;Let&apos;s give it a few days before applying, to give others a chance to offer feedback&lt;/p&gt;

&lt;p&gt;One thing that might be good is in the unit test, to check for data from each form in turn, so we cover more cases&lt;/p&gt;</comment>
                            <comment id="13694774" author="tallison@mitre.org" created="Thu, 27 Jun 2013 16:01:22 +0100"  >&lt;p&gt;Agree on both.  Also would appreciate feedback on what the output should be.  The current code extracts this unseemly xhtml:&lt;/p&gt;

&lt;p&gt;&amp;lt;div class=&quot;acroform&quot;&amp;gt;&lt;br/&gt;
 &amp;lt;ol&amp;gt;	&amp;lt;li partialName=&quot;form1&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&quot; fullName=&quot;form1&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&quot;/&amp;gt;&lt;br/&gt;
         &amp;lt;ol&amp;gt;	&amp;lt;li partialName=&quot;#subform&lt;span class=&quot;error&quot;&gt;&amp;#91;6&amp;#93;&lt;/span&gt;&quot; fullName=&quot;form1&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;.#subform&lt;span class=&quot;error&quot;&gt;&amp;#91;6&amp;#93;&lt;/span&gt;&quot;/&amp;gt;&lt;br/&gt;
         	&amp;lt;li partialName=&quot;MiddleInitial&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&quot; fullName=&quot;form1&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;.#subform&lt;span class=&quot;error&quot;&gt;&amp;#91;6&amp;#93;&lt;/span&gt;.MiddleInitial&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&quot; altName=&quot;Enter Middle Initial (MI)&quot;&amp;gt;X&amp;lt;/li&amp;gt;&lt;br/&gt;
          	 &amp;lt;li partialName=&quot;FamilyName&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&quot; fullName=&quot;form1&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;.#subform&lt;span class=&quot;error&quot;&gt;&amp;#91;6&amp;#93;&lt;/span&gt;.FamilyName&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&quot; altName=&quot;Section 1. Employee Information and Attestation.  Family Name (Last Name)&quot;&amp;gt;Doe&amp;lt;/li&amp;gt;&lt;br/&gt;
	        &amp;lt;li partialName=&quot;GivenName&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&quot; fullName=&quot;form1&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;.#subform&lt;span class=&quot;error&quot;&gt;&amp;#91;6&amp;#93;&lt;/span&gt;.GivenName&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&quot; altName=&quot;Given Name (First Name)&quot;&amp;gt;John&amp;lt;/li&amp;gt;&lt;br/&gt;
	        &amp;lt;li partialName=&quot;OtherNamesUsed&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&quot; fullName=&quot;form1&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;.#subform&lt;span class=&quot;error&quot;&gt;&amp;#91;6&amp;#93;&lt;/span&gt;.OtherNamesUsed&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&quot; altName=&quot;Maiden Name&quot;&amp;gt;Mr. Doe&amp;lt;/li&amp;gt;&lt;br/&gt;
           	&amp;lt;li partialName=&quot;StreetNumberName&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&quot; fullName=&quot;form1&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;.#subform&lt;span class=&quot;error&quot;&gt;&amp;#91;6&amp;#93;&lt;/span&gt;.StreetNumberName&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&quot; altName=&quot; Street Number and Name&quot;&amp;gt;123 Main St.&amp;lt;/li&amp;gt;&lt;br/&gt;
&amp;gt;&lt;/p&gt;

&lt;p&gt;...&lt;/p&gt;

&lt;p&gt;Another idea I had was to include the partialName in the contents and not fill out the attrs:&lt;br/&gt;
&amp;lt;li&amp;gt;StreetNumberName&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;: 123 Main St&amp;lt;/li&amp;gt;&lt;/p&gt;

&lt;p&gt;More unit tests on way...&lt;/p&gt;</comment>
                            <comment id="13694782" author="gagravarr" created="Thu, 27 Jun 2013 16:10:43 +0100"  >&lt;p&gt;To make reviewing easier, it might be handy if you could upload a PNG screenshot of one of these forms, so it&apos;s quick to view that alongside suggested html&lt;/p&gt;

&lt;p&gt;I&apos;d be minded to go for something like:&lt;br/&gt;
  &amp;lt;li title=&quot;Street Number and Name&quot;&amp;gt;StreetNumberName&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;: 123 Main St&amp;lt;/li&amp;gt;&lt;/p&gt;

&lt;p&gt;So we&apos;d have the alt name, the partial name, the value, but not the full name (but we would have the form/subform name elsewhere)&lt;/p&gt;</comment>
                            <comment id="13694803" author="tallison@mitre.org" created="Thu, 27 Jun 2013 16:37:21 +0100"  >&lt;p&gt;Screenshot attached.  Thanks again to: &lt;a href=&quot;http://benlitchfield.sys-con.com/node/48543?page=0,1&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://benlitchfield.sys-con.com/node/48543?page=0,1&lt;/a&gt; for the code example and example doc.&lt;/p&gt;

&lt;p&gt;The middle ground that you recommend makes sense.&lt;/p&gt;
</comment>
                            <comment id="13697763" author="tallison@mitre.org" created="Tue, 2 Jul 2013 14:16:52 +0100"  >&lt;p&gt;Middle-road change made.  The alternate name is an attribute and partial name is added to content followed by a &quot;:&quot;.&lt;/p&gt;

&lt;p&gt;I also added a few more tests.&lt;/p&gt;</comment>
                            <comment id="13843794" author="tallison@mitre.org" created="Tue, 10 Dec 2013 01:15:41 +0000"  >&lt;p&gt;Fixed in r1549727.  &lt;/p&gt;</comment>
                            <comment id="13847474" author="tallison@mitre.org" created="Fri, 13 Dec 2013 13:21:21 +0000"  >&lt;p&gt;In hindsight, would prefer to use test documents that are unequivocally consistent with Apache License.  I&apos;ve removed docs from trunk and commented out test cases (r1550725).  If anyone would like to contribute an example doc that is unequivocally consistent with Apache License 2.0, I&apos;ll modify the test case for that doc.  I&apos;ll be on the lookout for test docs and will leave this open until test cases are turned back on.  The functionality within Tika is still available, of course.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12589823" name="TIKA-973-patch.tar.gz" size="480616" author="tallison@mitre.org" created="Thu, 27 Jun 2013 02:30:10 +0100"/>
                            <attachment id="12590424" name="TIKA-973.patch.tar.gz" size="536147" author="tallison@mitre.org" created="Tue, 2 Jul 2013 14:16:52 +0100"/>
                            <attachment id="12589921" name="i-9_screenshot.png" size="232275" author="tallison@mitre.org" created="Thu, 27 Jun 2013 16:37:21 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 25 Jun 2013 14:28:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>242299</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxwi7r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>13438</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>