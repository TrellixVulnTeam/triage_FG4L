<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:29:51 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/TIKA-1193/TIKA-1193.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[TIKA-1193] Allow access to HtmlParser&apos;s HtmlSchema</title>
                <link>https://issues.apache.org/jira/browse/TIKA-1193</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;TagSoup&apos;s HTMLSchema is not really well suited for HTML5 nor is it capable of correctly handling some very strange quirks, e.g. table inside anchors. By allowing access to the schema applications can modify the schema to suit their needs on the fly.&lt;/p&gt;

&lt;p&gt;This would also mean that we don&apos;t have to rely on &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-985&quot; title=&quot;Support for HTML5 elements&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-985&quot;&gt;TIKA-985&lt;/a&gt; getting committed, we can change it from our own applications.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12678603">TIKA-1193</key>
            <summary>Allow access to HtmlParser&apos;s HtmlSchema</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jukkaz">Jukka Zitting</assignee>
                                    <reporter username="markus17">Markus Jelsma</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Nov 2013 16:47:50 +0000</created>
                <updated>Tue, 25 Mar 2014 16:21:45 +0000</updated>
                            <resolved>Sat, 28 Dec 2013 01:14:49 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>1.5</fixVersion>
                                    <component>parser</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13819109" author="markus17" created="Mon, 11 Nov 2013 16:49:16 +0000"  >&lt;p&gt;Patch for trunk.&lt;/p&gt;</comment>
                            <comment id="13825823" author="markus17" created="Mon, 18 Nov 2013 21:59:07 +0000"  >&lt;p&gt;Hi- are there any objections to putting this in? I know unit tests can break if applications incorrectly modify the schema, e.g. removing the shape attrib from anchors, but that&apos;s the responsibility of the application.. Perhaps marking it as expert would be satisfying?&lt;/p&gt;</comment>
                            <comment id="13825832" author="jukkaz" created="Mon, 18 Nov 2013 22:10:55 +0000"  >&lt;p&gt;A cleaner approach would probably be to allow the caller to pass a custom schema through the ParseContext object:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
ParseContext context = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ParseContext();
context.set(Schema.class, ...);
parser.parse(..., context);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;tt&gt;HtmlParser&lt;/tt&gt; class could then get the custom schema from the context:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Schema schema = context.get(Schema.class, HTML_SCHEMA);
parser.setProperty(org.ccil.cowan.tagsoup.Parser.schemaProperty, schema);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13835451" author="markus17" created="Fri, 29 Nov 2013 16:55:03 +0000"  >&lt;p&gt;Yes, i agree. Here&apos;s a new patch plus unit test using a customized schema to obtain achor text from tables inside an anchor.&lt;/p&gt;</comment>
                            <comment id="13851648" author="markus17" created="Wed, 18 Dec 2013 12:41:06 +0000"  >&lt;p&gt;Hi - does this new patch need some adjustments? We&apos;re using it now to change the SCHEMA and are quite happy so far.&lt;/p&gt;</comment>
                            <comment id="13857886" author="jukkaz" created="Sat, 28 Dec 2013 01:14:49 +0000"  >&lt;p&gt;The patch is perfect, thanks! Committed in revision 1553774.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12605513">TIKA-985</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12616404" name="TIKA-1193-trunk.patch" size="3225" author="markus17" created="Fri, 29 Nov 2013 16:55:03 +0000"/>
                            <attachment id="12613177" name="TIKA-1193-trunk.patch" size="922" author="markus17" created="Mon, 11 Nov 2013 16:49:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 18 Nov 2013 22:10:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>357970</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzjjyv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>358260</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>