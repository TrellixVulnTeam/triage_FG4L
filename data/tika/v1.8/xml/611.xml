<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:30:02 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/TIKA-611/TIKA-611.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[TIKA-611] PDFParser mixes the text from separate columns</title>
                <link>https://issues.apache.org/jira/browse/TIKA-611</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;As reported on the dev list by  Michael Schmitz :&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I don&apos;t think the current snapshot is parsing articles (pdfs with columns/beads) correctly.  The text is not in the write order as it intermixes text from different beads.  Try it on an academic paper. &lt;a href=&quot;http://turing.cs.washington.edu/papers/acl08.pdf&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://turing.cs.washington.edu/papers/acl08.pdf&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This can be fixed by changing the value of setSortByPosition to false, which is the default value in PDFTextStripper. This line (PDF2XHTML:82) had been added as part of the commit rev 1029510, see &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-446?focusedCommentId=12926787&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12926787&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/TIKA-446?focusedCommentId=12926787&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12926787&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Ideally we could specify what value to set for these parameters via the Context object, but for the time being wouldn&apos;t it make sense to set setSortByPosition to the default value of false? I think that this would be the best option for most cases where docs have columns.&lt;/p&gt;



</description>
                <environment></environment>
        <key id="12500624">TIKA-611</key>
            <summary>PDFParser mixes the text from separate columns</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jnioche">Julien Nioche</assignee>
                                    <reporter username="jnioche">Julien Nioche</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Mar 2011 13:25:42 +0000</created>
                <updated>Wed, 24 Aug 2011 13:18:57 +0100</updated>
                            <resolved>Wed, 9 Mar 2011 09:05:22 +0000</resolved>
                                    <version>0.9</version>
                                    <fixVersion>0.10</fixVersion>
                                    <component>parser</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13003884" author="jnioche" created="Tue, 8 Mar 2011 10:16:04 +0000"  >&lt;p&gt;No objections? Shall I commit this?&lt;/p&gt;</comment>
                            <comment id="13004025" author="chrismattmann" created="Tue, 8 Mar 2011 16:16:37 +0000"  >&lt;p&gt;Well, I&apos;m not sure it&apos;s the best thing in all cases: not all PDFs are academic research papers.&lt;/p&gt;

&lt;p&gt;I&apos;d be +1 for making this a ParseContext param, and allowing it to override the default value.&lt;/p&gt;</comment>
                            <comment id="13004035" author="jnioche" created="Tue, 8 Mar 2011 16:24:14 +0000"  >&lt;p&gt;The current behaviour is incorrect not only for academic research papers but for any document using columns (e.g. contracts, etc...) and was how things were done prior to the modif in Tika-446&lt;br/&gt;
Can we fix the boolean value in this issue then open a new issue and implement the mechanism with ParseContext for this and the other params?&lt;/p&gt;</comment>
                            <comment id="13004042" author="chrismattmann" created="Tue, 8 Mar 2011 16:32:26 +0000"  >&lt;p&gt;+1, sounds good Julien.&lt;/p&gt;</comment>
                            <comment id="13004426" author="jnioche" created="Wed, 9 Mar 2011 09:05:22 +0000"  >&lt;p&gt;Committed revision 1079705.&lt;/p&gt;

&lt;p&gt;Opened &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-612&quot; title=&quot;Specify PDFBox options via ParseContext &quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-612&quot;&gt;&lt;del&gt;TIKA-612&lt;/del&gt;&lt;/a&gt; for the params via ParseContext &lt;/p&gt;</comment>
                            <comment id="13045256" author="grigory" created="Tue, 7 Jun 2011 04:34:38 +0100"  >&lt;p&gt;This changes PDF parser behavior again. Previously, it changed in 0.9 (or in 0.8?) from unordered (setSortByPosition is false) to ordered (true). Now, it changes back to false. Without &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-612&quot; title=&quot;Specify PDFBox options via ParseContext &quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-612&quot;&gt;&lt;del&gt;TIKA-612&lt;/del&gt;&lt;/a&gt; this is incomplete fix.&lt;/p&gt;</comment>
                            <comment id="13090161" author="mikemccand" created="Wed, 24 Aug 2011 13:18:57 +0100"  >&lt;p&gt;Here&apos;s the javadoc describing PDFBox&apos;s setSortByPosition:&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;http://pdfbox.apache.org/apidocs/org/apache/pdfbox/util/PDFTextStripper.html#setSortByPosition(boolean&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://pdfbox.apache.org/apidocs/org/apache/pdfbox/util/PDFTextStripper.html#setSortByPosition(boolean&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;The javadoc actually makes &quot;false&quot; sound spooky since it seems to mean the text can come out jumbled; it&apos;s curious that &quot;false&quot; fixes this two-columns PDF case...&lt;/p&gt;

&lt;p&gt;Does anyone have a simple small PDF sample doc w/ columns that we could at least add as test cases here, so we can catch changes in how such PDFs are handled by Tika, going forward?&lt;/p&gt;

&lt;p&gt;Separately I agree we really need &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-612&quot; title=&quot;Specify PDFBox options via ParseContext &quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-612&quot;&gt;&lt;del&gt;TIKA-612&lt;/del&gt;&lt;/a&gt; here... it seems like it&apos;s very usage-dependent.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 8 Mar 2011 16:16:37 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4254</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxx2q7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>16761</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>