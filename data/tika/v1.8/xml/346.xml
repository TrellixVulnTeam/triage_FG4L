<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:27:40 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/TIKA-346/TIKA-346.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[TIKA-346] ZipParser throws &quot;invalid compression method&quot; error for some archives</title>
                <link>https://issues.apache.org/jira/browse/TIKA-346</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;This could be a bug in the underlying apache-commons code. When trying to parse the attached file to extract text content, an error is thrown with the following stacktrace:&lt;/p&gt;

&lt;p&gt;org.apache.tika.exception.TikaException: Unexpected RuntimeException from org.apache.tika.parser.pkg.ZipParser@1b963c4&lt;br/&gt;
	at org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:122)&lt;br/&gt;
	at org.apache.tika.parser.AutoDetectParser.parse(AutoDetectParser.java:101)&lt;br/&gt;
	at my.code.wherever.....&lt;br/&gt;
Caused by: java.lang.IllegalArgumentException: invalid compression method&lt;br/&gt;
	at java.util.zip.ZipEntry.setMethod(ZipEntry.java:209)&lt;br/&gt;
	at org.apache.commons.compress.archivers.zip.ZipArchiveInputStream.getNextZipEntry(ZipArchiveInputStream.java:146)&lt;br/&gt;
	at org.apache.commons.compress.archivers.zip.ZipArchiveInputStream.getNextEntry(ZipArchiveInputStream.java:188)&lt;br/&gt;
	at org.apache.tika.parser.pkg.PackageParser.parseArchive(PackageParser.java:66)&lt;br/&gt;
	at org.apache.tika.parser.pkg.ZipParser.parse(ZipParser.java:49)&lt;br/&gt;
	at org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:120)&lt;br/&gt;
	... 25 more&lt;/p&gt;

&lt;p&gt;I have extracted the content of the zip and ran the autodetect parser against all content files without problems, so it is definitely the zip that is the problem.&lt;/p&gt;

&lt;p&gt;The attached zip is from Project Gutenberg and hence public domain.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows XP, JVM 1.6.16&lt;/p&gt;</environment>
        <key id="12442982">TIKA-346</key>
            <summary>ZipParser throws &quot;invalid compression method&quot; error for some archives</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jukkaz">Jukka Zitting</assignee>
                                    <reporter username="robtrickey">Robert Trickey</reporter>
                        <labels>
                    </labels>
                <created>Thu, 10 Dec 2009 12:50:33 +0000</created>
                <updated>Thu, 20 Oct 2011 13:34:16 +0100</updated>
                            <resolved>Sun, 22 May 2011 03:27:11 +0100</resolved>
                                    <version>0.5</version>
                                    <fixVersion>0.10</fixVersion>
                                    <component>parser</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12789918" author="jukkaz" created="Sun, 13 Dec 2009 17:25:38 +0000"  >&lt;p&gt;I filed &lt;a href=&quot;https://issues.apache.org/jira/browse/COMPRESS-93&quot; title=&quot;Support for alternative ZIP compression methods&quot; class=&quot;issue-link&quot; data-issue-key=&quot;COMPRESS-93&quot;&gt;COMPRESS-93&lt;/a&gt; about this.&lt;/p&gt;</comment>
                            <comment id="12789936" author="jukkaz" created="Sun, 13 Dec 2009 20:22:31 +0000"  >&lt;p&gt;The attached patch fixes this problem after recent Commons Compress changes related to &lt;a href=&quot;https://issues.apache.org/jira/browse/COMPRESS-93&quot; title=&quot;Support for alternative ZIP compression methods&quot; class=&quot;issue-link&quot; data-issue-key=&quot;COMPRESS-93&quot;&gt;COMPRESS-93&lt;/a&gt;. We can apply the patch once Commons Compress 1.1 is available.&lt;/p&gt;</comment>
                            <comment id="13037499" author="jukkaz" created="Sun, 22 May 2011 03:27:11 +0100"  >&lt;p&gt;Done in revision 1125861.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12443205">COMPRESS-93</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12427864" name="TIKA-346.patch" size="4451" author="jukkaz" created="Sun, 13 Dec 2009 20:22:31 +0000"/>
                            <attachment id="12427602" name="moby.zip" size="606033" author="robtrickey" created="Thu, 10 Dec 2009 12:51:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 13 Dec 2009 17:25:38 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4514</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxx4cn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>17024</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>