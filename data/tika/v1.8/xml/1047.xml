<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:33:09 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/TIKA-1047/TIKA-1047.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[TIKA-1047] Provide a JAX-RS to detect only the mediatype</title>
                <link>https://issues.apache.org/jira/browse/TIKA-1047</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;Currently I can use the JAX-RS server to detect the mediatype using the meta endpoint. The problem I have with this is that I need to send the entire document to get all metadata. &lt;/p&gt;

&lt;p&gt;To detect the mediatype, only a few bytes are often necessary and so I&apos;d like to only send, say 8K or so, to the server and let it tell me the mediatype.&lt;/p&gt;

&lt;p&gt;In order to accomplish this, it would be good to modify the /meta endpoint to address the individual fields that might be returned:&lt;/p&gt;

&lt;p&gt;/meta/mediatype&lt;br/&gt;
/meta/author&lt;br/&gt;
/meta/lastModified&lt;/p&gt;

&lt;p&gt;The parts currently following the path could be turned into a query parameter, which I think is more appropriate anyways (also easier to manipulate with tools like jquery).&lt;/p&gt;

&lt;p&gt;If sufficient data is not available, I&apos;d just return with a BAD_REQUEST.&lt;/p&gt;

&lt;p&gt;If this would be of interest to TIKA, I think I could possibly implement this.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12624679">TIKA-1047</key>
            <summary>Provide a JAX-RS to detect only the mediatype</summary>
                <type id="5" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Wish</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chrismattmann">Chris A. Mattmann</assignee>
                                    <reporter username="spamdaemon">Raimund Merkert</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Dec 2012 18:55:52 +0000</created>
                <updated>Sun, 27 Jan 2013 19:19:41 +0000</updated>
                            <resolved>Sun, 27 Jan 2013 19:19:41 +0000</resolved>
                                                    <fixVersion>1.4</fixVersion>
                                    <component>server</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13536747" author="chrismattmann" created="Thu, 20 Dec 2012 03:43:01 +0000"  >&lt;p&gt;+1 thanks Raimund this would be of great interest! I&apos;ll be happy to help you shepherd it in.&lt;/p&gt;</comment>
                            <comment id="13540981" author="spamdaemon" created="Sat, 29 Dec 2012 19:40:13 +0000"  >&lt;p&gt;This is a small patch that introduces a new endpoint /metadata/&lt;/p&gt;
{field}
&lt;p&gt;.&lt;/p&gt;

&lt;p&gt;It also adds code to use the Content-Disposition field as a means to pass the filename.&lt;/p&gt;</comment>
                            <comment id="13541308" author="chrismattmann" created="Mon, 31 Dec 2012 06:55:18 +0000"  >&lt;p&gt;Thanks for the patch Raimund. Looking good.&lt;/p&gt;

&lt;p&gt;One thing that I noticed though are extraneous whitespace changes in src/main/java/org/apache/tika/server/TikaResource.java. &lt;/p&gt;

&lt;p&gt;Can these be removed? Also note that Tika uses spaces for tabs, so we need to match that formatting on your patch and it will likely be a bit smaller there. Can you take a pass at removing those extraneous white space changes and then I&apos;ll take another look?&lt;/p&gt;

&lt;p&gt;Thank you!&lt;/p&gt;</comment>
                            <comment id="13541446" author="spamdaemon" created="Mon, 31 Dec 2012 18:40:59 +0000"  >&lt;p&gt;This patch is a little bit more complete than the previous one. Metadata can be be retrieved as either text/csv and application/json. &lt;br/&gt;
A single metadata field can be retrieved as either text/csv, application/json, or text/plain (if single-valued).&lt;/p&gt;

&lt;p&gt;I&apos;ve also added multiple unit tests for the new endpoint (based on MetadataResourceTest)&lt;/p&gt;

&lt;p&gt;I tried to keep the formatting close to the original and fixed the whitespace issues from the first patch. &lt;/p&gt;

&lt;p&gt;The old endpoint MetadataResource is still there, but its functionality is completely subsumed by this patch.&lt;/p&gt;</comment>
                            <comment id="13541447" author="spamdaemon" created="Mon, 31 Dec 2012 18:42:25 +0000"  >&lt;p&gt;I deleted the first patch since the second is better.&lt;/p&gt;</comment>
                            <comment id="13541452" author="spamdaemon" created="Mon, 31 Dec 2012 18:47:27 +0000"  >&lt;p&gt;The patch for this issue uses only POST, since PUT isn&apos;t really appropriate.&lt;/p&gt;</comment>
                            <comment id="13542026" author="chrismattmann" created="Wed, 2 Jan 2013 06:37:37 +0000"  >&lt;p&gt;Thanks I&apos;ll give this a look ASAP.&lt;/p&gt;</comment>
                            <comment id="13556374" author="spamdaemon" created="Thu, 17 Jan 2013 17:00:05 +0000"  >&lt;p&gt;Any updates on the status of the patch? Will you integrate it as is or are the other changes that you can think of?&lt;/p&gt;</comment>
                            <comment id="13556410" author="chrismattmann" created="Thu, 17 Jan 2013 17:50:50 +0000"  >&lt;p&gt;Dear Raimund &amp;#8211; sorry I&apos;ve been kind of busy but this is definitely on my radar and I think it&apos;s great work. Yell at me in a few days if I haven&apos;t worked on it more &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13563827" author="spamdaemon" created="Sun, 27 Jan 2013 16:04:01 +0000"  >&lt;p&gt;Chris, you wanted a reminder - here it is.&lt;/p&gt;</comment>
                            <comment id="13563876" author="chrismattmann" created="Sun, 27 Jan 2013 18:52:52 +0000"  >&lt;p&gt;Hi Raimund, sorry it took me this long, just reviewed your patch looks great!&lt;/p&gt;

&lt;p&gt;Will commit it in now!&lt;/p&gt;</comment>
                            <comment id="13563877" author="chrismattmann" created="Sun, 27 Jan 2013 18:53:31 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;set fix version&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13563881" author="chrismattmann" created="Sun, 27 Jan 2013 19:03:56 +0000"  >&lt;p&gt;Note, the dependencies added to this patch include Eclipse Jetty (which is dual ALv2 licensed) as well as OpenCSV which is ALv2 licensed.&lt;/p&gt;</comment>
                            <comment id="13563882" author="chrismattmann" created="Sun, 27 Jan 2013 19:04:31 +0000"  >&lt;p&gt;Error applying patch:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[ERROR] COMPILATION ERROR : 
[INFO] -------------------------------------------------------------
[ERROR] /Users/mattmann/tmp/tika1.4/tika-server/src/main/java/org/apache/tika/server/JSONMessageBodyWriter.java:[56,42] illegal start of type
[INFO] 1 error
[INFO] -------------------------------------------------------------
[INFO] ------------------------------------------------------------------------
[ERROR] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Compilation failure
/Users/mattmann/tmp/tika1.4/tika-server/src/main/java/org/apache/tika/server/JSONMessageBodyWriter.java:[56,42] illegal start of type

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;While running mvn install &lt;/p&gt;</comment>
                            <comment id="13563886" author="chrismattmann" created="Sun, 27 Jan 2013 19:14:08 +0000"  >&lt;p&gt;The declaration of TreeMap on line 56 in JSONMessageBodyWriter omitted the specification of the template types &amp;lt;String, Object&amp;gt; per the Map&amp;lt;String,Object&amp;gt; definition before. I&apos;ve went ahead and fixed this.&lt;/p&gt;</comment>
                            <comment id="13563888" author="chrismattmann" created="Sun, 27 Jan 2013 19:15:22 +0000"  >&lt;p&gt;All tests pass now and build works:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] 
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] ------------------------------------------------------------------------
[INFO] Apache Tika parent .................................... SUCCESS [2.218s]
[INFO] Apache Tika core ...................................... SUCCESS [13.617s]
[INFO] Apache Tika parsers ................................... SUCCESS [48.548s]
[INFO] Apache Tika XMP ....................................... SUCCESS [1.497s]
[INFO] Apache Tika application ............................... SUCCESS [12.264s]
[INFO] Apache Tika OSGi bundle ............................... SUCCESS [18.735s]
[INFO] Apache Tika server .................................... SUCCESS [16.963s]
[INFO] Apache Tika ........................................... SUCCESS [0.153s]
[INFO] ------------------------------------------------------------------------
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESSFUL
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 1 minute 55 seconds
[INFO] Finished at: Sun Jan 27 11:15:01 PST 2013
[INFO] Final Memory: 99M/252M
[INFO] ------------------------------------------------------------------------
[chipotle:~/tmp/tika1.4] mattmann% 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13563889" author="chrismattmann" created="Sun, 27 Jan 2013 19:16:02 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;fixed patch&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13563891" author="spamdaemon" created="Sun, 27 Jan 2013 19:17:32 +0000"  >&lt;p&gt;Ah, I typically use JDK 1.7. &lt;/p&gt;
</comment>
                            <comment id="13563892" author="chrismattmann" created="Sun, 27 Jan 2013 19:19:41 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;patch applied in r1439143, r1439144 and r1439145. Thanks Raimund!&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                            <outwardlinks description="incorporates">
                                        <issuelink>
            <issuekey id="12549787">TIKA-891</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12566683" name="TIKA-1047.rmerkert.012713.patch.txt" size="4269" author="chrismattmann" created="Sun, 27 Jan 2013 19:16:02 +0000"/>
                            <attachment id="12562808" name="patch" size="24403" author="spamdaemon" created="Mon, 31 Dec 2012 18:40:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 20 Dec 2012 03:43:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>300533</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hz0a8v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>245667</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>