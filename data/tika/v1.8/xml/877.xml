<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:35:49 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/TIKA-877/TIKA-877.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[TIKA-877] Embedded document not extracted (regression)</title>
                <link>https://issues.apache.org/jira/browse/TIKA-877</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;Testing the 1.1 rc, I believe I found a regression, hence the priority.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;dbonniot-t520 /tmp/1.0 java -jar ../tika-app-1.0.jar -z ../coffee.xls 
Extracting &apos;file0.wmf&apos; (application/x-msmetafile)
Extracting &apos;file1.wmf&apos; (application/x-msmetafile)
Extracting &apos;file2.wmf&apos; (application/x-msmetafile)
Extracting &apos;file3.wmf&apos; (application/x-msmetafile)
Extracting &apos;file4.png&apos; (image/png)
Extracting &apos;MBD002B040A.wps&apos; (application/vnd.ms-works)
Extracting &apos;file5.bin&apos; (application/octet-stream)
Extracting &apos;MBD00262FE3.unknown&apos; (application/x-tika-msoffice)

dbonniot-t520 /tmp/1.0 cd ../1.1
dbonniot-t520 /tmp/1.1 java -jar ../tika-app-1.1.jar -z ../coffee.xls 
Extracting &apos;file0.emf&apos; (application/x-emf)
Extracting &apos;file1.emf&apos; (application/x-emf)
Extracting &apos;file2.emf&apos; (application/x-emf)
Extracting &apos;file3.emf&apos; (application/x-emf)
Extracting &apos;file4.png&apos; (image/png)
Extracting &apos;MBD002B040A.wps&apos; (application/vnd.ms-works)
Extracting &apos;file5&apos; (application/x-tika-msoffice-embedded)
Extracting &apos;MBD00262FE3.unknown&apos; (application/x-tika-msoffice)

dbonniot-t520 /tmp/1.1 ls -l ../1.0/file5.bin ../1.1/file5 
-rw-r--r-- 1 dbonniot dbonniot 2519 2012-03-18 21:51 ../1.0/file5.bin
-rw-r--r-- 1 dbonniot dbonniot    0 2012-03-18 21:51 ../1.1/file5
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Notice how 1.0 could extract the data for file5, but 1.1 creates an empty file instead.&lt;/p&gt;

&lt;p&gt;By the way, I do see improvements in 1.1 as well, congrats for that!&lt;/p&gt;</description>
                <environment></environment>
        <key id="12546970">TIKA-877</key>
            <summary>Embedded document not extracted (regression)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="maxim.valyanskiy">Maxim Valyanskiy</assignee>
                                    <reporter username="dbr">Daniel Bonniot de Ruisselet</reporter>
                        <labels>
                            <label>regression</label>
                    </labels>
                <created>Sun, 18 Mar 2012 20:58:45 +0000</created>
                <updated>Wed, 21 Mar 2012 11:42:26 +0000</updated>
                            <resolved>Wed, 21 Mar 2012 11:42:26 +0000</resolved>
                                    <version>1.1</version>
                                    <fixVersion>1.2</fixVersion>
                                    <component>parser</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13232846" author="dbr" created="Mon, 19 Mar 2012 20:03:15 +0000"  >&lt;p&gt;The regression appears with this commit:&lt;/p&gt;

&lt;p&gt;r1221112 | nick | 2011-12-20 07:15:29 +0100 (Tue, 20 Dec 2011) | 1 line&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-757&quot; title=&quot;Address TODOs when we upgrade to next POI release (3.8 beta 5)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-757&quot;&gt;&lt;del&gt;TIKA-757&lt;/del&gt;&lt;/a&gt; Tidy the OLE10Native extractor code now that POI has been upgraded&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1221112&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1221112&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13232861" author="gagravarr" created="Mon, 19 Mar 2012 20:20:54 +0000"  >&lt;p&gt;Hmm, that commit wasn&apos;t supposed to break anything, it was just removing some code that is now provided by POI utility methods. At first glance, I can&apos;t see what&apos;s wrong, but maybe one of the other POI experts may be able to spot it?&lt;/p&gt;</comment>
                            <comment id="13232890" author="dbr" created="Mon, 19 Mar 2012 20:51:22 +0000"  >&lt;p&gt;It&apos;s definitely not equivalent code. That commit can be reversed cleanly on HEAD, and file5.bin (instead of &quot;file5&quot;) is again extracted and non-empty.&lt;/p&gt;</comment>
                            <comment id="13233380" author="mikemccand" created="Tue, 20 Mar 2012 12:45:08 +0000"  >&lt;p&gt;I&apos;m also surprised this change broke embedded OLE extraction!&lt;/p&gt;

&lt;p&gt;We should add this document as a test case.&lt;/p&gt;

&lt;p&gt;Maybe, until we can understand what&apos;s going on (need help from POI experts!), we should go back to the full copy/serialize?&lt;/p&gt;</comment>
                            <comment id="13234198" author="maxim.valyanskiy" created="Wed, 21 Mar 2012 08:36:52 +0000"  >&lt;p&gt;Hm, I found this problem in my tika-server yesterday and found solution. Extraction is broken after this commit:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/tika/commit/29473bf5d81a23e59d5d9ff08c611fbbc7ed79c3#L3L139&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/tika/commit/29473bf5d81a23e59d5d9ff08c611fbbc7ed79c3#L3L139&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;(&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-753&quot; title=&quot;Improve performance when parsing embedded Office docs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-753&quot;&gt;&lt;del&gt;TIKA-753&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;I&apos;ll fix that in tika-app too&lt;/p&gt;</comment>
                            <comment id="13234209" author="dbr" created="Wed, 21 Mar 2012 09:11:47 +0000"  >&lt;p&gt;Maxim, sounds good, but are you sure it&apos;s the same issue (you point to a different commit)? Do you have example documents to demonstrate the regression you are seeing?&lt;/p&gt;</comment>
                            <comment id="13234228" author="maxim.valyanskiy" created="Wed, 21 Mar 2012 09:40:38 +0000"  >&lt;p&gt;I&apos;m no sure about &apos;file5&apos;, but zero sized &apos;MBD00262FE3.unknown&apos; and &apos;MBD002B040A.wps&apos; in your coffee.xls is definitely the problem that I&apos;m going to solve&lt;/p&gt;</comment>
                            <comment id="13234240" author="dbr" created="Wed, 21 Mar 2012 09:58:42 +0000"  >&lt;p&gt;Then it seems like that is another case, and that opening a separate task would be clearer.&lt;/p&gt;</comment>
                            <comment id="13234276" author="maxim.valyanskiy" created="Wed, 21 Mar 2012 11:04:21 +0000"  >&lt;p&gt;It became the same problem after commit that you are pointed too&lt;/p&gt;</comment>
                            <comment id="13234280" author="maxim.valyanskiy" created="Wed, 21 Mar 2012 11:10:35 +0000"  >&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;
[maxcom@pc-elrond t]$ java -jar ../tika-app/target/tika-app-1.2-SNAPSHOT.jar -z ~/download-tmp/coffee.xls 
Extracting &apos;file0.emf&apos; (application/x-emf)
Extracting &apos;file1.emf&apos; (application/x-emf)
Extracting &apos;file2.emf&apos; (application/x-emf)
Extracting &apos;file3.emf&apos; (application/x-emf)
Extracting &apos;file4.png&apos; (image/png)
Extracting &apos;MBD002B040A.wps&apos; (application/vnd.ms-works)
Extracting &apos;file5&apos; (application/x-tika-msoffice-embedded)
Extracting &apos;MBD00262FE3.unknown&apos; (application/x-tika-msoffice)
[maxcom@pc-elrond t]$ ls -l
&#1080;&#1090;&#1086;&#1075;&#1086; 156
-rw-r--r-- 1 maxcom consult 10988 &#1084;&#1072;&#1088;&#1090;&#1072; 21 15:07 file0.emf
-rw-r--r-- 1 maxcom consult 16836 &#1084;&#1072;&#1088;&#1090;&#1072; 21 15:07 file1.emf
-rw-r--r-- 1 maxcom consult 13816 &#1084;&#1072;&#1088;&#1090;&#1072; 21 15:07 file2.emf
-rw-r--r-- 1 maxcom consult  9296 &#1084;&#1072;&#1088;&#1090;&#1072; 21 15:07 file3.emf
-rw-r--r-- 1 maxcom consult  4984 &#1084;&#1072;&#1088;&#1090;&#1072; 21 15:07 file4.png
-rw-r--r-- 1 maxcom consult 16896 &#1084;&#1072;&#1088;&#1090;&#1072; 21 15:07 file5
-rw-r--r-- 1 maxcom consult 31232 &#1084;&#1072;&#1088;&#1090;&#1072; 21 15:07 MBD00262FE3.unknown
-rw-r--r-- 1 maxcom consult 35840 &#1084;&#1072;&#1088;&#1090;&#1072; 21 15:07 MBD002B040A.wps

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13234282" author="maxim.valyanskiy" created="Wed, 21 Mar 2012 11:14:37 +0000"  >&lt;p&gt;Hm, no empty files, but file5 size is different...&lt;/p&gt;</comment>
                            <comment id="13234291" author="maxim.valyanskiy" created="Wed, 21 Mar 2012 11:41:01 +0000"  >&lt;p&gt;I think it is not a real problem, because &quot;file5&quot; is invalid Ole10Native attachement.&lt;/p&gt;

&lt;p&gt;Tika 1.0 saves internal data stream of that entry prepended by some headers that it could not parse. Current (trunk) version saves complete Ole10Native stream when entry is not valid.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12518851" name="coffee.xls" size="115712" author="dbr" created="Sun, 18 Mar 2012 21:01:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 19 Mar 2012 20:20:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>232128</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxx133:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>16495</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>