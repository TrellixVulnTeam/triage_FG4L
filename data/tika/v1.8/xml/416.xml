<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:33:54 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/TIKA-416/TIKA-416.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[TIKA-416] Out-of-process text extraction</title>
                <link>https://issues.apache.org/jira/browse/TIKA-416</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;There&apos;s currently no easy way to guard against JVM crashes or excessive memory or CPU use caused by parsing very large, broken or intentionally malicious input documents. To better protect against such cases and to generally improve the manageability of resource consumption by Tika it would be great if we had a way to run Tika parsers in separate JVM processes. This could be handled either as a separate &quot;Tika parser daemon&quot; or as an explicitly managed pool of forked JVMs.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12463438">TIKA-416</key>
            <summary>Out-of-process text extraction</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jukkaz">Jukka Zitting</assignee>
                                    <reporter username="jukkaz">Jukka Zitting</reporter>
                        <labels>
                    </labels>
                <created>Fri, 30 Apr 2010 15:38:05 +0100</created>
                <updated>Thu, 2 Aug 2012 10:33:38 +0100</updated>
                            <resolved>Tue, 18 Jan 2011 15:34:41 +0000</resolved>
                                                    <fixVersion>0.9</fixVersion>
                                    <component>parser</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12862690" author="chrismattmann" created="Fri, 30 Apr 2010 15:44:35 +0100"  >&lt;p&gt;+1, this sounds like a great idea!&lt;/p&gt;

&lt;p&gt;We did some work on this in OODT in terms of simple external met extractors and so forth. Maybe we could follow a similar approach here. Check out:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/incubator/oodt/cas-metadata/trunk/src/main/java/gov/nasa/jpl/oodt/cas/metadata/extractors/ExternMetExtractor.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/incubator/oodt/cas-metadata/trunk/src/main/java/gov/nasa/jpl/oodt/cas/metadata/extractors/ExternMetExtractor.java&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;and &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/incubator/oodt/cas-metadata/trunk/src/main/resources/examples/extern-config.xml&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/incubator/oodt/cas-metadata/trunk/src/main/resources/examples/extern-config.xml&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;as some examples of how to deal with this (NOTE, in &lt;a href=&quot;https://issues.apache.org/jira/browse/OODT-3&quot; title=&quot;Update source code to use ASL headers and add NOTICE, etc.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OODT-3&quot;&gt;&lt;del&gt;OODT-3&lt;/del&gt;&lt;/a&gt;, we are still in the process of converting over the licenses and there are no &quot;official&quot; incubator releases of OODT yet, but I just wanted to let you know about it as some pointers to ways to get this done). You rock and I can&apos;t wait for this feature!&lt;/p&gt;</comment>
                            <comment id="12872395" author="jukkaz" created="Thu, 27 May 2010 22:50:37 +0100"  >&lt;p&gt;See &lt;a href=&quot;http://jukkaz.wordpress.com/2010/05/27/forking-a-jvm/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://jukkaz.wordpress.com/2010/05/27/forking-a-jvm/&lt;/a&gt; for a summary of my current approach on how to achieve this.&lt;/p&gt;</comment>
                            <comment id="12983229" author="jukkaz" created="Tue, 18 Jan 2011 15:34:41 +0000"  >&lt;p&gt;An initial version of this feature is now working and included in the latest trunk.&lt;/p&gt;

&lt;p&gt;To illustrate the improvement, here&apos;s what I&apos;m seeing for example with one somewhat large Excel document:&lt;/p&gt;

&lt;p&gt;$ java -Xmx32m -jar tika-app-0.9-SNAPSHOT.jar large.xls&lt;br/&gt;
Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space&lt;br/&gt;
	at org.apache.poi.poifs.storage.RawDataBlock.&amp;lt;init&amp;gt;(RawDataBlock.java:69)&lt;br/&gt;
	at org.apache.poi.poifs.storage.RawDataBlockList.&amp;lt;init&amp;gt;(RawDataBlockList.java:55)&lt;br/&gt;
	at org.apache.poi.poifs.filesystem.POIFSFileSystem.&amp;lt;init&amp;gt;(POIFSFileSystem.java:157)&lt;br/&gt;
	at org.apache.tika.detect.POIFSContainerDetector.getTopLevelNames(POIFSContainerDetector.java:145)&lt;br/&gt;
	at org.apache.tika.detect.POIFSContainerDetector.detect(POIFSContainerDetector.java:96)&lt;br/&gt;
	at org.apache.tika.detect.CompositeDetector.detect(CompositeDetector.java:60)&lt;br/&gt;
	at org.apache.tika.parser.AutoDetectParser.parse(AutoDetectParser.java:126)&lt;br/&gt;
	at org.apache.tika.cli.TikaCLI$OutputType.process(TikaCLI.java:94)&lt;br/&gt;
	at org.apache.tika.cli.TikaCLI.process(TikaCLI.java:273)&lt;br/&gt;
	at org.apache.tika.cli.TikaCLI.main(TikaCLI.java:80)&lt;/p&gt;

&lt;p&gt;The OutOfMemoryError is really troublesome in many container environments where hitting the memory limit affects all active threads, not just the one using Tika.&lt;/p&gt;

&lt;p&gt;With the new out-of-process parsing feature, it&apos;s possible to externalize this problem into a separate background process:&lt;/p&gt;

&lt;p&gt;$ java -Xmx32m -jar tika-app-0.9-SNAPSHOT.jar --fork large.xls&lt;br/&gt;
Exception in thread &quot;main&quot; java.io.IOException: Lost connection to a forked server process&lt;br/&gt;
	at org.apache.tika.fork.ForkClient.waitForResponse(ForkClient.java:149)&lt;br/&gt;
	at org.apache.tika.fork.ForkClient.call(ForkClient.java:84)&lt;br/&gt;
	at org.apache.tika.fork.ForkParser.parse(ForkParser.java:78)&lt;br/&gt;
	at org.apache.tika.cli.TikaCLI$OutputType.process(TikaCLI.java:94)&lt;br/&gt;
	at org.apache.tika.cli.TikaCLI.process(TikaCLI.java:273)&lt;br/&gt;
	at org.apache.tika.cli.TikaCLI.main(TikaCLI.java:80)&lt;/p&gt;

&lt;p&gt;Such normal exceptions are much easier to recover from.&lt;/p&gt;</comment>
                            <comment id="12983233" author="chrismattmann" created="Tue, 18 Jan 2011 15:50:05 +0000"  >&lt;p&gt;Awesome job Jukka!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 30 Apr 2010 14:44:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4445</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxx3x3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>16954</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>