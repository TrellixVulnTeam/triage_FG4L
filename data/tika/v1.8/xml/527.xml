<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:28:31 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/TIKA-527/TIKA-527.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[TIKA-527] Allow override mapping mime&lt;--&gt;parsers through config</title>
                <link>https://issues.apache.org/jira/browse/TIKA-527</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;Background&lt;br/&gt;
-----------------&lt;br/&gt;
As of Tika 0.7, tika-config.xml is not longer mandatory and loading 3rd party parsers as plugins through service architecture is supported.&lt;/p&gt;

&lt;p&gt;This introduces great flexibility, and even allows for extending Tika&apos;s file format support by simply dropping in jar&apos;s on the classpath. This is great for configuring Tika when it&apos;s embedded as part of another application such as Solr or Nutch. You can easily add support for e.g. a commercial document filter with Tika wrapper without changing Tika or the consuming application, or even maintaining a tika-config.xml.&lt;/p&gt;

&lt;p&gt;This serves the majority of all use cases.&lt;/p&gt;

&lt;p&gt;Problem&lt;br/&gt;
------------&lt;br/&gt;
However, as the variety of 3rd party document parsers increases, we&apos;ll start seeing an overlap of parsers supporting the same mime-types. A very likely scenario is a company specialized in document filters packaging their parsers as a Tika plugin, under whatever license they choose.&lt;/p&gt;

&lt;p&gt;In this scenario, a system integrator (working with e.g. Solr) wants to gather all the parsers that the particular customer needs, and then choose which parser should handle each mime-type. She may want to let a 3rd party parser plugin handle Word files but the Tika supplied POI parser handle Excel.&lt;/p&gt;

&lt;p&gt;Today, the last parser plugin that gets loaded by the class-loader happens to &quot;win&quot; the mime-types it supports. As it is not uncommon for one parser to register multiple mime-types, re-claiming a subset of the types is not possible unless you are consuming Tika directly.&lt;/p&gt;

&lt;p&gt;We thus need an &quot;override&quot; mime-to-parser mapping by configuration, and Tika needs to look for this config by default when starting.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12476865">TIKA-527</key>
            <summary>Allow override mapping mime&lt;--&gt;parsers through config</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jukkaz">Jukka Zitting</assignee>
                                    <reporter username="janhoy">Jan H&#248;ydahl</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Oct 2010 14:41:48 +0100</created>
                <updated>Thu, 20 Oct 2011 13:34:19 +0100</updated>
                            <resolved>Sat, 21 May 2011 00:35:59 +0100</resolved>
                                    <version>0.7</version>
                                    <fixVersion>0.10</fixVersion>
                                    <component>config</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12919647" author="jukkaz" created="Sun, 10 Oct 2010 20:16:16 +0100"  >&lt;p&gt;In revision 1006336 I added an org.apache.tika.parser.DefaultParser class that can be used to achieve most of this use case together with the existing TikaConfig functionality. Here&apos;s an example:&lt;/p&gt;

&lt;p&gt;&amp;lt;properties&amp;gt;&lt;br/&gt;
    &amp;lt;parsers&amp;gt;&lt;br/&gt;
        &amp;lt;!-- Load all available parsers --&amp;gt;&lt;br/&gt;
        &amp;lt;parser class=&quot;org.apache.tika.parser.DefaultParser&quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;        &amp;lt;!-- Override parsing of all types supported by CustomParser --&amp;gt;&lt;br/&gt;
        &amp;lt;parser class=&quot;org.example.CustomParser&quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;        &amp;lt;!-- Explicitly disable parsing of Zip archives --&amp;gt;&lt;br/&gt;
        &amp;lt;parser class=&quot;org.apache.tika.parser.EmptyParser&quot;&amp;gt;&lt;br/&gt;
            &amp;lt;mime&amp;gt;application/zip&amp;lt;/mime&amp;gt;&lt;br/&gt;
        &amp;lt;/parser&amp;gt;&lt;br/&gt;
    &amp;lt;/parsers&amp;gt;&lt;br/&gt;
&amp;lt;/properties&amp;gt;&lt;/p&gt;</comment>
                            <comment id="12919742" author="janhoy" created="Mon, 11 Oct 2010 08:46:43 +0100"  >&lt;p&gt;I like your approach with DefaultParser.&lt;br/&gt;
This means we can use the current config syntax. Parser tags are loaded top to bottom. If no &amp;lt;mime&amp;gt; tags are specified for a parser it will load all. If you specify any it will use those only. I agree this allows for specifying exactly which parser handles which mime-types.&lt;/p&gt;

&lt;p&gt;The only thing missing is for Tika to automatically look for a tika-config-default.xml or similar on classpath on startup.&lt;/p&gt;</comment>
                            <comment id="12927715" author="janhoy" created="Wed, 3 Nov 2010 01:33:33 +0000"  >&lt;p&gt;This patch modifies the empty constructor TikaConfig() to try to initialize from XML config:&lt;/p&gt;

&lt;p&gt;Creates a default Tika configuration. We first check whether an XML config file is specified, either in&lt;br/&gt;
  1. System property &quot;tika.config&quot;, or&lt;br/&gt;
  2. Environment variable TIKA_CONFIG&lt;br/&gt;
If one of these have a value, we try to resolve it as an absolute or relative file in the file system, and then as a file on classpath.&lt;br/&gt;
If XML config is not specified, we initialize from the built-in media type rules and all the Parser implementations available through the service provider mechanism in the context class loader of the current thread.&lt;/p&gt;


&lt;p&gt;This together with DefaultParser and EmptyParser allows for all kinds of custom mappings simply through configuration.&lt;/p&gt;

&lt;p&gt;Example of the system property method using tika-app:&lt;/p&gt;

&lt;p&gt;&amp;gt; java -Dtika.config=my-tika-config.xml -jar tika-app-0.8-SNAPSHOT.jar --list-parser-details&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
org.apache.tika.parser.CompositeParser
  audio/x-aiff
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Content of my-tika-config.xml:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;properties&amp;gt;&lt;/span&gt; 
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;parsers&amp;gt;&lt;/span&gt; 
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;parser class=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.tika.parser.audio.AudioParser&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt; 
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;mime&amp;gt;&lt;/span&gt;audio/x-aiff&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/mime&amp;gt;&lt;/span&gt; 
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/parser&amp;gt;&lt;/span&gt; 
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/parsers&amp;gt;&lt;/span&gt; 
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/properties&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13037156" author="jukkaz" created="Sat, 21 May 2011 00:35:59 +0100"  >&lt;p&gt;Sorry for the long delay on this. I committed your patch with slight modifications in revision 1125596. Thanks!&lt;/p&gt;

&lt;p&gt;I guess that&apos;s all there is for this issue, so resolving as fixed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12458701" name="TIKA-527.patch" size="10792" author="janhoy" created="Wed, 3 Nov 2010 01:33:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 10 Oct 2010 19:16:16 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4334</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxx38n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>16844</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>