<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:30:33 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/TIKA-1222/TIKA-1222.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[TIKA-1222] Tika does not extract attachments from RFC822 files</title>
                <link>https://issues.apache.org/jira/browse/TIKA-1222</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;TikaApp --extract option does not extract attachments from RFC822 files. The issue happens because MailContentHandler.body(...) method gets a Parser.class object from the context and calls parser.parse(). It should get a EmbeddedDocumentExtractor.class object from the ParseContext one and call embeddedDocumentExtractor.parseEmbedded(), similar to other Container parsers.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12689130">TIKA-1222</key>
            <summary>Tika does not extract attachments from RFC822 files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gagravarr">Nick Burch</assignee>
                                    <reporter username="lfcnassif">Luis Filipe Nassif</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Jan 2014 00:10:32 +0000</created>
                <updated>Mon, 16 Mar 2015 00:15:39 +0000</updated>
                            <resolved>Mon, 16 Mar 2015 00:15:39 +0000</resolved>
                                    <version>1.4</version>
                    <version>1.5</version>
                    <version>1.6</version>
                                                    <component>parser</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="14273123" author="lfcnassif" created="Mon, 12 Jan 2015 00:50:32 +0000"  >&lt;p&gt;Patch to handle parts with EmbeddedDocumentExtractor instead of DefaultParser. Tests also updated.&lt;/p&gt;</comment>
                            <comment id="14279599" author="hudson" created="Fri, 16 Jan 2015 00:43:27 +0000"  >&lt;p&gt;SUCCESS: Integrated in tika-trunk-jdk1.7 #434 (See &lt;a href=&quot;https://builds.apache.org/job/tika-trunk-jdk1.7/434/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/tika-trunk-jdk1.7/434/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1222&quot; title=&quot;Tika does not extract attachments from RFC822 files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1222&quot;&gt;&lt;del&gt;TIKA-1222&lt;/del&gt;&lt;/a&gt; For RFC822 mails, start to prefer a EmbeddedDocumentExtractor to a Parser for handling embedded resources, but retain the Parser use if not for backwards compatibility (nick: &lt;a href=&quot;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1652319&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1652319&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/tika/trunk/tika-parsers/src/main/java/org/apache/tika/parser/mail/MailContentHandler.java&lt;/li&gt;
	&lt;li&gt;/tika/trunk/tika-parsers/src/test/java/org/apache/tika/parser/mail/RFC822ParserTest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14279612" author="gagravarr" created="Fri, 16 Jan 2015 00:48:09 +0000"  >&lt;p&gt;I&apos;ve done something similar by r1652321. It&apos;s heavily inspired by Luis&apos;s patch, but maintains a bit more backwards compatibility. As such, no unit tests needed to change! I have also added a new unit test, along the lines of the pdf and office embedded tests, to verify we correct find all the parts as embedded resources when in extraction mode. Previous behaviour (inline content) remains when no extraction is requested, for compatibility&lt;/p&gt;

&lt;p&gt;Could people please check that this is working correctly + as expected?&lt;/p&gt;</comment>
                            <comment id="14279628" author="hudson" created="Fri, 16 Jan 2015 01:04:09 +0000"  >&lt;p&gt;SUCCESS: Integrated in tika-trunk-jdk1.6 #419 (See &lt;a href=&quot;https://builds.apache.org/job/tika-trunk-jdk1.6/419/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/tika-trunk-jdk1.6/419/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1222&quot; title=&quot;Tika does not extract attachments from RFC822 files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1222&quot;&gt;&lt;del&gt;TIKA-1222&lt;/del&gt;&lt;/a&gt; Unit test for rfc822 embedded resources (nick: &lt;a href=&quot;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1652321&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1652321&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/tika/trunk/tika-parsers/src/test/java/org/apache/tika/parser/mail/RFC822ParserTest.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1222&quot; title=&quot;Tika does not extract attachments from RFC822 files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1222&quot;&gt;&lt;del&gt;TIKA-1222&lt;/del&gt;&lt;/a&gt; Move further towards EmbeddedDocumentExtractor, but keeping backwards compatibility (nick: &lt;a href=&quot;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1652320&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1652320&lt;/a&gt;)&lt;/li&gt;
	&lt;li&gt;/tika/trunk/tika-core/src/main/java/org/apache/tika/extractor/ParsingEmbeddedDocumentExtractor.java&lt;/li&gt;
	&lt;li&gt;/tika/trunk/tika-parsers/src/main/java/org/apache/tika/parser/mail/MailContentHandler.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1222&quot; title=&quot;Tika does not extract attachments from RFC822 files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1222&quot;&gt;&lt;del&gt;TIKA-1222&lt;/del&gt;&lt;/a&gt; For RFC822 mails, start to prefer a EmbeddedDocumentExtractor to a Parser for handling embedded resources, but retain the Parser use if not for backwards compatibility (nick: &lt;a href=&quot;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1652319&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1652319&lt;/a&gt;)&lt;/li&gt;
	&lt;li&gt;/tika/trunk/tika-parsers/src/main/java/org/apache/tika/parser/mail/MailContentHandler.java&lt;/li&gt;
	&lt;li&gt;/tika/trunk/tika-parsers/src/test/java/org/apache/tika/parser/mail/RFC822ParserTest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14279679" author="hudson" created="Fri, 16 Jan 2015 01:43:06 +0000"  >&lt;p&gt;SUCCESS: Integrated in tika-trunk-jdk1.7 #435 (See &lt;a href=&quot;https://builds.apache.org/job/tika-trunk-jdk1.7/435/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/tika-trunk-jdk1.7/435/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1222&quot; title=&quot;Tika does not extract attachments from RFC822 files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1222&quot;&gt;&lt;del&gt;TIKA-1222&lt;/del&gt;&lt;/a&gt; Unit test for rfc822 embedded resources (nick: &lt;a href=&quot;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1652321&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1652321&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/tika/trunk/tika-parsers/src/test/java/org/apache/tika/parser/mail/RFC822ParserTest.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1222&quot; title=&quot;Tika does not extract attachments from RFC822 files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1222&quot;&gt;&lt;del&gt;TIKA-1222&lt;/del&gt;&lt;/a&gt; Move further towards EmbeddedDocumentExtractor, but keeping backwards compatibility (nick: &lt;a href=&quot;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1652320&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1652320&lt;/a&gt;)&lt;/li&gt;
	&lt;li&gt;/tika/trunk/tika-core/src/main/java/org/apache/tika/extractor/ParsingEmbeddedDocumentExtractor.java&lt;/li&gt;
	&lt;li&gt;/tika/trunk/tika-parsers/src/main/java/org/apache/tika/parser/mail/MailContentHandler.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14362619" author="tpalsulich" created="Mon, 16 Mar 2015 00:15:39 +0000"  >&lt;p&gt;Looks good, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gagravarr&quot; class=&quot;user-hover&quot; rel=&quot;gagravarr&quot;&gt;Nick Burch&lt;/a&gt;! Marking as Fixed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12691579" name="Tika-1222.patch" size="8295" author="lfcnassif" created="Mon, 12 Jan 2015 00:50:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 16 Jan 2015 00:43:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368097</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzlanr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368402</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>