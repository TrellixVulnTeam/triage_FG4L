<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:35:29 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/TIKA-961/TIKA-961.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[TIKA-961] No whitespace added if BoilerpipeContentHandler.setIncludeMarkup(true)</title>
                <link>https://issues.apache.org/jira/browse/TIKA-961</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;ignorableWhitespace is not properly added when using the BoilerpipeContentHandler and if markus is included.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12600653">TIKA-961</key>
            <summary>No whitespace added if BoilerpipeContentHandler.setIncludeMarkup(true)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kkrugler">Ken Krugler</assignee>
                                    <reporter username="markus17">Markus Jelsma</reporter>
                        <labels>
                    </labels>
                <created>Mon, 30 Jul 2012 14:02:04 +0100</created>
                <updated>Tue, 25 Mar 2014 16:21:49 +0000</updated>
                            <resolved>Wed, 28 Aug 2013 18:19:47 +0100</resolved>
                                    <version>1.2</version>
                                    <fixVersion>1.5</fixVersion>
                                    <component>parser</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13424866" author="markus17" created="Mon, 30 Jul 2012 14:59:46 +0100"  >&lt;p&gt;Patch for 1.3 adding ignorableWhitespace if the last character is no whitespace. This is a problem for non-whitespace languages that have, for example, an anchor embedded in a word. This problem also exists in the current non-boilerpipe HTML content handler.&lt;/p&gt;

&lt;p&gt;The problem with an embedded element in a string does not exist if markup is not included but i couldn&apos;t manage to figure out how to replice Boilerpipe&apos;s proper handling of these edge-cases.&lt;/p&gt;</comment>
                            <comment id="13433324" author="kkrugler" created="Mon, 13 Aug 2012 18:15:38 +0100"  >&lt;p&gt;Hi Markus - thanks for the patch. It would be great if you could include a test case to validate the problem (&amp;amp; your fix).&lt;/p&gt;

&lt;p&gt;I also want to confirm that the issue you mentioned with your patch is that if you have say an &amp;lt;a&amp;gt;xxx&amp;lt;/a&amp;gt; element in the middle of text w/o whitespace around it, your patch will add whitespace, right?&lt;/p&gt;</comment>
                            <comment id="13433333" author="markus17" created="Mon, 13 Aug 2012 18:27:01 +0100"  >&lt;p&gt;Ken,&lt;/p&gt;

&lt;p&gt;I&apos;ll see if i can provide a test but i&apos;d ideally need an example unit test that i build upon. Have any?&lt;/p&gt;

&lt;p&gt;I confirm whitespace is being added in the case of an element embedded in the middle of a text without surrounding whitespace. This is a problem that i could not solve and is also a problem with the standard HTML parser iirc.&lt;/p&gt;</comment>
                            <comment id="13433365" author="kkrugler" created="Mon, 13 Aug 2012 18:56:19 +0100"  >&lt;p&gt;Hi Markus,&lt;/p&gt;

&lt;p&gt;See HtmlParserTest.testBoilerplateRemoval() for an example unit test.&lt;/p&gt;

&lt;p&gt;&amp;#8211; Ken&lt;/p&gt;</comment>
                            <comment id="13435035" author="markus17" created="Wed, 15 Aug 2012 13:52:07 +0100"  >&lt;p&gt;Here&apos;s a new patch with unit test. The test breaks when checking for a contiguous chinese string; my work-around unfortunately breaks it.&lt;/p&gt;
</comment>
                            <comment id="13435139" author="markus17" created="Wed, 15 Aug 2012 15:16:23 +0100"  >&lt;p&gt;Browsing through the code i believe we can conditionally append whitespace only if the element is in XHTMLContentHandler.ENDLINE. That might just solve this issue.&lt;/p&gt;</comment>
                            <comment id="13435148" author="markus17" created="Wed, 15 Aug 2012 15:23:36 +0100"  >&lt;p&gt;It does! This is great! The both assertions now pass and CJK text doesn&apos;t get meaning-changing whitespace.&lt;/p&gt;</comment>
                            <comment id="13556281" author="chrismattmann" created="Thu, 17 Jan 2013 15:29:58 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;push out to 1.4&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13556298" author="chrismattmann" created="Thu, 17 Jan 2013 15:30:02 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;push out to 1.4&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13667841" author="chrismattmann" created="Mon, 27 May 2013 17:56:55 +0100"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;push to 1.5, get ready for 1.4 RC #1.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13749944" author="markus17" created="Mon, 26 Aug 2013 10:33:35 +0100"  >&lt;p&gt;Any change this one is going to be committed?&lt;br/&gt;
Thanks&lt;/p&gt;</comment>
                            <comment id="13750910" author="kkrugler" created="Tue, 27 Aug 2013 03:43:22 +0100"  >&lt;p&gt;Hi Markus - I just took a look at the patch. One question - is there any chance that chars.length could be zero (and thus chars&lt;span class=&quot;error&quot;&gt;&amp;#91;chars.length - 1&amp;#93;&lt;/span&gt; triggers an index out of bounds exception)?&lt;/p&gt;

&lt;p&gt;&amp;#8211; Ken&lt;/p&gt;</comment>
                            <comment id="13751308" author="markus17" created="Tue, 27 Aug 2013 15:34:12 +0100"  >&lt;p&gt;Hi Ken, the loop won&apos;t start if chars[] is empty so it&apos;s safe to use.&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="13752599" author="kkrugler" created="Wed, 28 Aug 2013 18:19:47 +0100"  >&lt;p&gt;r1518288, rolled in patch from Markus Jelsma.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12538346" name="TIKA-961-1.3-1.patch" size="1331" author="markus17" created="Mon, 30 Jul 2012 14:59:46 +0100"/>
                            <attachment id="12541041" name="TIKA-961-1.3-2.patch" size="4014" author="markus17" created="Wed, 15 Aug 2012 13:52:07 +0100"/>
                            <attachment id="12541060" name="TIKA-961-1.3-3.patch" size="4243" author="markus17" created="Wed, 15 Aug 2012 15:23:36 +0100"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 13 Aug 2012 17:15:38 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>242311</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hxwiaf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>13450</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>