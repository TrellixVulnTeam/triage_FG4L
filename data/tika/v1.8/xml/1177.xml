<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:31:02 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/TIKA-1177/TIKA-1177.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[TIKA-1177] Add Matroska (mkv, mka) format detection</title>
                <link>https://issues.apache.org/jira/browse/TIKA-1177</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;There&apos;s no mimetype detection for Matroska format, although it&apos;s a popular video format.&lt;br/&gt;
Here is some code I added in my custom mimetypes to detect them:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
	&amp;lt;mime-type type=&lt;span class=&quot;code-quote&quot;&gt;&quot;video/x-matroska&quot;&lt;/span&gt;&amp;gt;
		&amp;lt;glob pattern=&lt;span class=&quot;code-quote&quot;&gt;&quot;*.mkv&quot;&lt;/span&gt; /&amp;gt;
		&amp;lt;magic priority=&lt;span class=&quot;code-quote&quot;&gt;&quot;40&quot;&lt;/span&gt;&amp;gt;
			&amp;lt;match value=&lt;span class=&quot;code-quote&quot;&gt;&quot;0x1A45DFA3934282886d6174726f736b61&quot;&lt;/span&gt; type=&lt;span class=&quot;code-quote&quot;&gt;&quot;string&quot;&lt;/span&gt; offset=&lt;span class=&quot;code-quote&quot;&gt;&quot;0&quot;&lt;/span&gt; /&amp;gt;
		&amp;lt;/magic&amp;gt;
	&amp;lt;/mime-type&amp;gt;
	&amp;lt;mime-type type=&lt;span class=&quot;code-quote&quot;&gt;&quot;audio/x-matroska&quot;&lt;/span&gt;&amp;gt;
		&amp;lt;glob pattern=&lt;span class=&quot;code-quote&quot;&gt;&quot;*.mka&quot;&lt;/span&gt; /&amp;gt;
	&amp;lt;/mime-type&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I found the signature for the mkv on: &lt;br/&gt;
&lt;a href=&quot;http://www.garykessler.net/library/file_sigs.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.garykessler.net/library/file_sigs.html&lt;/a&gt;&lt;br/&gt;
I was not able to find it clearly for mka, but detection by filename is still useful.&lt;/p&gt;

&lt;p&gt;Although, the full spec is available here:&lt;br/&gt;
&lt;a href=&quot;http://matroska.org/technical/specs/index.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://matroska.org/technical/specs/index.html&lt;/a&gt;&lt;br/&gt;
Maybe it&apos;s a bit more complex than this constant magic, but it works on my tests files.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12671967">TIKA-1177</key>
            <summary>Add Matroska (mkv, mka) format detection</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rgauss">Ray Gauss II</assignee>
                                    <reporter username="BorisNaguet">Boris Naguet</reporter>
                        <labels>
                    </labels>
                <created>Wed, 2 Oct 2013 16:47:13 +0100</created>
                <updated>Tue, 25 Mar 2014 16:21:49 +0000</updated>
                            <resolved>Fri, 4 Oct 2013 20:03:13 +0100</resolved>
                                    <version>1.4</version>
                                    <fixVersion>1.5</fixVersion>
                                    <component>mime</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13786505" author="rgauss" created="Fri, 4 Oct 2013 20:03:13 +0100"  >&lt;p&gt;Unfortunately that magic doesn&apos;t seem to be required in all MKV files.  I tired several utilities to convert various sources to MKV and none contained that magic.&lt;/p&gt;

&lt;p&gt;A magic value of &lt;tt&gt;0x1A45DFA3&lt;/tt&gt; is present, but that&apos;s also present in WebM  which is extended from Matroska.&lt;/p&gt;

&lt;p&gt;I&apos;ve added Matroska mime-types based on just extension for now and also added the WebM mime-type.&lt;/p&gt;

&lt;p&gt;We can open other issues, linked to this one, for data detection of MKV and WebM files if need be.&lt;/p&gt;

&lt;p&gt;Resolved in r1529260.&lt;/p&gt;</comment>
                            <comment id="13787254" author="gagravarr" created="Sat, 5 Oct 2013 17:31:37 +0100"  >&lt;p&gt;Matroska is a container format, so as with things like OLE2 / Ogg / Zip, we can&apos;t do fully accurate detection with just magic types.&lt;/p&gt;

&lt;p&gt;I&apos;ve add a common parent type in r1529477, which has allowed for more of the tests to work. For full detection, we need a custom detector, see &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1180&quot; title=&quot;Matroska (mkv, mka, webm) Detector&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1180&quot;&gt;TIKA-1180&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 4 Oct 2013 19:03:13 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>351593</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzigqf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>351882</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>