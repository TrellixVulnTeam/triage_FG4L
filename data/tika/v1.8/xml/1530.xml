<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:29:11 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/TIKA-1530/TIKA-1530.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[TIKA-1530] MP4Parser parses duration but does not set it </title>
                <link>https://issues.apache.org/jira/browse/TIKA-1530</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;See the TODO comment at &lt;a href=&quot;https://github.com/apache/tika/blob/trunk/tika-parsers/src/main/java/org/apache/tika/parser/mp4/MP4Parser.java#L167&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/tika/blob/trunk/tika-parsers/src/main/java/org/apache/tika/parser/mp4/MP4Parser.java#L167&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12770100">TIKA-1530</key>
            <summary>MP4Parser parses duration but does not set it </summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chrismattmann">Chris A. Mattmann</assignee>
                                    <reporter username="owickstrom">Oskar Wickstr&#246;m</reporter>
                        <labels>
                    </labels>
                <created>Mon, 26 Jan 2015 15:15:22 +0000</created>
                <updated>Tue, 27 Jan 2015 18:41:54 +0000</updated>
                            <resolved>Tue, 27 Jan 2015 17:52:21 +0000</resolved>
                                                    <fixVersion>1.8</fixVersion>
                                    <component>parser</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="14292029" author="gagravarr" created="Mon, 26 Jan 2015 16:29:00 +0000"  >&lt;p&gt;Any chance you could look at something like the MP3 or Ogg Vorbis parser, see how those report the time, and then propose a patch + unit test to do the same here?&lt;/p&gt;</comment>
                            <comment id="14292081" author="owickstrom" created="Mon, 26 Jan 2015 17:00:30 +0000"  >&lt;p&gt;Sure, I&apos;ll look into it tomorrow. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14293120" author="githubbot" created="Tue, 27 Jan 2015 07:40:40 +0000"  >&lt;p&gt;GitHub user owickstrom opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tika/pull/25&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/tika/pull/25&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1530&quot; title=&quot;MP4Parser parses duration but does not set it &quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1530&quot;&gt;&lt;del&gt;TIKA-1530&lt;/del&gt;&lt;/a&gt;: Include parsed mp4 duration in metadata&lt;/p&gt;

&lt;p&gt;    Note that I couldn&apos;t get all tests working in the project (&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1521?focusedCommentId=14288719&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14288719&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/TIKA-1521?focusedCommentId=14288719&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14288719&lt;/a&gt;) so I have only run `org.apache.tika.parser.mp4.MP4ParserTest`. If someone else with a working build could try this perhaps?&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/owickstrom/tika&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/owickstrom/tika&lt;/a&gt; trunk&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tika/pull/25.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/tika/pull/25.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #25&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 5300d22e6c7f71c353ad84a7cf4534a8efff85da&lt;br/&gt;
Author: Oskar Wickstr&#246;m &amp;lt;oskar.wickstrom@live.com&amp;gt;&lt;br/&gt;
Date:   2015-01-27T07:28:00Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1530&quot; title=&quot;MP4Parser parses duration but does not set it &quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1530&quot;&gt;&lt;del&gt;TIKA-1530&lt;/del&gt;&lt;/a&gt;: Include parsed mp4 duration in metadata&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14293664" author="githubbot" created="Tue, 27 Jan 2015 15:12:07 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tika/pull/25&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/tika/pull/25&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14293669" author="chrismattmann" created="Tue, 27 Jan 2015 15:13:14 +0000"  >&lt;p&gt;Thanks Oskar, patch committed to trunk in r1655063 and #25 pull request closed. Thanks! Nick would you like me to leave this one open until the MP3 or Ogg Vorbis parser has the same code?&lt;/p&gt;</comment>
                            <comment id="14293696" author="hudson" created="Tue, 27 Jan 2015 15:41:31 +0000"  >&lt;p&gt;UNSTABLE: Integrated in tika-trunk-jdk1.7 #454 (See &lt;a href=&quot;https://builds.apache.org/job/tika-trunk-jdk1.7/454/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/tika-trunk-jdk1.7/454/&lt;/a&gt;)&lt;br/&gt;
fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1530&quot; title=&quot;MP4Parser parses duration but does not set it &quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1530&quot;&gt;&lt;del&gt;TIKA-1530&lt;/del&gt;&lt;/a&gt;: Include parsed mp4 duration in metadata contributed by Oskar Wickstr&#195;&#182;m &amp;lt;oskar.wickstrom@live.com&amp;gt; This closes #25. (mattmann: &lt;a href=&quot;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1655063&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1655063&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/tika/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/tika/trunk/tika-parsers/src/main/java/org/apache/tika/parser/mp4/MP4Parser.java&lt;/li&gt;
	&lt;li&gt;/tika/trunk/tika-parsers/src/test/java/org/apache/tika/parser/mp4/MP4ParserTest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14293720" author="hudson" created="Tue, 27 Jan 2015 15:58:39 +0000"  >&lt;p&gt;UNSTABLE: Integrated in tika-trunk-jdk1.6 #439 (See &lt;a href=&quot;https://builds.apache.org/job/tika-trunk-jdk1.6/439/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/tika-trunk-jdk1.6/439/&lt;/a&gt;)&lt;br/&gt;
fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1530&quot; title=&quot;MP4Parser parses duration but does not set it &quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1530&quot;&gt;&lt;del&gt;TIKA-1530&lt;/del&gt;&lt;/a&gt;: Include parsed mp4 duration in metadata contributed by Oskar Wickstr&#195;&#182;m &amp;lt;oskar.wickstrom@live.com&amp;gt; This closes #25. (mattmann: &lt;a href=&quot;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1655063&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1655063&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/tika/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/tika/trunk/tika-parsers/src/main/java/org/apache/tika/parser/mp4/MP4Parser.java&lt;/li&gt;
	&lt;li&gt;/tika/trunk/tika-parsers/src/test/java/org/apache/tika/parser/mp4/MP4ParserTest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14293873" author="gagravarr" created="Tue, 27 Jan 2015 17:52:21 +0000"  >&lt;p&gt;The MP3 and Vorbis parsers already had duration support, so no need to keep it open for that &lt;/p&gt;

&lt;p&gt;In r1655100, I&apos;ve tweaked it slightly to avoid rounding issues on the duration set, along the lines of the Vorbis parser. As such, I think we can consider this fixed!&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=owickstrom&quot; class=&quot;user-hover&quot; rel=&quot;owickstrom&quot;&gt;Oskar Wickstr&#246;m&lt;/a&gt; If you spot any other areas where one audio file parser does something, where the others could but don&apos;t, we&apos;d love more patches!&lt;/p&gt;</comment>
                            <comment id="14293883" author="hudson" created="Tue, 27 Jan 2015 17:59:16 +0000"  >&lt;p&gt;UNSTABLE: Integrated in tika-trunk-jdk1.6 #440 (See &lt;a href=&quot;https://builds.apache.org/job/tika-trunk-jdk1.6/440/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/tika-trunk-jdk1.6/440/&lt;/a&gt;)&lt;br/&gt;
Use a locale-consistent DecimalFormat to set the mp4 duration, avoiding rounding issues &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1530&quot; title=&quot;MP4Parser parses duration but does not set it &quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1530&quot;&gt;&lt;del&gt;TIKA-1530&lt;/del&gt;&lt;/a&gt; (nick: &lt;a href=&quot;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1655100&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1655100&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/tika/trunk/tika-parsers/src/main/java/org/apache/tika/parser/mp4/MP4Parser.java&lt;/li&gt;
	&lt;li&gt;/tika/trunk/tika-parsers/src/test/java/org/apache/tika/parser/mp4/MP4ParserTest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14293940" author="hudson" created="Tue, 27 Jan 2015 18:41:54 +0000"  >&lt;p&gt;UNSTABLE: Integrated in tika-trunk-jdk1.7 #455 (See &lt;a href=&quot;https://builds.apache.org/job/tika-trunk-jdk1.7/455/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/tika-trunk-jdk1.7/455/&lt;/a&gt;)&lt;br/&gt;
Use a locale-consistent DecimalFormat to set the mp4 duration, avoiding rounding issues &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1530&quot; title=&quot;MP4Parser parses duration but does not set it &quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1530&quot;&gt;&lt;del&gt;TIKA-1530&lt;/del&gt;&lt;/a&gt; (nick: &lt;a href=&quot;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1655100&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1655100&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/tika/trunk/tika-parsers/src/main/java/org/apache/tika/parser/mp4/MP4Parser.java&lt;/li&gt;
	&lt;li&gt;/tika/trunk/tika-parsers/src/test/java/org/apache/tika/parser/mp4/MP4ParserTest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 26 Jan 2015 16:29:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hzyohr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>