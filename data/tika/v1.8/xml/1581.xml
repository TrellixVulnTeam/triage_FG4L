<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:35:01 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/TIKA-1581/TIKA-1581.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[TIKA-1581] jhighlight license concerns</title>
                <link>https://issues.apache.org/jira/browse/TIKA-1581</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;jhighlight jar is a Tika dependency.  The Lucene team discovered that, while it claims to be a CDDL/LGPL dual-license, some of its functionality is LGPL only:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Solr&apos;s contrib/extraction contains jhighlight-1.0.jar which declares itself as dual CDDL or LGPL license. However, some of its classes are distributed only under LGPL, e.g.

com.uwyn.jhighlight.highlighter.
  CppHighlighter.java
  GroovyHighlighter.java
  JavaHighlighter.java
  XmlHighlighter.java

I downloaded the sources from Maven (http:&lt;span class=&quot;code-comment&quot;&gt;//search.maven.org/remotecontent?filepath=com/uwyn/jhighlight/1.0/jhighlight-1.0-sources.jar) to confirm that, and also found &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; SVN repo: http://svn.rifers.org/jhighlight/tags/release-1.0, though the project&apos;s website seems to not exist anymore (https://jhighlight.dev.java.net/).
&lt;/span&gt;
I didn&apos;t find any direct usage of it in our code, so I guess it&apos;s probably needed by a 3rd party dependency, such as Tika. Therefore &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; we e.g. omit it, things will compile, but may fail at runtime.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Is it possible to remove this dependency for future releases, or allow only optional inclusion of this package?  It is of concern to the ManifoldCF project because we distribute a binary package that includes Tika and its required dependencies, which currently includes jHighlight.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12783529">TIKA-1581</key>
            <summary>jhighlight license concerns</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kwright@metacarta.com">Karl Wright</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Mar 2015 08:33:07 +0000</created>
                <updated>Mon, 30 Mar 2015 17:49:04 +0100</updated>
                            <resolved>Fri, 27 Mar 2015 14:54:00 +0000</resolved>
                                    <version>1.7</version>
                                    <fixVersion>1.8</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="14371179" author="shaie" created="Fri, 20 Mar 2015 11:46:51 +0000"  >&lt;p&gt;Note that in jhighlight trunk these files are distributed under both licenses: &lt;a href=&quot;http://svn.rifers.org/jhighlight/trunk/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.rifers.org/jhighlight/trunk/&lt;/a&gt;. However, all files under &lt;a href=&quot;http://svn.rifers.org/jhighlight/trunk/src/com/uwyn/jhighlight/pcj/*&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.rifers.org/jhighlight/trunk/src/com/uwyn/jhighlight/pcj/*&lt;/a&gt; seem to be LGPL only too. They are distributed as part of the .jar as well.&lt;/p&gt;
</comment>
                            <comment id="14371397" author="kkrugler" created="Fri, 20 Mar 2015 14:49:42 +0000"  >&lt;p&gt;This is used by the source code parser that was recently added by Hong-Thai Nguyen (see &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1224&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/TIKA-1224&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;If the license issues are real (can&apos;t quickly be resolved in conjunction with the jhighlight author) then I think we&apos;ll need to back out this parser &amp;amp; the dependency until that can be resolved.&lt;/p&gt;</comment>
                            <comment id="14371415" author="kkrugler" created="Fri, 20 Mar 2015 14:57:29 +0000"  >&lt;p&gt;BTW, I&apos;ve contacted info@uwyn.com to see if they can provide any clarification.&lt;/p&gt;</comment>
                            <comment id="14371423" author="steve_rowe" created="Fri, 20 Mar 2015 15:01:23 +0000"  >&lt;p&gt;Interestingly, the JFlex source files (&lt;tt&gt;&amp;#42;.flex&lt;/tt&gt;) for the &lt;tt&gt;&amp;#42;.java&lt;/tt&gt; files in question are dual-CDDL-LGPL licensed, so it is theoretically possible to just regenerate the &lt;tt&gt;.java&lt;/tt&gt; files (I see a &lt;tt&gt;jflex&lt;/tt&gt; target in the &lt;tt&gt;build.xml&lt;/tt&gt;), and then apply the license from the &lt;tt&gt;.flex&lt;/tt&gt; files to the regenerated &lt;tt&gt;.java&lt;/tt&gt; files.  I highly suspect, given this situation, that the solo LGPL license in the &lt;tt&gt;.java&lt;/tt&gt; files is simply a mistake.&lt;/p&gt;

&lt;p&gt;Note that there is a fork of jhighlight on Github - maybe we can ask them to fix this issue using the method I describe above, and then switch Tika to using the fork?: &lt;a href=&quot;https://github.com/codelibs/jhighlight&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/codelibs/jhighlight&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14371432" author="thaichat04" created="Fri, 20 Mar 2015 15:08:21 +0000"  >&lt;p&gt;I&apos;ve contacted also &apos;gbevin@uwyn.com&apos;, seem that it&apos;s his email. Wait for feel days for his feedback.&lt;br/&gt;
Otherwise, we can create an &apos;unshipped&apos; module to group all parsers and their dependencies without Apache license.&lt;/p&gt;</comment>
                            <comment id="14371435" author="kkrugler" created="Fri, 20 Mar 2015 15:10:28 +0000"  >&lt;p&gt;Hi Steve - good call, I&apos;ve created an issue at the GitHub fork (&lt;a href=&quot;https://github.com/codelibs/jhighlight/issues/2&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/codelibs/jhighlight/issues/2&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="14371458" author="kkrugler" created="Fri, 20 Mar 2015 15:21:27 +0000"  >&lt;p&gt;I heard back from Geert - he says:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;It&apos;s been ages I look or did anything with that project. However, quickly scanned through it does indeed seem that it has classes from PCJ that are only LGPL licensed. If you rip out those classes and replace them with some other collections, all the rest seems CDDL/LGPL dual licensed. I&apos;m sorry I can&apos;t delve deeper into that, haven&apos;t touch that code for almost 10 years.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The &quot;primitive collections for Java&quot; (PCJ) code is indeed LGPL, which creates new issues (e.g. &lt;a href=&quot;https://github.com/codelibs/jhighlight/blob/057d964561562fe4166d1c01e1f3553206693443/src/main/java/com/uwyn/jhighlight/pcj/set/AbstractCharSet.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/codelibs/jhighlight/blob/057d964561562fe4166d1c01e1f3553206693443/src/main/java/com/uwyn/jhighlight/pcj/set/AbstractCharSet.java&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="14371659" author="kkrugler" created="Fri, 20 Mar 2015 17:17:33 +0000"  >&lt;p&gt;Turns out the fork at GitHub wasn&apos;t based on the latest jhighlight source (which doesn&apos;t have the issue with the license on the Java files generated by JFlex).&lt;/p&gt;

&lt;p&gt;I&apos;ve opened an issue for that, but there&apos;s still the PCJ license issue (see &lt;a href=&quot;https://github.com/codelibs/jhighlight/issues/4&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/codelibs/jhighlight/issues/4&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="14382475" author="kwright@metacarta.com" created="Thu, 26 Mar 2015 19:15:02 +0000"  >&lt;p&gt;So, is there a plan to deal with this issue yet?  Lucene is just going to rip the jar out of the distribution; I would prefer to do something a bit less risky for ManifoldCF.&lt;/p&gt;</comment>
                            <comment id="14382819" author="kkrugler" created="Thu, 26 Mar 2015 22:25:45 +0000"  >&lt;p&gt;See &lt;a href=&quot;https://github.com/codelibs/jhighlight/issues/4&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/codelibs/jhighlight/issues/4&lt;/a&gt; for current status. I believe it&apos;s possible that Shinsuke can do a release for Maven central now, which would then let us switch the Tika dependency to that version.&lt;/p&gt;

&lt;p&gt;After that I assume we&apos;d have to release a new version of Tika for ManifoldCF/Lucene/others.&lt;/p&gt;</comment>
                            <comment id="14383227" author="kkrugler" created="Fri, 27 Mar 2015 02:18:12 +0000"  >&lt;p&gt;Also it seems like we&apos;ll need to do some extra work on the license documentation for Tika due to JHighlight&apos;s use of the CDDL license (see &lt;a href=&quot;https://www.apache.org/legal/resolved#category-b&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://www.apache.org/legal/resolved#category-b&lt;/a&gt;). &lt;/p&gt;</comment>
                            <comment id="14383228" author="kkrugler" created="Fri, 27 Mar 2015 02:19:00 +0000"  >&lt;p&gt;Hi Hong-Thai,&lt;/p&gt;

&lt;p&gt;As per my comment below, can you take a look at what changes are needed to Tika&apos;s license documentation to cover the usage of JHighlight (CDDL)? Thanks!&lt;/p&gt;</comment>
                            <comment id="14383827" author="thaichat04" created="Fri, 27 Mar 2015 13:37:17 +0000"  >&lt;p&gt;On r1669583, I switched to latest jhighlight 1.0.2, update Notices.txt and also in SourceCodeParser.java to aware of using CDDL/LGPL dual-license of this library.&lt;/p&gt;</comment>
                            <comment id="14383853" author="hudson" created="Fri, 27 Mar 2015 13:49:59 +0000"  >&lt;p&gt;SUCCESS: Integrated in tika-trunk-jdk1.7 #574 (See &lt;a href=&quot;https://builds.apache.org/job/tika-trunk-jdk1.7/574/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/tika-trunk-jdk1.7/574/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1581&quot; title=&quot;jhighlight license concerns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1581&quot;&gt;&lt;del&gt;TIKA-1581&lt;/del&gt;&lt;/a&gt; - Switch using Jhighlight on CDDL/LGPL dual-licensed and update notices (thaichat04: &lt;a href=&quot;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1669583&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1669583&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/tika/trunk/NOTICE.txt&lt;/li&gt;
	&lt;li&gt;/tika/trunk/tika-parsers/pom.xml&lt;/li&gt;
	&lt;li&gt;/tika/trunk/tika-parsers/src/main/java/org/apache/tika/parser/code/SourceCodeParser.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14384025" author="hudson" created="Fri, 27 Mar 2015 15:45:21 +0000"  >&lt;p&gt;FAILURE: Integrated in tika-trunk-jdk1.7 #575 (See &lt;a href=&quot;https://builds.apache.org/job/tika-trunk-jdk1.7/575/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/tika-trunk-jdk1.7/575/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1581&quot; title=&quot;jhighlight license concerns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1581&quot;&gt;&lt;del&gt;TIKA-1581&lt;/del&gt;&lt;/a&gt; - Typo &amp;amp; CHANGES.txt (thaichat04: &lt;a href=&quot;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1669602&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1669602&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/tika/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/tika/trunk/NOTICE.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14385324" author="tpalsulich" created="Sat, 28 Mar 2015 14:14:01 +0000"  >&lt;p&gt;Is this fully resolved? Or, do we need an updated version of JHighlight in Central?&lt;/p&gt;

&lt;p&gt;Once this is done, we&apos;ll need to release another version of Tika so downstream libraries don&apos;t have the transitive license issue. Correct me if I&apos;m wrong.&lt;/p&gt;</comment>
                            <comment id="14385331" author="kkrugler" created="Sat, 28 Mar 2015 14:32:18 +0000"  >&lt;p&gt;Hi Tyler,&lt;/p&gt;

&lt;p&gt;JHighlight has been updated in Central, and Tika is now using that version.&lt;/p&gt;

&lt;p&gt;So I believe it&apos;s resolved, as long as the changes that changes that Hong-Thai made to the NOTICE.txt are sufficient for the CDDL license used by jhighlight.&lt;/p&gt;

&lt;p&gt;And yes, as per my comment above we&apos;ll need to release a new version of Tika for downstream libraries. Seems like it could be worth a quick dot release for ManifoldCF/Lucene.&lt;/p&gt;</comment>
                            <comment id="14385337" author="tpalsulich" created="Sat, 28 Mar 2015 14:37:48 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kkrugler&quot; class=&quot;user-hover&quot; rel=&quot;kkrugler&quot;&gt;Ken Krugler&lt;/a&gt;. Thanks. The comment is now&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Tika-parsers component uses CDDL/LGPL dual-licensed dependency: jhighlight (&lt;a href=&quot;https://github.com/codelibs/jhighlight&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/codelibs/jhighlight&lt;/a&gt;)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;If this looks good, I&apos;ll start a [DISCUSS] thread on the list about a new version.&lt;/p&gt;</comment>
                            <comment id="14385346" author="kkrugler" created="Sat, 28 Mar 2015 14:44:14 +0000"  >&lt;p&gt;Based on what I see in other projects (e.g. the Lucene NOTICE.txt file) this seems to be following standard practices, so I&apos;m going to assume it&apos;s OK.&lt;/p&gt;</comment>
                            <comment id="14386900" author="thaichat04" created="Mon, 30 Mar 2015 17:02:35 +0100"  >&lt;p&gt;And great thank to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kkrugler&quot; class=&quot;user-hover&quot; rel=&quot;kkrugler&quot;&gt;Ken Krugler&lt;/a&gt; with many investigation and efforts to push release of jhighlight 1.0.2&lt;/p&gt;</comment>
                            <comment id="14386963" author="hudson" created="Mon, 30 Mar 2015 17:49:04 +0100"  >&lt;p&gt;SUCCESS: Integrated in tika-trunk-jdk1.7 #587 (See &lt;a href=&quot;https://builds.apache.org/job/tika-trunk-jdk1.7/587/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/tika-trunk-jdk1.7/587/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1581&quot; title=&quot;jhighlight license concerns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1581&quot;&gt;&lt;del&gt;TIKA-1581&lt;/del&gt;&lt;/a&gt; - Mention @kkrugler thanks in CHANGES.txt (thaichat04: &lt;a href=&quot;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1670135&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1670135&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/tika/trunk/CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12783531">CONNECTORS-1174</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 20 Mar 2015 11:46:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|i00xgn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>