<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:28:05 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/TIKA-1062/TIKA-1062.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[TIKA-1062] Add list detection to RTFParser</title>
                <link>https://issues.apache.org/jira/browse/TIKA-1062</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;RTF supports lists, and the parser could support those, too, using HTML &amp;lt;ul&amp;gt;/&amp;lt;ol&amp;gt;/&amp;lt;li&amp;gt; tags.&lt;/p&gt;

&lt;p&gt;I&apos;m attaching a patch that implements basic support for Word 97 and newer lists. Nested lists are not supported correctly, yet, though, and a number of formatting options are ignored.&lt;/p&gt;

&lt;p&gt;I&apos;ve also added test cases for this, and adapted existing tests where needed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12628912">TIKA-1062</key>
            <summary>Add list detection to RTFParser</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mikemccand">Michael McCandless</assignee>
                                    <reporter username="axeld">Axel D&#246;rfler</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Wed, 23 Jan 2013 15:45:36 +0000</created>
                <updated>Fri, 25 Jan 2013 06:12:01 +0000</updated>
                            <resolved>Wed, 23 Jan 2013 21:39:26 +0000</resolved>
                                                    <fixVersion>1.4</fixVersion>
                                    <component>parser</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13560763" author="axeld" created="Wed, 23 Jan 2013 15:48:13 +0000"  >&lt;p&gt;The RTF files are supposed to go into &quot;tika-parsers/src/test/resources/test-documents&quot;.&lt;/p&gt;</comment>
                            <comment id="13560918" author="mikemccand" created="Wed, 23 Jan 2013 18:35:41 +0000"  >&lt;p&gt;It seems like we record some things about the current list (liststylename -&amp;gt; currentList.isStyle; listtemplateid -&amp;gt; currentList.templateID) but we don&apos;t actually use them?  I think it&apos;s OK to leave this; maybe we want to use it in the future (I&apos;ll add a comment) but I want to check back and make sure it&apos;s intended that they are not used &quot;today&quot;?&lt;/p&gt;</comment>
                            <comment id="13560927" author="mikemccand" created="Wed, 23 Jan 2013 18:40:58 +0000"  >&lt;p&gt;Should the &quot;ListDescriptor list = listTable.get(listID);&quot; in isUnorderedList be currentListTable.get instead?&lt;/p&gt;</comment>
                            <comment id="13560931" author="axeld" created="Wed, 23 Jan 2013 18:44:41 +0000"  >&lt;p&gt;Indeed. I have added a few things from reading the RTF 1.9.1 specification, but I did not manage to produce those fields in an RTF using MS-Word and LibreOffice. I also did not manage to create real nested lists, and I did not want to try to support things I could not test. It shouldn&apos;t harm to leave it in there; GroupState.listLevel is currently pretty much unused as well, btw.&lt;/p&gt;

&lt;p&gt;If someone can up with RTF test files that make use of more features, I&apos;m willing to try to improve the current solution, though.&lt;/p&gt;

&lt;p&gt;The changes also have a downside, as the parser does not know whether or not the intention is to put out text: lists don&apos;t look like lists anymore in text only output that does not take the tags into account at all. This is why I added the option to ignore the lists as before. Would be nice to set a generic output target for a parser (structured or plain text), eventually.&lt;/p&gt;</comment>
                            <comment id="13560942" author="axeld" created="Wed, 23 Jan 2013 18:51:26 +0000"  >&lt;p&gt;About the listTable use in isUnorderedList(): The currentListTable is only used during construction of the list tables, not later when they are referred to. However, I have frankly no idea how to address lists in the override table. I therefore consider overrides as just another thing that is not completely implemented. Sorry &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;The specs are typical Microsoft specs: very vague on everything. Again, if you have example RTF files using overrides, that would be greatly appreciated.&lt;/p&gt;</comment>
                            <comment id="13561106" author="mikemccand" created="Wed, 23 Jan 2013 21:32:40 +0000"  >&lt;blockquote&gt;&lt;p&gt;The specs are typical Microsoft specs: very vague on everything.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yeah, I hear you.&lt;/p&gt;

&lt;p&gt;I think net/net this is already a nice improvement over what we have today, so we should commit this (I added comments about the &quot;not currently used&quot; things, and minor formatting like adding { } around single statement blocks) and then we can pursue further cases (nested lists, overrides once we understand them) later.&lt;/p&gt;

&lt;p&gt;Thanks Axel!&lt;/p&gt;</comment>
                            <comment id="13561114" author="mikemccand" created="Wed, 23 Jan 2013 21:39:26 +0000"  >&lt;p&gt;Committed rev 1437752&lt;/p&gt;

&lt;p&gt;Thanks Axel!&lt;/p&gt;</comment>
                            <comment id="13561750" author="axeld" created="Thu, 24 Jan 2013 16:48:36 +0000"  >&lt;p&gt;Thanks, that was fast! Also thanks for fixing my coding style violations - I tried to make the code not stand out, but I seem not to have succeeded completely &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Is the coding style used documented anywhere? The code alone is not really clear regarding the use of tabs vs. spaces, line length limit, etc.&lt;/p&gt;</comment>
                            <comment id="13562060" author="mikemccand" created="Thu, 24 Jan 2013 22:25:54 +0000"  >&lt;p&gt;Hi Axel,&lt;/p&gt;

&lt;p&gt;I don&apos;t actually know that Tika has adopted official code style (anyone?).  Really I was just carrying forward Lucene&apos;s code style (put {} around even single-line code blocks to avoid future bug risk...).  You succeeded very well, and, yes, the current code style &quot;varies&quot; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13562457" author="jukkaz" created="Fri, 25 Jan 2013 06:12:01 +0000"  >&lt;blockquote&gt;&lt;p&gt;coding style&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;We&apos;ve generally tried to stick with the &lt;a href=&quot;http://www.oracle.com/technetwork/java/javase/documentation/codeconvtoc-136057.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;standard Java conventions&lt;/a&gt; (with spaces instead of tabs), but haven&apos;t been too fundamental about that. If you write new code, you get to decide how it looks like (within reason &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. If you modify existing code, try to stick with the existing style.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12566135" name="testRTFListLibreOffice.rtf" size="7403" author="axeld" created="Wed, 23 Jan 2013 15:48:13 +0000"/>
                            <attachment id="12566136" name="testRTFListMicrosoftWord.rtf" size="46168" author="axeld" created="Wed, 23 Jan 2013 15:48:13 +0000"/>
                            <attachment id="12566137" name="tika-rtf-lists.patch" size="14720" author="axeld" created="Wed, 23 Jan 2013 15:48:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 23 Jan 2013 18:35:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>308394</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|hz5wtr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>278490</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>