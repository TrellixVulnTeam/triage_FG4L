<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun May 17 05:30:20 UTC 2015

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/TIKA-1575/TIKA-1575.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[TIKA-1575] Upgrade to PDFBox 1.8.9 when available</title>
                <link>https://issues.apache.org/jira/browse/TIKA-1575</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;The PDFBox community is about to release 1.8.9.  Let&apos;s use this issue to track discussions before the release and to track Tika&apos;s upgrade to PDFBox 1.8.9&lt;/p&gt;</description>
                <environment></environment>
        <key id="12781825">TIKA-1575</key>
            <summary>Upgrade to PDFBox 1.8.9 when available</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tallison@mitre.org">Tim Allison</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Mar 2015 14:45:20 +0000</created>
                <updated>Wed, 1 Apr 2015 08:47:39 +0100</updated>
                            <resolved>Sun, 29 Mar 2015 16:42:53 +0100</resolved>
                                                    <fixVersion>1.8</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="14360472" author="tallison@mitre.org" created="Fri, 13 Mar 2015 15:05:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;Tilman Hausherr&lt;/a&gt;, thank you, again, for pinging me on the impending release of PDFBox 1.8.9.  And, also thanks to you, I&apos;ve turned on the AccessChecker, so you shouldn&apos;t see any content from files that don&apos;t allow extraction.&lt;/p&gt;

&lt;p&gt;I ran the most recent eval code against all files that end in a pdf extension in govdocs1.&lt;/p&gt;

&lt;p&gt;I&apos;ve included in the xlsx file all files with some kind of an exception or with any difference in attachment counts, metadata value counts, lang id or content.&lt;/p&gt;

&lt;p&gt;I&apos;ve also included an example of a static dump of reports from the comparison database.  More work remains on that...&lt;/p&gt;

&lt;p&gt;I haven&apos;t had a chance to join in your earlier comments from our work on the 1.8.8 release.  Many apologies!&lt;/p&gt;

&lt;p&gt;My quick impression:&lt;br/&gt;
1) no differences in attachments&lt;br/&gt;
2) no differences in metadata values&lt;br/&gt;
3) 1.8.9 fixed 3 null pointer exceptions, no new exceptions&lt;br/&gt;
4) Content wise:&lt;br/&gt;
      a) with 1.8.9 we&apos;re getting less form field info (looks like internal field names? More digging is required...)&lt;br/&gt;
      b) might be actual modest regressions with &lt;br/&gt;
147/147012.pdf&lt;br/&gt;
223/223704.pdf&lt;/p&gt;</comment>
                            <comment id="14360492" author="tallison@mitre.org" created="Fri, 13 Mar 2015 15:19:23 +0000"  >&lt;p&gt;Form clutter...This was embedded inside 776568.&lt;/p&gt;

&lt;p&gt;With PDFBox 1.8.8, we extracted the keys for the subform (but there was no meaningful content in this doc):&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Briefings\n\nNo\n\n   NWSI 10-814  November 10, 2008\n\n
19\n\n\n\tform1[0]: \n\t#subform[0]: \n\tPrintButton1[0]: \n\tCheckBox1[0]: \n\tCheckBox2[0]: \n\tTextField1[0]: \n\tCheckBox5[0]: \n\tCheckBox6[0]: \n\tTextField2[0]: \n\tTextField3[0]: \n\tCheckBox9[0]: \n\tCheckBox10[0]: \n\tCheckBox11[0]: \n\tCheckBox12[0]: \n\tCheckBox11[1]: \n\tCheckBox12[1]: \n\tCheckBox11[2]: \n\tCheckBox12[2]: \n\tTextField4[0]: \n\tTextField2[1]: \n\tTextField9[0]: \n\n\t#subform[1]: \n\tCheckBox1[1]: \n\tCheckBox2[1]: \n\tTextField1[1]: \n\tCheckBox5[1]: \n\tCheckBox6[1]: \n\tCheckBox9[1]: \n\tCheckBox10[1]: \n\tCheckBox11[3]: \n\tCheckBox12[3]: \n\tCheckBox11[4]: \n\tCheckBox12[4]: \n\tTextField4[1]: \n\tTextField5[0]: \n\tCheckBox5[2]: \n\tCheckBox6[2]: \n\n\t#subform[2]: \n\tCheckBox1[2]: \n\tCheckBox2[2]: \n\tCheckBox9[2]: \n\tCheckBox10[2]: \n\tTextField4[2]: \n\tCheckBox5[3]: \n\tCheckBox6[3]: \n\tCheckBox1[3]: \n\tCheckBox2[3]: \n\tCheckBox5[4]: \n\tCheckBox6[4]: \n\tCheckBox9[3]: \n\tCheckBox10[3]: \n\tTextField4[3]: \n\tCheckBox9[4]: \n\tCheckBox10[4]: \n\tTextField6[0]: \n\tTextField7[0]: \n\tCheckBox9[5]: \n\tCheckBox10[5]: \n\tTextField6[1]: \n\tTextField6[2]: \n\tTextField8[0]: \n\tTextField8[1]: \n\n\t#subform[3]: \n\tCheckBox1[4]: \n\tCheckBox2[4]: \n\tCheckBox5[5]: \n\tCheckBox6[5]: \n\tCheckBox9[6]: \n\tCheckBox10[6]: \n\tTextField4[4]: \n\tCheckBox5[6]: \n\tCheckBox6[6]: \n\tCheckBox1[5]: \n\tCheckBox2[5]: \n\tCheckBox5[7]: \n\tCheckBox6[7]: \n\tCheckBox5[8]: \n\tCheckBox5[9]: \n\tCheckBox6[8]: \n\tCheckBox6[9]: \n\tTextField8[2]: \n\tCheckBox9[7]: \n\tCheckBox10[7]: \n\tTextField6[3]: \n\tTextField6[4]: \n\tCheckBox5[10]: \n\tCheckBox5[11]: \n\tCheckBox6[10]: \n\tCheckBox6[11]: \n\n\n\n\n&quot;,&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In 1.8.9, there&apos;s just this:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Briefings\n\nNo\n\n   NWSI 10-814  November 10, 2008\n\n 19\n\n\n\tform1[0]: \n\n\n\n
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;There&apos;s no difference with PDFBox app&apos;s ExtractText between 1.8.8 and 1.8.9 on this file.&lt;/p&gt;</comment>
                            <comment id="14362365" author="tilman" created="Sun, 15 Mar 2015 12:34:06 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
b) might be actual modest regressions with
147/147012.pdf
223/223704.pdf
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;No difference with extractText. I&apos;ve opened &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2710&quot; title=&quot;Form fields missing in 1.8.9 version&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2710&quot;&gt;&lt;del&gt;PDFBOX-2710&lt;/del&gt;&lt;/a&gt; about the missing form fields.&lt;/p&gt;</comment>
                            <comment id="14362406" author="tilman" created="Sun, 15 Mar 2015 14:42:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tallison%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;tallison@apache.org&quot;&gt;Tim Allison&lt;/a&gt; please repeat the whole test - Maruan fixed the bug. (Which wouldn&apos;t have been discovered so fast without the test!)&lt;/p&gt;</comment>
                            <comment id="14363014" author="tallison@mitre.org" created="Mon, 16 Mar 2015 10:10:57 +0000"  >&lt;p&gt;Will do.  Current Maven 1.8.9-SNAPSHOT (pdfbox-1.8.9-20150315.145553-90.jar) has the fix? &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;Tilman Hausherr&lt;/a&gt;, thank you for diagnosing the problem!  And thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=msahyoun&quot; class=&quot;user-hover&quot; rel=&quot;msahyoun&quot;&gt;Maruan Sahyoun&lt;/a&gt; for fixing this so quickly!&lt;/p&gt;</comment>
                            <comment id="14363061" author="tilman" created="Mon, 16 Mar 2015 10:55:44 +0000"  >&lt;p&gt;Yes!&lt;/p&gt;</comment>
                            <comment id="14363101" author="tallison@mitre.org" created="Mon, 16 Mar 2015 11:36:48 +0000"  >&lt;p&gt;The run hasn&apos;t completed yet, but it looks like there&apos;s a regression with 966679.pdf (&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2261&quot; title=&quot;Extremely long hang during getFields() on a few PDF files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2261&quot;&gt;&lt;del&gt;PDFBOX-2261&lt;/del&gt;&lt;/a&gt;).  PrintFields appears to go into an infinite&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/help_16.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; loop.&lt;/p&gt;</comment>
                            <comment id="14364327" author="tallison@mitre.org" created="Tue, 17 Mar 2015 00:50:20 +0000"  >&lt;p&gt;Results from rerunning after &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=msahyoun&quot; class=&quot;user-hover&quot; rel=&quot;msahyoun&quot;&gt;Maruan Sahyoun&lt;/a&gt; made the fixes.  It looks like there still may be a handful of regressions from a different cause(s?).&lt;/p&gt;

&lt;p&gt;Important columns:&lt;br/&gt;
TOP_10_UNIQUE_TOKEN_DIFFS_A&lt;br/&gt;
TOP_10_UNIQUE_TOKEN_DIFFS_B, &lt;br/&gt;
These report which tokens are unique to A or B.  For example, for 005/005937.pdf, PDFBox 1.8.8&apos;s extracted text included these words: &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;global: 5 | sep: 4 | one: 4 | o: 4 | field: 4 | view: 3 | monitoring: 3 | support: 2 | real: 2 | pole: 2&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; but PDFBox 1.8.9-SNAPSHOT&apos;s extracted text doesn&apos;t contain any of those words.&lt;/p&gt;


&lt;p&gt;TOP_10_MORE_IN_A and TOP_10_MORE_IN_B show which tokens appear more commonly in A than B and vice versa.  For example, for 524/524276.pdf, PDFBox 1.8.8 was able to extract 44 more &quot;the&quot;, 35 more &quot;in&quot;, 32 more &quot;and&quot; etc. than were extracted with PDFBox 1.8.9-SNAPSHOT:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;the: 44 | in: 35 | and: 32 | of: 32 | tanabe: 28 | a: 19 | tsunami: 18 | p: 14 | 1: 12 | 1700: 12 &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;999/999680.pdf shows a clear improvement from PDFBox 1.8.8-&amp;gt;PDFBox 1.8.9-SNAPSHOT.  Compare 1.8.8&apos;s&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;h: 17 | hfirst: 2 | had: 1 | hanecdotal: 1 | hcapitalize: 1 | hchina: 1 | hcreate: 1 | hdiversify: 1 | hemerging: 1 | hgenerate: 1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;with 1.8.9-SNAPSHOT&apos;s:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;first: 2 | ad: 1 | anecdotal: 1 | capitalize: 1 | china: 1 | create: 1 | diversify: 1 | emerging: 1 | generate: 1 | growing: 1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; but there are a handful of others that might be regressions.&lt;/p&gt;</comment>
                            <comment id="14364710" author="tilman" created="Tue, 17 Mar 2015 07:30:35 +0000"  >&lt;p&gt;Could you attach the TIKA output you get with 1.8.8 for 005937.pdf ? For example, I don&apos;t get the word &quot;monitoring&quot; anywhere in that PDF.&lt;/p&gt;</comment>
                            <comment id="14364885" author="tallison@mitre.org" created="Tue, 17 Mar 2015 10:26:42 +0000"  >&lt;p&gt;Y, I can&apos;t find it in Acro Reader with search either, but it was extracted by Tika&apos;s pdf parser/wrapper with PDFBox 1.8.8.  Looks like it is in a link on p. 14 to the left of the page.&lt;/p&gt;

&lt;p&gt;When I swipe/copy that portion in Reader, I get junk text, but it was extracted with 1.8.8.&lt;/p&gt;</comment>
                            <comment id="14365032" author="tallison@mitre.org" created="Tue, 17 Mar 2015 12:07:58 +0000"  >&lt;p&gt;Corrupted characters where &quot;monitoring&quot; should be.  Given that there are 250k files in the set, this may be below the noise.&lt;/p&gt;</comment>
                            <comment id="14365524" author="tilman" created="Tue, 17 Mar 2015 17:00:16 +0000"  >&lt;p&gt;I can&apos;t understand how you get the extracted text for p14. I don&apos;t get any with PDFBox versions 1.8.6, 1.8.7, 1.8.8, and 1.8.9 ?! Is TIKA using some OCR software additionally to PDF extraczion?&lt;/p&gt;</comment>
                            <comment id="14365641" author="tallison@mitre.org" created="Tue, 17 Mar 2015 17:46:43 +0000"  >&lt;p&gt;We haven&apos;t yet integrated OCR with PDFParsing...it would make sense.&lt;/p&gt;

&lt;p&gt;When I just ran a junit test on this document alone with 1.8.8 and 1.8.9, I got complete junk for p. 14.  There were paragraph markers in our xml markup, but the characters were junk.&lt;/p&gt;

&lt;p&gt;The batch runs were multithreaded.  I wonder if caching in PDFont or another static object (?!) happened to hold the crucial information for decoding that page during the batch run with 1.8.8, but we didn&apos;t get lucky with caching during the run with 1.8.9???  &lt;/p&gt;

&lt;p&gt;As I found with &quot;monitoring&quot;, when I swipe/copy the full page in Acrobat Reader, I get complete junk.&lt;/p&gt;

&lt;p&gt;The multithreading hypothesis might also explain why on this run comparing 1.8.8 against the updated 1.8.9, I found no difference in content in 147/147012.pdf&lt;br/&gt;
223/223704.pdf...I&apos;d have to look more closely to make sure that Maruan&apos;s AcroField fixes don&apos;t explain those differences.&lt;/p&gt;</comment>
                            <comment id="14365733" author="tallison@mitre.org" created="Tue, 17 Mar 2015 18:36:04 +0000"  >&lt;p&gt;If the multithreading hypothesis is correct, we had to get &lt;em&gt;extremely&lt;/em&gt; lucky because we&apos;re now clearing the resources on PDFont after every document, and it looks like the fonts are in the document, but they&apos;re clearly broken.  So that means that thread B would have had to overwrite (correct) the font in thread A after thread A read the fonts for p. 14 but before it processed p 14...all while threads C through J didn&apos;t happen to hit clearResources() between the overwrite by Thread B and the processing by Thread A.  Is this plausible?  Are there other static objects that could explain this behavior?  Something else going on?&lt;/p&gt;</comment>
                            <comment id="14365799" author="tallison@mitre.org" created="Tue, 17 Mar 2015 19:02:53 +0000"  >&lt;p&gt;I&apos;ve kicked off a single-threaded batch run of 1.8.9 to see if there are any differences with the multithreaded batch run of 1.8.9.&lt;/p&gt;</comment>
                            <comment id="14365807" author="tilman" created="Tue, 17 Mar 2015 19:08:09 +0000"  >&lt;p&gt;Can&apos;t tell, I don&apos;t know much about the structure of 1.8.*. Years ago I started to use the unreleased 2.0 version and I was hooked &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14365829" author="tilman" created="Tue, 17 Mar 2015 19:13:55 +0000"  >&lt;p&gt;Thanks. Re: OCR, you should know that there was a GSoC2014 project by PDFBox committer John Hewson to combine tesseract and PDFBox (&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1912&quot; title=&quot;Optical Character Recognition (OCR)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1912&quot;&gt;PDFBOX-1912&lt;/a&gt;). I don&apos;t know the details, but maybe it could be useful for TIKA.&lt;/p&gt;</comment>
                            <comment id="14367483" author="msahyoun" created="Wed, 18 Mar 2015 17:11:01 +0000"  >&lt;p&gt;Let me know your outcome. The changes might have an affect as&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;1.8.9 only treats AcroForm entries as fields if they do have a /T entry whereas 1.8.8 treats entries as fields if they are no widgets.&lt;/li&gt;
	&lt;li&gt;1.8.9 for buttons is now only looking up in the field hierarchy to get the field  type and thus deciding if we are dealing with a button where 1.8.8 was additionally looking down into the fields kids&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;As a result with 1.8.9 there might be less fields and more widget annotations (for edge cases)&lt;/p&gt;</comment>
                            <comment id="14368427" author="tallison@mitre.org" created="Thu, 19 Mar 2015 03:08:53 +0000"  >&lt;p&gt;I&apos;m not sure the differences we&apos;re seeing are in AcroForm entries or buttons.  I&apos;m still manually reviewing some of the diffs.  Thank you, so much, for your quick fixes!&lt;/p&gt;</comment>
                            <comment id="14368449" author="tallison@mitre.org" created="Thu, 19 Mar 2015 03:34:09 +0000"  >&lt;p&gt;From manual review...overall, I&apos;m not sure there is anything glaring, esp given that we&apos;re testing against ~250k documents.&lt;/p&gt;

&lt;p&gt;Based on the More_in_A column, it looks like there are two docs with much more language content in 1.8.8 vs 1.8.9.  &lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;005937.pdf is an anomaly that can&apos;t be reproduced in a single-threaded environment.  Multithreading &quot;bug&quot; improves extraction?! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;524276.pdf; it looks like much of the first page is duplicated with 1.8.8 but that 1.8.9 gets junk for the first copy but maintains the content that was duplicated in 1.8.8.&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;It looks like there are quite a few documents where &quot;this page is intentionally left blank&quot; is captured more often in the 1.8.8 output than in the 1.8.9 output. For example, in 473194.pdf, there&apos;s the main content, and then the Bookmarks are dumped at the end of the document in 1.8.8, &quot;this page is intentionally left blank&quot; correctly appears three times, but it only appears once in 1.8.9.  Not a big loss of information in my opinion, unless it points to a potential underlying problem...I don&apos;t know.&lt;/p&gt;

&lt;p&gt;A similar thing happens with 719128.pdf, where the footer is repeated 3 times with 1.8.8 but is only extracted once with 1.8.9; the correct number should be 4.&lt;/p&gt;

&lt;p&gt;There appear to be some differences in AcroForm language &amp;#8211; &quot;Yes, No&quot;. In the one I checked, 496816.pdf, the extraction appears to be more accurate in 1.8.9 vs 1.8.8 &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; &quot;Primary: Yes\n\tline: Yes\n\n\tPiggyback:&quot; &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; only has one &quot;Yes&quot; in 1.8.9.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;Tilman Hausherr&lt;/a&gt;, what are you finding?&lt;/p&gt;</comment>
                            <comment id="14368686" author="tilman" created="Thu, 19 Mar 2015 08:19:20 +0000"  >&lt;p&gt;With the pure ExtractText, all is identical. Could you attach the files you get for 524276.pdf and 719128.pdf?&lt;/p&gt;</comment>
                            <comment id="14371565" author="tallison@mitre.org" created="Fri, 20 Mar 2015 16:22:36 +0000"  >&lt;p&gt;Hi Tilman,&lt;/p&gt;

&lt;p&gt;  The .json files were the ones created during the multi-threaded batch run.  &lt;/p&gt;

&lt;p&gt;  When I just ran the exact same tika-app.jars that I ran in batch mode on the same OS, I&apos;m getting no difference between PDFBox 1.8.8 and 1.8.9 for 524276, as you found.  However, I&apos;m still seeing 3 copies of the footer with 1.8.8 but only one copy with 1.8.9 for 719128.&lt;/p&gt;

&lt;p&gt;  PDFBox app&apos;s ExtractText isn&apos;t pulling as much text (AcroForm data?) as Tika&apos;s, and I agree that there is no difference between text extracted with 1.8.8 and 1.8.9 with PDFBox app&apos;s ExtractText for 719128.&lt;/p&gt;</comment>
                            <comment id="14371604" author="tallison@mitre.org" created="Fri, 20 Mar 2015 16:49:35 +0000"  >&lt;p&gt;I ran 1.8.9 single threaded and compared the output with the multithreaded 1.8.9 run; same tika-app.jar, same OS.&lt;/p&gt;

&lt;p&gt;If you look at the content diffs, 005937 and 524276 are flagged (again).  &lt;/p&gt;

&lt;p&gt;But what&apos;s really weird is that lang id differs for 491 files.  Lang id works on the full string, and my content diff code works on tokens identified by Lucene&apos;s StandardAnalyzer.  So this suggests that there may be a fairly large-ish difference in the non-word characters that is causing language id to differ.&lt;/p&gt;

&lt;p&gt;Fortunately, all else remains the same: number of attachments, number of metadata values, number of exceptions.&lt;/p&gt;</comment>
                            <comment id="14371607" author="msahyoun" created="Fri, 20 Mar 2015 16:51:33 +0000"  >&lt;p&gt;for 719128.pdf it&apos;s correct to get the content of help_print only once as this is the fields value and the field exists only once in the form. The reason the text is displayed 4 times is because the field has 4 widgets assigned to it representing the same field 4 times visually.&lt;/p&gt;

&lt;p&gt;So the question is - what&apos;s the expected result. If you only want to extract the fields content - 1.8.9 is correct and 1.8.8 wasn&apos;t. If you would like to get the text 4 times as it visually appears 4 times then either&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the annotations appearance stream needs to be processed as this will have the same text content (if it has been updated)&lt;/li&gt;
	&lt;li&gt;extract the text n-times (n representing the number of widgets a form field has)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;As I&apos;m not familiar with the Tika code maybe you could point me to the class/method where that is handled to review that section (also having 2.0.0 in mind &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;)&lt;/p&gt;</comment>
                            <comment id="14371649" author="tallison@mitre.org" created="Fri, 20 Mar 2015 17:10:57 +0000"  >&lt;p&gt;Thank you, Maruan.  I&apos;d be thrilled to have you review our code, as long as you don&apos;t laugh too hard.  AcroForm processing starts at line 557 &lt;a href=&quot;http://svn.apache.org/viewvc/tika/trunk/tika-parsers/src/main/java/org/apache/tika/parser/pdf/PDF2XHTML.java?revision=1663424&amp;amp;view=markup&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;here&lt;/a&gt;&lt;br/&gt;
Please let us know if we&apos;re doing anything crazy...&lt;/p&gt;


&lt;p&gt;Y.  I&apos;m not sure what the right answer is.  Given that we dump the AcroForm content at the end of the document and don&apos;t try to extract it in the proper order with the regular content, I&apos;m not sure it makes sense to repeat the footer four times.&lt;/p&gt;</comment>
                            <comment id="14371656" author="msahyoun" created="Fri, 20 Mar 2015 17:16:59 +0000"  >&lt;p&gt;If you dump the AcroForm content then I&apos;d think it should only appear one time.&lt;/p&gt;</comment>
                            <comment id="14371667" author="tallison@mitre.org" created="Fri, 20 Mar 2015 17:21:47 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Therefore, we have another improvement with 1.8.9. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14371670" author="tallison@mitre.org" created="Fri, 20 Mar 2015 17:23:11 +0000"  >&lt;p&gt;Out of curiosity, how extensive would the calculations be to extract the AcroForm content in the &quot;correct&quot; order with the rest of the text?&lt;/p&gt;</comment>
                            <comment id="14371703" author="msahyoun" created="Fri, 20 Mar 2015 17:37:38 +0000"  >&lt;p&gt;to get the position the widget annotation associated with the field is relevant (i.e. the &apos;pure&apos; field doesn&apos;t have a location on a particular page). &lt;/p&gt;

&lt;p&gt;The annotation can be retrieved with &lt;tt&gt;getWidget()&lt;/tt&gt; if there is a single one or with &lt;tt&gt;getKids()&lt;/tt&gt; if there are multiple where with 1.8 you&apos;d also need to check if the kid is an instance of PDField or PDAnnotationWidget.&lt;/p&gt;

&lt;p&gt;Now, as you have the widget you can get the page it&apos;s on with the dictionaries &lt;tt&gt;/P&lt;/tt&gt; entry and the position with the &lt;tt&gt;/Rect&lt;/tt&gt; entry. &lt;/p&gt;</comment>
                            <comment id="14377905" author="tallison@mitre.org" created="Tue, 24 Mar 2015 14:07:03 +0000"  >&lt;p&gt;When I loosen the restriction to report all files that have any content diffs between 1.8.9 multithreaded vs 1.8.9 single threaded, there are 6 files with content diffs.&lt;/p&gt;

&lt;p&gt;I &lt;em&gt;think&lt;/em&gt; these can be explained by the static PDFont and clearing resources.  I post this only to share this information.  This should not be viewed as a blocker on 1.8.9&lt;/p&gt;</comment>
                            <comment id="14378362" author="tallison@mitre.org" created="Tue, 24 Mar 2015 18:50:33 +0000"  >&lt;p&gt;I looked into the lang id some more.  My initial suspicion was wrong.  In the few files I reviewed, the strings were exactly the same.  I&apos;m using cybozu lab&apos;s langdetect, and its algorithm relies on sampling via Random().  When I properly&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/help_16.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; set the seed before running the analysis, all lang ids were the same.&lt;/p&gt;</comment>
                            <comment id="14378386" author="tallison@mitre.org" created="Tue, 24 Mar 2015 19:05:29 +0000"  >&lt;p&gt;Stack traces from caught exceptions when comparing 1.8.9 single threaded vs. multithreaded.  The two columns are equal on this run...fortunately. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14383489" author="msahyoun" created="Fri, 27 Mar 2015 07:51:17 +0000"  >&lt;p&gt;I&apos;ve looked at the code - it&apos;s fine, nothing crazy in there.&lt;/p&gt;

&lt;p&gt;I hope to be able to make it easier to walk through the AcroForms field tree in a future release in the PDFBox 2.0 line.&lt;/p&gt;</comment>
                            <comment id="14385561" author="grossws" created="Sat, 28 Mar 2015 23:00:15 +0000"  >&lt;p&gt;What about updating to released pdfbox 1.8.9? &lt;/p&gt;

&lt;p&gt;Extracting from &lt;tt&gt;966679.pdf&lt;/tt&gt; (&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2261&quot; title=&quot;Extremely long hang during getFields() on a few PDF files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2261&quot;&gt;&lt;del&gt;PDFBOX-2261&lt;/del&gt;&lt;/a&gt;) hangs on trunk Tika w/ 1.8.8. And I see no difference when extracting &lt;tt&gt;10-814_Appendix B_v3.pdf&lt;/tt&gt;, so form extraction issue seems to be fixed.&lt;/p&gt;

&lt;p&gt;My questing is related to discuss about releasing Tika 1.8/1.7.1, see dev@ (&lt;a href=&quot;https://mail-archives.apache.org/mod_mbox/tika-dev/201503.mbox/%3CCAM%3DrFA6vvFV3XqpvSNCrubrVHhVO%3Dq%2BighPMRUkmA9f-fKkSXA%40mail.gmail.com%3E&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://mail-archives.apache.org/mod_mbox/tika-dev/201503.mbox/%3CCAM%3DrFA6vvFV3XqpvSNCrubrVHhVO%3Dq%2BighPMRUkmA9f-fKkSXA%40mail.gmail.com%3E&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="14385700" author="tallison@mitre.org" created="Sun, 29 Mar 2015 11:55:15 +0100"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14385796" author="hudson" created="Sun, 29 Mar 2015 15:49:25 +0100"  >&lt;p&gt;SUCCESS: Integrated in tika-trunk-jdk1.7 #581 (See &lt;a href=&quot;https://builds.apache.org/job/tika-trunk-jdk1.7/581/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/tika-trunk-jdk1.7/581/&lt;/a&gt;)&lt;br/&gt;
Update pdfbox to 1.8.9&lt;/p&gt;

&lt;p&gt;Fixes &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1575&quot; title=&quot;Upgrade to PDFBox 1.8.9 when available&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1575&quot;&gt;&lt;del&gt;TIKA-1575&lt;/del&gt;&lt;/a&gt; (grossws: &lt;a href=&quot;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1669912&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1669912&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/tika/trunk/tika-parsers/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310060">
                    <name>Container</name>
                                            <outwardlinks description="contains">
                                        <issuelink>
            <issuekey id="12787229">TIKA-1590</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12782065">PDFBOX-2710</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12705040" name="005937.pdf.json" size="9161" author="tallison@mitre.org" created="Tue, 17 Mar 2015 10:26:42 +0000"/>
                            <attachment id="12705071" name="005937_1_8_9-SNAPSHOT.pdf.json" size="10148" author="tallison@mitre.org" created="Tue, 17 Mar 2015 12:07:58 +0000"/>
                            <attachment id="12704444" name="10-814_Appendix B_v3.pdf" size="680626" author="tallison@mitre.org" created="Fri, 13 Mar 2015 15:19:23 +0000"/>
                            <attachment id="12705958" name="524276_719128_diffs.zip" size="55251" author="tallison@mitre.org" created="Fri, 20 Mar 2015 16:22:36 +0000"/>
                            <attachment id="12704441" name="PDFBox_1_8_8VPDFBox_1_8_9-SNAPSHOT.xlsx" size="291093" author="tallison@mitre.org" created="Fri, 13 Mar 2015 15:05:32 +0000"/>
                            <attachment id="12704442" name="PDFBox_1_8_8VPDFBox_1_8_9-SNAPSHOT_reports.zip" size="65593" author="tallison@mitre.org" created="Fri, 13 Mar 2015 15:05:32 +0000"/>
                            <attachment id="12704949" name="PDFBox_1_8_8Vs1_8_9_20150316.zip" size="51566" author="tallison@mitre.org" created="Tue, 17 Mar 2015 00:50:19 +0000"/>
                            <attachment id="12706975" name="caught_ex_1_8_9.zip" size="13003" author="tallison@mitre.org" created="Tue, 24 Mar 2015 19:05:29 +0000"/>
                            <attachment id="12704948" name="content_diffs_20150316.xlsx" size="41613" author="tallison@mitre.org" created="Tue, 17 Mar 2015 00:50:19 +0000"/>
                            <attachment id="12706913" name="diffs_1_8_9_multithread_vs_single_thread.xlsx" size="14591" author="tallison@mitre.org" created="Tue, 24 Mar 2015 14:07:03 +0000"/>
                            <attachment id="12705969" name="reports_1_8_9_multithread_vs_single.zip" size="54099" author="tallison@mitre.org" created="Fri, 20 Mar 2015 16:49:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 15 Mar 2015 12:34:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2|i00n1j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>